import{cI as b,cJ as h}from"./index-MBf2dn39.js";async function E(e,l=e.popupTemplate){var o,s;if(l==null)return[];const a=await l.getRequiredFields(e.fieldsIndex),{lastEditInfoEnabled:c}=l,{objectIdField:u,typeIdField:i,globalIdField:n,relationships:d}=e;if(a.includes("*"))return["*"];const r=c?b(e):[],p=h(e.fieldsIndex,[...a,...r]);return i&&p.push(i),p&&u&&((o=e.fieldsIndex)!=null&&o.has(u))&&!p.includes(u)&&p.push(u),p&&n&&((s=e.fieldsIndex)!=null&&s.has(n))&&!p.includes(n)&&p.push(n),d==null||d.forEach(m=>{var f;const{keyField:t}=m;p&&t&&((f=e.fieldsIndex)!=null&&f.has(t))&&!p.includes(t)&&p.push(t)}),p}function I(e,l){return e&&typeof e=="object"?l!=null&&l.checkPopupEnabled&&"popupEnabled"in e&&!e.popupEnabled?null:"popupTemplate"in e&&e.popupTemplate?e.popupTemplate:l!=null&&l.defaultPopupTemplateEnabled&&"defaultPopupTemplate"in e&&e.defaultPopupTemplate?e.defaultPopupTemplate:null:null}function x(e,l){return I(e,{defaultPopupTemplateEnabled:l})!=null}export{I as n,E as p,x as u};
