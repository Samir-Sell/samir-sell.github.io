const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/WhereClauseCache-Dg_GPz9G.js","assets/WhereClause-BLUj1zzY.js","assets/arcadeUtils-DpfdOn_H.js","assets/arcade-D-iaWm17.js","assets/arcadeEnvironment-CvLMulaA.js","assets/Dictionary-NGhaW8Ac.js","assets/ImmutableArray-BPVd6ESQ.js","assets/shared-CVO37gXY.js","assets/number-B4FxNY9t.js","assets/Feature-Buzk13Np.js","assets/featureConversionUtils-EJN74aAd.js","assets/OptimizedFeature-DZQc7bC2.js","assets/memoryEstimations-BuARpsWm.js","assets/OptimizedFeatureSet-BR8EEvDc.js","assets/aiServices-79Qlg4Di.js","assets/commonProperties-DHiB1uzW.js","assets/streamLayerUtils-DFlbJ4P1.js","assets/unitConversion-Dk-i6XiQ.js","assets/isImageryGraphicOrigin-Ccuhb4eK.js","assets/isImageryTileGraphicOrigin-ZR-gBf9D.js","assets/rasterFieldUtils-7AK77pMw.js","assets/batchExec-Dp3OOPn3.js","assets/QueueProcessor-D1i6OG9K.js","assets/IdentityManager-DzYwMU7A.js","assets/substitute-DcoREVx7.js","assets/portalLayers-CYysVuLo.js","assets/associatedFeatureServiceUtils-502o-jNE.js","assets/fetchService-Bn5GxT1b.js","assets/loadUtils-BHWd9MsJ.js","assets/lazyLayerLoader-CJDFDPrT.js","assets/arcgisLayers-Dw1KRMTV.js","assets/statsWorker-DuS_YYrH.js","assets/utils-DiCRixQl.js","assets/quantizationUtils-DI2yaq5I.js","assets/utils-d2NXf20b.js","assets/utils-BYSL-7DW.js","assets/ClassBreaksDefinition-C-Bsxx8_.js","assets/geometryEngineWorker-O9xIBdBG.js","assets/geometryEngineJSON-CVa9W4jg.js","assets/geometryEngineBase-DawRHyLc.js","assets/_commonjsHelpers-DCkdB7M8.js","assets/CSVSourceWorker-DGG2qfRQ.js","assets/date-Ctp1FiBW.js","assets/FeatureStore-tEeTR27I.js","assets/BoundsStore-BEkS1oih.js","assets/PooledRBush-CJRAy8I8.js","assets/timeSupport-CcaOSrrV.js","assets/queryUtils-Dyoua1gO.js","assets/optimizedFeatureQueryEngineAdapter-CqtLxbak.js","assets/QueryEngine-CA38kYHW.js","assets/SnappingCandidate-DGkpYqI6.js","assets/FixedIntervalBinParameters-BOr58IRa.js","assets/locationUtils-BZLH_6xB.js","assets/EdgeProcessingWorker-CPZnpvgL.js","assets/workerHelper-BiK82JSA.js","assets/InterleavedLayout-vpPYEpuS.js","assets/BufferView-DBjLs25I.js","assets/types-BKo2foNY.js","assets/VertexElementDescriptor-BLyltQyJ.js","assets/VertexAttributeLocations-BfZbt_DV.js","assets/edgeProcessing-DBqtaTB-.js","assets/deduplicate-Dz5xoJqP.js","assets/Indices-BxPxWvYv.js","assets/Normals-nFrW6UC4.js","assets/ElevationSamplerWorker-Dc2prRQg.js","assets/MeshLocalVertexSpace-_1YPY4Fu.js","assets/vertexSpaceConversion-Cxa977mj.js","assets/spatialReferenceEllipsoidUtils-TA2jZp1W.js","assets/computeTranslationToOriginAndRotation-qxqQH6x4.js","assets/projectPointToVector-Da5prUx6.js","assets/meshVertexSpaceUtils-2BgpTkRg.js","assets/vec3-Dme8xZdx.js","assets/vec4-BcrK8TVr.js","assets/FeatureServiceSnappingSourceWorker-By4d7N9R.js","assets/symbologySnappingCandidates-DuoYwUUE.js","assets/pbfQueryUtils-CxxSS6PF.js","assets/pbf-A-rWXvPH.js","assets/query-pkFcxR7F.js","assets/queryZScale-oKCF0W-Q.js","assets/GeoJSONSourceWorker-BJTaR_FR.js","assets/geojson-BFTXwV99.js","assets/sourceUtils-Caa2VjCO.js","assets/MemorySourceWorker-altx5idM.js","assets/objectIdUtils-4dd1rf9p.js","assets/PBFDecoderWorker-C-SzhF3c.js","assets/dehydratedFeatures-BBCwsjNy.js","assets/FeaturePipelineWorker-C8XMdpSx.js","assets/AttributeStore-B-Z2uGD1.js","assets/Utils-Br1cFQrC.js","assets/BoundingBox-CnO6W1SQ.js","assets/UpdateTracking2D-DYb-2URb.js","assets/FeatureStoreQueryAdapter-Baa8CsW1.js","assets/labelPoint-DK2hVi9h.js","assets/constants-BBnGEY1d.js","assets/MeshWriterRegistry-B7I0uCL7.js","assets/rasterizingUtils-DFXoljLH.js","assets/CIMSymbolHelper-pbZ-g9TT.js","assets/BidiEngine-BvER9tXK.js","assets/GeometryUtils-BdiDTV35.js","assets/Rect-CUzevAry.js","assets/TexturedLineMeshWriter-Dveyk2-i.js","assets/TurboLine-CdPbFsj1.js","assets/grouping-C-rtIF4W.js","assets/FeatureMetadata-CXisA8jd.js","assets/SourceChunkStore-uUTrPrvW.js","assets/parquet-DAmfmbmh.js","assets/operatorGeodeticDensify-Cswagrth.js","assets/SimpleGeometryCursor-B92kdZ15.js","assets/geodeticCurveType-CirnHLSB.js","assets/normalizeUtilsSync-DMvX4_Je.js","assets/FeatureIdInfo-DZ1cHnof.js","assets/ogcFeatureUtils-a0d3oeWi.js","assets/CircularArray-CujHzHWW.js","assets/createConnection-DV8wkGbU.js","assets/PointCloudWorker-Tg-igL9_.js","assets/quat-Cg5E8zu1.js","assets/quatf64-aQ5IuZRd.js","assets/vec3f32-WCVSSNPR.js","assets/PointCloudUniqueValueRenderer-BiLjZaBX.js","assets/I3SBinaryReader-C8bMYOsR.js","assets/orientedBoundingBox-CQhBqYM9.js","assets/plane-CHZ5DRsO.js","assets/vectorStacks-FDpaluyS.js","assets/RasterWorker-BhdQ60GE.js","assets/PixelBlock-UfVM0UcW.js","assets/RasterSymbolizer-BuE5NFtJ.js","assets/vectorFieldUtils-Cly0bND4.js","assets/colorUtils-BHqObHps.js","assets/rasterFunctionHelper-DfZHLN5g.js","assets/clipUtils-5oQEXDe6.js","assets/rasterProjectionHelper-CspZoo_U.js","assets/PolynomialTransform-_e47kBws.js","assets/dataUtils-Dw_XcDfF.js","assets/SceneLayerSnappingSourceWorker-XRQdRtkn.js","assets/lineSegment-CI3s8yjn.js","assets/sphere-D3KbiXJA.js","assets/Octree-Bahqc72t.js","assets/frustum-BC_nHy2p.js","assets/SceneLayerWorker-b09YGncz.js","assets/projectVectorToVector-CUkUwJWW.js","assets/WFSSourceWorker-C-yxIU2T.js","assets/wfsUtils-DU2IQZK4.js","assets/xmlUtils-CtUoQO7q.js","assets/WorkerTileHandler-x-Py-TE9.js","assets/constants-BHYAGdRm.js","assets/config-BOD8--da.js","assets/SourceLayerData-tRqFFEhM.js","assets/StyleRepository-Dz8KBdTe.js","assets/earcut-D9gy186-.js","assets/Feature3DPipelineWorker-D8QlhZDL.js","assets/HUDMaterial.glsl-Cgu4Rpny.js","assets/hydratedFeatures-BOjBMF36.js","assets/OutputColorHighlightOID.glsl-Cz_NcCxL.js","assets/triangle-D2MUg9CC.js","assets/renderState-CKc66y4x.js","assets/glsl-B5bJgrnA.js","assets/ShaderBuilder-NbZjIzb_.js","assets/placementUtils-BJIc9ODV.js","assets/sdfPrimitives-a5J9KRH4.js","assets/Texture-D80Zr6PZ.js","assets/videoUtils-tYcgoQmb.js","assets/requestImageUtils-BMPK1Nc9.js","assets/RealisticTree.glsl-D7LLxTU_.js","assets/DefaultMaterial-CZYb5hXq.js","assets/VertexBuffer-BzyzjO1J.js","assets/BufferObject-CMx1mIbr.js","assets/boundedPlane-CHF2xRg2.js","assets/FlowWorker-xFC7R67t.js","assets/ParquetSourceWorker-DO3BubVl.js","assets/parquetUtils-D31q6lYT.js","assets/PanoramicMeshWorker-DbuNa_TO.js","assets/ElevationLayer-Byy5sLYE.js","assets/ArcGISCachedService-B0YvhZab.js","assets/TileInfoTilemapCache-BQMQzKbJ.js","assets/TilemapCache-DfJIEuVa.js","assets/ArcGISService-XLbR7AYQ.js","assets/WorkerHandle-B1L-7Le2.js","assets/webStyleSymbolUtils-BhThXqGJ.js","assets/devEnvironmentUtils-CnNDiFMM.js","assets/editingSupport-CmVK-rpq.js","assets/EditBusLayer-Dx6oAYaY.js","assets/infoFor3D-dHKPbXlj.js","assets/OverrideHelper-BZnpSK-Z.js","assets/callExpressionWithFeature-CyXx1J3P.js","assets/projectOperator-CZY_vixb.js","assets/operatorProject-CTRRlZ2v.js","assets/projectOperator-BRtRWmOh.js","assets/layersLoader-CgUO8Ouo.js","assets/jsonContext-BNQ3Ku4W.js","assets/styleUtils-BlHpxmrO.js","assets/AttributeBinsQuery-CsQJ0doN.js","assets/layersCreator-Ci2s-HvX.js","assets/ElevationQuery-qyEmJewh.js","assets/GeometryDescriptor-GixbsTgK.js","assets/Popup-DjrvINJV.js","assets/throttle-CJFJsAlx.js","assets/unitFormatUtils-_e-JnS8p.js","assets/quantityUtils--MPJMVTt.js","assets/AttachmentInfo-Dus_Emgm.js","assets/featureUtils-DgnLcOKK.js","assets/utils-D7PmY0TU.js","assets/cimSymbolUtils-CCd-QL-q.js","assets/executeQueryJSON-B_lgK48e.js","assets/FeatureLayer-CeqLg4L4.js","assets/FormTemplate-DkR-8H-g.js","assets/editsZScale-C5hSPBDI.js","assets/APIKeyMixin-D9W0Es7c.js","assets/FeatureLayerBase-CB2rF-R8.js","assets/LayerFloorInfo-BojoEOzw.js","assets/multiLayerServiceUtils-D08PSZUs.js","assets/Relationship-Do7Wk69e.js","assets/serviceCapabilitiesUtils-q5-ZQeMO.js","assets/FeatureType-VvXWu0PX.js","assets/TitleCreator-Cjgfylqh.js","assets/versionUtils-Be1CPGhW.js","assets/NetworkElement-aznRssbq.js","assets/ReactiveSet-CnMBhNJM.js","assets/symbolUtils-BR8rNHPQ.js","assets/layerViewUtils-BqNirJ-T.js","assets/geometryServiceUtils-CekgOBYB.js","assets/project-D4OWmJE5.js","assets/webglDeps-DVLgK6Cn.js","assets/FramebufferObject-Z2aZjTOw.js","assets/ProgramTemplate-C8-jn0vQ.js","assets/VertexArrayObject-BuNjs0EH.js","assets/mapViewDeps-Cb5Jf8Du.js","assets/FeatureCommandQueue-8002fx2w.js","assets/GraphShaderModule-DKA5cefa.js","assets/utils-B1Lfv1uX.js","assets/WGLContainer-CiooKvL7.js","assets/Container-BWi-iLOI.js","assets/SDFHelper-B1er7LRK.js","assets/GridShader-BahekOmY.js","assets/testSVGPremultipliedAlpha-jZgdXNXe.js","assets/SymbolFader-DCMBeYQW.js","assets/RenderingContext-BTyWQ4Yl.js","assets/CIMResourceManager-DVkF2mpp.js","assets/utils-CFOmVbcA.js","assets/utils-DDjZAYSk.js","assets/GraphicsView2D-C0MTf7LJ.js","assets/GraphicContainer-DUKa4N6f.js","assets/AGraphicContainer-JE07M_cz.js","assets/TechniqueInstance-C9-LTKar.js","assets/TileContainer-SL6W3s49.js","assets/gridUtils-BnnkSEIc.js","assets/geodesicUtils-DvYP7wGZ.js","assets/TileLayerView2D-ZaRq_6Hd.js","assets/imageUtils-CoYqLHjn.js","assets/BitmapTechnique-D5B8LIT3.js","assets/bitmapUtils-BZCUp5qz.js","assets/LayerView2D-4y2nsEJN.js","assets/HighlightGraphicContainer-CO3JxeB-.js","assets/LayerView-CQLKpZSY.js","assets/RefreshableLayerView-e-L_vBt4.js","assets/MapServiceLayerViewHelper-Di_sHLmg.js","assets/floorFilterUtils-DZ5C6FQv.js","assets/drapedUtils-bhNfuYV6.js","assets/sublayerUtils-CLrdRyiA.js","assets/popupUtils-BKUEFOH1.js","assets/highlightOptionsUtils-Btai6AEs.js","assets/FeatureLayerView2D-ZiZr76S6.js","assets/timeSupport-DDKKW3-F.js","assets/AttributeBinsFeatureSet-DMtXcRWg.js","assets/constants-SxxbBSOD.js","assets/BaseDynamicLayerView2D-Chfy0W7n.js","assets/BitmapContainer-s9qsOza8.js","assets/ExportStrategy-OiEWCUCL.js","assets/CatalogLayerView2D-DQn5okCS.js","assets/CatalogDynamicGroupLayerView2D-Cs3l_e8R.js","assets/CatalogFootprintLayerView2D-RJbN6pmq.js","assets/GeoRSSLayerView2D-BZyEd-w8.js","assets/GraphicsLayerView2D-B55DTKr8.js","assets/GroupLayerView2D-FM0228ad.js","assets/ImageryLayerView2D-DK-J6u9B.js","assets/RasterVFDisplayObject-QXlAg60l.js","assets/ImageryTileLayerView2D-CYsvtf7n.js","assets/datasetUtils-wsCYDyHj.js","assets/rasterUtils-D2t0CiBP.js","assets/RawBlockCache-Ba0Rjzjg.js","assets/KMLLayerView2D-D9IevSnd.js","assets/kmlUtils-aD3jRYDg.js","assets/KnowledgeGraphLayerView2D-Cg8CM1vf.js","assets/MapImageLayerView2D-KviH8plu.js","assets/ExportImageParameters-DOkFJYU0.js","assets/MapNotesLayerView2D-DifDUFNf.js","assets/MediaLayerView2D-0n1ub5gM.js","assets/mediaLayerUtils-CN-STNVq.js","assets/OverlayContainer-BIa8pW4D.js","assets/OGCFeatureLayerView2D-CueFD4-q.js","assets/RouteLayerView2D-IbGPazZ1.js","assets/Stop-pTFeizbd.js","assets/networkEnums-BKR8DbWL.js","assets/StreamLayerView2D-CtqgDjyh.js","assets/SubtypeGroupLayerView2D-BDwPPtqs.js","assets/VectorTileLayerView2D-Dk2flrRO.js","assets/VideoLayerView2D-BgvKiRhG.js","assets/GraphicsLayer-BIrFIWtB.js","assets/videoUtils-Bcox3NU7.js","assets/ControlPoint-CTNVQs8M.js","assets/WMSLayerView2D-BFqt9qJo.js","assets/ExportWMSImageParameters-DGnn2MOD.js","assets/WMTSLayerView2D-Bam0ZGAZ.js","assets/ElevationProfileAnalysisView2D-DjlFPuul.js","assets/createUtils-DZseBszn.js","assets/distanceOperator-BhoDlB-T.js","assets/Point2D-AUu76-L_.js","assets/Distance2DCalculator-CXhBP-8I-C6YEsL9I.js","assets/ProjectionTransformation-BUhB7DDV.js","assets/Envelope2D-DXBkavsi.js","assets/Transformation2D-481oZy9q.js","assets/OperatorDefinitions-DP7_WWTp.js","assets/apiConverter-DR_k7Lmf.js","assets/jsonConverter-5FOGD3Bo.js","assets/simplifyOperator-BSqjeUXx.js","assets/operatorSimplify-B9maR3AN.js","assets/mapCollectionUtils-j9HiwLRa.js","assets/elevationInfoUtils-BM72ayWP.js","assets/getDefaultUnitForView-4IxwBIsf.js","assets/SketchViewModel-CDG88zUb.js","assets/hitTestSelectUtils-BsKptNfF.js","assets/geodeticLengthOperator-gBq3iOkE.js","assets/apng-CFgISpGz.js","assets/index-3kA0jplO.js","assets/index-BPAPJRES.js","assets/guid-DlHjpvET.js","assets/useT9n-BOvs3EzM.js","assets/index-CR3wLM6N.js","assets/index-ByXCr-AF.js","assets/dom-Bv2zW_JJ.js","assets/observers-Dt2S3OdY.js","assets/ref-CNBjDrl-.js","assets/static-DnP0AFzd.js","assets/form-CMBYpXpb.js","assets/interactive-BawwJk0g.js","assets/label-CHfzEdmp.js","assets/useSetFocus-mMXVUoq8.js"])))=>i.map(i=>d[i]);
var $re=Object.getPrototypeOf;var Mre=Reflect.get;var PN=t=>{throw TypeError(t)};var bM=(t,e,i)=>e.has(t)||PN("Cannot "+i);var me=(t,e,i)=>(bM(t,e,"read from private field"),i?i.call(t):e.get(t)),Rt=(t,e,i)=>e.has(t)?PN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),xt=(t,e,i,r)=>(bM(t,e,"write to private field"),r?r.call(t,i):e.set(t,i),i),Vu=(t,e,i)=>(bM(t,e,"access private method"),i);var jN=(t,e,i)=>Mre($re(t),i,e);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function i(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=i(s);fetch(s.href,n)}})();function Ere(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _M={exports:{}},$0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NN;function Are(){if(NN)return $0;NN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,s,n){var o=null;if(n!==void 0&&(o=""+n),s.key!==void 0&&(o=""+s.key),"key"in s){n={};for(var l in s)l!=="key"&&(n[l]=s[l])}else n=s;return s=n.ref,{$$typeof:t,type:r,key:o,ref:s!==void 0?s:null,props:n}}return $0.Fragment=e,$0.jsx=i,$0.jsxs=i,$0}var DN;function Ore(){return DN||(DN=1,_M.exports=Are()),_M.exports}var E=Ore(),SM={exports:{}},M0={},xM={exports:{}},TM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LN;function kre(){return LN||(LN=1,function(t){function e(fe,ve){var de=fe.length;fe.push(ve);e:for(;0<de;){var We=de-1>>>1,L=fe[We];if(0<s(L,ve))fe[We]=ve,fe[de]=L,de=We;else break e}}function i(fe){return fe.length===0?null:fe[0]}function r(fe){if(fe.length===0)return null;var ve=fe[0],de=fe.pop();if(de!==ve){fe[0]=de;e:for(var We=0,L=fe.length,he=L>>>1;We<he;){var Ue=2*(We+1)-1,Fe=fe[Ue],Te=Ue+1,ht=fe[Te];if(0>s(Fe,de))Te<L&&0>s(ht,Fe)?(fe[We]=ht,fe[Te]=de,We=Te):(fe[We]=Fe,fe[Ue]=de,We=Ue);else if(Te<L&&0>s(ht,de))fe[We]=ht,fe[Te]=de,We=Te;else break e}}return ve}function s(fe,ve){var de=fe.sortIndex-ve.sortIndex;return de!==0?de:fe.id-ve.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var n=performance;t.unstable_now=function(){return n.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],m=1,v=null,w=3,_=!1,x=!1,T=!1,$=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function R(fe){for(var ve=i(d);ve!==null;){if(ve.callback===null)r(d);else if(ve.startTime<=fe)r(d),ve.sortIndex=ve.expirationTime,e(c,ve);else break;ve=i(d)}}function N(fe){if(T=!1,R(fe),!x)if(i(c)!==null)x=!0,Ce();else{var ve=i(d);ve!==null&&pt(N,ve.startTime-fe)}}var j=!1,z=-1,ee=5,Q=-1;function J(){return!(t.unstable_now()-Q<ee)}function te(){if(j){var fe=t.unstable_now();Q=fe;var ve=!0;try{e:{x=!1,T&&(T=!1,O(z),z=-1),_=!0;var de=w;try{t:{for(R(fe),v=i(c);v!==null&&!(v.expirationTime>fe&&J());){var We=v.callback;if(typeof We=="function"){v.callback=null,w=v.priorityLevel;var L=We(v.expirationTime<=fe);if(fe=t.unstable_now(),typeof L=="function"){v.callback=L,R(fe),ve=!0;break t}v===i(c)&&r(c),R(fe)}else r(c);v=i(c)}if(v!==null)ve=!0;else{var he=i(d);he!==null&&pt(N,he.startTime-fe),ve=!1}}break e}finally{v=null,w=de,_=!1}ve=void 0}}finally{ve?pe():j=!1}}}var pe;if(typeof C=="function")pe=function(){C(te)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Xe=ye.port2;ye.port1.onmessage=te,pe=function(){Xe.postMessage(null)}}else pe=function(){$(te,0)};function Ce(){j||(j=!0,pe())}function pt(fe,ve){z=$(function(){fe(t.unstable_now())},ve)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(fe){fe.callback=null},t.unstable_continueExecution=function(){x||_||(x=!0,Ce())},t.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<fe?Math.floor(1e3/fe):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(fe){switch(w){case 1:case 2:case 3:var ve=3;break;default:ve=w}var de=w;w=ve;try{return fe()}finally{w=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(fe,ve){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var de=w;w=fe;try{return ve()}finally{w=de}},t.unstable_scheduleCallback=function(fe,ve,de){var We=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?We+de:We):de=We,fe){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=de+L,fe={id:m++,callback:ve,priorityLevel:fe,startTime:de,expirationTime:L,sortIndex:-1},de>We?(fe.sortIndex=de,e(d,fe),i(c)===null&&fe===i(d)&&(T?(O(z),z=-1):T=!0,pt(N,de-We))):(fe.sortIndex=L,e(c,fe),x||_||(x=!0,Ce())),fe},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(fe){var ve=w;return function(){var de=w;w=ve;try{return fe.apply(this,arguments)}finally{w=de}}}}(TM)),TM}var VN;function Cre(){return VN||(VN=1,xM.exports=kre()),xM.exports}var $M={exports:{}},et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FN;function Rre(){if(FN)return et;FN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),n=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function w(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,T={};function $(L,he,Ue){this.props=L,this.context=he,this.refs=T,this.updater=Ue||_}$.prototype.isReactComponent={},$.prototype.setState=function(L,he){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,he,"setState")},$.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function O(){}O.prototype=$.prototype;function C(L,he,Ue){this.props=L,this.context=he,this.refs=T,this.updater=Ue||_}var R=C.prototype=new O;R.constructor=C,x(R,$.prototype),R.isPureReactComponent=!0;var N=Array.isArray,j={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function ee(L,he,Ue,Fe,Te,ht){return Ue=ht.ref,{$$typeof:t,type:L,key:he,ref:Ue!==void 0?Ue:null,props:ht}}function Q(L,he){return ee(L.type,he,void 0,void 0,void 0,L.props)}function J(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function te(L){var he={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(Ue){return he[Ue]})}var pe=/\/+/g;function ye(L,he){return typeof L=="object"&&L!==null&&L.key!=null?te(""+L.key):he.toString(36)}function Xe(){}function Ce(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(Xe,Xe):(L.status="pending",L.then(function(he){L.status==="pending"&&(L.status="fulfilled",L.value=he)},function(he){L.status==="pending"&&(L.status="rejected",L.reason=he)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function pt(L,he,Ue,Fe,Te){var ht=typeof L;(ht==="undefined"||ht==="boolean")&&(L=null);var Qe=!1;if(L===null)Qe=!0;else switch(ht){case"bigint":case"string":case"number":Qe=!0;break;case"object":switch(L.$$typeof){case t:case e:Qe=!0;break;case m:return Qe=L._init,pt(Qe(L._payload),he,Ue,Fe,Te)}}if(Qe)return Te=Te(L),Qe=Fe===""?"."+ye(L,0):Fe,N(Te)?(Ue="",Qe!=null&&(Ue=Qe.replace(pe,"$&/")+"/"),pt(Te,he,Ue,"",function(pi){return pi})):Te!=null&&(J(Te)&&(Te=Q(Te,Ue+(Te.key==null||L&&L.key===Te.key?"":(""+Te.key).replace(pe,"$&/")+"/")+Qe)),he.push(Te)),1;Qe=0;var br=Fe===""?".":Fe+":";if(N(L))for(var bt=0;bt<L.length;bt++)Fe=L[bt],ht=br+ye(Fe,bt),Qe+=pt(Fe,he,Ue,ht,Te);else if(bt=w(L),typeof bt=="function")for(L=bt.call(L),bt=0;!(Fe=L.next()).done;)Fe=Fe.value,ht=br+ye(Fe,bt++),Qe+=pt(Fe,he,Ue,ht,Te);else if(ht==="object"){if(typeof L.then=="function")return pt(Ce(L),he,Ue,Fe,Te);throw he=String(L),Error("Objects are not valid as a React child (found: "+(he==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":he)+"). If you meant to render a collection of children, use an array instead.")}return Qe}function fe(L,he,Ue){if(L==null)return L;var Fe=[],Te=0;return pt(L,Fe,"","",function(ht){return he.call(Ue,ht,Te++)}),Fe}function ve(L){if(L._status===-1){var he=L._result;he=he(),he.then(function(Ue){(L._status===0||L._status===-1)&&(L._status=1,L._result=Ue)},function(Ue){(L._status===0||L._status===-1)&&(L._status=2,L._result=Ue)}),L._status===-1&&(L._status=0,L._result=he)}if(L._status===1)return L._result.default;throw L._result}var de=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var he=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(he))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function We(){}return et.Children={map:fe,forEach:function(L,he,Ue){fe(L,function(){he.apply(this,arguments)},Ue)},count:function(L){var he=0;return fe(L,function(){he++}),he},toArray:function(L){return fe(L,function(he){return he})||[]},only:function(L){if(!J(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},et.Component=$,et.Fragment=i,et.Profiler=s,et.PureComponent=C,et.StrictMode=r,et.Suspense=c,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,et.act=function(){throw Error("act(...) is not supported in production builds of React.")},et.cache=function(L){return function(){return L.apply(null,arguments)}},et.cloneElement=function(L,he,Ue){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var Fe=x({},L.props),Te=L.key,ht=void 0;if(he!=null)for(Qe in he.ref!==void 0&&(ht=void 0),he.key!==void 0&&(Te=""+he.key),he)!z.call(he,Qe)||Qe==="key"||Qe==="__self"||Qe==="__source"||Qe==="ref"&&he.ref===void 0||(Fe[Qe]=he[Qe]);var Qe=arguments.length-2;if(Qe===1)Fe.children=Ue;else if(1<Qe){for(var br=Array(Qe),bt=0;bt<Qe;bt++)br[bt]=arguments[bt+2];Fe.children=br}return ee(L.type,Te,void 0,void 0,ht,Fe)},et.createContext=function(L){return L={$$typeof:o,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:n,_context:L},L},et.createElement=function(L,he,Ue){var Fe,Te={},ht=null;if(he!=null)for(Fe in he.key!==void 0&&(ht=""+he.key),he)z.call(he,Fe)&&Fe!=="key"&&Fe!=="__self"&&Fe!=="__source"&&(Te[Fe]=he[Fe]);var Qe=arguments.length-2;if(Qe===1)Te.children=Ue;else if(1<Qe){for(var br=Array(Qe),bt=0;bt<Qe;bt++)br[bt]=arguments[bt+2];Te.children=br}if(L&&L.defaultProps)for(Fe in Qe=L.defaultProps,Qe)Te[Fe]===void 0&&(Te[Fe]=Qe[Fe]);return ee(L,ht,void 0,void 0,null,Te)},et.createRef=function(){return{current:null}},et.forwardRef=function(L){return{$$typeof:l,render:L}},et.isValidElement=J,et.lazy=function(L){return{$$typeof:m,_payload:{_status:-1,_result:L},_init:ve}},et.memo=function(L,he){return{$$typeof:d,type:L,compare:he===void 0?null:he}},et.startTransition=function(L){var he=j.T,Ue={};j.T=Ue;try{var Fe=L(),Te=j.S;Te!==null&&Te(Ue,Fe),typeof Fe=="object"&&Fe!==null&&typeof Fe.then=="function"&&Fe.then(We,de)}catch(ht){de(ht)}finally{j.T=he}},et.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},et.use=function(L){return j.H.use(L)},et.useActionState=function(L,he,Ue){return j.H.useActionState(L,he,Ue)},et.useCallback=function(L,he){return j.H.useCallback(L,he)},et.useContext=function(L){return j.H.useContext(L)},et.useDebugValue=function(){},et.useDeferredValue=function(L,he){return j.H.useDeferredValue(L,he)},et.useEffect=function(L,he){return j.H.useEffect(L,he)},et.useId=function(){return j.H.useId()},et.useImperativeHandle=function(L,he,Ue){return j.H.useImperativeHandle(L,he,Ue)},et.useInsertionEffect=function(L,he){return j.H.useInsertionEffect(L,he)},et.useLayoutEffect=function(L,he){return j.H.useLayoutEffect(L,he)},et.useMemo=function(L,he){return j.H.useMemo(L,he)},et.useOptimistic=function(L,he){return j.H.useOptimistic(L,he)},et.useReducer=function(L,he,Ue){return j.H.useReducer(L,he,Ue)},et.useRef=function(L){return j.H.useRef(L)},et.useState=function(L){return j.H.useState(L)},et.useSyncExternalStore=function(L,he,Ue){return j.H.useSyncExternalStore(L,he,Ue)},et.useTransition=function(){return j.H.useTransition()},et.version="19.0.0",et}var zN;function iC(){return zN||(zN=1,$M.exports=Rre()),$M.exports}var MM={exports:{}},Pr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UN;function Ire(){if(UN)return Pr;UN=1;var t=iC();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");function n(c,d,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:c,containerInfo:d,implementation:m}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Pr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Pr.createPortal=function(c,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return n(c,d,null,m)},Pr.flushSync=function(c){var d=o.T,m=r.p;try{if(o.T=null,r.p=2,c)return c()}finally{o.T=d,r.p=m,r.d.f()}},Pr.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},Pr.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Pr.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var m=d.as,v=l(m,d.crossOrigin),w=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:_}):m==="script"&&r.d.X(c,{crossOrigin:v,integrity:w,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Pr.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=l(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},Pr.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,v=l(m,d.crossOrigin);r.d.L(c,m,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Pr.preloadModule=function(c,d){if(typeof c=="string")if(d){var m=l(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},Pr.requestFormReset=function(c){r.d.r(c)},Pr.unstable_batchedUpdates=function(c,d){return c(d)},Pr.useFormState=function(c,d,m){return o.H.useFormState(c,d,m)},Pr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Pr.version="19.0.0",Pr}var qN;function Pre(){if(qN)return MM.exports;qN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),MM.exports=Ire(),MM.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BN;function jre(){if(BN)return M0;BN=1;var t=Cre(),e=iC(),i=Pre();function r(a){var u="https://react.dev/errors/"+a;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}var n=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),_=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),N=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function z(a){return a===null||typeof a!="object"?null:(a=j&&a[j]||a["@@iterator"],typeof a=="function"?a:null)}var ee=Symbol.for("react.client.reference");function Q(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ee?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case c:return"Fragment";case l:return"Portal";case m:return"Profiler";case d:return"StrictMode";case T:return"Suspense";case $:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case _:return(a.displayName||"Context")+".Provider";case w:return(a._context.displayName||"Context")+".Consumer";case x:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case O:return u=a.displayName||null,u!==null?u:Q(a.type)||"Memo";case C:u=a._payload,a=a._init;try{return Q(a(u))}catch{}}return null}var J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=Object.assign,pe,ye;function Xe(a){if(pe===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);pe=u&&u[1]||"",ye=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+a+ye}var Ce=!1;function pt(a,u){if(!a||Ce)return"";Ce=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(u){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ie){var K=ie}Reflect.construct(a,[],ue)}else{try{ue.call()}catch(ie){K=ie}a.call(ue.prototype)}}else{try{throw Error()}catch(ie){K=ie}(ue=a())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ie){if(ie&&K&&typeof ie.stack=="string")return[ie.stack,K.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=g.DetermineComponentFrameRoot(),M=S[0],k=S[1];if(M&&k){var D=M.split(`
`),U=k.split(`
`);for(b=g=0;g<D.length&&!D[g].includes("DetermineComponentFrameRoot");)g++;for(;b<U.length&&!U[b].includes("DetermineComponentFrameRoot");)b++;if(g===D.length||b===U.length)for(g=D.length-1,b=U.length-1;1<=g&&0<=b&&D[g]!==U[b];)b--;for(;1<=g&&0<=b;g--,b--)if(D[g]!==U[b]){if(g!==1||b!==1)do if(g--,b--,0>b||D[g]!==U[b]){var ne=`
`+D[g].replace(" at new "," at ");return a.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",a.displayName)),ne}while(1<=g&&0<=b);break}}}finally{Ce=!1,Error.prepareStackTrace=p}return(p=a?a.displayName||a.name:"")?Xe(p):""}function fe(a){switch(a.tag){case 26:case 27:case 5:return Xe(a.type);case 16:return Xe("Lazy");case 13:return Xe("Suspense");case 19:return Xe("SuspenseList");case 0:case 15:return a=pt(a.type,!1),a;case 11:return a=pt(a.type.render,!1),a;case 1:return a=pt(a.type,!0),a;default:return""}}function ve(a){try{var u="";do u+=fe(a),a=a.return;while(a);return u}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function de(a){var u=a,p=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(p=u.return),a=u.return;while(a)}return u.tag===3?p:null}function We(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function L(a){if(de(a)!==a)throw Error(r(188))}function he(a){var u=a.alternate;if(!u){if(u=de(a),u===null)throw Error(r(188));return u!==a?null:a}for(var p=a,g=u;;){var b=p.return;if(b===null)break;var S=b.alternate;if(S===null){if(g=b.return,g!==null){p=g;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===p)return L(b),a;if(S===g)return L(b),u;S=S.sibling}throw Error(r(188))}if(p.return!==g.return)p=b,g=S;else{for(var M=!1,k=b.child;k;){if(k===p){M=!0,p=b,g=S;break}if(k===g){M=!0,g=b,p=S;break}k=k.sibling}if(!M){for(k=S.child;k;){if(k===p){M=!0,p=S,g=b;break}if(k===g){M=!0,g=S,p=b;break}k=k.sibling}if(!M)throw Error(r(189))}}if(p.alternate!==g)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?a:u}function Ue(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a;for(a=a.child;a!==null;){if(u=Ue(a),u!==null)return u;a=a.sibling}return null}var Fe=Array.isArray,Te=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Qe=[],br=-1;function bt(a){return{current:a}}function pi(a){0>br||(a.current=Qe[br],Qe[br]=null,br--)}function Lt(a,u){br++,Qe[br]=a.current,a.current=u}var xn=bt(null),lh=bt(null),ta=bt(null),kp=bt(null);function Cp(a,u){switch(Lt(ta,u),Lt(lh,a),Lt(xn,null),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)&&(u=u.namespaceURI)?uN(u):0;break;default:if(a=a===8?u.parentNode:u,u=a.tagName,a=a.namespaceURI)a=uN(a),u=cN(a,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}pi(xn),Lt(xn,u)}function fu(){pi(xn),pi(lh),pi(ta)}function kg(a){a.memoizedState!==null&&Lt(kp,a);var u=xn.current,p=cN(u,a.type);u!==p&&(Lt(lh,a),Lt(xn,p))}function Rp(a){lh.current===a&&(pi(xn),pi(lh)),kp.current===a&&(pi(kp),b0._currentValue=ht)}var Ip=Object.prototype.hasOwnProperty,Pp=t.unstable_scheduleCallback,Tn=t.unstable_cancelCallback,n3=t.unstable_shouldYield,o3=t.unstable_requestPaint,$n=t.unstable_now,a3=t.unstable_getCurrentPriorityLevel,Jw=t.unstable_ImmediatePriority,Kw=t.unstable_UserBlockingPriority,jp=t.unstable_NormalPriority,pI=t.unstable_LowPriority,Xw=t.unstable_IdlePriority,l3=t.log,u3=t.unstable_setDisableYieldValue,uh=null,es=null;function c3(a){if(es&&typeof es.onCommitFiberRoot=="function")try{es.onCommitFiberRoot(uh,a,void 0,(a.current.flags&128)===128)}catch{}}function ia(a){if(typeof l3=="function"&&u3(a),es&&typeof es.setStrictMode=="function")try{es.setStrictMode(uh,a)}catch{}}var ts=Math.clz32?Math.clz32:p3,h3=Math.log,d3=Math.LN2;function p3(a){return a>>>=0,a===0?32:31-(h3(a)/d3|0)|0}var Np=128,Dp=4194304;function Ba(a){var u=a&42;if(u!==0)return u;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Lp(a,u){var p=a.pendingLanes;if(p===0)return 0;var g=0,b=a.suspendedLanes,S=a.pingedLanes,M=a.warmLanes;a=a.finishedLanes!==0;var k=p&134217727;return k!==0?(p=k&~b,p!==0?g=Ba(p):(S&=k,S!==0?g=Ba(S):a||(M=k&~M,M!==0&&(g=Ba(M))))):(k=p&~b,k!==0?g=Ba(k):S!==0?g=Ba(S):a||(M=p&~M,M!==0&&(g=Ba(M)))),g===0?0:u!==0&&u!==g&&(u&b)===0&&(b=g&-g,M=u&-u,b>=M||b===32&&(M&4194176)!==0)?u:g}function ch(a,u){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&u)===0}function f3(a,u){switch(a){case 1:case 2:case 4:case 8:return u+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X(){var a=Np;return Np<<=1,(Np&4194176)===0&&(Np=128),a}function Pt(){var a=Dp;return Dp<<=1,(Dp&62914560)===0&&(Dp=4194304),a}function ra(a){for(var u=[],p=0;31>p;p++)u.push(a);return u}function fo(a,u){a.pendingLanes|=u,u!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Ks(a,u,p,g,b,S){var M=a.pendingLanes;a.pendingLanes=p,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=p,a.entangledLanes&=p,a.errorRecoveryDisabledLanes&=p,a.shellSuspendCounter=0;var k=a.entanglements,D=a.expirationTimes,U=a.hiddenUpdates;for(p=M&~p;0<p;){var ne=31-ts(p),ue=1<<ne;k[ne]=0,D[ne]=-1;var K=U[ne];if(K!==null)for(U[ne]=null,ne=0;ne<K.length;ne++){var ie=K[ne];ie!==null&&(ie.lane&=-536870913)}p&=~ue}g!==0&&hh(a,g,0),S!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=S&~(M&~u))}function hh(a,u,p){a.pendingLanes|=u,a.suspendedLanes&=~u;var g=31-ts(u);a.entangledLanes|=u,a.entanglements[g]=a.entanglements[g]|1073741824|p&4194218}function Ee(a,u){var p=a.entangledLanes|=u;for(a=a.entanglements;p;){var g=31-ts(p),b=1<<g;b&u|a[g]&u&&(a[g]|=u),p&=~b}}function dh(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Qw(){var a=Te.p;return a!==0?a:(a=window.event,a===void 0?32:AN(a.type))}function Ni(a,u){var p=Te.p;try{return Te.p=a,u()}finally{Te.p=p}}var xs=Math.random().toString(36).slice(2),ar="__reactFiber$"+xs,ri="__reactProps$"+xs,Ga="__reactContainer$"+xs,Vp="__reactEvents$"+xs,Ze="__reactListeners$"+xs,m3="__reactHandles$"+xs,Cg="__reactResources$"+xs,ph="__reactMarker$"+xs;function Rg(a){delete a[ar],delete a[ri],delete a[Vp],delete a[Ze],delete a[m3]}function mo(a){var u=a[ar];if(u)return u;for(var p=a.parentNode;p;){if(u=p[Ga]||p[ar]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(a=pN(a);a!==null;){if(p=a[ar])return p;a=pN(a)}return u}a=p,p=a.parentNode}return null}function mu(a){if(a=a[ar]||a[Ga]){var u=a.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return a}return null}function Ha(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a.stateNode;throw Error(r(33))}function Ht(a){var u=a[Cg];return u||(u=a[Cg]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Di(a){a[ph]=!0}var Ig=new Set,eb={};function Wa(a,u){yu(a,u),yu(a+"Capture",u)}function yu(a,u){for(eb[a]=u,a=0;a<u.length;a++)Ig.add(u[a])}var yo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y3=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),is={},tb={};function g3(a){return Ip.call(tb,a)?!0:Ip.call(is,a)?!1:y3.test(a)?tb[a]=!0:(is[a]=!0,!1)}function gu(a,u,p){if(g3(u))if(p===null)a.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":a.removeAttribute(u);return;case"boolean":var g=u.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(u);return}}a.setAttribute(u,""+p)}}function fh(a,u,p){if(p===null)a.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttribute(u,""+p)}}function P(a,u,p,g){if(g===null)a.removeAttribute(p);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(p);return}a.setAttributeNS(u,p,""+g)}}function Z(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ce(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ve(a){var u=ce(a)?"checked":"value",p=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),g=""+a[u];if(!a.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,S=p.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return b.call(this)},set:function(M){g=""+M,S.call(this,M)}}),Object.defineProperty(a,u,{enumerable:p.enumerable}),{getValue:function(){return g},setValue:function(M){g=""+M},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function ft(a){a._valueTracker||(a._valueTracker=Ve(a))}function Wt(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var p=u.getValue(),g="";return a&&(g=ce(a)?a.checked?"true":"false":a.value),a=g,a!==p?(u.setValue(a),!0):!1}function ei(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var lr=/[\n"\\]/g;function Mn(a){return a.replace(lr,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function v3(a,u,p,g,b,S,M,k){a.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?a.type=M:a.removeAttribute("type"),u!=null?M==="number"?(u===0&&a.value===""||a.value!=u)&&(a.value=""+Z(u)):a.value!==""+Z(u)&&(a.value=""+Z(u)):M!=="submit"&&M!=="reset"||a.removeAttribute("value"),u!=null?w3(a,M,Z(u)):p!=null?w3(a,M,Z(p)):g!=null&&a.removeAttribute("value"),b==null&&S!=null&&(a.defaultChecked=!!S),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.name=""+Z(k):a.removeAttribute("name")}function fI(a,u,p,g,b,S,M,k){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.type=S),u!=null||p!=null){if(!(S!=="submit"&&S!=="reset"||u!=null))return;p=p!=null?""+Z(p):"",u=u!=null?""+Z(u):p,k||u===a.value||(a.value=u),a.defaultValue=u}g=g??b,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=k?a.checked:!!g,a.defaultChecked=!!g,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(a.name=M)}function w3(a,u,p){u==="number"&&ei(a.ownerDocument)===a||a.defaultValue===""+p||(a.defaultValue=""+p)}function Fp(a,u,p,g){if(a=a.options,u){u={};for(var b=0;b<p.length;b++)u["$"+p[b]]=!0;for(p=0;p<a.length;p++)b=u.hasOwnProperty("$"+a[p].value),a[p].selected!==b&&(a[p].selected=b),b&&g&&(a[p].defaultSelected=!0)}else{for(p=""+Z(p),u=null,b=0;b<a.length;b++){if(a[b].value===p){a[b].selected=!0,g&&(a[b].defaultSelected=!0);return}u!==null||a[b].disabled||(u=a[b])}u!==null&&(u.selected=!0)}}function mI(a,u,p){if(u!=null&&(u=""+Z(u),u!==a.value&&(a.value=u),p==null)){a.defaultValue!==u&&(a.defaultValue=u);return}a.defaultValue=p!=null?""+Z(p):""}function yI(a,u,p,g){if(u==null){if(g!=null){if(p!=null)throw Error(r(92));if(Fe(g)){if(1<g.length)throw Error(r(93));g=g[0]}p=g}p==null&&(p=""),u=p}p=Z(u),a.defaultValue=p,g=a.textContent,g===p&&g!==""&&g!==null&&(a.value=g)}function zp(a,u){if(u){var p=a.firstChild;if(p&&p===a.lastChild&&p.nodeType===3){p.nodeValue=u;return}}a.textContent=u}var Ste=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gI(a,u,p){var g=u.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?g?a.setProperty(u,""):u==="float"?a.cssFloat="":a[u]="":g?a.setProperty(u,p):typeof p!="number"||p===0||Ste.has(u)?u==="float"?a.cssFloat=p:a[u]=(""+p).trim():a[u]=p+"px"}function vI(a,u,p){if(u!=null&&typeof u!="object")throw Error(r(62));if(a=a.style,p!=null){for(var g in p)!p.hasOwnProperty(g)||u!=null&&u.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var b in u)g=u[b],u.hasOwnProperty(b)&&p[b]!==g&&gI(a,b,g)}else for(var S in u)u.hasOwnProperty(S)&&gI(a,S,u[S])}function b3(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xte=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tte=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ib(a){return Tte.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var _3=null;function S3(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Up=null,qp=null;function wI(a){var u=mu(a);if(u&&(a=u.stateNode)){var p=a[ri]||null;e:switch(a=u.stateNode,u.type){case"input":if(v3(a,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),u=p.name,p.type==="radio"&&u!=null){for(p=a;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+Mn(""+u)+'"][type="radio"]'),u=0;u<p.length;u++){var g=p[u];if(g!==a&&g.form===a.form){var b=g[ri]||null;if(!b)throw Error(r(90));v3(g,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(u=0;u<p.length;u++)g=p[u],g.form===a.form&&Wt(g)}break e;case"textarea":mI(a,p.value,p.defaultValue);break e;case"select":u=p.value,u!=null&&Fp(a,!!p.multiple,u,!1)}}}var x3=!1;function bI(a,u,p){if(x3)return a(u,p);x3=!0;try{var g=a(u);return g}finally{if(x3=!1,(Up!==null||qp!==null)&&(Vb(),Up&&(u=Up,a=qp,qp=Up=null,wI(u),a)))for(u=0;u<a.length;u++)wI(a[u])}}function Pg(a,u){var p=a.stateNode;if(p===null)return null;var g=p[ri]||null;if(g===null)return null;p=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(p&&typeof p!="function")throw Error(r(231,u,typeof p));return p}var T3=!1;if(yo)try{var jg={};Object.defineProperty(jg,"passive",{get:function(){T3=!0}}),window.addEventListener("test",jg,jg),window.removeEventListener("test",jg,jg)}catch{T3=!1}var vu=null,$3=null,rb=null;function _I(){if(rb)return rb;var a,u=$3,p=u.length,g,b="value"in vu?vu.value:vu.textContent,S=b.length;for(a=0;a<p&&u[a]===b[a];a++);var M=p-a;for(g=1;g<=M&&u[p-g]===b[S-g];g++);return rb=b.slice(a,1<g?1-g:void 0)}function sb(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function nb(){return!0}function SI(){return!1}function Ts(a){function u(p,g,b,S,M){this._reactName=p,this._targetInst=b,this.type=g,this.nativeEvent=S,this.target=M,this.currentTarget=null;for(var k in a)a.hasOwnProperty(k)&&(p=a[k],this[k]=p?p(S):S[k]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?nb:SI,this.isPropagationStopped=SI,this}return te(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=nb)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=nb)},persist:function(){},isPersistent:nb}),u}var mh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ob=Ts(mh),Ng=te({},mh,{view:0,detail:0}),$te=Ts(Ng),M3,E3,Dg,ab=te({},Ng,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:O3,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Dg&&(Dg&&a.type==="mousemove"?(M3=a.screenX-Dg.screenX,E3=a.screenY-Dg.screenY):E3=M3=0,Dg=a),M3)},movementY:function(a){return"movementY"in a?a.movementY:E3}}),xI=Ts(ab),Mte=te({},ab,{dataTransfer:0}),Ete=Ts(Mte),Ate=te({},Ng,{relatedTarget:0}),A3=Ts(Ate),Ote=te({},mh,{animationName:0,elapsedTime:0,pseudoElement:0}),kte=Ts(Ote),Cte=te({},mh,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Rte=Ts(Cte),Ite=te({},mh,{data:0}),TI=Ts(Ite),Pte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jte={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dte(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=Nte[a])?!!u[a]:!1}function O3(){return Dte}var Lte=te({},Ng,{key:function(a){if(a.key){var u=Pte[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=sb(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?jte[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:O3,charCode:function(a){return a.type==="keypress"?sb(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?sb(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Vte=Ts(Lte),Fte=te({},ab,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$I=Ts(Fte),zte=te({},Ng,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:O3}),Ute=Ts(zte),qte=te({},mh,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bte=Ts(qte),Gte=te({},ab,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Hte=Ts(Gte),Wte=te({},mh,{newState:0,oldState:0}),Zte=Ts(Wte),Yte=[9,13,27,32],k3=yo&&"CompositionEvent"in window,Lg=null;yo&&"documentMode"in document&&(Lg=document.documentMode);var Jte=yo&&"TextEvent"in window&&!Lg,MI=yo&&(!k3||Lg&&8<Lg&&11>=Lg),EI=" ",AI=!1;function OI(a,u){switch(a){case"keyup":return Yte.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kI(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Bp=!1;function Kte(a,u){switch(a){case"compositionend":return kI(u);case"keypress":return u.which!==32?null:(AI=!0,EI);case"textInput":return a=u.data,a===EI&&AI?null:a;default:return null}}function Xte(a,u){if(Bp)return a==="compositionend"||!k3&&OI(a,u)?(a=_I(),rb=$3=vu=null,Bp=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return MI&&u.locale!=="ko"?null:u.data;default:return null}}var Qte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CI(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!Qte[a.type]:u==="textarea"}function RI(a,u,p,g){Up?qp?qp.push(g):qp=[g]:Up=g,u=Bb(u,"onChange"),0<u.length&&(p=new ob("onChange","change",null,p,g),a.push({event:p,listeners:u}))}var Vg=null,Fg=null;function eie(a){sN(a,0)}function lb(a){var u=Ha(a);if(Wt(u))return a}function II(a,u){if(a==="change")return u}var PI=!1;if(yo){var C3;if(yo){var R3="oninput"in document;if(!R3){var jI=document.createElement("div");jI.setAttribute("oninput","return;"),R3=typeof jI.oninput=="function"}C3=R3}else C3=!1;PI=C3&&(!document.documentMode||9<document.documentMode)}function NI(){Vg&&(Vg.detachEvent("onpropertychange",DI),Fg=Vg=null)}function DI(a){if(a.propertyName==="value"&&lb(Fg)){var u=[];RI(u,Fg,a,S3(a)),bI(eie,u)}}function tie(a,u,p){a==="focusin"?(NI(),Vg=u,Fg=p,Vg.attachEvent("onpropertychange",DI)):a==="focusout"&&NI()}function iie(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return lb(Fg)}function rie(a,u){if(a==="click")return lb(u)}function sie(a,u){if(a==="input"||a==="change")return lb(u)}function nie(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var Xs=typeof Object.is=="function"?Object.is:nie;function zg(a,u){if(Xs(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var p=Object.keys(a),g=Object.keys(u);if(p.length!==g.length)return!1;for(g=0;g<p.length;g++){var b=p[g];if(!Ip.call(u,b)||!Xs(a[b],u[b]))return!1}return!0}function LI(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function VI(a,u){var p=LI(a);a=0;for(var g;p;){if(p.nodeType===3){if(g=a+p.textContent.length,a<=u&&g>=u)return{node:p,offset:u-a};a=g}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=LI(p)}}function FI(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?FI(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function zI(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var u=ei(a.document);u instanceof a.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)a=u.contentWindow;else break;u=ei(a.document)}return u}function I3(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function oie(a,u){var p=zI(u);u=a.focusedElem;var g=a.selectionRange;if(p!==u&&u&&u.ownerDocument&&FI(u.ownerDocument.documentElement,u)){if(g!==null&&I3(u)){if(a=g.start,p=g.end,p===void 0&&(p=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(p,u.value.length);else if(p=(a=u.ownerDocument||document)&&a.defaultView||window,p.getSelection){p=p.getSelection();var b=u.textContent.length,S=Math.min(g.start,b);g=g.end===void 0?S:Math.min(g.end,b),!p.extend&&S>g&&(b=g,g=S,S=b),b=VI(u,S);var M=VI(u,g);b&&M&&(p.rangeCount!==1||p.anchorNode!==b.node||p.anchorOffset!==b.offset||p.focusNode!==M.node||p.focusOffset!==M.offset)&&(a=a.createRange(),a.setStart(b.node,b.offset),p.removeAllRanges(),S>g?(p.addRange(a),p.extend(M.node,M.offset)):(a.setEnd(M.node,M.offset),p.addRange(a)))}}for(a=[],p=u;p=p.parentNode;)p.nodeType===1&&a.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)p=a[u],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var aie=yo&&"documentMode"in document&&11>=document.documentMode,Gp=null,P3=null,Ug=null,j3=!1;function UI(a,u,p){var g=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;j3||Gp==null||Gp!==ei(g)||(g=Gp,"selectionStart"in g&&I3(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Ug&&zg(Ug,g)||(Ug=g,g=Bb(P3,"onSelect"),0<g.length&&(u=new ob("onSelect","select",null,u,p),a.push({event:u,listeners:g}),u.target=Gp)))}function yh(a,u){var p={};return p[a.toLowerCase()]=u.toLowerCase(),p["Webkit"+a]="webkit"+u,p["Moz"+a]="moz"+u,p}var Hp={animationend:yh("Animation","AnimationEnd"),animationiteration:yh("Animation","AnimationIteration"),animationstart:yh("Animation","AnimationStart"),transitionrun:yh("Transition","TransitionRun"),transitionstart:yh("Transition","TransitionStart"),transitioncancel:yh("Transition","TransitionCancel"),transitionend:yh("Transition","TransitionEnd")},N3={},qI={};yo&&(qI=document.createElement("div").style,"AnimationEvent"in window||(delete Hp.animationend.animation,delete Hp.animationiteration.animation,delete Hp.animationstart.animation),"TransitionEvent"in window||delete Hp.transitionend.transition);function gh(a){if(N3[a])return N3[a];if(!Hp[a])return a;var u=Hp[a],p;for(p in u)if(u.hasOwnProperty(p)&&p in qI)return N3[a]=u[p];return a}var BI=gh("animationend"),GI=gh("animationiteration"),HI=gh("animationstart"),lie=gh("transitionrun"),uie=gh("transitionstart"),cie=gh("transitioncancel"),WI=gh("transitionend"),ZI=new Map,YI="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function go(a,u){ZI.set(a,u),Wa(u,[a])}var En=[],Wp=0,D3=0;function ub(){for(var a=Wp,u=D3=Wp=0;u<a;){var p=En[u];En[u++]=null;var g=En[u];En[u++]=null;var b=En[u];En[u++]=null;var S=En[u];if(En[u++]=null,g!==null&&b!==null){var M=g.pending;M===null?b.next=b:(b.next=M.next,M.next=b),g.pending=b}S!==0&&JI(p,b,S)}}function cb(a,u,p,g){En[Wp++]=a,En[Wp++]=u,En[Wp++]=p,En[Wp++]=g,D3|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function L3(a,u,p,g){return cb(a,u,p,g),hb(a)}function wu(a,u){return cb(a,null,null,u),hb(a)}function JI(a,u,p){a.lanes|=p;var g=a.alternate;g!==null&&(g.lanes|=p);for(var b=!1,S=a.return;S!==null;)S.childLanes|=p,g=S.alternate,g!==null&&(g.childLanes|=p),S.tag===22&&(a=S.stateNode,a===null||a._visibility&1||(b=!0)),a=S,S=S.return;b&&u!==null&&a.tag===3&&(S=a.stateNode,b=31-ts(p),S=S.hiddenUpdates,a=S[b],a===null?S[b]=[u]:a.push(u),u.lane=p|536870912)}function hb(a){if(50<p0)throw p0=0,B$=null,Error(r(185));for(var u=a.return;u!==null;)a=u,u=a.return;return a.tag===3?a.stateNode:null}var Zp={},KI=new WeakMap;function An(a,u){if(typeof a=="object"&&a!==null){var p=KI.get(a);return p!==void 0?p:(u={value:a,source:u,stack:ve(u)},KI.set(a,u),u)}return{value:a,source:u,stack:ve(u)}}var Yp=[],Jp=0,db=null,pb=0,On=[],kn=0,vh=null,Za=1,Ya="";function wh(a,u){Yp[Jp++]=pb,Yp[Jp++]=db,db=a,pb=u}function XI(a,u,p){On[kn++]=Za,On[kn++]=Ya,On[kn++]=vh,vh=a;var g=Za;a=Ya;var b=32-ts(g)-1;g&=~(1<<b),p+=1;var S=32-ts(u)+b;if(30<S){var M=b-b%5;S=(g&(1<<M)-1).toString(32),g>>=M,b-=M,Za=1<<32-ts(u)+b|p<<b|g,Ya=S+a}else Za=1<<S|p<<b|g,Ya=a}function V3(a){a.return!==null&&(wh(a,1),XI(a,1,0))}function F3(a){for(;a===db;)db=Yp[--Jp],Yp[Jp]=null,pb=Yp[--Jp],Yp[Jp]=null;for(;a===vh;)vh=On[--kn],On[kn]=null,Ya=On[--kn],On[kn]=null,Za=On[--kn],On[kn]=null}var rs=null,_r=null,_t=!1,vo=null,sa=!1,z3=Error(r(519));function bh(a){var u=Error(r(418,""));throw Gg(An(u,a)),z3}function QI(a){var u=a.stateNode,p=a.type,g=a.memoizedProps;switch(u[ar]=a,u[ri]=g,p){case"dialog":mt("cancel",u),mt("close",u);break;case"iframe":case"object":case"embed":mt("load",u);break;case"video":case"audio":for(p=0;p<m0.length;p++)mt(m0[p],u);break;case"source":mt("error",u);break;case"img":case"image":case"link":mt("error",u),mt("load",u);break;case"details":mt("toggle",u);break;case"input":mt("invalid",u),fI(u,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),ft(u);break;case"select":mt("invalid",u);break;case"textarea":mt("invalid",u),yI(u,g.value,g.defaultValue,g.children),ft(u)}p=g.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||u.textContent===""+p||g.suppressHydrationWarning===!0||lN(u.textContent,p)?(g.popover!=null&&(mt("beforetoggle",u),mt("toggle",u)),g.onScroll!=null&&mt("scroll",u),g.onScrollEnd!=null&&mt("scrollend",u),g.onClick!=null&&(u.onclick=Gb),u=!0):u=!1,u||bh(a)}function eP(a){for(rs=a.return;rs;)switch(rs.tag){case 3:case 27:sa=!0;return;case 5:case 13:sa=!1;return;default:rs=rs.return}}function qg(a){if(a!==rs)return!1;if(!_t)return eP(a),_t=!0,!1;var u=!1,p;if((p=a.tag!==3&&a.tag!==27)&&((p=a.tag===5)&&(p=a.type,p=!(p!=="form"&&p!=="button")||aM(a.type,a.memoizedProps)),p=!p),p&&(u=!0),u&&_r&&bh(a),eP(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8)if(p=a.data,p==="/$"){if(u===0){_r=bo(a.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++;a=a.nextSibling}_r=null}}else _r=rs?bo(a.stateNode.nextSibling):null;return!0}function Bg(){_r=rs=null,_t=!1}function Gg(a){vo===null?vo=[a]:vo.push(a)}var Hg=Error(r(460)),tP=Error(r(474)),U3={then:function(){}};function iP(a){return a=a.status,a==="fulfilled"||a==="rejected"}function fb(){}function rP(a,u,p){switch(p=a[p],p===void 0?a.push(u):p!==u&&(u.then(fb,fb),u=p),u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,a===Hg?Error(r(483)):a;default:if(typeof u.status=="string")u.then(fb,fb);else{if(a=Vt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=u,a.status="pending",a.then(function(g){if(u.status==="pending"){var b=u;b.status="fulfilled",b.value=g}},function(g){if(u.status==="pending"){var b=u;b.status="rejected",b.reason=g}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,a===Hg?Error(r(483)):a}throw Wg=u,Hg}}var Wg=null;function sP(){if(Wg===null)throw Error(r(459));var a=Wg;return Wg=null,a}var Kp=null,Zg=0;function mb(a){var u=Zg;return Zg+=1,Kp===null&&(Kp=[]),rP(Kp,a,u)}function Yg(a,u){u=u.props.ref,a.ref=u!==void 0?u:null}function yb(a,u){throw u.$$typeof===n?Error(r(525)):(a=Object.prototype.toString.call(u),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a)))}function nP(a){var u=a._init;return u(a._payload)}function oP(a){function u(H,F){if(a){var Y=H.deletions;Y===null?(H.deletions=[F],H.flags|=16):Y.push(F)}}function p(H,F){if(!a)return null;for(;F!==null;)u(H,F),F=F.sibling;return null}function g(H){for(var F=new Map;H!==null;)H.key!==null?F.set(H.key,H):F.set(H.index,H),H=H.sibling;return F}function b(H,F){return H=Cu(H,F),H.index=0,H.sibling=null,H}function S(H,F,Y){return H.index=Y,a?(Y=H.alternate,Y!==null?(Y=Y.index,Y<F?(H.flags|=33554434,F):Y):(H.flags|=33554434,F)):(H.flags|=1048576,F)}function M(H){return a&&H.alternate===null&&(H.flags|=33554434),H}function k(H,F,Y,oe){return F===null||F.tag!==6?(F=N$(Y,H.mode,oe),F.return=H,F):(F=b(F,Y),F.return=H,F)}function D(H,F,Y,oe){var Ae=Y.type;return Ae===c?ne(H,F,Y.props.children,oe,Y.key):F!==null&&(F.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===C&&nP(Ae)===F.type)?(F=b(F,Y.props),Yg(F,Y),F.return=H,F):(F=Pb(Y.type,Y.key,Y.props,null,H.mode,oe),Yg(F,Y),F.return=H,F)}function U(H,F,Y,oe){return F===null||F.tag!==4||F.stateNode.containerInfo!==Y.containerInfo||F.stateNode.implementation!==Y.implementation?(F=D$(Y,H.mode,oe),F.return=H,F):(F=b(F,Y.children||[]),F.return=H,F)}function ne(H,F,Y,oe,Ae){return F===null||F.tag!==7?(F=kh(Y,H.mode,oe,Ae),F.return=H,F):(F=b(F,Y),F.return=H,F)}function ue(H,F,Y){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=N$(""+F,H.mode,Y),F.return=H,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case o:return Y=Pb(F.type,F.key,F.props,null,H.mode,Y),Yg(Y,F),Y.return=H,Y;case l:return F=D$(F,H.mode,Y),F.return=H,F;case C:var oe=F._init;return F=oe(F._payload),ue(H,F,Y)}if(Fe(F)||z(F))return F=kh(F,H.mode,Y,null),F.return=H,F;if(typeof F.then=="function")return ue(H,mb(F),Y);if(F.$$typeof===_)return ue(H,Cb(H,F),Y);yb(H,F)}return null}function K(H,F,Y,oe){var Ae=F!==null?F.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Ae!==null?null:k(H,F,""+Y,oe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case o:return Y.key===Ae?D(H,F,Y,oe):null;case l:return Y.key===Ae?U(H,F,Y,oe):null;case C:return Ae=Y._init,Y=Ae(Y._payload),K(H,F,Y,oe)}if(Fe(Y)||z(Y))return Ae!==null?null:ne(H,F,Y,oe,null);if(typeof Y.then=="function")return K(H,F,mb(Y),oe);if(Y.$$typeof===_)return K(H,F,Cb(H,Y),oe);yb(H,Y)}return null}function ie(H,F,Y,oe,Ae){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return H=H.get(Y)||null,k(F,H,""+oe,Ae);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case o:return H=H.get(oe.key===null?Y:oe.key)||null,D(F,H,oe,Ae);case l:return H=H.get(oe.key===null?Y:oe.key)||null,U(F,H,oe,Ae);case C:var nt=oe._init;return oe=nt(oe._payload),ie(H,F,Y,oe,Ae)}if(Fe(oe)||z(oe))return H=H.get(Y)||null,ne(F,H,oe,Ae,null);if(typeof oe.then=="function")return ie(H,F,Y,mb(oe),Ae);if(oe.$$typeof===_)return ie(H,F,Y,Cb(F,oe),Ae);yb(F,oe)}return null}function Pe(H,F,Y,oe){for(var Ae=null,nt=null,De=F,Be=F=0,hr=null;De!==null&&Be<Y.length;Be++){De.index>Be?(hr=De,De=null):hr=De.sibling;var St=K(H,De,Y[Be],oe);if(St===null){De===null&&(De=hr);break}a&&De&&St.alternate===null&&u(H,De),F=S(St,F,Be),nt===null?Ae=St:nt.sibling=St,nt=St,De=hr}if(Be===Y.length)return p(H,De),_t&&wh(H,Be),Ae;if(De===null){for(;Be<Y.length;Be++)De=ue(H,Y[Be],oe),De!==null&&(F=S(De,F,Be),nt===null?Ae=De:nt.sibling=De,nt=De);return _t&&wh(H,Be),Ae}for(De=g(De);Be<Y.length;Be++)hr=ie(De,H,Be,Y[Be],oe),hr!==null&&(a&&hr.alternate!==null&&De.delete(hr.key===null?Be:hr.key),F=S(hr,F,Be),nt===null?Ae=hr:nt.sibling=hr,nt=hr);return a&&De.forEach(function(Lu){return u(H,Lu)}),_t&&wh(H,Be),Ae}function Je(H,F,Y,oe){if(Y==null)throw Error(r(151));for(var Ae=null,nt=null,De=F,Be=F=0,hr=null,St=Y.next();De!==null&&!St.done;Be++,St=Y.next()){De.index>Be?(hr=De,De=null):hr=De.sibling;var Lu=K(H,De,St.value,oe);if(Lu===null){De===null&&(De=hr);break}a&&De&&Lu.alternate===null&&u(H,De),F=S(Lu,F,Be),nt===null?Ae=Lu:nt.sibling=Lu,nt=Lu,De=hr}if(St.done)return p(H,De),_t&&wh(H,Be),Ae;if(De===null){for(;!St.done;Be++,St=Y.next())St=ue(H,St.value,oe),St!==null&&(F=S(St,F,Be),nt===null?Ae=St:nt.sibling=St,nt=St);return _t&&wh(H,Be),Ae}for(De=g(De);!St.done;Be++,St=Y.next())St=ie(De,H,Be,St.value,oe),St!==null&&(a&&St.alternate!==null&&De.delete(St.key===null?Be:St.key),F=S(St,F,Be),nt===null?Ae=St:nt.sibling=St,nt=St);return a&&De.forEach(function(Tre){return u(H,Tre)}),_t&&wh(H,Be),Ae}function yi(H,F,Y,oe){if(typeof Y=="object"&&Y!==null&&Y.type===c&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case o:e:{for(var Ae=Y.key;F!==null;){if(F.key===Ae){if(Ae=Y.type,Ae===c){if(F.tag===7){p(H,F.sibling),oe=b(F,Y.props.children),oe.return=H,H=oe;break e}}else if(F.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===C&&nP(Ae)===F.type){p(H,F.sibling),oe=b(F,Y.props),Yg(oe,Y),oe.return=H,H=oe;break e}p(H,F);break}else u(H,F);F=F.sibling}Y.type===c?(oe=kh(Y.props.children,H.mode,oe,Y.key),oe.return=H,H=oe):(oe=Pb(Y.type,Y.key,Y.props,null,H.mode,oe),Yg(oe,Y),oe.return=H,H=oe)}return M(H);case l:e:{for(Ae=Y.key;F!==null;){if(F.key===Ae)if(F.tag===4&&F.stateNode.containerInfo===Y.containerInfo&&F.stateNode.implementation===Y.implementation){p(H,F.sibling),oe=b(F,Y.children||[]),oe.return=H,H=oe;break e}else{p(H,F);break}else u(H,F);F=F.sibling}oe=D$(Y,H.mode,oe),oe.return=H,H=oe}return M(H);case C:return Ae=Y._init,Y=Ae(Y._payload),yi(H,F,Y,oe)}if(Fe(Y))return Pe(H,F,Y,oe);if(z(Y)){if(Ae=z(Y),typeof Ae!="function")throw Error(r(150));return Y=Ae.call(Y),Je(H,F,Y,oe)}if(typeof Y.then=="function")return yi(H,F,mb(Y),oe);if(Y.$$typeof===_)return yi(H,F,Cb(H,Y),oe);yb(H,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,F!==null&&F.tag===6?(p(H,F.sibling),oe=b(F,Y),oe.return=H,H=oe):(p(H,F),oe=N$(Y,H.mode,oe),oe.return=H,H=oe),M(H)):p(H,F)}return function(H,F,Y,oe){try{Zg=0;var Ae=yi(H,F,Y,oe);return Kp=null,Ae}catch(De){if(De===Hg)throw De;var nt=Pn(29,De,null,H.mode);return nt.lanes=oe,nt.return=H,nt}finally{}}}var _h=oP(!0),aP=oP(!1),Xp=bt(null),gb=bt(0);function lP(a,u){a=ol,Lt(gb,a),Lt(Xp,u),ol=a|u.baseLanes}function q3(){Lt(gb,ol),Lt(Xp,Xp.current)}function B3(){ol=gb.current,pi(Xp),pi(gb)}var Cn=bt(null),na=null;function bu(a){var u=a.alternate;Lt(Zi,Zi.current&1),Lt(Cn,a),na===null&&(u===null||Xp.current!==null||u.memoizedState!==null)&&(na=a)}function uP(a){if(a.tag===22){if(Lt(Zi,Zi.current),Lt(Cn,a),na===null){var u=a.alternate;u!==null&&u.memoizedState!==null&&(na=a)}}else _u()}function _u(){Lt(Zi,Zi.current),Lt(Cn,Cn.current)}function Ja(a){pi(Cn),na===a&&(na=null),pi(Zi)}var Zi=bt(0);function vb(a){for(var u=a;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var hie=typeof AbortController<"u"?AbortController:function(){var a=[],u=this.signal={aborted:!1,addEventListener:function(p,g){a.push(g)}};this.abort=function(){u.aborted=!0,a.forEach(function(p){return p()})}},die=t.unstable_scheduleCallback,pie=t.unstable_NormalPriority,Yi={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function G3(){return{controller:new hie,data:new Map,refCount:0}}function Jg(a){a.refCount--,a.refCount===0&&die(pie,function(){a.controller.abort()})}var Kg=null,H3=0,Qp=0,ef=null;function fie(a,u){if(Kg===null){var p=Kg=[];H3=0,Qp=X$(),ef={status:"pending",value:void 0,then:function(g){p.push(g)}}}return H3++,u.then(cP,cP),u}function cP(){if(--H3===0&&Kg!==null){ef!==null&&(ef.status="fulfilled");var a=Kg;Kg=null,Qp=0,ef=null;for(var u=0;u<a.length;u++)(0,a[u])()}}function mie(a,u){var p=[],g={status:"pending",value:null,reason:null,then:function(b){p.push(b)}};return a.then(function(){g.status="fulfilled",g.value=u;for(var b=0;b<p.length;b++)(0,p[b])(u)},function(b){for(g.status="rejected",g.reason=b,b=0;b<p.length;b++)(0,p[b])(void 0)}),g}var hP=J.S;J.S=function(a,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&fie(a,u),hP!==null&&hP(a,u)};var Sh=bt(null);function W3(){var a=Sh.current;return a!==null?a:Vt.pooledCache}function wb(a,u){u===null?Lt(Sh,Sh.current):Lt(Sh,u.pool)}function dP(){var a=W3();return a===null?null:{parent:Yi._currentValue,pool:a}}var Su=0,st=null,kt=null,Li=null,bb=!1,tf=!1,xh=!1,_b=0,Xg=0,rf=null,yie=0;function Ei(){throw Error(r(321))}function Z3(a,u){if(u===null)return!1;for(var p=0;p<u.length&&p<a.length;p++)if(!Xs(a[p],u[p]))return!1;return!0}function Y3(a,u,p,g,b,S){return Su=S,st=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,J.H=a===null||a.memoizedState===null?Th:xu,xh=!1,S=p(g,b),xh=!1,tf&&(S=fP(u,p,g,b)),pP(a),S}function pP(a){J.H=oa;var u=kt!==null&&kt.next!==null;if(Su=0,Li=kt=st=null,bb=!1,Xg=0,rf=null,u)throw Error(r(300));a===null||ur||(a=a.dependencies,a!==null&&kb(a)&&(ur=!0))}function fP(a,u,p,g){st=a;var b=0;do{if(tf&&(rf=null),Xg=0,tf=!1,25<=b)throw Error(r(301));if(b+=1,Li=kt=null,a.updateQueue!=null){var S=a.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}J.H=$h,S=u(p,g)}while(tf);return S}function gie(){var a=J.H,u=a.useState()[0];return u=typeof u.then=="function"?Qg(u):u,a=a.useState()[0],(kt!==null?kt.memoizedState:null)!==a&&(st.flags|=1024),u}function J3(){var a=_b!==0;return _b=0,a}function K3(a,u,p){u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~p}function X3(a){if(bb){for(a=a.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}bb=!1}Su=0,Li=kt=st=null,tf=!1,Xg=_b=0,rf=null}function $s(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Li===null?st.memoizedState=Li=a:Li=Li.next=a,Li}function Vi(){if(kt===null){var a=st.alternate;a=a!==null?a.memoizedState:null}else a=kt.next;var u=Li===null?st.memoizedState:Li.next;if(u!==null)Li=u,kt=a;else{if(a===null)throw st.alternate===null?Error(r(467)):Error(r(310));kt=a,a={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Li===null?st.memoizedState=Li=a:Li=Li.next=a}return Li}var Sb;Sb=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Qg(a){var u=Xg;return Xg+=1,rf===null&&(rf=[]),a=rP(rf,a,u),u=st,(Li===null?u.memoizedState:Li.next)===null&&(u=u.alternate,J.H=u===null||u.memoizedState===null?Th:xu),a}function xb(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Qg(a);if(a.$$typeof===_)return Ir(a)}throw Error(r(438,String(a)))}function Q3(a){var u=null,p=st.updateQueue;if(p!==null&&(u=p.memoCache),u==null){var g=st.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(u={data:g.data.map(function(b){return b.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),p===null&&(p=Sb(),st.updateQueue=p),p.memoCache=u,p=u.data[u.index],p===void 0)for(p=u.data[u.index]=Array(a),g=0;g<a;g++)p[g]=N;return u.index++,p}function Ka(a,u){return typeof u=="function"?u(a):u}function Tb(a){var u=Vi();return e$(u,kt,a)}function e$(a,u,p){var g=a.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=p;var b=a.baseQueue,S=g.pending;if(S!==null){if(b!==null){var M=b.next;b.next=S.next,S.next=M}u.baseQueue=b=S,g.pending=null}if(S=a.baseState,b===null)a.memoizedState=S;else{u=b.next;var k=M=null,D=null,U=u,ne=!1;do{var ue=U.lane&-536870913;if(ue!==U.lane?(gt&ue)===ue:(Su&ue)===ue){var K=U.revertLane;if(K===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),ue===Qp&&(ne=!0);else if((Su&K)===K){U=U.next,K===Qp&&(ne=!0);continue}else ue={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},D===null?(k=D=ue,M=S):D=D.next=ue,st.lanes|=K,Ru|=K;ue=U.action,xh&&p(S,ue),S=U.hasEagerState?U.eagerState:p(S,ue)}else K={lane:ue,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},D===null?(k=D=K,M=S):D=D.next=K,st.lanes|=ue,Ru|=ue;U=U.next}while(U!==null&&U!==u);if(D===null?M=S:D.next=k,!Xs(S,a.memoizedState)&&(ur=!0,ne&&(p=ef,p!==null)))throw p;a.memoizedState=S,a.baseState=M,a.baseQueue=D,g.lastRenderedState=S}return b===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function t$(a){var u=Vi(),p=u.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=a;var g=p.dispatch,b=p.pending,S=u.memoizedState;if(b!==null){p.pending=null;var M=b=b.next;do S=a(S,M.action),M=M.next;while(M!==b);Xs(S,u.memoizedState)||(ur=!0),u.memoizedState=S,u.baseQueue===null&&(u.baseState=S),p.lastRenderedState=S}return[S,g]}function mP(a,u,p){var g=st,b=Vi(),S=_t;if(S){if(p===void 0)throw Error(r(407));p=p()}else p=u();var M=!Xs((kt||b).memoizedState,p);if(M&&(b.memoizedState=p,ur=!0),b=b.queue,s$(vP.bind(null,g,b,a),[a]),b.getSnapshot!==u||M||Li!==null&&Li.memoizedState.tag&1){if(g.flags|=2048,sf(9,gP.bind(null,g,b,p,u),{destroy:void 0},null),Vt===null)throw Error(r(349));S||(Su&60)!==0||yP(g,u,p)}return p}function yP(a,u,p){a.flags|=16384,a={getSnapshot:u,value:p},u=st.updateQueue,u===null?(u=Sb(),st.updateQueue=u,u.stores=[a]):(p=u.stores,p===null?u.stores=[a]:p.push(a))}function gP(a,u,p,g){u.value=p,u.getSnapshot=g,wP(u)&&bP(a)}function vP(a,u,p){return p(function(){wP(u)&&bP(a)})}function wP(a){var u=a.getSnapshot;a=a.value;try{var p=u();return!Xs(a,p)}catch{return!0}}function bP(a){var u=wu(a,2);u!==null&&ss(u,a,2)}function i$(a){var u=$s();if(typeof a=="function"){var p=a;if(a=p(),xh){ia(!0);try{p()}finally{ia(!1)}}}return u.memoizedState=u.baseState=a,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:a},u}function _P(a,u,p,g){return a.baseState=p,e$(a,kt,typeof g=="function"?g:Ka)}function vie(a,u,p,g,b){if(Eb(a))throw Error(r(485));if(a=u.action,a!==null){var S={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){S.listeners.push(M)}};J.T!==null?p(!0):S.isTransition=!1,g(S),p=u.pending,p===null?(S.next=u.pending=S,SP(u,S)):(S.next=p.next,u.pending=p.next=S)}}function SP(a,u){var p=u.action,g=u.payload,b=a.state;if(u.isTransition){var S=J.T,M={};J.T=M;try{var k=p(b,g),D=J.S;D!==null&&D(M,k),xP(a,u,k)}catch(U){r$(a,u,U)}finally{J.T=S}}else try{S=p(b,g),xP(a,u,S)}catch(U){r$(a,u,U)}}function xP(a,u,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(g){TP(a,u,g)},function(g){return r$(a,u,g)}):TP(a,u,p)}function TP(a,u,p){u.status="fulfilled",u.value=p,$P(u),a.state=p,u=a.pending,u!==null&&(p=u.next,p===u?a.pending=null:(p=p.next,u.next=p,SP(a,p)))}function r$(a,u,p){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do u.status="rejected",u.reason=p,$P(u),u=u.next;while(u!==g)}a.action=null}function $P(a){a=a.listeners;for(var u=0;u<a.length;u++)(0,a[u])()}function MP(a,u){return u}function EP(a,u){if(_t){var p=Vt.formState;if(p!==null){e:{var g=st;if(_t){if(_r){t:{for(var b=_r,S=sa;b.nodeType!==8;){if(!S){b=null;break t}if(b=bo(b.nextSibling),b===null){b=null;break t}}S=b.data,b=S==="F!"||S==="F"?b:null}if(b){_r=bo(b.nextSibling),g=b.data==="F!";break e}}bh(g)}g=!1}g&&(u=p[0])}}return p=$s(),p.memoizedState=p.baseState=u,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:MP,lastRenderedState:u},p.queue=g,p=GP.bind(null,st,g),g.dispatch=p,g=i$(!1),S=u$.bind(null,st,!1,g.queue),g=$s(),b={state:u,dispatch:null,action:a,pending:null},g.queue=b,p=vie.bind(null,st,b,S,p),b.dispatch=p,g.memoizedState=a,[u,p,!1]}function AP(a){var u=Vi();return OP(u,kt,a)}function OP(a,u,p){u=e$(a,u,MP)[0],a=Tb(Ka)[0],u=typeof u=="object"&&u!==null&&typeof u.then=="function"?Qg(u):u;var g=Vi(),b=g.queue,S=b.dispatch;return p!==g.memoizedState&&(st.flags|=2048,sf(9,wie.bind(null,b,p),{destroy:void 0},null)),[u,S,a]}function wie(a,u){a.action=u}function kP(a){var u=Vi(),p=kt;if(p!==null)return OP(u,p,a);Vi(),u=u.memoizedState,p=Vi();var g=p.queue.dispatch;return p.memoizedState=a,[u,g,!1]}function sf(a,u,p,g){return a={tag:a,create:u,inst:p,deps:g,next:null},u=st.updateQueue,u===null&&(u=Sb(),st.updateQueue=u),p=u.lastEffect,p===null?u.lastEffect=a.next=a:(g=p.next,p.next=a,a.next=g,u.lastEffect=a),a}function CP(){return Vi().memoizedState}function $b(a,u,p,g){var b=$s();st.flags|=a,b.memoizedState=sf(1|u,p,{destroy:void 0},g===void 0?null:g)}function Mb(a,u,p,g){var b=Vi();g=g===void 0?null:g;var S=b.memoizedState.inst;kt!==null&&g!==null&&Z3(g,kt.memoizedState.deps)?b.memoizedState=sf(u,p,S,g):(st.flags|=a,b.memoizedState=sf(1|u,p,S,g))}function RP(a,u){$b(8390656,8,a,u)}function s$(a,u){Mb(2048,8,a,u)}function IP(a,u){return Mb(4,2,a,u)}function PP(a,u){return Mb(4,4,a,u)}function jP(a,u){if(typeof u=="function"){a=a();var p=u(a);return function(){typeof p=="function"?p():u(null)}}if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function NP(a,u,p){p=p!=null?p.concat([a]):null,Mb(4,4,jP.bind(null,u,a),p)}function n$(){}function DP(a,u){var p=Vi();u=u===void 0?null:u;var g=p.memoizedState;return u!==null&&Z3(u,g[1])?g[0]:(p.memoizedState=[a,u],a)}function LP(a,u){var p=Vi();u=u===void 0?null:u;var g=p.memoizedState;if(u!==null&&Z3(u,g[1]))return g[0];if(g=a(),xh){ia(!0);try{a()}finally{ia(!1)}}return p.memoizedState=[g,u],g}function o$(a,u,p){return p===void 0||(Su&1073741824)!==0?a.memoizedState=u:(a.memoizedState=p,a=Fj(),st.lanes|=a,Ru|=a,p)}function VP(a,u,p,g){return Xs(p,u)?p:Xp.current!==null?(a=o$(a,p,g),Xs(a,u)||(ur=!0),a):(Su&42)===0?(ur=!0,a.memoizedState=p):(a=Fj(),st.lanes|=a,Ru|=a,u)}function FP(a,u,p,g,b){var S=Te.p;Te.p=S!==0&&8>S?S:8;var M=J.T,k={};J.T=k,u$(a,!1,u,p);try{var D=b(),U=J.S;if(U!==null&&U(k,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var ne=mie(D,g);e0(a,u,ne,rn(a))}else e0(a,u,g,rn(a))}catch(ue){e0(a,u,{then:function(){},status:"rejected",reason:ue},rn())}finally{Te.p=S,J.T=M}}function bie(){}function a$(a,u,p,g){if(a.tag!==5)throw Error(r(476));var b=zP(a).queue;FP(a,b,u,ht,p===null?bie:function(){return UP(a),p(g)})}function zP(a){var u=a.memoizedState;if(u!==null)return u;u={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:ht},next:null};var p={};return u.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:p},next:null},a.memoizedState=u,a=a.alternate,a!==null&&(a.memoizedState=u),u}function UP(a){var u=zP(a).next.queue;e0(a,u,{},rn())}function l$(){return Ir(b0)}function qP(){return Vi().memoizedState}function BP(){return Vi().memoizedState}function _ie(a){for(var u=a.return;u!==null;){switch(u.tag){case 24:case 3:var p=rn();a=Mu(p);var g=Eu(u,a,p);g!==null&&(ss(g,u,p),r0(g,u,p)),u={cache:G3()},a.payload=u;return}u=u.return}}function Sie(a,u,p){var g=rn();p={lane:g,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},Eb(a)?HP(u,p):(p=L3(a,u,p,g),p!==null&&(ss(p,a,g),WP(p,u,g)))}function GP(a,u,p){var g=rn();e0(a,u,p,g)}function e0(a,u,p,g){var b={lane:g,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(Eb(a))HP(u,b);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=u.lastRenderedReducer,S!==null))try{var M=u.lastRenderedState,k=S(M,p);if(b.hasEagerState=!0,b.eagerState=k,Xs(k,M))return cb(a,u,b,0),Vt===null&&ub(),!1}catch{}finally{}if(p=L3(a,u,b,g),p!==null)return ss(p,a,g),WP(p,u,g),!0}return!1}function u$(a,u,p,g){if(g={lane:2,revertLane:X$(),action:g,hasEagerState:!1,eagerState:null,next:null},Eb(a)){if(u)throw Error(r(479))}else u=L3(a,p,g,2),u!==null&&ss(u,a,2)}function Eb(a){var u=a.alternate;return a===st||u!==null&&u===st}function HP(a,u){tf=bb=!0;var p=a.pending;p===null?u.next=u:(u.next=p.next,p.next=u),a.pending=u}function WP(a,u,p){if((p&4194176)!==0){var g=u.lanes;g&=a.pendingLanes,p|=g,u.lanes=p,Ee(a,p)}}var oa={readContext:Ir,use:xb,useCallback:Ei,useContext:Ei,useEffect:Ei,useImperativeHandle:Ei,useLayoutEffect:Ei,useInsertionEffect:Ei,useMemo:Ei,useReducer:Ei,useRef:Ei,useState:Ei,useDebugValue:Ei,useDeferredValue:Ei,useTransition:Ei,useSyncExternalStore:Ei,useId:Ei};oa.useCacheRefresh=Ei,oa.useMemoCache=Ei,oa.useHostTransitionStatus=Ei,oa.useFormState=Ei,oa.useActionState=Ei,oa.useOptimistic=Ei;var Th={readContext:Ir,use:xb,useCallback:function(a,u){return $s().memoizedState=[a,u===void 0?null:u],a},useContext:Ir,useEffect:RP,useImperativeHandle:function(a,u,p){p=p!=null?p.concat([a]):null,$b(4194308,4,jP.bind(null,u,a),p)},useLayoutEffect:function(a,u){return $b(4194308,4,a,u)},useInsertionEffect:function(a,u){$b(4,2,a,u)},useMemo:function(a,u){var p=$s();u=u===void 0?null:u;var g=a();if(xh){ia(!0);try{a()}finally{ia(!1)}}return p.memoizedState=[g,u],g},useReducer:function(a,u,p){var g=$s();if(p!==void 0){var b=p(u);if(xh){ia(!0);try{p(u)}finally{ia(!1)}}}else b=u;return g.memoizedState=g.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},g.queue=a,a=a.dispatch=Sie.bind(null,st,a),[g.memoizedState,a]},useRef:function(a){var u=$s();return a={current:a},u.memoizedState=a},useState:function(a){a=i$(a);var u=a.queue,p=GP.bind(null,st,u);return u.dispatch=p,[a.memoizedState,p]},useDebugValue:n$,useDeferredValue:function(a,u){var p=$s();return o$(p,a,u)},useTransition:function(){var a=i$(!1);return a=FP.bind(null,st,a.queue,!0,!1),$s().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,u,p){var g=st,b=$s();if(_t){if(p===void 0)throw Error(r(407));p=p()}else{if(p=u(),Vt===null)throw Error(r(349));(gt&60)!==0||yP(g,u,p)}b.memoizedState=p;var S={value:p,getSnapshot:u};return b.queue=S,RP(vP.bind(null,g,S,a),[a]),g.flags|=2048,sf(9,gP.bind(null,g,S,p,u),{destroy:void 0},null),p},useId:function(){var a=$s(),u=Vt.identifierPrefix;if(_t){var p=Ya,g=Za;p=(g&~(1<<32-ts(g)-1)).toString(32)+p,u=":"+u+"R"+p,p=_b++,0<p&&(u+="H"+p.toString(32)),u+=":"}else p=yie++,u=":"+u+"r"+p.toString(32)+":";return a.memoizedState=u},useCacheRefresh:function(){return $s().memoizedState=_ie.bind(null,st)}};Th.useMemoCache=Q3,Th.useHostTransitionStatus=l$,Th.useFormState=EP,Th.useActionState=EP,Th.useOptimistic=function(a){var u=$s();u.memoizedState=u.baseState=a;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=p,u=u$.bind(null,st,!0,p),p.dispatch=u,[a,u]};var xu={readContext:Ir,use:xb,useCallback:DP,useContext:Ir,useEffect:s$,useImperativeHandle:NP,useInsertionEffect:IP,useLayoutEffect:PP,useMemo:LP,useReducer:Tb,useRef:CP,useState:function(){return Tb(Ka)},useDebugValue:n$,useDeferredValue:function(a,u){var p=Vi();return VP(p,kt.memoizedState,a,u)},useTransition:function(){var a=Tb(Ka)[0],u=Vi().memoizedState;return[typeof a=="boolean"?a:Qg(a),u]},useSyncExternalStore:mP,useId:qP};xu.useCacheRefresh=BP,xu.useMemoCache=Q3,xu.useHostTransitionStatus=l$,xu.useFormState=AP,xu.useActionState=AP,xu.useOptimistic=function(a,u){var p=Vi();return _P(p,kt,a,u)};var $h={readContext:Ir,use:xb,useCallback:DP,useContext:Ir,useEffect:s$,useImperativeHandle:NP,useInsertionEffect:IP,useLayoutEffect:PP,useMemo:LP,useReducer:t$,useRef:CP,useState:function(){return t$(Ka)},useDebugValue:n$,useDeferredValue:function(a,u){var p=Vi();return kt===null?o$(p,a,u):VP(p,kt.memoizedState,a,u)},useTransition:function(){var a=t$(Ka)[0],u=Vi().memoizedState;return[typeof a=="boolean"?a:Qg(a),u]},useSyncExternalStore:mP,useId:qP};$h.useCacheRefresh=BP,$h.useMemoCache=Q3,$h.useHostTransitionStatus=l$,$h.useFormState=kP,$h.useActionState=kP,$h.useOptimistic=function(a,u){var p=Vi();return kt!==null?_P(p,kt,a,u):(p.baseState=a,[a,p.queue.dispatch])};function c$(a,u,p,g){u=a.memoizedState,p=p(g,u),p=p==null?u:te({},u,p),a.memoizedState=p,a.lanes===0&&(a.updateQueue.baseState=p)}var h$={isMounted:function(a){return(a=a._reactInternals)?de(a)===a:!1},enqueueSetState:function(a,u,p){a=a._reactInternals;var g=rn(),b=Mu(g);b.payload=u,p!=null&&(b.callback=p),u=Eu(a,b,g),u!==null&&(ss(u,a,g),r0(u,a,g))},enqueueReplaceState:function(a,u,p){a=a._reactInternals;var g=rn(),b=Mu(g);b.tag=1,b.payload=u,p!=null&&(b.callback=p),u=Eu(a,b,g),u!==null&&(ss(u,a,g),r0(u,a,g))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var p=rn(),g=Mu(p);g.tag=2,u!=null&&(g.callback=u),u=Eu(a,g,p),u!==null&&(ss(u,a,p),r0(u,a,p))}};function ZP(a,u,p,g,b,S,M){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,S,M):u.prototype&&u.prototype.isPureReactComponent?!zg(p,g)||!zg(b,S):!0}function YP(a,u,p,g){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,g),u.state!==a&&h$.enqueueReplaceState(u,u.state,null)}function Mh(a,u){var p=u;if("ref"in u){p={};for(var g in u)g!=="ref"&&(p[g]=u[g])}if(a=a.defaultProps){p===u&&(p=te({},p));for(var b in a)p[b]===void 0&&(p[b]=a[b])}return p}var Ab=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function JP(a){Ab(a)}function KP(a){console.error(a)}function XP(a){Ab(a)}function Ob(a,u){try{var p=a.onUncaughtError;p(u.value,{componentStack:u.stack})}catch(g){setTimeout(function(){throw g})}}function QP(a,u,p){try{var g=a.onCaughtError;g(p.value,{componentStack:p.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function d$(a,u,p){return p=Mu(p),p.tag=3,p.payload={element:null},p.callback=function(){Ob(a,u)},p}function ej(a){return a=Mu(a),a.tag=3,a}function tj(a,u,p,g){var b=p.type.getDerivedStateFromError;if(typeof b=="function"){var S=g.value;a.payload=function(){return b(S)},a.callback=function(){QP(u,p,g)}}var M=p.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(a.callback=function(){QP(u,p,g),typeof b!="function"&&(Iu===null?Iu=new Set([this]):Iu.add(this));var k=g.stack;this.componentDidCatch(g.value,{componentStack:k!==null?k:""})})}function xie(a,u,p,g,b){if(p.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(u=p.alternate,u!==null&&i0(u,p,b,!0),p=Cn.current,p!==null){switch(p.tag){case 13:return na===null?W$():p.alternate===null&&mi===0&&(mi=3),p.flags&=-257,p.flags|=65536,p.lanes=b,g===U3?p.flags|=16384:(u=p.updateQueue,u===null?p.updateQueue=new Set([g]):u.add(g),Y$(a,g,b)),!1;case 22:return p.flags|=65536,g===U3?p.flags|=16384:(u=p.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([g])},p.updateQueue=u):(p=u.retryQueue,p===null?u.retryQueue=new Set([g]):p.add(g)),Y$(a,g,b)),!1}throw Error(r(435,p.tag))}return Y$(a,g,b),W$(),!1}if(_t)return u=Cn.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=b,g!==z3&&(a=Error(r(422),{cause:g}),Gg(An(a,p)))):(g!==z3&&(u=Error(r(423),{cause:g}),Gg(An(u,p))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,g=An(g,p),b=d$(a.stateNode,g,b),E$(a,b),mi!==4&&(mi=2)),!1;var S=Error(r(520),{cause:g});if(S=An(S,p),h0===null?h0=[S]:h0.push(S),mi!==4&&(mi=2),u===null)return!0;g=An(g,p),p=u;do{switch(p.tag){case 3:return p.flags|=65536,a=b&-b,p.lanes|=a,a=d$(p.stateNode,g,a),E$(p,a),!1;case 1:if(u=p.type,S=p.stateNode,(p.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Iu===null||!Iu.has(S))))return p.flags|=65536,b&=-b,p.lanes|=b,b=ej(b),tj(b,a,p,g),E$(p,b),!1}p=p.return}while(p!==null);return!1}var ij=Error(r(461)),ur=!1;function Sr(a,u,p,g){u.child=a===null?aP(u,null,p,g):_h(u,a.child,p,g)}function rj(a,u,p,g,b){p=p.render;var S=u.ref;if("ref"in g){var M={};for(var k in g)k!=="ref"&&(M[k]=g[k])}else M=g;return Ah(u),g=Y3(a,u,p,M,S,b),k=J3(),a!==null&&!ur?(K3(a,u,b),Xa(a,u,b)):(_t&&k&&V3(u),u.flags|=1,Sr(a,u,g,b),u.child)}function sj(a,u,p,g,b){if(a===null){var S=p.type;return typeof S=="function"&&!j$(S)&&S.defaultProps===void 0&&p.compare===null?(u.tag=15,u.type=S,nj(a,u,S,g,b)):(a=Pb(p.type,null,g,u,u.mode,b),a.ref=u.ref,a.return=u,u.child=a)}if(S=a.child,!_$(a,b)){var M=S.memoizedProps;if(p=p.compare,p=p!==null?p:zg,p(M,g)&&a.ref===u.ref)return Xa(a,u,b)}return u.flags|=1,a=Cu(S,g),a.ref=u.ref,a.return=u,u.child=a}function nj(a,u,p,g,b){if(a!==null){var S=a.memoizedProps;if(zg(S,g)&&a.ref===u.ref)if(ur=!1,u.pendingProps=g=S,_$(a,b))(a.flags&131072)!==0&&(ur=!0);else return u.lanes=a.lanes,Xa(a,u,b)}return p$(a,u,p,g,b)}function oj(a,u,p){var g=u.pendingProps,b=g.children,S=(u.stateNode._pendingVisibility&2)!==0,M=a!==null?a.memoizedState:null;if(t0(a,u),g.mode==="hidden"||S){if((u.flags&128)!==0){if(g=M!==null?M.baseLanes|p:p,a!==null){for(b=u.child=a.child,S=0;b!==null;)S=S|b.lanes|b.childLanes,b=b.sibling;u.childLanes=S&~g}else u.childLanes=0,u.child=null;return aj(a,u,g,p)}if((p&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},a!==null&&wb(u,M!==null?M.cachePool:null),M!==null?lP(u,M):q3(),uP(u);else return u.lanes=u.childLanes=536870912,aj(a,u,M!==null?M.baseLanes|p:p,p)}else M!==null?(wb(u,M.cachePool),lP(u,M),_u(),u.memoizedState=null):(a!==null&&wb(u,null),q3(),_u());return Sr(a,u,b,p),u.child}function aj(a,u,p,g){var b=W3();return b=b===null?null:{parent:Yi._currentValue,pool:b},u.memoizedState={baseLanes:p,cachePool:b},a!==null&&wb(u,null),q3(),uP(u),a!==null&&i0(a,u,g,!0),null}function t0(a,u){var p=u.ref;if(p===null)a!==null&&a.ref!==null&&(u.flags|=2097664);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(a===null||a.ref!==p)&&(u.flags|=2097664)}}function p$(a,u,p,g,b){return Ah(u),p=Y3(a,u,p,g,void 0,b),g=J3(),a!==null&&!ur?(K3(a,u,b),Xa(a,u,b)):(_t&&g&&V3(u),u.flags|=1,Sr(a,u,p,b),u.child)}function lj(a,u,p,g,b,S){return Ah(u),u.updateQueue=null,p=fP(u,g,p,b),pP(a),g=J3(),a!==null&&!ur?(K3(a,u,S),Xa(a,u,S)):(_t&&g&&V3(u),u.flags|=1,Sr(a,u,p,S),u.child)}function uj(a,u,p,g,b){if(Ah(u),u.stateNode===null){var S=Zp,M=p.contextType;typeof M=="object"&&M!==null&&(S=Ir(M)),S=new p(g,S),u.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=h$,u.stateNode=S,S._reactInternals=u,S=u.stateNode,S.props=g,S.state=u.memoizedState,S.refs={},$$(u),M=p.contextType,S.context=typeof M=="object"&&M!==null?Ir(M):Zp,S.state=u.memoizedState,M=p.getDerivedStateFromProps,typeof M=="function"&&(c$(u,p,M,g),S.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(M=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),M!==S.state&&h$.enqueueReplaceState(S,S.state,null),n0(u,g,S,b),s0(),S.state=u.memoizedState),typeof S.componentDidMount=="function"&&(u.flags|=4194308),g=!0}else if(a===null){S=u.stateNode;var k=u.memoizedProps,D=Mh(p,k);S.props=D;var U=S.context,ne=p.contextType;M=Zp,typeof ne=="object"&&ne!==null&&(M=Ir(ne));var ue=p.getDerivedStateFromProps;ne=typeof ue=="function"||typeof S.getSnapshotBeforeUpdate=="function",k=u.pendingProps!==k,ne||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(k||U!==M)&&YP(u,S,g,M),$u=!1;var K=u.memoizedState;S.state=K,n0(u,g,S,b),s0(),U=u.memoizedState,k||K!==U||$u?(typeof ue=="function"&&(c$(u,p,ue,g),U=u.memoizedState),(D=$u||ZP(u,p,D,g,K,U,M))?(ne||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(u.flags|=4194308)):(typeof S.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=U),S.props=g,S.state=U,S.context=M,g=D):(typeof S.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{S=u.stateNode,M$(a,u),M=u.memoizedProps,ne=Mh(p,M),S.props=ne,ue=u.pendingProps,K=S.context,U=p.contextType,D=Zp,typeof U=="object"&&U!==null&&(D=Ir(U)),k=p.getDerivedStateFromProps,(U=typeof k=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==ue||K!==D)&&YP(u,S,g,D),$u=!1,K=u.memoizedState,S.state=K,n0(u,g,S,b),s0();var ie=u.memoizedState;M!==ue||K!==ie||$u||a!==null&&a.dependencies!==null&&kb(a.dependencies)?(typeof k=="function"&&(c$(u,p,k,g),ie=u.memoizedState),(ne=$u||ZP(u,p,ne,g,K,ie,D)||a!==null&&a.dependencies!==null&&kb(a.dependencies))?(U||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(g,ie,D),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(g,ie,D)),typeof S.componentDidUpdate=="function"&&(u.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof S.componentDidUpdate!="function"||M===a.memoizedProps&&K===a.memoizedState||(u.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&K===a.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=ie),S.props=g,S.state=ie,S.context=D,g=ne):(typeof S.componentDidUpdate!="function"||M===a.memoizedProps&&K===a.memoizedState||(u.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&K===a.memoizedState||(u.flags|=1024),g=!1)}return S=g,t0(a,u),g=(u.flags&128)!==0,S||g?(S=u.stateNode,p=g&&typeof p.getDerivedStateFromError!="function"?null:S.render(),u.flags|=1,a!==null&&g?(u.child=_h(u,a.child,null,b),u.child=_h(u,null,p,b)):Sr(a,u,p,b),u.memoizedState=S.state,a=u.child):a=Xa(a,u,b),a}function cj(a,u,p,g){return Bg(),u.flags|=256,Sr(a,u,p,g),u.child}var f$={dehydrated:null,treeContext:null,retryLane:0};function m$(a){return{baseLanes:a,cachePool:dP()}}function y$(a,u,p){return a=a!==null?a.childLanes&~p:0,u&&(a|=jn),a}function hj(a,u,p){var g=u.pendingProps,b=!1,S=(u.flags&128)!==0,M;if((M=S)||(M=a!==null&&a.memoizedState===null?!1:(Zi.current&2)!==0),M&&(b=!0,u.flags&=-129),M=(u.flags&32)!==0,u.flags&=-33,a===null){if(_t){if(b?bu(u):_u(),_t){var k=_r,D;if(D=k){e:{for(D=k,k=sa;D.nodeType!==8;){if(!k){k=null;break e}if(D=bo(D.nextSibling),D===null){k=null;break e}}k=D}k!==null?(u.memoizedState={dehydrated:k,treeContext:vh!==null?{id:Za,overflow:Ya}:null,retryLane:536870912},D=Pn(18,null,null,0),D.stateNode=k,D.return=u,u.child=D,rs=u,_r=null,D=!0):D=!1}D||bh(u)}if(k=u.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return k.data==="$!"?u.lanes=16:u.lanes=536870912,null;Ja(u)}return k=g.children,g=g.fallback,b?(_u(),b=u.mode,k=v$({mode:"hidden",children:k},b),g=kh(g,b,p,null),k.return=u,g.return=u,k.sibling=g,u.child=k,b=u.child,b.memoizedState=m$(p),b.childLanes=y$(a,M,p),u.memoizedState=f$,g):(bu(u),g$(u,k))}if(D=a.memoizedState,D!==null&&(k=D.dehydrated,k!==null)){if(S)u.flags&256?(bu(u),u.flags&=-257,u=w$(a,u,p)):u.memoizedState!==null?(_u(),u.child=a.child,u.flags|=128,u=null):(_u(),b=g.fallback,k=u.mode,g=v$({mode:"visible",children:g.children},k),b=kh(b,k,p,null),b.flags|=2,g.return=u,b.return=u,g.sibling=b,u.child=g,_h(u,a.child,null,p),g=u.child,g.memoizedState=m$(p),g.childLanes=y$(a,M,p),u.memoizedState=f$,u=b);else if(bu(u),k.data==="$!"){if(M=k.nextSibling&&k.nextSibling.dataset,M)var U=M.dgst;M=U,g=Error(r(419)),g.stack="",g.digest=M,Gg({value:g,source:null,stack:null}),u=w$(a,u,p)}else if(ur||i0(a,u,p,!1),M=(p&a.childLanes)!==0,ur||M){if(M=Vt,M!==null){if(g=p&-p,(g&42)!==0)g=1;else switch(g){case 2:g=1;break;case 8:g=4;break;case 32:g=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:g=64;break;case 268435456:g=134217728;break;default:g=0}if(g=(g&(M.suspendedLanes|p))!==0?0:g,g!==0&&g!==D.retryLane)throw D.retryLane=g,wu(a,g),ss(M,a,g),ij}k.data==="$?"||W$(),u=w$(a,u,p)}else k.data==="$?"?(u.flags|=128,u.child=a.child,u=Lie.bind(null,a),k._reactRetry=u,u=null):(a=D.treeContext,_r=bo(k.nextSibling),rs=u,_t=!0,vo=null,sa=!1,a!==null&&(On[kn++]=Za,On[kn++]=Ya,On[kn++]=vh,Za=a.id,Ya=a.overflow,vh=u),u=g$(u,g.children),u.flags|=4096);return u}return b?(_u(),b=g.fallback,k=u.mode,D=a.child,U=D.sibling,g=Cu(D,{mode:"hidden",children:g.children}),g.subtreeFlags=D.subtreeFlags&31457280,U!==null?b=Cu(U,b):(b=kh(b,k,p,null),b.flags|=2),b.return=u,g.return=u,g.sibling=b,u.child=g,g=b,b=u.child,k=a.child.memoizedState,k===null?k=m$(p):(D=k.cachePool,D!==null?(U=Yi._currentValue,D=D.parent!==U?{parent:U,pool:U}:D):D=dP(),k={baseLanes:k.baseLanes|p,cachePool:D}),b.memoizedState=k,b.childLanes=y$(a,M,p),u.memoizedState=f$,g):(bu(u),p=a.child,a=p.sibling,p=Cu(p,{mode:"visible",children:g.children}),p.return=u,p.sibling=null,a!==null&&(M=u.deletions,M===null?(u.deletions=[a],u.flags|=16):M.push(a)),u.child=p,u.memoizedState=null,p)}function g$(a,u){return u=v$({mode:"visible",children:u},a.mode),u.return=a,a.child=u}function v$(a,u){return Dj(a,u,0,null)}function w$(a,u,p){return _h(u,a.child,null,p),a=g$(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function dj(a,u,p){a.lanes|=u;var g=a.alternate;g!==null&&(g.lanes|=u),x$(a.return,u,p)}function b$(a,u,p,g,b){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:p,tailMode:b}:(S.isBackwards=u,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=p,S.tailMode=b)}function pj(a,u,p){var g=u.pendingProps,b=g.revealOrder,S=g.tail;if(Sr(a,u,g.children,p),g=Zi.current,(g&2)!==0)g=g&1|2,u.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&dj(a,p,u);else if(a.tag===19)dj(a,p,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}switch(Lt(Zi,g),b){case"forwards":for(p=u.child,b=null;p!==null;)a=p.alternate,a!==null&&vb(a)===null&&(b=p),p=p.sibling;p=b,p===null?(b=u.child,u.child=null):(b=p.sibling,p.sibling=null),b$(u,!1,b,p,S);break;case"backwards":for(p=null,b=u.child,u.child=null;b!==null;){if(a=b.alternate,a!==null&&vb(a)===null){u.child=b;break}a=b.sibling,b.sibling=p,p=b,b=a}b$(u,!0,p,null,S);break;case"together":b$(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Xa(a,u,p){if(a!==null&&(u.dependencies=a.dependencies),Ru|=u.lanes,(p&u.childLanes)===0)if(a!==null){if(i0(a,u,p,!1),(p&u.childLanes)===0)return null}else return null;if(a!==null&&u.child!==a.child)throw Error(r(153));if(u.child!==null){for(a=u.child,p=Cu(a,a.pendingProps),u.child=p,p.return=u;a.sibling!==null;)a=a.sibling,p=p.sibling=Cu(a,a.pendingProps),p.return=u;p.sibling=null}return u.child}function _$(a,u){return(a.lanes&u)!==0?!0:(a=a.dependencies,!!(a!==null&&kb(a)))}function Tie(a,u,p){switch(u.tag){case 3:Cp(u,u.stateNode.containerInfo),Tu(u,Yi,a.memoizedState.cache),Bg();break;case 27:case 5:kg(u);break;case 4:Cp(u,u.stateNode.containerInfo);break;case 10:Tu(u,u.type,u.memoizedProps.value);break;case 13:var g=u.memoizedState;if(g!==null)return g.dehydrated!==null?(bu(u),u.flags|=128,null):(p&u.child.childLanes)!==0?hj(a,u,p):(bu(u),a=Xa(a,u,p),a!==null?a.sibling:null);bu(u);break;case 19:var b=(a.flags&128)!==0;if(g=(p&u.childLanes)!==0,g||(i0(a,u,p,!1),g=(p&u.childLanes)!==0),b){if(g)return pj(a,u,p);u.flags|=128}if(b=u.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Lt(Zi,Zi.current),g)break;return null;case 22:case 23:return u.lanes=0,oj(a,u,p);case 24:Tu(u,Yi,a.memoizedState.cache)}return Xa(a,u,p)}function fj(a,u,p){if(a!==null)if(a.memoizedProps!==u.pendingProps)ur=!0;else{if(!_$(a,p)&&(u.flags&128)===0)return ur=!1,Tie(a,u,p);ur=(a.flags&131072)!==0}else ur=!1,_t&&(u.flags&1048576)!==0&&XI(u,pb,u.index);switch(u.lanes=0,u.tag){case 16:e:{a=u.pendingProps;var g=u.elementType,b=g._init;if(g=b(g._payload),u.type=g,typeof g=="function")j$(g)?(a=Mh(g,a),u.tag=1,u=uj(null,u,g,a,p)):(u.tag=0,u=p$(null,u,g,a,p));else{if(g!=null){if(b=g.$$typeof,b===x){u.tag=11,u=rj(null,u,g,a,p);break e}else if(b===O){u.tag=14,u=sj(null,u,g,a,p);break e}}throw u=Q(g)||g,Error(r(306,u,""))}}return u;case 0:return p$(a,u,u.type,u.pendingProps,p);case 1:return g=u.type,b=Mh(g,u.pendingProps),uj(a,u,g,b,p);case 3:e:{if(Cp(u,u.stateNode.containerInfo),a===null)throw Error(r(387));var S=u.pendingProps;b=u.memoizedState,g=b.element,M$(a,u),n0(u,S,null,p);var M=u.memoizedState;if(S=M.cache,Tu(u,Yi,S),S!==b.cache&&T$(u,[Yi],p,!0),s0(),S=M.element,b.isDehydrated)if(b={element:S,isDehydrated:!1,cache:M.cache},u.updateQueue.baseState=b,u.memoizedState=b,u.flags&256){u=cj(a,u,S,p);break e}else if(S!==g){g=An(Error(r(424)),u),Gg(g),u=cj(a,u,S,p);break e}else for(_r=bo(u.stateNode.containerInfo.firstChild),rs=u,_t=!0,vo=null,sa=!0,p=aP(u,null,S,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Bg(),S===g){u=Xa(a,u,p);break e}Sr(a,u,S,p)}u=u.child}return u;case 26:return t0(a,u),a===null?(p=gN(u.type,null,u.pendingProps,null))?u.memoizedState=p:_t||(p=u.type,a=u.pendingProps,g=Hb(ta.current).createElement(p),g[ar]=u,g[ri]=a,xr(g,p,a),Di(g),u.stateNode=g):u.memoizedState=gN(u.type,a.memoizedProps,u.pendingProps,a.memoizedState),null;case 27:return kg(u),a===null&&_t&&(g=u.stateNode=fN(u.type,u.pendingProps,ta.current),rs=u,sa=!0,_r=bo(g.firstChild)),g=u.pendingProps.children,a!==null||_t?Sr(a,u,g,p):u.child=_h(u,null,g,p),t0(a,u),u.child;case 5:return a===null&&_t&&((b=g=_r)&&(g=ere(g,u.type,u.pendingProps,sa),g!==null?(u.stateNode=g,rs=u,_r=bo(g.firstChild),sa=!1,b=!0):b=!1),b||bh(u)),kg(u),b=u.type,S=u.pendingProps,M=a!==null?a.memoizedProps:null,g=S.children,aM(b,S)?g=null:M!==null&&aM(b,M)&&(u.flags|=32),u.memoizedState!==null&&(b=Y3(a,u,gie,null,null,p),b0._currentValue=b),t0(a,u),Sr(a,u,g,p),u.child;case 6:return a===null&&_t&&((a=p=_r)&&(p=tre(p,u.pendingProps,sa),p!==null?(u.stateNode=p,rs=u,_r=null,a=!0):a=!1),a||bh(u)),null;case 13:return hj(a,u,p);case 4:return Cp(u,u.stateNode.containerInfo),g=u.pendingProps,a===null?u.child=_h(u,null,g,p):Sr(a,u,g,p),u.child;case 11:return rj(a,u,u.type,u.pendingProps,p);case 7:return Sr(a,u,u.pendingProps,p),u.child;case 8:return Sr(a,u,u.pendingProps.children,p),u.child;case 12:return Sr(a,u,u.pendingProps.children,p),u.child;case 10:return g=u.pendingProps,Tu(u,u.type,g.value),Sr(a,u,g.children,p),u.child;case 9:return b=u.type._context,g=u.pendingProps.children,Ah(u),b=Ir(b),g=g(b),u.flags|=1,Sr(a,u,g,p),u.child;case 14:return sj(a,u,u.type,u.pendingProps,p);case 15:return nj(a,u,u.type,u.pendingProps,p);case 19:return pj(a,u,p);case 22:return oj(a,u,p);case 24:return Ah(u),g=Ir(Yi),a===null?(b=W3(),b===null&&(b=Vt,S=G3(),b.pooledCache=S,S.refCount++,S!==null&&(b.pooledCacheLanes|=p),b=S),u.memoizedState={parent:g,cache:b},$$(u),Tu(u,Yi,b)):((a.lanes&p)!==0&&(M$(a,u),n0(u,null,null,p),s0()),b=a.memoizedState,S=u.memoizedState,b.parent!==g?(b={parent:g,cache:g},u.memoizedState=b,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=b),Tu(u,Yi,g)):(g=S.cache,Tu(u,Yi,g),g!==b.cache&&T$(u,[Yi],p,!0))),Sr(a,u,u.pendingProps.children,p),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}var S$=bt(null),Eh=null,Qa=null;function Tu(a,u,p){Lt(S$,u._currentValue),u._currentValue=p}function el(a){a._currentValue=S$.current,pi(S$)}function x$(a,u,p){for(;a!==null;){var g=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),a===p)break;a=a.return}}function T$(a,u,p,g){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var S=b.dependencies;if(S!==null){var M=b.child;S=S.firstContext;e:for(;S!==null;){var k=S;S=b;for(var D=0;D<u.length;D++)if(k.context===u[D]){S.lanes|=p,k=S.alternate,k!==null&&(k.lanes|=p),x$(S.return,p,a),g||(M=null);break e}S=k.next}}else if(b.tag===18){if(M=b.return,M===null)throw Error(r(341));M.lanes|=p,S=M.alternate,S!==null&&(S.lanes|=p),x$(M,p,a),M=null}else M=b.child;if(M!==null)M.return=b;else for(M=b;M!==null;){if(M===a){M=null;break}if(b=M.sibling,b!==null){b.return=M.return,M=b;break}M=M.return}b=M}}function i0(a,u,p,g){a=null;for(var b=u,S=!1;b!==null;){if(!S){if((b.flags&524288)!==0)S=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var M=b.alternate;if(M===null)throw Error(r(387));if(M=M.memoizedProps,M!==null){var k=b.type;Xs(b.pendingProps.value,M.value)||(a!==null?a.push(k):a=[k])}}else if(b===kp.current){if(M=b.alternate,M===null)throw Error(r(387));M.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(b0):a=[b0])}b=b.return}a!==null&&T$(u,a,p,g),u.flags|=262144}function kb(a){for(a=a.firstContext;a!==null;){if(!Xs(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ah(a){Eh=a,Qa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Ir(a){return mj(Eh,a)}function Cb(a,u){return Eh===null&&Ah(a),mj(a,u)}function mj(a,u){var p=u._currentValue;if(u={context:u,memoizedValue:p,next:null},Qa===null){if(a===null)throw Error(r(308));Qa=u,a.dependencies={lanes:0,firstContext:u},a.flags|=524288}else Qa=Qa.next=u;return p}var $u=!1;function $$(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function M$(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Mu(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Eu(a,u,p){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(ni&2)!==0){var b=g.pending;return b===null?u.next=u:(u.next=b.next,b.next=u),g.pending=u,u=hb(a),JI(a,null,p),u}return cb(a,g,u,p),hb(a)}function r0(a,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194176)!==0)){var g=u.lanes;g&=a.pendingLanes,p|=g,u.lanes=p,Ee(a,p)}}function E$(a,u){var p=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,p===g)){var b=null,S=null;if(p=p.firstBaseUpdate,p!==null){do{var M={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};S===null?b=S=M:S=S.next=M,p=p.next}while(p!==null);S===null?b=S=u:S=S.next=u}else b=S=u;p={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:g.shared,callbacks:g.callbacks},a.updateQueue=p;return}a=p.lastBaseUpdate,a===null?p.firstBaseUpdate=u:a.next=u,p.lastBaseUpdate=u}var A$=!1;function s0(){if(A$){var a=ef;if(a!==null)throw a}}function n0(a,u,p,g){A$=!1;var b=a.updateQueue;$u=!1;var S=b.firstBaseUpdate,M=b.lastBaseUpdate,k=b.shared.pending;if(k!==null){b.shared.pending=null;var D=k,U=D.next;D.next=null,M===null?S=U:M.next=U,M=D;var ne=a.alternate;ne!==null&&(ne=ne.updateQueue,k=ne.lastBaseUpdate,k!==M&&(k===null?ne.firstBaseUpdate=U:k.next=U,ne.lastBaseUpdate=D))}if(S!==null){var ue=b.baseState;M=0,ne=U=D=null,k=S;do{var K=k.lane&-536870913,ie=K!==k.lane;if(ie?(gt&K)===K:(g&K)===K){K!==0&&K===Qp&&(A$=!0),ne!==null&&(ne=ne.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Pe=a,Je=k;K=u;var yi=p;switch(Je.tag){case 1:if(Pe=Je.payload,typeof Pe=="function"){ue=Pe.call(yi,ue,K);break e}ue=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Je.payload,K=typeof Pe=="function"?Pe.call(yi,ue,K):Pe,K==null)break e;ue=te({},ue,K);break e;case 2:$u=!0}}K=k.callback,K!==null&&(a.flags|=64,ie&&(a.flags|=8192),ie=b.callbacks,ie===null?b.callbacks=[K]:ie.push(K))}else ie={lane:K,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ne===null?(U=ne=ie,D=ue):ne=ne.next=ie,M|=K;if(k=k.next,k===null){if(k=b.shared.pending,k===null)break;ie=k,k=ie.next,ie.next=null,b.lastBaseUpdate=ie,b.shared.pending=null}}while(!0);ne===null&&(D=ue),b.baseState=D,b.firstBaseUpdate=U,b.lastBaseUpdate=ne,S===null&&(b.shared.lanes=0),Ru|=M,a.lanes=M,a.memoizedState=ue}}function yj(a,u){if(typeof a!="function")throw Error(r(191,a));a.call(u)}function gj(a,u){var p=a.callbacks;if(p!==null)for(a.callbacks=null,a=0;a<p.length;a++)yj(p[a],u)}function o0(a,u){try{var p=u.updateQueue,g=p!==null?p.lastEffect:null;if(g!==null){var b=g.next;p=b;do{if((p.tag&a)===a){g=void 0;var S=p.create,M=p.inst;g=S(),M.destroy=g}p=p.next}while(p!==b)}}catch(k){jt(u,u.return,k)}}function Au(a,u,p){try{var g=u.updateQueue,b=g!==null?g.lastEffect:null;if(b!==null){var S=b.next;g=S;do{if((g.tag&a)===a){var M=g.inst,k=M.destroy;if(k!==void 0){M.destroy=void 0,b=u;var D=p;try{k()}catch(U){jt(b,D,U)}}}g=g.next}while(g!==S)}}catch(U){jt(u,u.return,U)}}function vj(a){var u=a.updateQueue;if(u!==null){var p=a.stateNode;try{gj(u,p)}catch(g){jt(a,a.return,g)}}}function wj(a,u,p){p.props=Mh(a.type,a.memoizedProps),p.state=a.memoizedState;try{p.componentWillUnmount()}catch(g){jt(a,u,g)}}function Oh(a,u){try{var p=a.ref;if(p!==null){var g=a.stateNode;switch(a.tag){case 26:case 27:case 5:var b=g;break;default:b=g}typeof p=="function"?a.refCleanup=p(b):p.current=b}}catch(S){jt(a,u,S)}}function Qs(a,u){var p=a.ref,g=a.refCleanup;if(p!==null)if(typeof g=="function")try{g()}catch(b){jt(a,u,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(b){jt(a,u,b)}else p.current=null}function bj(a){var u=a.type,p=a.memoizedProps,g=a.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":p.autoFocus&&g.focus();break e;case"img":p.src?g.src=p.src:p.srcSet&&(g.srcset=p.srcSet)}}catch(b){jt(a,a.return,b)}}function _j(a,u,p){try{var g=a.stateNode;Yie(g,a.type,p,u),g[ri]=u}catch(b){jt(a,a.return,b)}}function Sj(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27||a.tag===4}function O$(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Sj(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==27&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function k$(a,u,p){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?p.nodeType===8?p.parentNode.insertBefore(a,u):p.insertBefore(a,u):(p.nodeType===8?(u=p.parentNode,u.insertBefore(a,p)):(u=p,u.appendChild(a)),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=Gb));else if(g!==4&&g!==27&&(a=a.child,a!==null))for(k$(a,u,p),a=a.sibling;a!==null;)k$(a,u,p),a=a.sibling}function Rb(a,u,p){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?p.insertBefore(a,u):p.appendChild(a);else if(g!==4&&g!==27&&(a=a.child,a!==null))for(Rb(a,u,p),a=a.sibling;a!==null;)Rb(a,u,p),a=a.sibling}var tl=!1,fi=!1,C$=!1,xj=typeof WeakSet=="function"?WeakSet:Set,cr=null,Tj=!1;function $ie(a,u){if(a=a.containerInfo,nM=Xb,a=zI(a),I3(a)){if("selectionStart"in a)var p={start:a.selectionStart,end:a.selectionEnd};else e:{p=(p=a.ownerDocument)&&p.defaultView||window;var g=p.getSelection&&p.getSelection();if(g&&g.rangeCount!==0){p=g.anchorNode;var b=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{p.nodeType,S.nodeType}catch{p=null;break e}var M=0,k=-1,D=-1,U=0,ne=0,ue=a,K=null;t:for(;;){for(var ie;ue!==p||b!==0&&ue.nodeType!==3||(k=M+b),ue!==S||g!==0&&ue.nodeType!==3||(D=M+g),ue.nodeType===3&&(M+=ue.nodeValue.length),(ie=ue.firstChild)!==null;)K=ue,ue=ie;for(;;){if(ue===a)break t;if(K===p&&++U===b&&(k=M),K===S&&++ne===g&&(D=M),(ie=ue.nextSibling)!==null)break;ue=K,K=ue.parentNode}ue=ie}p=k===-1||D===-1?null:{start:k,end:D}}else p=null}p=p||{start:0,end:0}}else p=null;for(oM={focusedElem:a,selectionRange:p},Xb=!1,cr=u;cr!==null;)if(u=cr,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,cr=a;else for(;cr!==null;){switch(u=cr,S=u.alternate,a=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&S!==null){a=void 0,p=u,b=S.memoizedProps,S=S.memoizedState,g=p.stateNode;try{var Pe=Mh(p.type,b,p.elementType===p.type);a=g.getSnapshotBeforeUpdate(Pe,S),g.__reactInternalSnapshotBeforeUpdate=a}catch(Je){jt(p,p.return,Je)}}break;case 3:if((a&1024)!==0){if(a=u.stateNode.containerInfo,p=a.nodeType,p===9)cM(a);else if(p===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":cM(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=u.sibling,a!==null){a.return=u.return,cr=a;break}cr=u.return}return Pe=Tj,Tj=!1,Pe}function $j(a,u,p){var g=p.flags;switch(p.tag){case 0:case 11:case 15:rl(a,p),g&4&&o0(5,p);break;case 1:if(rl(a,p),g&4)if(a=p.stateNode,u===null)try{a.componentDidMount()}catch(k){jt(p,p.return,k)}else{var b=Mh(p.type,u.memoizedProps);u=u.memoizedState;try{a.componentDidUpdate(b,u,a.__reactInternalSnapshotBeforeUpdate)}catch(k){jt(p,p.return,k)}}g&64&&vj(p),g&512&&Oh(p,p.return);break;case 3:if(rl(a,p),g&64&&(g=p.updateQueue,g!==null)){if(a=null,p.child!==null)switch(p.child.tag){case 27:case 5:a=p.child.stateNode;break;case 1:a=p.child.stateNode}try{gj(g,a)}catch(k){jt(p,p.return,k)}}break;case 26:rl(a,p),g&512&&Oh(p,p.return);break;case 27:case 5:rl(a,p),u===null&&g&4&&bj(p),g&512&&Oh(p,p.return);break;case 12:rl(a,p);break;case 13:rl(a,p),g&4&&Aj(a,p);break;case 22:if(b=p.memoizedState!==null||tl,!b){u=u!==null&&u.memoizedState!==null||fi;var S=tl,M=fi;tl=b,(fi=u)&&!M?Ou(a,p,(p.subtreeFlags&8772)!==0):rl(a,p),tl=S,fi=M}g&512&&(p.memoizedProps.mode==="manual"?Oh(p,p.return):Qs(p,p.return));break;default:rl(a,p)}}function Mj(a){var u=a.alternate;u!==null&&(a.alternate=null,Mj(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&Rg(u)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Fi=null,en=!1;function il(a,u,p){for(p=p.child;p!==null;)Ej(a,u,p),p=p.sibling}function Ej(a,u,p){if(es&&typeof es.onCommitFiberUnmount=="function")try{es.onCommitFiberUnmount(uh,p)}catch{}switch(p.tag){case 26:fi||Qs(p,u),il(a,u,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:fi||Qs(p,u);var g=Fi,b=en;for(Fi=p.stateNode,il(a,u,p),p=p.stateNode,u=p.attributes;u.length;)p.removeAttributeNode(u[0]);Rg(p),Fi=g,en=b;break;case 5:fi||Qs(p,u);case 6:b=Fi;var S=en;if(Fi=null,il(a,u,p),Fi=b,en=S,Fi!==null)if(en)try{a=Fi,g=p.stateNode,a.nodeType===8?a.parentNode.removeChild(g):a.removeChild(g)}catch(M){jt(p,u,M)}else try{Fi.removeChild(p.stateNode)}catch(M){jt(p,u,M)}break;case 18:Fi!==null&&(en?(u=Fi,p=p.stateNode,u.nodeType===8?uM(u.parentNode,p):u.nodeType===1&&uM(u,p),T0(u)):uM(Fi,p.stateNode));break;case 4:g=Fi,b=en,Fi=p.stateNode.containerInfo,en=!0,il(a,u,p),Fi=g,en=b;break;case 0:case 11:case 14:case 15:fi||Au(2,p,u),fi||Au(4,p,u),il(a,u,p);break;case 1:fi||(Qs(p,u),g=p.stateNode,typeof g.componentWillUnmount=="function"&&wj(p,u,g)),il(a,u,p);break;case 21:il(a,u,p);break;case 22:fi||Qs(p,u),fi=(g=fi)||p.memoizedState!==null,il(a,u,p),fi=g;break;default:il(a,u,p)}}function Aj(a,u){if(u.memoizedState===null&&(a=u.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{T0(a)}catch(p){jt(u,u.return,p)}}function Mie(a){switch(a.tag){case 13:case 19:var u=a.stateNode;return u===null&&(u=a.stateNode=new xj),u;case 22:return a=a.stateNode,u=a._retryCache,u===null&&(u=a._retryCache=new xj),u;default:throw Error(r(435,a.tag))}}function R$(a,u){var p=Mie(a);u.forEach(function(g){var b=Vie.bind(null,a,g);p.has(g)||(p.add(g),g.then(b,b))})}function Rn(a,u){var p=u.deletions;if(p!==null)for(var g=0;g<p.length;g++){var b=p[g],S=a,M=u,k=M;e:for(;k!==null;){switch(k.tag){case 27:case 5:Fi=k.stateNode,en=!1;break e;case 3:Fi=k.stateNode.containerInfo,en=!0;break e;case 4:Fi=k.stateNode.containerInfo,en=!0;break e}k=k.return}if(Fi===null)throw Error(r(160));Ej(S,M,b),Fi=null,en=!1,S=b.alternate,S!==null&&(S.return=null),b.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)Oj(u,a),u=u.sibling}var wo=null;function Oj(a,u){var p=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Rn(u,a),In(a),g&4&&(Au(3,a,a.return),o0(3,a),Au(5,a,a.return));break;case 1:Rn(u,a),In(a),g&512&&(fi||p===null||Qs(p,p.return)),g&64&&tl&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(p=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=p===null?g:p.concat(g))));break;case 26:var b=wo;if(Rn(u,a),In(a),g&512&&(fi||p===null||Qs(p,p.return)),g&4){var S=p!==null?p.memoizedState:null;if(g=a.memoizedState,p===null)if(g===null)if(a.stateNode===null){e:{g=a.type,p=a.memoizedProps,b=b.ownerDocument||b;t:switch(g){case"title":S=b.getElementsByTagName("title")[0],(!S||S[ph]||S[ar]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=b.createElement(g),b.head.insertBefore(S,b.querySelector("head > title"))),xr(S,g,p),S[ar]=a,Di(S),g=S;break e;case"link":var M=bN("link","href",b).get(g+(p.href||""));if(M){for(var k=0;k<M.length;k++)if(S=M[k],S.getAttribute("href")===(p.href==null?null:p.href)&&S.getAttribute("rel")===(p.rel==null?null:p.rel)&&S.getAttribute("title")===(p.title==null?null:p.title)&&S.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){M.splice(k,1);break t}}S=b.createElement(g),xr(S,g,p),b.head.appendChild(S);break;case"meta":if(M=bN("meta","content",b).get(g+(p.content||""))){for(k=0;k<M.length;k++)if(S=M[k],S.getAttribute("content")===(p.content==null?null:""+p.content)&&S.getAttribute("name")===(p.name==null?null:p.name)&&S.getAttribute("property")===(p.property==null?null:p.property)&&S.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&S.getAttribute("charset")===(p.charSet==null?null:p.charSet)){M.splice(k,1);break t}}S=b.createElement(g),xr(S,g,p),b.head.appendChild(S);break;default:throw Error(r(468,g))}S[ar]=a,Di(S),g=S}a.stateNode=g}else _N(b,a.type,a.stateNode);else a.stateNode=wN(b,g,a.memoizedProps);else S!==g?(S===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):S.count--,g===null?_N(b,a.type,a.stateNode):wN(b,g,a.memoizedProps)):g===null&&a.stateNode!==null&&_j(a,a.memoizedProps,p.memoizedProps)}break;case 27:if(g&4&&a.alternate===null){b=a.stateNode,S=a.memoizedProps;try{for(var D=b.firstChild;D;){var U=D.nextSibling,ne=D.nodeName;D[ph]||ne==="HEAD"||ne==="BODY"||ne==="SCRIPT"||ne==="STYLE"||ne==="LINK"&&D.rel.toLowerCase()==="stylesheet"||b.removeChild(D),D=U}for(var ue=a.type,K=b.attributes;K.length;)b.removeAttributeNode(K[0]);xr(b,ue,S),b[ar]=a,b[ri]=S}catch(Pe){jt(a,a.return,Pe)}}case 5:if(Rn(u,a),In(a),g&512&&(fi||p===null||Qs(p,p.return)),a.flags&32){b=a.stateNode;try{zp(b,"")}catch(Pe){jt(a,a.return,Pe)}}g&4&&a.stateNode!=null&&(b=a.memoizedProps,_j(a,b,p!==null?p.memoizedProps:b)),g&1024&&(C$=!0);break;case 6:if(Rn(u,a),In(a),g&4){if(a.stateNode===null)throw Error(r(162));g=a.memoizedProps,p=a.stateNode;try{p.nodeValue=g}catch(Pe){jt(a,a.return,Pe)}}break;case 3:if(Yb=null,b=wo,wo=Wb(u.containerInfo),Rn(u,a),wo=b,In(a),g&4&&p!==null&&p.memoizedState.isDehydrated)try{T0(u.containerInfo)}catch(Pe){jt(a,a.return,Pe)}C$&&(C$=!1,kj(a));break;case 4:g=wo,wo=Wb(a.stateNode.containerInfo),Rn(u,a),In(a),wo=g;break;case 12:Rn(u,a),In(a);break;case 13:Rn(u,a),In(a),a.child.flags&8192&&a.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(z$=$n()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,R$(a,g)));break;case 22:if(g&512&&(fi||p===null||Qs(p,p.return)),D=a.memoizedState!==null,U=p!==null&&p.memoizedState!==null,ne=tl,ue=fi,tl=ne||D,fi=ue||U,Rn(u,a),fi=ue,tl=ne,In(a),u=a.stateNode,u._current=a,u._visibility&=-3,u._visibility|=u._pendingVisibility&2,g&8192&&(u._visibility=D?u._visibility&-2:u._visibility|1,D&&(u=tl||fi,p===null||U||u||nf(a)),a.memoizedProps===null||a.memoizedProps.mode!=="manual"))e:for(p=null,u=a;;){if(u.tag===5||u.tag===26||u.tag===27){if(p===null){U=p=u;try{if(b=U.stateNode,D)S=b.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{M=U.stateNode,k=U.memoizedProps.style;var ie=k!=null&&k.hasOwnProperty("display")?k.display:null;M.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Pe){jt(U,U.return,Pe)}}}else if(u.tag===6){if(p===null){U=u;try{U.stateNode.nodeValue=D?"":U.memoizedProps}catch(Pe){jt(U,U.return,Pe)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===a)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break e;for(;u.sibling===null;){if(u.return===null||u.return===a)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}g&4&&(g=a.updateQueue,g!==null&&(p=g.retryQueue,p!==null&&(g.retryQueue=null,R$(a,p))));break;case 19:Rn(u,a),In(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,R$(a,g)));break;case 21:break;default:Rn(u,a),In(a)}}function In(a){var u=a.flags;if(u&2){try{if(a.tag!==27){e:{for(var p=a.return;p!==null;){if(Sj(p)){var g=p;break e}p=p.return}throw Error(r(160))}switch(g.tag){case 27:var b=g.stateNode,S=O$(a);Rb(a,S,b);break;case 5:var M=g.stateNode;g.flags&32&&(zp(M,""),g.flags&=-33);var k=O$(a);Rb(a,k,M);break;case 3:case 4:var D=g.stateNode.containerInfo,U=O$(a);k$(a,U,D);break;default:throw Error(r(161))}}}catch(ne){jt(a,a.return,ne)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function kj(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var u=a;kj(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),a=a.sibling}}function rl(a,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)$j(a,u.alternate,u),u=u.sibling}function nf(a){for(a=a.child;a!==null;){var u=a;switch(u.tag){case 0:case 11:case 14:case 15:Au(4,u,u.return),nf(u);break;case 1:Qs(u,u.return);var p=u.stateNode;typeof p.componentWillUnmount=="function"&&wj(u,u.return,p),nf(u);break;case 26:case 27:case 5:Qs(u,u.return),nf(u);break;case 22:Qs(u,u.return),u.memoizedState===null&&nf(u);break;default:nf(u)}a=a.sibling}}function Ou(a,u,p){for(p=p&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var g=u.alternate,b=a,S=u,M=S.flags;switch(S.tag){case 0:case 11:case 15:Ou(b,S,p),o0(4,S);break;case 1:if(Ou(b,S,p),g=S,b=g.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(U){jt(g,g.return,U)}if(g=S,b=g.updateQueue,b!==null){var k=g.stateNode;try{var D=b.shared.hiddenCallbacks;if(D!==null)for(b.shared.hiddenCallbacks=null,b=0;b<D.length;b++)yj(D[b],k)}catch(U){jt(g,g.return,U)}}p&&M&64&&vj(S),Oh(S,S.return);break;case 26:case 27:case 5:Ou(b,S,p),p&&g===null&&M&4&&bj(S),Oh(S,S.return);break;case 12:Ou(b,S,p);break;case 13:Ou(b,S,p),p&&M&4&&Aj(b,S);break;case 22:S.memoizedState===null&&Ou(b,S,p),Oh(S,S.return);break;default:Ou(b,S,p)}u=u.sibling}}function I$(a,u){var p=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),a=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(a=u.memoizedState.cachePool.pool),a!==p&&(a!=null&&a.refCount++,p!=null&&Jg(p))}function P$(a,u){a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&Jg(a))}function ku(a,u,p,g){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Cj(a,u,p,g),u=u.sibling}function Cj(a,u,p,g){var b=u.flags;switch(u.tag){case 0:case 11:case 15:ku(a,u,p,g),b&2048&&o0(9,u);break;case 3:ku(a,u,p,g),b&2048&&(a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&Jg(a)));break;case 12:if(b&2048){ku(a,u,p,g),a=u.stateNode;try{var S=u.memoizedProps,M=S.id,k=S.onPostCommit;typeof k=="function"&&k(M,u.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(D){jt(u,u.return,D)}}else ku(a,u,p,g);break;case 23:break;case 22:S=u.stateNode,u.memoizedState!==null?S._visibility&4?ku(a,u,p,g):a0(a,u):S._visibility&4?ku(a,u,p,g):(S._visibility|=4,of(a,u,p,g,(u.subtreeFlags&10256)!==0)),b&2048&&I$(u.alternate,u);break;case 24:ku(a,u,p,g),b&2048&&P$(u.alternate,u);break;default:ku(a,u,p,g)}}function of(a,u,p,g,b){for(b=b&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var S=a,M=u,k=p,D=g,U=M.flags;switch(M.tag){case 0:case 11:case 15:of(S,M,k,D,b),o0(8,M);break;case 23:break;case 22:var ne=M.stateNode;M.memoizedState!==null?ne._visibility&4?of(S,M,k,D,b):a0(S,M):(ne._visibility|=4,of(S,M,k,D,b)),b&&U&2048&&I$(M.alternate,M);break;case 24:of(S,M,k,D,b),b&&U&2048&&P$(M.alternate,M);break;default:of(S,M,k,D,b)}u=u.sibling}}function a0(a,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var p=a,g=u,b=g.flags;switch(g.tag){case 22:a0(p,g),b&2048&&I$(g.alternate,g);break;case 24:a0(p,g),b&2048&&P$(g.alternate,g);break;default:a0(p,g)}u=u.sibling}}var l0=8192;function af(a){if(a.subtreeFlags&l0)for(a=a.child;a!==null;)Rj(a),a=a.sibling}function Rj(a){switch(a.tag){case 26:af(a),a.flags&l0&&a.memoizedState!==null&&fre(wo,a.memoizedState,a.memoizedProps);break;case 5:af(a);break;case 3:case 4:var u=wo;wo=Wb(a.stateNode.containerInfo),af(a),wo=u;break;case 22:a.memoizedState===null&&(u=a.alternate,u!==null&&u.memoizedState!==null?(u=l0,l0=16777216,af(a),l0=u):af(a));break;default:af(a)}}function Ij(a){var u=a.alternate;if(u!==null&&(a=u.child,a!==null)){u.child=null;do u=a.sibling,a.sibling=null,a=u;while(a!==null)}}function u0(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var g=u[p];cr=g,jj(g,a)}Ij(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Pj(a),a=a.sibling}function Pj(a){switch(a.tag){case 0:case 11:case 15:u0(a),a.flags&2048&&Au(9,a,a.return);break;case 3:u0(a);break;case 12:u0(a);break;case 22:var u=a.stateNode;a.memoizedState!==null&&u._visibility&4&&(a.return===null||a.return.tag!==13)?(u._visibility&=-5,Ib(a)):u0(a);break;default:u0(a)}}function Ib(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var g=u[p];cr=g,jj(g,a)}Ij(a)}for(a=a.child;a!==null;){switch(u=a,u.tag){case 0:case 11:case 15:Au(8,u,u.return),Ib(u);break;case 22:p=u.stateNode,p._visibility&4&&(p._visibility&=-5,Ib(u));break;default:Ib(u)}a=a.sibling}}function jj(a,u){for(;cr!==null;){var p=cr;switch(p.tag){case 0:case 11:case 15:Au(8,p,u);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var g=p.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Jg(p.memoizedState.cache)}if(g=p.child,g!==null)g.return=p,cr=g;else e:for(p=a;cr!==null;){g=cr;var b=g.sibling,S=g.return;if(Mj(g),g===p){cr=null;break e}if(b!==null){b.return=S,cr=b;break e}cr=S}}}function Eie(a,u,p,g){this.tag=a,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(a,u,p,g){return new Eie(a,u,p,g)}function j$(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Cu(a,u){var p=a.alternate;return p===null?(p=Pn(a.tag,u,a.key,a.mode),p.elementType=a.elementType,p.type=a.type,p.stateNode=a.stateNode,p.alternate=a,a.alternate=p):(p.pendingProps=u,p.type=a.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=a.flags&31457280,p.childLanes=a.childLanes,p.lanes=a.lanes,p.child=a.child,p.memoizedProps=a.memoizedProps,p.memoizedState=a.memoizedState,p.updateQueue=a.updateQueue,u=a.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=a.sibling,p.index=a.index,p.ref=a.ref,p.refCleanup=a.refCleanup,p}function Nj(a,u){a.flags&=31457282;var p=a.alternate;return p===null?(a.childLanes=0,a.lanes=u,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=p.childLanes,a.lanes=p.lanes,a.child=p.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=p.memoizedProps,a.memoizedState=p.memoizedState,a.updateQueue=p.updateQueue,a.type=p.type,u=p.dependencies,a.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),a}function Pb(a,u,p,g,b,S){var M=0;if(g=a,typeof a=="function")j$(a)&&(M=1);else if(typeof a=="string")M=dre(a,p,xn.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case c:return kh(p.children,b,S,u);case d:M=8,b|=24;break;case m:return a=Pn(12,p,u,b|2),a.elementType=m,a.lanes=S,a;case T:return a=Pn(13,p,u,b),a.elementType=T,a.lanes=S,a;case $:return a=Pn(19,p,u,b),a.elementType=$,a.lanes=S,a;case R:return Dj(p,b,S,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case v:case _:M=10;break e;case w:M=9;break e;case x:M=11;break e;case O:M=14;break e;case C:M=16,g=null;break e}M=29,p=Error(r(130,a===null?"null":typeof a,"")),g=null}return u=Pn(M,p,u,b),u.elementType=a,u.type=g,u.lanes=S,u}function kh(a,u,p,g){return a=Pn(7,a,g,u),a.lanes=p,a}function Dj(a,u,p,g){a=Pn(22,a,g,u),a.elementType=R,a.lanes=p;var b={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var S=b._current;if(S===null)throw Error(r(456));if((b._pendingVisibility&2)===0){var M=wu(S,2);M!==null&&(b._pendingVisibility|=2,ss(M,S,2))}},attach:function(){var S=b._current;if(S===null)throw Error(r(456));if((b._pendingVisibility&2)!==0){var M=wu(S,2);M!==null&&(b._pendingVisibility&=-3,ss(M,S,2))}}};return a.stateNode=b,a}function N$(a,u,p){return a=Pn(6,a,null,u),a.lanes=p,a}function D$(a,u,p){return u=Pn(4,a.children!==null?a.children:[],a.key,u),u.lanes=p,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function sl(a){a.flags|=4}function Lj(a,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!SN(u)){if(u=Cn.current,u!==null&&((gt&4194176)===gt?na!==null:(gt&62914560)!==gt&&(gt&536870912)===0||u!==na))throw Wg=U3,tP;a.flags|=8192}}function jb(a,u){u!==null&&(a.flags|=4),a.flags&16384&&(u=a.tag!==22?Pt():536870912,a.lanes|=u,uf|=u)}function c0(a,u){if(!_t)switch(a.tailMode){case"hidden":u=a.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?a.tail=null:p.sibling=null;break;case"collapsed":p=a.tail;for(var g=null;p!==null;)p.alternate!==null&&(g=p),p=p.sibling;g===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function si(a){var u=a.alternate!==null&&a.alternate.child===a.child,p=0,g=0;if(u)for(var b=a.child;b!==null;)p|=b.lanes|b.childLanes,g|=b.subtreeFlags&31457280,g|=b.flags&31457280,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)p|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=g,a.childLanes=p,u}function Aie(a,u,p){var g=u.pendingProps;switch(F3(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return si(u),null;case 1:return si(u),null;case 3:return p=u.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),el(Yi),fu(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(a===null||a.child===null)&&(qg(u)?sl(u):a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,vo!==null&&(G$(vo),vo=null))),si(u),null;case 26:return p=u.memoizedState,a===null?(sl(u),p!==null?(si(u),Lj(u,p)):(si(u),u.flags&=-16777217)):p?p!==a.memoizedState?(sl(u),si(u),Lj(u,p)):(si(u),u.flags&=-16777217):(a.memoizedProps!==g&&sl(u),si(u),u.flags&=-16777217),null;case 27:Rp(u),p=ta.current;var b=u.type;if(a!==null&&u.stateNode!=null)a.memoizedProps!==g&&sl(u);else{if(!g){if(u.stateNode===null)throw Error(r(166));return si(u),null}a=xn.current,qg(u)?QI(u):(a=fN(b,g,p),u.stateNode=a,sl(u))}return si(u),null;case 5:if(Rp(u),p=u.type,a!==null&&u.stateNode!=null)a.memoizedProps!==g&&sl(u);else{if(!g){if(u.stateNode===null)throw Error(r(166));return si(u),null}if(a=xn.current,qg(u))QI(u);else{switch(b=Hb(ta.current),a){case 1:a=b.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:a=b.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":a=b.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":a=b.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":a=b.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof g.is=="string"?b.createElement("select",{is:g.is}):b.createElement("select"),g.multiple?a.multiple=!0:g.size&&(a.size=g.size);break;default:a=typeof g.is=="string"?b.createElement(p,{is:g.is}):b.createElement(p)}}a[ar]=u,a[ri]=g;e:for(b=u.child;b!==null;){if(b.tag===5||b.tag===6)a.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===u)break e;for(;b.sibling===null;){if(b.return===null||b.return===u)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}u.stateNode=a;e:switch(xr(a,p,g),p){case"button":case"input":case"select":case"textarea":a=!!g.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&sl(u)}}return si(u),u.flags&=-16777217,null;case 6:if(a&&u.stateNode!=null)a.memoizedProps!==g&&sl(u);else{if(typeof g!="string"&&u.stateNode===null)throw Error(r(166));if(a=ta.current,qg(u)){if(a=u.stateNode,p=u.memoizedProps,g=null,b=rs,b!==null)switch(b.tag){case 27:case 5:g=b.memoizedProps}a[ar]=u,a=!!(a.nodeValue===p||g!==null&&g.suppressHydrationWarning===!0||lN(a.nodeValue,p)),a||bh(u)}else a=Hb(a).createTextNode(g),a[ar]=u,u.stateNode=a}return si(u),null;case 13:if(g=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=qg(u),g!==null&&g.dehydrated!==null){if(a===null){if(!b)throw Error(r(318));if(b=u.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[ar]=u}else Bg(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;si(u),b=!1}else vo!==null&&(G$(vo),vo=null),b=!0;if(!b)return u.flags&256?(Ja(u),u):(Ja(u),null)}if(Ja(u),(u.flags&128)!==0)return u.lanes=p,u;if(p=g!==null,a=a!==null&&a.memoizedState!==null,p){g=u.child,b=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(b=g.alternate.memoizedState.cachePool.pool);var S=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(S=g.memoizedState.cachePool.pool),S!==b&&(g.flags|=2048)}return p!==a&&p&&(u.child.flags|=8192),jb(u,u.updateQueue),si(u),null;case 4:return fu(),a===null&&iM(u.stateNode.containerInfo),si(u),null;case 10:return el(u.type),si(u),null;case 19:if(pi(Zi),b=u.memoizedState,b===null)return si(u),null;if(g=(u.flags&128)!==0,S=b.rendering,S===null)if(g)c0(b,!1);else{if(mi!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if(S=vb(a),S!==null){for(u.flags|=128,c0(b,!1),a=S.updateQueue,u.updateQueue=a,jb(u,a),u.subtreeFlags=0,a=p,p=u.child;p!==null;)Nj(p,a),p=p.sibling;return Lt(Zi,Zi.current&1|2),u.child}a=a.sibling}b.tail!==null&&$n()>Nb&&(u.flags|=128,g=!0,c0(b,!1),u.lanes=4194304)}else{if(!g)if(a=vb(S),a!==null){if(u.flags|=128,g=!0,a=a.updateQueue,u.updateQueue=a,jb(u,a),c0(b,!0),b.tail===null&&b.tailMode==="hidden"&&!S.alternate&&!_t)return si(u),null}else 2*$n()-b.renderingStartTime>Nb&&p!==536870912&&(u.flags|=128,g=!0,c0(b,!1),u.lanes=4194304);b.isBackwards?(S.sibling=u.child,u.child=S):(a=b.last,a!==null?a.sibling=S:u.child=S,b.last=S)}return b.tail!==null?(u=b.tail,b.rendering=u,b.tail=u.sibling,b.renderingStartTime=$n(),u.sibling=null,a=Zi.current,Lt(Zi,g?a&1|2:a&1),u):(si(u),null);case 22:case 23:return Ja(u),B3(),g=u.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(u.flags|=8192):g&&(u.flags|=8192),g?(p&536870912)!==0&&(u.flags&128)===0&&(si(u),u.subtreeFlags&6&&(u.flags|=8192)):si(u),p=u.updateQueue,p!==null&&jb(u,p.retryQueue),p=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==p&&(u.flags|=2048),a!==null&&pi(Sh),null;case 24:return p=null,a!==null&&(p=a.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),el(Yi),si(u),null;case 25:return null}throw Error(r(156,u.tag))}function Oie(a,u){switch(F3(u),u.tag){case 1:return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return el(Yi),fu(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 26:case 27:case 5:return Rp(u),null;case 13:if(Ja(u),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Bg()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return pi(Zi),null;case 4:return fu(),null;case 10:return el(u.type),null;case 22:case 23:return Ja(u),B3(),a!==null&&pi(Sh),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 24:return el(Yi),null;case 25:return null;default:return null}}function Vj(a,u){switch(F3(u),u.tag){case 3:el(Yi),fu();break;case 26:case 27:case 5:Rp(u);break;case 4:fu();break;case 13:Ja(u);break;case 19:pi(Zi);break;case 10:el(u.type);break;case 22:case 23:Ja(u),B3(),a!==null&&pi(Sh);break;case 24:el(Yi)}}var kie={getCacheForType:function(a){var u=Ir(Yi),p=u.data.get(a);return p===void 0&&(p=a(),u.data.set(a,p)),p}},Cie=typeof WeakMap=="function"?WeakMap:Map,ni=0,Vt=null,lt=null,gt=0,Ft=0,tn=null,nl=!1,lf=!1,L$=!1,ol=0,mi=0,Ru=0,Ch=0,V$=0,jn=0,uf=0,h0=null,aa=null,F$=!1,z$=0,Nb=1/0,Db=null,Iu=null,Lb=!1,Rh=null,d0=0,U$=0,q$=null,p0=0,B$=null;function rn(){if((ni&2)!==0&&gt!==0)return gt&-gt;if(J.T!==null){var a=Qp;return a!==0?a:X$()}return Qw()}function Fj(){jn===0&&(jn=(gt&536870912)===0||_t?X():536870912);var a=Cn.current;return a!==null&&(a.flags|=32),jn}function ss(a,u,p){(a===Vt&&Ft===2||a.cancelPendingCommit!==null)&&(cf(a,0),al(a,gt,jn,!1)),fo(a,p),((ni&2)===0||a!==Vt)&&(a===Vt&&((ni&2)===0&&(Ch|=p),mi===4&&al(a,gt,jn,!1)),la(a))}function zj(a,u,p){if((ni&6)!==0)throw Error(r(327));var g=!p&&(u&60)===0&&(u&a.expiredLanes)===0||ch(a,u),b=g?Pie(a,u):Z$(a,u,!0),S=g;do{if(b===0){lf&&!g&&al(a,u,0,!1);break}else if(b===6)al(a,u,0,!nl);else{if(p=a.current.alternate,S&&!Rie(p)){b=Z$(a,u,!1),S=!1;continue}if(b===2){if(S=u,a.errorRecoveryDisabledLanes&S)var M=0;else M=a.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){u=M;e:{var k=a;b=h0;var D=k.current.memoizedState.isDehydrated;if(D&&(cf(k,M).flags|=256),M=Z$(k,M,!1),M!==2){if(L$&&!D){k.errorRecoveryDisabledLanes|=S,Ch|=S,b=4;break e}S=aa,aa=b,S!==null&&G$(S)}b=M}if(S=!1,b!==2)continue}}if(b===1){cf(a,0),al(a,u,0,!0);break}e:{switch(g=a,b){case 0:case 1:throw Error(r(345));case 4:if((u&4194176)===u){al(g,u,jn,!nl);break e}break;case 2:aa=null;break;case 3:case 5:break;default:throw Error(r(329))}if(g.finishedWork=p,g.finishedLanes=u,(u&62914560)===u&&(S=z$+300-$n(),10<S)){if(al(g,u,jn,!nl),Lp(g,0)!==0)break e;g.timeoutHandle=hN(Uj.bind(null,g,p,aa,Db,F$,u,jn,Ch,uf,nl,2,-0,0),S);break e}Uj(g,p,aa,Db,F$,u,jn,Ch,uf,nl,0,-0,0)}}break}while(!0);la(a)}function G$(a){aa===null?aa=a:aa.push.apply(aa,a)}function Uj(a,u,p,g,b,S,M,k,D,U,ne,ue,K){var ie=u.subtreeFlags;if((ie&8192||(ie&16785408)===16785408)&&(w0={stylesheets:null,count:0,unsuspend:pre},Rj(u),u=mre(),u!==null)){a.cancelPendingCommit=u(Yj.bind(null,a,p,g,b,M,k,D,1,ue,K)),al(a,S,M,!U);return}Yj(a,p,g,b,M,k,D,ne,ue,K)}function Rie(a){for(var u=a;;){var p=u.tag;if((p===0||p===11||p===15)&&u.flags&16384&&(p=u.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var g=0;g<p.length;g++){var b=p[g],S=b.getSnapshot;b=b.value;try{if(!Xs(S(),b))return!1}catch{return!1}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function al(a,u,p,g){u&=~V$,u&=~Ch,a.suspendedLanes|=u,a.pingedLanes&=~u,g&&(a.warmLanes|=u),g=a.expirationTimes;for(var b=u;0<b;){var S=31-ts(b),M=1<<S;g[S]=-1,b&=~M}p!==0&&hh(a,p,u)}function Vb(){return(ni&6)===0?(f0(0),!1):!0}function H$(){if(lt!==null){if(Ft===0)var a=lt.return;else a=lt,Qa=Eh=null,X3(a),Kp=null,Zg=0,a=lt;for(;a!==null;)Vj(a.alternate,a),a=a.return;lt=null}}function cf(a,u){a.finishedWork=null,a.finishedLanes=0;var p=a.timeoutHandle;p!==-1&&(a.timeoutHandle=-1,Kie(p)),p=a.cancelPendingCommit,p!==null&&(a.cancelPendingCommit=null,p()),H$(),Vt=a,lt=p=Cu(a.current,null),gt=u,Ft=0,tn=null,nl=!1,lf=ch(a,u),L$=!1,uf=jn=V$=Ch=Ru=mi=0,aa=h0=null,F$=!1,(u&8)!==0&&(u|=u&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=u;0<g;){var b=31-ts(g),S=1<<b;u|=a[b],g&=~S}return ol=u,ub(),p}function qj(a,u){st=null,J.H=oa,u===Hg?(u=sP(),Ft=3):u===tP?(u=sP(),Ft=4):Ft=u===ij?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,tn=u,lt===null&&(mi=1,Ob(a,An(u,a.current)))}function Bj(){var a=J.H;return J.H=oa,a===null?oa:a}function Gj(){var a=J.A;return J.A=kie,a}function W$(){mi=4,nl||(gt&4194176)!==gt&&Cn.current!==null||(lf=!0),(Ru&134217727)===0&&(Ch&134217727)===0||Vt===null||al(Vt,gt,jn,!1)}function Z$(a,u,p){var g=ni;ni|=2;var b=Bj(),S=Gj();(Vt!==a||gt!==u)&&(Db=null,cf(a,u)),u=!1;var M=mi;e:do try{if(Ft!==0&&lt!==null){var k=lt,D=tn;switch(Ft){case 8:H$(),M=6;break e;case 3:case 2:case 6:Cn.current===null&&(u=!0);var U=Ft;if(Ft=0,tn=null,hf(a,k,D,U),p&&lf){M=0;break e}break;default:U=Ft,Ft=0,tn=null,hf(a,k,D,U)}}Iie(),M=mi;break}catch(ne){qj(a,ne)}while(!0);return u&&a.shellSuspendCounter++,Qa=Eh=null,ni=g,J.H=b,J.A=S,lt===null&&(Vt=null,gt=0,ub()),M}function Iie(){for(;lt!==null;)Hj(lt)}function Pie(a,u){var p=ni;ni|=2;var g=Bj(),b=Gj();Vt!==a||gt!==u?(Db=null,Nb=$n()+500,cf(a,u)):lf=ch(a,u);e:do try{if(Ft!==0&&lt!==null){u=lt;var S=tn;t:switch(Ft){case 1:Ft=0,tn=null,hf(a,u,S,1);break;case 2:if(iP(S)){Ft=0,tn=null,Wj(u);break}u=function(){Ft===2&&Vt===a&&(Ft=7),la(a)},S.then(u,u);break e;case 3:Ft=7;break e;case 4:Ft=5;break e;case 7:iP(S)?(Ft=0,tn=null,Wj(u)):(Ft=0,tn=null,hf(a,u,S,7));break;case 5:var M=null;switch(lt.tag){case 26:M=lt.memoizedState;case 5:case 27:var k=lt;if(!M||SN(M)){Ft=0,tn=null;var D=k.sibling;if(D!==null)lt=D;else{var U=k.return;U!==null?(lt=U,Fb(U)):lt=null}break t}}Ft=0,tn=null,hf(a,u,S,5);break;case 6:Ft=0,tn=null,hf(a,u,S,6);break;case 8:H$(),mi=6;break e;default:throw Error(r(462))}}jie();break}catch(ne){qj(a,ne)}while(!0);return Qa=Eh=null,J.H=g,J.A=b,ni=p,lt!==null?0:(Vt=null,gt=0,ub(),mi)}function jie(){for(;lt!==null&&!n3();)Hj(lt)}function Hj(a){var u=fj(a.alternate,a,ol);a.memoizedProps=a.pendingProps,u===null?Fb(a):lt=u}function Wj(a){var u=a,p=u.alternate;switch(u.tag){case 15:case 0:u=lj(p,u,u.pendingProps,u.type,void 0,gt);break;case 11:u=lj(p,u,u.pendingProps,u.type.render,u.ref,gt);break;case 5:X3(u);default:Vj(p,u),u=lt=Nj(u,ol),u=fj(p,u,ol)}a.memoizedProps=a.pendingProps,u===null?Fb(a):lt=u}function hf(a,u,p,g){Qa=Eh=null,X3(u),Kp=null,Zg=0;var b=u.return;try{if(xie(a,b,u,p,gt)){mi=1,Ob(a,An(p,a.current)),lt=null;return}}catch(S){if(b!==null)throw lt=b,S;mi=1,Ob(a,An(p,a.current)),lt=null;return}u.flags&32768?(_t||g===1?a=!0:lf||(gt&536870912)!==0?a=!1:(nl=a=!0,(g===2||g===3||g===6)&&(g=Cn.current,g!==null&&g.tag===13&&(g.flags|=16384))),Zj(u,a)):Fb(u)}function Fb(a){var u=a;do{if((u.flags&32768)!==0){Zj(u,nl);return}a=u.return;var p=Aie(u.alternate,u,ol);if(p!==null){lt=p;return}if(u=u.sibling,u!==null){lt=u;return}lt=u=a}while(u!==null);mi===0&&(mi=5)}function Zj(a,u){do{var p=Oie(a.alternate,a);if(p!==null){p.flags&=32767,lt=p;return}if(p=a.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!u&&(a=a.sibling,a!==null)){lt=a;return}lt=a=p}while(a!==null);mi=6,lt=null}function Yj(a,u,p,g,b,S,M,k,D,U){var ne=J.T,ue=Te.p;try{Te.p=2,J.T=null,Nie(a,u,p,g,ue,b,S,M,k,D,U)}finally{J.T=ne,Te.p=ue}}function Nie(a,u,p,g,b,S,M,k){do df();while(Rh!==null);if((ni&6)!==0)throw Error(r(327));var D=a.finishedWork;if(g=a.finishedLanes,D===null)return null;if(a.finishedWork=null,a.finishedLanes=0,D===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0,a.cancelPendingCommit=null;var U=D.lanes|D.childLanes;if(U|=D3,Ks(a,g,U,S,M,k),a===Vt&&(lt=Vt=null,gt=0),(D.subtreeFlags&10256)===0&&(D.flags&10256)===0||Lb||(Lb=!0,U$=U,q$=p,Fie(jp,function(){return df(),null})),p=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||p?(p=J.T,J.T=null,S=Te.p,Te.p=2,M=ni,ni|=4,$ie(a,D),Oj(D,a),oie(oM,a.containerInfo),Xb=!!nM,oM=nM=null,a.current=D,$j(a,D.alternate,D),o3(),ni=M,Te.p=S,J.T=p):a.current=D,Lb?(Lb=!1,Rh=a,d0=g):Jj(a,U),U=a.pendingLanes,U===0&&(Iu=null),c3(D.stateNode),la(a),u!==null)for(b=a.onRecoverableError,D=0;D<u.length;D++)U=u[D],b(U.value,{componentStack:U.stack});return(d0&3)!==0&&df(),U=a.pendingLanes,(g&4194218)!==0&&(U&42)!==0?a===B$?p0++:(p0=0,B$=a):p0=0,f0(0),null}function Jj(a,u){(a.pooledCacheLanes&=u)===0&&(u=a.pooledCache,u!=null&&(a.pooledCache=null,Jg(u)))}function df(){if(Rh!==null){var a=Rh,u=U$;U$=0;var p=dh(d0),g=J.T,b=Te.p;try{if(Te.p=32>p?32:p,J.T=null,Rh===null)var S=!1;else{p=q$,q$=null;var M=Rh,k=d0;if(Rh=null,d0=0,(ni&6)!==0)throw Error(r(331));var D=ni;if(ni|=4,Pj(M.current),Cj(M,M.current,k,p),ni=D,f0(0,!1),es&&typeof es.onPostCommitFiberRoot=="function")try{es.onPostCommitFiberRoot(uh,M)}catch{}S=!0}return S}finally{Te.p=b,J.T=g,Jj(a,u)}}return!1}function Kj(a,u,p){u=An(p,u),u=d$(a.stateNode,u,2),a=Eu(a,u,2),a!==null&&(fo(a,2),la(a))}function jt(a,u,p){if(a.tag===3)Kj(a,a,p);else for(;u!==null;){if(u.tag===3){Kj(u,a,p);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Iu===null||!Iu.has(g))){a=An(p,a),p=ej(2),g=Eu(u,p,2),g!==null&&(tj(p,g,u,a),fo(g,2),la(g));break}}u=u.return}}function Y$(a,u,p){var g=a.pingCache;if(g===null){g=a.pingCache=new Cie;var b=new Set;g.set(u,b)}else b=g.get(u),b===void 0&&(b=new Set,g.set(u,b));b.has(p)||(L$=!0,b.add(p),a=Die.bind(null,a,u,p),u.then(a,a))}function Die(a,u,p){var g=a.pingCache;g!==null&&g.delete(u),a.pingedLanes|=a.suspendedLanes&p,a.warmLanes&=~p,Vt===a&&(gt&p)===p&&(mi===4||mi===3&&(gt&62914560)===gt&&300>$n()-z$?(ni&2)===0&&cf(a,0):V$|=p,uf===gt&&(uf=0)),la(a)}function Xj(a,u){u===0&&(u=Pt()),a=wu(a,u),a!==null&&(fo(a,u),la(a))}function Lie(a){var u=a.memoizedState,p=0;u!==null&&(p=u.retryLane),Xj(a,p)}function Vie(a,u){var p=0;switch(a.tag){case 13:var g=a.stateNode,b=a.memoizedState;b!==null&&(p=b.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(u),Xj(a,p)}function Fie(a,u){return Pp(a,u)}var zb=null,pf=null,J$=!1,Ub=!1,K$=!1,Ih=0;function la(a){a!==pf&&a.next===null&&(pf===null?zb=pf=a:pf=pf.next=a),Ub=!0,J$||(J$=!0,Uie(zie))}function f0(a,u){if(!K$&&Ub){K$=!0;do for(var p=!1,g=zb;g!==null;){if(a!==0){var b=g.pendingLanes;if(b===0)var S=0;else{var M=g.suspendedLanes,k=g.pingedLanes;S=(1<<31-ts(42|a)+1)-1,S&=b&~(M&~k),S=S&201326677?S&201326677|1:S?S|2:0}S!==0&&(p=!0,tN(g,S))}else S=gt,S=Lp(g,g===Vt?S:0),(S&3)===0||ch(g,S)||(p=!0,tN(g,S));g=g.next}while(p);K$=!1}}function zie(){Ub=J$=!1;var a=0;Ih!==0&&(Jie()&&(a=Ih),Ih=0);for(var u=$n(),p=null,g=zb;g!==null;){var b=g.next,S=Qj(g,u);S===0?(g.next=null,p===null?zb=b:p.next=b,b===null&&(pf=p)):(p=g,(a!==0||(S&3)!==0)&&(Ub=!0)),g=b}f0(a)}function Qj(a,u){for(var p=a.suspendedLanes,g=a.pingedLanes,b=a.expirationTimes,S=a.pendingLanes&-62914561;0<S;){var M=31-ts(S),k=1<<M,D=b[M];D===-1?((k&p)===0||(k&g)!==0)&&(b[M]=f3(k,u)):D<=u&&(a.expiredLanes|=k),S&=~k}if(u=Vt,p=gt,p=Lp(a,a===u?p:0),g=a.callbackNode,p===0||a===u&&Ft===2||a.cancelPendingCommit!==null)return g!==null&&g!==null&&Tn(g),a.callbackNode=null,a.callbackPriority=0;if((p&3)===0||ch(a,p)){if(u=p&-p,u===a.callbackPriority)return u;switch(g!==null&&Tn(g),dh(p)){case 2:case 8:p=Kw;break;case 32:p=jp;break;case 268435456:p=Xw;break;default:p=jp}return g=eN.bind(null,a),p=Pp(p,g),a.callbackPriority=u,a.callbackNode=p,u}return g!==null&&g!==null&&Tn(g),a.callbackPriority=2,a.callbackNode=null,2}function eN(a,u){var p=a.callbackNode;if(df()&&a.callbackNode!==p)return null;var g=gt;return g=Lp(a,a===Vt?g:0),g===0?null:(zj(a,g,u),Qj(a,$n()),a.callbackNode!=null&&a.callbackNode===p?eN.bind(null,a):null)}function tN(a,u){if(df())return null;zj(a,u,!0)}function Uie(a){Xie(function(){(ni&6)!==0?Pp(Jw,a):a()})}function X$(){return Ih===0&&(Ih=X()),Ih}function iN(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:ib(""+a)}function rN(a,u){var p=u.ownerDocument.createElement("input");return p.name=u.name,p.value=u.value,a.id&&p.setAttribute("form",a.id),u.parentNode.insertBefore(p,u),a=new FormData(a),p.parentNode.removeChild(p),a}function qie(a,u,p,g,b){if(u==="submit"&&p&&p.stateNode===b){var S=iN((b[ri]||null).action),M=g.submitter;M&&(u=(u=M[ri]||null)?iN(u.formAction):M.getAttribute("formAction"),u!==null&&(S=u,M=null));var k=new ob("action","action",null,g,b);a.push({event:k,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Ih!==0){var D=M?rN(b,M):new FormData(b);a$(p,{pending:!0,data:D,method:b.method,action:S},null,D)}}else typeof S=="function"&&(k.preventDefault(),D=M?rN(b,M):new FormData(b),a$(p,{pending:!0,data:D,method:b.method,action:S},S,D))},currentTarget:b}]})}}for(var Q$=0;Q$<YI.length;Q$++){var eM=YI[Q$],Bie=eM.toLowerCase(),Gie=eM[0].toUpperCase()+eM.slice(1);go(Bie,"on"+Gie)}go(BI,"onAnimationEnd"),go(GI,"onAnimationIteration"),go(HI,"onAnimationStart"),go("dblclick","onDoubleClick"),go("focusin","onFocus"),go("focusout","onBlur"),go(lie,"onTransitionRun"),go(uie,"onTransitionStart"),go(cie,"onTransitionCancel"),go(WI,"onTransitionEnd"),yu("onMouseEnter",["mouseout","mouseover"]),yu("onMouseLeave",["mouseout","mouseover"]),yu("onPointerEnter",["pointerout","pointerover"]),yu("onPointerLeave",["pointerout","pointerover"]),Wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var m0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hie=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(m0));function sN(a,u){u=(u&4)!==0;for(var p=0;p<a.length;p++){var g=a[p],b=g.event;g=g.listeners;e:{var S=void 0;if(u)for(var M=g.length-1;0<=M;M--){var k=g[M],D=k.instance,U=k.currentTarget;if(k=k.listener,D!==S&&b.isPropagationStopped())break e;S=k,b.currentTarget=U;try{S(b)}catch(ne){Ab(ne)}b.currentTarget=null,S=D}else for(M=0;M<g.length;M++){if(k=g[M],D=k.instance,U=k.currentTarget,k=k.listener,D!==S&&b.isPropagationStopped())break e;S=k,b.currentTarget=U;try{S(b)}catch(ne){Ab(ne)}b.currentTarget=null,S=D}}}}function mt(a,u){var p=u[Vp];p===void 0&&(p=u[Vp]=new Set);var g=a+"__bubble";p.has(g)||(nN(u,a,2,!1),p.add(g))}function tM(a,u,p){var g=0;u&&(g|=4),nN(p,a,g,u)}var qb="_reactListening"+Math.random().toString(36).slice(2);function iM(a){if(!a[qb]){a[qb]=!0,Ig.forEach(function(p){p!=="selectionchange"&&(Hie.has(p)||tM(p,!1,a),tM(p,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[qb]||(u[qb]=!0,tM("selectionchange",!1,u))}}function nN(a,u,p,g){switch(AN(u)){case 2:var b=vre;break;case 8:b=wre;break;default:b=mM}p=b.bind(null,u,p,a),b=void 0,!T3||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(b=!0),g?b!==void 0?a.addEventListener(u,p,{capture:!0,passive:b}):a.addEventListener(u,p,!0):b!==void 0?a.addEventListener(u,p,{passive:b}):a.addEventListener(u,p,!1)}function rM(a,u,p,g,b){var S=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var M=g.tag;if(M===3||M===4){var k=g.stateNode.containerInfo;if(k===b||k.nodeType===8&&k.parentNode===b)break;if(M===4)for(M=g.return;M!==null;){var D=M.tag;if((D===3||D===4)&&(D=M.stateNode.containerInfo,D===b||D.nodeType===8&&D.parentNode===b))return;M=M.return}for(;k!==null;){if(M=mo(k),M===null)return;if(D=M.tag,D===5||D===6||D===26||D===27){g=S=M;continue e}k=k.parentNode}}g=g.return}bI(function(){var U=S,ne=S3(p),ue=[];e:{var K=ZI.get(a);if(K!==void 0){var ie=ob,Pe=a;switch(a){case"keypress":if(sb(p)===0)break e;case"keydown":case"keyup":ie=Vte;break;case"focusin":Pe="focus",ie=A3;break;case"focusout":Pe="blur",ie=A3;break;case"beforeblur":case"afterblur":ie=A3;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=xI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Ete;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=Ute;break;case BI:case GI:case HI:ie=kte;break;case WI:ie=Bte;break;case"scroll":case"scrollend":ie=$te;break;case"wheel":ie=Hte;break;case"copy":case"cut":case"paste":ie=Rte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=$I;break;case"toggle":case"beforetoggle":ie=Zte}var Je=(u&4)!==0,yi=!Je&&(a==="scroll"||a==="scrollend"),H=Je?K!==null?K+"Capture":null:K;Je=[];for(var F=U,Y;F!==null;){var oe=F;if(Y=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Y===null||H===null||(oe=Pg(F,H),oe!=null&&Je.push(y0(F,oe,Y))),yi)break;F=F.return}0<Je.length&&(K=new ie(K,Pe,null,p,ne),ue.push({event:K,listeners:Je}))}}if((u&7)===0){e:{if(K=a==="mouseover"||a==="pointerover",ie=a==="mouseout"||a==="pointerout",K&&p!==_3&&(Pe=p.relatedTarget||p.fromElement)&&(mo(Pe)||Pe[Ga]))break e;if((ie||K)&&(K=ne.window===ne?ne:(K=ne.ownerDocument)?K.defaultView||K.parentWindow:window,ie?(Pe=p.relatedTarget||p.toElement,ie=U,Pe=Pe?mo(Pe):null,Pe!==null&&(yi=de(Pe),Je=Pe.tag,Pe!==yi||Je!==5&&Je!==27&&Je!==6)&&(Pe=null)):(ie=null,Pe=U),ie!==Pe)){if(Je=xI,oe="onMouseLeave",H="onMouseEnter",F="mouse",(a==="pointerout"||a==="pointerover")&&(Je=$I,oe="onPointerLeave",H="onPointerEnter",F="pointer"),yi=ie==null?K:Ha(ie),Y=Pe==null?K:Ha(Pe),K=new Je(oe,F+"leave",ie,p,ne),K.target=yi,K.relatedTarget=Y,oe=null,mo(ne)===U&&(Je=new Je(H,F+"enter",Pe,p,ne),Je.target=Y,Je.relatedTarget=yi,oe=Je),yi=oe,ie&&Pe)t:{for(Je=ie,H=Pe,F=0,Y=Je;Y;Y=ff(Y))F++;for(Y=0,oe=H;oe;oe=ff(oe))Y++;for(;0<F-Y;)Je=ff(Je),F--;for(;0<Y-F;)H=ff(H),Y--;for(;F--;){if(Je===H||H!==null&&Je===H.alternate)break t;Je=ff(Je),H=ff(H)}Je=null}else Je=null;ie!==null&&oN(ue,K,ie,Je,!1),Pe!==null&&yi!==null&&oN(ue,yi,Pe,Je,!0)}}e:{if(K=U?Ha(U):window,ie=K.nodeName&&K.nodeName.toLowerCase(),ie==="select"||ie==="input"&&K.type==="file")var Ae=II;else if(CI(K))if(PI)Ae=sie;else{Ae=iie;var nt=tie}else ie=K.nodeName,!ie||ie.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?U&&b3(U.elementType)&&(Ae=II):Ae=rie;if(Ae&&(Ae=Ae(a,U))){RI(ue,Ae,p,ne);break e}nt&&nt(a,K,U),a==="focusout"&&U&&K.type==="number"&&U.memoizedProps.value!=null&&w3(K,"number",K.value)}switch(nt=U?Ha(U):window,a){case"focusin":(CI(nt)||nt.contentEditable==="true")&&(Gp=nt,P3=U,Ug=null);break;case"focusout":Ug=P3=Gp=null;break;case"mousedown":j3=!0;break;case"contextmenu":case"mouseup":case"dragend":j3=!1,UI(ue,p,ne);break;case"selectionchange":if(aie)break;case"keydown":case"keyup":UI(ue,p,ne)}var De;if(k3)e:{switch(a){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Bp?OI(a,p)&&(Be="onCompositionEnd"):a==="keydown"&&p.keyCode===229&&(Be="onCompositionStart");Be&&(MI&&p.locale!=="ko"&&(Bp||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Bp&&(De=_I()):(vu=ne,$3="value"in vu?vu.value:vu.textContent,Bp=!0)),nt=Bb(U,Be),0<nt.length&&(Be=new TI(Be,a,null,p,ne),ue.push({event:Be,listeners:nt}),De?Be.data=De:(De=kI(p),De!==null&&(Be.data=De)))),(De=Jte?Kte(a,p):Xte(a,p))&&(Be=Bb(U,"onBeforeInput"),0<Be.length&&(nt=new TI("onBeforeInput","beforeinput",null,p,ne),ue.push({event:nt,listeners:Be}),nt.data=De)),qie(ue,a,U,p,ne)}sN(ue,u)})}function y0(a,u,p){return{instance:a,listener:u,currentTarget:p}}function Bb(a,u){for(var p=u+"Capture",g=[];a!==null;){var b=a,S=b.stateNode;b=b.tag,b!==5&&b!==26&&b!==27||S===null||(b=Pg(a,p),b!=null&&g.unshift(y0(a,b,S)),b=Pg(a,u),b!=null&&g.push(y0(a,b,S))),a=a.return}return g}function ff(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function oN(a,u,p,g,b){for(var S=u._reactName,M=[];p!==null&&p!==g;){var k=p,D=k.alternate,U=k.stateNode;if(k=k.tag,D!==null&&D===g)break;k!==5&&k!==26&&k!==27||U===null||(D=U,b?(U=Pg(p,S),U!=null&&M.unshift(y0(p,U,D))):b||(U=Pg(p,S),U!=null&&M.push(y0(p,U,D)))),p=p.return}M.length!==0&&a.push({event:u,listeners:M})}var Wie=/\r\n?/g,Zie=/\u0000|\uFFFD/g;function aN(a){return(typeof a=="string"?a:""+a).replace(Wie,`
`).replace(Zie,"")}function lN(a,u){return u=aN(u),aN(a)===u}function Gb(){}function Ct(a,u,p,g,b,S){switch(p){case"children":typeof g=="string"?u==="body"||u==="textarea"&&g===""||zp(a,g):(typeof g=="number"||typeof g=="bigint")&&u!=="body"&&zp(a,""+g);break;case"className":fh(a,"class",g);break;case"tabIndex":fh(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":fh(a,p,g);break;case"style":vI(a,g,S);break;case"data":if(u!=="object"){fh(a,"data",g);break}case"src":case"href":if(g===""&&(u!=="a"||p!=="href")){a.removeAttribute(p);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(p);break}g=ib(""+g),a.setAttribute(p,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(p==="formAction"?(u!=="input"&&Ct(a,u,"name",b.name,b,null),Ct(a,u,"formEncType",b.formEncType,b,null),Ct(a,u,"formMethod",b.formMethod,b,null),Ct(a,u,"formTarget",b.formTarget,b,null)):(Ct(a,u,"encType",b.encType,b,null),Ct(a,u,"method",b.method,b,null),Ct(a,u,"target",b.target,b,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(p);break}g=ib(""+g),a.setAttribute(p,g);break;case"onClick":g!=null&&(a.onclick=Gb);break;case"onScroll":g!=null&&mt("scroll",a);break;case"onScrollEnd":g!=null&&mt("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(p=g.__html,p!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=p}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}p=ib(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(p,""+g):a.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(p,""):a.removeAttribute(p);break;case"capture":case"download":g===!0?a.setAttribute(p,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(p,g):a.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(p,g):a.removeAttribute(p);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(p):a.setAttribute(p,g);break;case"popover":mt("beforetoggle",a),mt("toggle",a),gu(a,"popover",g);break;case"xlinkActuate":P(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":P(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":P(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":P(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":P(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":P(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":P(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":P(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":P(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":gu(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=xte.get(p)||p,gu(a,p,g))}}function sM(a,u,p,g,b,S){switch(p){case"style":vI(a,g,S);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(p=g.__html,p!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=p}}break;case"children":typeof g=="string"?zp(a,g):(typeof g=="number"||typeof g=="bigint")&&zp(a,""+g);break;case"onScroll":g!=null&&mt("scroll",a);break;case"onScrollEnd":g!=null&&mt("scrollend",a);break;case"onClick":g!=null&&(a.onclick=Gb);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!eb.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(b=p.endsWith("Capture"),u=p.slice(2,b?p.length-7:void 0),S=a[ri]||null,S=S!=null?S[p]:null,typeof S=="function"&&a.removeEventListener(u,S,b),typeof g=="function")){typeof S!="function"&&S!==null&&(p in a?a[p]=null:a.hasAttribute(p)&&a.removeAttribute(p)),a.addEventListener(u,g,b);break e}p in a?a[p]=g:g===!0?a.setAttribute(p,""):gu(a,p,g)}}}function xr(a,u,p){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",a),mt("load",a);var g=!1,b=!1,S;for(S in p)if(p.hasOwnProperty(S)){var M=p[S];if(M!=null)switch(S){case"src":g=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Ct(a,u,S,M,p,null)}}b&&Ct(a,u,"srcSet",p.srcSet,p,null),g&&Ct(a,u,"src",p.src,p,null);return;case"input":mt("invalid",a);var k=S=M=b=null,D=null,U=null;for(g in p)if(p.hasOwnProperty(g)){var ne=p[g];if(ne!=null)switch(g){case"name":b=ne;break;case"type":M=ne;break;case"checked":D=ne;break;case"defaultChecked":U=ne;break;case"value":S=ne;break;case"defaultValue":k=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,u));break;default:Ct(a,u,g,ne,p,null)}}fI(a,S,k,D,U,M,b,!1),ft(a);return;case"select":mt("invalid",a),g=M=S=null;for(b in p)if(p.hasOwnProperty(b)&&(k=p[b],k!=null))switch(b){case"value":S=k;break;case"defaultValue":M=k;break;case"multiple":g=k;default:Ct(a,u,b,k,p,null)}u=S,p=M,a.multiple=!!g,u!=null?Fp(a,!!g,u,!1):p!=null&&Fp(a,!!g,p,!0);return;case"textarea":mt("invalid",a),S=b=g=null;for(M in p)if(p.hasOwnProperty(M)&&(k=p[M],k!=null))switch(M){case"value":g=k;break;case"defaultValue":b=k;break;case"children":S=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:Ct(a,u,M,k,p,null)}yI(a,g,b,S),ft(a);return;case"option":for(D in p)if(p.hasOwnProperty(D)&&(g=p[D],g!=null))switch(D){case"selected":a.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Ct(a,u,D,g,p,null)}return;case"dialog":mt("cancel",a),mt("close",a);break;case"iframe":case"object":mt("load",a);break;case"video":case"audio":for(g=0;g<m0.length;g++)mt(m0[g],a);break;case"image":mt("error",a),mt("load",a);break;case"details":mt("toggle",a);break;case"embed":case"source":case"link":mt("error",a),mt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in p)if(p.hasOwnProperty(U)&&(g=p[U],g!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Ct(a,u,U,g,p,null)}return;default:if(b3(u)){for(ne in p)p.hasOwnProperty(ne)&&(g=p[ne],g!==void 0&&sM(a,u,ne,g,p,void 0));return}}for(k in p)p.hasOwnProperty(k)&&(g=p[k],g!=null&&Ct(a,u,k,g,p,null))}function Yie(a,u,p,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,S=null,M=null,k=null,D=null,U=null,ne=null;for(ie in p){var ue=p[ie];if(p.hasOwnProperty(ie)&&ue!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":D=ue;default:g.hasOwnProperty(ie)||Ct(a,u,ie,null,g,ue)}}for(var K in g){var ie=g[K];if(ue=p[K],g.hasOwnProperty(K)&&(ie!=null||ue!=null))switch(K){case"type":S=ie;break;case"name":b=ie;break;case"checked":U=ie;break;case"defaultChecked":ne=ie;break;case"value":M=ie;break;case"defaultValue":k=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,u));break;default:ie!==ue&&Ct(a,u,K,ie,g,ue)}}v3(a,M,k,D,U,ne,S,b);return;case"select":ie=M=k=K=null;for(S in p)if(D=p[S],p.hasOwnProperty(S)&&D!=null)switch(S){case"value":break;case"multiple":ie=D;default:g.hasOwnProperty(S)||Ct(a,u,S,null,g,D)}for(b in g)if(S=g[b],D=p[b],g.hasOwnProperty(b)&&(S!=null||D!=null))switch(b){case"value":K=S;break;case"defaultValue":k=S;break;case"multiple":M=S;default:S!==D&&Ct(a,u,b,S,g,D)}u=k,p=M,g=ie,K!=null?Fp(a,!!p,K,!1):!!g!=!!p&&(u!=null?Fp(a,!!p,u,!0):Fp(a,!!p,p?[]:"",!1));return;case"textarea":ie=K=null;for(k in p)if(b=p[k],p.hasOwnProperty(k)&&b!=null&&!g.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Ct(a,u,k,null,g,b)}for(M in g)if(b=g[M],S=p[M],g.hasOwnProperty(M)&&(b!=null||S!=null))switch(M){case"value":K=b;break;case"defaultValue":ie=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==S&&Ct(a,u,M,b,g,S)}mI(a,K,ie);return;case"option":for(var Pe in p)if(K=p[Pe],p.hasOwnProperty(Pe)&&K!=null&&!g.hasOwnProperty(Pe))switch(Pe){case"selected":a.selected=!1;break;default:Ct(a,u,Pe,null,g,K)}for(D in g)if(K=g[D],ie=p[D],g.hasOwnProperty(D)&&K!==ie&&(K!=null||ie!=null))switch(D){case"selected":a.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Ct(a,u,D,K,g,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Je in p)K=p[Je],p.hasOwnProperty(Je)&&K!=null&&!g.hasOwnProperty(Je)&&Ct(a,u,Je,null,g,K);for(U in g)if(K=g[U],ie=p[U],g.hasOwnProperty(U)&&K!==ie&&(K!=null||ie!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,u));break;default:Ct(a,u,U,K,g,ie)}return;default:if(b3(u)){for(var yi in p)K=p[yi],p.hasOwnProperty(yi)&&K!==void 0&&!g.hasOwnProperty(yi)&&sM(a,u,yi,void 0,g,K);for(ne in g)K=g[ne],ie=p[ne],!g.hasOwnProperty(ne)||K===ie||K===void 0&&ie===void 0||sM(a,u,ne,K,g,ie);return}}for(var H in p)K=p[H],p.hasOwnProperty(H)&&K!=null&&!g.hasOwnProperty(H)&&Ct(a,u,H,null,g,K);for(ue in g)K=g[ue],ie=p[ue],!g.hasOwnProperty(ue)||K===ie||K==null&&ie==null||Ct(a,u,ue,K,g,ie)}var nM=null,oM=null;function Hb(a){return a.nodeType===9?a:a.ownerDocument}function uN(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cN(a,u){if(a===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&u==="foreignObject"?0:a}function aM(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var lM=null;function Jie(){var a=window.event;return a&&a.type==="popstate"?a===lM?!1:(lM=a,!0):(lM=null,!1)}var hN=typeof setTimeout=="function"?setTimeout:void 0,Kie=typeof clearTimeout=="function"?clearTimeout:void 0,dN=typeof Promise=="function"?Promise:void 0,Xie=typeof queueMicrotask=="function"?queueMicrotask:typeof dN<"u"?function(a){return dN.resolve(null).then(a).catch(Qie)}:hN;function Qie(a){setTimeout(function(){throw a})}function uM(a,u){var p=u,g=0;do{var b=p.nextSibling;if(a.removeChild(p),b&&b.nodeType===8)if(p=b.data,p==="/$"){if(g===0){a.removeChild(b),T0(u);return}g--}else p!=="$"&&p!=="$?"&&p!=="$!"||g++;p=b}while(p);T0(u)}function cM(a){var u=a.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var p=u;switch(u=u.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":cM(p),Rg(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}a.removeChild(p)}}function ere(a,u,p,g){for(;a.nodeType===1;){var b=p;if(a.nodeName.toLowerCase()!==u.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[ph])switch(u){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(S=a.getAttribute("rel"),S==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(S!==b.rel||a.getAttribute("href")!==(b.href==null?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(S=a.getAttribute("src"),(S!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&S&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(u==="input"&&a.type==="hidden"){var S=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===S)return a}else return a;if(a=bo(a.nextSibling),a===null)break}return null}function tre(a,u,p){if(u==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!p||(a=bo(a.nextSibling),a===null))return null;return a}function bo(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return a}function pN(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var p=a.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return a;u--}else p==="/$"&&u++}a=a.previousSibling}return null}function fN(a,u,p){switch(u=Hb(p),a){case"html":if(a=u.documentElement,!a)throw Error(r(452));return a;case"head":if(a=u.head,!a)throw Error(r(453));return a;case"body":if(a=u.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}var Nn=new Map,mN=new Set;function Wb(a){return typeof a.getRootNode=="function"?a.getRootNode():a.ownerDocument}var ll=Te.d;Te.d={f:ire,r:rre,D:sre,C:nre,L:ore,m:are,X:ure,S:lre,M:cre};function ire(){var a=ll.f(),u=Vb();return a||u}function rre(a){var u=mu(a);u!==null&&u.tag===5&&u.type==="form"?UP(u):ll.r(a)}var mf=typeof document>"u"?null:document;function yN(a,u,p){var g=mf;if(g&&typeof u=="string"&&u){var b=Mn(u);b='link[rel="'+a+'"][href="'+b+'"]',typeof p=="string"&&(b+='[crossorigin="'+p+'"]'),mN.has(b)||(mN.add(b),a={rel:a,crossOrigin:p,href:u},g.querySelector(b)===null&&(u=g.createElement("link"),xr(u,"link",a),Di(u),g.head.appendChild(u)))}}function sre(a){ll.D(a),yN("dns-prefetch",a,null)}function nre(a,u){ll.C(a,u),yN("preconnect",a,u)}function ore(a,u,p){ll.L(a,u,p);var g=mf;if(g&&a&&u){var b='link[rel="preload"][as="'+Mn(u)+'"]';u==="image"&&p&&p.imageSrcSet?(b+='[imagesrcset="'+Mn(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(b+='[imagesizes="'+Mn(p.imageSizes)+'"]')):b+='[href="'+Mn(a)+'"]';var S=b;switch(u){case"style":S=yf(a);break;case"script":S=gf(a)}Nn.has(S)||(a=te({rel:"preload",href:u==="image"&&p&&p.imageSrcSet?void 0:a,as:u},p),Nn.set(S,a),g.querySelector(b)!==null||u==="style"&&g.querySelector(g0(S))||u==="script"&&g.querySelector(v0(S))||(u=g.createElement("link"),xr(u,"link",a),Di(u),g.head.appendChild(u)))}}function are(a,u){ll.m(a,u);var p=mf;if(p&&a){var g=u&&typeof u.as=="string"?u.as:"script",b='link[rel="modulepreload"][as="'+Mn(g)+'"][href="'+Mn(a)+'"]',S=b;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=gf(a)}if(!Nn.has(S)&&(a=te({rel:"modulepreload",href:a},u),Nn.set(S,a),p.querySelector(b)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(v0(S)))return}g=p.createElement("link"),xr(g,"link",a),Di(g),p.head.appendChild(g)}}}function lre(a,u,p){ll.S(a,u,p);var g=mf;if(g&&a){var b=Ht(g).hoistableStyles,S=yf(a);u=u||"default";var M=b.get(S);if(!M){var k={loading:0,preload:null};if(M=g.querySelector(g0(S)))k.loading=5;else{a=te({rel:"stylesheet",href:a,"data-precedence":u},p),(p=Nn.get(S))&&hM(a,p);var D=M=g.createElement("link");Di(D),xr(D,"link",a),D._p=new Promise(function(U,ne){D.onload=U,D.onerror=ne}),D.addEventListener("load",function(){k.loading|=1}),D.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Zb(M,u,g)}M={type:"stylesheet",instance:M,count:1,state:k},b.set(S,M)}}}function ure(a,u){ll.X(a,u);var p=mf;if(p&&a){var g=Ht(p).hoistableScripts,b=gf(a),S=g.get(b);S||(S=p.querySelector(v0(b)),S||(a=te({src:a,async:!0},u),(u=Nn.get(b))&&dM(a,u),S=p.createElement("script"),Di(S),xr(S,"link",a),p.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(b,S))}}function cre(a,u){ll.M(a,u);var p=mf;if(p&&a){var g=Ht(p).hoistableScripts,b=gf(a),S=g.get(b);S||(S=p.querySelector(v0(b)),S||(a=te({src:a,async:!0,type:"module"},u),(u=Nn.get(b))&&dM(a,u),S=p.createElement("script"),Di(S),xr(S,"link",a),p.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(b,S))}}function gN(a,u,p,g){var b=(b=ta.current)?Wb(b):null;if(!b)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(u=yf(p.href),p=Ht(b).hoistableStyles,g=p.get(u),g||(g={type:"style",instance:null,count:0,state:null},p.set(u,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){a=yf(p.href);var S=Ht(b).hoistableStyles,M=S.get(a);if(M||(b=b.ownerDocument||b,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(a,M),(S=b.querySelector(g0(a)))&&!S._p&&(M.instance=S,M.state.loading=5),Nn.has(a)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Nn.set(a,p),S||hre(b,a,p,M.state))),u&&g===null)throw Error(r(528,""));return M}if(u&&g!==null)throw Error(r(529,""));return null;case"script":return u=p.async,p=p.src,typeof p=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=gf(p),p=Ht(b).hoistableScripts,g=p.get(u),g||(g={type:"script",instance:null,count:0,state:null},p.set(u,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function yf(a){return'href="'+Mn(a)+'"'}function g0(a){return'link[rel="stylesheet"]['+a+"]"}function vN(a){return te({},a,{"data-precedence":a.precedence,precedence:null})}function hre(a,u,p,g){a.querySelector('link[rel="preload"][as="style"]['+u+"]")?g.loading=1:(u=a.createElement("link"),g.preload=u,u.addEventListener("load",function(){return g.loading|=1}),u.addEventListener("error",function(){return g.loading|=2}),xr(u,"link",p),Di(u),a.head.appendChild(u))}function gf(a){return'[src="'+Mn(a)+'"]'}function v0(a){return"script[async]"+a}function wN(a,u,p){if(u.count++,u.instance===null)switch(u.type){case"style":var g=a.querySelector('style[data-href~="'+Mn(p.href)+'"]');if(g)return u.instance=g,Di(g),g;var b=te({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),Di(g),xr(g,"style",b),Zb(g,p.precedence,a),u.instance=g;case"stylesheet":b=yf(p.href);var S=a.querySelector(g0(b));if(S)return u.state.loading|=4,u.instance=S,Di(S),S;g=vN(p),(b=Nn.get(b))&&hM(g,b),S=(a.ownerDocument||a).createElement("link"),Di(S);var M=S;return M._p=new Promise(function(k,D){M.onload=k,M.onerror=D}),xr(S,"link",g),u.state.loading|=4,Zb(S,p.precedence,a),u.instance=S;case"script":return S=gf(p.src),(b=a.querySelector(v0(S)))?(u.instance=b,Di(b),b):(g=p,(b=Nn.get(S))&&(g=te({},p),dM(g,b)),a=a.ownerDocument||a,b=a.createElement("script"),Di(b),xr(b,"link",g),a.head.appendChild(b),u.instance=b);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(g=u.instance,u.state.loading|=4,Zb(g,p.precedence,a));return u.instance}function Zb(a,u,p){for(var g=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=g.length?g[g.length-1]:null,S=b,M=0;M<g.length;M++){var k=g[M];if(k.dataset.precedence===u)S=k;else if(S!==b)break}S?S.parentNode.insertBefore(a,S.nextSibling):(u=p.nodeType===9?p.head:p,u.insertBefore(a,u.firstChild))}function hM(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.title==null&&(a.title=u.title)}function dM(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.integrity==null&&(a.integrity=u.integrity)}var Yb=null;function bN(a,u,p){if(Yb===null){var g=new Map,b=Yb=new Map;b.set(p,g)}else b=Yb,g=b.get(p),g||(g=new Map,b.set(p,g));if(g.has(a))return g;for(g.set(a,null),p=p.getElementsByTagName(a),b=0;b<p.length;b++){var S=p[b];if(!(S[ph]||S[ar]||a==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var M=S.getAttribute(u)||"";M=a+M;var k=g.get(M);k?k.push(S):g.set(M,[S])}}return g}function _N(a,u,p){a=a.ownerDocument||a,a.head.insertBefore(p,u==="title"?a.querySelector("head > title"):null)}function dre(a,u,p){if(p===1||u.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return a=u.disabled,typeof u.precedence=="string"&&a==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function SN(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var w0=null;function pre(){}function fre(a,u,p){if(w0===null)throw Error(r(475));var g=w0;if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var b=yf(p.href),S=a.querySelector(g0(b));if(S){a=S._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(g.count++,g=Jb.bind(g),a.then(g,g)),u.state.loading|=4,u.instance=S,Di(S);return}S=a.ownerDocument||a,p=vN(p),(b=Nn.get(b))&&hM(p,b),S=S.createElement("link"),Di(S);var M=S;M._p=new Promise(function(k,D){M.onload=k,M.onerror=D}),xr(S,"link",p),u.instance=S}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(u,a),(a=u.state.preload)&&(u.state.loading&3)===0&&(g.count++,u=Jb.bind(g),a.addEventListener("load",u),a.addEventListener("error",u))}}function mre(){if(w0===null)throw Error(r(475));var a=w0;return a.stylesheets&&a.count===0&&pM(a,a.stylesheets),0<a.count?function(u){var p=setTimeout(function(){if(a.stylesheets&&pM(a,a.stylesheets),a.unsuspend){var g=a.unsuspend;a.unsuspend=null,g()}},6e4);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(p)}}:null}function Jb(){if(this.count--,this.count===0){if(this.stylesheets)pM(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Kb=null;function pM(a,u){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Kb=new Map,u.forEach(yre,a),Kb=null,Jb.call(a))}function yre(a,u){if(!(u.state.loading&4)){var p=Kb.get(a);if(p)var g=p.get(null);else{p=new Map,Kb.set(a,p);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<b.length;S++){var M=b[S];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(p.set(M.dataset.precedence,M),g=M)}g&&p.set(null,g)}b=u.instance,M=b.getAttribute("data-precedence"),S=p.get(M)||g,S===g&&p.set(null,b),p.set(M,b),this.count++,g=Jb.bind(this),b.addEventListener("load",g),b.addEventListener("error",g),S?S.parentNode.insertBefore(b,S.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),u.state.loading|=4}}var b0={$$typeof:_,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function gre(a,u,p,g,b,S,M,k){this.tag=1,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ra(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ra(0),this.hiddenUpdates=ra(null),this.identifierPrefix=g,this.onUncaughtError=b,this.onCaughtError=S,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function xN(a,u,p,g,b,S,M,k,D,U,ne,ue){return a=new gre(a,u,p,M,k,D,U,ue),u=1,S===!0&&(u|=24),S=Pn(3,null,null,u),a.current=S,S.stateNode=a,u=G3(),u.refCount++,a.pooledCache=u,u.refCount++,S.memoizedState={element:g,isDehydrated:p,cache:u},$$(S),a}function TN(a){return a?(a=Zp,a):Zp}function $N(a,u,p,g,b,S){b=TN(b),g.context===null?g.context=b:g.pendingContext=b,g=Mu(u),g.payload={element:p},S=S===void 0?null:S,S!==null&&(g.callback=S),p=Eu(a,g,u),p!==null&&(ss(p,a,u),r0(p,a,u))}function MN(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var p=a.retryLane;a.retryLane=p!==0&&p<u?p:u}}function fM(a,u){MN(a,u),(a=a.alternate)&&MN(a,u)}function EN(a){if(a.tag===13){var u=wu(a,67108864);u!==null&&ss(u,a,67108864),fM(a,67108864)}}var Xb=!0;function vre(a,u,p,g){var b=J.T;J.T=null;var S=Te.p;try{Te.p=2,mM(a,u,p,g)}finally{Te.p=S,J.T=b}}function wre(a,u,p,g){var b=J.T;J.T=null;var S=Te.p;try{Te.p=8,mM(a,u,p,g)}finally{Te.p=S,J.T=b}}function mM(a,u,p,g){if(Xb){var b=yM(g);if(b===null)rM(a,u,g,Qb,p),ON(a,g);else if(_re(b,a,u,p,g))g.stopPropagation();else if(ON(a,g),u&4&&-1<bre.indexOf(a)){for(;b!==null;){var S=mu(b);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var M=Ba(S.pendingLanes);if(M!==0){var k=S;for(k.pendingLanes|=2,k.entangledLanes|=2;M;){var D=1<<31-ts(M);k.entanglements[1]|=D,M&=~D}la(S),(ni&6)===0&&(Nb=$n()+500,f0(0))}}break;case 13:k=wu(S,2),k!==null&&ss(k,S,2),Vb(),fM(S,2)}if(S=yM(g),S===null&&rM(a,u,g,Qb,p),S===b)break;b=S}b!==null&&g.stopPropagation()}else rM(a,u,g,null,p)}}function yM(a){return a=S3(a),gM(a)}var Qb=null;function gM(a){if(Qb=null,a=mo(a),a!==null){var u=de(a);if(u===null)a=null;else{var p=u.tag;if(p===13){if(a=We(u),a!==null)return a;a=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null)}}return Qb=a,null}function AN(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(a3()){case Jw:return 2;case Kw:return 8;case jp:case pI:return 32;case Xw:return 268435456;default:return 32}default:return 32}}var vM=!1,Pu=null,ju=null,Nu=null,_0=new Map,S0=new Map,Du=[],bre="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ON(a,u){switch(a){case"focusin":case"focusout":Pu=null;break;case"dragenter":case"dragleave":ju=null;break;case"mouseover":case"mouseout":Nu=null;break;case"pointerover":case"pointerout":_0.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":S0.delete(u.pointerId)}}function x0(a,u,p,g,b,S){return a===null||a.nativeEvent!==S?(a={blockedOn:u,domEventName:p,eventSystemFlags:g,nativeEvent:S,targetContainers:[b]},u!==null&&(u=mu(u),u!==null&&EN(u)),a):(a.eventSystemFlags|=g,u=a.targetContainers,b!==null&&u.indexOf(b)===-1&&u.push(b),a)}function _re(a,u,p,g,b){switch(u){case"focusin":return Pu=x0(Pu,a,u,p,g,b),!0;case"dragenter":return ju=x0(ju,a,u,p,g,b),!0;case"mouseover":return Nu=x0(Nu,a,u,p,g,b),!0;case"pointerover":var S=b.pointerId;return _0.set(S,x0(_0.get(S)||null,a,u,p,g,b)),!0;case"gotpointercapture":return S=b.pointerId,S0.set(S,x0(S0.get(S)||null,a,u,p,g,b)),!0}return!1}function kN(a){var u=mo(a.target);if(u!==null){var p=de(u);if(p!==null){if(u=p.tag,u===13){if(u=We(p),u!==null){a.blockedOn=u,Ni(a.priority,function(){if(p.tag===13){var g=rn(),b=wu(p,g);b!==null&&ss(b,p,g),fM(p,g)}});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){a.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}a.blockedOn=null}function e_(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var p=yM(a.nativeEvent);if(p===null){p=a.nativeEvent;var g=new p.constructor(p.type,p);_3=g,p.target.dispatchEvent(g),_3=null}else return u=mu(p),u!==null&&EN(u),a.blockedOn=p,!1;u.shift()}return!0}function CN(a,u,p){e_(a)&&p.delete(u)}function Sre(){vM=!1,Pu!==null&&e_(Pu)&&(Pu=null),ju!==null&&e_(ju)&&(ju=null),Nu!==null&&e_(Nu)&&(Nu=null),_0.forEach(CN),S0.forEach(CN)}function t_(a,u){a.blockedOn===u&&(a.blockedOn=null,vM||(vM=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Sre)))}var i_=null;function RN(a){i_!==a&&(i_=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){i_===a&&(i_=null);for(var u=0;u<a.length;u+=3){var p=a[u],g=a[u+1],b=a[u+2];if(typeof g!="function"){if(gM(g||p)===null)continue;break}var S=mu(p);S!==null&&(a.splice(u,3),u-=3,a$(S,{pending:!0,data:b,method:p.method,action:g},g,b))}}))}function T0(a){function u(D){return t_(D,a)}Pu!==null&&t_(Pu,a),ju!==null&&t_(ju,a),Nu!==null&&t_(Nu,a),_0.forEach(u),S0.forEach(u);for(var p=0;p<Du.length;p++){var g=Du[p];g.blockedOn===a&&(g.blockedOn=null)}for(;0<Du.length&&(p=Du[0],p.blockedOn===null);)kN(p),p.blockedOn===null&&Du.shift();if(p=(a.ownerDocument||a).$$reactFormReplay,p!=null)for(g=0;g<p.length;g+=3){var b=p[g],S=p[g+1],M=b[ri]||null;if(typeof S=="function")M||RN(p);else if(M){var k=null;if(S&&S.hasAttribute("formAction")){if(b=S,M=S[ri]||null)k=M.formAction;else if(gM(b)!==null)continue}else k=M.action;typeof k=="function"?p[g+1]=k:(p.splice(g,3),g-=3),RN(p)}}}function wM(a){this._internalRoot=a}r_.prototype.render=wM.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(r(409));var p=u.current,g=rn();$N(p,g,a,u,null,null)},r_.prototype.unmount=wM.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;a.tag===0&&df(),$N(a.current,2,null,a,null,null),Vb(),u[Ga]=null}};function r_(a){this._internalRoot=a}r_.prototype.unstable_scheduleHydration=function(a){if(a){var u=Qw();a={blockedOn:null,target:a,priority:u};for(var p=0;p<Du.length&&u!==0&&u<Du[p].priority;p++);Du.splice(p,0,a),p===0&&kN(a)}};var IN=e.version;if(IN!=="19.0.0")throw Error(r(527,IN,"19.0.0"));Te.findDOMNode=function(a){var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=he(u),a=a!==null?Ue(a):null,a=a===null?null:a.stateNode,a};var xre={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:J,findFiberByHostInstance:mo,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var s_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!s_.isDisabled&&s_.supportsFiber)try{uh=s_.inject(xre),es=s_}catch{}}return M0.createRoot=function(a,u){if(!s(a))throw Error(r(299));var p=!1,g="",b=JP,S=KP,M=XP,k=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(S=u.onCaughtError),u.onRecoverableError!==void 0&&(M=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(k=u.unstable_transitionCallbacks)),u=xN(a,1,!1,null,null,p,g,b,S,M,k,null),a[Ga]=u.current,iM(a.nodeType===8?a.parentNode:a),new wM(u)},M0.hydrateRoot=function(a,u,p){if(!s(a))throw Error(r(299));var g=!1,b="",S=JP,M=KP,k=XP,D=null,U=null;return p!=null&&(p.unstable_strictMode===!0&&(g=!0),p.identifierPrefix!==void 0&&(b=p.identifierPrefix),p.onUncaughtError!==void 0&&(S=p.onUncaughtError),p.onCaughtError!==void 0&&(M=p.onCaughtError),p.onRecoverableError!==void 0&&(k=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(D=p.unstable_transitionCallbacks),p.formState!==void 0&&(U=p.formState)),u=xN(a,1,!0,u,p??null,g,b,S,M,k,D,U),u.context=TN(null),p=u.current,g=rn(),b=Mu(g),b.callback=null,Eu(p,b,g),u.current.lanes=g,fo(u,g),la(u),a[Ga]=u.current,iM(a),new r_(u)},M0.version="19.0.0",M0}var GN;function Nre(){if(GN)return SM.exports;GN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),SM.exports=jre(),SM.exports}var Dre=Nre(),W=iC();const Ld=Ere(W);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var HN="popstate";function Lre(t={}){function e(s,n){let{pathname:o="/",search:l="",hash:c=""}=wp(s.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),bE("",{pathname:o,search:l,hash:c},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function i(s,n){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=s.location.href,d=c.indexOf("#");l=d===-1?c:c.slice(0,d)}return l+"#"+(typeof n=="string"?n:A1(n))}function r(s,n){Ko(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(n)})`)}return Fre(e,i,r,t)}function ui(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ko(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Vre(){return Math.random().toString(36).substring(2,10)}function WN(t,e){return{usr:t.state,key:t.key,idx:e}}function bE(t,e,i=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?wp(e):e,state:i,key:e&&e.key||r||Vre()}}function A1({pathname:t="/",search:e="",hash:i=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function wp(t){let e={};if(t){let i=t.indexOf("#");i>=0&&(e.hash=t.substring(i),t=t.substring(0,i));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Fre(t,e,i,r={}){let{window:s=document.defaultView,v5Compat:n=!1}=r,o=s.history,l="POP",c=null,d=m();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function m(){return(o.state||{idx:null}).idx}function v(){l="POP";let $=m(),O=$==null?null:$-d;d=$,c&&c({action:l,location:T.location,delta:O})}function w($,O){l="PUSH";let C=bE(T.location,$,O);i&&i(C,$),d=m()+1;let R=WN(C,d),N=T.createHref(C);try{o.pushState(R,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(N)}n&&c&&c({action:l,location:T.location,delta:1})}function _($,O){l="REPLACE";let C=bE(T.location,$,O);i&&i(C,$),d=m();let R=WN(C,d),N=T.createHref(C);o.replaceState(R,"",N),n&&c&&c({action:l,location:T.location,delta:0})}function x($){return zre($)}let T={get action(){return l},get location(){return t(s,o)},listen($){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(HN,v),c=$,()=>{s.removeEventListener(HN,v),c=null}},createHref($){return e(s,$)},createURL:x,encodeLocation($){let O=x($);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:w,replace:_,go($){return o.go($)}};return T}function zre(t,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ui(i,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:A1(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function Nz(t,e,i="/"){return Ure(t,e,i,!1)}function Ure(t,e,i,r){let s=typeof e=="string"?wp(e):e,n=lu(s.pathname||"/",i);if(n==null)return null;let o=Dz(t);qre(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=ese(n);l=Xre(o[c],d,r)}return l}function Dz(t,e=[],i=[],r="",s=!1){let n=(o,l,c=s,d)=>{let m={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&c)return;ui(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let v=tu([r,m.relativePath]),w=i.concat(m);o.children&&o.children.length>0&&(ui(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Dz(o.children,e,w,v,c)),!(o.path==null&&!o.index)&&e.push({path:v,score:Jre(v,o.index),routesMeta:w})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))n(o,l);else for(let d of Lz(o.path))n(o,l,!0,d)}),e}function Lz(t){let e=t.split("/");if(e.length===0)return[];let[i,...r]=e,s=i.endsWith("?"),n=i.replace(/\?$/,"");if(r.length===0)return s?[n,""]:[n];let o=Lz(r.join("/")),l=[];return l.push(...o.map(c=>c===""?n:[n,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function qre(t){t.sort((e,i)=>e.score!==i.score?i.score-e.score:Kre(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var Bre=/^:[\w-]+$/,Gre=3,Hre=2,Wre=1,Zre=10,Yre=-2,ZN=t=>t==="*";function Jre(t,e){let i=t.split("/"),r=i.length;return i.some(ZN)&&(r+=Yre),e&&(r+=Hre),i.filter(s=>!ZN(s)).reduce((s,n)=>s+(Bre.test(n)?Gre:n===""?Wre:Zre),r)}function Kre(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Xre(t,e,i=!1){let{routesMeta:r}=t,s={},n="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,m=n==="/"?e:e.slice(n.length)||"/",v=OS({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},m),w=c.route;if(!v&&d&&i&&!r[r.length-1].route.index&&(v=OS({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},m)),!v)return null;Object.assign(s,v.params),o.push({params:s,pathname:tu([n,v.pathname]),pathnameBase:sse(tu([n,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(n=tu([n,v.pathnameBase]))}return o}function OS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,r]=Qre(t.path,t.caseSensitive,t.end),s=e.match(i);if(!s)return null;let n=s[0],o=n.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,{paramName:m,isOptional:v},w)=>{if(m==="*"){let x=l[w]||"";o=n.slice(0,n.length-x.length).replace(/(.)\/+$/,"$1")}const _=l[w];return v&&!_?d[m]=void 0:d[m]=(_||"").replace(/%2F/g,"/"),d},{}),pathname:n,pathnameBase:o,pattern:t}}function Qre(t,e=!1,i=!0){Ko(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function ese(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ko(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function lu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=t.charAt(i);return r&&r!=="/"?null:t.slice(i)||"/"}function tse(t,e="/"){let{pathname:i,search:r="",hash:s=""}=typeof t=="string"?wp(t):t;return{pathname:i?i.startsWith("/")?i:ise(i,e):e,search:nse(r),hash:ose(s)}}function ise(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?i.length>1&&i.pop():s!=="."&&i.push(s)}),i.length>1?i.join("/"):"/"}function EM(t,e,i,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rse(t){return t.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Vz(t){let e=rse(t);return e.map((i,r)=>r===e.length-1?i.pathname:i.pathnameBase)}function Fz(t,e,i,r=!1){let s;typeof t=="string"?s=wp(t):(s={...t},ui(!s.pathname||!s.pathname.includes("?"),EM("?","pathname","search",s)),ui(!s.pathname||!s.pathname.includes("#"),EM("#","pathname","hash",s)),ui(!s.search||!s.search.includes("#"),EM("#","search","hash",s)));let n=t===""||s.pathname==="",o=n?"/":s.pathname,l;if(o==null)l=i;else{let v=e.length-1;if(!r&&o.startsWith("..")){let w=o.split("/");for(;w[0]==="..";)w.shift(),v-=1;s.pathname=w.join("/")}l=v>=0?e[v]:"/"}let c=tse(s,l),d=o&&o!=="/"&&o.endsWith("/"),m=(n||o===".")&&i.endsWith("/");return!c.pathname.endsWith("/")&&(d||m)&&(c.pathname+="/"),c}var tu=t=>t.join("/").replace(/\/\/+/g,"/"),sse=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nse=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ose=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ase(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var zz=["POST","PUT","PATCH","DELETE"];new Set(zz);var lse=["GET",...zz];new Set(lse);var Qy=W.createContext(null);Qy.displayName="DataRouter";var Gx=W.createContext(null);Gx.displayName="DataRouterState";W.createContext(!1);var Uz=W.createContext({isTransitioning:!1});Uz.displayName="ViewTransition";var use=W.createContext(new Map);use.displayName="Fetchers";var cse=W.createContext(null);cse.displayName="Await";var Ua=W.createContext(null);Ua.displayName="Navigation";var pw=W.createContext(null);pw.displayName="Location";var qa=W.createContext({outlet:null,matches:[],isDataRoute:!1});qa.displayName="Route";var rC=W.createContext(null);rC.displayName="RouteError";function hse(t,{relative:e}={}){ui(fw(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=W.useContext(Ua),{hash:s,pathname:n,search:o}=mw(t,{relative:e}),l=n;return i!=="/"&&(l=n==="/"?i:tu([i,n])),r.createHref({pathname:l,search:o,hash:s})}function fw(){return W.useContext(pw)!=null}function bp(){return ui(fw(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(pw).location}var qz="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Bz(t){W.useContext(Ua).static||W.useLayoutEffect(t)}function dse(){let{isDataRoute:t}=W.useContext(qa);return t?Mse():pse()}function pse(){ui(fw(),"useNavigate() may be used only in the context of a <Router> component.");let t=W.useContext(Qy),{basename:e,navigator:i}=W.useContext(Ua),{matches:r}=W.useContext(qa),{pathname:s}=bp(),n=JSON.stringify(Vz(r)),o=W.useRef(!1);return Bz(()=>{o.current=!0}),W.useCallback((c,d={})=>{if(Ko(o.current,qz),!o.current)return;if(typeof c=="number"){i.go(c);return}let m=Fz(c,JSON.parse(n),s,d.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:tu([e,m.pathname])),(d.replace?i.replace:i.push)(m,d.state,d)},[e,i,n,s,t])}W.createContext(null);function fse(){let{matches:t}=W.useContext(qa),e=t[t.length-1];return e?e.params:{}}function mw(t,{relative:e}={}){let{matches:i}=W.useContext(qa),{pathname:r}=bp(),s=JSON.stringify(Vz(i));return W.useMemo(()=>Fz(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function mse(t,e){return Gz(t,e)}function Gz(t,e,i,r,s){var C;ui(fw(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:n}=W.useContext(Ua),{matches:o}=W.useContext(qa),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",m=l?l.pathnameBase:"/",v=l&&l.route;{let R=v&&v.path||"";Hz(d,!v||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let w=bp(),_;if(e){let R=typeof e=="string"?wp(e):e;ui(m==="/"||((C=R.pathname)==null?void 0:C.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${R.pathname}" was given in the \`location\` prop.`),_=R}else _=w;let x=_.pathname||"/",T=x;if(m!=="/"){let R=m.replace(/^\//,"").split("/");T="/"+x.replace(/^\//,"").split("/").slice(R.length).join("/")}let $=Nz(t,{pathname:T});Ko(v||$!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Ko($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=bse($&&$.map(R=>Object.assign({},R,{params:Object.assign({},c,R.params),pathname:tu([m,n.encodeLocation?n.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?m:tu([m,n.encodeLocation?n.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),o,i,r,s);return e&&O?W.createElement(pw.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},O):O}function yse(){let t=$se(),e=ase(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},n={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:n},"ErrorBoundary")," or"," ",W.createElement("code",{style:n},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),i?W.createElement("pre",{style:s},i):null,o)}var gse=W.createElement(yse,null),vse=class extends W.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?W.createElement(qa.Provider,{value:this.props.routeContext},W.createElement(rC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wse({routeContext:t,match:e,children:i}){let r=W.useContext(Qy);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(qa.Provider,{value:t},i)}function bse(t,e=[],i=null,r=null,s=null){if(t==null){if(!i)return null;if(i.errors)t=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)t=i.matches;else return null}let n=t,o=i==null?void 0:i.errors;if(o!=null){let d=n.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);ui(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),n=n.slice(0,Math.min(n.length,d+1))}let l=!1,c=-1;if(i)for(let d=0;d<n.length;d++){let m=n[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=d),m.route.id){let{loaderData:v,errors:w}=i,_=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!w||w[m.route.id]===void 0);if(m.route.lazy||_){l=!0,c>=0?n=n.slice(0,c+1):n=[n[0]];break}}}return n.reduceRight((d,m,v)=>{let w,_=!1,x=null,T=null;i&&(w=o&&m.route.id?o[m.route.id]:void 0,x=m.route.errorElement||gse,l&&(c<0&&v===0?(Hz("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,T=null):c===v&&(_=!0,T=m.route.hydrateFallbackElement||null)));let $=e.concat(n.slice(0,v+1)),O=()=>{let C;return w?C=x:_?C=T:m.route.Component?C=W.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=d,W.createElement(wse,{match:m,routeContext:{outlet:d,matches:$,isDataRoute:i!=null},children:C})};return i&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?W.createElement(vse,{location:i.location,revalidation:i.revalidation,component:x,error:w,children:O(),routeContext:{outlet:null,matches:$,isDataRoute:!0},unstable_onError:r}):O()},null)}function sC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _se(t){let e=W.useContext(Qy);return ui(e,sC(t)),e}function Sse(t){let e=W.useContext(Gx);return ui(e,sC(t)),e}function xse(t){let e=W.useContext(qa);return ui(e,sC(t)),e}function nC(t){let e=xse(t),i=e.matches[e.matches.length-1];return ui(i.route.id,`${t} can only be used on routes that contain a unique "id"`),i.route.id}function Tse(){return nC("useRouteId")}function $se(){var r;let t=W.useContext(rC),e=Sse("useRouteError"),i=nC("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[i]}function Mse(){let{router:t}=_se("useNavigate"),e=nC("useNavigate"),i=W.useRef(!1);return Bz(()=>{i.current=!0}),W.useCallback(async(s,n={})=>{Ko(i.current,qz),i.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...n}))},[t,e])}var YN={};function Hz(t,e,i){!e&&!YN[t]&&(YN[t]=!0,Ko(!1,i))}W.memo(Ese);function Ese({routes:t,future:e,state:i,unstable_onError:r}){return Gz(t,void 0,i,r,e)}function ev(t){ui(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ase({basename:t="/",children:e=null,location:i,navigationType:r="POP",navigator:s,static:n=!1}){ui(!fw(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=W.useMemo(()=>({basename:o,navigator:s,static:n,future:{}}),[o,s,n]);typeof i=="string"&&(i=wp(i));let{pathname:c="/",search:d="",hash:m="",state:v=null,key:w="default"}=i,_=W.useMemo(()=>{let x=lu(c,o);return x==null?null:{location:{pathname:x,search:d,hash:m,state:v,key:w},navigationType:r}},[o,c,d,m,v,w,r]);return Ko(_!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:W.createElement(Ua.Provider,{value:l},W.createElement(pw.Provider,{children:e,value:_}))}function Ose({children:t,location:e}){return mse(_E(t),e)}function _E(t,e=[]){let i=[];return W.Children.forEach(t,(r,s)=>{if(!W.isValidElement(r))return;let n=[...e,s];if(r.type===W.Fragment){i.push.apply(i,_E(r.props.children,n));return}ui(r.type===ev,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ui(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||n.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=_E(r.props.children,n)),i.push(o)}),i}var a2="get",l2="application/x-www-form-urlencoded";function Hx(t){return t!=null&&typeof t.tagName=="string"}function kse(t){return Hx(t)&&t.tagName.toLowerCase()==="button"}function Cse(t){return Hx(t)&&t.tagName.toLowerCase()==="form"}function Rse(t){return Hx(t)&&t.tagName.toLowerCase()==="input"}function Ise(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Pse(t,e){return t.button===0&&(!e||e==="_self")&&!Ise(t)}var n_=null;function jse(){if(n_===null)try{new FormData(document.createElement("form"),0),n_=!1}catch{n_=!0}return n_}var Nse=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function AM(t){return t!=null&&!Nse.has(t)?(Ko(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${l2}"`),null):t}function Dse(t,e){let i,r,s,n,o;if(Cse(t)){let l=t.getAttribute("action");r=l?lu(l,e):null,i=t.getAttribute("method")||a2,s=AM(t.getAttribute("enctype"))||l2,n=new FormData(t)}else if(kse(t)||Rse(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?lu(c,e):null,i=t.getAttribute("formmethod")||l.getAttribute("method")||a2,s=AM(t.getAttribute("formenctype"))||AM(l.getAttribute("enctype"))||l2,n=new FormData(l,t),!jse()){let{name:d,type:m,value:v}=t;if(m==="image"){let w=d?`${d}.`:"";n.append(`${w}x`,"0"),n.append(`${w}y`,"0")}else d&&n.append(d,v)}}else{if(Hx(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=a2,r=null,s=l2,o=t}return n&&s==="text/plain"&&(o=n,n=void 0),{action:r,method:i.toLowerCase(),encType:s,formData:n,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function oC(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Lse(t,e,i){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${i}`:e&&lu(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function Vse(t,e){if(t.id in e)return e[t.id];try{let i=await import(t.module);return e[t.id]=i,i}catch(i){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Fse(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function zse(t,e,i){let r=await Promise.all(t.map(async s=>{let n=e.routes[s.route.id];if(n){let o=await Vse(n,i);return o.links?o.links():[]}return[]}));return Gse(r.flat(1).filter(Fse).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function JN(t,e,i,r,s,n){let o=(c,d)=>i[d]?c.route.id!==i[d].route.id:!0,l=(c,d)=>{var m;return i[d].pathname!==c.pathname||((m=i[d].route.path)==null?void 0:m.endsWith("*"))&&i[d].params["*"]!==c.params["*"]};return n==="assets"?e.filter((c,d)=>o(c,d)||l(c,d)):n==="data"?e.filter((c,d)=>{var v;let m=r.routes[c.route.id];if(!m||!m.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let w=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=i[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Use(t,e,{includeHydrateFallback:i}={}){return qse(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let n=[s.module];return s.clientActionModule&&(n=n.concat(s.clientActionModule)),s.clientLoaderModule&&(n=n.concat(s.clientLoaderModule)),i&&s.hydrateFallbackModule&&(n=n.concat(s.hydrateFallbackModule)),s.imports&&(n=n.concat(s.imports)),n}).flat(1))}function qse(t){return[...new Set(t)]}function Bse(t){let e={},i=Object.keys(t).sort();for(let r of i)e[r]=t[r];return e}function Gse(t,e){let i=new Set;return new Set(e),t.reduce((r,s)=>{let n=JSON.stringify(Bse(s));return i.has(n)||(i.add(n),r.push({key:n,link:s})),r},[])}function Wz(){let t=W.useContext(Qy);return oC(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Hse(){let t=W.useContext(Gx);return oC(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var aC=W.createContext(void 0);aC.displayName="FrameworkContext";function Zz(){let t=W.useContext(aC);return oC(t,"You must render this element inside a <HydratedRouter> element"),t}function Wse(t,e){let i=W.useContext(aC),[r,s]=W.useState(!1),[n,o]=W.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:m,onTouchStart:v}=e,w=W.useRef(null);W.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let T=O=>{O.forEach(C=>{o(C.isIntersecting)})},$=new IntersectionObserver(T,{threshold:.5});return w.current&&$.observe(w.current),()=>{$.disconnect()}}},[t]),W.useEffect(()=>{if(r){let T=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(T)}}},[r]);let _=()=>{s(!0)},x=()=>{s(!1),o(!1)};return i?t!=="intent"?[n,w,{}]:[n,w,{onFocus:E0(l,_),onBlur:E0(c,x),onMouseEnter:E0(d,_),onMouseLeave:E0(m,x),onTouchStart:E0(v,_)}]:[!1,w,{}]}function E0(t,e){return i=>{t&&t(i),i.defaultPrevented||e(i)}}function Zse({page:t,...e}){let{router:i}=Wz(),r=W.useMemo(()=>Nz(i.routes,t,i.basename),[i.routes,t,i.basename]);return r?W.createElement(Jse,{page:t,matches:r,...e}):null}function Yse(t){let{manifest:e,routeModules:i}=Zz(),[r,s]=W.useState([]);return W.useEffect(()=>{let n=!1;return zse(t,e,i).then(o=>{n||s(o)}),()=>{n=!0}},[t,e,i]),r}function Jse({page:t,matches:e,...i}){let r=bp(),{manifest:s,routeModules:n}=Zz(),{basename:o}=Wz(),{loaderData:l,matches:c}=Hse(),d=W.useMemo(()=>JN(t,e,c,s,r,"data"),[t,e,c,s,r]),m=W.useMemo(()=>JN(t,e,c,s,r,"assets"),[t,e,c,s,r]),v=W.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,T=!1;if(e.forEach(O=>{var R;let C=s.routes[O.route.id];!C||!C.hasLoader||(!d.some(N=>N.route.id===O.route.id)&&O.route.id in l&&((R=n[O.route.id])!=null&&R.shouldRevalidate)||C.hasClientLoader?T=!0:x.add(O.route.id))}),x.size===0)return[];let $=Lse(t,o,"data");return T&&x.size>0&&$.searchParams.set("_routes",e.filter(O=>x.has(O.route.id)).map(O=>O.route.id).join(",")),[$.pathname+$.search]},[o,l,r,s,d,e,t,n]),w=W.useMemo(()=>Use(m,s),[m,s]),_=Yse(m);return W.createElement(W.Fragment,null,v.map(x=>W.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...i})),w.map(x=>W.createElement("link",{key:x,rel:"modulepreload",href:x,...i})),_.map(({key:x,link:T})=>W.createElement("link",{key:x,nonce:i.nonce,...T})))}function Kse(...t){return e=>{t.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var Yz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Yz&&(window.__reactRouterVersion="7.9.4")}catch{}function Xse({basename:t,children:e,window:i}){let r=W.useRef();r.current==null&&(r.current=Lre({window:i,v5Compat:!0}));let s=r.current,[n,o]=W.useState({action:s.action,location:s.location}),l=W.useCallback(c=>{W.startTransition(()=>o(c))},[o]);return W.useLayoutEffect(()=>s.listen(l),[s,l]),W.createElement(Ase,{basename:t,children:e,location:n.location,navigationType:n.action,navigator:s})}var Jz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kz=W.forwardRef(function({onClick:e,discover:i="render",prefetch:r="none",relative:s,reloadDocument:n,replace:o,state:l,target:c,to:d,preventScrollReset:m,viewTransition:v,...w},_){let{basename:x}=W.useContext(Ua),T=typeof d=="string"&&Jz.test(d),$,O=!1;if(typeof d=="string"&&T&&($=d,Yz))try{let J=new URL(window.location.href),te=d.startsWith("//")?new URL(J.protocol+d):new URL(d),pe=lu(te.pathname,x);te.origin===J.origin&&pe!=null?d=pe+te.search+te.hash:O=!0}catch{Ko(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=hse(d,{relative:s}),[R,N,j]=Wse(r,w),z=ine(d,{replace:o,state:l,target:c,preventScrollReset:m,relative:s,viewTransition:v});function ee(J){e&&e(J),J.defaultPrevented||z(J)}let Q=W.createElement("a",{...w,...j,href:$||C,onClick:O||n?e:ee,ref:Kse(_,N),target:c,"data-discover":!T&&i==="render"?"true":void 0});return R&&!T?W.createElement(W.Fragment,null,Q,W.createElement(Zse,{page:C})):Q});Kz.displayName="Link";var Qse=W.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:r="",end:s=!1,style:n,to:o,viewTransition:l,children:c,...d},m){let v=mw(o,{relative:d.relative}),w=bp(),_=W.useContext(Gx),{navigator:x,basename:T}=W.useContext(Ua),$=_!=null&&ane(v)&&l===!0,O=x.encodeLocation?x.encodeLocation(v).pathname:v.pathname,C=w.pathname,R=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;i||(C=C.toLowerCase(),R=R?R.toLowerCase():null,O=O.toLowerCase()),R&&T&&(R=lu(R,T)||R);const N=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let j=C===O||!s&&C.startsWith(O)&&C.charAt(N)==="/",z=R!=null&&(R===O||!s&&R.startsWith(O)&&R.charAt(O.length)==="/"),ee={isActive:j,isPending:z,isTransitioning:$},Q=j?e:void 0,J;typeof r=="function"?J=r(ee):J=[r,j?"active":null,z?"pending":null,$?"transitioning":null].filter(Boolean).join(" ");let te=typeof n=="function"?n(ee):n;return W.createElement(Kz,{...d,"aria-current":Q,className:J,ref:m,style:te,to:o,viewTransition:l},typeof c=="function"?c(ee):c)});Qse.displayName="NavLink";var ene=W.forwardRef(({discover:t="render",fetcherKey:e,navigate:i,reloadDocument:r,replace:s,state:n,method:o=a2,action:l,onSubmit:c,relative:d,preventScrollReset:m,viewTransition:v,...w},_)=>{let x=nne(),T=one(l,{relative:d}),$=o.toLowerCase()==="get"?"get":"post",O=typeof l=="string"&&Jz.test(l),C=R=>{if(c&&c(R),R.defaultPrevented)return;R.preventDefault();let N=R.nativeEvent.submitter,j=(N==null?void 0:N.getAttribute("formmethod"))||o;x(N||R.currentTarget,{fetcherKey:e,method:j,navigate:i,replace:s,state:n,relative:d,preventScrollReset:m,viewTransition:v})};return W.createElement("form",{ref:_,method:$,action:T,onSubmit:r?c:C,...w,"data-discover":!O&&t==="render"?"true":void 0})});ene.displayName="Form";function tne(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xz(t){let e=W.useContext(Qy);return ui(e,tne(t)),e}function ine(t,{target:e,replace:i,state:r,preventScrollReset:s,relative:n,viewTransition:o}={}){let l=dse(),c=bp(),d=mw(t,{relative:n});return W.useCallback(m=>{if(Pse(m,e)){m.preventDefault();let v=i!==void 0?i:A1(c)===A1(d);l(t,{replace:v,state:r,preventScrollReset:s,relative:n,viewTransition:o})}},[c,l,d,i,r,e,t,s,n,o])}var rne=0,sne=()=>`__${String(++rne)}__`;function nne(){let{router:t}=Xz("useSubmit"),{basename:e}=W.useContext(Ua),i=Tse();return W.useCallback(async(r,s={})=>{let{action:n,method:o,encType:l,formData:c,body:d}=Dse(r,e);if(s.navigate===!1){let m=s.fetcherKey||sne();await t.fetch(m,i,s.action||n,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await t.navigate(s.action||n,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:i,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,i])}function one(t,{relative:e}={}){let{basename:i}=W.useContext(Ua),r=W.useContext(qa);ui(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),n={...mw(t||".",{relative:e})},o=bp();if(t==null){n.search=o.search;let l=new URLSearchParams(n.search),c=l.getAll("index");if(c.some(m=>m==="")){l.delete("index"),c.filter(v=>v).forEach(v=>l.append("index",v));let m=l.toString();n.search=m?`?${m}`:""}}return(!t||t===".")&&s.route.index&&(n.search=n.search?n.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(n.pathname=n.pathname==="/"?i:tu([i,n.pathname])),A1(n)}function ane(t,{relative:e}={}){let i=W.useContext(Uz);ui(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Xz("useViewTransitionState"),s=mw(t,{relative:e});if(!i.isTransitioning)return!1;let n=lu(i.currentLocation.pathname,r)||i.currentLocation.pathname,o=lu(i.nextLocation.pathname,r)||i.nextLocation.pathname;return OS(s.pathname,o)!=null||OS(s.pathname,n)!=null}function lne(){const[t,e]=W.useState(!1);return E.jsxs("nav",{className:"bg-orange-50 shadow-md sticky top-0 z-50",children:[E.jsxs("div",{className:"mx-auto px-4 py-3 flex justify-between",children:[E.jsx("div",{className:"text-2xl font-bold text-orange-600 self-start",children:E.jsx("a",{href:"/",children:E.jsx("img",{src:"/globe.svg",className:"h-8 w-8"})})}),E.jsxs("div",{className:"hidden md:flex space-x-6 text-gray-700 font-medium",children:[E.jsx("a",{href:"/",className:"hover:text-orange-600",children:"Home"}),E.jsx("a",{href:"/#/about",className:"hover:text-orange-600",children:"About"}),E.jsx("a",{href:"/#/adventure-blog",className:"hover:text-orange-600",children:"Adventure Blog"}),E.jsx("a",{href:"/#/blog",className:"hover:text-orange-600",children:"Tech Blog"})]}),E.jsx("button",{onClick:()=>e(!t),className:"md:hidden text-gray-700 focus:outline-none",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t?E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),t&&E.jsxs("div",{className:"md:hidden bg-white border-t",children:[E.jsx("a",{onClick:()=>e(!t),href:"/",className:"block px-4 py-2 hover:bg-gray-50",children:"Home"}),E.jsx("a",{onClick:()=>e(!t),href:"/#/about",className:"block px-4 py-2 hover:bg-gray-50",children:"About"}),E.jsx("a",{onClick:()=>e(!t),href:"/#/adventure-blog",className:"block px-4 py-2 hover:bg-gray-50",children:"Adventure Blog"}),E.jsx("a",{onClick:()=>e(!t),href:"/#/contact",className:"block px-4 py-2 hover:bg-gray-50",children:"Tech Blog"})]})]})}const Qz=W.createContext({});function une(t){const e=W.useRef(null);return e.current===null&&(e.current=t()),e.current}const lC=typeof window<"u",cne=lC?W.useLayoutEffect:W.useEffect,uC=W.createContext(null);function cC(t,e){t.indexOf(e)===-1&&t.push(e)}function hC(t,e){const i=t.indexOf(e);i>-1&&t.splice(i,1)}const uu=(t,e,i)=>i>e?e:i<t?t:i;let dC=()=>{};const cu={},eU=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function tU(t){return typeof t=="object"&&t!==null}const iU=t=>/^0[^.\s]+$/u.test(t);function pC(t){let e;return()=>(e===void 0&&(e=t()),e)}const oo=t=>t,hne=(t,e)=>i=>e(t(i)),yw=(...t)=>t.reduce(hne),O1=(t,e,i)=>{const r=e-t;return r===0?1:(i-t)/r};class fC{constructor(){this.subscriptions=[]}add(e){return cC(this.subscriptions,e),()=>hC(this.subscriptions,e)}notify(e,i,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,i,r);else for(let n=0;n<s;n++){const o=this.subscriptions[n];o&&o(e,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ia=t=>t*1e3,io=t=>t/1e3;function rU(t,e){return e?t*(1e3/e):0}const sU=(t,e,i)=>(((1-3*i+3*e)*t+(3*i-6*e))*t+3*e)*t,dne=1e-7,pne=12;function fne(t,e,i,r,s){let n,o,l=0;do o=e+(i-e)/2,n=sU(o,r,s)-t,n>0?i=o:e=o;while(Math.abs(n)>dne&&++l<pne);return o}function gw(t,e,i,r){if(t===e&&i===r)return oo;const s=n=>fne(n,0,1,t,i);return n=>n===0||n===1?n:sU(s(n),e,r)}const nU=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,oU=t=>e=>1-t(1-e),aU=gw(.33,1.53,.69,.99),mC=oU(aU),lU=nU(mC),uU=t=>(t*=2)<1?.5*mC(t):.5*(2-Math.pow(2,-10*(t-1))),yC=t=>1-Math.sin(Math.acos(t)),cU=oU(yC),hU=nU(yC),mne=gw(.42,0,1,1),yne=gw(0,0,.58,1),dU=gw(.42,0,.58,1),gne=t=>Array.isArray(t)&&typeof t[0]!="number",pU=t=>Array.isArray(t)&&typeof t[0]=="number",vne={linear:oo,easeIn:mne,easeInOut:dU,easeOut:yne,circIn:yC,circInOut:hU,circOut:cU,backIn:mC,backInOut:lU,backOut:aU,anticipate:uU},wne=t=>typeof t=="string",KN=t=>{if(pU(t)){dC(t.length===4);const[e,i,r,s]=t;return gw(e,i,r,s)}else if(wne(t))return vne[t];return t},o_=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function bne(t,e){let i=new Set,r=new Set,s=!1,n=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(m){o.has(m)&&(d.schedule(m),t()),m(l)}const d={schedule:(m,v=!1,w=!1)=>{const x=w&&s?i:r;return v&&o.add(m),x.has(m)||x.add(m),m},cancel:m=>{r.delete(m),o.delete(m)},process:m=>{if(l=m,s){n=!0;return}s=!0,[i,r]=[r,i],i.forEach(c),i.clear(),s=!1,n&&(n=!1,d.process(m))}};return d}const _ne=40;function fU(t,e){let i=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},n=()=>i=!0,o=o_.reduce((R,N)=>(R[N]=bne(n),R),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:m,update:v,preRender:w,render:_,postRender:x}=o,T=()=>{const R=cu.useManualTiming?s.timestamp:performance.now();i=!1,cu.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(R-s.timestamp,_ne),1)),s.timestamp=R,s.isProcessing=!0,l.process(s),c.process(s),d.process(s),m.process(s),v.process(s),w.process(s),_.process(s),x.process(s),s.isProcessing=!1,i&&e&&(r=!1,t(T))},$=()=>{i=!0,r=!0,s.isProcessing||t(T)};return{schedule:o_.reduce((R,N)=>{const j=o[N];return R[N]=(z,ee=!1,Q=!1)=>(i||$(),j.schedule(z,ee,Q)),R},{}),cancel:R=>{for(let N=0;N<o_.length;N++)o[o_[N]].cancel(R)},state:s,steps:o}}const{schedule:ii,cancel:Fc,state:Ar,steps:OM}=fU(typeof requestAnimationFrame<"u"?requestAnimationFrame:oo,!0);let u2;function Sne(){u2=void 0}const zs={now:()=>(u2===void 0&&zs.set(Ar.isProcessing||cu.useManualTiming?Ar.timestamp:performance.now()),u2),set:t=>{u2=t,queueMicrotask(Sne)}},mU=t=>e=>typeof e=="string"&&e.startsWith(t),gC=mU("--"),xne=mU("var(--"),vC=t=>xne(t)?Tne.test(t.split("/*")[0].trim()):!1,Tne=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,eg={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},k1={...eg,transform:t=>uu(0,1,t)},a_={...eg,default:1},Bv=t=>Math.round(t*1e5)/1e5,wC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $ne(t){return t==null}const Mne=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bC=(t,e)=>i=>!!(typeof i=="string"&&Mne.test(i)&&i.startsWith(t)||e&&!$ne(i)&&Object.prototype.hasOwnProperty.call(i,e)),yU=(t,e,i)=>r=>{if(typeof r!="string")return r;const[s,n,o,l]=r.match(wC);return{[t]:parseFloat(s),[e]:parseFloat(n),[i]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Ene=t=>uu(0,255,t),kM={...eg,transform:t=>Math.round(Ene(t))},xd={test:bC("rgb","red"),parse:yU("red","green","blue"),transform:({red:t,green:e,blue:i,alpha:r=1})=>"rgba("+kM.transform(t)+", "+kM.transform(e)+", "+kM.transform(i)+", "+Bv(k1.transform(r))+")"};function Ane(t){let e="",i="",r="",s="";return t.length>5?(e=t.substring(1,3),i=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),i=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,i+=i,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const SE={test:bC("#"),parse:Ane,transform:xd.transform},vw=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Yu=vw("deg"),Pa=vw("%"),Ge=vw("px"),One=vw("vh"),kne=vw("vw"),XN={...Pa,parse:t=>Pa.parse(t)/100,transform:t=>Pa.transform(t*100)},dm={test:bC("hsl","hue"),parse:yU("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:i,alpha:r=1})=>"hsla("+Math.round(t)+", "+Pa.transform(Bv(e))+", "+Pa.transform(Bv(i))+", "+Bv(k1.transform(r))+")"},Bi={test:t=>xd.test(t)||SE.test(t)||dm.test(t),parse:t=>xd.test(t)?xd.parse(t):dm.test(t)?dm.parse(t):SE.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?xd.transform(t):dm.transform(t),getAnimatableNone:t=>{const e=Bi.parse(t);return e.alpha=0,Bi.transform(e)}},Cne=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Rne(t){var e,i;return isNaN(t)&&typeof t=="string"&&(((e=t.match(wC))==null?void 0:e.length)||0)+(((i=t.match(Cne))==null?void 0:i.length)||0)>0}const gU="number",vU="color",Ine="var",Pne="var(",QN="${}",jne=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function C1(t){const e=t.toString(),i=[],r={color:[],number:[],var:[]},s=[];let n=0;const l=e.replace(jne,c=>(Bi.test(c)?(r.color.push(n),s.push(vU),i.push(Bi.parse(c))):c.startsWith(Pne)?(r.var.push(n),s.push(Ine),i.push(c)):(r.number.push(n),s.push(gU),i.push(parseFloat(c))),++n,QN)).split(QN);return{values:i,split:l,indexes:r,types:s}}function wU(t){return C1(t).values}function bU(t){const{split:e,types:i}=C1(t),r=e.length;return s=>{let n="";for(let o=0;o<r;o++)if(n+=e[o],s[o]!==void 0){const l=i[o];l===gU?n+=Bv(s[o]):l===vU?n+=Bi.transform(s[o]):n+=s[o]}return n}}const Nne=t=>typeof t=="number"?0:Bi.test(t)?Bi.getAnimatableNone(t):t;function Dne(t){const e=wU(t);return bU(t)(e.map(Nne))}const zc={test:Rne,parse:wU,createTransformer:bU,getAnimatableNone:Dne};function CM(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function Lne({hue:t,saturation:e,lightness:i,alpha:r}){t/=360,e/=100,i/=100;let s=0,n=0,o=0;if(!e)s=n=o=i;else{const l=i<.5?i*(1+e):i+e-i*e,c=2*i-l;s=CM(c,l,t+1/3),n=CM(c,l,t),o=CM(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(n*255),blue:Math.round(o*255),alpha:r}}function kS(t,e){return i=>i>0?e:t}const ai=(t,e,i)=>t+(e-t)*i,RM=(t,e,i)=>{const r=t*t,s=i*(e*e-r)+r;return s<0?0:Math.sqrt(s)},Vne=[SE,xd,dm],Fne=t=>Vne.find(e=>e.test(t));function eD(t){const e=Fne(t);if(!e)return!1;let i=e.parse(t);return e===dm&&(i=Lne(i)),i}const tD=(t,e)=>{const i=eD(t),r=eD(e);if(!i||!r)return kS(t,e);const s={...i};return n=>(s.red=RM(i.red,r.red,n),s.green=RM(i.green,r.green,n),s.blue=RM(i.blue,r.blue,n),s.alpha=ai(i.alpha,r.alpha,n),xd.transform(s))},xE=new Set(["none","hidden"]);function zne(t,e){return xE.has(t)?i=>i<=0?t:e:i=>i>=1?e:t}function Une(t,e){return i=>ai(t,e,i)}function _C(t){return typeof t=="number"?Une:typeof t=="string"?vC(t)?kS:Bi.test(t)?tD:Gne:Array.isArray(t)?_U:typeof t=="object"?Bi.test(t)?tD:qne:kS}function _U(t,e){const i=[...t],r=i.length,s=t.map((n,o)=>_C(n)(n,e[o]));return n=>{for(let o=0;o<r;o++)i[o]=s[o](n);return i}}function qne(t,e){const i={...t,...e},r={};for(const s in i)t[s]!==void 0&&e[s]!==void 0&&(r[s]=_C(t[s])(t[s],e[s]));return s=>{for(const n in r)i[n]=r[n](s);return i}}function Bne(t,e){const i=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const n=e.types[s],o=t.indexes[n][r[n]],l=t.values[o]??0;i[s]=l,r[n]++}return i}const Gne=(t,e)=>{const i=zc.createTransformer(e),r=C1(t),s=C1(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?xE.has(t)&&!s.values.length||xE.has(e)&&!r.values.length?zne(t,e):yw(_U(Bne(r,s),s.values),i):kS(t,e)};function SU(t,e,i){return typeof t=="number"&&typeof e=="number"&&typeof i=="number"?ai(t,e,i):_C(t)(t,e)}const Hne=t=>{const e=({timestamp:i})=>t(i);return{start:(i=!0)=>ii.update(e,i),stop:()=>Fc(e),now:()=>Ar.isProcessing?Ar.timestamp:zs.now()}},xU=(t,e,i=10)=>{let r="";const s=Math.max(Math.round(e/i),2);for(let n=0;n<s;n++)r+=Math.round(t(n/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},CS=2e4;function SC(t){let e=0;const i=50;let r=t.next(e);for(;!r.done&&e<CS;)e+=i,r=t.next(e);return e>=CS?1/0:e}function Wne(t,e=100,i){const r=i({...t,keyframes:[0,e]}),s=Math.min(SC(r),CS);return{type:"keyframes",ease:n=>r.next(s*n).value/e,duration:io(s)}}const Zne=5;function TU(t,e,i){const r=Math.max(e-Zne,0);return rU(i-t(r),e-r)}const xi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},iD=.001;function Yne({duration:t=xi.duration,bounce:e=xi.bounce,velocity:i=xi.velocity,mass:r=xi.mass}){let s,n,o=1-e;o=uu(xi.minDamping,xi.maxDamping,o),t=uu(xi.minDuration,xi.maxDuration,io(t)),o<1?(s=d=>{const m=d*o,v=m*t,w=m-i,_=TE(d,o),x=Math.exp(-v);return iD-w/_*x},n=d=>{const v=d*o*t,w=v*i+i,_=Math.pow(o,2)*Math.pow(d,2)*t,x=Math.exp(-v),T=TE(Math.pow(d,2),o);return(-s(d)+iD>0?-1:1)*((w-_)*x)/T}):(s=d=>{const m=Math.exp(-d*t),v=(d-i)*t+1;return-.001+m*v},n=d=>{const m=Math.exp(-d*t),v=(i-d)*(t*t);return m*v});const l=5/t,c=Kne(s,n,l);if(t=Ia(t),isNaN(c))return{stiffness:xi.stiffness,damping:xi.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const Jne=12;function Kne(t,e,i){let r=i;for(let s=1;s<Jne;s++)r=r-t(r)/e(r);return r}function TE(t,e){return t*Math.sqrt(1-e*e)}const Xne=["duration","bounce"],Qne=["stiffness","damping","mass"];function rD(t,e){return e.some(i=>t[i]!==void 0)}function eoe(t){let e={velocity:xi.velocity,stiffness:xi.stiffness,damping:xi.damping,mass:xi.mass,isResolvedFromDuration:!1,...t};if(!rD(t,Qne)&&rD(t,Xne))if(t.visualDuration){const i=t.visualDuration,r=2*Math.PI/(i*1.2),s=r*r,n=2*uu(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:xi.mass,stiffness:s,damping:n}}else{const i=Yne(t);e={...e,...i,mass:xi.mass},e.isResolvedFromDuration=!0}return e}function RS(t=xi.visualDuration,e=xi.bounce){const i=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=i;const n=i.keyframes[0],o=i.keyframes[i.keyframes.length-1],l={done:!1,value:n},{stiffness:c,damping:d,mass:m,duration:v,velocity:w,isResolvedFromDuration:_}=eoe({...i,velocity:-io(i.velocity||0)}),x=w||0,T=d/(2*Math.sqrt(c*m)),$=o-n,O=io(Math.sqrt(c/m)),C=Math.abs($)<5;r||(r=C?xi.restSpeed.granular:xi.restSpeed.default),s||(s=C?xi.restDelta.granular:xi.restDelta.default);let R;if(T<1){const j=TE(O,T);R=z=>{const ee=Math.exp(-T*O*z);return o-ee*((x+T*O*$)/j*Math.sin(j*z)+$*Math.cos(j*z))}}else if(T===1)R=j=>o-Math.exp(-O*j)*($+(x+O*$)*j);else{const j=O*Math.sqrt(T*T-1);R=z=>{const ee=Math.exp(-T*O*z),Q=Math.min(j*z,300);return o-ee*((x+T*O*$)*Math.sinh(Q)+j*$*Math.cosh(Q))/j}}const N={calculatedDuration:_&&v||null,next:j=>{const z=R(j);if(_)l.done=j>=v;else{let ee=j===0?x:0;T<1&&(ee=j===0?Ia(x):TU(R,j,z));const Q=Math.abs(ee)<=r,J=Math.abs(o-z)<=s;l.done=Q&&J}return l.value=l.done?o:z,l},toString:()=>{const j=Math.min(SC(N),CS),z=xU(ee=>N.next(j*ee).value,j,30);return j+"ms "+z},toTransition:()=>{}};return N}RS.applyToOptions=t=>{const e=Wne(t,100,RS);return t.ease=e.ease,t.duration=Ia(e.duration),t.type="keyframes",t};function $E({keyframes:t,velocity:e=0,power:i=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:n=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:m}){const v=t[0],w={done:!1,value:v},_=Q=>l!==void 0&&Q<l||c!==void 0&&Q>c,x=Q=>l===void 0?c:c===void 0||Math.abs(l-Q)<Math.abs(c-Q)?l:c;let T=i*e;const $=v+T,O=o===void 0?$:o($);O!==$&&(T=O-v);const C=Q=>-T*Math.exp(-Q/r),R=Q=>O+C(Q),N=Q=>{const J=C(Q),te=R(Q);w.done=Math.abs(J)<=d,w.value=w.done?O:te};let j,z;const ee=Q=>{_(w.value)&&(j=Q,z=RS({keyframes:[w.value,x(w.value)],velocity:TU(R,Q,w.value),damping:s,stiffness:n,restDelta:d,restSpeed:m}))};return ee(0),{calculatedDuration:null,next:Q=>{let J=!1;return!z&&j===void 0&&(J=!0,N(Q),ee(Q)),j!==void 0&&Q>=j?z.next(Q-j):(!J&&N(Q),w)}}}function toe(t,e,i){const r=[],s=i||cu.mix||SU,n=t.length-1;for(let o=0;o<n;o++){let l=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||oo:e;l=yw(c,l)}r.push(l)}return r}function ioe(t,e,{clamp:i=!0,ease:r,mixer:s}={}){const n=t.length;if(dC(n===e.length),n===1)return()=>e[0];if(n===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[n-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=toe(e,r,s),c=l.length,d=m=>{if(o&&m<t[0])return e[0];let v=0;if(c>1)for(;v<t.length-2&&!(m<t[v+1]);v++);const w=O1(t[v],t[v+1],m);return l[v](w)};return i?m=>d(uu(t[0],t[n-1],m)):d}function roe(t,e){const i=t[t.length-1];for(let r=1;r<=e;r++){const s=O1(0,e,r);t.push(ai(i,1,s))}}function soe(t){const e=[0];return roe(e,t.length-1),e}function noe(t,e){return t.map(i=>i*e)}function ooe(t,e){return t.map(()=>e||dU).splice(0,t.length-1)}function Gv({duration:t=300,keyframes:e,times:i,ease:r="easeInOut"}){const s=gne(r)?r.map(KN):KN(r),n={done:!1,value:e[0]},o=noe(i&&i.length===e.length?i:soe(e),t),l=ioe(o,e,{ease:Array.isArray(s)?s:ooe(e,s)});return{calculatedDuration:t,next:c=>(n.value=l(c),n.done=c>=t,n)}}const aoe=t=>t!==null;function xC(t,{repeat:e,repeatType:i="loop"},r,s=1){const n=t.filter(aoe),l=s<0||e&&i!=="loop"&&e%2===1?0:n.length-1;return!l||r===void 0?n[l]:r}const loe={decay:$E,inertia:$E,tween:Gv,keyframes:Gv,spring:RS};function $U(t){typeof t.type=="string"&&(t.type=loe[t.type])}class TC{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,i){return this.finished.then(e,i)}}const uoe=t=>t/100;class $C extends TC{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:i}=this.options;i&&i.updatedAt!==zs.now()&&this.tick(zs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;$U(e);const{type:i=Gv,repeat:r=0,repeatDelay:s=0,repeatType:n,velocity:o=0}=e;let{keyframes:l}=e;const c=i||Gv;c!==Gv&&typeof l[0]!="number"&&(this.mixKeyframes=yw(uoe,SU(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});n==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=SC(d));const{calculatedDuration:m}=d;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=d}updateTime(e){const i=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(e,i=!1){const{generator:r,totalDuration:s,mixKeyframes:n,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:m,repeat:v,repeatType:w,repeatDelay:_,type:x,onUpdate:T,finalKeyframe:$}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),i?this.currentTime=e:this.updateTime(e);const O=this.currentTime-d*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?O<0:O>s;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let R=this.currentTime,N=r;if(v){const Q=Math.min(this.currentTime,s)/l;let J=Math.floor(Q),te=Q%1;!te&&Q>=1&&(te=1),te===1&&J--,J=Math.min(J,v+1),!!(J%2)&&(w==="reverse"?(te=1-te,_&&(te-=_/l)):w==="mirror"&&(N=o)),R=uu(0,1,te)*l}const j=C?{done:!1,value:m[0]}:N.next(R);n&&(j.value=n(j.value));let{done:z}=j;!C&&c!==null&&(z=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const ee=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return ee&&x!==$E&&(j.value=xC(m,this.options,$,this.speed)),T&&T(j.value),ee&&this.finish(),j}then(e,i){return this.finished.then(e,i)}get duration(){return io(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+io(e)}get time(){return io(this.currentTime)}set time(e){var i;e=Ia(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(i=this.driver)==null||i.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(zs.now());const i=this.playbackSpeed!==e;this.playbackSpeed=e,i&&(this.time=io(this.currentTime))}play(){var s,n;if(this.isStopped)return;const{driver:e=Hne,startTime:i}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(n=(s=this.options).onPlay)==null||n.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(zs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,i;this.notifyFinished(),this.teardown(),this.state="finished",(i=(e=this.options).onComplete)==null||i.call(e)}cancel(){var e,i;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(i=(e=this.options).onCancel)==null||i.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var i;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(i=this.driver)==null||i.stop(),e.observe(this)}}function coe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Td=t=>t*180/Math.PI,ME=t=>{const e=Td(Math.atan2(t[1],t[0]));return EE(e)},hoe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ME,rotateZ:ME,skewX:t=>Td(Math.atan(t[1])),skewY:t=>Td(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},EE=t=>(t=t%360,t<0&&(t+=360),t),sD=ME,nD=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),oD=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),doe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:nD,scaleY:oD,scale:t=>(nD(t)+oD(t))/2,rotateX:t=>EE(Td(Math.atan2(t[6],t[5]))),rotateY:t=>EE(Td(Math.atan2(-t[2],t[0]))),rotateZ:sD,rotate:sD,skewX:t=>Td(Math.atan(t[4])),skewY:t=>Td(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function AE(t){return t.includes("scale")?1:0}function OE(t,e){if(!t||t==="none")return AE(e);const i=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(i)r=doe,s=i;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=hoe,s=l}if(!s)return AE(e);const n=r[e],o=s[1].split(",").map(foe);return typeof n=="function"?n(o):o[n]}const poe=(t,e)=>{const{transform:i="none"}=getComputedStyle(t);return OE(i,e)};function foe(t){return parseFloat(t.trim())}const tg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ig=new Set(tg),aD=t=>t===eg||t===Ge,moe=new Set(["x","y","z"]),yoe=tg.filter(t=>!moe.has(t));function goe(t){const e=[];return yoe.forEach(i=>{const r=t.getValue(i);r!==void 0&&(e.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),e}const Vd={width:({x:t},{paddingLeft:e="0",paddingRight:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),height:({y:t},{paddingTop:e="0",paddingBottom:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>OE(e,"x"),y:(t,{transform:e})=>OE(e,"y")};Vd.translateX=Vd.x;Vd.translateY=Vd.y;const Fd=new Set;let kE=!1,CE=!1,RE=!1;function MU(){if(CE){const t=Array.from(Fd).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),i=new Map;e.forEach(r=>{const s=goe(r);s.length&&(i.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=i.get(r);s&&s.forEach(([n,o])=>{var l;(l=r.getValue(n))==null||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}CE=!1,kE=!1,Fd.forEach(t=>t.complete(RE)),Fd.clear()}function EU(){Fd.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(CE=!0)})}function voe(){RE=!0,EU(),MU(),RE=!1}class MC{constructor(e,i,r,s,n,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=i,this.name=r,this.motionValue=s,this.element=n,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Fd.add(this),kE||(kE=!0,ii.read(EU),ii.resolveKeyframes(MU))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:i,element:r,motionValue:s}=this;if(e[0]===null){const n=s==null?void 0:s.get(),o=e[e.length-1];if(n!==void 0)e[0]=n;else if(r&&i){const l=r.readValue(i,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),s&&n===void 0&&s.set(e[0])}coe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Fd.delete(this)}cancel(){this.state==="scheduled"&&(Fd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const woe=t=>t.startsWith("--");function boe(t,e,i){woe(e)?t.style.setProperty(e,i):t.style[e]=i}const _oe=pC(()=>window.ScrollTimeline!==void 0),Soe={};function xoe(t,e){const i=pC(t);return()=>Soe[e]??i()}const AU=xoe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),tv=([t,e,i,r])=>`cubic-bezier(${t}, ${e}, ${i}, ${r})`,lD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tv([0,.65,.55,1]),circOut:tv([.55,0,1,.45]),backIn:tv([.31,.01,.66,-.59]),backOut:tv([.33,1.53,.69,.99])};function OU(t,e){if(t)return typeof t=="function"?AU()?xU(t,e):"ease-out":pU(t)?tv(t):Array.isArray(t)?t.map(i=>OU(i,e)||lD.easeOut):lD[t]}function Toe(t,e,i,{delay:r=0,duration:s=300,repeat:n=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const m={[e]:i};c&&(m.offset=c);const v=OU(l,s);Array.isArray(v)&&(m.easing=v);const w={delay:r,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:n+1,direction:o==="reverse"?"alternate":"normal"};return d&&(w.pseudoElement=d),t.animate(m,w)}function kU(t){return typeof t=="function"&&"applyToOptions"in t}function $oe({type:t,...e}){return kU(t)&&AU()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Moe extends TC{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:i,name:r,keyframes:s,pseudoElement:n,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!n,this.allowFlatten=o,this.options=e,dC(typeof e.type!="string");const d=$oe(e);this.animation=Toe(i,r,s,d,n),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!n){const m=xC(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(m):boe(i,r,m),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,i;(i=(e=this.animation).finish)==null||i.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,i;this.isPseudoElement||(i=(e=this.animation).commitStyles)==null||i.call(e)}get duration(){var i,r;const e=((r=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:r.call(i).duration)||0;return io(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+io(e)}get time(){return io(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ia(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:i}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&_oe()?(this.animation.timeline=e,oo):i(this)}}const CU={anticipate:uU,backInOut:lU,circInOut:hU};function Eoe(t){return t in CU}function Aoe(t){typeof t.ease=="string"&&Eoe(t.ease)&&(t.ease=CU[t.ease])}const uD=10;class Ooe extends Moe{constructor(e){Aoe(e),$U(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:i,onUpdate:r,onComplete:s,element:n,...o}=this.options;if(!i)return;if(e!==void 0){i.set(e);return}const l=new $C({...o,autoplay:!1}),c=Ia(this.finishedTime??this.time);i.setWithVelocity(l.sample(c-uD).value,l.sample(c).value,uD),l.stop()}}const cD=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(zc.test(t)||t==="0")&&!t.startsWith("url("));function koe(t){const e=t[0];if(t.length===1)return!0;for(let i=0;i<t.length;i++)if(t[i]!==e)return!0}function Coe(t,e,i,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const n=t[t.length-1],o=cD(s,e),l=cD(n,e);return!o||!l?!1:koe(t)||(i==="spring"||kU(i))&&r}function IE(t){t.duration=0,t.type="keyframes"}const Roe=new Set(["opacity","clipPath","filter","transform"]),Ioe=pC(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Poe(t){var m;const{motionValue:e,name:i,repeatDelay:r,repeatType:s,damping:n,type:o}=t;if(!(((m=e==null?void 0:e.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return Ioe()&&i&&Roe.has(i)&&(i!=="transform"||!d)&&!c&&!r&&s!=="mirror"&&n!==0&&o!=="inertia"}const joe=40;class Noe extends TC{constructor({autoplay:e=!0,delay:i=0,type:r="keyframes",repeat:s=0,repeatDelay:n=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:m,...v}){var x;super(),this.stop=()=>{var T,$;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),($=this.keyframeResolver)==null||$.cancel()},this.createdAt=zs.now();const w={autoplay:e,delay:i,type:r,repeat:s,repeatDelay:n,repeatType:o,name:c,motionValue:d,element:m,...v},_=(m==null?void 0:m.KeyframeResolver)||MC;this.keyframeResolver=new _(l,(T,$,O)=>this.onKeyframesResolved(T,$,w,!O),c,d,m),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,i,r,s){this.keyframeResolver=void 0;const{name:n,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:m}=r;this.resolvedAt=zs.now(),Coe(e,n,o,l)||((cu.instantAnimations||!c)&&(m==null||m(xC(e,r,i))),e[0]=e[e.length-1],IE(r),r.repeat=0);const w={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>joe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:e},_=!d&&Poe(w)?new Ooe({...w,element:w.motionValue.owner.current}):new $C(w);_.finished.then(()=>this.notifyFinished()).catch(oo),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,i){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),voe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Doe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Loe(t){const e=Doe.exec(t);if(!e)return[,];const[,i,r,s]=e;return[`--${i??r}`,s]}function RU(t,e,i=1){const[r,s]=Loe(t);if(!r)return;const n=window.getComputedStyle(e).getPropertyValue(r);if(n){const o=n.trim();return eU(o)?parseFloat(o):o}return vC(s)?RU(s,e,i+1):s}function EC(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const IU=new Set(["width","height","top","left","right","bottom",...tg]),Voe={test:t=>t==="auto",parse:t=>t},PU=t=>e=>e.test(t),jU=[eg,Ge,Pa,Yu,kne,One,Voe],hD=t=>jU.find(PU(t));function Foe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||iU(t):!0}const zoe=new Set(["brightness","contrast","saturate","opacity"]);function Uoe(t){const[e,i]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=i.match(wC)||[];if(!r)return t;const s=i.replace(r,"");let n=zoe.has(e)?1:0;return r!==i&&(n*=100),e+"("+n+s+")"}const qoe=/\b([a-z-]*)\(.*?\)/gu,PE={...zc,getAnimatableNone:t=>{const e=t.match(qoe);return e?e.map(Uoe).join(" "):t}},dD={...eg,transform:Math.round},Boe={rotate:Yu,rotateX:Yu,rotateY:Yu,rotateZ:Yu,scale:a_,scaleX:a_,scaleY:a_,scaleZ:a_,skew:Yu,skewX:Yu,skewY:Yu,distance:Ge,translateX:Ge,translateY:Ge,translateZ:Ge,x:Ge,y:Ge,z:Ge,perspective:Ge,transformPerspective:Ge,opacity:k1,originX:XN,originY:XN,originZ:Ge},AC={borderWidth:Ge,borderTopWidth:Ge,borderRightWidth:Ge,borderBottomWidth:Ge,borderLeftWidth:Ge,borderRadius:Ge,radius:Ge,borderTopLeftRadius:Ge,borderTopRightRadius:Ge,borderBottomRightRadius:Ge,borderBottomLeftRadius:Ge,width:Ge,maxWidth:Ge,height:Ge,maxHeight:Ge,top:Ge,right:Ge,bottom:Ge,left:Ge,padding:Ge,paddingTop:Ge,paddingRight:Ge,paddingBottom:Ge,paddingLeft:Ge,margin:Ge,marginTop:Ge,marginRight:Ge,marginBottom:Ge,marginLeft:Ge,backgroundPositionX:Ge,backgroundPositionY:Ge,...Boe,zIndex:dD,fillOpacity:k1,strokeOpacity:k1,numOctaves:dD},Goe={...AC,color:Bi,backgroundColor:Bi,outlineColor:Bi,fill:Bi,stroke:Bi,borderColor:Bi,borderTopColor:Bi,borderRightColor:Bi,borderBottomColor:Bi,borderLeftColor:Bi,filter:PE,WebkitFilter:PE},NU=t=>Goe[t];function DU(t,e){let i=NU(t);return i!==PE&&(i=zc),i.getAnimatableNone?i.getAnimatableNone(e):void 0}const Hoe=new Set(["auto","none","0"]);function Woe(t,e,i){let r=0,s;for(;r<t.length&&!s;){const n=t[r];typeof n=="string"&&!Hoe.has(n)&&C1(n).values.length&&(s=t[r]),r++}if(s&&i)for(const n of e)t[n]=DU(i,s)}class Zoe extends MC{constructor(e,i,r,s,n){super(e,i,r,s,n,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),vC(d))){const m=RU(d,i.current);m!==void 0&&(e[c]=m),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!IU.has(r)||e.length!==2)return;const[s,n]=e,o=hD(s),l=hD(n);if(o!==l)if(aD(o)&&aD(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else Vd[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:i}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||Foe(e[s]))&&r.push(s);r.length&&Woe(e,r,i)}measureInitialState(){const{element:e,unresolvedKeyframes:i,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Vd[r](e.measureViewportBox(),window.getComputedStyle(e.current)),i[0]=this.measuredOrigin;const s=i[i.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var l;const{element:e,name:i,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(i);s&&s.jump(this.measuredOrigin,!1);const n=r.length-1,o=r[n];r[n]=Vd[i](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function Yoe(t,e,i){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(i==null?void 0:i[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const LU=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Joe(t){return tU(t)&&"offsetHeight"in t}const pD=30,Koe=t=>!isNaN(parseFloat(t));class Xoe{constructor(e,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var n;const s=zs.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((n=this.events.change)==null||n.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=i.owner}setCurrent(e){this.current=e,this.updatedAt=zs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Koe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,i){this.events[e]||(this.events[e]=new fC);const r=this.events[e].add(i);return e==="change"?()=>{r(),ii.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,i){this.passiveEffect=e,this.stopPassiveEffect=i}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,i=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=zs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>pD)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,pD);return rU(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(e){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=e(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,i;(e=this.dependents)==null||e.clear(),(i=this.events.destroy)==null||i.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ky(t,e){return new Xoe(t,e)}const{schedule:OC}=fU(queueMicrotask,!1),Io={x:!1,y:!1};function VU(){return Io.x||Io.y}function Qoe(t){return t==="x"||t==="y"?Io[t]?null:(Io[t]=!0,()=>{Io[t]=!1}):Io.x||Io.y?null:(Io.x=Io.y=!0,()=>{Io.x=Io.y=!1})}function FU(t,e){const i=Yoe(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[i,s,()=>r.abort()]}function fD(t){return!(t.pointerType==="touch"||VU())}function eae(t,e,i={}){const[r,s,n]=FU(t,i),o=l=>{if(!fD(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const m=v=>{fD(v)&&(d(v),c.removeEventListener("pointerleave",m))};c.addEventListener("pointerleave",m,s)};return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),n}const zU=(t,e)=>e?t===e?!0:zU(t,e.parentElement):!1,kC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,tae=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iae(t){return tae.has(t.tagName)||t.tabIndex!==-1}const c2=new WeakSet;function mD(t){return e=>{e.key==="Enter"&&t(e)}}function IM(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const rae=(t,e)=>{const i=t.currentTarget;if(!i)return;const r=mD(()=>{if(c2.has(i))return;IM(i,"down");const s=mD(()=>{IM(i,"up")}),n=()=>IM(i,"cancel");i.addEventListener("keyup",s,e),i.addEventListener("blur",n,e)});i.addEventListener("keydown",r,e),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),e)};function yD(t){return kC(t)&&!VU()}function sae(t,e,i={}){const[r,s,n]=FU(t,i),o=l=>{const c=l.currentTarget;if(!yD(l))return;c2.add(c);const d=e(c,l),m=(_,x)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),c2.has(c)&&c2.delete(c),yD(_)&&typeof d=="function"&&d(_,{success:x})},v=_=>{m(_,c===window||c===document||i.useGlobalTarget||zU(c,_.target))},w=_=>{m(_,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",w,s)};return r.forEach(l=>{(i.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),Joe(l)&&(l.addEventListener("focus",d=>rae(d,s)),!iae(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),n}function UU(t){return tU(t)&&"ownerSVGElement"in t}function nae(t){return UU(t)&&t.tagName==="svg"}const Yr=t=>!!(t&&t.getVelocity),oae=[...jU,Bi,zc],aae=t=>oae.find(PU(t)),qU=W.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function lae(t=!0){const e=W.useContext(uC);if(e===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:s}=e,n=W.useId();W.useEffect(()=>{if(t)return s(n)},[t]);const o=W.useCallback(()=>t&&r&&r(n),[n,r,t]);return!i&&r?[!1,o]:[!0]}const BU=W.createContext({strict:!1}),gD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Cy={};for(const t in gD)Cy[t]={isEnabled:e=>gD[t].some(i=>!!e[i])};function uae(t){for(const e in t)Cy[e]={...Cy[e],...t[e]}}const cae=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function IS(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||cae.has(t)}let GU=t=>!IS(t);function hae(t){typeof t=="function"&&(GU=e=>e.startsWith("on")?!IS(e):t(e))}try{hae(require("@emotion/is-prop-valid").default)}catch{}function dae(t,e,i){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(GU(s)||i===!0&&IS(s)||!e&&!IS(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Wx=W.createContext({});function Zx(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function R1(t){return typeof t=="string"||Array.isArray(t)}const CC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],RC=["initial",...CC];function Yx(t){return Zx(t.animate)||RC.some(e=>R1(t[e]))}function HU(t){return!!(Yx(t)||t.variants)}function pae(t,e){if(Yx(t)){const{initial:i,animate:r}=t;return{initial:i===!1||R1(i)?i:void 0,animate:R1(r)?r:void 0}}return t.inherit!==!1?e:{}}function fae(t){const{initial:e,animate:i}=pae(t,W.useContext(Wx));return W.useMemo(()=>({initial:e,animate:i}),[vD(e),vD(i)])}function vD(t){return Array.isArray(t)?t.join(" "):t}const I1={};function mae(t){for(const e in t)I1[e]=t[e],gC(e)&&(I1[e].isCSSVariable=!0)}function WU(t,{layout:e,layoutId:i}){return ig.has(t)||t.startsWith("origin")||(e||i!==void 0)&&(!!I1[t]||t==="opacity")}const yae={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gae=tg.length;function vae(t,e,i){let r="",s=!0;for(let n=0;n<gae;n++){const o=tg[n],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||i){const d=LU(l,AC[o]);if(!c){s=!1;const m=yae[o]||o;r+=`${m}(${d}) `}i&&(e[o]=d)}}return r=r.trim(),i?r=i(e,s?"":r):s&&(r="none"),r}function IC(t,e,i){const{style:r,vars:s,transformOrigin:n}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(ig.has(c)){o=!0;continue}else if(gC(c)){s[c]=d;continue}else{const m=LU(d,AC[c]);c.startsWith("origin")?(l=!0,n[c]=m):r[c]=m}}if(e.transform||(o||i?r.transform=vae(e,t.transform,i):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:m=0}=n;r.transformOrigin=`${c} ${d} ${m}`}}const PC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZU(t,e,i){for(const r in e)!Yr(e[r])&&!WU(r,i)&&(t[r]=e[r])}function wae({transformTemplate:t},e){return W.useMemo(()=>{const i=PC();return IC(i,e,t),Object.assign({},i.vars,i.style)},[e])}function bae(t,e){const i=t.style||{},r={};return ZU(r,i,t),Object.assign(r,wae(t,e)),r}function _ae(t,e){const i={},r=bae(t,e);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=r,i}const Sae={offset:"stroke-dashoffset",array:"stroke-dasharray"},xae={offset:"strokeDashoffset",array:"strokeDasharray"};function Tae(t,e,i=1,r=0,s=!0){t.pathLength=1;const n=s?Sae:xae;t[n.offset]=Ge.transform(-r);const o=Ge.transform(e),l=Ge.transform(i);t[n.array]=`${o} ${l}`}function YU(t,{attrX:e,attrY:i,attrScale:r,pathLength:s,pathSpacing:n=1,pathOffset:o=0,...l},c,d,m){if(IC(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w}=t;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),i!==void 0&&(v.y=i),r!==void 0&&(v.scale=r),s!==void 0&&Tae(v,s,n,o,!1)}const JU=()=>({...PC(),attrs:{}}),KU=t=>typeof t=="string"&&t.toLowerCase()==="svg";function $ae(t,e,i,r){const s=W.useMemo(()=>{const n=JU();return YU(n,e,KU(r),t.transformTemplate,t.style),{...n.attrs,style:{...n.style}}},[e]);if(t.style){const n={};ZU(n,t.style,t),s.style={...n,...s.style}}return s}const Mae=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jC(t){return typeof t!="string"||t.includes("-")?!1:!!(Mae.indexOf(t)>-1||/[A-Z]/u.test(t))}function Eae(t,e,i,{latestValues:r},s,n=!1){const l=(jC(t)?$ae:_ae)(e,r,s,t),c=dae(e,typeof t=="string",n),d=t!==W.Fragment?{...c,...l,ref:i}:{},{children:m}=e,v=W.useMemo(()=>Yr(m)?m.get():m,[m]);return W.createElement(t,{...d,children:v})}function wD(t){const e=[{},{}];return t==null||t.values.forEach((i,r)=>{e[0][r]=i.get(),e[1][r]=i.getVelocity()}),e}function NC(t,e,i,r){if(typeof e=="function"){const[s,n]=wD(r);e=e(i!==void 0?i:t.custom,s,n)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,n]=wD(r);e=e(i!==void 0?i:t.custom,s,n)}return e}function h2(t){return Yr(t)?t.get():t}function Aae({scrapeMotionValuesFromProps:t,createRenderState:e},i,r,s){return{latestValues:Oae(i,r,s,t),renderState:e()}}function Oae(t,e,i,r){const s={},n=r(t,{});for(const w in n)s[w]=h2(n[w]);let{initial:o,animate:l}=t;const c=Yx(t),d=HU(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let m=i?i.initial===!1:!1;m=m||o===!1;const v=m?l:o;if(v&&typeof v!="boolean"&&!Zx(v)){const w=Array.isArray(v)?v:[v];for(let _=0;_<w.length;_++){const x=NC(t,w[_]);if(x){const{transitionEnd:T,transition:$,...O}=x;for(const C in O){let R=O[C];if(Array.isArray(R)){const N=m?R.length-1:0;R=R[N]}R!==null&&(s[C]=R)}for(const C in T)s[C]=T[C]}}}return s}const XU=t=>(e,i)=>{const r=W.useContext(Wx),s=W.useContext(uC),n=()=>Aae(t,e,r,s);return i?n():une(n)};function DC(t,e,i){var n;const{style:r}=t,s={};for(const o in r)(Yr(r[o])||e.style&&Yr(e.style[o])||WU(o,t)||((n=i==null?void 0:i.getValue(o))==null?void 0:n.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const kae=XU({scrapeMotionValuesFromProps:DC,createRenderState:PC});function QU(t,e,i){const r=DC(t,e,i);for(const s in t)if(Yr(t[s])||Yr(e[s])){const n=tg.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[n]=t[s]}return r}const Cae=XU({scrapeMotionValuesFromProps:QU,createRenderState:JU}),Rae=Symbol.for("motionComponentSymbol");function pm(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Iae(t,e,i){return W.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),i&&(typeof i=="function"?i(r):pm(i)&&(i.current=r))},[e])}const LC=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Pae="framerAppearId",eq="data-"+LC(Pae),tq=W.createContext({});function jae(t,e,i,r,s){var T,$;const{visualElement:n}=W.useContext(Wx),o=W.useContext(BU),l=W.useContext(uC),c=W.useContext(qU).reducedMotion,d=W.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:n,props:i,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const m=d.current,v=W.useContext(tq);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&Nae(d.current,i,s,v);const w=W.useRef(!1);W.useInsertionEffect(()=>{m&&w.current&&m.update(i,l)});const _=i[eq],x=W.useRef(!!_&&!((T=window.MotionHandoffIsComplete)!=null&&T.call(window,_))&&(($=window.MotionHasOptimisedAnimation)==null?void 0:$.call(window,_)));return cne(()=>{m&&(w.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),x.current&&m.animationState&&m.animationState.animateChanges())}),W.useEffect(()=>{m&&(!x.current&&m.animationState&&m.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var O;(O=window.MotionHandoffMarkAsComplete)==null||O.call(window,_)}),x.current=!1),m.enteringChildren=void 0)}),m}function Nae(t,e,i,r){const{layoutId:s,layout:n,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:m}=e;t.projection=new i(t.latestValues,e["data-framer-portal-id"]?void 0:iq(t.parent)),t.projection.setOptions({layoutId:s,layout:n,alwaysMeasureLayout:!!o||l&&pm(l),visualElement:t,animationType:typeof n=="string"?n:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:c,layoutRoot:d})}function iq(t){if(t)return t.options.allowProjection!==!1?t.projection:iq(t.parent)}function PM(t,{forwardMotionProps:e=!1}={},i,r){i&&uae(i);const s=jC(t)?Cae:kae;function n(l,c){let d;const m={...W.useContext(qU),...l,layoutId:Dae(l)},{isStatic:v}=m,w=fae(l),_=s(l,v);if(!v&&lC){Lae();const x=Vae(m);d=x.MeasureLayout,w.visualElement=jae(t,_,m,r,x.ProjectionNode)}return E.jsxs(Wx.Provider,{value:w,children:[d&&w.visualElement?E.jsx(d,{visualElement:w.visualElement,...m}):null,Eae(t,l,Iae(_,w.visualElement,c),_,v,e)]})}n.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=W.forwardRef(n);return o[Rae]=t,o}function Dae({layoutId:t}){const e=W.useContext(Qz).id;return e&&t!==void 0?e+"-"+t:t}function Lae(t,e){W.useContext(BU).strict}function Vae(t){const{drag:e,layout:i}=Cy;if(!e&&!i)return{};const r={...e,...i};return{MeasureLayout:e!=null&&e.isEnabled(t)||i!=null&&i.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Fae(t,e){if(typeof Proxy>"u")return PM;const i=new Map,r=(n,o)=>PM(n,o,t,e),s=(n,o)=>r(n,o);return new Proxy(s,{get:(n,o)=>o==="create"?r:(i.has(o)||i.set(o,PM(o,void 0,t,e)),i.get(o))})}function rq({top:t,left:e,right:i,bottom:r}){return{x:{min:e,max:i},y:{min:t,max:r}}}function zae({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Uae(t,e){if(!e)return t;const i=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}function jM(t){return t===void 0||t===1}function jE({scale:t,scaleX:e,scaleY:i}){return!jM(t)||!jM(e)||!jM(i)}function Hh(t){return jE(t)||sq(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function sq(t){return bD(t.x)||bD(t.y)}function bD(t){return t&&t!=="0%"}function PS(t,e,i){const r=t-i,s=e*r;return i+s}function _D(t,e,i,r,s){return s!==void 0&&(t=PS(t,s,r)),PS(t,i,r)+e}function NE(t,e=0,i=1,r,s){t.min=_D(t.min,e,i,r,s),t.max=_D(t.max,e,i,r,s)}function nq(t,{x:e,y:i}){NE(t.x,e.translate,e.scale,e.originPoint),NE(t.y,i.translate,i.scale,i.originPoint)}const SD=.999999999999,xD=1.0000000000001;function qae(t,e,i,r=!1){const s=i.length;if(!s)return;e.x=e.y=1;let n,o;for(let l=0;l<s;l++){n=i[l],o=n.projectionDelta;const{visualElement:c}=n.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&n.options.layoutScroll&&n.scroll&&n!==n.root&&mm(t,{x:-n.scroll.offset.x,y:-n.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,nq(t,o)),r&&Hh(n.latestValues)&&mm(t,n.latestValues))}e.x<xD&&e.x>SD&&(e.x=1),e.y<xD&&e.y>SD&&(e.y=1)}function fm(t,e){t.min=t.min+e,t.max=t.max+e}function TD(t,e,i,r,s=.5){const n=ai(t.min,t.max,s);NE(t,e,i,n,r)}function mm(t,e){TD(t.x,e.x,e.scaleX,e.scale,e.originX),TD(t.y,e.y,e.scaleY,e.scale,e.originY)}function oq(t,e){return rq(Uae(t.getBoundingClientRect(),e))}function Bae(t,e,i){const r=oq(t,i),{scroll:s}=e;return s&&(fm(r.x,s.offset.x),fm(r.y,s.offset.y)),r}const $D=()=>({translate:0,scale:1,origin:0,originPoint:0}),ym=()=>({x:$D(),y:$D()}),MD=()=>({min:0,max:0}),Ci=()=>({x:MD(),y:MD()}),DE={current:null},aq={current:!1};function Gae(){if(aq.current=!0,!!lC)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>DE.current=t.matches;t.addEventListener("change",e),e()}else DE.current=!1}const Hae=new WeakMap;function Wae(t,e,i){for(const r in e){const s=e[r],n=i[r];if(Yr(s))t.addValue(r,s);else if(Yr(n))t.addValue(r,ky(s,{owner:t}));else if(n!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,ky(o!==void 0?o:s,{owner:t}))}}for(const r in i)e[r]===void 0&&t.removeValue(r);return e}const ED=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Zae{scrapeMotionValuesFromProps(e,i,r){return{}}constructor({parent:e,props:i,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:n,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=MC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=zs.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,ii.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=i.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=i,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!n,this.isControllingVariants=Yx(i),this.isVariantNode=HU(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...v}=this.scrapeMotionValuesFromProps(i,{},this);for(const w in v){const _=v[w];c[w]!==void 0&&Yr(_)&&_.set(c[w])}}mount(e){var i;this.current=e,Hae.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),aq.current||Gae(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:DE.current,(i=this.parent)==null||i.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Fc(this.notifyUpdate),Fc(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const r=this.features[i];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,i){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ig.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=i.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ii.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let n;window.MotionCheckAppearSync&&(n=window.MotionCheckAppearSync(this,e,i)),this.valueSubscriptions.set(e,()=>{s(),n&&n(),i.owner&&i.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Cy){const i=Cy[e];if(!i)continue;const{isEnabled:r,Feature:s}=i;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ci()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,i){this.latestValues[e]=i}update(e,i){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<ED.length;r++){const s=ED[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const n="on"+s,o=e[n];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Wae(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(e),()=>i.variantChildren.delete(e)}addValue(e,i){const r=this.values.get(e);i!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,i),this.values.set(e,i),this.latestValues[e]=i.get())}removeValue(e){this.values.delete(e);const i=this.valueSubscriptions.get(e);i&&(i(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,i){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&i!==void 0&&(r=ky(i===null?void 0:i,{owner:this}),this.addValue(e,r)),r}readValue(e,i){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(eU(r)||iU(r))?r=parseFloat(r):!aae(r)&&zc.test(i)&&(r=DU(e,i)),this.setBaseTarget(e,Yr(r)?r.get():r)),Yr(r)?r.get():r}setBaseTarget(e,i){this.baseTarget[e]=i}getBaseTarget(e){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const o=NC(this.props,i,(n=this.presenceContext)==null?void 0:n.custom);o&&(r=o[e])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Yr(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,i){return this.events[e]||(this.events[e]=new fC),this.events[e].add(i)}notify(e,...i){this.events[e]&&this.events[e].notify(...i)}scheduleRenderMicrotask(){OC.render(this.render)}}class lq extends Zae{constructor(){super(...arguments),this.KeyframeResolver=Zoe}sortInstanceNodePosition(e,i){return e.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(e,i){return e.style?e.style[i]:void 0}removeValueFromRenderState(e,{vars:i,style:r}){delete i[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Yr(e)&&(this.childSubscription=e.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function uq(t,{style:e,vars:i},r,s){const n=t.style;let o;for(o in e)n[o]=e[o];s==null||s.applyProjectionStyles(n,r);for(o in i)n.setProperty(o,i[o])}function Yae(t){return window.getComputedStyle(t)}class Jae extends lq{constructor(){super(...arguments),this.type="html",this.renderInstance=uq}readValueFromInstance(e,i){var r;if(ig.has(i))return(r=this.projection)!=null&&r.isProjecting?AE(i):poe(e,i);{const s=Yae(e),n=(gC(i)?s.getPropertyValue(i):s[i])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(e,{transformPagePoint:i}){return oq(e,i)}build(e,i,r){IC(e,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,i,r){return DC(e,i,r)}}const cq=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Kae(t,e,i,r){uq(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(cq.has(s)?s:LC(s),e.attrs[s])}class Xae extends lq{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ci}getBaseTargetFromProps(e,i){return e[i]}readValueFromInstance(e,i){if(ig.has(i)){const r=NU(i);return r&&r.default||0}return i=cq.has(i)?i:LC(i),e.getAttribute(i)}scrapeMotionValuesFromProps(e,i,r){return QU(e,i,r)}build(e,i,r){YU(e,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,i,r,s){Kae(e,i,r,s)}mount(e){this.isSVGTag=KU(e.tagName),super.mount(e)}}const Qae=(t,e)=>jC(t)?new Xae(e):new Jae(e,{allowProjection:t!==W.Fragment});function Am(t,e,i){const r=t.getProps();return NC(r,e,i!==void 0?i:r.custom,t)}const LE=t=>Array.isArray(t);function ele(t,e,i){t.hasValue(e)?t.getValue(e).set(i):t.addValue(e,ky(i))}function tle(t){return LE(t)?t[t.length-1]||0:t}function ile(t,e){const i=Am(t,e);let{transitionEnd:r={},transition:s={},...n}=i||{};n={...n,...r};for(const o in n){const l=tle(n[o]);ele(t,o,l)}}function rle(t){return!!(Yr(t)&&t.add)}function VE(t,e){const i=t.getValue("willChange");if(rle(i))return i.add(e);if(!i&&cu.WillChange){const r=new cu.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function hq(t){return t.props[eq]}const sle=t=>t!==null;function nle(t,{repeat:e,repeatType:i="loop"},r){const s=t.filter(sle),n=e&&i!=="loop"&&e%2===1?0:s.length-1;return s[n]}const ole={type:"spring",stiffness:500,damping:25,restSpeed:10},ale=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),lle={type:"keyframes",duration:.8},ule={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cle=(t,{keyframes:e})=>e.length>2?lle:ig.has(t)?t.startsWith("scale")?ale(e[1]):ole:ule;function hle({when:t,delay:e,delayChildren:i,staggerChildren:r,staggerDirection:s,repeat:n,repeatType:o,repeatDelay:l,from:c,elapsed:d,...m}){return!!Object.keys(m).length}const VC=(t,e,i,r={},s,n)=>o=>{const l=EC(r,t)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Ia(c);const m={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:w=>{e.set(w),l.onUpdate&&l.onUpdate(w)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:n?void 0:s};hle(l)||Object.assign(m,cle(t,m)),m.duration&&(m.duration=Ia(m.duration)),m.repeatDelay&&(m.repeatDelay=Ia(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(IE(m),m.delay===0&&(v=!0)),(cu.instantAnimations||cu.skipAnimations)&&(v=!0,IE(m),m.delay=0),m.allowFlatten=!l.type&&!l.ease,v&&!n&&e.get()!==void 0){const w=nle(m.keyframes,l);if(w!==void 0){ii.update(()=>{m.onUpdate(w),m.onComplete()});return}}return l.isSync?new $C(m):new Noe(m)};function dle({protectedKeys:t,needsAnimating:e},i){const r=t.hasOwnProperty(i)&&e[i]!==!0;return e[i]=!1,r}function dq(t,e,{delay:i=0,transitionOverride:r,type:s}={}){let{transition:n=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(n=r);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const m in l){const v=t.getValue(m,t.latestValues[m]??null),w=l[m];if(w===void 0||d&&dle(d,m))continue;const _={delay:i,...EC(n||{},m)},x=v.get();if(x!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===x&&!_.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const O=hq(t);if(O){const C=window.MotionHandoffAnimation(O,m,ii);C!==null&&(_.startTime=C,T=!0)}}VE(t,m),v.start(VC(m,v,w,t.shouldReduceMotion&&IU.has(m)?{type:!1}:_,t,T));const $=v.animation;$&&c.push($)}return o&&Promise.all(c).then(()=>{ii.update(()=>{o&&ile(t,o)})}),c}function pq(t,e,i,r=0,s=1){const n=Array.from(t).sort((d,m)=>d.sortNodePosition(m)).indexOf(e),o=t.size,l=(o-1)*r;return typeof i=="function"?i(n,o):s===1?n*r:l-n*r}function FE(t,e,i={}){var c;const r=Am(t,e,i.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(s=i.transitionOverride);const n=r?()=>Promise.all(dq(t,r,i)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:v,staggerDirection:w}=s;return ple(t,e,d,m,v,w,i)}:()=>Promise.resolve(),{when:l}=s;if(l){const[d,m]=l==="beforeChildren"?[n,o]:[o,n];return d().then(()=>m())}else return Promise.all([n(),o(i.delay)])}function ple(t,e,i=0,r=0,s=0,n=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(FE(c,e,{...o,delay:i+(typeof r=="function"?0:r)+pq(t.variantChildren,c,r,s,n)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function fle(t,e,i={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(n=>FE(t,n,i));r=Promise.all(s)}else if(typeof e=="string")r=FE(t,e,i);else{const s=typeof e=="function"?Am(t,e,i.custom):e;r=Promise.all(dq(t,s,i))}return r.then(()=>{t.notify("AnimationComplete",e)})}function fq(t,e){if(!Array.isArray(e))return!1;const i=e.length;if(i!==t.length)return!1;for(let r=0;r<i;r++)if(e[r]!==t[r])return!1;return!0}const mle=RC.length;function mq(t){if(!t)return;if(!t.isControllingVariants){const i=t.parent?mq(t.parent)||{}:{};return t.props.initial!==void 0&&(i.initial=t.props.initial),i}const e={};for(let i=0;i<mle;i++){const r=RC[i],s=t.props[r];(R1(s)||s===!1)&&(e[r]=s)}return e}const yle=[...CC].reverse(),gle=CC.length;function vle(t){return e=>Promise.all(e.map(({animation:i,options:r})=>fle(t,i,r)))}function wle(t){let e=vle(t),i=AD(),r=!0;const s=c=>(d,m)=>{var w;const v=Am(t,m,c==="exit"?(w=t.presenceContext)==null?void 0:w.custom:void 0);if(v){const{transition:_,transitionEnd:x,...T}=v;d={...d,...T,...x}}return d};function n(c){e=c(t)}function o(c){const{props:d}=t,m=mq(t.parent)||{},v=[],w=new Set;let _={},x=1/0;for(let $=0;$<gle;$++){const O=yle[$],C=i[O],R=d[O]!==void 0?d[O]:m[O],N=R1(R),j=O===c?C.isActive:null;j===!1&&(x=$);let z=R===m[O]&&R!==d[O]&&N;if(z&&r&&t.manuallyAnimateOnMount&&(z=!1),C.protectedKeys={..._},!C.isActive&&j===null||!R&&!C.prevProp||Zx(R)||typeof R=="boolean")continue;const ee=ble(C.prevProp,R);let Q=ee||O===c&&C.isActive&&!z&&N||$>x&&N,J=!1;const te=Array.isArray(R)?R:[R];let pe=te.reduce(s(O),{});j===!1&&(pe={});const{prevResolvedValues:ye={}}=C,Xe={...ye,...pe},Ce=ve=>{Q=!0,w.has(ve)&&(J=!0,w.delete(ve)),C.needsAnimating[ve]=!0;const de=t.getValue(ve);de&&(de.liveStyle=!1)};for(const ve in Xe){const de=pe[ve],We=ye[ve];if(_.hasOwnProperty(ve))continue;let L=!1;LE(de)&&LE(We)?L=!fq(de,We):L=de!==We,L?de!=null?Ce(ve):w.add(ve):de!==void 0&&w.has(ve)?Ce(ve):C.protectedKeys[ve]=!0}C.prevProp=R,C.prevResolvedValues=pe,C.isActive&&(_={..._,...pe}),r&&t.blockInitialAnimation&&(Q=!1);const pt=z&&ee;Q&&(!pt||J)&&v.push(...te.map(ve=>{const de={type:O};if(typeof ve=="string"&&r&&!pt&&t.manuallyAnimateOnMount&&t.parent){const{parent:We}=t,L=Am(We,ve);if(We.enteringChildren&&L){const{delayChildren:he}=L.transition||{};de.delay=pq(We.enteringChildren,t,he)}}return{animation:ve,options:de}}))}if(w.size){const $={};if(typeof d.initial!="boolean"){const O=Am(t,Array.isArray(d.initial)?d.initial[0]:d.initial);O&&O.transition&&($.transition=O.transition)}w.forEach(O=>{const C=t.getBaseTarget(O),R=t.getValue(O);R&&(R.liveStyle=!0),$[O]=C??null}),v.push({animation:$})}let T=!!v.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(v):Promise.resolve()}function l(c,d){var v;if(i[c].isActive===d)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(w=>{var _;return(_=w.animationState)==null?void 0:_.setActive(c,d)}),i[c].isActive=d;const m=o(c);for(const w in i)i[w].protectedKeys={};return m}return{animateChanges:o,setActive:l,setAnimateFunction:n,getState:()=>i,reset:()=>{i=AD()}}}function ble(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!fq(e,t):!1}function Ph(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function AD(){return{animate:Ph(!0),whileInView:Ph(),whileHover:Ph(),whileTap:Ph(),whileDrag:Ph(),whileFocus:Ph(),exit:Ph()}}class eh{constructor(e){this.isMounted=!1,this.node=e}update(){}}class _le extends eh{constructor(e){super(e),e.animationState||(e.animationState=wle(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Zx(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:i}=this.node.prevProps||{};e!==i&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Sle=0;class xle extends eh{constructor(){super(...arguments),this.id=Sle++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);i&&!e&&s.then(()=>{i(this.id)})}mount(){const{register:e,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Tle={animation:{Feature:_le},exit:{Feature:xle}};function P1(t,e,i,r={passive:!0}){return t.addEventListener(e,i,r),()=>t.removeEventListener(e,i)}function ww(t){return{point:{x:t.pageX,y:t.pageY}}}const $le=t=>e=>kC(e)&&t(e,ww(e));function Hv(t,e,i,r){return P1(t,e,$le(i),r)}const yq=1e-4,Mle=1-yq,Ele=1+yq,gq=.01,Ale=0-gq,Ole=0+gq;function ys(t){return t.max-t.min}function kle(t,e,i){return Math.abs(t-e)<=i}function OD(t,e,i,r=.5){t.origin=r,t.originPoint=ai(e.min,e.max,t.origin),t.scale=ys(i)/ys(e),t.translate=ai(i.min,i.max,t.origin)-t.originPoint,(t.scale>=Mle&&t.scale<=Ele||isNaN(t.scale))&&(t.scale=1),(t.translate>=Ale&&t.translate<=Ole||isNaN(t.translate))&&(t.translate=0)}function Wv(t,e,i,r){OD(t.x,e.x,i.x,r?r.originX:void 0),OD(t.y,e.y,i.y,r?r.originY:void 0)}function kD(t,e,i){t.min=i.min+e.min,t.max=t.min+ys(e)}function Cle(t,e,i){kD(t.x,e.x,i.x),kD(t.y,e.y,i.y)}function CD(t,e,i){t.min=e.min-i.min,t.max=t.min+ys(e)}function Zv(t,e,i){CD(t.x,e.x,i.x),CD(t.y,e.y,i.y)}function Wn(t){return[t("x"),t("y")]}const vq=({current:t})=>t?t.ownerDocument.defaultView:null,RD=(t,e)=>Math.abs(t-e);function Rle(t,e){const i=RD(t.x,e.x),r=RD(t.y,e.y);return Math.sqrt(i**2+r**2)}class wq{constructor(e,i,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:n=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=DM(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,x=Rle(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!x)return;const{point:T}=w,{timestamp:$}=Ar;this.history.push({...T,timestamp:$});const{onStart:O,onMove:C}=this.handlers;_||(O&&O(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,w)},this.handlePointerMove=(w,_)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=NM(_,this.transformPagePoint),ii.update(this.updatePoint,!0)},this.handlePointerUp=(w,_)=>{this.end();const{onEnd:x,onSessionEnd:T,resumeAnimation:$}=this.handlers;if(this.dragSnapToOrigin&&$&&$(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=DM(w.type==="pointercancel"?this.lastMoveEventInfo:NM(_,this.transformPagePoint),this.history);this.startEvent&&x&&x(w,O),T&&T(w,O)},!kC(e))return;this.dragSnapToOrigin=n,this.handlers=i,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=ww(e),c=NM(l,this.transformPagePoint),{point:d}=c,{timestamp:m}=Ar;this.history=[{...d,timestamp:m}];const{onSessionStart:v}=i;v&&v(e,DM(c,this.history)),this.removeListeners=yw(Hv(this.contextWindow,"pointermove",this.handlePointerMove),Hv(this.contextWindow,"pointerup",this.handlePointerUp),Hv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Fc(this.updatePoint)}}function NM(t,e){return e?{point:e(t.point)}:t}function ID(t,e){return{x:t.x-e.x,y:t.y-e.y}}function DM({point:t},e){return{point:t,delta:ID(t,bq(e)),offset:ID(t,Ile(e)),velocity:Ple(e,.1)}}function Ile(t){return t[0]}function bq(t){return t[t.length-1]}function Ple(t,e){if(t.length<2)return{x:0,y:0};let i=t.length-1,r=null;const s=bq(t);for(;i>=0&&(r=t[i],!(s.timestamp-r.timestamp>Ia(e)));)i--;if(!r)return{x:0,y:0};const n=io(s.timestamp-r.timestamp);if(n===0)return{x:0,y:0};const o={x:(s.x-r.x)/n,y:(s.y-r.y)/n};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function jle(t,{min:e,max:i},r){return e!==void 0&&t<e?t=r?ai(e,t,r.min):Math.max(t,e):i!==void 0&&t>i&&(t=r?ai(i,t,r.max):Math.min(t,i)),t}function PD(t,e,i){return{min:e!==void 0?t.min+e:void 0,max:i!==void 0?t.max+i-(t.max-t.min):void 0}}function Nle(t,{top:e,left:i,bottom:r,right:s}){return{x:PD(t.x,i,s),y:PD(t.y,e,r)}}function jD(t,e){let i=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([i,r]=[r,i]),{min:i,max:r}}function Dle(t,e){return{x:jD(t.x,e.x),y:jD(t.y,e.y)}}function Lle(t,e){let i=.5;const r=ys(t),s=ys(e);return s>r?i=O1(e.min,e.max-r,t.min):r>s&&(i=O1(t.min,t.max-s,e.min)),uu(0,1,i)}function Vle(t,e){const i={};return e.min!==void 0&&(i.min=e.min-t.min),e.max!==void 0&&(i.max=e.max-t.min),i}const zE=.35;function Fle(t=zE){return t===!1?t=0:t===!0&&(t=zE),{x:ND(t,"left","right"),y:ND(t,"top","bottom")}}function ND(t,e,i){return{min:DD(t,e),max:DD(t,i)}}function DD(t,e){return typeof t=="number"?t:t[e]||0}const zle=new WeakMap;class Ule{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ci(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:i=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const n=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(ww(v).point)},o=(v,w)=>{const{drag:_,dragPropagation:x,onDragStart:T}=this.getProps();if(_&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Qoe(_),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wn(O=>{let C=this.getAxisMotionValue(O).get()||0;if(Pa.test(C)){const{projection:R}=this.visualElement;if(R&&R.layout){const N=R.layout.layoutBox[O];N&&(C=ys(N)*(parseFloat(C)/100))}}this.originPoint[O]=C}),T&&ii.postRender(()=>T(v,w)),VE(this.visualElement,"transform");const{animationState:$}=this.visualElement;$&&$.setActive("whileDrag",!0)},l=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:_,dragDirectionLock:x,onDirectionLock:T,onDrag:$}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:O}=w;if(x&&this.currentDirection===null){this.currentDirection=qle(O),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",w.point,O),this.updateAxis("y",w.point,O),this.visualElement.render(),$&&$(v,w)},c=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Wn(v=>{var w;return this.getAnimationState(v)==="paused"&&((w=this.getAxisMotionValue(v).animation)==null?void 0:w.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new wq(e,{onSessionStart:n,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:vq(this.visualElement)})}stop(e,i){const r=e||this.latestPointerEvent,s=i||this.latestPanInfo,n=this.isDragging;if(this.cancel(),!n||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&ii.postRender(()=>l(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:i}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(e,i,r){const{drag:s}=this.getProps();if(!r||!l_(e,s,this.currentDirection))return;const n=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=jle(o,this.constraints[e],this.elastic[e])),n.set(o)}resolveConstraints(){var n;const{dragConstraints:e,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(n=this.visualElement.projection)==null?void 0:n.layout,s=this.constraints;e&&pm(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Nle(r.layoutBox,e):this.constraints=!1,this.elastic=Fle(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Wn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Vle(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:i}=this.getProps();if(!e||!pm(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const n=Bae(r,s.root,this.visualElement.getTransformPagePoint());let o=Dle(s.layout.layoutBox,n);if(i){const l=i(zae(o));this.hasMutatedConstraints=!!l,l&&(o=rq(l))}return o}startAnimation(e){const{drag:i,dragMomentum:r,dragElastic:s,dragTransition:n,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Wn(m=>{if(!l_(m,i,this.currentDirection))return;let v=c&&c[m]||{};o&&(v={min:0,max:0});const w=s?200:1e6,_=s?40:1e7,x={type:"inertia",velocity:r?e[m]:0,bounceStiffness:w,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...n,...v};return this.startAxisValueAnimation(m,x)});return Promise.all(d).then(l)}startAxisValueAnimation(e,i){const r=this.getAxisMotionValue(e);return VE(this.visualElement,e),r.start(VC(e,r,0,i,this.visualElement,!1))}stopAnimation(){Wn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Wn(e=>{var i;return(i=this.getAxisMotionValue(e).animation)==null?void 0:i.pause()})}getAnimationState(e){var i;return(i=this.getAxisMotionValue(e).animation)==null?void 0:i.state}getAxisMotionValue(e){const i=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[i];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Wn(i=>{const{drag:r}=this.getProps();if(!l_(i,r,this.currentDirection))return;const{projection:s}=this.visualElement,n=this.getAxisMotionValue(i);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[i];n.set(e[i]-ai(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!pm(i)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Wn(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=Lle({min:c,max:c},this.constraints[o])}});const{transformTemplate:n}=this.visualElement.getProps();this.visualElement.current.style.transform=n?n({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Wn(o=>{if(!l_(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(ai(c,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;zle.set(this.visualElement,this);const e=this.visualElement.current,i=Hv(e,"pointerdown",c=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();pm(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,n=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ii.read(r);const o=P1(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Wn(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=c[m].translate,v.set(v.get()+c[m].translate))}),this.visualElement.render())});return()=>{o(),i(),n(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:n=!1,dragElastic:o=zE,dragMomentum:l=!0}=e;return{...e,drag:i,dragDirectionLock:r,dragPropagation:s,dragConstraints:n,dragElastic:o,dragMomentum:l}}}function l_(t,e,i){return(e===!0||e===t)&&(i===null||i===t)}function qle(t,e=10){let i=null;return Math.abs(t.y)>e?i="y":Math.abs(t.x)>e&&(i="x"),i}class Ble extends eh{constructor(e){super(e),this.removeGroupControls=oo,this.removeListeners=oo,this.controls=new Ule(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||oo}unmount(){this.removeGroupControls(),this.removeListeners()}}const LD=t=>(e,i)=>{t&&ii.postRender(()=>t(e,i))};class Gle extends eh{constructor(){super(...arguments),this.removePointerDownListener=oo}onPointerDown(e){this.session=new wq(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vq(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:i,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:LD(e),onStart:LD(i),onMove:r,onEnd:(n,o)=>{delete this.session,s&&ii.postRender(()=>s(n,o))}}}mount(){this.removePointerDownListener=Hv(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const d2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function VD(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const A0={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ge.test(t))t=parseFloat(t);else return t;const i=VD(t,e.target.x),r=VD(t,e.target.y);return`${i}% ${r}%`}},Hle={correct:(t,{treeScale:e,projectionDelta:i})=>{const r=t,s=zc.parse(t);if(s.length>5)return r;const n=zc.createTransformer(t),o=typeof s[0]!="number"?1:0,l=i.x.scale*e.x,c=i.y.scale*e.y;s[0+o]/=l,s[1+o]/=c;const d=ai(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),n(s)}};let LM=!1;class Wle extends W.Component{componentDidMount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:r,layoutId:s}=this.props,{projection:n}=e;mae(Zle),n&&(i.group&&i.group.add(n),r&&r.register&&s&&r.register(n),LM&&n.root.didUpdate(),n.addEventListener("animationComplete",()=>{this.safeToRemove()}),n.setOptions({...n.options,onExitComplete:()=>this.safeToRemove()})),d2.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:i,visualElement:r,drag:s,isPresent:n}=this.props,{projection:o}=r;return o&&(o.isPresent=n,LM=!0,s||e.layoutDependency!==i||i===void 0||e.isPresent!==n?o.willUpdate():this.safeToRemove(),e.isPresent!==n&&(n?o.promote():o.relegate()||ii.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),OC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:s}=e;LM=!0,s&&(s.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function _q(t){const[e,i]=lae(),r=W.useContext(Qz);return E.jsx(Wle,{...t,layoutGroup:r,switchLayoutGroup:W.useContext(tq),isPresent:e,safeToRemove:i})}const Zle={borderRadius:{...A0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:A0,borderTopRightRadius:A0,borderBottomLeftRadius:A0,borderBottomRightRadius:A0,boxShadow:Hle};function Yle(t,e,i){const r=Yr(t)?t:ky(t);return r.start(VC("",r,e,i)),r.animation}const Jle=(t,e)=>t.depth-e.depth;class Kle{constructor(){this.children=[],this.isDirty=!1}add(e){cC(this.children,e),this.isDirty=!0}remove(e){hC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Jle),this.isDirty=!1,this.children.forEach(e)}}function Xle(t,e){const i=zs.now(),r=({timestamp:s})=>{const n=s-i;n>=e&&(Fc(r),t(n-e))};return ii.setup(r,!0),()=>Fc(r)}const Sq=["TopLeft","TopRight","BottomLeft","BottomRight"],Qle=Sq.length,FD=t=>typeof t=="string"?parseFloat(t):t,zD=t=>typeof t=="number"||Ge.test(t);function eue(t,e,i,r,s,n){s?(t.opacity=ai(0,i.opacity??1,tue(r)),t.opacityExit=ai(e.opacity??1,0,iue(r))):n&&(t.opacity=ai(e.opacity??1,i.opacity??1,r));for(let o=0;o<Qle;o++){const l=`border${Sq[o]}Radius`;let c=UD(e,l),d=UD(i,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||zD(c)===zD(d)?(t[l]=Math.max(ai(FD(c),FD(d),r),0),(Pa.test(d)||Pa.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||i.rotate)&&(t.rotate=ai(e.rotate||0,i.rotate||0,r))}function UD(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const tue=xq(0,.5,cU),iue=xq(.5,.95,oo);function xq(t,e,i){return r=>r<t?0:r>e?1:i(O1(t,e,r))}function qD(t,e){t.min=e.min,t.max=e.max}function Dn(t,e){qD(t.x,e.x),qD(t.y,e.y)}function BD(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function GD(t,e,i,r,s){return t-=e,t=PS(t,1/i,r),s!==void 0&&(t=PS(t,1/s,r)),t}function rue(t,e=0,i=1,r=.5,s,n=t,o=t){if(Pa.test(e)&&(e=parseFloat(e),e=ai(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=ai(n.min,n.max,r);t===n&&(l-=e),t.min=GD(t.min,e,i,l,s),t.max=GD(t.max,e,i,l,s)}function HD(t,e,[i,r,s],n,o){rue(t,e[i],e[r],e[s],e.scale,n,o)}const sue=["x","scaleX","originX"],nue=["y","scaleY","originY"];function WD(t,e,i,r){HD(t.x,e,sue,i?i.x:void 0,r?r.x:void 0),HD(t.y,e,nue,i?i.y:void 0,r?r.y:void 0)}function ZD(t){return t.translate===0&&t.scale===1}function Tq(t){return ZD(t.x)&&ZD(t.y)}function YD(t,e){return t.min===e.min&&t.max===e.max}function oue(t,e){return YD(t.x,e.x)&&YD(t.y,e.y)}function JD(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function $q(t,e){return JD(t.x,e.x)&&JD(t.y,e.y)}function KD(t){return ys(t.x)/ys(t.y)}function XD(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class aue{constructor(){this.members=[]}add(e){cC(this.members,e),e.scheduleRender()}remove(e){if(hC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(e){const i=this.members.findIndex(s=>e===s);if(i===0)return!1;let r;for(let s=i;s>=0;s--){const n=this.members[s];if(n.isPresent!==!1){r=n;break}}return r?(this.promote(r),!0):!1}promote(e,i){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,i&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:i,resumingFrom:r}=e;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lue(t,e,i){let r="";const s=t.x.translate/e.x,n=t.y.translate/e.y,o=(i==null?void 0:i.z)||0;if((s||n||o)&&(r=`translate3d(${s}px, ${n}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),i){const{transformPerspective:d,rotate:m,rotateX:v,rotateY:w,skewX:_,skewY:x}=i;d&&(r=`perspective(${d}px) ${r}`),m&&(r+=`rotate(${m}deg) `),v&&(r+=`rotateX(${v}deg) `),w&&(r+=`rotateY(${w}deg) `),_&&(r+=`skewX(${_}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const VM=["","X","Y","Z"],uue=1e3;let cue=0;function FM(t,e,i,r){const{latestValues:s}=e;s[t]&&(i[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Mq(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const i=hq(e);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:s,layoutId:n}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",ii,!(s||n))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Mq(r)}function Eq({attachResizeListener:t,defaultParent:e,measureScroll:i,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=e==null?void 0:e()){this.id=cue++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(pue),this.nodes.forEach(gue),this.nodes.forEach(vue),this.nodes.forEach(fue)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Kle)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new fC),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=UU(o)&&!nae(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let m,v=0;const w=()=>this.root.updateBlockedByResize=!1;ii.read(()=>{v=window.innerWidth}),t(o,()=>{const _=window.innerWidth;_!==v&&(v=_,this.root.updateBlockedByResize=!0,m&&m(),m=Xle(w,250),d2.hasAnimatedSinceResize&&(d2.hasAnimatedSinceResize=!1,this.nodes.forEach(t8)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||xue,{onLayoutAnimationStart:T,onLayoutAnimationComplete:$}=d.getProps(),O=!this.targetLayout||!$q(this.targetLayout,_),C=!v&&w;if(this.options.layoutRoot||this.resumeFrom||C||v&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...EC(x,"layout"),onPlay:T,onComplete:$};(d.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(m,C)}else v||t8(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Fc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wue),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Mq(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(QD);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(e8);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(yue),this.nodes.forEach(hue),this.nodes.forEach(due)):this.nodes.forEach(e8),this.clearAllSnapshots();const l=zs.now();Ar.delta=uu(0,1e3/60,l-Ar.timestamp),Ar.timestamp=l,Ar.isProcessing=!0,OM.update.process(Ar),OM.preRender.process(Ar),OM.render.process(Ar),Ar.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,OC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mue),this.sharedNodes.forEach(bue)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ii.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ii.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ys(this.snapshot.measuredBox.x)&&!ys(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ci(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Tq(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Hh(this.latestValues)||m)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Tue(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Ci();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some($ue))){const{scroll:m}=this.root;m&&(fm(l.x,m.offset.x),fm(l.y,m.offset.y))}return l}removeElementScroll(o){var c;const l=Ci();if(Dn(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:v,options:w}=m;m!==this.root&&v&&w.layoutScroll&&(v.wasRoot&&Dn(l,o),fm(l.x,v.offset.x),fm(l.y,v.offset.y))}return l}applyTransform(o,l=!1){const c=Ci();Dn(c,o);for(let d=0;d<this.path.length;d++){const m=this.path[d];!l&&m.options.layoutScroll&&m.scroll&&m!==m.root&&mm(c,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Hh(m.latestValues)&&mm(c,m.latestValues)}return Hh(this.latestValues)&&mm(c,this.latestValues),c}removeTransform(o){const l=Ci();Dn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Hh(d.latestValues))continue;jE(d.latestValues)&&d.updateSnapshot();const m=Ci(),v=d.measurePageBox();Dn(m,v),WD(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return Hh(this.latestValues)&&WD(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ar.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var w;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:v}=this.options;if(!(!this.layout||!(m||v))){if(this.resolvedRelativeTargetAt=Ar.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ci(),this.relativeTargetOrigin=Ci(),Zv(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ci(),this.targetWithTransforms=Ci()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Cle(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dn(this.target,this.layout.layoutBox),nq(this.target,this.targetDelta)):Dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ci(),this.relativeTargetOrigin=Ci(),Zv(this.relativeTargetOrigin,this.target,_.target),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||jE(this.parent.latestValues)||sq(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ar.timestamp&&(c=!1),c)return;const{layout:d,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||m))return;Dn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;qae(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ci());const{target:_}=o;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(BD(this.prevProjectionDelta.x,this.projectionDelta.x),BD(this.prevProjectionDelta.y,this.projectionDelta.y)),Wv(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!XD(this.projectionDelta.x,this.prevProjectionDelta.x)||!XD(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ym(),this.projectionDelta=ym(),this.projectionDeltaWithTransform=ym()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},m={...this.latestValues},v=ym();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const w=Ci(),_=c?c.source:void 0,x=this.layout?this.layout.source:void 0,T=_!==x,$=this.getStack(),O=!$||$.members.length<=1,C=!!(T&&!O&&this.options.crossfade===!0&&!this.path.some(Sue));this.animationProgress=0;let R;this.mixTargetDelta=N=>{const j=N/1e3;i8(v.x,o.x,j),i8(v.y,o.y,j),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zv(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_ue(this.relativeTarget,this.relativeTargetOrigin,w,j),R&&oue(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Ci()),Dn(R,this.relativeTarget)),T&&(this.animationValues=m,eue(m,d,this.latestValues,j,C,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Fc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ii.update(()=>{d2.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ky(0)),this.currentAnimation=Yle(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),o.onUpdate&&o.onUpdate(m)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(uue),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:m}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&Aq(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Ci();const v=ys(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+v;const w=ys(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+w}Dn(l,c),mm(l,m),Wv(this.projectionDeltaWithTransform,this.layoutCorrected,l,m)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new aue),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&FM("z",o,d,this.animationValues);for(let m=0;m<VM.length;m++)FM(`rotate${VM[m]}`,o,d,this.animationValues),FM(`skew${VM[m]}`,o,d,this.animationValues);o.render();for(const m in d)o.setStaticValue(m,d[m]),this.animationValues&&(this.animationValues[m]=d[m]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=h2(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=h2(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Hh(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const m=d.animationValues||d.latestValues;this.applyTransformsToTarget();let v=lue(this.projectionDeltaWithTransform,this.treeScale,m);c&&(v=c(m,v)),o.transform=v;const{x:w,y:_}=this.projectionDelta;o.transformOrigin=`${w.origin*100}% ${_.origin*100}% 0`,d.animationValues?o.opacity=d===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:o.opacity=d===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const x in I1){if(m[x]===void 0)continue;const{correct:T,applyTo:$,isCSSVariable:O}=I1[x],C=v==="none"?m[x]:T(m[x],d);if($){const R=$.length;for(let N=0;N<R;N++)o[$[N]]=C}else O?this.options.visualElement.renderState.vars[x]=C:o[x]=C}this.options.layoutId&&(o.pointerEvents=d===this?h2(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(QD),this.root.sharedNodes.clear()}}}function hue(t){t.updateLayout()}function due(t){var i;const e=((i=t.resumeFrom)==null?void 0:i.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:n}=t.options,o=e.source!==t.layout.source;n==="size"?Wn(v=>{const w=o?e.measuredBox[v]:e.layoutBox[v],_=ys(w);w.min=r[v].min,w.max=w.min+_}):Aq(n,e.layoutBox,r)&&Wn(v=>{const w=o?e.measuredBox[v]:e.layoutBox[v],_=ys(r[v]);w.max=w.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+_)});const l=ym();Wv(l,r,e.layoutBox);const c=ym();o?Wv(c,t.applyTransform(s,!0),e.measuredBox):Wv(c,r,e.layoutBox);const d=!Tq(l);let m=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:w,layout:_}=v;if(w&&_){const x=Ci();Zv(x,e.layoutBox,w.layoutBox);const T=Ci();Zv(T,r,_.layoutBox),$q(x,T)||(m=!0),v.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=x,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function pue(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function fue(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function mue(t){t.clearSnapshot()}function QD(t){t.clearMeasurements()}function e8(t){t.isLayoutDirty=!1}function yue(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function t8(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function gue(t){t.resolveTargetDelta()}function vue(t){t.calcProjection()}function wue(t){t.resetSkewAndRotation()}function bue(t){t.removeLeadSnapshot()}function i8(t,e,i){t.translate=ai(e.translate,0,i),t.scale=ai(e.scale,1,i),t.origin=e.origin,t.originPoint=e.originPoint}function r8(t,e,i,r){t.min=ai(e.min,i.min,r),t.max=ai(e.max,i.max,r)}function _ue(t,e,i,r){r8(t.x,e.x,i.x,r),r8(t.y,e.y,i.y,r)}function Sue(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const xue={duration:.45,ease:[.4,0,.1,1]},s8=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),n8=s8("applewebkit/")&&!s8("chrome/")?Math.round:oo;function o8(t){t.min=n8(t.min),t.max=n8(t.max)}function Tue(t){o8(t.x),o8(t.y)}function Aq(t,e,i){return t==="position"||t==="preserve-aspect"&&!kle(KD(e),KD(i),.2)}function $ue(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Mue=Eq({attachResizeListener:(t,e)=>P1(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zM={current:void 0},Oq=Eq({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!zM.current){const t=new Mue({});t.mount(window),t.setOptions({layoutScroll:!0}),zM.current=t}return zM.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Eue={pan:{Feature:Gle},drag:{Feature:Ble,ProjectionNode:Oq,MeasureLayout:_q}};function a8(t,e,i){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",i==="Start");const s="onHover"+i,n=r[s];n&&ii.postRender(()=>n(e,ww(e)))}class Aue extends eh{mount(){const{current:e}=this.node;e&&(this.unmount=eae(e,(i,r)=>(a8(this.node,r,"Start"),s=>a8(this.node,s,"End"))))}unmount(){}}class Oue extends eh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yw(P1(this.node.current,"focus",()=>this.onFocus()),P1(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function l8(t,e,i){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",i==="Start");const s="onTap"+(i==="End"?"":i),n=r[s];n&&ii.postRender(()=>n(e,ww(e)))}class kue extends eh{mount(){const{current:e}=this.node;e&&(this.unmount=sae(e,(i,r)=>(l8(this.node,r,"Start"),(s,{success:n})=>l8(this.node,s,n?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const UE=new WeakMap,UM=new WeakMap,Cue=t=>{const e=UE.get(t.target);e&&e(t)},Rue=t=>{t.forEach(Cue)};function Iue({root:t,...e}){const i=t||document;UM.has(i)||UM.set(i,{});const r=UM.get(i),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Rue,{root:t,...e})),r[s]}function Pue(t,e,i){const r=Iue(e);return UE.set(t,i),r.observe(t),()=>{UE.delete(t),r.unobserve(t)}}const jue={some:0,all:1};class Nue extends eh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:i,margin:r,amount:s="some",once:n}=e,o={root:i?i.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:jue[s]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,n&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),w=d?m:v;w&&w(c)};return Pue(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:i}=this.node;["amount","margin","root"].some(Due(e,i))&&this.startObserver()}unmount(){}}function Due({viewport:t={}},{viewport:e={}}={}){return i=>t[i]!==e[i]}const Lue={inView:{Feature:Nue},tap:{Feature:kue},focus:{Feature:Oue},hover:{Feature:Aue}},Vue={layout:{ProjectionNode:Oq,MeasureLayout:_q}},Fue={...Tle,...Lue,...Eue,...Vue},Ea=Fae(Fue,Qae);var kq={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},u8=Ld.createContext&&Ld.createContext(kq),zue=["attr","size","title"];function Uue(t,e){if(t==null)return{};var i=que(t,e),r,s;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(s=0;s<n.length;s++)r=n[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function que(t,e){if(t==null)return{};var i={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;i[r]=t[r]}return i}function jS(){return jS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},jS.apply(this,arguments)}function c8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),i.push.apply(i,r)}return i}function NS(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?c8(Object(i),!0).forEach(function(r){Bue(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Bue(t,e,i){return e=Gue(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Gue(t){var e=Hue(t,"string");return typeof e=="symbol"?e:e+""}function Hue(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cq(t){return t&&t.map((e,i)=>Ld.createElement(e.tag,NS({key:i},e.attr),Cq(e.child)))}function Js(t){return e=>Ld.createElement(Wue,jS({attr:NS({},t.attr)},e),Cq(t.child))}function Wue(t){var e=i=>{var{attr:r,size:s,title:n}=t,o=Uue(t,zue),l=s||i.size||"1em",c;return i.className&&(c=i.className),t.className&&(c=(c?c+" ":"")+t.className),Ld.createElement("svg",jS({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,r,o,{className:c,style:NS(NS({color:t.color||i.color},i.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),n&&Ld.createElement("title",null,n),t.children)};return u8!==void 0?Ld.createElement(u8.Consumer,null,i=>e(i)):e(kq)}function Zue(t){return Js({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"},child:[]}]})(t)}function Yue(t){return Js({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"},child:[]}]})(t)}function Jue(t){return Js({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M571.31 193.94l-22.63-22.63c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31-28.9-28.9c5.63-21.31.36-44.9-16.35-61.61l-45.25-45.25c-62.48-62.48-163.79-62.48-226.28 0l90.51 45.25v18.75c0 16.97 6.74 33.25 18.75 45.25l49.14 49.14c16.71 16.71 40.3 21.98 61.61 16.35l28.9 28.9-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63l22.63 22.63c6.25 6.25 16.38 6.25 22.63 0l90.51-90.51c6.23-6.24 6.23-16.37-.02-22.62zm-286.72-15.2c-3.7-3.7-6.84-7.79-9.85-11.95L19.64 404.96c-25.57 23.88-26.26 64.19-1.53 88.93s65.05 24.05 88.93-1.53l238.13-255.07c-3.96-2.91-7.9-5.87-11.44-9.41l-49.14-49.14z"},child:[]}]})(t)}function Kue(t){return Js({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 117.66v346.32c0 11.32 11.43 19.06 21.94 14.86L160 416V32L20.12 87.95A32.006 32.006 0 0 0 0 117.66zM192 416l192 64V96L192 32v384zM554.06 33.16L416 96v384l139.88-55.95A31.996 31.996 0 0 0 576 394.34V48.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(t)}function Xue(t){return Js({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 0a.84923.84923 0 0 0-.33766.07031l-8.5183 3.69444C2.1458 4.19776 1.4997 5.1816 1.4997 6.2697v13.2521l10.16264 4.40783c.21517.09333.46015.09407.67532.00073l8.5183-3.6959c.99824-.43301 1.64434-1.41685 1.64434-2.50495V4.47814L12.33766.06958C12.23007.02291 12.11516-.00005 12 0Zm0 4.83705c4.16294 0 7.53757 3.3746 7.53757 7.53757S16.163 19.91218 12 19.91218c-4.163 0-7.53757-3.37462-7.53757-7.53756S7.837 4.83705 12 4.83705zm-.3501 1.38871c-.89685-.02267-2.32742.2409-3.74645 1.6143.34958.55454.64544.97782.49 1.41801-.23127.65503-.5139.51378-1.07083.99466-.39567.34169.2067 1.01292-.31275 1.30595-.51945.29306-1.21315.6636-.94925 1.17557.2639.51196 1.4691.83013 1.95929 1.07522.49018.2451.92812.70605.6072 1.2371-.31403.51948-.53713 1.13083-.60134 1.60917 1.0549.94423 2.44706 1.51909 3.97423 1.51909 3.2928 0 5.81772-2.71048 5.96208-6.00017.04062-.92531-.93924-.93972-1.53447-.93972 0 0 .34061.92356.01831 1.43632-.3223.51278-.84968.76166-.83498 1.37699.01464.61533-.93743 1.5967-1.2598 1.9483-.32223.35163-.9228.74718-1.12796-.0586-.2051-.80579-.12596-1.47799.1084-2.04938.23442-.57136-.2174-.74707-.92068-.76174-.7032-.01463-1.0798-.10795-1.18656-1.19315-.08787-.89369 1.2429-1.84356 1.81426-1.84356.33406 0 1.45485.21963 1.50737-.34058.08056-.8593-.8204-1.04164-1.03934-1.60185C13.2877 7.58747 14.98596 6.60707 12 6.24993c-.10475-.01253-.22199-.02093-.3501-.02417z"},child:[]}]})(t)}function Que(t){return Js({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z"},child:[]}]})(t)}function ece(){const t=[{name:"Python",icon:E.jsx(Zue,{className:"text-yellow-500"})},{name:"React",icon:E.jsx(Yue,{className:"text-blue-500"})},{name:"JavaScript / TypeScript",icon:E.jsx(Que,{className:"text-teal-400"})},{name:"ArcGIS",icon:E.jsx(Xue,{className:"text-blue-700"})},{name:"Arcpy, Esri API for Python",icon:E.jsx(Jue,{className:"text-black"})},{name:"Javascript SDK for ArcGIS",icon:E.jsx(Kue,{className:"text-purple-600"})}];return E.jsxs("section",{id:"tech",className:"max-w-6xl mx-auto px-4 py-20 text-center",children:[E.jsx(Ea.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-3xl font-bold mb-12 bg-gradient-to-r from-orange-500 to-amber-600 bg-clip-text text-transparent",children:"My Tech Stack"}),E.jsx("div",{className:"flex flex-wrap justify-center gap-6",children:t.map((e,i)=>E.jsxs(Ea.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:i*.1},viewport:{once:!0,amount:.3},className:"flex items-center gap-3 bg-white shadow-md rounded-full px-4 py-2 hover:shadow-lg transition-all cursor-default",children:[E.jsx("span",{className:"text-2xl",children:e.icon}),E.jsx("span",{className:"font-medium text-gray-800",children:e.name})]},i))})]})}function tce(){const t=[{title:"Python for ArcGIS Certification",image:"/pythonAPI.png",url:"https://www.credly.com/badges/89608452-ea07-485e-991b-d98dfcbbf52f/public_url"},{title:"ArcGIS Desktop",url:"https://www.credly.com/badges/d9947fa6-ba9f-4410-8fd1-b1fcb05f6e59/public_url",image:"/arcgisEntry.png"},{title:"Certified Scrum Master",url:"https://www.scrumalliance.org/community/profile/ssellars2",image:"/csm.png"}];return E.jsxs("section",{id:"certificates",className:"max-w-6xl mx-auto px-4 py-20 text-center",children:[E.jsx(Ea.h2,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0,amount:.3},className:"text-3xl font-bold mb-12 bg-gradient-to-r from-orange-500 to-amber-600 bg-clip-text text-transparent",children:"Certificates"}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,i)=>E.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:E.jsxs(Ea.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:i*.1},viewport:{once:!0,amount:.3},className:"bg-white rounded-2xl shadow-md hover:shadow-xl overflow-hidden transition-all",children:[E.jsx("h3",{className:"text-lg font-semibold text-gray-800 p-4",children:e.title}),E.jsx("img",{src:e.image,alt:e.title,className:"w-full h-80 object-cover"})]})},i))})]})}function ice(){const t=[{title:"Algonquin Canoe GPS Routing (Python & React)",description:"Plan and visualize your routes with Canoe Compass! Export and analyze your data.",image:"/algonquinApp.JPG",link:"https://canoecompass.z13.web.core.windows.net/"},{title:"templatepptx - Power Point Templating (Python)",description:"A Python Package for automating Power Point Templates using Python. Available on PyPi!",image:"/PPTX.JPG",link:"https://github.com/Samir-Sell/templatepptx"},{title:"FieldMatch (React, INaturalist API, TailwindCSS, Zustand)",description:"A mobile first React Application to simplify INaturalist Identifications",image:"/FieldMatch.png",link:"https://filedmatch.z13.web.core.windows.net"},{title:"Arcgis React Template (React, JavaScrpt SDK)",description:"An ArcGIS React Template with ArcGIS JS SDK, Zustand, Calcite Design System & TailwindCSS",image:"/arcgis-react-template.JPG",link:"https://github.com/Samir-Sell/arcgis-react-template"}];return E.jsxs(E.Fragment,{children:[E.jsxs("section",{className:"relative overflow-hidden max-w-6xl mx-auto px-4 py-20 flex flex-col-reverse md:flex-row items-center gap-10",children:[E.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-br from-orange-50 via-white to-amber-100"}),E.jsxs(Ea.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0,amount:.3},className:"flex-1 text-center md:text-left",children:[E.jsx("p",{className:"text-xl md:text-2xl text-gray-600 mb-2",children:"Hey there, Im"}),E.jsx("h1",{className:"text-5xl md:text-6xl font-extrabold mb-4 bg-gradient-to-r from-orange-500 to-amber-600 bg-clip-text text-transparent",children:"Samir"}),E.jsx("p",{className:"text-lg text-gray-700 leading-relaxed max-w-md mx-auto md:mx-0",children:"Im a Geospatial developer, hiker, creator, and explorer. This is a website to show off my creations and to share what I find fun and interesting!"})]}),E.jsx(Ea.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2},viewport:{once:!0,amount:.3},className:"flex justify-center md:justify-end",children:E.jsx("img",{src:"https://live.staticflickr.com/65535/54449571884_ce06cf2c8e_b.jpg",alt:"Samir portrait",loading:"lazy",className:"w-52 h-52 md:w-64 md:h-64 object-cover rounded-full shadow-2xl hover:ring-amber-300 transition-all"})})]}),E.jsx(Ea.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2},viewport:{once:!0,amount:.3},children:E.jsx("div",{className:"h-1 w-48 bg-gray-500 rounded-full mx-auto my-3"})}),E.jsxs("section",{id:"projects",className:"max-w-6xl mx-auto px-4 py-10 text-center",children:[E.jsx(Ea.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0,amount:.3},className:"text-3xl font-bold mb-10 bg-gradient-to-r from-orange-500 to-amber-600 bg-clip-text text-transparent",children:"Projects"}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,i)=>E.jsxs(Ea.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:i*.1},viewport:{once:!0,amount:.3},className:"bg-white shadow-md rounded-2xl overflow-hidden hover:shadow-xl transition-shadow",children:[E.jsx("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover"}),E.jsxs("div",{className:"p-5 text-left",children:[E.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:e.title}),E.jsx("p",{className:"text-gray-600 text-sm mb-4",children:e.description}),E.jsx("a",{target:"_blank",href:e.link,className:"text-orange-600 font-medium hover:underline",children:"View Project "})]})]},i))})]}),E.jsx(Ea.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2},viewport:{once:!0,amount:.3},children:E.jsx("div",{className:"h-1 w-48 bg-gray-500 rounded-full mx-auto my-3"})}),E.jsx(ece,{}),E.jsx(tce,{})]})}function rce(){return E.jsxs("section",{className:"max-w-4xl mx-auto px-4 py-12",children:[E.jsx("h1",{className:"text-3xl font-bold mb-4 text-orange-400",children:"About Me"}),E.jsx("p",{children:"I am a fullstack GIS software developer with 5+ years of experience. When not programming or doing GIS, I enjoy hiking, climbing, camping, reading and writing. I also enjoy taking INaturalist photos. The photos are on display in my adventure blogs and are plotted on a map along with the trail I have taken for each hike / activity. This website is to allow my creativity to be on full display and show off the things I am proud of or interested in."}),E.jsx("br",{}),E.jsx("p",{children:"Currently, I am working as a Senior Developer Esri Canada working in a full stack capacity. My day to day work involves the development of data pipelines, vanilla JS/HTML/CSS applications as well as React Apps that have a large variety of functions."})]})}const Rq={slug:"ampersand-mountain",title:"A Grind Up Ampersand Mountain, Adirondacks",time:"5 Hours",tags:["America","Adirondacks"],description:"A slog up Ampersand Mountain in the Adirondacks.",thumbnail:"https://live.staticflickr.com/65535/54507190377_36c4d25e31_b.jpg",address:"44.2516, -74.2396",cost:"Free",date:"May 01 2025",difficulty:"9/10",rating:"10/10",geojsonTrailPath:"/adventureBlog/ampersand-mountain/ampersand-mountain-trail.geojson",iNatTrailPath:"/adventureBlog/ampersand-mountain/ampersand-mountain-inat.geojson",content:()=>E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"My dad and I peaked Ampersand Mountain on the second day of our trip down to Port Chester to see the Avett Brothers. We had scouted out the hike beforehand and this one seemed to be calling to us. It was the perfect balance of challenge, reward and payoff. We started in the early afternoon. The trail was not busy at all but the parking was very, very limited. There were under 10 cars, but the closest lot was full. Another group we met hiking told us that in the peak season, people park all along the road. However, I would take that with a grain of salt. Not much to say about this hike. My partner and I like to come here because it is close and easy. Due to the time of year, there were tons of birds flying about!"}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://live.staticflickr.com/65535/54508318413_4478675960_b.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"Like Coney Mountain, which we had climbed the day before, this peak also had stunning 360 views. The hike had almost 1000 meters of elevation and offered beautiful views along the way. I got some beautiful macro shots along the way such as the fly below! Check out the iNaturalist photos for some other shots of a really cool moth and a spider."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://inaturalist-open-data.s3.amazonaws.com/photos/498380987/large.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"At the peak, we sat around for almost an hour. There was a younger man at the peak flying a drone around. He turned out to be from LA. We chatted with him for a while and then he descended down the mountain leaving us as the only two at the peak. It was the exact type of moment that I love about hiking. Before our freind left, he took a photo of my dad and I sitting enjoying the view. He airdropped it to us and it happens to be the thumbnail of this blog!"}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://live.staticflickr.com/65535/54764152153_a3a9fb664b_b.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"In the last couple hundred meters, we even got some left over packed down snow that we had to sludge through!"})]})},sce=Object.freeze(Object.defineProperty({__proto__:null,default:Rq},Symbol.toStringTag,{value:"Module"})),Iq={slug:"bell-canyon",title:"Bell Canyon, Salt Lake City Hike",time:"3 Hours",tags:["America"],description:"A gorgeous and steep canyon climb into the mountains around Salt Lake City.",thumbnail:"https://live.staticflickr.com/65535/54449571884_ce06cf2c8e_b.jpg",address:"3400 Little Cottonwood Rd, Sandy, UT 84092",cost:"Free",date:"April 12 2025",difficulty:"8/10",rating:"9/10",geojsonTrailPath:"/adventureBlog/bell-canyon/bell-canyon-trail.geojson",iNatTrailPath:"/adventureBlog/bell-canyon/bell-canyon-inat.geojson",content:()=>E.jsxs(E.Fragment,{children:[E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54461449043_4607cda8c9_b.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"One of the most beautiful trails I have ever had the privilege to hike. It was very popular and easily accessible from the city with easy parking at the trailhead. The trailhead even had a water bottle refill station. The trail started off with some switchbacks that led to a beautiful lake with a mountainous backdrop. Even if you only planned to get to the lake, it would still be worth it. As I got deeper into the hike and the elevation increased, the trail started to become slick with snow and ice. I only had hiking boots on, which slowed me down a little on the way up. On the way down, it was great fun navigating these parts as I could turn my body sideways and almost slide down large swathes of the trail."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54461449038_f39d860cc3_b.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"Getting to the top of the trail was extremely rewarding! This hike could continue for 10 more kilometers into the canyon for a more prepared hiker. However, the trail onward was extremely steep and slick with slushy snow and ice. Upon completing this hike, I was rewarded with a massive waterfall and views of the Wasatch mountain range. The rock formations were beautiful and rugged."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54461547010_94f9a3dee6_b.jpg"}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54461185246_3b7857f054_b.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"Everyone I met was super friendly, and there was a sense of camaraderie on the trail as fellow hikers struggled up the steep icy sections. This has been one of my favorite hikes as I love the change of ecosystem along the way as well as the shift from no snow to lots of snow."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54461185251_ef4abec732_b.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"When I got back down from climbing the canyon, I took a little walk around the lake to see what I could find. There was a small hill that overlooked the lake and the mountains. I scrambled up the hill and set up a fun self-timer picture to end the hike. I would do this hike again in a heartbeat!"}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54449571884_ce06cf2c8e_b.jpg"}),E.jsx("br",{})]})},nce=Object.freeze(Object.defineProperty({__proto__:null,default:Iq},Symbol.toStringTag,{value:"Module"})),Pq={slug:"blue-mountain",title:"Blue Mountain Resort Hike from the Blue Mountain Resort Village",time:"2 Hours",tags:["Canada","Ontario"],description:"A beautiful hike up the side of the Blue Mountain Resort ski hill",thumbnail:"https://inaturalist-open-data.s3.amazonaws.com/photos/528238674/large.jpg",address:"Blue Mountain Resort (44.5027, -80.3144)",cost:"Free",date:"June 10 2025",difficulty:"5/10",rating:"3/10",geojsonTrailPath:"/adventureBlog/blue-mountain/blue-mountain-trail.geojson",iNatTrailPath:"/adventureBlog/blue-mountain/blue-mountain-inat.geojson",content:()=>E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"A quick little jaunt up the hillside of the Blue Mountain ski resort. Not a very well marked hike or a developed trail."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://inaturalist-open-data.s3.amazonaws.com/photos/528238525/large.jpg"}),E.jsx("br",{})]})},oce=Object.freeze(Object.defineProperty({__proto__:null,default:Pq},Symbol.toStringTag,{value:"Module"})),jq={slug:"bruce-peninsula",title:"Gorgeous Hiking Trail in Bruce Peninsula Along Lake Huron",time:"3 Hours",tags:["Canada","Ontario","Swimming"],description:"A gorgeous trail with stunning vistas and rock beaches to visit. You wont beleive you're in Ontario.",thumbnail:"https://live.staticflickr.com/65535/54763922801_244824a310_b.jpg",address:"Bruce Peninsula Grotto",cost:"Bruce Peninsula Camping Pass or Day Pass (50 Dollars)",date:"August 02 2025",difficulty:"7/10",rating:"10/10",geojsonTrailPath:"/adventureBlog/bruce-peninsula/bruce-peninsula-trail.geojson",iNatTrailPath:"/adventureBlog/bruce-peninsula/bruce-peninsula-inat.geojson",content:()=>E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"Bruce Penisula is a stunning National Park in Ontario. We had the opertunity to go on a camping trip in the park with some freinds for a few days. It was a eye watering 8 hour drive away from Ottawa. However, this hike and the Grotto made it all worth it. The Bruce Grotto is one of the most iconic Ontario locations that is posted about ad nausea online and for good reason. The swimming is unrivaled and the water is crystal clear. All along this trail are various rock beaches which are perfect for swimming. It is essential you bring goggles if you plan to visit as you can see to the very bottom of the lake at any depth."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://live.staticflickr.com/65535/54763074192_271868fdbd_b.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"If you're plannig a trip to this area, make sure you book the permit a few months in advance. Also be sure to go off the beaten path and find your own little swimming hole as it is most definitely worth it. Near the end of the hike was a view point called overhang point. There is a photo of my partner standing on top of it. As the name suggests , it is a large overhanging rock overlooking lake huron. The other must mention is Boulder Beach near Marr Lake. The Grotto and Indian Head Cove were overrun with people. However, we had the swim spots at the rock beach to ourselves."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://live.staticflickr.com/65535/54764153839_c30c877baf_b.jpg"}),E.jsx("br",{}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://live.staticflickr.com/65535/54763922791_58cb271a99_b.jpg"}),E.jsx("br",{}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://live.staticflickr.com/65535/54763922831_6df1aa8aae_b.jpg"}),E.jsx("br",{})]})},ace=Object.freeze(Object.defineProperty({__proto__:null,default:jq},Symbol.toStringTag,{value:"Module"})),Nq={slug:"buggy-ride",title:"Dominican Republic Dune Buggy Ride",time:"3 hours",tags:["Dominican Republic"],description:"A dune buggy ride through the Dominican countryside. Beach, coffee, rum and chocolate.",thumbnail:"https://live.staticflickr.com/65535/54376868359_479d202ffe_c.jpg",address:"Playa Jellyfish, Local 22, Punta Cana 23000, Dominican Republic",cost:"90 Dollars",date:"March 5 2025",difficulty:"N/A",rating:"9/10",geojsonTrailPath:"/adventureBlog/buggy-ride/buggy-ride.geojson",iNatTrailPath:"/adventureBlog/buggy-ride/buggy-obs.geojson",content:()=>E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"We had the best time exploring Dominican Republic on dune buggies. The day started with a bus pickup at the resort where we got driven to a beautiful farm to start the excursion. The drive to the farm included seeing the local towns, restaurants, and lots of horses. While it was a warm day, our guide, Felix, talked us through the itinerary for the day under a cool pavilion as we applied sunscreen on liberally. The itinerary included driving around on dune buggies to visit a cenote, an organic farm and Macao Beach."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54376868359_479d202ffe_c.jpg",alt:"Dominican Republic dune buggy ride"}),E.jsx("br",{}),E.jsx("p",{children:"With helmets, goggles, and face masks we drove through Macao on dune buggies to visit the first stop  a cenote, which is a cave with water you can swim in. Face covers and goggles were highly recommended to avoid dust and flying critters from entering your mouth, eyes and nose! We brought swimming pool goggles which worked just fine, but you could also purchase goggles and a bandana at the farm."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54377057825_0ce56f1039_c.jpg",alt:"Cenote in Dominican Republic"}),E.jsx("br",{}),E.jsx("p",{children:"While there were quite a few tourists at the cenote it was a great way to escape the heat for a bit with the opportunity to also visit small shops and food vendors."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54376868369_48e971fe1d_c.jpg",alt:"Organic farm stop during buggy ride"}),E.jsx("br",{}),E.jsx("p",{children:"After this, the next stop of the excursion took us to an organic farm where we learned about the production of coffee, rum and chocolate in Dominican Republic. We were also treated to a few samples and had the opportunity to look at a few locally made souvenirs."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54375790772_f255261587_c.jpg",alt:"Dominican Republic coffee and chocolate farm"}),E.jsx("br",{}),E.jsx("p",{children:"After the organic farm, we drove through some muddy roads to get us to Macao Beach which was one of the highlights of the excursion. This beautiful beach had soft sands and some killer waves that a lot of surfers enjoyed. Not to mention the beach had a few local friendly dogs that joined us under an umbrella. Macao Beach was the perfect place to swim and wash off some of the mud from the dune buggies with lots of local food options. There was also a nearby nature trail, but unfortunately we didn't have time to explore it."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54376901453_66e3fec611_c.jpg",alt:"Macao Beach, Dominican Republic"}),E.jsx("br",{}),E.jsx("p",{children:"All in all if you visit Dominican Republic we highly recommend this excursion with Felix and his team. It was a great way to see all the beauty Dominican Republic has to offer while also learning about chocolate, coffee and rum production."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54375790777_ab4faf4b62_c.jpg",alt:"Felixs dune buggy excursion group"}),E.jsx("br",{})]})},lce=Object.freeze(Object.defineProperty({__proto__:null,default:Nq},Symbol.toStringTag,{value:"Module"})),Dq={slug:"coney-mountain",title:"Coney Mountain Peak Near Tupper Lake New York, Adirondacks",time:"1.5 Hours",tags:["America","Adirondacks"],description:"A quick and somewhat steep hike up a lesser known trail in the adirondacks.",thumbnail:"https://live.staticflickr.com/65535/54508327543_8330ed066e_b.jpg",address:"1835 Carrigan Canyon Dr, Salt Lake City, UT 84109 (Street Parking)",cost:"Free",date:"April 30 2025",difficulty:"9/10",rating:"6/10",geojsonTrailPath:"/adventureBlog/coney-mountain/coney-mountain-trail.geojson",iNatTrailPath:"/adventureBlog/coney-mountain/coney-mountain-inat.geojson",content:()=>E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"Coney Mountain was an amazing late afternoon hike as it was short and sweet. My dad and I were travelling to Port Chester New York to go see our favourite band, the Avett Brothers live. We rented a small cabin just about 15 minutes from the trailhead and deciced last minute when we go to our cabin that we were gonna go on a short hike to cap off our day. We discovered this gem nearby and had the whole mountain and peak to ourselves."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://live.staticflickr.com/65535/54508407790_a96c14411a_b.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"The hike started off very relaxed and had little to no elevation. The forest had that glow that it gets right before the sun is about to set. However, very quickly, it became to be quite a slog before we finally got up to the bald peak. It did not take long, however the views were amazing. It was a full 360 view of lakes, mountains and trees."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://live.staticflickr.com/65535/54764123249_a9aec0fa79_b.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"I have hiked much longer and more difficult trails that only had half the view that this trail had. Also you may notice this hike has our GPS trail going along the road. I accidently left my device recording while we were driving back! It starts where the iNaturalist photos start."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://live.staticflickr.com/65535/54764130273_4aea5e00ab_b.jpg"}),E.jsx("br",{})]})},uce=Object.freeze(Object.defineProperty({__proto__:null,default:Dq},Symbol.toStringTag,{value:"Module"})),Lq={slug:"findlay-drainage",title:"A Short Walk Around a Findlay Creek Water Drainage Pond",time:"1 Hour",tags:["Canada","Ontario","Ottawa"],description:"A somewhat underwhelming walk, but noteworthy as it is very accessible if you live in the area",thumbnail:"https://inaturalist-open-data.s3.amazonaws.com/photos/500126012/large.jpg",address:"45.3165, -75.5882 (Street Parking)",cost:"Free",date:"May 04 2025",difficulty:"9/10",rating:"6/10",geojsonTrailPath:"/adventureBlog/findlay-drainage/findlay-drainage-trail.geojson",iNatTrailPath:"/adventureBlog/findlay-drainage/findlay-drainage-inat.geojson",content:()=>E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"Not much to say about this hike. My partner and I like to come here because it is close and easy. Due to the time of year, there were tons of birds flying about which made it more fun than it would have been normally. Strangely, I see a lot of people fishing here and they swear they catch large fish every now and then."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://inaturalist-open-data.s3.amazonaws.com/photos/500126235/large.jpg"}),E.jsx("br",{})]})},cce=Object.freeze(Object.defineProperty({__proto__:null,default:Lq},Symbol.toStringTag,{value:"Module"})),Vq={slug:"hidden-falls",title:"Hidden Falls, Curt Gowdy State Park, Wyoming",time:"2.5 Hours",tags:["America"],description:"A gorgeous jaunt through a fun diverse landscape in Curt Gowdy Wyoming.",thumbnail:"https://live.staticflickr.com/65535/54465388980_6f06fa05d6_b.jpg",address:"41.17896682741287, -105.24679529767751",cost:"12 Dollars (USD)",date:"April 16 2025",difficulty:"5/10",rating:"9/10",geojsonTrailPath:"/adventureBlog/hidden-falls/hidden-falls-trail.geojson",iNatTrailPath:"/adventureBlog/hidden-falls/hidden-falls-inat.geojson",content:()=>E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"Curt Gowdy was a beautiful gem that we had never heard of. We had passed it on the highway on our way to Cheyenne, Wyoming, and later decided to circle back to check it out. The park was extremely windy, with highway closures often due to strong winds  we experienced gusts up to 70 km/h. The park has tons of trails, and even archery pitches. This particular trail, Hidden Falls, winds through forests and rock fields to a small but beautiful canyon containing a stunning waterfall."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54465231679_4ddc68bc60_b.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"We practically had the park to ourselves, which was amazing  no signs of civilization, planes, or cars. Just us and the wind. The park is full of bulbous rock formations, created billions of years ago from cooling magma deep within the Earth's core. These igneous rocks were exposed as the mountains eroded over time."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54465296273_d62db18a5e_b.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"In addition to the rock formations, we saw beautiful wildflowers, many Wyoming Ground Squirrels and chipmunks. The ground squirrels burrows were everywhere along the trail. We also spotted lots of cacti, which was exciting."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54465231669_49227c7d1a_b.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"The trail took about 2 hours, including time for pictures and enjoying the views. The path somewhat follows a stream fed by the spring melt. To get closer to the waterfall, you would need to wade into the water, which is pleasant in warmer months. If you are in the area, this park and trail are a must-see. The only downside is the $12 parking fee."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54465388980_6f06fa05d6_b.jpg"}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54465034711_73d8db7817_b.jpg"}),E.jsx("br",{})]})},hce=Object.freeze(Object.defineProperty({__proto__:null,default:Vq},Symbol.toStringTag,{value:"Module"})),Fq={slug:"hitchcock",title:"Hitchcock Conservation Area in Iowa",time:"2.5 Hours",tags:["America"],description:"A small hidden gem in Iowa with beautiful trails, camping and a lake.",thumbnail:"https://live.staticflickr.com/65535/54465085671_34d5499783_b.jpg",address:"27792 Ski Hill Loop, Honey Creek, IA 51542, United States",cost:"5 Dollars (USD)",date:"April 18 2025",difficulty:"8/10",rating:"6/10",geojsonTrailPath:"/adventureBlog/hitchcock/hitchcock-trail.geojson",iNatTrailPath:"/adventureBlog/hitchcock/hitchcock-inat.geojson",content:()=>E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"Hitchcock Park is the perfect nature escape in Iowa, allowing you to be fully immersed in nature and only a 20-minute drive from Council Bluffs. The hike we did was 3 hours long and definitely a workout, which was perfect after 8 hours in the car the day before driving from Wyoming to Iowa. While this hike doesn't have too much elevation all at once, the calves were definitely burning with the frequent and steep hills. This trail also has no switchbacks, so everything was straight up. It would be brutal to do in the rain or muddy conditions. There was recently a prescribed burn, so we smelled quite a bit of smoke on the hike, but it was super cool to see the new growth in the forest and a few wildflowers emerging from the ground."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54465439120_8e8be278b0_b.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"We didn't see too many animals other than a turkey vulture and some squirrels, and ran into only 4 people on the entire hike. While some of the views were incredible, the areas of higher elevation were quite windy, which had us holding onto our hats! If we lived in the area, it would be a lot of fun to swing into this park for some quick camping. We saw a couple that had snagged a beautiful spot by a little lake. The trail also featured a hawk tower where birders can take advantage of."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54465085671_34d5499783_b.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"The camping sites were primitive but had picnic tables and fire pits. We made our own hike by combining a ton of different trails. Without knowing where you are going, it would have been very easy to get lost as the trails were very windy and all connected. On the flipside, it was nice as you can easily lengthen or shorten your hike. The best views were after the steepest climbs and were well worth the effort."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54465282079_932b67e895_b.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"Just outside the conservation area was a great diner called Henry's Diner. It was a classic barebones diner but really hit the spot after the long hike. From what we saw, the Hitchcock Conservation Center was one of the best places to hike near Omaha, Nebraska."}),E.jsx("br",{})]})},dce=Object.freeze(Object.defineProperty({__proto__:null,default:Fq},Symbol.toStringTag,{value:"Module"})),zq={slug:"holiday-beach",title:"Holiday Beach in Ontario",time:"2.5 Hours",tags:["Canada","Ontario"],description:"A birders heaven in Southern Ontario Conservation Area. Purple Martin galore.",thumbnail:"https://live.staticflickr.com/65535/54467898510_e4443fa885_b.jpg",address:"6952 50 Cr, Amherstburg, ON N0R 1G0",cost:"Free",date:"April 20 2025",difficulty:"1/10",rating:"9/10",geojsonTrailPath:"/adventureBlog/holiday-beach/holiday-beach-trail.geojson",iNatTrailPath:"/adventureBlog/holiday-beach/holiday-beach-inat.geojson",content:()=>E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"Holiday Beach is a beautiful conservation area with lots of birds to look out for! It features a hawk tower, shoreline, and a boardwalk. It was a very relaxed walk/hike and I would recommend it to anyone in the area."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54467802698_4f05ab3ef8_b.jpg"}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54467898510_e4443fa885_b.jpg"}),E.jsx("br",{})]})},pce=Object.freeze(Object.defineProperty({__proto__:null,default:zq},Symbol.toStringTag,{value:"Module"})),Uq={slug:"idaho-foothills",title:"Boise Idaho Foothills Evening Hike",tags:["America"],description:"A beautiful walk around the Boise Idaho foothills. Flowers in full bloom!",thumbnail:"https://live.staticflickr.com/65535/54448566722_abb1c96795_c.jpg",address:"Boise, Idaho, 43.650931, -116.224047",cost:"Free",date:"April 10 2025",difficulty:"2/10",rating:"9/10",geojsonTrailPath:"/adventureBlog/idaho-foothills/idaho-foothills-trail.geojson",iNatTrailPath:"/adventureBlog/idaho-foothills/idaho-foothills-inat.geojson",content:()=>E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"Having just driven in after a 7 hour drive from Washington, I was looking for a quick and easy hike to acquaint myself with the area. I quickly looked around and found these foothills nearby the city. I was happy I stopped as this was such an easy and satisfying hike to see the surrounding city and to view the natural beauty of the area. It was already 6 pm and the sun was setting around 8 pm which meant I had just the right amount of time to catch a little bit of the sunset as I finished the hike. The parking was quite easy but it was very limited as it was a busy spot."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54449430906_48c1cd8c51_c.jpg",alt:"Boise Foothills evening view"}),E.jsx("br",{}),E.jsx("p",{children:"The trail circled around a large hill and offered 360 panoramic views of the area. On one side of the hill was the sprawling city of Boise and on the other side was endless hills and valleys. I met a botanist on the trail who happened to be looking for a new species of flower. The botanist was able to tell me all about the local plants that we were passing by on the hills. It was very much an unexpected treat and a break in my solitude from the long day on the road."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54449433926_b2135c21d2_c.jpg",alt:"Views from the Boise Foothills trail"}),E.jsx("br",{}),E.jsx("p",{children:"Yellow flowering plants could be seen in almost every direction. I found out from the botanist and iNaturalist that they were called Arrowleaf Balsamroot. They are referred to as the Oregon sunflower which I thought was fitting! You can check out what that looks like in the picture below. There was also a lot of Big Sagebrush which can be seen in all the landscape photos."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54449614604_d4516f5448_c.jpg",alt:"Arrowleaf Balsamroot in Boise Foothills"}),E.jsx("br",{}),E.jsx("p",{children:"This was my first hike along my road trip from Vancouver to Ottawa. The first few days were very cold and gross on the West Coast so I opted not to hike earlier than this on the trip."}),E.jsx("br",{})]})},fce=Object.freeze(Object.defineProperty({__proto__:null,default:Uq},Symbol.toStringTag,{value:"Module"})),qq={slug:"jacks-peak",title:"Jack's Peak in Salt Lake City",time:"2.5 Hours",tags:["America"],description:"A very steep and exposed hike in the mountains around Salt Lake City.",thumbnail:"https://live.staticflickr.com/65535/54463322148_b97f434987_b.jpg",address:"1835 Carrigan Canyon Dr, Salt Lake City, UT 84109 (Street Parking)",cost:"Free",date:"April 14 2025",difficulty:"7/10",rating:"9/10",geojsonTrailPath:"/adventureBlog/jacks-peak/jacks-peak-trail.geojson",iNatTrailPath:"/adventureBlog/jacks-peak/jacks-peak-inat.geojson",content:()=>E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"This hike is a perfect day trip, only taking about 2 hours despite stopping plenty of times to look at wildflowers and admire the panoramic view. Jack's Peak is named in honor of Jack Edwards, a young boy who passed away from leukemia in 1995. At the top of the peak is a mailbox where visitors leave letters to Jack and his family. The mailbox at the peak can be seen below and in the thumbnail."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54463322148_b97f434987_b.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"While the trail isn't too long, the steep inclines definitely get the heart pumping and it would be quite slippery in winter or after rain. Jack's Peak does not know the meaning of switchbacks, as most of it goes straight up at a steep incline. The trail is very accessible with easy street parking. It was somewhat busy and popular with locals seeking exercise. We met an older couple at the top who said they do it multiple times a week as the trail is only 10 minutes from their home. As a bonus, the trail was FULL of various wildflowers  check the iNaturalist photos to see some."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54462223807_01ace1e6c6_b.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"Reviews mentioned the trail being buggy, but that was far from the truth (at least by Ontario standards). We experienced a few wasps and other flying critters that mostly ignored us. The strong wind kept most of them away. The trail afforded beautiful views almost the entire way with nothing obstructing the view. I would 100% recommend checking this trail out. The trail is about 4 km long, but get ready for some steep elevation in the first 2 km."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54463254084_34006ce879_b.jpg"}),E.jsx("br",{})]})},mce=Object.freeze(Object.defineProperty({__proto__:null,default:qq},Symbol.toStringTag,{value:"Module"})),Bq={slug:"king-mountain",title:"Alternate Route to King Mountain in Gatineau Park",time:"3 Hours",tags:["Canada","Ontario","Ottawa","Gatineau Park"],description:"A hidden gem in Gatineau that extends the King Mountain trail",thumbnail:"https://inaturalist-open-data.s3.amazonaws.com/photos/513683184/large.jpg",address:"Street Parking (45.4837, -75.8676)",cost:"Free",date:"May 31 2025",difficulty:"6/10",rating:"8/10",geojsonTrailPath:"/adventureBlog/king-mountain/king-mountain-trail.geojson",iNatTrailPath:"/adventureBlog/king-mountain/king-mountain-inat.geojson",content:()=>E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"King Mountain is a short but very popular trail and it is often difficult to find parking at the traditional trail head for it. This alternate trail provides an excellent option for ease of parking and an extension which adds over 300 meters of elevation to the trail."}),E.jsx("br",{}),E.jsx("p",{children:"The trail begins with lots of elevation and slowly levels out as it takes you closer to King Mountain. There is unfortuantely a small uphill part along the road."}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://inaturalist-open-data.s3.amazonaws.com/photos/513683184/large.jpg"}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://inaturalist-open-data.s3.amazonaws.com/photos/513683563/large.jpg"}),E.jsx("br",{})]})},yce=Object.freeze(Object.defineProperty({__proto__:null,default:Bq},Symbol.toStringTag,{value:"Module"})),Gq={slug:"mer-bleu",title:"Mer Bleue Peat Bog Trail",time:"3 Hours",tags:["Canada","Ontario","Ottawa"],description:"Mer Bleu is a unique and beautiful board walk hike through a peat bog",thumbnail:"https://inaturalist-open-data.s3.amazonaws.com/photos/508106265/large.jpg",address:"5063 Ridge Rd, Ramsayville, ON K0A 1K0",cost:"Free",date:"May 20 2025",difficulty:"1/10",rating:"8/10",geojsonTrailPath:"/adventureBlog/mer-blue/mer-blue-trail.geojson",iNatTrailPath:"/adventureBlog/mer-blue/mer-blue-inat.geojson",content:()=>E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"Mer Bleu is a unique board walk hike through a large peat bog. The trail head is a short walk to the start of the board walk. The trailhead has plenty of parking. If you are in the mood for a longer hike, you can park at 4980 Ridge Rd instead and extend the hike by a few kilometers through the forest before you eventually get to the board walk. The difficulty for this hike is non-existant but it is still highly rated due to how enjoyable it is to walk through the bog on the board walk. The ecosystem is unique and thriving."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://inaturalist-open-data.s3.amazonaws.com/photos/508103273/large.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"Along our walk to the board walk, we ran into a group of rather intimidating turkeys. There is tons of wild life to see in the area including turtles, frogs and birds. There is also a local beaver in the area!"}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://inaturalist-open-data.s3.amazonaws.com/photos/508104999/large.jpg"}),E.jsx("br",{})]})},gce=Object.freeze(Object.defineProperty({__proto__:null,default:Gq},Symbol.toStringTag,{value:"Module"})),Hq={slug:"pine-grove",title:"Pine Grove Trail in the Ottawa Green Belt",time:"1.5 Hours",tags:["Canada","Ontario","Ottawa"],description:"A customizable walk through the Ottawa Green Belt",thumbnail:"https://inaturalist-open-data.s3.amazonaws.com/photos/504173747/large.jpg",address:"Pine Grove Trail Head (45.3542, -75.5921)",cost:"Free",date:"May 12 2025",difficulty:"1/10",rating:"8/10",geojsonTrailPath:"/adventureBlog/pine-grove/pine-grove-trail.geojson",iNatTrailPath:"/adventureBlog/pine-grove/pine-grove-inat.geojson",content:()=>E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"Pine Grove is a well travelled trail in the Green Belt of Ottawa that can be as long or short as you would like. The trail is easy to walk and is basically a path. It can be great for kids and long strolls after work if you live nearby."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://inaturalist-open-data.s3.amazonaws.com/photos/504173676/large.jpg"}),E.jsx("br",{})]})},vce=Object.freeze(Object.defineProperty({__proto__:null,default:Hq},Symbol.toStringTag,{value:"Module"})),Wq={slug:"point-pelee",title:"A Walk Around Point Pelee, the Most Southern Tip of Main Land Canada During Bird Migration",tags:["Canada","Ontario"],time:"3 Hours",description:"For a couple minutes, we were the most southern Canadians on this beautiful beach. There were also bird everywhere.",thumbnail:"https://live.staticflickr.com/65535/54466709407_61d0ab14f8_b.jpg",address:"1118 Point Pelee Dr, Leamington, ON N8H 3V4",cost:"25 Dollar (Day Pass)",date:"April 21 2025",difficulty:"3/10",rating:"10/10",geojsonTrailPath:"/adventureBlog/point-pelee/point-pelee-trail-1.geojson",iNatTrailPath:"/adventureBlog/point-pelee/point-pelee-inat.geojson",content:()=>E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"Point Pelee was an absolute blast. The price to enter for a single day was rather steep at 25 dollars. However, the energy in the park was unbeatable. It was on the tail end of the bird migration season and there were people and birds everywhere! I loved being able to climb up the hawk tower and take in a whole view of the park."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://live.staticflickr.com/65535/54467743019_d456b8a619_b.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"The highlight of the hike was definitely the beach at the very tip. It was extremely windy and waves were crashing into the sand from all directions. We took off our shoes and waded through the water. It was magical. For a few minutes, we were the most southern Canadian on the main Canadian land mass."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://live.staticflickr.com/65535/54467743034_3cd18f660c_b.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"I would highly recommend visiting! The whole place was teeming with wildlife."}),E.jsx("br",{})]})},wce=Object.freeze(Object.defineProperty({__proto__:null,default:Wq},Symbol.toStringTag,{value:"Module"})),Zq={slug:"salish-trail",title:"Salish Trail by UBC",tags:["Canada","British Columbia"],description:"My first hiking blog! A very short and sweet hike to test out my new camera...",thumbnail:"adventureBlog/salish-trail/thumbnail.jpg",address:"Acadia Beach Parking Lot",cost:"Free Parking & No Permit",date:"January 28 2025",difficulty:"2/10",rating:"5/10",geojsonTrailPath:"/adventureBlog/salish-trail/salish-trail.geojson",iNatTrailPath:"/adventureBlog/salish-trail/2025-01-28.geojson",content:()=>E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"Salish Trail was a cute and easy hike to access from Metro Vancouver. The trail has very close by free parking and allows you to explore the rocky beach and the lush forest. Despite going in January, there was still lots to see such as insects, birds, and many fun plants."}),E.jsx("br",{}),E.jsx("p",{children:"The hike will not take you long and has many options in the area to shorten or lengthen the hike. During the winters of Vancouver, this is an easy spot to hit if you dont want to venture into the mountains and the snow."}),E.jsx("br",{}),E.jsx("p",{children:"We started the trail by walking along the water on the Foreshore trail before heading back up to the Salish trail where we spent a majority of our time. This was a super relaxed hike thats main purpose was to gather fun INaturalist photos!"}),E.jsx("br",{}),E.jsx("p",{children:"I hope you get the time to check this place out and enjoy a slice of Nature so close to the city!"})]})},bce=Object.freeze(Object.defineProperty({__proto__:null,default:Zq},Symbol.toStringTag,{value:"Module"})),Yq={slug:"salt-lake",title:"Great Salt Lake Walk",time:"1 Hour",tags:["America"],description:"Eerie, weird, beautiful and otherworldly walk around the Great Salt Lake.",thumbnail:"https://live.staticflickr.com/65535/54463415410_a418d8f5b4_b.jpg",address:"40.746964, -112.186063",cost:"Free",date:"April 13 2025",difficulty:"1/10",rating:"7/10",geojsonTrailPath:"/adventureBlog/salt-lake/salt-lake-trail.geojson",iNatTrailPath:"/adventureBlog/salt-lake/salt-lake-inat.geojson",content:()=>E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"Since I was in Salt Lake City, I figured I had to check out the Great Salt Lake. The internet seemed to state that visiting the lake close to the city was a waste of time. I honestly found it to be an interesting and unique experience. The lake is drying up due to climate change and other factors and may not exist in about 5 years. Therefore, forget what the internet says and go see it for yourself. The parking experience was a little weird, but the coordinates above have a small gravel lot where many other tourists parked. I got out of my car and started walking around; it was very flat with beautiful mountains in the background. The ground and sand near the lake were clearly covered with salt and crunched as I walked along it. Check out the salt formations below."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54463318518_f70169dbd9_b.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"The walk was very eerie and empty. There seemed to be nothing for kilometers. I saw a few shore birds which you can check on the map and in the iNaturalist photos. The creepiest part was the numerous bird corpses littered around the lake  likely hundreds in my view. The birds apparently died in the thousands from avian influenza in 2024, primarily affecting the Eared Grebe which migrates over the Great Salt Lake. The salt slowed their decomposition, producing the gnarly photos I captured. Besides the dead birds, the landscape felt barren and hostile."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54463054586_6526ffd38e_b.jpg"}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://inaturalist-open-data.s3.amazonaws.com/photos/486178837/large.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"The Great Salt Lake was not as dramatic as other hikes in the area. However, if you have the time, I would recommend checking it out."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54463415410_a418d8f5b4_b.jpg"}),E.jsx("br",{})]})},_ce=Object.freeze(Object.defineProperty({__proto__:null,default:Yq},Symbol.toStringTag,{value:"Module"})),Jq={slug:"slc-foothills",title:"Salt Lake City Foothills",time:"1 Hour",tags:["America"],description:"A quick little strange hike in the foothills of Salt Lake City!",thumbnail:"https://live.staticflickr.com/65535/54455241984_ccee4b6242_b.jpg",address:"40.484, -112.0483",cost:"Free",date:"April 11 2025",difficulty:"6/10",rating:"7/10",geojsonTrailPath:"/adventureBlog/slc-foothills/slc-foothills-trail.geojson",iNatTrailPath:"/adventureBlog/slc-foothills/slc-foothills-inat.geojson",content:()=>E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"A quick little strange hike in the foothills of Salt Lake City. It felt more like a horse riding trail than a hike, but was beautiful nonetheless. If you're in the area and looking for a quick evening hike, it can scratch the itch. The area is under heavy development and it was not busy. There wasn't a single other person on the trail. The hike started off very relaxed and eventually grew steeper and steeper until it was basically straight up. If you kept following the trail, you'd eventually make your way to an American flag pole. Near where I stopped, there seemed to be a grave and a fort-like structure. I didn't check it out and was running out of sunlight so I backtracked to the car."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54455241984_ccee4b6242_b.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"The segment of the trail I did was very short, but had 300 meters of elevation which made a very tiring ordeal. The photo above shows the view facing away from the city and was gorgeous and rugged with the snow-capped mountains in the background over the rolling hills. The photo below shows the sprawling suburbs of Salt Lake City. At the end of the hike I saw a Common Sagebrush Lizard which was exciting!"}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54454206212_28141c7a6e_b.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"Ultimately the trail was a little strange and had an eerie vibe since I was the only one there. I would recommend another trail if you have the choice."}),E.jsx("br",{})]})},Sce=Object.freeze(Object.defineProperty({__proto__:null,default:Jq},Symbol.toStringTag,{value:"Module"})),Kq={slug:"table-rock",title:"Table Rock Hike and a Little Extra",tags:["America"],description:"Beautiful hike in Boise Idaho with panoramic views of Boise and a fun history!",thumbnail:"https://live.staticflickr.com/65535/54449674848_c753bb5173_c.jpg",address:"2421 E Old Penitentiary Rd, Boise, ID 83712",cost:"Free",date:"April 10 2025",difficulty:"6/10",rating:"10/10",geojsonTrailPath:"/adventureBlog/table-rock/table-rock-trail.geojson",iNatTrailPath:"/adventureBlog/table-rock/table-rock-inat.geojson",content:()=>E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"Beautiful hike in Boise Idaho with panoramic views of Boise and a fun history! I chose a terrible day to do this hike as it was 30 degrees and HOT. This was my second and last day in Boise and I wanted to make the most of it. Despite the heat, I headed out for the hike. It featured stunning panoramic views of the city and the landscape, interesting limestone cliffs and lizards! Being from Ottawa, I don't get to see lizards often which was exciting."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54449795485_11016bffb7_c.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"At the very top of the trail was a massive white cross that had been built in the 50s by a man who wanted to inspire the local community."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54449674848_c753bb5173_c.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"The beginning of the trail was pretty flat and accessible and meandered up and around hills. It was deceivingly easy in the beginning and then quickly began to increase in elevation at the halfway mark. In the image below, if you squint really hard you can barely make out the massive white cross overlooking the city. The picture does not do it justice  this cross and hill could be seen from anywhere in the city below."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54449617714_d0305ac270_c.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"Once all the elevation was complete, the top of Table Rock was very flat and maybe about a half kilometer wide. This allowed for a perimeter walk around the top which gave way to beautiful natural views of rolling hills and valleys. There was a steep cliff on one side which afforded the views below and on the other side was an abandoned limestone quarry."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54449617709_3c7df62b83_c.jpg"}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54449795490_235e5b5c40_c.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"The perimeter walk also had many close up views of what I believe are limestone rocks. The mine is long decommissioned but shows history quite well. The old penitentiary below was also decommissioned in the 1970s but it was of note because the walls and buildings of the penitentiary had been built with the very limestone pulled from the earth on top of Table Rock. I also learned that the inmates were responsible for working in the mine. I thought it was quite darkly humorous that inmates helped build and improve the prison. You can clearly see the walls of the penitentiary below and draw similarities between the rock type on Table Rock and the walls/buildings."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54449795495_6b68f3e61a_c.jpg"}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54449951109_615fcd6e3c_c.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"Below is some rubble that looks like it was left over from when the mine was active. There was a lot more than what was visible in this photo and the area was off limits to explore unfortunately."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54448901747_c758bd3a2e_c.jpg"}),E.jsx("br",{})]})},xce=Object.freeze(Object.defineProperty({__proto__:null,default:Kq},Symbol.toStringTag,{value:"Module"})),Xq={slug:"terra-nova",title:"Terra Nova Park & Geocaching",tags:["Canada","British Columbia"],description:"Geocaching and Naturalist walk around Terra Nova Park. Lots and LOTS of birds.",thumbnail:"https://inaturalist-open-data.s3.amazonaws.com/photos/470650964/large.jpg",address:"2520 River Rd, Richmond, BC V7C 1A1",cost:"Free Parking & No Permit",date:"February 16 2025",difficulty:"1/10",rating:"7/10",geojsonTrailPath:"/adventureBlog/terra-nova/terra-nova-trail.geojson",iNatTrailPath:"/adventureBlog/terra-nova/terra-nova-inat.geojson",content:()=>E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"Terra Nova Park was a great urban and tiny park nestled into Richmond. The park had trails along the water and was teeming with birds. There are many fun and easy geocaches nearby. If you go yourself, check the log books for DVS."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"/adventureBlog/terra-nova/DV.JPG",alt:"Terra Nova Park"}),E.jsx("br",{}),E.jsx("p",{children:"It was a bit muddy, perhaps due to the time of the year. Definitely bring a pair of boots. There was lots of parking and you should have no trouble finding it if you head to where the trail starts. A pair of binoculars will come in handy and let us see shore birds!"}),E.jsx("br",{}),E.jsx("p",{children:"Through and through, it was a beautiful day to be out and about in Vancouver."})]})},Tce=Object.freeze(Object.defineProperty({__proto__:null,default:Xq},Symbol.toStringTag,{value:"Module"})),Qq={slug:"top-trail",title:"Pacific Spirit Loop",tags:["Canada","British Columbia"],description:"A beautiful and surprisingly secluded loop via Pacific Spirit Park. Lots of tree coverage.",thumbnail:"https://inaturalist-open-data.s3.amazonaws.com/photos/471299632/large.jpg",address:"W 29th Ave, Vancouver, BC V6N 2C4",cost:"Free Parking & No Permit",date:"February 19 2025",difficulty:"4/10",rating:"8/10",geojsonTrailPath:"/adventureBlog/top-trail/pacific-spirit-top-trail.geojson",iNatTrailPath:"/adventureBlog/top-trail/top-trail-inat.geojson",content:()=>E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"This trail was a great way to be immersed in nature while still remaining in the city of Vancouver. Parking was extremely easy to find on the street and was free. The trail is well marked and there was a washroom conveniently located at the trail head. During the walk, it rained the whole time but we found relief in the thick forest tree coverage. We saw a few people, but had the trail to ourselves for most of it. There were quite a few dog walkers and runners."}),E.jsx("br",{}),E.jsx("p",{children:"The trail took us longer than expected but we stopped for many photos as you can see for yourself on the map. We saw lots of cool vegetation, a slug and plenty of fun fungi to photograph. The trail is very customizable as it can be shortened or lengthened depending on how far you want to trek. Ultimately, we would recommend this trail, especially on an all so common rainy Vancouver day."})]})},$ce=Object.freeze(Object.defineProperty({__proto__:null,default:Qq},Symbol.toStringTag,{value:"Module"})),eB={slug:"wolf-trail",title:"Wolf Trail in Gatineau Park",time:"3 Hours",tags:["Canada","Ontario","Ottawa","Gatineau Park","Swimming"],description:"One of Gatineau Parks most popular and well balanced hikes",thumbnail:"https://inaturalist-open-data.s3.amazonaws.com/photos/510224064/large.jpg",address:"P13 (905 Chem. du Lac-Meech, Chelsea, QC J9B 1H9)",cost:"Free",date:"May 24 2025",difficulty:"7/10",rating:"7/10",geojsonTrailPath:"/adventureBlog/wolf-trail/wolf-trail-trail.geojson",iNatTrailPath:"/adventureBlog/wolf-trail/wolf-trail-inat.geojson",content:()=>E.jsxs(E.Fragment,{children:[E.jsx("p",{children:"Wolf Trail is a classic Gatineau Park hike that is easily accessible from Ottawa via Old Chelsea. The trail has a nice amount of elevation and is a loop which is great if you hate back tracking. The parking can be very difficult to find, especially during the Fall or on weekends. There is another parking lot down the street which has a connecting trail to wolf trail and can be a useful backup."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://inaturalist-open-data.s3.amazonaws.com/photos/510224064/large.jpg"}),E.jsx("br",{}),E.jsx("p",{children:"You will find a few different vistas throughout the trail that afford nice views of the valley below. My favourite part of the hike is is the segment of trail that goes along a rocky ridge. There is a bench to sit on where you can relax and take in the views. The trail is open year round and can be used for snowshoeing in the winter. In the summer, there is a beach near the parking lot which has great swimming and is a perfect spot to cool off after a hike."}),E.jsx("br",{}),E.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://inaturalist-open-data.s3.amazonaws.com/photos/510219543/large.jpg"}),E.jsx("br",{})]})},Mce=Object.freeze(Object.defineProperty({__proto__:null,default:eB},Symbol.toStringTag,{value:"Module"}));function Ece(){const[t,e]=W.useState([]),[i,r]=W.useState(""),[s,n]=W.useState(null);window.scrollTo(0,0),W.useEffect(()=>{const m=Object.values(Object.assign({"../components/blogs/adventureBlogs/blogs/ampersand-mountain/index.tsx":Rq,"../components/blogs/adventureBlogs/blogs/bell-canyon/index.tsx":Iq,"../components/blogs/adventureBlogs/blogs/blue-mountain/index.tsx":Pq,"../components/blogs/adventureBlogs/blogs/bruce-peninsula/index.tsx":jq,"../components/blogs/adventureBlogs/blogs/buggy-ride/index.tsx":Nq,"../components/blogs/adventureBlogs/blogs/coney-mountain/index.tsx":Dq,"../components/blogs/adventureBlogs/blogs/findlay-drainage/index.tsx":Lq,"../components/blogs/adventureBlogs/blogs/hidden-falls/index.tsx":Vq,"../components/blogs/adventureBlogs/blogs/hitchcock/index.tsx":Fq,"../components/blogs/adventureBlogs/blogs/holiday-beach/index.tsx":zq,"../components/blogs/adventureBlogs/blogs/idaho-foothills/index.tsx":Uq,"../components/blogs/adventureBlogs/blogs/jacks-peak/index.tsx":qq,"../components/blogs/adventureBlogs/blogs/king-mountain/index.tsx":Bq,"../components/blogs/adventureBlogs/blogs/mer-bleu/index.tsx":Gq,"../components/blogs/adventureBlogs/blogs/pine-grove/index.tsx":Hq,"../components/blogs/adventureBlogs/blogs/point-pelee/index.tsx":Wq,"../components/blogs/adventureBlogs/blogs/salish-trail/index.tsx":Zq,"../components/blogs/adventureBlogs/blogs/salt-lake/index.tsx":Yq,"../components/blogs/adventureBlogs/blogs/slc-foothills/index.tsx":Jq,"../components/blogs/adventureBlogs/blogs/table-rock/index.tsx":Kq,"../components/blogs/adventureBlogs/blogs/terra-nova/index.tsx":Xq,"../components/blogs/adventureBlogs/blogs/top-trail/index.tsx":Qq,"../components/blogs/adventureBlogs/blogs/wolf-trail/index.tsx":eB})).sort((v,w)=>{const _=x=>x.date?new Date(x.date).getTime():0;return _(w)-_(v)});e(m)},[]);const o=W.useMemo(()=>{const c=new Set;return t.forEach(d=>{var m;return(m=d.tags)==null?void 0:m.forEach(v=>c.add(v))}),Array.from(c)},[t]),l=W.useMemo(()=>t.filter(c=>{var v;const d=c.title.toLowerCase().includes(i.toLowerCase())||c.description.toLowerCase().includes(i.toLowerCase()),m=!s||((v=c.tags)==null?void 0:v.includes(s));return d&&m}),[t,i,s]);return E.jsxs("section",{className:"max-w-6xl mx-auto px-4 py-15 text-center",children:[E.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-3 mb-8",children:[E.jsx("input",{type:"text",placeholder:"Search posts...",value:i,onChange:c=>r(c.target.value),className:"w-full sm:w-1/2 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400"}),E.jsxs("select",{value:s??"",onChange:c=>n(c.target.value||null),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400",children:[E.jsx("option",{value:"",children:"All Tags"}),o.map(c=>E.jsx("option",{value:c,children:c.charAt(0).toUpperCase()+c.slice(1)},c))]})]}),l.length===0?E.jsx("p",{className:"text-gray-400 italic",children:"No posts found"}):E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:l.map(c=>{var d;return E.jsxs("a",{href:`/#/adventure-blog/${c.slug}`,className:"block bg-white rounded-2xl shadow-md hover:shadow-xl overflow-hidden transition-all cursor-pointer",children:[E.jsx("img",{src:c.thumbnail,alt:c.title,className:"w-full h-48 object-cover"}),E.jsxs("div",{className:"p-5 text-left",children:[E.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:c.title}),E.jsx("p",{className:"text-gray-600 text-sm mb-1",children:c.description}),E.jsx("p",{className:"text-gray-500 text-xs",children:c.date}),E.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:(d=c.tags)==null?void 0:d.map(m=>E.jsx("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-0.5 rounded-full",children:m},m))})]})]},c.slug)})})]})}const Ace="modulepreload",Oce=function(t){return"/"+t},h8={},re=function(e,i,r){let s=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(i.map(c=>{if(c=Oce(c),c in h8)return;h8[c]=!0;const d=c.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":Ace,d||(v.as="script"),v.crossOrigin="",v.href=c,l&&v.setAttribute("nonce",l),document.head.appendChild(v),d)return new Promise((w,_)=>{v.addEventListener("load",w),v.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${c}`)))})}))}function n(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&n(l.reason);return e().catch(n)})};function h(t,e,i,r){var s=arguments.length,n=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,i):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(t,e,i,r);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(n=(s<3?o(n):s>3?o(e,i,n):o(e,i))||n);return s>3&&n&&Object.defineProperty(e,i,n),n}function $Pe(t,e){return function(i,r){e(i,r,t)}}function MPe(t,e,i,r){function s(n){return n instanceof i?n:new i(function(o){o(n)})}return new(i||(i=Promise))(function(n,o){function l(m){try{d(r.next(m))}catch(v){o(v)}}function c(m){try{d(r.throw(m))}catch(v){o(v)}}function d(m){m.done?n(m.value):s(m.value).then(l,c)}d((r=r.apply(t,e||[])).next())})}function EPe(t,e,i){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,s;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],i&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(n){return Promise.reject(n)}}),t.stack.push({value:e,dispose:r,async:i})}else i&&t.stack.push({async:!0});return e}var kce=typeof SuppressedError=="function"?SuppressedError:function(t,e,i){var r=new Error(i);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function APe(t){function e(n){t.error=t.hasError?new kce(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}var i,r=0;function s(){for(;i=t.stack.pop();)try{if(!i.async&&r===1)return r=0,t.stack.push(i),Promise.resolve().then(s);if(i.dispose){var n=i.dispose.call(i.value);if(i.async)return r|=2,Promise.resolve(n).then(s,function(o){return e(o),s()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}let Sc;const Tr=globalThis;function q(t){return typeof Sc[t]=="function"?Sc[t]=Sc[t](Tr):Sc[t]}var Tz,$z,Mz,Ez;Sc=(Tz=Tr.dojoConfig)!=null&&Tz.has||($z=Tr.esriConfig)!=null&&$z.has?{...(Mz=Tr.dojoConfig)==null?void 0:Mz.has,...(Ez=Tr.esriConfig)==null?void 0:Ez.has}:{},q.add=(t,e,i,r)=>{(r||Sc[t]===void 0)&&(Sc[t]=e),i&&q(t)},q.cache=Sc,q.add("big-integer-warning-enabled",!0),q.add("esri-deprecation-warnings",!0),q.add("esri-tests-disable-screenshots",!1),q.add("esri-tests-use-full-window",!1),q.add("esri-tests-post-to-influx",!0),q.add("esri-cim-animations-enable-status","enabled"),q.add("esri-cim-animations-spotlight",!1),q.add("esri-cim-animations-freeze-time",!1),(()=>{var e;q.add("host-webworker",Tr.WorkerGlobalScope!==void 0&&self instanceof Tr.WorkerGlobalScope);const t=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(q.add("host-browser",t),q.add("host-node",!(typeof Tr.process!="object"||!((e=Tr.process.versions)!=null&&e.node)||!Tr.process.versions.v8)),q.add("dom",t),q("host-browser")){const i=navigator,r=i.userAgent,s=i.appVersion,n=parseFloat(s);if(q.add("wp",parseFloat(r.split("Windows Phone")[1])||void 0),q.add("msapp",parseFloat(r.split("MSAppHost/")[1])||void 0),q.add("khtml",s.includes("Konqueror")?n:void 0),q.add("edge",parseFloat(r.split("Edge/")[1])||void 0),q.add("opr",parseFloat(r.split("OPR/")[1])||void 0),q.add("webkit",!q("wp")&&!q("edge")&&parseFloat(r.split("WebKit/")[1])||void 0),q.add("chrome",!q("edge")&&!q("opr")&&parseFloat(r.split("Chrome/")[1])||void 0),q.add("android",!q("wp")&&parseFloat(r.split("Android ")[1])||void 0),q.add("safari",!s.includes("Safari")||q("wp")||q("chrome")||q("android")||q("edge")||q("opr")?void 0:parseFloat(s.split("Version/")[1])),q.add("mac",s.includes("Macintosh")),!q("wp")&&/(iPhone|iPod|iPad)/.test(r)){const o=RegExp.$1.replace(/P/,"p"),l=/OS ([\d_]+)/.test(r)?RegExp.$1:"1",c=parseFloat(l.replace(/_/,".").replaceAll("_",""));q.add(o,c),q.add("ios",c)}q("webkit")||(!r.includes("Gecko")||q("wp")||q("khtml")||q("edge")||q.add("mozilla",n),q("mozilla")&&q.add("ff",parseFloat(r.split("Firefox/")[1]||r.split("Minefield/")[1])||void 0))}})(),(()=>{if(Tr.navigator){const t=navigator.userAgent,e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(t),i=/iPhone/i.test(t);e&&q.add("esri-mobile",e),i&&q.add("esri-iPhone",i),q.add("esri-geolocation",!!navigator.geolocation)}q.add("esri-wasm","WebAssembly"in Tr),q.add("esri-performance-mode-frames-between-render",20),q.add("esri-force-performance-mode",!1),q.add("esri-shared-array-buffer",()=>{const t="SharedArrayBuffer"in Tr,e=Tr.crossOriginIsolated===!1;return t&&!e}),q.add("wasm-simd",()=>{const t=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(t))}),q.add("esri-atomics","Atomics"in Tr),q.add("esri-workers","Worker"in Tr),q.add("web-feat:cache","caches"in Tr),q.add("esri-workers-arraybuffer-transfer",!q("safari")||Number(q("safari"))>=12),q.add("workers-pool-size",8),q.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),q.add("featurelayer-simplify-payload-size-factors",[1,1,4]),q.add("featurelayer-fast-triangulation-enabled",!0),q.add("featurelayer-animation-enabled",!0),q.add("featurelayer-snapshot-enabled",!0),q.add("featurelayer-snapshot-initial-tolerance",0),q.add("featurelayer-snapshot-point-min-threshold",8e4),q.add("featurelayer-snapshot-point-max-threshold",4e5),q.add("featurelayer-snapshot-multipoint-min-threshold",2e4),q.add("featurelayer-snapshot-multipoint-max-threshold",1e5),q.add("featurelayer-snapshot-polygon-min-threshold",2e3),q.add("featurelayer-snapshot-polygon-max-threshold",2e3),q.add("featurelayer-snapshot-polyline-min-threshold",2e3),q.add("featurelayer-snapshot-polyline-max-threshold",2e3),q.add("featurelayer-snapshot-max-vertex-count",25e4),q.add("featurelayer-snapshot-non-hosted-exceedslimit-enabled",!0),q.add("featurelayer-snapshot-concurrency",4),q.add("featurelayer-snapshot-coverage",.1),q.add("featurelayer-query-max-depth",4),q.add("featurelayer-query-pausing-enabled",!1),q.add("featurelayer-query-tile-concurrency",4),q.add("featurelayer-query-tile-max-features",6e5),q.add("featurelayer-advanced-symbols",!1),q.add("featurelayer-pbf",!0),q.add("featurelayer-pbf-statistics",!1),q.add("feature-layers-workers",!0),q.add("feature-polyline-generalization-factor",1),q.add("parquetlayer-full-query-feature-count",2e4),q.add("parquetlayer-hittest-max-feature-count",1),q.add("mapview-transitions-duration",200),q.add("mapview-essential-goto-duration",200),q.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),q.add("mapserver-pbf-version-support",10.81),q.add("mapservice-popup-identify-max-tolerance",20),q.add("request-queue-concurrency-hosted",16),q.add("request-queue-concurrency-non-hosted",4),q.add("curve-densification-coarse-segments",128),q.add("curve-densification-max-segments",2e3),q.add("curve-densification-min-segments",3),q.add("curve-densification-pixel-deviation",.5),q.add("view-readyState-waiting-delay",1e3),q.add("gradient-depth-bias",.01),q.add("gradient-depth-epsilon",1e-8),q.add("enable-feature:esri-compress-textures",!0),q("host-webworker")||q("host-browser")&&(q.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),q.add("esri-url-encodes-apostrophe",()=>{const t=window.document.createElement("a");return t.href="?'",t.href.includes("?%27")}))})();const d8=new WeakMap;function Cce(t,e,i=!1){const r=` DEPRECATED - ${e}`;if(!i)return void t.warn(r);let s=d8.get(t);s||(s=new Set,d8.set(t,s)),s.has(e)||(s.add(e),t.warn(r))}const DS="https://www.esriurl.com/";function FC(t,e,i,r={}){q("esri-deprecation-warnings")&&Uc(t,`This widget is deprecated. Use the ${e} component instead.`,{see:[`${e} component reference: ${DS}${i}/`,`Esri's move to web components: ${DS}components-transition-plan/`],replacement:`<${i}></${i}>`,warnOnce:!0,...r})}function Rce(t,e,i,r={}){q("esri-deprecation-warnings")&&Uc(t,`This view model is deprecated. Use the ${e} component directly instead.`,{see:[`${e} component reference: ${DS}${i}/`,`Esri's move to web components: ${DS}components-transition-plan/`],replacement:`<${i}></${i}>`,warnOnce:!0,...r})}function Ice(t,e,i={}){q("esri-deprecation-warnings")&&Uc(t,`Module: ${e}`,i)}function tB(t,e,i={}){if(q("esri-deprecation-warnings")){const{moduleName:r}=i;Uc(t,`Function: ${(r?r+"::":"")+e+"()"}`,i)}}function qE(t,e,i={}){if(q("esri-deprecation-warnings")){const{moduleName:r}=i;Uc(t,`Property: ${(r?r+"::":"")+e}`,i)}}function Pce(t,e,i={}){q("esri-deprecation-warnings")&&Uc(t,`Multiple argument constructor: ${e}`,{warnOnce:!0,replacement:`new ${e}({ <your properties here> })`,...i})}function Uc(t,e,i={}){if(q("esri-deprecation-warnings")){const{replacement:r,version:s,see:n,warnOnce:o}=i;let l=e;if(r&&(l+=`
	 Replacement: ${r}`),s&&(l+=`
	 Version: ${s}`),n)if(Array.isArray(n)){l+=`
	 See for more details:`;for(const c of n)l+=`
		${c}`}else l+=`
	 See ${n} for more details.`;Cce(t,l,o)}}function OPe(t){const e=[];return function*(){yield*e;let i,r=e.length;for(;!(i=t.next()).done;)for(e.push(i.value),yield i.value;++r<e.length;)yield e[r]}}function jce(t,e){for(const i of t)if(i!=null&&e(i))return i}function LS(t){return t!=null&&typeof t[Symbol.iterator]=="function"}let rg=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach(i=>{e+=i.length}),e}add(e,i){if(LS(e)){const r=this._getOrCreateGroup(i);for(const s of e)f8(s)&&r.push(s)}else f8(e)&&this._getOrCreateGroup(i).push(e);return this}forEach(e,i){if(typeof e=="function")this._groups.forEach(r=>r.forEach(e));else{const r=this._getGroup(e);r&&i&&r.forEach(i)}}has(e){return this._groups.has(u_(e))}remove(e){if(typeof e!="string"&&LS(e)){for(const i of e)this.remove(i);return this}return this.has(e)?(p8(this._getGroup(e)),this._groups.delete(u_(e)),this):this}removeAll(){return this._groups.forEach(p8),this._groups.clear(),this}removeReference(e){return this._groups.delete(e),this}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const i=[];return this._groups.set(u_(e),i),i}_getGroup(e){return this._groups.get(u_(e))}};function u_(t){return t||"_default_"}function p8(t){for(const e of t)e instanceof rg?e.removeAll():e.remove()}function f8(t){return t!=null&&(!!t.remove||t instanceof rg)}function CPe(t){}function Nce(t){return()=>t}function RPe(t){return t}var Ls;let Dce=(Ls=class{constructor(e=1){this._seed=e}set seed(e){this._seed=e??Math.random()*Ls._m}getInt(){return this._seed=(Ls._a*this._seed+Ls._c)%Ls._m,this._seed}getFloat(){return this.getInt()/(Ls._m-1)}getIntRange(e,i){return Math.round(this.getFloatRange(e,i))}getFloatRange(e,i){const r=i-e;return e+this.getInt()/Ls._m*r}},Ls._m=2147483647,Ls._a=48271,Ls._c=0,Ls);const Lce=1.5,IPe=1/Lce,PPe=.5;function iB(t){return t}function Vce(t,e=iB){if(!t||t.length===0)return;let i=t[0],r=e(i);for(let s=1;s<t.length;++s){const n=t[s],o=Number(e(n));o>r&&(r=o,i=n)}return i}function jPe(t,e=iB){return Vce(t,i=>-e(i))}function NPe(t,e){return e?t.filter((i,r,s)=>s.findIndex(e.bind(null,i))===r):Array.from(new Set(t))}function Fce(t,e,i,r,s,n,o){if(t==null&&r==null)return!0;e=Math.max(0,e),s=Math.max(0,s),i=Math.max(0,i<0?((t==null?void 0:t.length)??0)+i:i),n=Math.max(0,n<0?((r==null?void 0:r.length)??0)+n:n);const l=i-e;if(t==null||r==null||l!==n-s)return!1;if(o){for(let c=0;c<l;c++)if(!o(t[e+c],r[s+c]))return!1}else for(let c=0;c<l;c++)if(t[e+c]!==r[s+c])return!1;return!0}function Jx(t,e,i){return Fce(t,0,(t==null?void 0:t.length)??0,e,0,(e==null?void 0:e.length)??0,i)}function DPe(){return(t,e)=>{if(t==null&&e==null)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}}function m8(t,e,i){let r,s;return i?(r=e.filter(n=>!t.some(o=>i(o,n))),s=t.filter(n=>!e.some(o=>i(o,n)))):(r=e.filter(n=>!t.includes(n)),s=t.filter(n=>!e.includes(n))),{added:r,removed:s}}function LPe(t){return t&&typeof t.length=="number"}function VPe(t,e){const i=t.length;if(i===0)return[];const r=[];for(let s=0;s<i;s+=e)r.push(t.slice(s,s+e));return r}let rB=class{constructor(){this.last=0}};const sB=new rB;function BE(t,e,i,r){r=r||sB;const s=Math.max(0,r.last-10);for(let o=s;o<i;++o)if(t[o]===e)return r.last=o,o;const n=Math.min(s,i);for(let o=0;o<n;++o)if(t[o]===e)return r.last=o,o;return-1}function GE(t,e,i,r){const s=t.length,n=BE(t,e,s,r);if(n!==-1)return t[n]=t[s-1],t.pop(),e}const _o=new Set;function zce(t,e,i=t.length,r=e.length,s,n){if(r===0||i===0)return i;_o.clear();for(let l=0;l<r;++l)_o.add(e[l]);s=s||sB;const o=Math.max(0,s.last-10);for(let l=o;l<i;++l)if(_o.has(t[l])&&(n==null||n.push(t[l]),_o.delete(t[l]),t[l]=t[i-1],--i,--l,_o.size===0||i===0))return _o.clear(),i;for(let l=0;l<o;++l)if(_o.has(t[l])&&(n==null||n.push(t[l]),_o.delete(t[l]),t[l]=t[i-1],--i,--l,_o.size===0||i===0))return _o.clear(),i;return _o.clear(),i}function Uce(t,e){let i=0;for(let r=0;r<t.length;++r){const s=t[r];e(s,r)&&(t[i]=s,i++)}return t.length=i,t}function zPe(t,e,i){const r=t.length;if(e>=r)return t.slice();const s=nB(i),n=new Set,o=[];for(;o.length<e;){const l=Math.floor(s()*r);n.has(l)||(n.add(l),o.push(t[l]))}return o}function nB(t){return t?(y8.seed=t,()=>y8.getFloat()):Math.random}const y8=new Dce;function UPe(t,e){if(!t)return t;const i=nB(e);for(let r=t.length-1;r>0;r--){const s=Math.floor(i()*(r+1)),n=t[r];t[r]=t[s],t[s]=n}return t}function zC(t,e){const i=t.indexOf(e);return i!==-1?(t.splice(i,1),e):null}function qc(t,e){return t!=null}const qPe=[];function BPe(t){return t instanceof ArrayBuffer}function UC(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Int8Array"}function oB(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Uint8Array"}function aB(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Uint8ClampedArray"}function qC(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Int16Array"}function lB(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Uint16Array"}function BC(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Int32Array"}function uB(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Uint32Array"}function qce(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Float16Array"}function Kx(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Float32Array"}function Xx(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Float64Array"}function Bce(t){return"buffer"in t}const cB=1024;function GPe(t){return Xx(t)||Kx(t)||BC(t)||qC(t)||UC(t)}function HPe(t){return Xx(t)||Kx(t)}function WPe(t){return Xx(t)?179769e303:qce(t)?65504:Kx(t)?3402823e32:uB(t)?4294967295:lB(t)?65535:oB(t)||aB(t)?255:BC(t)?2147483647:qC(t)?32767:UC(t)?127:256}const ZPe=-32768,YPe=-2147483648;function JPe(t){return t}function Gce(t,e){let i;for(i in t)t.hasOwnProperty(i)&&t[i]===void 0&&delete t[i];return t}function G(t){if(!t||typeof t!="object"||typeof t=="function")return t;const e=pB(t);if(e!=null)return e;if(Yv(t))return t.clone();if(hB(t))return t.map(G);if(dB(t))throw new Error("Trying to clone an unclonable Accessor instance");const i={};for(const r of Object.getOwnPropertyNames(t))i[r]=G(t[r]);return i}function HE(t,e){if(!t||typeof t!="object"||typeof t=="function"||"HTMLElement"in globalThis&&t instanceof HTMLElement)return t;const i=pB(t);if(i!=null)return i;if(hB(t)){let s=!0;const n=t.map(o=>{const l=HE(o,e);return o!=null&&l==null&&(s=!1),l});return s?n:null}if(Yv(t))return t.clone(e);if(t instanceof File||t instanceof Blob)return t;if(dB(t))return null;const r=new(Object.getPrototypeOf(t)).constructor;for(const s of Object.getOwnPropertyNames(t)){const n=t[s],o=HE(n);if(n!=null&&o==null)return null;r[s]=o}return r}function Yv(t){return typeof t.clone=="function"}function hB(t){return typeof t.map=="function"&&typeof t.forEach=="function"}function dB(t){return typeof t.notifyChange=="function"&&typeof t.watch=="function"}function g8(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function pB(t){if(UC(t)||oB(t)||aB(t)||qC(t)||lB(t)||BC(t)||uB(t)||Kx(t)||Xx(t))return t.slice();if(t instanceof Date)return new Date(t);if(t instanceof ArrayBuffer)return t.slice(0,t.byteLength);if(t instanceof Map){const e=new Map;for(const[i,r]of t)e.set(i,G(r));return e}if(t instanceof Set){const e=new Set;for(const i of t)e.add(G(i));return e}return null}function GC(t,e){return t===e||typeof t=="number"&&isNaN(t)&&typeof e=="number"&&isNaN(e)||typeof(t==null?void 0:t.getTime)=="function"&&typeof(e==null?void 0:e.getTime)=="function"&&t.getTime()===e.getTime()||!1}function fB(t,e){return t===e||(t==null||typeof t=="string"?t===e:typeof t=="number"?t===e||typeof e=="number"&&isNaN(t)&&isNaN(e):t instanceof Date?e instanceof Date&&t.getTime()===e.getTime():Array.isArray(t)?Array.isArray(e)&&Jx(t,e):t instanceof Set?e instanceof Set&&Wce(t,e):t instanceof Map?e instanceof Map&&Zce(t,e):!!g8(t)&&g8(e)&&Hce(t,e))}function Hce(t,e){if(t===null||e===null)return!1;const i=Object.keys(t);if(e===null||Object.keys(e).length!==i.length)return!1;for(const r of i)if(t[r]!==e[r]||!Object.prototype.hasOwnProperty.call(e,r))return!1;return!0}function Wce(t,e){if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0}function Zce(t,e){if(t.size!==e.size)return!1;for(const[i,r]of t){const s=e.get(i);if(s!==r||s===void 0&&!e.has(i))return!1}return!0}function HC(t,e,i=!1){return yB(t,e,i)}function Qx(t,e){if(e!=null)return e[t]||mB(t.split("."),!1,e)}function bs(t,e,i){const r=t.split("."),s=r.pop(),n=mB(r,!0,i);n&&s&&(n[s]=e)}function v8(t,e){if(t==null&&e==null)return!1;if(t==null||e==null)return!0;if(typeof t=="object"){if(Array.isArray(t)){const i=e;if(t.length!==i.length)return!0;for(let r=0;r<t.length;r++)if(v8(t[r],i[r]))return!0;return!1}if(Object.keys(t).length!==Object.keys(e).length)return!0;for(const i in t)if(v8(t[i],e[i]))return!0;return!1}return t!==e}function mB(t,e,i){let r=i;for(const s of t){if(r==null)return;if(!(s in r)){if(!e)return;r[s]={}}r=r[s]}return r}function yB(t,e,i){return e?Object.keys(e).reduce((r,s)=>{if(s==="__proto__")return r;let n=r[s],o=e[s];return n===o?r:n===void 0?(r[s]=G(o),r):(Array.isArray(o)||Array.isArray(r)?(n=n?Array.isArray(n)?r[s]=n.slice():r[s]=[n]:r[s]=[],o&&(Array.isArray(o)||(o=[o]),i?o.forEach(l=>{n.includes(l)||n.push(l)}):r[s]=o.slice())):o&&typeof o=="object"?r[s]=yB(n,o,i):r.hasOwnProperty(s)&&!e.hasOwnProperty(s)||(r[s]=o),r)},t||{}):t}function KPe(t,e){for(const i of Object.entries(t))if(e===i[1])return i[0]}function eT(t,e){return Object.values(t).includes(e)}var Az;const dt={apiKey:void 0,apiKeys:{scopes:[]},applicationName:"",applicationUrl:(Az=globalThis.location)==null?void 0:Az.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(HC(dt,globalThis.esriConfig,!0),delete dt.has),!dt.assetsPath){{const t="4.34";dt.assetsPath=`https://js.arcgis.com/${t}/@arcgis/core/assets`}dt.defaultAssetsPath=dt.assetsPath}const Yce=/\{([^}]+)\}/g;function w8(t){return t??""}function _p(t,e){return e?t.replaceAll(Yce,typeof e=="object"?(i,r)=>w8(Qx(r,e)):(i,r)=>w8(e(r))):t}function XPe(t,e){return t.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,i=>e!=null&&e.includes(i)?i:`\\${i}`)}function gB(t){let e=0;for(let i=0;i<t.length;i++)e=(e<<5)-e+t.charCodeAt(i),e|=0;return e}let b8;function QPe(t){return b8??(b8=new DOMParser),b8.parseFromString(t||"","text/html").body.innerText||""}function eje(t,e){return new RegExp(`{${e}}`,"ig").test(t)}function tje(t,...e){let i=t[0];for(let r=0;r<e.length;++r)i+=e[r]+t[r+1];return i}const _8={info:0,warn:1,error:2,none:3};var Ri;let se=(Ri=class{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},e.level!=null&&(this.level=e.level),e.writer!=null&&(this.writer=e.writer),this._module=e.module,Ri._loggers.set(this.module,this);const i=this.module.lastIndexOf(".");i!==-1&&(this._parent=Ri.getLogger(this.module.slice(0,i)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){}static get test(){}static getLogger(e){return e=typeof e!="string"?e.declaredClass:e,Ri._loggers.get(e)||new Ri({module:e})}_log(e,i,...r){if(this._matchLevel(e)){if(i!=="always"&&!Ri._throttlingDisabled){const s=Kce(r),n=this._loggedMessages[e].get(s);if(i==="once"&&n!=null||i==="oncePerTick"&&n&&n>=Ri._tickCounter)return;this._loggedMessages[e].set(s,Ri._tickCounter),Ri._scheduleTickCounterIncrement()}for(const s of dt.log.interceptors)if(s(e,this.module,...r))return;this._inheritedWriter()(e,this.module,...r)}}_parentWithMember(e,i){let r=this;for(;r!=null;){const s=r[e];if(s!=null)return s;r=r.parent}return i}_inheritedWriter(){return this._parentWithMember("writer",Jce)}_matchLevel(e){const i=dt.log.level||"warn";return _8[this._parentWithMember("level",i)]<=_8[e]}static _scheduleTickCounterIncrement(){Ri._tickCounterScheduled||(Ri._tickCounterScheduled=!0,Promise.resolve().then(()=>{Ri._tickCounter++,Ri._tickCounterScheduled=!1}))}},Ri._loggers=new Map,Ri._tickCounter=0,Ri._tickCounterScheduled=!1,Ri._throttlingDisabled=!1,Ri);function Jce(t,e,...i){console[t](`[${e}]`,...i)}function Kce(...t){return gB(JSON.stringify(t,(i,r)=>typeof r!="object"||Array.isArray(r)?r:"[Object]"))}function vB(t,e){if(t==null)throw new Error(e??"value is None")}function ti(t){return t==null||t.destroy(),null}function ije(t){return t==null||t.dispose(),null}function Dt(t){return t==null||t.remove(),null}function sp(t){return t==null||t.abort(),null}function rje(t){return t==null||t.release(),null}function Xce(t,e,i){return t!=null&&e!=null?i!=null?i(t,e):t.equals(e):t===e}function Qce(t,e){let i;return t.some((r,s)=>(i=e(r,s),i!=null)),i??void 0}const wB=Symbol("Accessor-beforeDestroy"),ehe={remove:()=>{}};function at(t){return t?{remove(){t&&(t(),t=void 0)}}:ehe}function bB(t){t.forEach(e=>e==null?void 0:e.remove())}function sje(t){bB(t),t.length=0}function Sp(t){return at(()=>bB(t))}function nje(t){return at(()=>{var e;return(e=t())==null?void 0:e.remove()})}function the(t){return at(()=>t==null?void 0:t.abort())}function oje(t){return at(t!=null?()=>t.destroy():void 0)}function ihe(t){return typeof t=="object"&&!!t&&"remove"in t&&typeof t.remove=="function"}function aje(t){ihe(t)&&t.remove()}function lje(t){return{[Symbol.dispose](){t.remove()}}}function _s(t){return t.__accessor__??null}function rhe(t,e){var i;return((i=t==null?void 0:t.metadata)==null?void 0:i[e])!=null}function p2(t,e,i){return i?VS(t,e,{policy:i,path:""}):VS(t,e,null)}function VS(t,e,i){return e?Object.keys(e).reduce((r,s)=>{const n=s;if(n==="__proto__")return r;let o=null,l="merge";if(i&&(o=i.path?`${i.path}.${s}`:s,l=i.policy(o)),l==="replace"||l==="replace-arrays"&&Array.isArray(r[n]))return r[n]=e[n],r;if(r[n]===void 0)return r[n]=G(e[n]),r;let c=r[n],d=e[n];if(c===d)return r;if(Array.isArray(d)||Array.isArray(r))c=c?Array.isArray(c)?r[n]=c.slice():r[n]=[c]:r[n]=[],d&&(Array.isArray(d)||(d=[d]),d.forEach(m=>{c.includes(m)||c.push(m)}));else if(d&&typeof d=="object")if(i){const m=i.path;i.path=o,r[n]=VS(c,d,i),i.path=m}else r[n]=VS(c,d,null);else r.hasOwnProperty(s)&&!e.hasOwnProperty(s)||(r[n]=d);return r},t||{}):t}function _B(t){return Array.isArray(t)?t:t.split(".")}function S8(t){return t.includes(",")?t.split(",").map(e=>e.trim()):[t.trim()]}function she(t){if(Array.isArray(t)){const e=[];for(const i of t)e.push(...S8(i));return e}return S8(t)}function SB(t,e,i,r){const s=she(e);if(s.length!==1){const n=s.map(o=>r(t,o,i));return Sp(n)}return r(t,s[0],i)}function xB(t,e){const i=t.endsWith("?")?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const s=parseInt(i,10);if(!isNaN(s))return Array.isArray(e)?e[s]:e.at(s)}const r=_s(e);return rhe(r,i)?r.get(i):e[i]}function TB(t,e,i){if(t==null)return t;const r=xB(e[i],t);return!r&&i<e.length-1?void 0:i===e.length-1?r:TB(r,e,i+1)}function bw(t,e,i=0){return typeof e!="string"||e.includes(".")?TB(t,_B(e),i):xB(e,t)}function Go(t,e){return bw(t,e)}function x8(t,e){return bw(e,t)!==void 0}const dn={INITIALIZING:0,CONSTRUCTING:1,CONSTRUCTED:2,DESTROYING:3,DESTROYED:4};function sg(t){let e=t.constructor.__accessorMetadata__;const i=Object.prototype.hasOwnProperty.call(t.constructor,"__accessorMetadata__");if(e){if(!i){e=Object.create(e);for(const r in e)e[r]=G(e[r]);Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0})}}else e={},Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0});return t.constructor.__accessorMetadata__}function _w(t,e){const i=sg(t);let r=i[e];return r||(r=i[e]={}),r}function nhe(t,e){return p2(t,e,ahe)}const ohe=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function ahe(t){return ohe.test(t)?"replace":"merge"}function lhe(t){return(t==null?void 0:t.release)&&typeof t.release=="function"}function uhe(t){return(t==null?void 0:t.acquire)&&typeof t.acquire=="function"}var Dc;let ng=(Dc=class{constructor(e,i,r,s=1,n=0){this._creator=e,this._acquireFunction=i,this._releaseFunction=r,this.allocationSize=s,this._pool=new Array(n),this._initialSize=n;for(let o=0;o<n;o++)this._pool[o]=this._creator();this.allocationSize=Math.max(s,1)}destroy(){this.prune(0)}acquire(...e){let i;if(Dc.test.disabled)i=this._creator();else{if(this._pool.length===0){const r=this.allocationSize;for(let s=0;s<r;s++)this._pool[s]=this._creator()}i=this._pool.pop()}return this._acquireFunction?this._acquireFunction(i,...e):uhe(i)&&i.acquire(...e),i}release(e){e&&!Dc.test.disabled&&(this._releaseFunction?this._releaseFunction(e):lhe(e)&&e.release(),this._pool.push(e))}prune(e=this._initialSize){if(!(e>=this._pool.length)){for(let i=e;i<this._pool.length;++i){const r=this._pool[i];this._dispose(r)}this._pool.length=e}}_dispose(e){e.dispose&&typeof e.dispose=="function"&&e.dispose()}},Dc.test={disabled:!!q("esri-tests-disable-memory-pools")},Dc),che=class{constructor(e,i){this._observers=e,this._observer=i}remove(){zC(this._observers,this._observer)}},$B=class{constructor(){this._observers=null,this.destroyed=!1}observe(e){if(this.destroyed||e.destroyed)return hhe;this._observers==null&&(this._observers=[]);const i=this._observers;let r=!1,s=!1;const n=i.length;for(let o=0;o<n;++o){const l=i[o];if(l.destroyed)s=!0;else if(l===e){r=!0;break}}return r||(i.push(e),s&&this._removeDestroyedObservers()),new che(i,e)}_removeDestroyedObservers(){const e=this._observers;if(!e||e.length===0)return;const i=e.length;let r=0;for(let s=0;s<i;++s){for(;s+r<i&&e[s+r].destroyed;)++r;if(r>0){if(!(s+r<i))break;e[s]=e[s+r]}}e.length=i-r}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this._observers;if(e!=null){for(const i of e)i.onCommitted();this._observers=null}}};const hhe=at(),Xt={Dirty:1,Overridden:2,Computing:4,NonNullable:8,HasDefaultValue:16,DepTrackingInitialized:32,AutoTracked:64,ExplicitlyTracking:128};let tT=class{constructor(e){this.accessed=void 0,this._handles=void 0,this._observer=e}destroy(){var e;(e=this.accessed)==null||e.clear(),this.clear()}onAccessed(e){this._observer!=null&&e!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(e))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(e=>{this._handles.push(e.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let e=0;e<this._handles.length;++e)this._handles[e].remove();this._handles.length=0}}};const FS=new tT,iv=[];let Jv=FS;function je(t){Jv.onAccessed(t)}let f2=!1,m2=!1;function hu(t,e,i){if(f2)return WC(t,e,i);let r=null;return MB(t),r=e.call(i),EB(),r}function dhe(t,e){return hu(FS,t,e)}function WC(t,e,i){const r=f2;f2=!0,MB(t);let s=null;try{s=e.call(i)}catch(n){m2&&se.getLogger("esri.core.accessorSupport.tracking").error(n)}return EB(),f2=r,s}function MB(t){Jv=t,iv.push(t)}function EB(){const t=iv.length;if(t>1){const e=iv.pop();Jv=iv[t-2],e.onTrackingEnd()}else if(t===1){const e=iv.pop();Jv=FS,e.onTrackingEnd()}else Jv=FS}function AB(t,e){if(e.flags&Xt.DepTrackingInitialized)return;e.flags|=Xt.DepTrackingInitialized;const i=m2;m2=!1,e.flags&Xt.AutoTracked?WC(e.trackingTarget,e.metadata.get,t):OB(t,e),m2=i}const phe=[];function OB(t,e){e.flags&Xt.ExplicitlyTracking||(e.flags|=Xt.ExplicitlyTracking,WC(e.trackingTarget,()=>{const i=e.metadata.dependsOn||phe;for(const r of i)if(typeof r!="string"||r.includes(".")){const s=_B(r);for(let n=0,o=t;n<s.length&&o!=null&&typeof o=="object";++n)o=T8(o,s[n],n!==s.length-1)}else T8(t,r,!1)}),e.flags&=-129)}function T8(t,e,i){const r=e.endsWith("?")?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const n=parseInt(r,10);if(!isNaN(n))return Array.isArray(t)?t[n]:t.at(n)}const s=_s(t);if(s){const n=s.propertiesByName.get(r);n&&(je(n),AB(t,n))}return i?t[r]:void 0}let $8=class extends $B{constructor(e,i){super(),this.propertyName=e,this.metadata=i,this.trackingTarget=new tT(this),this.flags=0,this.flags=Xt.Dirty|(i.nonNullable?Xt.NonNullable:0)|(i.hasOwnProperty("value")?Xt.HasDefaultValue:0)|(i.get===void 0?Xt.DepTrackingInitialized:0)|(i.dependsOn===void 0?Xt.AutoTracked:0)}destroy(){this.flags&Xt.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(e){e.mutable&&je(this);const i=e.store,r=this.propertyName,s=this.flags,n=i.get(r);if(s&Xt.Computing||~s&Xt.Dirty&&i.has(r))return n;this.flags|=Xt.Computing;const o=e.host;let l;s&Xt.AutoTracked?l=hu(this.trackingTarget,this.metadata.get,o):(OB(o,this),l=this.metadata.get.call(o)),this.flags|=Xt.DepTrackingInitialized,i.set(r,l,1);const c=i.get(r);return c===n?this.flags&=-2:dhe(this.commit,this),this.flags&=-5,c}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=-2,this.onCommitted()}onInvalidated(){~this.flags&Xt.Overridden&&(this.flags|=Xt.Dirty);const e=this._observers;if(e&&e.length>0)for(const i of e)i.onInvalidated()}onCommitted(){const e=this._observers;if(e&&e.length>0){const i=e.slice();for(const r of i)r.onCommitted()}}};const WE=8;function Kl(t){switch(t){case"defaults":return 0;case"service":return 2;case"portal-item":return 3;case"web-scene":return 4;case"web-map":return 5;case"link-chart":return 6;case"user":return 7;default:return null}}function zS(t){switch(t){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"link-chart";case 7:return"user"}}function fhe(t){return zS(t)}let mhe=class kB{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const i=new kB;return this._values.forEach((r,s)=>{e&&e.has(s)||i.set(s,G(r))}),i}get(e){return this._values.get(e)}originOf(){return 7}keys(){return[...this._values.keys()]}set(e,i){this._values.set(e,i)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}isAtOrigin(e,i){return this.has(e)}isBelowOrigin(e,i){return!this.has(e)}forEach(e){this._values.forEach(e)}};function vf(t,e,i){return t!==void 0}function M8(t,e,i,r){return t!==void 0&&(!(i==null&&t.flags&Xt.NonNullable)||(r.lifecycle,!1))}let yhe=class{constructor(e){this.host=e,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=dn.INITIALIZING,this.store=new mhe,this.mutable=!0,this._origin=7;const i=this.host.constructor.__accessorMetadata__;for(const r in i){const s=new $8(r,i[r]);this.propertiesByName.set(r,s)}this.metadata=i}initialize(){this.lifecycle=dn.CONSTRUCTING}constructed(){this.lifecycle=dn.CONSTRUCTED}destroy(){this.lifecycle=dn.DESTROYED,this.propertiesByName.forEach(e=>e.destroy())}get initialized(){return this.lifecycle!==dn.INITIALIZING}get(e){const i=this.propertiesByName.get(e);if(!vf(i))return;if(i.metadata.get)return i.getComputed(this);this.mutable&&je(i);const r=this.store;return r.has(e)?r.get(e):i.metadata.value}originOf(e){const i=this.store.originOf(e);if(i===void 0){const r=this.propertiesByName.get(e);if(r!==void 0&&r.flags&Xt.HasDefaultValue)return"defaults"}return zS(i)}has(e){return this.propertiesByName.has(e)&&this.store.has(e)}keys(){return[...this.propertiesByName.keys()]}internalGet(e){const i=this.propertiesByName.get(e);if(vf(i))return this.store.has(e)?this.store.get(e):i.metadata.value}internalSet(e,i){const r=this.propertiesByName.get(e);vf(r)&&this._internalSet(r,i)}getDependsInfo(e,i,r){const s=this.propertiesByName.get(i);if(!vf(s))return"";const n=new tT,o=hu(n,()=>{var d;return(d=s.metadata.get)==null?void 0:d.call(e)});let l=`${r}${e.declaredClass.split(".").pop()}.${i}: ${o}
`;const c=n.accessed??new Set;if(c.size===0)return l;r+="  ";for(const d of c)d instanceof $8&&(l+=`${r}${d.propertyName}: undefined
`);return l}setAtOrigin(e,i,r){const s=this.propertiesByName.get(e);if(vf(s))return this._setAtOrigin(s,i,r)}isOverridden(e){const i=this.propertiesByName.get(e);return i!==void 0&&!!(i.flags&Xt.Overridden)}clearOrigin(e,i){const r=this.store,s=this.propertiesByName.get(e);if(!vf(s))return;const n=r.isAtOrigin(e,i)&&!(s.flags&Xt.Overridden);r.delete(e,i),n&&s.notifyChange()}clearOverride(e){const i=this.propertiesByName.get(e);i&&i.flags&Xt.Overridden&&(i.flags&=-3,i.notifyChange())}override(e,i){const r=this.propertiesByName.get(e);if(!M8(r,e,i,this))return;const s=r.metadata.cast;if(s){const n=this._cast(s,i),{valid:o,value:l}=n;if(qM.release(n),!o)return;i=l}r.flags|=Xt.Overridden,this._internalSet(r,i)}set(e,i){const r=this.propertiesByName.get(e);if(!M8(r,e,i,this))return;const s=r.metadata.cast;if(s){const o=this._cast(s,i),{valid:l,value:c}=o;if(qM.release(o),!l)return;i=c}const n=r.metadata.set;n?n.call(this.host,i):this._internalSet(r,i)}setDefaultOrigin(e){this._origin=Kl(e)}getDefaultOrigin(){return zS(this._origin)}notifyChange(e){const i=this.propertiesByName.get(e);i!==void 0&&i.notifyChange()}invalidate(e){const i=this.propertiesByName.get(e);i!==void 0&&i.invalidate()}commit(e){const i=this.propertiesByName.get(e);i!==void 0&&i.commit()}_internalSet(e,i){const r=this.lifecycle!==dn.INITIALIZING?this._origin:0;this._setAtOrigin(e,i,r)}_setAtOrigin(e,i,r){const s=this.store,n=e.propertyName;if(s.isAtOrigin(n,r)&&GC(i,s.get(n))&&~e.flags&Xt.Overridden)return;const o=s.isBelowOrigin(n,r)||s.isAtOrigin(n,r);o&&e.invalidate(),s.set(n,i,r),o&&e.commit(),AB(this.host,e)}_cast(e,i){const r=qM.acquire();return r.valid=!0,r.value=i,e&&(r.value=e.call(this.host,i,r)),r}},ghe=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const qM=new ng(()=>new ghe);function vhe(t,e){return t.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(i,r)=>r===""?"$":(Qx(r,e)??"").toString())}let CB=class{constructor(e,i,r=void 0){this.name=e,this.details=r,this.message=(i&&vhe(i,r))??""}toString(){return"["+this.name+"]: "+this.message}},B=class RB extends CB{constructor(e,i,r){super(e,i,r)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(e,i)=>{if(i&&typeof i=="object"&&typeof i.toJSON=="function")return i;try{return G(i)}catch{return"[object]"}}))}}catch(e){throw se.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new RB(e.name,e.message,e.details)}};B.prototype.type="error";function US(t,e,i){if(t&&e)if(typeof e=="object")for(const r of Object.getOwnPropertyNames(e))US(t,r,e[r]);else{if(e.includes(".")){const s=e.split("."),n=s.splice(-1,1)[0];return void US(Go(t,s),n,i)}const r=t.__accessor__;r!=null&&whe(e,r),t[e]=i}}function whe(t,e){if(q("esri-unknown-property-errors")&&!bhe(t,e))throw new B("set:unknown-property",_he(t,e))}function bhe(t,e){return e.metadata[t]!=null}function _he(t,e){return"setting unknown property '"+t+"' on instance of "+e.host.declaredClass}let She;function xhe(){return She}function The(t){t.length=0}let hs=class{constructor(e=50,i=50){this._pool=new ng(()=>[],void 0,The,i,e)}acquire(){return this._pool.acquire()}release(e){this._pool.release(e)}prune(){this._pool.prune(0)}static acquire(){return BM.acquire()}static release(e){return BM.release(e)}static prune(){BM.prune()}};const BM=new hs(100);let IB=class extends ng{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...e){const i=super.acquire(...e);return this._set.delete(i),i}release(e){e&&!this._set.has(e)&&(super.release(e),this._set.add(e))}_dispose(e){this._set.delete(e),super._dispose(e)}};const c_=[];function qS(t){c_.push(t),c_.length===1&&queueMicrotask(()=>{const e=c_.slice();c_.length=0;for(const i of e)i()})}let Kv=class{constructor(e,i=30){this.name=e,this._counter=0,this._samples=new Array(i)}push(e){e!=null&&(this._samples[++this._counter%this._samples.length]=e)}set(e){e!=null&&(this._samples[this._counter%this._samples.length]=e)}get median(){return this._samples.slice().sort((e,i)=>e-i)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((e,i)=>e+i,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};const BS=(t,e,i,r)=>{let s=e,n=e;const o=i>>>1,l=t[s-1];for(;n<=o;){n=s<<1,n<i&&r(t[n-1],t[n])<0&&++n;const c=t[n-1];if(r(c,l)<=0)break;t[s-1]=c,s=n}t[s-1]=l},PB=(t,e)=>t<e?-1:t>e?1:0;function $he(t,e,i,r){i===void 0&&(i=t.length),r===void 0&&(r=PB);for(let n=i>>>1;n>e;n--)BS(t,n,i,r);const s=e+1;for(let n=i-1;n>e;n--){const o=t[e];t[e]=t[n],t[n]=o,BS(t,s,n,r)}}function*Mhe(t,e,i,r){i===void 0&&(i=t.length),r===void 0&&(r=PB);for(let n=i>>>1;n>e;n--)BS(t,n,i,r),yield;const s=e+1;for(let n=i-1;n>e;n--){const o=t[e];t[e]=t[n],t[n]=o,BS(t,s,n,r),yield}}const Ehe=1.5,Ahe=1.1;let jB=class{constructor(e){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new rB,e&&(e.initialSize&&(this.data=new Array(e.initialSize)),e.allocator&&(this._allocator=e.allocator),e.deallocator!==void 0&&(this._deallocator=e.deallocator),e.shrink&&(this._shrink=()=>E8(this)))}toArray(){return this.data.slice(0,this.length)}filter(e){const i=new Array;for(let r=0;r<this._length;r++){const s=this.data[r];e(s)&&i.push(s)}return i}at(e){if((e=Math.trunc(e)||0)<0&&(e+=this._length),!(e<0||e>=this._length))return this.data[e]}includes(e,i){const r=this.data.indexOf(e,i);return r!==-1&&r<this.length}get length(){return this._length}set length(e){if(e>this._length){if(this._allocator){for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=e}else{if(this._deallocator)for(let i=e;i<this._length;++i)this.data[i]=this._deallocator(this.data[i]);this._length=e,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(e){this.data[this._length++]=e}pushArray(e,i=e.length){for(let r=0;r<i;r++)this.data[this._length++]=e[r]}fill(e,i){for(let r=0;r<i;r++)this.data[this._length++]=e}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const e=this.data[this._length];return++this._length,e}unshift(e){this.data.unshift(e),this._length++,E8(this)}pop(){if(this.length===0)return;const e=this.data[this.length-1];return this.length=this.length-1,this._shrink(),e}remove(e){const i=BE(this.data,e,this.length,this._hint);if(i!==-1)return this.data.splice(i,1),this.length=this.length-1,e}removeUnordered(e){return this.removeUnorderedIndex(BE(this.data,e,this.length,this._hint))}removeUnorderedIndex(e){if(!(e>=this.length||e<0))return this.swapElements(e,this.length-1),this.pop()}removeUnorderedMany(e,i=e.length,r){this.length=zce(this.data,e,this.length,i,this._hint,r),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(e,i){if(e>=this.length||i>=this.length||e===i)return;const r=this.data[e];this.data[e]=this.data[i],this.data[i]=r}sort(e){$he(this.data,0,this.length,e)}iterableSort(e){return Mhe(this.data,0,this.length,e)}some(e,i){for(let r=0;r<this.length;++r)if(e.call(i,this.data[r],r,this.data))return!0;return!1}find(e,i){const{data:r,length:s}=this;for(let n=0;n<s;++n)if(e.call(i,r[n]))return r[n]}filterInPlace(e,i){let r=0;for(let s=0;s<this._length;++s){const n=this.data[s];e.call(i,n,s,this.data)&&(this.data[s]=this.data[r],this.data[r]=n,r++)}if(this._deallocator)for(let s=r;s<this._length;s++)this.data[s]=this._deallocator(this.data[s]);return this._length=r,this._shrink(),this}forAll(e,i){const{data:r,length:s}=this;for(let n=0;n<s;++n)e.call(i,r[n],n,r)}forEach(e,i){this.data.slice(0,this.length).forEach(e,i)}map(e,i){const r=new Array(this.length);for(let s=0;s<this.length;++s)r[s]=e.call(i,this.data[s],s,this.data);return r}reduce(e,i){let r=i;for(let s=0;s<this.length;++s)r=e(r,this.data[s],s,this.data);return r}has(e){const i=this.length,r=this.data;for(let s=0;s<i;++s)if(r[s]===e)return!0;return!1}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.data[e]}};function E8(t){t.data.length>Ehe*t.length&&(t.data.length=Math.floor(t.length*Ahe))}function Ohe(t){return{setTimeout:(e,i)=>{const r=t.setTimeout(e,i);return at(()=>t.clearTimeout(r))}}}const og=Ohe(globalThis);function iT(t){return khe(t)||NB(t)}function khe(t){return t!=null&&typeof t=="object"&&"on"in t&&typeof t.on=="function"}function NB(t){return t!=null&&typeof t=="object"&&"addEventListener"in t&&typeof t.addEventListener=="function"}function ag(t,e,i){if(!iT(t))throw new TypeError("target is not a Evented or EventTarget object");return NB(t)?Che(t,e,i):t.on(e,i)}function Che(t,e,i,r){if(Array.isArray(e)){const s=e.slice();for(const n of s)t.addEventListener(n,i,r);return at(()=>{for(const n of s)t.removeEventListener(n,i,r)})}return t.addEventListener(e,i,r),at(()=>t.removeEventListener(e,i,r))}function DB(t,e,i){if(!iT(t))throw new TypeError("target is not a Evented or EventTarget object");if("once"in t)return t.once(e,i);const r=ag(t,e,s=>{r.remove(),i.call(t,s)});return r}function $t(t="Aborted"){return new B("AbortError",t)}function Gt(t,e="Aborted"){if(Kr(t))throw $t(e)}function Sw(t){return t instanceof AbortSignal?t:(t==null?void 0:t.signal)??void 0}function Kr(t){const e=Sw(t);return e!=null&&e.aborted}function Aa(t){if(Cr(t))throw t}function A8(t){if(!Cr(t))throw t}function ao(t,e){const i=Sw(t);if(i!=null){if(!i.aborted)return DB(i,"abort",()=>e());e()}}function ZC(t,e){const i=Sw(t);if(i!=null)return Gt(i),DB(i,"abort",()=>e($t()))}function Rhe(t,e){return Sw(e)==null?t:new Promise((i,r)=>{let s=ao(e,()=>r($t()));const n=()=>{s=Dt(s)};t.then(n,n),t.then(i,r)})}function Cr(t){return(t==null?void 0:t.name)==="AbortError"}async function j1(t){try{return await t}catch(e){if(!Cr(e))throw e;return}}async function YC(t){if(!t)return;if(typeof t.forEach!="function"){const i=Object.keys(t),r=i.map(o=>t[o]),s=await YC(r),n={};return i.map((o,l)=>n[o]=s[l]),n}const e=t;return Promise.allSettled(e).then(i=>Array.from(e,(r,s)=>{const n=i[s];return n.status==="fulfilled"?{promise:r,value:n.value}:{promise:r,error:n.reason}}))}async function Ihe(t){return(await Promise.allSettled(t)).filter(e=>e.status==="fulfilled").map(e=>e.value)}async function bje(t){return(await Promise.allSettled(t)).filter(e=>e.status==="rejected").map(e=>e.reason)}function LB(t,e=void 0,i){const r=new AbortController;return ao(i,()=>r.abort()),new Promise((s,n)=>{let o=setTimeout(()=>{o=0,s(e)},t);ao(r,()=>{o&&(clearTimeout(o),n($t()))})})}function _je(t,e,i,r){const s=i&&"abort"in i?i:null;r!=null||s||(r=i);let n=setTimeout(()=>{n=0,s==null||s.abort()},e);const o=()=>r||new B("promiseUtils:timeout","The wrapped promise did not resolve within "+e+" ms");return t.then(l=>{if(n===0)throw o();return clearTimeout(n),l},l=>{throw clearTimeout(n),n===0?o():l})}function Phe(t,e){const i=new AbortController,r=setTimeout(()=>i.abort(),e);return ao(t,()=>{i.abort(),clearTimeout(r)}),{...t,signal:i.signal}}function Xr(t){return t&&typeof t.then=="function"}function ZE(t){return Xr(t)?t:Promise.resolve(t)}function JC(t,e=-1){let i,r,s,n,o=null;const l=(...c)=>{if(i){r=c,n&&n.reject($t()),n=bn();const w=n.promise;if(o){const _=o;o=null,_.abort()}return w}if(s=n||bn(),n=null,e>0){const w=new AbortController;i=ZE(t(...c,w.signal));const _=i;LB(e).then(()=>{i===_&&(n?w.abort():o=w)})}else i=1,i=ZE(t(...c));const d=()=>{const w=r;r=s=i=o=null,w!=null&&l(...w)},m=i,v=s;return m.then(d,d),m.then(v.resolve,v.reject),v.promise};return l}function bn(){let t,e;const i=new Promise((s,n)=>{t=s,e=n}),r=s=>{t(s)};return r.resolve=s=>t(s),r.reject=s=>e(s),r.timeout=(s,n)=>og.setTimeout(()=>r.reject(n),s),r.promise=i,r}function Sje(t,e){e.then(t.resolve,t.reject)}async function O8(t){await Promise.resolve(),Gt(t)}function xje(t){return t}function jhe(t){return 1e3*t}function Tje(t){return t}function $je(t){return .001*t}let Nhe=class{constructor(e){this.phases=e,this.paused=!1,this.ticks=-1,this.removed=!1}},Dhe=class{constructor(e){this.callback=e,this.isActive=!0}remove(){this.isActive=!1}},YE=0;const O0={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},JE=["prepare","preRender","render","postRender","update","finish"],KE=[],np=new jB;let Lhe=class{constructor(e){this._task=e}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,VB()}};function Vhe(){zd!=null&&(cancelAnimationFrame(zd),zd=requestAnimationFrame(KC))}function VB(){zd==null&&(YE=performance.now(),zd=requestAnimationFrame(KC))}const GS={frameTasks:np,willDispatch:!1,clearFrameTasks:Fhe,dispatch:zB,executeFrameTasks:zhe,reschedule:Vhe};function lg(t){const e=new Dhe(t);return KE.push(e),GS.willDispatch||(GS.willDispatch=!0,qS(zB)),e}function Ry(t){const e=new Nhe(t);return np.push(e),VB(),new Lhe(e)}let zd=null;function Fhe(t=!1){np.forAll(e=>{e.removed=!0}),t&&FB()}function KC(){const t=performance.now();zd=null,zd=np.some(i=>!i.paused&&!i.removed)?requestAnimationFrame(KC):null,GS.executeFrameTasks(t)}function zhe(t){const e=t-YE;YE=t;const i=1e3/60,r=Math.max(0,e-i);O0.time=t,O0.frameDuration=i-r;for(let s=0;s<JE.length;s++){const n=performance.now(),o=JE[s];np.forAll(l=>{var c;l.paused||l.removed||(s===0&&l.ticks++,l.phases[o]&&(O0.elapsedFrameTime=performance.now()-t,O0.deltaTime=l.ticks===0?0:e,(c=l.phases[o])==null||c.call(l,O0)))}),Ghe[s].push(performance.now()-n)}FB(),Hhe.push(performance.now()-t)}const h_=new jB;function FB(){np.forAll(t=>{t.removed&&h_.push(t)}),np.removeUnorderedMany(h_.data,h_.length),h_.clear()}function zB(){for(;KE.length;){const t=KE.shift();t.isActive&&t.callback()}GS.willDispatch=!1}function Uhe(t=1,e){const i=bn(),r=()=>{Kr(e)?i.reject($t()):t===0?i():(--t,qS(()=>r()))};return r(),i.promise}function qhe(t){return Uhe(1,t)}async function Bhe(t){await qhe(t),await new Promise(e=>requestAnimationFrame(()=>{t!=null&&t.aborted||e()}))}const Ghe=JE.map(t=>new Kv(t)),Hhe=new Kv("total");function UB(t,e){for(const i of t.values())if(e(i))return!0;return!1}function k8(t,e){if(!e)return t;for(const i of e)i!=null&&t.add(i);return t}function Oje(t,e){return e!=null&&t.add(e),t}function XC(t,e){const i=new Set;return k8(i,t),k8(i,e),i}function Whe(t,e){const i=new Set;for(const r of e)t.has(r)&&i.add(r);return i}function kje(t,e){if(!t||!e)return!1;if(t===e)return!0;for(const i of t)if(!e.has(i))return!1;return!0}function Cje(t,e){if(t==null&&e==null)return!0;if(t==null||e==null||t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0}function Zhe(t,e){const i=new Set(t);for(const r of e)i.delete(r);return i}function Yhe(t,e){return Zhe(XC(t,e),Whe(t,e))}let Jhe=0;function y2(){return++Jhe}let rT=class extends tT{constructor(e){super(new Khe(e)),this._observer&&C8.register(this,new WeakRef(this._observer),this)}destroy(){var e,i;this._observer&&C8.unregister(this._observer),(e=this.accessed)==null||e.clear(),this.clear(),(i=this._observer)==null||i.destroy()}},Khe=class{constructor(e){this._notify=e,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const e=this._invalidCount;if(e===1)return this._invalidCount=0,void this._notify();this._invalidCount=e>0?e-1:0}destroy(){this.destroyed=!0,this._notify=Xhe}};const C8=new FinalizationRegistry(t=>{var e;(e=t.deref())==null||e.destroy()});function Xhe(){}let Om=!1;const HS=[];function qB(t,e){let i=new rT(n),r=null,s=!1;function n(){if(!i||s)return;if(Om)return void HB(n);const l=r;i.clear(),Om=!0,s=!0,r=hu(i,t),s=!1,Om=!1,e(r,l),WB()}function o(){i&&(i.destroy(),i=null,r=null)}return s=!0,r=hu(i,t),s=!1,at(o)}function BB(t,e){let i=new rT(s),r=null;function s(){e(r,o)}function n(){i&&(i.destroy(),i=null),r=null}function o(){return i?(i.clear(),r=hu(i,t),r):null}return o(),at(n)}function GB(t,e){let i=!1,r=!1;const s=!!(e!=null&&e.sync);let n=new rT(()=>{i||r||(r=!0,s?o():queueMicrotask(o))});function o(){r=!1,n&&!i&&(Om?HB(o):(n.clear(),Om=!0,i=!0,hu(n,t),i=!1,Om=!1,WB()))}function l(){n&&(n.destroy(),n=null)}return i=!0,hu(n,t),i=!1,at(l)}function HB(t){HS.includes(t)||HS.unshift(t)}function WB(){for(;HS.length;)HS.pop()()}var Xd;let QC=(Xd=class{constructor(){this.uid=y2(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(e,i,r,s,n){return this.pool.acquire(0,e,i,r,s,n,GC)}static acquireTracked(e,i,r,s){return this.pool.acquire(1,e,i,r,null,null,s)}notify(e,i){this.type===0?this.callback.call(this.target,e,i,this.path,this.target):this.callback.call(null,e,i,void 0,void 0)}acquire(e,i,r,s,n,o,l){this.uid=y2(),this.removed=!1,this.type=e,this.oldValue=i,this.callback=r,this.getValue=s,this.target=n,this.path=o,this.equals=l}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=y2(),this.removed=!0}},Xd.pool=new IB(()=>new Xd),Xd);const g2=new hs,iu=new Set;let WS;function ZS(t){iu.delete(t),iu.add(t),ZB()}function ZB(){WS||(WS=lg(tde))}function Qhe(t){if(t.removed)return;const e=t.oldValue,i=t.getValue();t.equals(e,i)||(t.oldValue=i,t.notify(i,e))}function ede(t){for(const e of iu.values())e.target===t&&(e.removed=!0)}function tde(){let t=10;for(;WS&&t--;){WS=null;const e=ide(),i=g2.acquire();for(const r of e){const s=r.uid;Qhe(r),s===r.uid&&r.removed&&i.push(r)}for(const r of iu)r.removed&&(i.push(r),iu.delete(r));for(const r of i)QC.pool.release(r);g2.release(i),g2.release(e),XE.forEach(r=>r())}}function ide(){const t=g2.acquire();t.length=iu.size;let e=0;for(const i of iu)t[e]=i,++e;return iu.clear(),t}const XE=new Set;function rde(t){return XE.add(t),at(()=>XE.delete(t))}function sde(t,e,i){let r=SB(t,e,i,(s,n,o)=>{let l,c,d=BB(()=>bw(s,n),(m,v)=>{var w;((w=s.__accessor__)==null?void 0:w.lifecycle)===dn.DESTROYED||l&&l.uid!==c?r.remove():(l||(l=QC.acquireUntracked(m,o,v,s,n),c=l.uid),ZS(l))});return at(()=>{d.remove(),l&&(l.uid!==c||l.removed||(l.removed=!0,ZS(l)),l=null),r=d=null})});return r}function nde(t,e,i){const r=SB(t,e,i,(s,n,o)=>{let l=!1;return qB(()=>bw(s,n),(c,d)=>{s.__accessor__.lifecycle!==dn.DESTROYED?l||(l=!0,GC(d,c)||o.call(s,c,d,n,s),l=!1):r.remove()})});return r}function ode(t,e,i,r=!1){return t.__accessor__&&t.__accessor__.lifecycle!==dn.DESTROYED?r?nde(t,e,i):sde(t,e,i):at()}function ade(t,e,i){let r,s,n=BB(t,(o,l)=>{r&&r.uid!==s?n.remove():(r||(r=QC.acquireTracked(o,e,l,i),s=r.uid),ZS(r))});return at(()=>{n.remove(),r&&(r.uid!==s||r.removed||(r.removed=!0,ZS(r)),r=null),n=null})}function lde(t,e,i){let r=!1;return qB(t,(s,n)=>{r||(r=!0,i(n,s)||e(s,n),r=!1)})}function ude(t,e,i=!1,r=fB){return i?lde(t,e,r):ade(t,e,r)}function R8(t){return UB(iu,e=>e.oldValue===t)}function cde(t,e){for(const i of t.values())if(e(i))return!0;return!1}function Pje(t,e){for(const i of t.values())if(!e(i))return!1;return!0}function jje(t,e){for(const i of t.values())if(e(i))return i;return null}function ug(t,e,i){const r=t.get(e);if(r!==void 0)return r;const s=i();return t.set(e,s),s}function Nje(t){const e=new Map;return i=>(e.has(i)||e.set(i,t(i)),e.get(i))}const Ud=()=>se.getLogger("esri.core.accessorSupport.ensureTypes");function hde(t){if(t==null)return t;const e=new Date(t);return isNaN(e.getTime())?(Ud().error("Accessor#set",`Invalid date value: '${t}', falling back to current date`),new Date):e}function dde(t){return t==null?t:!!t}function xw(t){return t==null?t:t.toString()}function ds(t,e=0){return t==null?t:(t=parseFloat(t),isNaN(t)?e:t)}function eR(t){return t==null?t:Math.round(parseFloat(t))}function pde(t){return null}function fde(t,e){return i=>{let r=t(i);return e.step!=null&&(r=Math.round(r/e.step)*e.step),e.min!=null&&(r=Math.max(e.min,r)),e.max!=null&&(r=Math.min(e.max,r)),r}}function YB(t){return(t==null?void 0:t.constructor)&&t.constructor.__accessorMetadata__!==void 0}function YS(t,e){return e!=null&&t&&!(e instanceof t)}function JB(t){return t&&"isCollection"in t}function I8(t){return t!=null&&t.Type?typeof t.Type=="function"?t.Type:t.Type.base:null}function mde(t,e){if(!(e!=null&&e.constructor)||!JB(e.constructor))return QE(t,e)?e:new t(e);const i=I8(t.prototype.itemType),r=I8(e.constructor.prototype.itemType);return i?r?i===r?e:i.prototype.isPrototypeOf(r.prototype)?new t(e):(QE(t,e),e):new t(e):e}function QE(t,e){return!!YB(e)&&(Ud().error("Accessor#set","Assigning an instance of '"+(e.declaredClass||"unknown")+"' which is not a subclass of '"+sT(t)+"'"),!0)}function Tw(t,e){return e==null?e:JB(t)?mde(t,e):YS(t,e)?QE(t,e)?e:new t(e):e}function sT(t){var e;return((e=t==null?void 0:t.prototype)==null?void 0:e.declaredClass)||"unknown"}const yde=new WeakMap;function gde(t){switch(t){case Number:return e=>ds(e);case ot:return eR;case Boolean:return dde;case String:return xw;case Date:return hde;case nT:return pde;default:return ug(yde,t,()=>Tw.bind(null,t))}}function nr(t,e){const i=gde(t);return arguments.length===1?i:i(e)}function N1(t,e,i){return arguments.length===1?N1.bind(null,t):e&&(Array.isArray(e)?e.map(r=>t(r,i)):[t(e,i)])}function vde(t,e){return arguments.length===1?N1(i=>nr(t,i)):N1(i=>nr(t,i),e)}function KB(t,e,i){return e!==0&&Array.isArray(i)?i.map(r=>KB(t,e-1,r)):t(i)}function JS(t,e,i){if(arguments.length===2)return n=>JS(t,e,n);if(!i)return i;i=KB(t,e,i);let r=e,s=i;for(;r>0&&Array.isArray(s);)r--,s=s[0];if(s!==void 0)for(let n=0;n<r;n++)i=[i];return i}function wde(t,e,i){return arguments.length===2?JS(r=>nr(t,r),e):JS(r=>nr(t,r),e,i)}function XB(t){return!!Array.isArray(t)&&!t.some(e=>{const i=typeof e;return!(i==="string"||i==="number"||i==="function"&&t.length>1)})}function eA(t,e){if(arguments.length===2)return eA(t).call(null,e);const i=new Set,r=t.filter(l=>typeof l!="function"),s=t.filter(l=>typeof l=="function");for(const l of t)typeof l!="string"&&typeof l!="number"||i.add(l);let n=null,o=null;return(l,c)=>{if(l==null)return l;const d=typeof l,m=d==="string"||d==="number";return m&&(i.has(l)||s.some(v=>d==="string"&&v===String||d==="number"&&v===Number))||d==="object"&&s.some(v=>!YS(v,l))?l:(m&&r.length?(n||(n=r.map(v=>typeof v=="string"?`'${v}'`:`${v}`).join(", ")),Ud().error("Accessor#set",`'${l}' is not a valid value for this property, only the following values are valid: ${n}`)):typeof l=="object"&&s.length?(o||(o=s.map(v=>sT(v)).join(", ")),Ud().error("Accessor#set",`'${l}' is not a valid value for this property, value must be one of ${o}`)):Ud().error("Accessor#set",`'${l}' is not a valid value for this property`),c&&(c.valid=!1),null)}}function Bc(t,e){if(arguments.length===2)return Bc(t).call(null,e);const i={},r=[],s=[];for(const c in t.typeMap){const d=t.typeMap[c];i[c]=nr(d),r.push(sT(d)),s.push(c)}const n=()=>`'${r.join("', '")}'`,o=()=>`'${s.join("', '")}'`,l=typeof t.key=="string"?c=>c[t.key]:t.key;return c=>{if(t.base&&!YS(t.base,c)||c==null)return c;const d=l(c)||t.defaultKeyValue,m=i[d];if(!m)return Ud().error("Accessor#set",`Invalid property value, value needs to be one of ${n()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!YS(t.typeMap[d],c))return c;if(typeof t.key=="string"&&!YB(c)){const v={};for(const w in c)w!==t.key&&(v[w]=c[w]);return m(v)}return m(c)}}let ot=class{},nT=class{};const Vje={native:t=>({type:"native",value:t}),array:t=>({type:"array",value:t}),oneOf:t=>({type:"one-of",values:t})};function bde(t){if(!t||!("type"in t))return!1;switch(t.type){case"native":case"array":case"one-of":return!0}return!1}function QB(t){switch(t.type){case"native":return nr(t.value);case"array":return N1(QB(t.value));case"one-of":return _de(t);default:return null}}function _de(t){let e=null;return(i,r)=>iA(i,t)?i:(e==null&&(e=tA(t)),Ud().error("Accessor#set",`Invalid property value, value needs to be of type ${e}`),r&&(r.valid=!1),null)}function tA(t){switch(t.type){case"native":switch(t.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case ot:return"integer";case Date:return"date";case nT:return"null";default:return sT(t.value)}case"array":return`array of ${tA(t.value)}`;case"one-of":{const e=t.values.map(i=>tA(i));return`one of ${e.slice(0,-1)} or ${e[e.length-1]}`}}return"unknown"}function iA(t,e){if(t==null)return!0;switch(e.type){case"native":switch(e.value){case Number:case ot:return typeof t=="number";case Boolean:return typeof t=="boolean";case String:return typeof t=="string";case nT:return t===null}return t instanceof e.value;case"array":return!!Array.isArray(t)&&!t.some(i=>!iA(i,e.value));case"one-of":return e.values.some(i=>iA(t,i))}}function f(t={}){return(e,i)=>{if(e===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${e.name}.${i}. Accessor does not support static properties.`);const r=Object.getOwnPropertyDescriptor(e,i),s=_w(e,i);r&&(r.get||r.set?(s.get=r.get||s.get,s.set=r.set||s.set):"value"in r&&("value"in t&&se.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${i}" on "${e.constructor.name}" already defined in the metadata`,t),s.value=t.value=r.value)),t.readOnly!=null&&(s.readOnly=t.readOnly);const n=t.aliasOf;if(n){const c=typeof n=="string"?n:n.source,d=typeof n=="string"?null:n.overridable===!0;let m;s.dependsOn=[c],s.get=function(){let v=Go(this,c);if(typeof v=="function"){m||(m=c.split(".").slice(0,-1).join("."));const w=Go(this,m);w&&(v=v.bind(w))}return v},s.readOnly||(s.set=d?function(v){this._override(i,v)}:function(v){US(this,c,v)})}const o=t.type,l=t.types;if(!s.cast){let c;o?c=Sde(o):l&&(c=Array.isArray(l)?N1(Bc(l[0])):Bc(l)),t.cast=xde(t.cast,c)}nhe(s,t),t.range&&(s.cast=fde(s.cast,t.range))}}function tR(t,e,i){const r=_w(t,i);r.json||(r.json={});let s=r.json;return e!==void 0&&(s.origins||(s.origins={}),s.origins[e]||(s.origins[e]={}),s=s.origins[e]),s}function Sde(t){let e=0,i=t;if(bde(t))return QB(t);for(;Array.isArray(i)&&i.length===1&&typeof i[0]!="string"&&typeof i[0]!="number";)i=i[0],e++;const r=i;if(XB(r))return e===0?eA(r):JS(eA(r),e);if(e===1)return vde(r);if(e>1)return wde(r,e);const s=t;return s.from?s.from:nr(s)}function xde(t,e){if(t||e)return t?e?(i,r)=>e(t(i,r),r):t:e}function Tde(t){if(t.json&&t.json.origins){const e=t.json.origins,i={"web-document":["web-scene","web-map"]};for(const r in i)if(e[r]){const s=e[r];i[r].forEach(n=>{e[n]=s}),delete e[r]}}}let lo=class extends CB{constructor(e,i,r){super(e,i,r)}};lo.prototype.type="warning";function eG(t){var e;return!!t&&((e=t.prototype)==null?void 0:e.declaredClass)&&t.prototype.declaredClass.indexOf("esri.core.Collection")===0}function $de(t,e){return iR(t,"any",e==null?void 0:e.origin)}function KS(t,e){return iR(t,"read",e==null?void 0:e.origin)}function tG(t,e){return iR(t,"write",e==null?void 0:e.origin)}function iR(t,e,i){let r=t==null?void 0:t.json;if(r!=null&&r.origins&&i){let s;s=i==="link-chart"?r.origins[i]&&(e==="any"||e in r.origins[i])?r.origins[i]:r.origins["web-map"]:r.origins[i],s&&(e==="any"||e in s)&&(r=s)}return r}const rA=()=>se.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function P8(t,e,i){var r,s;t&&(!i&&!e.read||(r=e.read)!=null&&r.reader||((s=e.read)==null?void 0:s.enabled)===!1||Ade(t)&&bs("read.reader",cg(t),e))}function cg(t){var i,r;const e=t.ndimArray??0;if(e>1)return Ede(t);if(e===1)return j8(t);if("type"in t&&rG(t.type)){const s=(r=(i=t.type.prototype)==null?void 0:i.itemType)==null?void 0:r.Type,n=j8(typeof s=="function"?{type:s}:{types:s});return(o,l,c)=>{const d=n(o,l,c);return d&&new t.type(d)}}return rR(t)}function rR(t){return"type"in t?Mde(t.type):Ode(t.types)}function Mde(t){return t.prototype.read?(e,i,r)=>{if(e==null)return e;const s=typeof e;if(s!=="object")return void rA().error(`Expected JSON value of type 'object' to deserialize type '${t.prototype.declaredClass}', but got '${s}'`);const n=new t;return n.read(e,r),n}:t.fromJSON}function iG(t,e,i,r){return r!==0&&Array.isArray(e)?e.map(s=>iG(t,s,i,r-1)):t(e,void 0,i)}function Ede(t){const e=rR(t),i=iG.bind(null,e),r=t.ndimArray??0;return(s,n,o)=>{if(s==null)return s;s=i(s,o,r);let l=r,c=s;for(;l>0&&Array.isArray(c);)l--,c=c[0];if(c!==void 0)for(let d=0;d<l;d++)s=[s];return s}}function j8(t){const e=rR(t);return(i,r,s)=>{if(i==null)return i;if(Array.isArray(i)){const o=[];for(const l of i){const c=e(l,void 0,s);c!==void 0&&o.push(c)}return o}const n=e(i,void 0,s);return n!==void 0?[n]:void 0}}function rG(t){if(!eG(t))return!1;const e=t.prototype.itemType;return!(!e||!e.Type)&&(typeof e.Type=="function"?sR(e.Type):sG(e.Type))}function Ade(t){return"types"in t?sG(t.types):sR(t.type)}function sR(t){return!Array.isArray(t)&&!!t&&t.prototype&&("read"in t.prototype||"fromJSON"in t||rG(t))}function sG(t){for(const e in t.typeMap)if(!sR(t.typeMap[e]))return!1;return!0}function Ode(t){let e=null;const i=t.errorContext??"type",r=t.validate;return(s,n,o)=>{if(s==null)return s;const l=typeof s;if(l!=="object")return void rA().error(`Expected JSON value of type 'object' to deserialize, but got '${l}'`);e||(e=Cde(t));const c=t.key;if(typeof c!="string")return;const d=s[kde(c,e,o)],m=d?e[d]:t.defaultKeyValue?t.typeMap[t.defaultKeyValue]:void 0;if(!m){const w=`Type '${d||"unknown"}' is not supported`;return o!=null&&o.messages&&s&&o.messages.push(new lo(`${i}:unsupported`,w,{definition:s,context:o})),void rA().error(w)}const v=new m;return v.read(s,o),r?r(v):v}}function kde(t,e,i){var l;const r=Object.values(e)[0],s=sg(r.prototype)[t],n=KS(s,i),o=(l=n==null?void 0:n.read)==null?void 0:l.source;return o&&typeof o=="string"?o:t}function Cde(t){var i,r;const e={};for(const s in t.typeMap){const n=t.typeMap[s],o=sg(n.prototype);if(typeof t.key=="function")continue;const l=o[t.key];if(!l)continue;if((i=l.json)!=null&&i.type&&Array.isArray(l.json.type)&&l.json.type.length===1&&typeof l.json.type[0]=="string"){e[l.json.type[0]]=n;continue}const c=(r=l.json)==null?void 0:r.write;if(!(c!=null&&c.writer)){e[s]=n;continue}const d=c.target,m=typeof d=="string"?d:t.key,v={};c.writer(s,v,m),v[m]&&(e[v[m]]=n)}return e}function Rde(t){if(t.json||(t.json={}),D8(t.json),L8(t.json),N8(t.json),t.json.origins)for(const e in t.json.origins)D8(t.json.origins[e]),L8(t.json.origins[e]),N8(t.json.origins[e]);return!0}function N8(t){t.name&&(t.read&&typeof t.read=="object"?t.read.source===void 0&&(t.read.source=t.name):t.read={source:t.name},t.write&&typeof t.write=="object"?t.write.target===void 0&&(t.write.target=t.name):t.write={target:t.name})}function D8(t){typeof t.read=="boolean"?t.read={enabled:t.read}:typeof t.read=="function"?t.read={enabled:!0,reader:t.read}:t.read&&typeof t.read=="object"&&t.read.enabled===void 0&&(t.read.enabled=!0)}function L8(t){typeof t.write=="boolean"?t.write={enabled:t.write}:typeof t.write=="function"?t.write={enabled:!0,writer:t.write}:t.write&&typeof t.write=="object"&&t.write.enabled===void 0&&(t.write.enabled=!0)}function V8(t,e){if(!e.write||e.write.writer||e.write.enabled===!1&&!e.write.overridePolicy)return;const i=(t==null?void 0:t.ndimArray)??0;t&&(i===1||"type"in t&&eG(t.type))?e.write.writer=jde:i>1?e.write.writer=Nde(i):e.types?Array.isArray(e.types)?e.write.writer=Pde(e.types[0]):e.write.writer=Ide(e.types):e.write.writer=D1}function Ide(t){return(e,i,r,s)=>e?nG(e,t,s)?D1(e,i,r,s):void 0:D1(e,i,r,s)}function nG(t,e,i){for(const r in e.typeMap)if(t instanceof e.typeMap[r])return!0;if(i!=null&&i.messages){const r=e.errorContext??"type",s=`Values of type '${(typeof e.key!="function"?t[e.key]:t.declaredClass)??"Unknown"}' cannot be written`;i&&i.messages&&t&&i.messages.push(new B(`${r}:unsupported`,s,{definition:t,context:i})),se.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(s)}return!1}function Pde(t){return(e,i,r,s)=>!e||!Array.isArray(e)?D1(e,i,r,s):D1(e.filter(n=>nG(n,t,s)),i,r,s)}function D1(t,e,i,r){bs(i,XS(t,r),e)}function XS(t,e){return t&&typeof t.write=="function"?t.write({},e):t&&typeof t.toJSON=="function"?t.toJSON():typeof t=="number"?QS(t):t}function QS(t){return t===-1/0?-Number.MAX_VALUE:t===1/0?Number.MAX_VALUE:isNaN(t)?null:t}function jde(t,e,i,r){let s;t===null?s=null:t&&typeof t.map=="function"?(s=t.map(n=>XS(n,r)),typeof s.toArray=="function"&&(s=s.toArray())):s=[XS(t,r)],bs(i,s,e)}function oG(t,e,i){return i!==0&&Array.isArray(t)?t.map(r=>oG(r,e,i-1)):XS(t,e)}function Nde(t){return(e,i,r,s)=>{let n;if(e===null)n=null;else{n=oG(e,s,t);let o=t,l=n;for(;o>0&&Array.isArray(l);)o--,l=l[0];if(l!==void 0)for(let c=0;c<o;c++)n=[n]}bs(r,n,i)}}function Dde(t){var i;const e=Lde(t);if(t.json.origins)for(const r in t.json.origins){const s=t.json.origins[r],n=s.types?Vde(s):e;P8(n,s,!1),s.types&&!s.write&&((i=t.json.write)!=null&&i.enabled)&&(s.write={...t.json.write}),V8(n,s)}P8(e,t.json,!0),V8(e,t.json)}function Lde(t){return t.json.types?sA(t.json):t.type?aG(t):sA(t)}function Vde(t){return t.type?aG(t):sA(t)}function aG(t){if(!t.type)return;let e=0,i=t.type;for(;Array.isArray(i)&&!XB(i);)i=i[0],e++;return{type:i,ndimArray:e}}function sA(t){if(!t.types)return;let e=0,i=t.types;for(;Array.isArray(i);)i=i[0],e++;return{types:i,ndimArray:e}}function Fde(t){Rde(t)&&(Tde(t),Dde(t))}const GM=new Set,HM=new Set;function I(t){return e=>{t??(t="esri.core.Accessor"),e.prototype.declaredClass=t,Ude(e);const i=[],r=[];let s=e.prototype;for(;s;)s.hasOwnProperty("initialize")&&!GM.has(s.initialize)&&(GM.add(s.initialize),i.push(s.initialize)),s.hasOwnProperty("destroy")&&!HM.has(s.destroy)&&(HM.add(s.destroy),r.push(s.destroy)),s=Object.getPrototypeOf(s);GM.clear(),HM.clear();const n=class extends e{constructor(...l){if(super(...l),this.constructor===n&&typeof this.postscript=="function"){if(i.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let c=i.length-1;c>=0;c--)i[c].call(this)}}),r.length){let c=!1;const d=this[wB];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!c){this.__accessor__.lifecycle=dn.DESTROYING,c=!0,d.call(this);for(let m=0;m<r.length;m++)r[m].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};n.__accessorMetadata__=sg(e.prototype),n.prototype.declaredClass=t;const o=(t||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(n,"name",{value:o,configurable:!0}),n}}function zde(t,e){return e.get==null?function(){const i=this.__accessor__,r=i.propertiesByName.get(t);if(r===void 0)return;i.mutable&&je(r);const s=i.store;return s.has(t)?s.get(t):r.metadata.value}:function(){const i=this.__accessor__,r=i.propertiesByName.get(t);if(r!==void 0)return r.getComputed(i)}}function Ude(t){const e=t.prototype,i=sg(e),r={};for(const s of Object.getOwnPropertyNames(i)){const n=i[s];Fde(n),r[s]={enumerable:!0,configurable:!0,get:zde(s,n),set(o){const l=this.__accessor__;if(l!==void 0){if(l.mutable)return l.initialized&&n.readOnly?F8("read-only",s):l.lifecycle===dn.CONSTRUCTED&&n.constructOnly?F8("construct-only",s):void l.set(s,o)}else Object.defineProperty(this,s,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(t.prototype,r)}const F8=(t,e)=>{se.getLogger("esri.core.Accessor").error(`cannot assign to ${t} property '${e}'`)};var z8,U8;function qde(t){var e;if(t==null)return{value:t};if(Array.isArray(t))return{type:[t[0]],value:null};switch(typeof t){case"object":return(e=t.constructor)!=null&&e.__accessorMetadata__||t instanceof Date?{type:t.constructor,value:t}:t;case"boolean":return{type:Boolean,value:t};case"string":return{type:String,value:t};case"number":return{type:Number,value:t};case"function":return{type:t,value:null};default:return}}const ua=Symbol("Accessor-Handles"),WM=Symbol("Accessor-Initialized");var Lc;let $e=(Lc=class{static createSubclass(e={}){if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:i,declaredClass:r,constructor:s}=e;delete e.declaredClass,delete e.properties,delete e.constructor;const n=this;class o extends n{constructor(...c){super(...c),this.inherited=null,s&&s.apply(this,c)}}sg(o.prototype);for(const l in e){const c=e[l];o.prototype[l]=typeof c=="function"?function(...d){const m=this.inherited;let v;this.inherited=function(...w){if(n.prototype[l])return n.prototype[l].apply(this,w)};try{v=c.apply(this,d)}catch(w){throw this.inherited=m,w}return this.inherited=m,v}:e[l]}for(const l in i){const c=qde(i[l]);f(c)(o.prototype,l)}return I(r)(o)}static freeze(e){return e instanceof Lc?e.__accessor__.mutable=!1:Object.freeze(e),e}static isFrozen(e){return e instanceof Lc?!e.__accessor__.mutable:Object.isFrozen(e)}constructor(...e){var r;if(this[z8]=null,this[U8]=!1,this.constructor===Lc)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const i=new yhe(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:i}),e.length>0&&(i.ctorArgs=((r=this.normalizeCtorArgs)==null?void 0:r.apply(this,e))??e[0])}postscript(){const e=this.__accessor__,i=e.ctorArgs;e.initialize(),i&&(this.set(i),e.ctorArgs=null),e.constructed(),this.initialize(),this[WM]=!0}initialize(){}[wB](){this[ua]=ti(this[ua])}destroy(){var e;this.destroyed||(ede(this),this.__accessor__.destroy(),(e=xhe())==null||e.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[WM]}get destroyed(){var e;return((e=this.__accessor__)==null?void 0:e.lifecycle)===dn.DESTROYED||!1}get destroying(){var e;return((e=this.__accessor__)==null?void 0:e.lifecycle)===dn.DESTROYING||!1}commitProperty(e){Go(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,i){return US(this,e,i),this}watch(e,i,r){return tB(se.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://arcg.is/1vaqf42#watch",warnOnce:!0}),ode(this,e,i,r)}addHandles(e,i){if(this.destroyed){const r=Array.isArray(e)?e:[e];for(const s of r)s.remove();return}(this[ua]??(this[ua]=new rg)).add(e,i)}removeHandles(e){var i;(i=this[ua])==null||i.remove(e)}removeAllHandles(){var e;(e=this[ua])==null||e.removeAll()}removeHandlesReference(e){var i;(i=this[ua])==null||i.removeReference(e)}hasHandles(e){var i;return((i=this[ua])==null?void 0:i.has(e))===!0}_override(e,i){i===void 0?this.__accessor__.clearOverride(e):this.__accessor__.override(e,i)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_overrideIfSome(e,i){i==null?this.__accessor__.clearOverride(e):this.__accessor__.override(e,i)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.notifyChange(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,i){return this.__accessor__.internalSet(e,i),this}},z8=ua,U8=WM,Lc);const Bde=Symbol("ClonableMixin"),rt=t=>{var s;var e;const i=t;let r=(s=class extends i{constructor(){super(...arguments),this[e]=!0}clone(n){var w;const o=_s(this);vB(o,"unable to clone instance of non-accessor class");const l=o.metadata,c=o.store,d={},m=new Map;for(const _ in l){const x=l[_],T=c==null?void 0:c.originOf(_),$=x.clonable;if(x.readOnly||$===!1||T!==7&&T!==0&&T!==5&&T!==4)continue;const O=this[_];let C=null;if(typeof $=="function")C=$(O,n);else if($==="reference")C=O;else if(C=HE(O,n),O!=null&&C==null)continue;T===0?m.set(_,C):d[_]=C}const v=new(Object.getPrototypeOf(this)).constructor(d);if(m.size){const _=(w=_s(v))==null?void 0:w.store;if(_)for(const[x,T]of m)_.set(x,T,0)}return v}},e=Bde,s);return r=h([I("esri.core.Clonable")],r),r},nR=rt($e),oT=t=>{const e=t;class i extends e{constructor(){super(...arguments),this._listenersMap=null}clearEvents(){var s;(s=this._listenersMap)==null||s.clear(),this._listenersMap=null}destroy(){this.clearEvents()}emit(s,n){var c;let o=(c=this._listenersMap)==null?void 0:c.get(s);if(!o)return!1;let l=!1;for(const d of o.slice()){const m="deref"in d?d.deref():d;m?m==null||m.call(this,n):l=!0}return l&&(o=o.filter(d=>!("deref"in d)||d.deref()!=null),this._listenersMap.set(s,o)),o.length>0}on(s,n){if(Array.isArray(s)){const l=s.map(c=>this.on(c,n));return Sp(l)}if(s.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??(this._listenersMap=new Map);const o=this._listenersMap.get(s)||[];return o.push(n),this._listenersMap.set(s,o),at(()=>{var d;const l=(d=this._listenersMap)==null?void 0:d.get(s),c=(l==null?void 0:l.indexOf(n))??-1;c>=0&&l.splice(c,1)})}once(s,n){const o=this.on(s,l=>{o.remove();const c="deref"in n?n.deref():n;c==null||c.call(null,l)});return o}hasEventListener(s){var o;const n=(o=this._listenersMap)==null?void 0:o.get(s);return n!=null&&n.length>0}}return i},lG=oT(class{}),Gde=lG,hg=oT($e);function uG(t){return(e,i)=>{e[i]=t}}let $w=class extends $B{notify(){const e=this._observers;if(e&&e.length>0){const i=e.slice();for(const r of i)r.onInvalidated(),r.onCommitted()}}};function L1(t){return t&&typeof t=="object"&&"toJSON"in t&&typeof t.toJSON=="function"}var yl;let Hde=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}},Wde=class{constructor(e,i,r,s,n){this.target=e,this.added=i,this.removed=r,this.start=s,this.deleteCount=n}};const Ln=new ng(()=>new Hde,void 0,t=>{t.item=null,t.target=null,t.defaultPrevented=!1,t.cancellable=!1});function q8(t){t&&typeof t=="object"&&"destroy"in t&&typeof t.destroy=="function"&&t.destroy()}function ZM(t){return t?t instanceof uc?t.toArray():t.length?Array.prototype.slice.apply(t):[]:[]}function YM(t){if(t!=null&&t.length)return t[0]}function Zde(t,e,i,r){const s=Math.min(t.length-i,e.length-r);let n=0;for(;n<s&&t[i+n]===e[r+n];)n++;return n}function cG(t,e,i,r){e&&e.forEach((s,n,o)=>{t.push(s),cG(t,i.call(r,s,n,o),i,r)})}const Fu=new Set,zu=new Set,Uu=new Set,JM=new Map;let Yde=0,uc=yl=class extends hg{static ofType(t){if(!t)return yl;if(JM.has(t))return JM.get(t);let e=null;if(typeof t=="function")e=t.prototype.declaredClass;else if(t.base)e=t.base.prototype.declaredClass;else for(const r in t.typeMap){const s=t.typeMap[r].prototype.declaredClass;e?e+=` | ${s}`:e=s}let i=class extends yl{};return h([uG({Type:t,ensureType:typeof t=="function"?nr(t):Bc(t)})],i.prototype,"itemType",void 0),i=h([I(`esri.core.Collection<${e}>`)],i),JM.set(t,i),i}static isCollection(t){return t!=null&&t instanceof yl}constructor(t){super(t),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new $w,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:Yde++})}normalizeCtorArgs(t){return t?Array.isArray(t)||t instanceof yl?{items:t}:t:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),super.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return je(this._observable),this._items}set items(t){this._emitBeforeChanges(1)||(this._splice(0,this.length,ZM(t)),this._emitAfterChanges(1))}hasEventListener(t){return!this.destroyed&&(t==="change"?this._chgListeners.length>0:super.hasEventListener(t))}on(t,e){if(this.destroyed)return at();if(t==="change"){const i=this._chgListeners,r={removed:!1,callback:e};return i.push(r),this._notifications&&this._notifications.push({listeners:i.slice(),items:this._items.slice(),changes:[]}),at(()=>{r.removed=!0,i.splice(i.indexOf(r),1)})}return super.on(t,e)}once(t,e){const i="deref"in e?()=>e.deref():()=>e,r=this.on(t,s=>{var n;(n=i())==null||n.call(null,s),r.remove()});return r}add(t,e){if(je(this._observable),this._emitBeforeChanges(1))return this;const i=this.getNextIndex(e??null);return this._splice(i,0,[t]),this._emitAfterChanges(1),this}addMany(t,e=this._items.length){if(je(this._observable),!(t!=null&&t.length))return this;if(this._emitBeforeChanges(1))return this;const i=this.getNextIndex(e);return this._splice(i,0,ZM(t)),this._emitAfterChanges(1),this}at(t){if(je(this._observable),(t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this._items[t]}removeAll(){if(je(this._observable),!this.length||this._emitBeforeChanges(2))return[];const t=this._removeAllRaw();return this._emitAfterChanges(2),t}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return je(this._observable),this._createNewInstance({items:this._items.map(G)})}concat(...t){je(this._observable);const e=t.map(ZM);return this._createNewInstance({items:this._items.concat(...e)})}drain(t,e){if(je(this._observable),!this.length||this._emitBeforeChanges(2))return;const i=this._splice(0,this.length),r=i.length;for(let s=0;s<r;s++)t.call(e,i[s],s,i);this._emitAfterChanges(2)}destroyAll(){this.drain(q8)}destroyMany(t){const e=this.removeMany(t);return e.forEach(q8),e}every(t,e){return je(this._observable),this._items.every(t,e)}filter(t,e){je(this._observable);const i=arguments.length===2?this._items.filter(t,e):this._items.filter(t);return this._createNewInstance({items:i})}find(t,e){return je(this._observable),this._items.find(t,e)}findIndex(t,e){return je(this._observable),this._items.findIndex(t,e)}flatten(t,e){je(this._observable);const i=[];return cG(i,this,t,e),new yl(i)}forEach(t,e){return je(this._observable),this._items.forEach(t,e)}getItemAt(t){return je(this._observable),this._items[t]}getNextIndex(t){je(this._observable);const e=this.length;return(t=t??e)<0?t=0:t>e&&(t=e),t}includes(t,e=0){return je(this._observable),this._items.includes(t,e)}indexOf(t,e=0){return je(this._observable),this._items.indexOf(t,e)}join(t=","){return je(this._observable),this._items.join(t)}lastIndexOf(t,e=this.length-1){return je(this._observable),this._items.lastIndexOf(t,e)}map(t,e){je(this._observable);const i=this._items.map(t,e);return new yl({items:i})}reorder(t,e=this.length-1){je(this._observable);const i=this.indexOf(t);if(i!==-1){if(e<0?e=0:e>=this.length&&(e=this.length-1),i!==e){if(this._emitBeforeChanges(4))return t;this._splice(i,1),this._splice(e,0,[t]),this._emitAfterChanges(4)}return t}}pop(){if(je(this._observable),!this.length||this._emitBeforeChanges(2))return;const t=YM(this._splice(this.length-1,1));return this._emitAfterChanges(2),t}push(...t){return je(this._observable),this._emitBeforeChanges(1)||(this._splice(this.length,0,t),this._emitAfterChanges(1)),this.length}reduce(t,e){je(this._observable);const i=this._items;return arguments.length===2?i.reduce(t,e):i.reduce(t)}reduceRight(t,e){je(this._observable);const i=this._items;return arguments.length===2?i.reduceRight(t,e):i.reduceRight(t)}remove(t){return je(this._observable),this.removeAt(this.indexOf(t))}removeAt(t){if(je(this._observable),t<0||t>=this.length||this._emitBeforeChanges(2))return;const e=YM(this._splice(t,1));return this._emitAfterChanges(2),e}removeMany(t){if(je(this._observable),!(t!=null&&t.length)||this._emitBeforeChanges(2))return[];const e=t instanceof yl?t.toArray():t,i=this._items,r=[],s=e.length;for(let n=0;n<s;n++){const o=e[n],l=i.indexOf(o);if(l>-1){const c=1+Zde(e,i,n+1,l+1),d=this._splice(l,c);d&&d.length>0&&r.push.apply(r,d),n+=c-1}}return this._emitAfterChanges(2),r}reverse(){if(je(this._observable),this._emitBeforeChanges(4))return this;const t=this._splice(0,this.length);return t&&(t.reverse(),this._splice(0,0,t)),this._emitAfterChanges(4),this}shift(){if(je(this._observable),!this.length||this._emitBeforeChanges(2))return;const t=YM(this._splice(0,1));return this._emitAfterChanges(2),t}slice(t=0,e=this.length){return je(this._observable),this._createNewInstance({items:this._items.slice(t,e)})}some(t,e){return je(this._observable),this._items.some(t,e)}sort(t){if(je(this._observable),!this.length||this._emitBeforeChanges(4)||!this._requiresSort(t))return this;const e=this._splice(0,this.length);return arguments.length?e.sort(t):e.sort(),this._splice(0,0,e),this._emitAfterChanges(4),this}_requiresSort(t=(e,i)=>e===i?0:e<i?-1:1){const e=this.length-1;for(let i=0;i<e;i++)if(t(this.items[i],this.items[i+1])>0)return!0;return!1}splice(t,e,...i){je(this._observable),arguments.length===1&&(e=this.length),e??(e=0);const r=(e?2:0)|(i.length?1:0);if(this._emitBeforeChanges(r))return[];const s=this._splice(t,e,i)||[];return this._emitAfterChanges(r),s}toArray(){return je(this._observable),this._items.slice()}toJSON(t){return je(this._observable),this.toArray().map(e=>L1(e)?e.toJSON(t):e)}toLocaleString(){return je(this._observable),this._items.toLocaleString()}toString(){return je(this._observable),this._items.toString()}unshift(...t){return je(this._observable),!t.length||this._emitBeforeChanges(1)||(this._splice(0,0,t),this._emitAfterChanges(1)),this.length}_createNewInstance(t){return new this.constructor(t)}_splice(t,e,i){const r=this._items,s=this.itemType;let n,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=lg(()=>this._dispatchChange())),t<0&&(t+=this.length),e){if(o=r.splice(t,e),this.hasEventListener("before-remove")){const l=Ln.acquire();l.target=this,l.cancellable=!0;for(let c=0,d=o.length;c<d;c++)n=o[c],l.reset(n),this.emit("before-remove",l),l.defaultPrevented&&(o.splice(c,1),r.splice(t,0,n),t+=1,c-=1,d-=1);Ln.release(l)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const l=Ln.acquire();l.target=this,l.cancellable=!1;const c=o.length;for(let d=0;d<c;d++)l.reset(o[d]),this.emit("after-remove",l);Ln.release(l)}}if(i!=null&&i.length){if(s){const m=[];for(const v of i){const w=s.ensureType(v);w==null&&v!=null||m.push(w)}i=m}const l=this.hasEventListener("before-add"),c=this.hasEventListener("after-add"),d=t===this.length;if(l||c){const m=Ln.acquire();m.target=this,m.cancellable=!0;const v=Ln.acquire();v.target=this,v.cancellable=!1;for(const w of i)l?(m.reset(w),this.emit("before-add",m),m.defaultPrevented||(d?r.push(w):r.splice(t++,0,w),this._set("length",r.length),c&&(v.reset(w),this.emit("after-add",v)))):(d?r.push(w):r.splice(t++,0,w),this._set("length",r.length),v.reset(w),this.emit("after-add",v));Ln.release(v),Ln.release(m)}else{if(d)for(const m of i)r.push(m);else r.splice(t,0,...i);this._set("length",r.length)}}if((i!=null&&i.length||o!=null&&o.length)&&this._notifyChangeEvent(i,o),this.hasEventListener("after-splice")){const l=new Wde(this,i,o,t,e);this.emit("after-splice",l)}return o}_emitBeforeChanges(t){let e=!1;if(this.hasEventListener("before-changes")){const i=Ln.acquire();i.target=this,i.cancellable=!0,i.type=t,this.emit("before-changes",i),e=i.defaultPrevented,Ln.release(i)}return e}_emitAfterChanges(t){if(this.hasEventListener("after-changes")){const e=Ln.acquire();e.target=this,e.cancellable=!1,e.type=t,this.emit("after-changes",e),Ln.release(e)}this._observable.notify()}_notifyChangeEvent(t,e){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:t,removed:e})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const t=this._notifications;this._notifications=null;for(const e of t){const i=e.changes;Fu.clear(),zu.clear(),Uu.clear();for(const{added:c,removed:d}of i){if(c)if(Uu.size===0&&zu.size===0)for(const m of c)Fu.add(m);else for(const m of c)zu.has(m)?(Uu.add(m),zu.delete(m)):Uu.has(m)||Fu.add(m);if(d)if(Uu.size===0&&Fu.size===0)for(const m of d)zu.add(m);else for(const m of d)Fu.has(m)?Fu.delete(m):(Uu.delete(m),zu.add(m))}const r=hs.acquire();Fu.forEach(c=>{r.push(c)});const s=hs.acquire();zu.forEach(c=>{s.push(c)});const n=this._items,o=e.items,l=hs.acquire();if(Uu.forEach(c=>{o.indexOf(c)!==n.indexOf(c)&&l.push(c)}),e.listeners&&(r.length||s.length||l.length)){const c={target:this,added:r,removed:s,moved:l},d=e.listeners.length;for(let m=0;m<d;m++){const v=e.listeners[m];v.removed||v.callback.call(this,c)}}hs.release(r),hs.release(s),hs.release(l)}Fu.clear(),zu.clear(),Uu.clear()}};h([f()],uc.prototype,"_updating",void 0),h([f()],uc.prototype,"length",void 0),h([f()],uc.prototype,"items",null),h([f({readOnly:!0})],uc.prototype,"updating",null),uc=yl=h([I("esri.core.Collection")],uc);const ge=uc;let Jde=class hG{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const i=new hG;return this._values.forEach((r,s)=>{e&&e.has(s)||i.set(s,G(r.value),r.origin)}),i}get(e,i){i=this._normalizeOrigin(i);const r=this._values.get(e);return i==null||(r==null?void 0:r.origin)===i?r==null?void 0:r.value:void 0}originOf(e){var i;return((i=this._values.get(e))==null?void 0:i.origin)??7}keys(e){e=this._normalizeOrigin(e);const i=[...this._values.keys()];return e==null?i:i.filter(r=>{var s;return((s=this._values.get(r))==null?void 0:s.origin)===e})}set(e,i,r){if((r=this._normalizeOrigin(r))===0){const s=this._values.get(e);if((s==null?void 0:s.origin)!=null&&s.origin>r)return}this._values.set(e,new Kde(i,r))}delete(e,i){var r;(i=this._normalizeOrigin(i))!=null&&((r=this._values.get(e))==null?void 0:r.origin)!==i||this._values.delete(e)}has(e,i){var r;return(i=this._normalizeOrigin(i))!=null?((r=this._values.get(e))==null?void 0:r.origin)===i:this._values.has(e)}isAtOrigin(e,i){return i=this._normalizeOrigin(i),this.has(e,i)&&this.originOf(e)===i}isBelowOrigin(e,i){return i=this._normalizeOrigin(i),!this.has(e)||this.originOf(e)<i}forEach(e){this._values.forEach(({value:i},r)=>e(i,r))}_normalizeOrigin(e){if(e!=null)return e===0?e:7}},Kde=class{constructor(e,i){this.value=e,this.origin=i}};function dG(t,e,i){e.keys().forEach(s=>{i.set(s,e.get(s),0)});const r=t.metadata;Object.keys(r).forEach(s=>{t.internalGet(s)&&i.set(s,t.internalGet(s),0)})}function Xde(t,e,i){if(!(t!=null&&t.read)||t.read.enabled===!1||!t.read.source)return!1;const r=t.read.source;if(typeof r=="string"){if(r===e||r.includes(".")&&r.startsWith(e)&&x8(r,i))return!0}else for(const s of r)if(s===e||s.includes(".")&&s.startsWith(e)&&x8(s,i))return!0;return!1}function Qde(t){return t&&(!t.read||t.read.enabled!==!1&&!t.read.source)}function epe(t,e,i,r,s){let n=KS(e[i],s);Qde(n)&&(t[i]=!0);for(const o of Object.getOwnPropertyNames(e))n=KS(e[o],s),Xde(n,i,r)&&(t[o]=!0)}function tpe(t,e,i,r){const s=i.metadata,n=$de(s[e],r),o=n==null?void 0:n.default;if(o===void 0)return;const l=typeof o=="function"?o.call(t,e,r):o;l!==void 0&&i.set(e,l)}const pG={origin:"service"};function fG(t,e,i=pG){if(!e||typeof e!="object")return;const r=_s(t),s=r.metadata,n={};for(const o of Object.getOwnPropertyNames(e))epe(n,s,o,e,i);r.setDefaultOrigin(i.origin);for(const o of Object.getOwnPropertyNames(n)){const l=KS(s[o],i).read,c=l==null?void 0:l.source;let d;d=c&&typeof c=="string"?bw(e,c):e[o],l!=null&&l.reader&&(d=l.reader.call(t,d,e,i)),d!==void 0&&r.set(o,d)}if(!i||!i.ignoreDefaults){r.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(s))n[o]||tpe(t,o,r,i)}r.setDefaultOrigin("user")}function ipe(t,e,i,r=pG){var n;const s={...r,messages:[]};i(s),(n=s.messages)==null||n.forEach(o=>{o.type!=="warning"||t.loaded?r!=null&&r.messages&&r.messages.push(o):t.loadWarnings.push(o)})}function rpe(t,e,i,r,s){var o,l;const n={};return(l=(o=e.write)==null?void 0:o.writer)==null||l.call(t,r,n,i,s),n}function mG(t,e,i,r,s,n){if(!(r!=null&&r.write))return!1;const o=Go(t,i);if(!s&&r.write.overridePolicy){const l=r.write.overridePolicy.call(t,o,i,n??void 0);l!==void 0&&(s=l)}if(s||(s=r.write),!s||s.enabled===!1||s.layerContainerTypes&&(n!=null&&n.layerContainerType)&&!s.layerContainerTypes.includes(n.layerContainerType))return!1;if((o===null&&!s.allowNull&&!s.writerEnsuresNonNull||o===void 0)&&s.isRequired){const l=new B("web-document-write:property-required",`Missing value for required property '${i}' on '${t.declaredClass}'`,{propertyName:i,target:t});return l&&(n!=null&&n.messages)?n.messages.push(l):l&&!n&&se.getLogger("esri.core.accessorSupport.write").error(l.name,l.message),!1}return!(o===void 0||o===null&&!s.allowNull&&!s.writerEnsuresNonNull||!s.alwaysWriteDefaults&&(!e.store.multipleOriginsSupported||e.store.originOf(i)===0)&&spe(t,i,n,r,o)||!s.ignoreOrigin&&(n!=null&&n.origin)&&e.store.multipleOriginsSupported&&e.store.originOf(i)<Kl(n.origin))}function spe(t,e,i,r,s){const n=r.default;if(n===void 0)return!1;if(r.defaultEquals!=null)return r.defaultEquals(s);if(typeof n=="function"){if(Array.isArray(s)){const o=n.call(t,e,i??void 0);return Jx(o,s)}return!1}return n===s}function npe(t,e,i,r){const s=_s(t),n=s.metadata,o=tG(n[e],r);return!!o&&mG(t,s,e,o,i,r)}function yG(t,e,i){var n,o;if(t&&typeof t.toJSON=="function"&&(!t.toJSON.isDefaultToJSON||!t.write))return p2(e,t.toJSON(i));const r=_s(t),s=r.metadata;for(const l in s){const c=tG(s[l],i);if(!mG(t,r,l,c,void 0,i))continue;const d=Go(t,l),m=rpe(t,c,c.write&&typeof c.write.target=="string"?c.write.target:l,d,i);Object.keys(m).length>0&&(e=p2(e,m),(o=(n=i==null?void 0:i.resources)==null?void 0:n.pendingOperations)!=null&&o.length&&i.resources.pendingOperations.push(Promise.all(i.resources.pendingOperations).then(()=>p2(e,m,()=>"replace-arrays"))),i!=null&&i.writtenProperties&&i.writtenProperties.push({target:t,propName:l,oldOrigin:fhe(r.store.originOf(l)),newOrigin:i.origin}))}return e}const th=t=>{const e=t;let i=class extends e{constructor(...r){super(...r);const s=_s(this),n=s.store,o=new Jde;s.store=o,dG(s,n,o)}read(r,s){fG(this,r,s)}write(r,s){return yG(this,r??{},s)}toJSON(r){return this.write({},r)}static fromJSON(r,s){return ope.call(this,r,s)}};return i=h([I("esri.core.JSONSupport")],i),i.prototype.toJSON.isDefaultToJSON=!0,i};function ope(t,e){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const i=new this;return i.read(t,e),i}const ae=th($e),ape=Object.prototype.toString;function lpe(t){const e="__accessorMetadata__"in t?nr(t):t;return function(...i){if(i.push(e),typeof i[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return upe.apply(this,i)}}function upe(t,e,i,r){_w(t,e).cast=r}function cpe(t){return(e,i)=>{_w(e,t).cast=e[i]}}function Ot(...t){if(t.length!==3||typeof t[1]!="string")return t.length===1&&ape.call(t[0])==="[object Function]"?lpe(t[0]):t.length===1&&typeof t[0]=="string"?cpe(t[0]):void 0}function Ie(t,e,i){let r,s;return e===void 0||Array.isArray(e)?(s=t,i=e,r=[void 0]):(s=e,r=Array.isArray(t)?t:[t]),(n,o)=>{const l=n.constructor.prototype;r.forEach(c=>{const d=tR(n,c,s);d.read&&typeof d.read=="object"||(d.read={}),d.read.reader=l[o],i&&(d.read.source=(d.read.source||[]).concat(i))})}}function _e(t,e,i){let r,s;return e===void 0?(s=t,r=[void 0]):typeof e!="string"?(s=t,r=[void 0],i=e):(s=e,r=Array.isArray(t)?t:[t]),(n,o)=>{const l=n.constructor.prototype;for(const c of r){const d=tR(n,c,s);d.write&&typeof d.write=="object"||(d.write={}),i&&(d.write.target=i),d.write.writer=l[o]}}}let KM;async function hpe(){return KM==null&&(KM=re(()=>import("./WhereClauseCache-Dg_GPz9G.js"),__vite__mapDeps([0,1])).then(t=>new t.WhereClauseCache(500,500))),KM}async function gG(t,e){const i=await hpe(),r=i.get(t,e);if(r==null)throw i.getError(t,e);return r}function Gje(t,e){return t||(t=null),e||(e=null),t==="1=1"?e??t:e==="1=1"?t??e:t&&e?`(${t}) AND (${e})`:t??e}function dpe(t,e){return t||(t=null),e||(e=null),t==="1=1"||e==="1=1"||t===e?t==="1=1"?t:e:t&&e?`(${t}) OR (${e})`:t??e}function Hje(t,e){return e.length===0?null:`${t} IN (${ppe(e)})`}function ppe(t){return t.map(e=>typeof e=="string"?fpe(e):e).join(",")}function fpe(t){return`'${t.replaceAll("'","''")}'`}function Wje(t){return typeof t=="number"}function Zje(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function Yje(t){return typeof t=="boolean"}function Mw(t){return typeof t=="string"||t instanceof String}function mpe(t){return t==null||Mw(t)}function Jje(t){return Array.isArray(t)}function Kje(t){return(t==null?void 0:t.declaredClass)==="esri.Graphic"}function Xje(t){return t instanceof Date}class xp extends Error{}class ype extends xp{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class gpe extends xp{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class vpe extends xp{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class gm extends xp{}class vG extends xp{constructor(e){super(`Invalid unit ${e}`)}}class Ur extends xp{}class qu extends xp{constructor(){super("Zone is an abstract class")}}const we="numeric",Xo="short",gn="long",ex={year:we,month:we,day:we},wG={year:we,month:Xo,day:we},wpe={year:we,month:Xo,day:we,weekday:Xo},bG={year:we,month:gn,day:we},_G={year:we,month:gn,day:we,weekday:gn},SG={hour:we,minute:we},xG={hour:we,minute:we,second:we},TG={hour:we,minute:we,second:we,timeZoneName:Xo},$G={hour:we,minute:we,second:we,timeZoneName:gn},MG={hour:we,minute:we,hourCycle:"h23"},EG={hour:we,minute:we,second:we,hourCycle:"h23"},AG={hour:we,minute:we,second:we,hourCycle:"h23",timeZoneName:Xo},OG={hour:we,minute:we,second:we,hourCycle:"h23",timeZoneName:gn},kG={year:we,month:we,day:we,hour:we,minute:we},CG={year:we,month:we,day:we,hour:we,minute:we,second:we},RG={year:we,month:Xo,day:we,hour:we,minute:we},IG={year:we,month:Xo,day:we,hour:we,minute:we,second:we},bpe={year:we,month:Xo,day:we,weekday:Xo,hour:we,minute:we},PG={year:we,month:gn,day:we,hour:we,minute:we,timeZoneName:Xo},jG={year:we,month:gn,day:we,hour:we,minute:we,second:we,timeZoneName:Xo},NG={year:we,month:gn,day:we,weekday:gn,hour:we,minute:we,timeZoneName:gn},DG={year:we,month:gn,day:we,weekday:gn,hour:we,minute:we,second:we,timeZoneName:gn};class Tp{get type(){throw new qu}get name(){throw new qu}get ianaName(){return this.name}get isUniversal(){throw new qu}offsetName(e,i){throw new qu}formatOffset(e,i){throw new qu}offset(e){throw new qu}equals(e){throw new qu}get isValid(){throw new qu}}let XM=null;class aT extends Tp{static get instance(){return XM===null&&(XM=new aT),XM}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:i,locale:r}){return ZG(e,i,r)}formatOffset(e,i){return Xv(this.offset(e),i)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const nA=new Map;function _pe(t){let e=nA.get(t);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),nA.set(t,e)),e}const Spe={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function xpe(t,e){const i=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,s,n,o,l,c,d,m]=r;return[o,s,n,l,c,d,m]}function Tpe(t,e){const i=t.formatToParts(e),r=[];for(let s=0;s<i.length;s++){const{type:n,value:o}=i[s],l=Spe[n];n==="era"?r[l]=o:He(l)||(r[l]=parseInt(o,10))}return r}const QM=new Map;class Ys extends Tp{static create(e){let i=QM.get(e);return i===void 0&&QM.set(e,i=new Ys(e)),i}static resetCache(){QM.clear(),nA.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Ys.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:i,locale:r}){return ZG(e,i,r,this.name)}formatOffset(e,i){return Xv(this.offset(e),i)}offset(e){if(!this.valid)return NaN;const i=new Date(e);if(isNaN(i))return NaN;const r=_pe(this.name);let[s,n,o,l,c,d,m]=r.formatToParts?Tpe(r,i):xpe(r,i);l==="BC"&&(s=-Math.abs(s)+1);const w=uT({year:s,month:n,day:o,hour:c===24?0:c,minute:d,second:m,millisecond:0});let _=+i;const x=_%1e3;return _-=x>=0?x:1e3+x,(w-_)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let B8={};function $pe(t,e={}){const i=JSON.stringify([t,e]);let r=B8[i];return r||(r=new Intl.ListFormat(t,e),B8[i]=r),r}const oA=new Map;function aA(t,e={}){const i=JSON.stringify([t,e]);let r=oA.get(i);return r===void 0&&(r=new Intl.DateTimeFormat(t,e),oA.set(i,r)),r}const lA=new Map;function Mpe(t,e={}){const i=JSON.stringify([t,e]);let r=lA.get(i);return r===void 0&&(r=new Intl.NumberFormat(t,e),lA.set(i,r)),r}const uA=new Map;function Epe(t,e={}){const{base:i,...r}=e,s=JSON.stringify([t,r]);let n=uA.get(s);return n===void 0&&(n=new Intl.RelativeTimeFormat(t,e),uA.set(s,n)),n}let rv=null;function Ape(){return rv||(rv=new Intl.DateTimeFormat().resolvedOptions().locale,rv)}const cA=new Map;function LG(t){let e=cA.get(t);return e===void 0&&(e=new Intl.DateTimeFormat(t).resolvedOptions(),cA.set(t,e)),e}const hA=new Map;function Ope(t){let e=hA.get(t);if(!e){const i=new Intl.Locale(t);e="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,"minimalDays"in e||(e={...VG,...e}),hA.set(t,e)}return e}function kpe(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const i=t.indexOf("-u-");if(i===-1)return[t];{let r,s;try{r=aA(t).resolvedOptions(),s=t}catch{const c=t.substring(0,i);r=aA(c).resolvedOptions(),s=c}const{numberingSystem:n,calendar:o}=r;return[s,n,o]}}function Cpe(t,e,i){return(i||e)&&(t.includes("-u-")||(t+="-u"),i&&(t+=`-ca-${i}`),e&&(t+=`-nu-${e}`)),t}function Rpe(t){const e=[];for(let i=1;i<=12;i++){const r=be.utc(2009,i,1);e.push(t(r))}return e}function Ipe(t){const e=[];for(let i=1;i<=7;i++){const r=be.utc(2016,11,13+i);e.push(t(r))}return e}function d_(t,e,i,r){const s=t.listingMode();return s==="error"?null:s==="en"?i(e):r(e)}function Ppe(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||LG(t.locale).numberingSystem==="latn"}class jpe{constructor(e,i,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:s,floor:n,...o}=r;if(!i||Object.keys(o).length>0){const l={useGrouping:!1,...r};r.padTo>0&&(l.minimumIntegerDigits=r.padTo),this.inf=Mpe(e,l)}}format(e){if(this.inf){const i=this.floor?Math.floor(e):e;return this.inf.format(i)}else{const i=this.floor?Math.floor(e):cR(e,3);return Gi(i,this.padTo)}}}class Npe{constructor(e,i,r){this.opts=r,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),l=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&Ys.create(l).valid?(s=l,this.dt=e):(s="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,s=e.zone.name):(s="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const n={...this.opts};n.timeZone=n.timeZone||s,this.dtf=aA(i,n)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(i=>{if(i.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...i,value:r}}else return i}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class Dpe{constructor(e,i,r){this.opts={style:"long",...r},!i&&HG()&&(this.rtf=Epe(e,r))}format(e,i){return this.rtf?this.rtf.format(e,i):nfe(i,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,i){return this.rtf?this.rtf.formatToParts(e,i):[]}}const VG={firstDay:1,minimalDays:4,weekend:[6,7]};class At{static fromOpts(e){return At.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,i,r,s,n=!1){const o=e||Ti.defaultLocale,l=o||(n?"en-US":Ape()),c=i||Ti.defaultNumberingSystem,d=r||Ti.defaultOutputCalendar,m=pA(s)||Ti.defaultWeekSettings;return new At(l,c,d,m,o)}static resetCache(){rv=null,oA.clear(),lA.clear(),uA.clear(),cA.clear(),hA.clear()}static fromObject({locale:e,numberingSystem:i,outputCalendar:r,weekSettings:s}={}){return At.create(e,i,r,s)}constructor(e,i,r,s,n){const[o,l,c]=kpe(e);this.locale=o,this.numberingSystem=i||l||null,this.outputCalendar=r||c||null,this.weekSettings=s,this.intl=Cpe(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=n,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Ppe(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&i?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:At.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,pA(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,i=!1){return d_(this,e,KG,()=>{const r=this.intl==="ja"||this.intl.startsWith("ja-");i&=!r;const s=i?{month:e,day:"numeric"}:{month:e},n=i?"format":"standalone";if(!this.monthsCache[n][e]){const o=r?l=>this.dtFormatter(l,s).format():l=>this.extract(l,s,"month");this.monthsCache[n][e]=Rpe(o)}return this.monthsCache[n][e]})}weekdays(e,i=!1){return d_(this,e,eH,()=>{const r=i?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=i?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=Ipe(n=>this.extract(n,r,"weekday"))),this.weekdaysCache[s][e]})}meridiems(){return d_(this,void 0,()=>tH,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[be.utc(2016,11,13,9),be.utc(2016,11,13,19)].map(i=>this.extract(i,e,"dayperiod"))}return this.meridiemCache})}eras(e){return d_(this,e,iH,()=>{const i={era:e};return this.eraCache[e]||(this.eraCache[e]=[be.utc(-40,1,1),be.utc(2017,1,1)].map(r=>this.extract(r,i,"era"))),this.eraCache[e]})}extract(e,i,r){const s=this.dtFormatter(e,i),n=s.formatToParts(),o=n.find(l=>l.type.toLowerCase()===r);return o?o.value:null}numberFormatter(e={}){return new jpe(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,i={}){return new Npe(e,this.intl,i)}relFormatter(e={}){return new Dpe(this.intl,this.isEnglish(),e)}listFormatter(e={}){return $pe(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||LG(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:WG()?Ope(this.locale):VG}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let e5=null;class Wi extends Tp{static get utcInstance(){return e5===null&&(e5=new Wi(0)),e5}static instance(e){return e===0?Wi.utcInstance:new Wi(e)}static parseSpecifier(e){if(e){const i=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new Wi(cT(i[1],i[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Xv(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Xv(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,i){return Xv(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class Lpe extends Tp{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function gc(t,e){if(He(t)||t===null)return e;if(t instanceof Tp)return t;if(Bpe(t)){const i=t.toLowerCase();return i==="default"?e:i==="local"||i==="system"?aT.instance:i==="utc"||i==="gmt"?Wi.utcInstance:Wi.parseSpecifier(i)||Ys.create(t)}else return Rc(t)?Wi.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new Lpe(t)}const oR={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},G8={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Vpe=oR.hanidec.replace(/[\[|\]]/g,"").split("");function Fpe(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let i=0;i<t.length;i++){const r=t.charCodeAt(i);if(t[i].search(oR.hanidec)!==-1)e+=Vpe.indexOf(t[i]);else for(const s in G8){const[n,o]=G8[s];r>=n&&r<=o&&(e+=r-n)}}return parseInt(e,10)}else return e}const dA=new Map;function zpe(){dA.clear()}function So({numberingSystem:t},e=""){const i=t||"latn";let r=dA.get(i);r===void 0&&(r=new Map,dA.set(i,r));let s=r.get(e);return s===void 0&&(s=new RegExp(`${oR[i]}${e}`),r.set(e,s)),s}let H8=()=>Date.now(),W8="system",Z8=null,Y8=null,J8=null,K8=60,X8,Q8=null;class Ti{static get now(){return H8}static set now(e){H8=e}static set defaultZone(e){W8=e}static get defaultZone(){return gc(W8,aT.instance)}static get defaultLocale(){return Z8}static set defaultLocale(e){Z8=e}static get defaultNumberingSystem(){return Y8}static set defaultNumberingSystem(e){Y8=e}static get defaultOutputCalendar(){return J8}static set defaultOutputCalendar(e){J8=e}static get defaultWeekSettings(){return Q8}static set defaultWeekSettings(e){Q8=pA(e)}static get twoDigitCutoffYear(){return K8}static set twoDigitCutoffYear(e){K8=e%100}static get throwOnInvalid(){return X8}static set throwOnInvalid(e){X8=e}static resetCaches(){At.resetCache(),Ys.resetCache(),be.resetCache(),zpe()}}class Ho{constructor(e,i){this.reason=e,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const FG=[0,31,59,90,120,151,181,212,243,273,304,334],zG=[0,31,60,91,121,152,182,213,244,274,305,335];function ro(t,e){return new Ho("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function aR(t,e,i){const r=new Date(Date.UTC(t,e-1,i));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const s=r.getUTCDay();return s===0?7:s}function UG(t,e,i){return i+(Ew(t)?zG:FG)[e-1]}function qG(t,e){const i=Ew(t)?zG:FG,r=i.findIndex(n=>n<e),s=e-i[r];return{month:r+1,day:s}}function lR(t,e){return(t-e+7)%7+1}function tx(t,e=4,i=1){const{year:r,month:s,day:n}=t,o=UG(r,s,n),l=lR(aR(r,s,n),i);let c=Math.floor((o-l+14-e)/7),d;return c<1?(d=r-1,c=V1(d,e,i)):c>V1(r,e,i)?(d=r+1,c=1):d=r,{weekYear:d,weekNumber:c,weekday:l,...hT(t)}}function eL(t,e=4,i=1){const{weekYear:r,weekNumber:s,weekday:n}=t,o=lR(aR(r,1,e),i),l=km(r);let c=s*7+n-o-7+e,d;c<1?(d=r-1,c+=km(d)):c>l?(d=r+1,c-=km(r)):d=r;const{month:m,day:v}=qG(d,c);return{year:d,month:m,day:v,...hT(t)}}function t5(t){const{year:e,month:i,day:r}=t,s=UG(e,i,r);return{year:e,ordinal:s,...hT(t)}}function tL(t){const{year:e,ordinal:i}=t,{month:r,day:s}=qG(e,i);return{year:e,month:r,day:s,...hT(t)}}function iL(t,e){if(!He(t.localWeekday)||!He(t.localWeekNumber)||!He(t.localWeekYear)){if(!He(t.weekday)||!He(t.weekNumber)||!He(t.weekYear))throw new gm("Cannot mix locale-based week fields with ISO-based week fields");return He(t.localWeekday)||(t.weekday=t.localWeekday),He(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),He(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function Upe(t,e=4,i=1){const r=lT(t.weekYear),s=so(t.weekNumber,1,V1(t.weekYear,e,i)),n=so(t.weekday,1,7);return r?s?n?!1:ro("weekday",t.weekday):ro("week",t.weekNumber):ro("weekYear",t.weekYear)}function qpe(t){const e=lT(t.year),i=so(t.ordinal,1,km(t.year));return e?i?!1:ro("ordinal",t.ordinal):ro("year",t.year)}function BG(t){const e=lT(t.year),i=so(t.month,1,12),r=so(t.day,1,ix(t.year,t.month));return e?i?r?!1:ro("day",t.day):ro("month",t.month):ro("year",t.year)}function GG(t){const{hour:e,minute:i,second:r,millisecond:s}=t,n=so(e,0,23)||e===24&&i===0&&r===0&&s===0,o=so(i,0,59),l=so(r,0,59),c=so(s,0,999);return n?o?l?c?!1:ro("millisecond",s):ro("second",r):ro("minute",i):ro("hour",e)}function He(t){return typeof t>"u"}function Rc(t){return typeof t=="number"}function lT(t){return typeof t=="number"&&t%1===0}function Bpe(t){return typeof t=="string"}function Gpe(t){return Object.prototype.toString.call(t)==="[object Date]"}function HG(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function WG(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Hpe(t){return Array.isArray(t)?t:[t]}function rL(t,e,i){if(t.length!==0)return t.reduce((r,s)=>{const n=[e(s),s];return r&&i(r[0],n[0])===r[0]?r:n},null)[1]}function Wpe(t,e){return e.reduce((i,r)=>(i[r]=t[r],i),{})}function Iy(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function pA(t){if(t==null)return null;if(typeof t!="object")throw new Ur("Week settings must be an object");if(!so(t.firstDay,1,7)||!so(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!so(e,1,7)))throw new Ur("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function so(t,e,i){return lT(t)&&t>=e&&t<=i}function Zpe(t,e){return t-e*Math.floor(t/e)}function Gi(t,e=2){const i=t<0;let r;return i?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function cc(t){if(!(He(t)||t===null||t===""))return parseInt(t,10)}function jh(t){if(!(He(t)||t===null||t===""))return parseFloat(t)}function uR(t){if(!(He(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function cR(t,e,i="round"){const r=10**e;switch(i){case"expand":return t>0?Math.ceil(t*r)/r:Math.floor(t*r)/r;case"trunc":return Math.trunc(t*r)/r;case"round":return Math.round(t*r)/r;case"floor":return Math.floor(t*r)/r;case"ceil":return Math.ceil(t*r)/r;default:throw new RangeError(`Value rounding ${i} is out of range`)}}function Ew(t){return t%4===0&&(t%100!==0||t%400===0)}function km(t){return Ew(t)?366:365}function ix(t,e){const i=Zpe(e-1,12)+1,r=t+(e-i)/12;return i===2?Ew(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function uT(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function sL(t,e,i){return-lR(aR(t,1,e),i)+e-1}function V1(t,e=4,i=1){const r=sL(t,e,i),s=sL(t+1,e,i);return(km(t)-r+s)/7}function fA(t){return t>99?t:t>Ti.twoDigitCutoffYear?1900+t:2e3+t}function ZG(t,e,i,r=null){const s=new Date(t),n={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(n.timeZone=r);const o={timeZoneName:e,...n},l=new Intl.DateTimeFormat(i,o).formatToParts(s).find(c=>c.type.toLowerCase()==="timezonename");return l?l.value:null}function cT(t,e){let i=parseInt(t,10);Number.isNaN(i)&&(i=0);const r=parseInt(e,10)||0,s=i<0||Object.is(i,-0)?-r:r;return i*60+s}function YG(t){const e=Number(t);if(typeof t=="boolean"||t===""||!Number.isFinite(e))throw new Ur(`Invalid unit value ${t}`);return e}function rx(t,e){const i={};for(const r in t)if(Iy(t,r)){const s=t[r];if(s==null)continue;i[e(r)]=YG(s)}return i}function Xv(t,e){const i=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),s=t>=0?"+":"-";switch(e){case"short":return`${s}${Gi(i,2)}:${Gi(r,2)}`;case"narrow":return`${s}${i}${r>0?`:${r}`:""}`;case"techie":return`${s}${Gi(i,2)}${Gi(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function hT(t){return Wpe(t,["hour","minute","second","millisecond"])}const Ype=["January","February","March","April","May","June","July","August","September","October","November","December"],JG=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Jpe=["J","F","M","A","M","J","J","A","S","O","N","D"];function KG(t){switch(t){case"narrow":return[...Jpe];case"short":return[...JG];case"long":return[...Ype];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const XG=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],QG=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Kpe=["M","T","W","T","F","S","S"];function eH(t){switch(t){case"narrow":return[...Kpe];case"short":return[...QG];case"long":return[...XG];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const tH=["AM","PM"],Xpe=["Before Christ","Anno Domini"],Qpe=["BC","AD"],efe=["B","A"];function iH(t){switch(t){case"narrow":return[...efe];case"short":return[...Qpe];case"long":return[...Xpe];default:return null}}function tfe(t){return tH[t.hour<12?0:1]}function ife(t,e){return eH(e)[t.weekday-1]}function rfe(t,e){return KG(e)[t.month-1]}function sfe(t,e){return iH(e)[t.year<0?0:1]}function nfe(t,e,i="always",r=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},n=["hours","minutes","seconds"].indexOf(t)===-1;if(i==="auto"&&n){const v=t==="days";switch(e){case 1:return v?"tomorrow":`next ${s[t][0]}`;case-1:return v?"yesterday":`last ${s[t][0]}`;case 0:return v?"today":`this ${s[t][0]}`}}const o=Object.is(e,-0)||e<0,l=Math.abs(e),c=l===1,d=s[t],m=r?c?d[1]:d[2]||d[1]:c?s[t][0]:t;return o?`${l} ${m} ago`:`in ${l} ${m}`}function nL(t,e){let i="";for(const r of t)r.literal?i+=r.val:i+=e(r.val);return i}const ofe={D:ex,DD:wG,DDD:bG,DDDD:_G,t:SG,tt:xG,ttt:TG,tttt:$G,T:MG,TT:EG,TTT:AG,TTTT:OG,f:kG,ff:RG,fff:PG,ffff:NG,F:CG,FF:IG,FFF:jG,FFFF:DG};class Wr{static create(e,i={}){return new Wr(e,i)}static parseFormat(e){let i=null,r="",s=!1;const n=[];for(let o=0;o<e.length;o++){const l=e.charAt(o);l==="'"?((r.length>0||s)&&n.push({literal:s||/^\s+$/.test(r),val:r===""?"'":r}),i=null,r="",s=!s):s||l===i?r+=l:(r.length>0&&n.push({literal:/^\s+$/.test(r),val:r}),r=l,i=l)}return r.length>0&&n.push({literal:s||/^\s+$/.test(r),val:r}),n}static macroTokenToFormatOpts(e){return ofe[e]}constructor(e,i){this.opts=i,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...i}).format()}dtFormatter(e,i={}){return this.loc.dtFormatter(e,{...this.opts,...i})}formatDateTime(e,i){return this.dtFormatter(e,i).format()}formatDateTimeParts(e,i){return this.dtFormatter(e,i).formatToParts()}formatInterval(e,i){return this.dtFormatter(e.start,i).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,i){return this.dtFormatter(e,i).resolvedOptions()}num(e,i=0,r=void 0){if(this.opts.forceSimple)return Gi(e,i);const s={...this.opts};return i>0&&(s.padTo=i),r&&(s.signDisplay=r),this.loc.numberFormatter(s).format(e)}formatDateTimeFromString(e,i){const r=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",n=(_,x)=>this.loc.extract(e,_,x),o=_=>e.isOffsetFixed&&e.offset===0&&_.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,_.format):"",l=()=>r?tfe(e):n({hour:"numeric",hourCycle:"h12"},"dayperiod"),c=(_,x)=>r?rfe(e,_):n(x?{month:_}:{month:_,day:"numeric"},"month"),d=(_,x)=>r?ife(e,_):n(x?{weekday:_}:{weekday:_,month:"long",day:"numeric"},"weekday"),m=_=>{const x=Wr.macroTokenToFormatOpts(_);return x?this.formatWithSystemDefault(e,x):_},v=_=>r?sfe(e,_):n({era:_},"era"),w=_=>{switch(_){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return l();case"d":return s?n({day:"numeric"},"day"):this.num(e.day);case"dd":return s?n({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return s?n({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return s?n({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return s?n({month:"numeric"},"month"):this.num(e.month);case"MM":return s?n({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return s?n({year:"numeric"},"year"):this.num(e.year);case"yy":return s?n({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return s?n({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return s?n({year:"numeric"},"year"):this.num(e.year,6);case"G":return v("short");case"GG":return v("long");case"GGGGG":return v("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return m(_)}};return nL(Wr.parseFormat(i),w)}formatDurationFromString(e,i){const r=this.opts.signMode==="negativeLargestOnly"?-1:1,s=m=>{switch(m[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},n=(m,v)=>w=>{const _=s(w);if(_){const x=v.isNegativeDuration&&_!==v.largestUnit?r:1;let T;return this.opts.signMode==="negativeLargestOnly"&&_!==v.largestUnit?T="never":this.opts.signMode==="all"?T="always":T="auto",this.num(m.get(_)*x,w.length,T)}else return w},o=Wr.parseFormat(i),l=o.reduce((m,{literal:v,val:w})=>v?m:m.concat(w),[]),c=e.shiftTo(...l.map(s).filter(m=>m)),d={isNegativeDuration:c<0,largestUnit:Object.keys(c.values)[0]};return nL(o,n(c,d))}}const rH=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function dg(...t){const e=t.reduce((i,r)=>i+r.source,"");return RegExp(`^${e}$`)}function pg(...t){return e=>t.reduce(([i,r,s],n)=>{const[o,l,c]=n(e,s);return[{...i,...o},l||r,c]},[{},null,1]).slice(0,2)}function fg(t,...e){if(t==null)return[null,null];for(const[i,r]of e){const s=i.exec(t);if(s)return r(s)}return[null,null]}function sH(...t){return(e,i)=>{const r={};let s;for(s=0;s<t.length;s++)r[t[s]]=cc(e[i+s]);return[r,null,i+s]}}const nH=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,afe=`(?:${nH.source}?(?:\\[(${rH.source})\\])?)?`,hR=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,oH=RegExp(`${hR.source}${afe}`),dR=RegExp(`(?:[Tt]${oH.source})?`),lfe=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,ufe=/(\d{4})-?W(\d\d)(?:-?(\d))?/,cfe=/(\d{4})-?(\d{3})/,hfe=sH("weekYear","weekNumber","weekDay"),dfe=sH("year","ordinal"),pfe=/(\d{4})-(\d\d)-(\d\d)/,aH=RegExp(`${hR.source} ?(?:${nH.source}|(${rH.source}))?`),ffe=RegExp(`(?: ${aH.source})?`);function Cm(t,e,i){const r=t[e];return He(r)?i:cc(r)}function mfe(t,e){return[{year:Cm(t,e),month:Cm(t,e+1,1),day:Cm(t,e+2,1)},null,e+3]}function mg(t,e){return[{hours:Cm(t,e,0),minutes:Cm(t,e+1,0),seconds:Cm(t,e+2,0),milliseconds:uR(t[e+3])},null,e+4]}function Aw(t,e){const i=!t[e]&&!t[e+1],r=cT(t[e+1],t[e+2]),s=i?null:Wi.instance(r);return[{},s,e+3]}function Ow(t,e){const i=t[e]?Ys.create(t[e]):null;return[{},i,e+1]}const yfe=RegExp(`^T?${hR.source}$`),gfe=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function vfe(t){const[e,i,r,s,n,o,l,c,d]=t,m=e[0]==="-",v=c&&c[0]==="-",w=(_,x=!1)=>_!==void 0&&(x||_&&m)?-_:_;return[{years:w(jh(i)),months:w(jh(r)),weeks:w(jh(s)),days:w(jh(n)),hours:w(jh(o)),minutes:w(jh(l)),seconds:w(jh(c),c==="-0"),milliseconds:w(uR(d),v)}]}const wfe={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function pR(t,e,i,r,s,n,o){const l={year:e.length===2?fA(cc(e)):cc(e),month:JG.indexOf(i)+1,day:cc(r),hour:cc(s),minute:cc(n)};return o&&(l.second=cc(o)),t&&(l.weekday=t.length>3?XG.indexOf(t)+1:QG.indexOf(t)+1),l}const bfe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function _fe(t){const[,e,i,r,s,n,o,l,c,d,m,v]=t,w=pR(e,s,r,i,n,o,l);let _;return c?_=wfe[c]:d?_=0:_=cT(m,v),[w,new Wi(_)]}function Sfe(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const xfe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Tfe=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,$fe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function oL(t){const[,e,i,r,s,n,o,l]=t;return[pR(e,s,r,i,n,o,l),Wi.utcInstance]}function Mfe(t){const[,e,i,r,s,n,o,l]=t;return[pR(e,l,i,r,s,n,o),Wi.utcInstance]}const Efe=dg(lfe,dR),Afe=dg(ufe,dR),Ofe=dg(cfe,dR),kfe=dg(oH),lH=pg(mfe,mg,Aw,Ow),Cfe=pg(hfe,mg,Aw,Ow),Rfe=pg(dfe,mg,Aw,Ow),Ife=pg(mg,Aw,Ow);function Pfe(t){return fg(t,[Efe,lH],[Afe,Cfe],[Ofe,Rfe],[kfe,Ife])}function jfe(t){return fg(Sfe(t),[bfe,_fe])}function Nfe(t){return fg(t,[xfe,oL],[Tfe,oL],[$fe,Mfe])}function Dfe(t){return fg(t,[gfe,vfe])}const Lfe=pg(mg);function Vfe(t){return fg(t,[yfe,Lfe])}const Ffe=dg(pfe,ffe),zfe=dg(aH),Ufe=pg(mg,Aw,Ow);function qfe(t){return fg(t,[Ffe,lH],[zfe,Ufe])}const aL="Invalid Duration",uH={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Bfe={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...uH},Vn=146097/400,wf=146097/4800,Gfe={years:{quarters:4,months:12,weeks:Vn/7,days:Vn,hours:Vn*24,minutes:Vn*24*60,seconds:Vn*24*60*60,milliseconds:Vn*24*60*60*1e3},quarters:{months:3,weeks:Vn/28,days:Vn/4,hours:Vn*24/4,minutes:Vn*24*60/4,seconds:Vn*24*60*60/4,milliseconds:Vn*24*60*60*1e3/4},months:{weeks:wf/7,days:wf,hours:wf*24,minutes:wf*24*60,seconds:wf*24*60*60,milliseconds:wf*24*60*60*1e3},...uH},$d=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Hfe=$d.slice(0).reverse();function ul(t,e,i=!1){const r={values:i?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new wt(r)}function cH(t,e){let i=e.milliseconds??0;for(const r of Hfe.slice(1))e[r]&&(i+=e[r]*t[r].milliseconds);return i}function lL(t,e){const i=cH(t,e)<0?-1:1;$d.reduceRight((r,s)=>{if(He(e[s]))return r;if(r){const n=e[r]*i,o=t[s][r],l=Math.floor(n/o);e[s]+=l*i,e[r]-=l*o*i}return s},null),$d.reduce((r,s)=>{if(He(e[s]))return r;if(r){const n=e[r]%1;e[r]-=n,e[s]+=n*t[r][s]}return s},null)}function uL(t){const e={};for(const[i,r]of Object.entries(t))r!==0&&(e[i]=r);return e}class wt{constructor(e){const i=e.conversionAccuracy==="longterm"||!1;let r=i?Gfe:Bfe;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||At.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,i){return wt.fromObject({milliseconds:e},i)}static fromObject(e,i={}){if(e==null||typeof e!="object")throw new Ur(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new wt({values:rx(e,wt.normalizeUnit),loc:At.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static fromDurationLike(e){if(Rc(e))return wt.fromMillis(e);if(wt.isDuration(e))return e;if(typeof e=="object")return wt.fromObject(e);throw new Ur(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,i){const[r]=Dfe(e);return r?wt.fromObject(r,i):wt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,i){const[r]=Vfe(e);return r?wt.fromObject(r,i):wt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,i=null){if(!e)throw new Ur("need to specify a reason the Duration is invalid");const r=e instanceof Ho?e:new Ho(e,i);if(Ti.throwOnInvalid)throw new vpe(r);return new wt({invalid:r})}static normalizeUnit(e){const i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!i)throw new vG(e);return i}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,i={}){const r={...i,floor:i.round!==!1&&i.floor!==!1};return this.isValid?Wr.create(this.loc,r).formatDurationFromString(this,e):aL}toHuman(e={}){if(!this.isValid)return aL;const i=e.showZeros!==!1,r=$d.map(s=>{const n=this.values[s];return He(n)||n===0&&!i?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:s.slice(0,-1)}).format(n)}).filter(s=>s);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=cR(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const i=this.toMillis();return i<0||i>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},be.fromMillis(i,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?cH(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const i=wt.fromDurationLike(e),r={};for(const s of $d)(Iy(i.values,s)||Iy(this.values,s))&&(r[s]=i.get(s)+this.get(s));return ul(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const i=wt.fromDurationLike(e);return this.plus(i.negate())}mapUnits(e){if(!this.isValid)return this;const i={};for(const r of Object.keys(this.values))i[r]=YG(e(this.values[r],r));return ul(this,{values:i},!0)}get(e){return this[wt.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const i={...this.values,...rx(e,wt.normalizeUnit)};return ul(this,{values:i})}reconfigure({locale:e,numberingSystem:i,conversionAccuracy:r,matrix:s}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:i}),matrix:s,conversionAccuracy:r};return ul(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return lL(this.matrix,e),ul(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=uL(this.normalize().shiftToAll().toObject());return ul(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>wt.normalizeUnit(o));const i={},r={},s=this.toObject();let n;for(const o of $d)if(e.indexOf(o)>=0){n=o;let l=0;for(const d in r)l+=this.matrix[d][o]*r[d],r[d]=0;Rc(s[o])&&(l+=s[o]);const c=Math.trunc(l);i[o]=c,r[o]=(l*1e3-c*1e3)/1e3}else Rc(s[o])&&(r[o]=s[o]);for(const o in r)r[o]!==0&&(i[n]+=o===n?r[o]:r[o]/this.matrix[n][o]);return lL(this.matrix,i),ul(this,{values:i},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const i of Object.keys(this.values))e[i]=this.values[i]===0?0:-this.values[i];return ul(this,{values:e},!0)}removeZeros(){if(!this.isValid)return this;const e=uL(this.values);return ul(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function i(r,s){return r===void 0||r===0?s===void 0||s===0:r===s}for(const r of $d)if(!i(this.values[r],e.values[r]))return!1;return!0}}const bf="Invalid Interval";function Wfe(t,e){return!t||!t.isValid?wi.invalid("missing or invalid start"):!e||!e.isValid?wi.invalid("missing or invalid end"):e<t?wi.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class wi{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,i=null){if(!e)throw new Ur("need to specify a reason the Interval is invalid");const r=e instanceof Ho?e:new Ho(e,i);if(Ti.throwOnInvalid)throw new gpe(r);return new wi({invalid:r})}static fromDateTimes(e,i){const r=k0(e),s=k0(i),n=Wfe(r,s);return n??new wi({start:r,end:s})}static after(e,i){const r=wt.fromDurationLike(i),s=k0(e);return wi.fromDateTimes(s,s.plus(r))}static before(e,i){const r=wt.fromDurationLike(i),s=k0(e);return wi.fromDateTimes(s.minus(r),s)}static fromISO(e,i){const[r,s]=(e||"").split("/",2);if(r&&s){let n,o;try{n=be.fromISO(r,i),o=n.isValid}catch{o=!1}let l,c;try{l=be.fromISO(s,i),c=l.isValid}catch{c=!1}if(o&&c)return wi.fromDateTimes(n,l);if(o){const d=wt.fromISO(s,i);if(d.isValid)return wi.after(n,d)}else if(c){const d=wt.fromISO(r,i);if(d.isValid)return wi.before(l,d)}}return wi.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",i){if(!this.isValid)return NaN;const r=this.start.startOf(e,i);let s;return i!=null&&i.useLocaleWeeks?s=this.end.reconfigure({locale:r.locale}):s=this.end,s=s.startOf(e,i),Math.floor(s.diff(r,e).get(e))+(s.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:i}={}){return this.isValid?wi.fromDateTimes(e||this.s,i||this.e):this}splitAt(...e){if(!this.isValid)return[];const i=e.map(k0).filter(o=>this.contains(o)).sort((o,l)=>o.toMillis()-l.toMillis()),r=[];let{s}=this,n=0;for(;s<this.e;){const o=i[n]||this.e,l=+o>+this.e?this.e:o;r.push(wi.fromDateTimes(s,l)),s=l,n+=1}return r}splitBy(e){const i=wt.fromDurationLike(e);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s:r}=this,s=1,n;const o=[];for(;r<this.e;){const l=this.start.plus(i.mapUnits(c=>c*s));n=+l>+this.e?this.e:l,o.push(wi.fromDateTimes(r,n)),r=n,s+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const i=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return i>=r?null:wi.fromDateTimes(i,r)}union(e){if(!this.isValid)return this;const i=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return wi.fromDateTimes(i,r)}static merge(e){const[i,r]=e.sort((s,n)=>s.s-n.s).reduce(([s,n],o)=>n?n.overlaps(o)||n.abutsStart(o)?[s,n.union(o)]:[s.concat([n]),o]:[s,o],[[],null]);return r&&i.push(r),i}static xor(e){let i=null,r=0;const s=[],n=e.map(c=>[{time:c.s,type:"s"},{time:c.e,type:"e"}]),o=Array.prototype.concat(...n),l=o.sort((c,d)=>c.time-d.time);for(const c of l)r+=c.type==="s"?1:-1,r===1?i=c.time:(i&&+i!=+c.time&&s.push(wi.fromDateTimes(i,c.time)),i=null);return wi.merge(s)}difference(...e){return wi.xor([this].concat(e)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:bf}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=ex,i={}){return this.isValid?Wr.create(this.s.loc.clone(i),e).formatInterval(this):bf}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:bf}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:bf}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:bf}toFormat(e,{separator:i="  "}={}){return this.isValid?`${this.s.toFormat(e)}${i}${this.e.toFormat(e)}`:bf}toDuration(e,i){return this.isValid?this.e.diff(this.s,e,i):wt.invalid(this.invalidReason)}mapEndpoints(e){return wi.fromDateTimes(e(this.s),e(this.e))}}class p_{static hasDST(e=Ti.defaultZone){const i=be.now().setZone(e).set({month:12});return!e.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(e){return Ys.isValidZone(e)}static normalizeZone(e){return gc(e,Ti.defaultZone)}static getStartOfWeek({locale:e=null,locObj:i=null}={}){return(i||At.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:i=null}={}){return(i||At.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:i=null}={}){return(i||At.create(e)).getWeekendDays().slice()}static months(e="long",{locale:i=null,numberingSystem:r=null,locObj:s=null,outputCalendar:n="gregory"}={}){return(s||At.create(i,r,n)).months(e)}static monthsFormat(e="long",{locale:i=null,numberingSystem:r=null,locObj:s=null,outputCalendar:n="gregory"}={}){return(s||At.create(i,r,n)).months(e,!0)}static weekdays(e="long",{locale:i=null,numberingSystem:r=null,locObj:s=null}={}){return(s||At.create(i,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:i=null,numberingSystem:r=null,locObj:s=null}={}){return(s||At.create(i,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return At.create(e).meridiems()}static eras(e="short",{locale:i=null}={}){return At.create(i,null,"gregory").eras(e)}static features(){return{relative:HG(),localeWeek:WG()}}}function cL(t,e){const i=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=i(e)-i(t);return Math.floor(wt.fromMillis(r).as("days"))}function Zfe(t,e,i){const r=[["years",(c,d)=>d.year-c.year],["quarters",(c,d)=>d.quarter-c.quarter+(d.year-c.year)*4],["months",(c,d)=>d.month-c.month+(d.year-c.year)*12],["weeks",(c,d)=>{const m=cL(c,d);return(m-m%7)/7}],["days",cL]],s={},n=t;let o,l;for(const[c,d]of r)i.indexOf(c)>=0&&(o=c,s[c]=d(t,e),l=n.plus(s),l>e?(s[c]--,t=n.plus(s),t>e&&(l=t,s[c]--,t=n.plus(s))):t=l);return[t,s,l,o]}function Yfe(t,e,i,r){let[s,n,o,l]=Zfe(t,e,i);const c=e-s,d=i.filter(v=>["hours","minutes","seconds","milliseconds"].indexOf(v)>=0);d.length===0&&(o<e&&(o=s.plus({[l]:1})),o!==s&&(n[l]=(n[l]||0)+c/(o-s)));const m=wt.fromObject(n,r);return d.length>0?wt.fromMillis(c,r).shiftTo(...d).plus(m):m}const Jfe="missing Intl.DateTimeFormat.formatToParts support";function Tt(t,e=i=>i){return{regex:t,deser:([i])=>e(Fpe(i))}}const Kfe="",hH=`[ ${Kfe}]`,dH=new RegExp(hH,"g");function Xfe(t){return t.replace(/\./g,"\\.?").replace(dH,hH)}function hL(t){return t.replace(/\./g,"").replace(dH," ").toLowerCase()}function xo(t,e){return t===null?null:{regex:RegExp(t.map(Xfe).join("|")),deser:([i])=>t.findIndex(r=>hL(i)===hL(r))+e}}function dL(t,e){return{regex:t,deser:([,i,r])=>cT(i,r),groups:e}}function f_(t){return{regex:t,deser:([e])=>e}}function Qfe(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function eme(t,e){const i=So(e),r=So(e,"{2}"),s=So(e,"{3}"),n=So(e,"{4}"),o=So(e,"{6}"),l=So(e,"{1,2}"),c=So(e,"{1,3}"),d=So(e,"{1,6}"),m=So(e,"{1,9}"),v=So(e,"{2,4}"),w=So(e,"{4,6}"),_=$=>({regex:RegExp(Qfe($.val)),deser:([O])=>O,literal:!0}),T=($=>{if(t.literal)return _($);switch($.val){case"G":return xo(e.eras("short"),0);case"GG":return xo(e.eras("long"),0);case"y":return Tt(d);case"yy":return Tt(v,fA);case"yyyy":return Tt(n);case"yyyyy":return Tt(w);case"yyyyyy":return Tt(o);case"M":return Tt(l);case"MM":return Tt(r);case"MMM":return xo(e.months("short",!0),1);case"MMMM":return xo(e.months("long",!0),1);case"L":return Tt(l);case"LL":return Tt(r);case"LLL":return xo(e.months("short",!1),1);case"LLLL":return xo(e.months("long",!1),1);case"d":return Tt(l);case"dd":return Tt(r);case"o":return Tt(c);case"ooo":return Tt(s);case"HH":return Tt(r);case"H":return Tt(l);case"hh":return Tt(r);case"h":return Tt(l);case"mm":return Tt(r);case"m":return Tt(l);case"q":return Tt(l);case"qq":return Tt(r);case"s":return Tt(l);case"ss":return Tt(r);case"S":return Tt(c);case"SSS":return Tt(s);case"u":return f_(m);case"uu":return f_(l);case"uuu":return Tt(i);case"a":return xo(e.meridiems(),0);case"kkkk":return Tt(n);case"kk":return Tt(v,fA);case"W":return Tt(l);case"WW":return Tt(r);case"E":case"c":return Tt(i);case"EEE":return xo(e.weekdays("short",!1),1);case"EEEE":return xo(e.weekdays("long",!1),1);case"ccc":return xo(e.weekdays("short",!0),1);case"cccc":return xo(e.weekdays("long",!0),1);case"Z":case"ZZ":return dL(new RegExp(`([+-]${l.source})(?::(${r.source}))?`),2);case"ZZZ":return dL(new RegExp(`([+-]${l.source})(${r.source})?`),2);case"z":return f_(/[a-z_+-/]{1,256}?/i);case" ":return f_(/[^\S\n\r]/);default:return _($)}})(t)||{invalidReason:Jfe};return T.token=t,T}const tme={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function ime(t,e,i){const{type:r,value:s}=t;if(r==="literal"){const c=/^\s+$/.test(s);return{literal:!c,val:c?" ":s}}const n=e[r];let o=r;r==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=i.hour12?"hour12":"hour24");let l=tme[o];if(typeof l=="object"&&(l=l[n]),l)return{literal:!1,val:l}}function rme(t){return[`^${t.map(i=>i.regex).reduce((i,r)=>`${i}(${r.source})`,"")}$`,t]}function sme(t,e,i){const r=t.match(e);if(r){const s={};let n=1;for(const o in i)if(Iy(i,o)){const l=i[o],c=l.groups?l.groups+1:1;!l.literal&&l.token&&(s[l.token.val[0]]=l.deser(r.slice(n,n+c))),n+=c}return[r,s]}else return[r,{}]}function nme(t){const e=n=>{switch(n){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let i=null,r;return He(t.z)||(i=Ys.create(t.z)),He(t.Z)||(i||(i=new Wi(t.Z)),r=t.Z),He(t.q)||(t.M=(t.q-1)*3+1),He(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),He(t.u)||(t.S=uR(t.u)),[Object.keys(t).reduce((n,o)=>{const l=e(o);return l&&(n[l]=t[o]),n},{}),i,r]}let i5=null;function ome(){return i5||(i5=be.fromMillis(1555555555555)),i5}function ame(t,e){if(t.literal)return t;const i=Wr.macroTokenToFormatOpts(t.val),r=yH(i,e);return r==null||r.includes(void 0)?t:r}function pH(t,e){return Array.prototype.concat(...t.map(i=>ame(i,e)))}class fH{constructor(e,i){if(this.locale=e,this.format=i,this.tokens=pH(Wr.parseFormat(i),e),this.units=this.tokens.map(r=>eme(r,e)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,s]=rme(this.units);this.regex=RegExp(r,"i"),this.handlers=s}}explainFromTokens(e){if(this.isValid){const[i,r]=sme(e,this.regex,this.handlers),[s,n,o]=r?nme(r):[null,null,void 0];if(Iy(r,"a")&&Iy(r,"H"))throw new gm("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:i,matches:r,result:s,zone:n,specificOffset:o}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function mH(t,e,i){return new fH(t,i).explainFromTokens(e)}function lme(t,e,i){const{result:r,zone:s,specificOffset:n,invalidReason:o}=mH(t,e,i);return[r,s,n,o]}function yH(t,e){if(!t)return null;const r=Wr.create(e,t).dtFormatter(ome()),s=r.formatToParts(),n=r.resolvedOptions();return s.map(o=>ime(o,t,n))}const r5="Invalid DateTime",ume=864e13;function sv(t){return new Ho("unsupported zone",`the zone "${t.name}" is not supported`)}function s5(t){return t.weekData===null&&(t.weekData=tx(t.c)),t.weekData}function n5(t){return t.localWeekData===null&&(t.localWeekData=tx(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function Nh(t,e){const i={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new be({...i,...e,old:i})}function gH(t,e,i){let r=t-e*60*1e3;const s=i.offset(r);if(e===s)return[r,e];r-=(s-e)*60*1e3;const n=i.offset(r);return s===n?[r,s]:[t-Math.min(s,n)*60*1e3,Math.max(s,n)]}function m_(t,e){t+=e*60*1e3;const i=new Date(t);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function v2(t,e,i){return gH(uT(t),e,i)}function pL(t,e){const i=t.o,r=t.c.year+Math.trunc(e.years),s=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,n={...t.c,year:r,month:s,day:Math.min(t.c.day,ix(r,s))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=wt.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),l=uT(n);let[c,d]=gH(l,i,t.zone);return o!==0&&(c+=o,d=t.zone.offset(c)),{ts:c,o:d}}function _f(t,e,i,r,s,n){const{setZone:o,zone:l}=i;if(t&&Object.keys(t).length!==0||e){const c=e||l,d=be.fromObject(t,{...i,zone:c,specificOffset:n});return o?d:d.setZone(l)}else return be.invalid(new Ho("unparsable",`the input "${s}" can't be parsed as ${r}`))}function y_(t,e,i=!0){return t.isValid?Wr.create(At.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(t,e):null}function o5(t,e,i){const r=t.c.year>9999||t.c.year<0;let s="";if(r&&t.c.year>=0&&(s+="+"),s+=Gi(t.c.year,r?6:4),i==="year")return s;if(e){if(s+="-",s+=Gi(t.c.month),i==="month")return s;s+="-"}else if(s+=Gi(t.c.month),i==="month")return s;return s+=Gi(t.c.day),s}function fL(t,e,i,r,s,n,o){let l=!i||t.c.millisecond!==0||t.c.second!==0,c="";switch(o){case"day":case"month":case"year":break;default:if(c+=Gi(t.c.hour),o==="hour")break;if(e){if(c+=":",c+=Gi(t.c.minute),o==="minute")break;l&&(c+=":",c+=Gi(t.c.second))}else{if(c+=Gi(t.c.minute),o==="minute")break;l&&(c+=Gi(t.c.second))}if(o==="second")break;l&&(!r||t.c.millisecond!==0)&&(c+=".",c+=Gi(t.c.millisecond,3))}return s&&(t.isOffsetFixed&&t.offset===0&&!n?c+="Z":t.o<0?(c+="-",c+=Gi(Math.trunc(-t.o/60)),c+=":",c+=Gi(Math.trunc(-t.o%60))):(c+="+",c+=Gi(Math.trunc(t.o/60)),c+=":",c+=Gi(Math.trunc(t.o%60)))),n&&(c+="["+t.zone.ianaName+"]"),c}const vH={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},cme={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},hme={ordinal:1,hour:0,minute:0,second:0,millisecond:0},w2=["year","month","day","hour","minute","second","millisecond"],dme=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],pme=["year","ordinal","hour","minute","second","millisecond"];function b2(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new vG(t);return e}function mL(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return b2(t)}}function fme(t){if(nv===void 0&&(nv=Ti.now()),t.type!=="iana")return t.offset(nv);const e=t.name;let i=mA.get(e);return i===void 0&&(i=t.offset(nv),mA.set(e,i)),i}function yL(t,e){const i=gc(e.zone,Ti.defaultZone);if(!i.isValid)return be.invalid(sv(i));const r=At.fromObject(e);let s,n;if(He(t.year))s=Ti.now();else{for(const c of w2)He(t[c])&&(t[c]=vH[c]);const o=BG(t)||GG(t);if(o)return be.invalid(o);const l=fme(i);[s,n]=v2(t,l,i)}return new be({ts:s,zone:i,loc:r,o:n})}function gL(t,e,i){const r=He(i.round)?!0:i.round,s=He(i.rounding)?"trunc":i.rounding,n=(l,c)=>(l=cR(l,r||i.calendary?0:2,i.calendary?"round":s),e.loc.clone(i).relFormatter(i).format(l,c)),o=l=>i.calendary?e.hasSame(t,l)?0:e.startOf(l).diff(t.startOf(l),l).get(l):e.diff(t,l).get(l);if(i.unit)return n(o(i.unit),i.unit);for(const l of i.units){const c=o(l);if(Math.abs(c)>=1)return n(c,l)}return n(t>e?-0:0,i.units[i.units.length-1])}function vL(t){let e={},i;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],i=Array.from(t).slice(0,t.length-1)):i=Array.from(t),[e,i]}let nv;const mA=new Map;class be{constructor(e){const i=e.zone||Ti.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new Ho("invalid input"):null)||(i.isValid?null:sv(i));this.ts=He(e.ts)?Ti.now():e.ts;let s=null,n=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(i))[s,n]=[e.old.c,e.old.o];else{const l=Rc(e.o)&&!e.old?e.o:i.offset(this.ts);s=m_(this.ts,l),r=Number.isNaN(s.year)?new Ho("invalid input"):null,s=r?null:s,n=r?null:l}this._zone=i,this.loc=e.loc||At.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=s,this.o=n,this.isLuxonDateTime=!0}static now(){return new be({})}static local(){const[e,i]=vL(arguments),[r,s,n,o,l,c,d]=i;return yL({year:r,month:s,day:n,hour:o,minute:l,second:c,millisecond:d},e)}static utc(){const[e,i]=vL(arguments),[r,s,n,o,l,c,d]=i;return e.zone=Wi.utcInstance,yL({year:r,month:s,day:n,hour:o,minute:l,second:c,millisecond:d},e)}static fromJSDate(e,i={}){const r=Gpe(e)?e.valueOf():NaN;if(Number.isNaN(r))return be.invalid("invalid input");const s=gc(i.zone,Ti.defaultZone);return s.isValid?new be({ts:r,zone:s,loc:At.fromObject(i)}):be.invalid(sv(s))}static fromMillis(e,i={}){if(Rc(e))return e<-864e13||e>ume?be.invalid("Timestamp out of range"):new be({ts:e,zone:gc(i.zone,Ti.defaultZone),loc:At.fromObject(i)});throw new Ur(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,i={}){if(Rc(e))return new be({ts:e*1e3,zone:gc(i.zone,Ti.defaultZone),loc:At.fromObject(i)});throw new Ur("fromSeconds requires a numerical input")}static fromObject(e,i={}){e=e||{};const r=gc(i.zone,Ti.defaultZone);if(!r.isValid)return be.invalid(sv(r));const s=At.fromObject(i),n=rx(e,mL),{minDaysInFirstWeek:o,startOfWeek:l}=iL(n,s),c=Ti.now(),d=He(i.specificOffset)?r.offset(c):i.specificOffset,m=!He(n.ordinal),v=!He(n.year),w=!He(n.month)||!He(n.day),_=v||w,x=n.weekYear||n.weekNumber;if((_||m)&&x)throw new gm("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(w&&m)throw new gm("Can't mix ordinal dates with month/day");const T=x||n.weekday&&!_;let $,O,C=m_(c,d);T?($=dme,O=cme,C=tx(C,o,l)):m?($=pme,O=hme,C=t5(C)):($=w2,O=vH);let R=!1;for(const te of $){const pe=n[te];He(pe)?R?n[te]=O[te]:n[te]=C[te]:R=!0}const N=T?Upe(n,o,l):m?qpe(n):BG(n),j=N||GG(n);if(j)return be.invalid(j);const z=T?eL(n,o,l):m?tL(n):n,[ee,Q]=v2(z,d,r),J=new be({ts:ee,zone:r,o:Q,loc:s});return n.weekday&&_&&e.weekday!==J.weekday?be.invalid("mismatched weekday",`you can't specify both a weekday of ${n.weekday} and a date of ${J.toISO()}`):J.isValid?J:be.invalid(J.invalid)}static fromISO(e,i={}){const[r,s]=Pfe(e);return _f(r,s,i,"ISO 8601",e)}static fromRFC2822(e,i={}){const[r,s]=jfe(e);return _f(r,s,i,"RFC 2822",e)}static fromHTTP(e,i={}){const[r,s]=Nfe(e);return _f(r,s,i,"HTTP",i)}static fromFormat(e,i,r={}){if(He(e)||He(i))throw new Ur("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:n=null}=r,o=At.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0}),[l,c,d,m]=lme(o,e,i);return m?be.invalid(m):_f(l,c,r,`format ${i}`,e,d)}static fromString(e,i,r={}){return be.fromFormat(e,i,r)}static fromSQL(e,i={}){const[r,s]=qfe(e);return _f(r,s,i,"SQL",e)}static invalid(e,i=null){if(!e)throw new Ur("need to specify a reason the DateTime is invalid");const r=e instanceof Ho?e:new Ho(e,i);if(Ti.throwOnInvalid)throw new ype(r);return new be({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,i={}){const r=yH(e,At.fromObject(i));return r?r.map(s=>s?s.val:null).join(""):null}static expandFormat(e,i={}){return pH(Wr.parseFormat(e),At.fromObject(i)).map(s=>s.val).join("")}static resetCache(){nv=void 0,mA.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?s5(this).weekYear:NaN}get weekNumber(){return this.isValid?s5(this).weekNumber:NaN}get weekday(){return this.isValid?s5(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?n5(this).weekday:NaN}get localWeekNumber(){return this.isValid?n5(this).weekNumber:NaN}get localWeekYear(){return this.isValid?n5(this).weekYear:NaN}get ordinal(){return this.isValid?t5(this.c).ordinal:NaN}get monthShort(){return this.isValid?p_.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?p_.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?p_.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?p_.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,i=6e4,r=uT(this.c),s=this.zone.offset(r-e),n=this.zone.offset(r+e),o=this.zone.offset(r-s*i),l=this.zone.offset(r-n*i);if(o===l)return[this];const c=r-o*i,d=r-l*i,m=m_(c,o),v=m_(d,l);return m.hour===v.hour&&m.minute===v.minute&&m.second===v.second&&m.millisecond===v.millisecond?[Nh(this,{ts:c}),Nh(this,{ts:d})]:[this]}get isInLeapYear(){return Ew(this.year)}get daysInMonth(){return ix(this.year,this.month)}get daysInYear(){return this.isValid?km(this.year):NaN}get weeksInWeekYear(){return this.isValid?V1(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?V1(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:i,numberingSystem:r,calendar:s}=Wr.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:i,numberingSystem:r,outputCalendar:s}}toUTC(e=0,i={}){return this.setZone(Wi.instance(e),i)}toLocal(){return this.setZone(Ti.defaultZone)}setZone(e,{keepLocalTime:i=!1,keepCalendarTime:r=!1}={}){if(e=gc(e,Ti.defaultZone),e.equals(this.zone))return this;if(e.isValid){let s=this.ts;if(i||r){const n=e.offset(this.ts),o=this.toObject();[s]=v2(o,n,e)}return Nh(this,{ts:s,zone:e})}else return be.invalid(sv(e))}reconfigure({locale:e,numberingSystem:i,outputCalendar:r}={}){const s=this.loc.clone({locale:e,numberingSystem:i,outputCalendar:r});return Nh(this,{loc:s})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const i=rx(e,mL),{minDaysInFirstWeek:r,startOfWeek:s}=iL(i,this.loc),n=!He(i.weekYear)||!He(i.weekNumber)||!He(i.weekday),o=!He(i.ordinal),l=!He(i.year),c=!He(i.month)||!He(i.day),d=l||c,m=i.weekYear||i.weekNumber;if((d||o)&&m)throw new gm("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&o)throw new gm("Can't mix ordinal dates with month/day");let v;n?v=eL({...tx(this.c,r,s),...i},r,s):He(i.ordinal)?(v={...this.toObject(),...i},He(i.day)&&(v.day=Math.min(ix(v.year,v.month),v.day))):v=tL({...t5(this.c),...i});const[w,_]=v2(v,this.o,this.zone);return Nh(this,{ts:w,o:_})}plus(e){if(!this.isValid)return this;const i=wt.fromDurationLike(e);return Nh(this,pL(this,i))}minus(e){if(!this.isValid)return this;const i=wt.fromDurationLike(e).negate();return Nh(this,pL(this,i))}startOf(e,{useLocaleWeeks:i=!1}={}){if(!this.isValid)return this;const r={},s=wt.normalizeUnit(e);switch(s){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(s==="weeks")if(i){const n=this.loc.getStartOfWeek(),{weekday:o}=this;o<n&&(r.weekNumber=this.weekNumber-1),r.weekday=n}else r.weekday=1;if(s==="quarters"){const n=Math.ceil(this.month/3);r.month=(n-1)*3+1}return this.set(r)}endOf(e,i){return this.isValid?this.plus({[e]:1}).startOf(e,i).minus(1):this}toFormat(e,i={}){return this.isValid?Wr.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,e):r5}toLocaleString(e=ex,i={}){return this.isValid?Wr.create(this.loc.clone(i),e).formatDateTime(this):r5}toLocaleParts(e={}){return this.isValid?Wr.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:i=!1,suppressMilliseconds:r=!1,includeOffset:s=!0,extendedZone:n=!1,precision:o="milliseconds"}={}){if(!this.isValid)return null;o=b2(o);const l=e==="extended";let c=o5(this,l,o);return w2.indexOf(o)>=3&&(c+="T"),c+=fL(this,l,i,r,s,n,o),c}toISODate({format:e="extended",precision:i="day"}={}){return this.isValid?o5(this,e==="extended",b2(i)):null}toISOWeekDate(){return y_(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:i=!1,includeOffset:r=!0,includePrefix:s=!1,extendedZone:n=!1,format:o="extended",precision:l="milliseconds"}={}){return this.isValid?(l=b2(l),(s&&w2.indexOf(l)>=3?"T":"")+fL(this,o==="extended",i,e,r,n,l)):null}toRFC2822(){return y_(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return y_(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?o5(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:i=!1,includeOffsetSpace:r=!0}={}){let s="HH:mm:ss.SSS";return(i||e)&&(r&&(s+=" "),i?s+="z":e&&(s+="ZZ")),y_(this,s,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():r5}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const i={...this.c};return e.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,i="milliseconds",r={}){if(!this.isValid||!e.isValid)return wt.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...r},n=Hpe(i).map(wt.normalizeUnit),o=e.valueOf()>this.valueOf(),l=o?this:e,c=o?e:this,d=Yfe(l,c,n,s);return o?d.negate():d}diffNow(e="milliseconds",i={}){return this.diff(be.now(),e,i)}until(e){return this.isValid?wi.fromDateTimes(this,e):this}hasSame(e,i,r){if(!this.isValid)return!1;const s=e.valueOf(),n=this.setZone(e.zone,{keepLocalTime:!0});return n.startOf(i,r)<=s&&s<=n.endOf(i,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const i=e.base||be.fromObject({},{zone:this.zone}),r=e.padding?this<i?-e.padding:e.padding:0;let s=["years","months","days","hours","minutes","seconds"],n=e.unit;return Array.isArray(e.unit)&&(s=e.unit,n=void 0),gL(i,this.plus(r),{...e,numeric:"always",units:s,unit:n})}toRelativeCalendar(e={}){return this.isValid?gL(e.base||be.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(be.isDateTime))throw new Ur("min requires all arguments be DateTimes");return rL(e,i=>i.valueOf(),Math.min)}static max(...e){if(!e.every(be.isDateTime))throw new Ur("max requires all arguments be DateTimes");return rL(e,i=>i.valueOf(),Math.max)}static fromFormatExplain(e,i,r={}){const{locale:s=null,numberingSystem:n=null}=r,o=At.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0});return mH(o,e,i)}static fromStringExplain(e,i,r={}){return be.fromFormatExplain(e,i,r)}static buildFormatParser(e,i={}){const{locale:r=null,numberingSystem:s=null}=i,n=At.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0});return new fH(n,e)}static fromFormatParser(e,i,r={}){if(He(e)||He(i))throw new Ur("fromFormatParser requires an input string and a format parser");const{locale:s=null,numberingSystem:n=null}=r,o=At.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0});if(!o.equals(i.locale))throw new Ur(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${i.locale}`);const{result:l,zone:c,specificOffset:d,invalidReason:m}=i.explainFromTokens(e);return m?be.invalid(m):_f(l,c,r,`format ${i.format}`,e,d)}static get DATE_SHORT(){return ex}static get DATE_MED(){return wG}static get DATE_MED_WITH_WEEKDAY(){return wpe}static get DATE_FULL(){return bG}static get DATE_HUGE(){return _G}static get TIME_SIMPLE(){return SG}static get TIME_WITH_SECONDS(){return xG}static get TIME_WITH_SHORT_OFFSET(){return TG}static get TIME_WITH_LONG_OFFSET(){return $G}static get TIME_24_SIMPLE(){return MG}static get TIME_24_WITH_SECONDS(){return EG}static get TIME_24_WITH_SHORT_OFFSET(){return AG}static get TIME_24_WITH_LONG_OFFSET(){return OG}static get DATETIME_SHORT(){return kG}static get DATETIME_SHORT_WITH_SECONDS(){return CG}static get DATETIME_MED(){return RG}static get DATETIME_MED_WITH_SECONDS(){return IG}static get DATETIME_MED_WITH_WEEKDAY(){return bpe}static get DATETIME_FULL(){return PG}static get DATETIME_FULL_WITH_SECONDS(){return jG}static get DATETIME_HUGE(){return NG}static get DATETIME_HUGE_WITH_SECONDS(){return DG}}function k0(t){if(be.isDateTime(t))return t;if(t&&t.valueOf&&Rc(t.valueOf()))return be.fromJSDate(t);if(t&&typeof t=="object")return be.fromObject(t);throw new Ur(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const mme="HH:mm",yme="HH:mm:ss",gme="HH:mm:ss.SSS",vme=[gme,yme,mme,"TT"],wme="yyyy-MM-dd";function wL(t){if(!t||!Mw(t))return null;const e=be.fromFormat(t,wme);return e.isValid?e:null}function bL(t){return t&&Mw(t)?Qce(vme,e=>{const i=be.fromFormat(t,e);return i.isValid?i:null})??null:null}function _L(t){if(!t||!Mw(t))return null;const e=be.fromISO(t);return e.isValid?e:null}const wH=new Set(["integer","small-integer","long","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"]);function bme(t){return t!=null&&wH.has(t.type)}function bH(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function _H(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function SH(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}const _me=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]);XC(wH,_me);function Qje(t,e){const i=t==null?void 0:t.domain;if(!i||i.type!=="range")return;const r="range"in i?i.range[0]:i.minValue,s="range"in i?i.range[1]:i.maxValue,n=bme(t);return bH(t)||SH(t)||_H(t)?{...Sme(t,s,r),isInteger:n}:{min:r!=null&&typeof r=="number"?r:null,max:s!=null&&typeof s=="number"?s:null,rawMin:r,rawMax:s,isInteger:n}}function Sme(t,e,i){var r,s,n,o,l,c;return bH(t)?{min:(r=wL(i))==null?void 0:r.toMillis(),max:(s=wL(e))==null?void 0:s.toMillis(),rawMin:i,rawMax:e}:SH(t)?{min:(n=bL(i))==null?void 0:n.toMillis(),max:(o=bL(e))==null?void 0:o.toMillis(),rawMin:i,rawMax:e}:_H(t)?{min:(l=_L(i))==null?void 0:l.toMillis(),max:(c=_L(e))==null?void 0:c.toMillis(),rawMin:i,rawMax:e}:{max:null,min:null}}function xme(t){if(!t)return;const e=t.match(Tme);return e!=null&&e.groups?e.groups.doubleQuoted??e.groups.singleQuoted??e.groups.dotNotation:void 0}const Tme=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-z_][a-z0-9_]*))$/i;function $me(t){var e,i;return((i=(e=t.match(Mme))==null?void 0:e[1])==null?void 0:i.replaceAll("\\'","'"))??null}const Mme=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;let a5;function Py(){return a5||(a5=(async()=>{const[t,e,i]=await Promise.all([re(()=>import("./arcadeUtils-DpfdOn_H.js"),__vite__mapDeps([2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,16,17,18,19,20])),re(()=>import("./batchExec-Dp3OOPn3.js"),__vite__mapDeps([21,22])),re(()=>import("./aiServices-79Qlg4Di.js").then(r=>r.a),__vite__mapDeps([14,5,6,7,8,15,4]))]);return{arcade:t.arcade,arcadeUtils:t,batchExec:e,aiServices:i,Dictionary:t.Dictionary,Feature:t.arcadeFeature,Voxel:t.Voxel,Pixel:t.Pixel}})()),a5}const Eme=/^([0-9_])/,Ame=/[^a-z0-9_\u0080-\uffff]+/gi;function Ome(t){return t==null?null:t.trim().replaceAll(Ame,"_").replace(Eme,"F$1")||null}const kme=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],Cme=["field","normalizationField"];function SL(t,e){if(t!=null&&e!=null){for(const i of Array.isArray(t)?t:[t])if(xL(kme,i,e),"visualVariables"in i&&i.visualVariables)for(const r of i.visualVariables)xL(Cme,r,e)}}function xL(t,e,i){if(t)for(const r of t){const s=Qx(r,e),n=s&&typeof s!="function"&&i.get(s);n&&bs(r,n.name,e)}}function xH(t,e){var i;if(t!=null&&((i=e==null?void 0:e.fields)!=null&&i.length))if("startField"in t){const r=e.get(t.startField),s=e.get(t.endField);t.startField=(r==null?void 0:r.name)??null,t.endField=(s==null?void 0:s.name)??null}else{const r=e.get(t.startTimeField),s=e.get(t.endTimeField);t.startTimeField=(r==null?void 0:r.name)??null,t.endTimeField=(s==null?void 0:s.name)??null}}const l5=new Set;function dT(t,e){return t&&e?(l5.clear(),F1(l5,t,e),Array.from(l5).sort()):[]}function F1(t,e,i){var r;if(i)if((r=e==null?void 0:e.fields)!=null&&r.length)if(i.includes("*"))for(const{name:s}of e.fields)t.add(s);else for(const s of i)qs(t,e,s);else{if(i.includes("*"))return t.clear(),void t.add("*");for(const s of i)s!=null&&t.add(s)}}function qs(t,e,i){if(typeof i=="string")if(e){const r=e.get(i);r&&t.add(r.name)}else t.add(i)}function eNe(t,e){return e==null||t==null?[]:e.includes("*")?(t.fields??[]).map(i=>i.name):e}function tNe(t,e,i=1){if(!e||!t)return[];if(e.includes("*"))return["*"];const r=dT(t,e);return r.length/t.fields.length>=i?["*"]:r}async function Ss(t,e,i,r){var n;if(!r)return;const s=xme(r);if(s)qs(t,e,s);else{const{arcadeUtils:o}=await Py(),l=o.extractFieldNames(r,(i==null?void 0:i.partitions)??((n=e==null?void 0:e.fields)==null?void 0:n.map(c=>c.name)));for(const c of l)qs(t,(i==null?void 0:i.index)??e,c)}}async function fR(t,e,i){if(i&&i!=="1=1"){const r=await gG(i,e);if(!r.isStandardized)throw new B("fieldUtils:collectFilterFields","Where clause is not standardized",{where:i});F1(t,e,r.fieldNames)}}function Rme({displayField:t,fields:e}){return t||(e!=null&&e.length?Ime(e):null)}function Ime(t){return u5(t,"name-or-title")||u5(t,"unique-identifier")||u5(t,"type-or-category")||Pme(t)}function Pme(t){for(const e of t){if(!(e!=null&&e.name))continue;const i=e.name.toLowerCase();if(i.includes("name")||i.includes("title"))return e.name}return null}function u5(t,e){for(const i of t)if(i!=null&&i.valueType&&i.valueType===e)return i.name;return null}async function iNe(t,e){var r;if(!e)return;const i=(r=e.elevationInfo)==null?void 0:r.featureExpressionInfo;return i?i.collectRequiredFields(t,e.fieldsIndex):void 0}function jme(t,e,i){i.onStatisticExpression?Ss(t,e,null,i.onStatisticExpression.expression):t.add(i.onStatisticField)}async function rNe(t,e,i){if(!e||!i||!("fields"in i))return;const r=[],s=i.popupTemplate;r.push(TH(t,e,s)),i.fields&&r.push(...i.fields.map(async n=>jme(t,e.fieldsIndex,n))),await Promise.all(r)}async function sNe(t,e){var n,o,l;const{fieldsIndex:i,trackInfo:r}=e;if(!e||!r||!i)return;const s=[(n=r.latestObservations.renderer)==null?void 0:n.collectRequiredFields(t,i),(o=r.previousObservations.renderer)==null?void 0:o.collectRequiredFields(t,i),(l=r.trackLines.renderer)==null?void 0:l.collectRequiredFields(t,i)];r.popupTemplate&&s.push(TH(t,e,r.popupTemplate));for(const c of[r.latestObservations.labelingInfo,r.previousObservations.labelingInfo,r.trackLines.labelingInfo])if(c)for(const d of c)s.push(EH(t,i,d));await Promise.all(s)}async function TH(t,e,i){const r=[];i!=null&&i.expressionInfos&&r.push(...i.expressionInfos.map(n=>Ss(t,e.fieldsIndex,null,n.expression)));const s=i==null?void 0:i.content;if(Array.isArray(s))for(const n of s)n.type==="expression"&&n.expressionInfo&&r.push(Ss(t,e.fieldsIndex,null,n.expressionInfo.expression));await Promise.all(r)}async function nNe(t,e,i){e&&(e.timeInfo&&(i!=null&&i.timeExtent)&&F1(t,e.fieldsIndex,[e.timeInfo.startField,e.timeInfo.endField]),e.floorInfo&&F1(t,e.fieldsIndex,[e.floorInfo.floorField]),(i==null?void 0:i.where)!=null&&await fR(t,e.fieldsIndex,i.where))}async function oNe(t,e,i){e&&i&&await Promise.all(i.map(r=>Nme(t,e,r)))}async function Nme(t,e,i){e&&i&&(i.valueExpression?await Ss(t,e.fieldsIndex,null,i.valueExpression):i.field&&qs(t,e.fieldsIndex,i.field))}function aNe(t){return t?dT(t.fieldsIndex,$H(t)):[]}function Dme(t){if(!t)return[];const e=t.geometryFieldsInfo;return e?dT(t.fieldsIndex,[e.shapeAreaField,e.shapeLengthField]):[]}async function lNe(t,e,i){if(!e||!i)return;const r=e.fieldsIndex;await Promise.all(i.filters.map(s=>fR(t,r,s.where)))}const Lme=new Set(["oid","global-id","guid"]),Vme=new Set(["oid","global-id"]),Fme=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/objectid/i,/^perimeter_/i,/_perimeter$/i,/_i$/i];function zme(t){const e=new Set;MH(t).forEach(r=>e.add(r)),Dme(t).forEach(r=>e.add(r.toLowerCase()));const i=t&&"infoFor3D"in t?t.infoFor3D:void 0;return i&&(Object.values(i.assetMapFieldRoles).forEach(r=>e.add(r.toLowerCase())),Object.values(i.transformFieldRoles).forEach(r=>e.add(r.toLowerCase()))),Array.from(e)}function $H(t){if(!t)return[];const e="editFieldsInfo"in t&&t.editFieldsInfo;if(!e)return[];const{creationDateField:i,creatorField:r,editDateField:s,editorField:n}=e;return[i,r,s,n].filter(Boolean)}function MH(t){return $H(t).map(e=>e.toLowerCase())}function Ume(t,e){var i;return t.editable&&!Lme.has(t.type)&&!MH(e).includes(((i=t.name)==null?void 0:i.toLowerCase())??"")}function qme(t,e){var r;const i=((r=t.name)==null?void 0:r.toLowerCase())??"";return!((e==null?void 0:e.objectIdField)!=null&&i===e.objectIdField.toLowerCase()||(e==null?void 0:e.globalIdField)!=null&&i===e.globalIdField.toLowerCase()||zme(e).includes(i)||Vme.has(t.type)||Fme.some(s=>s.test(i)))}async function uNe(t,e){const{labelingInfo:i,fieldsIndex:r}=e;i!=null&&i.length&&await Promise.all(i.map(s=>EH(t,r,s)))}async function EH(t,e,i){if(!i)return;const r=i.getLabelExpression(),s=i.where;if(r.type==="arcade")await Ss(t,e,null,r.expression);else{const n=r.expression.match(/{[^}]*}/g);n&&n.forEach(o=>{qs(t,e,o.slice(1,-1))})}await fR(t,e,s)}function Bme(t){const e=t.defaultValue;return e!==void 0&&OH(t,e)?e:t.nullable?null:void 0}function cNe(t){const e=typeof t=="string"?{type:t}:t;return CH(e)?255:e.type==="esriFieldTypeDate"||e.type==="date"?8:void 0}function AH(t){return typeof t=="number"&&!isNaN(t)&&isFinite(t)}function Gme(t){return t===null||AH(t)}function Hme(t){return t===null||Number.isInteger(t)}function Wme(){return!0}function OH(t,e){let i;switch(t.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":i=t.nullable?Hme:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=t.nullable?Gme:AH;break;case"string":case"esriFieldTypeString":i=t.nullable?mpe:Mw;break;default:i=Wme}return arguments.length===1?i:i(e)}const Zme=["integer","small-integer","big-integer","long"],Yme=["single","double"],Jme=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"],Kme=["esriFieldTypeSingle","esriFieldTypeDouble"],kH=new Set([...Zme,...Jme]),Xme=new Set([...Yme,...Kme]),Qme=XC(kH,Xme);function eye(t){return t!=null&&kH.has(t.type)}function mR(t){return t!=null&&Qme.has(t.type)}function CH(t){return t!=null&&(t.type==="string"||t.type==="esriFieldTypeString")}function RH(t){return t!=null&&(t.type==="date"||t.type==="esriFieldTypeDate")}function tye(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function iye(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function IH(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}function TL(t){return t!=null&&(t.type==="oid"||t.type==="esriFieldTypeOID")}function $L(t){return t!=null&&(t.type==="global-id"||t.type==="esriFieldTypeGlobalID")}function hNe(t,e){return rye(t,e)===null}function dNe(t){return t==null||typeof t=="number"&&isNaN(t)?null:t}function rye(t,e){return t==null||t.nullable&&e===null?null:OH(t,e)?mR(t)&&!sye(t.type,Number(e))?"numeric-range-validation-error::out-of-range":null:"type-validation-error::invalid-type"}function sye(t,e){const i=typeof t=="string"?PH(t):t;if(!i)return!1;const r=i.min,s=i.max;return i.isInteger?Number.isInteger(e)&&e>=r&&e<=s:e>=r&&e<=s}function PH(t){switch(t){case"esriFieldTypeSmallInteger":case"small-integer":return nye;case"esriFieldTypeInteger":case"esriFieldTypeLong":case"integer":case"long":return oye;case"esriFieldTypeBigInteger":case"big-integer":return aye;case"esriFieldTypeSingle":case"single":return lye;case"esriFieldTypeDouble":case"double":return uye}}const nye={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},oye={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},aye={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},ML=(2-2**-23)*2**127,lye={min:-34028234663852886e22,max:ML,isInteger:!1,rawMin:-34028234663852886e22,rawMax:ML},uye={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function pNe(t,e,i){switch(t){case"domain-validation-error::invalid-coded-value":return`Value ${i} is not in the coded domain - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case"domain-validation-error::value-out-of-range":return`Value ${i} is out of the range of valid values - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case"type-validation-error::invalid-type":return`Value ${i} is not a valid value for the field type - field: ${e.name}, type: ${e.type}, nullable: ${e.nullable}`;case"numeric-range-validation-error::out-of-range":{const{min:r,max:s}=PH(e.type);return`Value ${i} is out of range for the number type - field: ${e.name}, type: ${e.type}, value range is ${r} to ${s}`}}}function fNe(t,e){return!cye(t,e,null)}function cye(t,e,i){if(!(t!=null&&t.attributes)||!e)return!0;const r=new Set(Object.keys(t.attributes));let s=!1;for(const n of e)if(!r.has(n)&&(s=!0,i==null))break;return s}function hye(t){return!!t&&["raster.itempixelvalue","raster.servicepixelvalue"].some(e=>t.toLowerCase().startsWith(e))}function dye(t){const e=t==null?void 0:t.match(/{[^}]+}/g);return e?e.map(i=>i.slice(1,-1).split(":")[0].trim()):[]}let _2=class extends ae{constructor(e){super(e),this.type=null}};h([f({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],_2.prototype,"type",void 0),_2=h([I("esri.popup.content.Content")],_2);const du=_2;let ct=class{constructor(e,i={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=e,this._options=i,this.apiValues=[],this.jsonValues=[],this._apiToJSON=pye(e),this.apiValues=EL(this._apiToJSON),this.jsonValues=EL(this._jsonToAPI),this.read=r=>this.fromJSON(r),this.write=(r,s,n)=>{const o=this.toJSON(r);o!==void 0&&bs(n,o,s)},this.write.isJSONMapWriter=!0}toJSON(e){if(e==null)return null;if(this._apiToJSON.hasOwnProperty(e)){const i=this._apiToJSON[e];return this._options.useNumericKeys?+i:i}return this._options.ignoreUnknown?null:e}fromJSON(e){return e!=null&&this._jsonToAPI.hasOwnProperty(e)?this._jsonToAPI[e]:this._options.ignoreUnknown?void 0:e}};function pye(t){const e={};for(const i in t)e[t[i]]=i;return e}function EL(t){const e=[];for(const i in t)e.push(i);return e.sort(),e}function wr(){return function(t,e){return new ct(t,{ignoreUnknown:!0,...e})}}const g_=new ct({asc:"ascending",desc:"descending"});let ov=class extends rt(ae){constructor(e){super(e),this.field=null,this.order="ascending"}};h([f({type:String,json:{write:!0}})],ov.prototype,"field",void 0),h([f({type:g_.apiValues,json:{type:g_.jsonValues,read:g_.read,write:g_.write}})],ov.prototype,"order",void 0),ov=h([I("esri.popup.support.AttachmentsOrderByInfo")],ov);const fye=ov;let da=class extends rt(du){constructor(e){super(e),this.attachmentKeywords=null,this.attachmentTypes=null,this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};h([f({type:[String],json:{write:!0}})],da.prototype,"attachmentKeywords",void 0),h([f({type:[["application","audio","image","model","text","video"]],json:{write:!0}})],da.prototype,"attachmentTypes",void 0),h([f({type:String,json:{write:!0}})],da.prototype,"description",void 0),h([f({type:["auto","preview","list"],json:{write:!0}})],da.prototype,"displayType",void 0),h([f({type:[fye],json:{write:!0}})],da.prototype,"orderByFields",void 0),h([f({type:String,json:{write:!0}})],da.prototype,"title",void 0),h([f({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],da.prototype,"type",void 0),da=h([I("esri.popup.content.AttachmentsContent")],da);const jy=da;var yA;let Wh=yA=class extends du{constructor(t){super(t),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new yA({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?G(this.outFields):null})}};h([f()],Wh.prototype,"creator",void 0),h([f()],Wh.prototype,"destroyer",void 0),h([f()],Wh.prototype,"outFields",void 0),h([f({type:["custom"],readOnly:!0})],Wh.prototype,"type",void 0),Wh=yA=h([I("esri.popup.content.CustomContent")],Wh);const mye=Wh;var gA;let Df=gA=class extends ae{constructor(t){super(t),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new gA({title:this.title,expression:this.expression})}};h([f({type:String,json:{write:!0}})],Df.prototype,"title",void 0),h([f({type:String,json:{write:!0}})],Df.prototype,"expression",void 0),h([f({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Df.prototype,"returnType",void 0),Df=gA=h([I("esri.popup.ElementExpressionInfo")],Df);const yye=Df;var vA;let av=vA=class extends du{constructor(t){super(t),this.expressionInfo=null,this.type="expression"}clone(){var t;return new vA({expressionInfo:(t=this.expressionInfo)==null?void 0:t.clone()})}};h([f({type:yye,json:{write:!0}})],av.prototype,"expressionInfo",void 0),h([f({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],av.prototype,"type",void 0),av=vA=h([I("esri.popup.content.ExpressionContent")],av);const pT=av;function ke(t,e={}){const i=t instanceof ct?t:new ct(t,e),{alwaysWriteDefaults:r,default:s,ignoreUnknown:n=!0,name:o,nonNullable:l,readOnly:c=!1}=e;return f({type:n?i.apiValues:String,json:{type:i.jsonValues,default:s,name:o,read:!c&&{reader:i.read},write:{writer:i.write,alwaysWriteDefaults:r}},nonNullable:l,readOnly:c})}let S2=class extends rt(ae){constructor(e){super(e),this.type=null}};h([f({type:["date-time","number"],nonNullable:!0,readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],S2.prototype,"type",void 0),S2=h([I("esri.layers.support.FieldFormat")],S2);const yR=S2,jH="auto";let gl=class extends yR{constructor(e){super(e),this.dateStyle=null,this.hour12=jH,this.month=null,this.timeStyle=null,this.type="date-time",this.year=null}};h([f({type:["full","long","medium","short"],json:{write:!0}})],gl.prototype,"dateStyle",void 0),h([f({type:["always","auto","never"],nonNullable:!0,json:{default:jH,write:!0}})],gl.prototype,"hour12",void 0),h([f({type:["long","short"],json:{write:!0}})],gl.prototype,"month",void 0),h([f({type:["full","long","medium","short"],json:{write:!0}})],gl.prototype,"timeStyle",void 0),h([f({type:["date-time"]})],gl.prototype,"type",void 0),h([f({type:["numeric"],json:{write:!0}})],gl.prototype,"year",void 0),gl=h([I("esri.layers.support.DateTimeFieldFormat")],gl);const qd=gl,AL={min:0,max:20},NH=2,DH=0,LH="decimal",VH="auto";let Ju=class extends yR{constructor(e){super(e),this.maximumFractionDigits=NH,this.minimumFractionDigits=DH,this.style=LH,this.type="number",this.useGrouping=VH}};h([f({type:ot,nonNullable:!0,range:AL,json:{default:NH,write:!0}})],Ju.prototype,"maximumFractionDigits",void 0),h([f({type:ot,nonNullable:!0,range:AL,json:{default:DH,write:!0}})],Ju.prototype,"minimumFractionDigits",void 0),h([f({type:["decimal"],nonNullable:!0,json:{default:LH,write:!0}})],Ju.prototype,"style",void 0),h([f({type:["number"]})],Ju.prototype,"type",void 0),h([f({type:["always","auto","never"],nonNullable:!0,json:{default:VH,write:!0}})],Ju.prototype,"useGrouping",void 0),Ju=h([I("esri.layers.support.NumberFieldFormat")],Ju);const sx=Ju;let Qv;var Oz,kz;const gye=((Oz=globalThis.esriConfig)==null?void 0:Oz.locale)??((kz=globalThis.dojoConfig)==null?void 0:kz.locale);var Cz;const e1=(Cz=globalThis.document)==null?void 0:Cz.documentElement;function FH(){var i;const t=e1==null?void 0:e1.getAttribute("lang"),e=(i=globalThis.navigator)==null?void 0:i.language;return gye??t??e??"en"}function Bs(){return Qv===void 0&&(Qv=FH()),Qv}const vye=/^(?<language>[a-z]{2,3})(?:-(?<extlang>[a-z]{3}))?(?:-[A-Z][a-z]{3})?(?:-(?<region>[A-Z]{2}|\d{3}))?(?:-.*)?$/;function gR(t=Bs()){var e;return(e=UH(t))==null?void 0:e.language}function zH(t=Bs()){const e=UH(t);return e!=null&&e.language&&(e!=null&&e.extlang)?t.replace(`${e.language}-`,""):t}function UH(t=Bs()){var e;return(e=vye.exec(t))==null?void 0:e.groups}const x2=[];function qH(t){return x2.push(t),at(()=>{x2.splice(x2.indexOf(t),1)})}const T2=[];function vR(t){return T2.push(t),at(()=>T2.splice(T2.indexOf(t),1))}function OL(){const t=FH();Qv!==t&&([...T2].forEach(e=>e(t)),Qv=t,[...x2].forEach(e=>e(t)))}var Rz;(Rz=globalThis.addEventListener)==null||Rz.call(globalThis,"languagechange",OL),e1&&new MutationObserver(()=>{OL()}).observe(e1,{attributeFilter:["lang"]});const Qo="system",Gc="unknown",Hc="UTC",wye=Intl.DateTimeFormat().resolvedOptions().timeZone,kL=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]),bye="shortOffset";function _ye(t){return"timeZoneIANA"in t}function Sye(t){return t.startsWith("UTC")}function BH(t,e=!1){return{json:{read:{source:t,reader:(i,r)=>r[t]?$2(r[t]):null},write:!!e&&{allowNull:!0,writer(i,r){r[t]=i?xye(i):null}}}}}function $2(t,e=Qo){return t?_ye(t)?t.timeZoneIANA:Tye(t,e):e}function xye(t){return{timeZoneIANA:t}}function Tye(t,e=Qo){if(!t||!kL.has(t.timeZone))return e;const i=kL.get(t.timeZone);return Sye(t.timeZone)||t.respectsDaylightSaving?i:$ye(i)}function $ye(t){const e=be.local().setZone(t),i=Math.min(e.set({month:1,day:1}).offset,e.set({month:5}).offset);return i===0?"Etc/UTC":`Etc/GMT${Wi.instance(-i).formatOffset(0,"narrow")}`}function SNe(t,e,i,r,s){if(e&&s==="date")return{timeZone:Hc,timeZoneName:void 0};const n=r.timeStyle||r.hour,o=i===Gc;return{timeZone:o?s==="timestamp-offset"?void 0:t??Hc:i,timeZoneName:o&&n?bye:void 0}}function Mye(t){const e=new Set(["etc/utc","etc/gmt","gmt"]),i=new Set(Intl.supportedValuesOf("timeZone").map(r=>r.toLowerCase()));return t===Qo||t===Gc||e.has(t.toLowerCase())||i.has(t.toLowerCase())}const Eye={dateStyle:void 0,year:void 0,month:void 0,day:void 0,weekday:void 0},Aye={timeStyle:void 0,hour12:void 0,hourCycle:void 0,hour:void 0,minute:void 0,second:void 0},GH={timeZone:Hc},ca={year:"numeric",month:"numeric",day:"numeric"},C0={year:"numeric",month:"long",day:"numeric"},R0={year:"numeric",month:"short",day:"numeric"},I0={year:"numeric",month:"long",weekday:"long",day:"numeric"},hc={hour:"numeric",minute:"numeric"},Zh={...hc,second:"numeric"},HH={hourCycle:"h23"},P0={...hc,...HH},j0={...Zh,...HH},WH={"short-date":ca,"short-date-short-time":{...ca,...hc},"short-date-short-time-24":{...ca,...P0},"short-date-long-time":{...ca,...Zh},"short-date-long-time-24":{...ca,...j0},"short-date-le":ca,"short-date-le-short-time":{...ca,...hc},"short-date-le-short-time-24":{...ca,...P0},"short-date-le-long-time":{...ca,...Zh},"short-date-le-long-time-24":{...ca,...j0},"long-month-day-year":C0,"long-month-day-year-short-time":{...C0,...hc},"long-month-day-year-short-time-24":{...C0,...P0},"long-month-day-year-long-time":{...C0,...Zh},"long-month-day-year-long-time-24":{...C0,...j0},"day-short-month-year":R0,"day-short-month-year-short-time":{...R0,...hc},"day-short-month-year-short-time-24":{...R0,...P0},"day-short-month-year-long-time":{...R0,...Zh},"day-short-month-year-long-time-24":{...R0,...j0},"long-date":I0,"long-date-short-time":{...I0,...hc},"long-date-short-time-24":{...I0,...P0},"long-date-long-time":{...I0,...Zh},"long-date-long-time-24":{...I0,...j0},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":hc,"long-time":Zh},Oye=wr()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),ZH={ar:"ar-u-nu-latn-ca-gregory",nn:"no-NN"},kye=new Intl.DateTimeFormat("bs",{month:"long"}).formatToParts(new Date(2025,2));var Iz;const Cye=(Iz=kye.find(({type:t})=>t==="month"))==null?void 0:Iz.value.toLowerCase();function YH(){const t=gR();return(t&&ZH[t])??zH()}Cye!=="mart"&&(ZH.bs="sr-Latn-CS");let wA=new WeakMap;const fT=WH["short-date-short-time"];function Rye(t){let e=wA.get(t);if(!e){const i=YH(),r=bR(t.timeZone??Qo),s={...t,timeZone:r};e=new Intl.DateTimeFormat(i,s),wA.set(t,e)}return e}function xNe(t){return WH[t]}function TNe(t){const{dateStyle:e,timeStyle:i,hour12:r,year:s,month:n}=t,o={};return e?o.dateStyle=e:s&&(o.year=s,o.month=n||void 0),i&&!o.year&&(o.timeStyle=i,o.hour12=r==="auto"?void 0:r==="always"),o}function wR(t,e=fT){return Rye(e).format(t)}function $Ne(t,e=fT){return wR(new Date(t),{...e,...GH,...Aye})}function MNe(t,e=fT){return wR(new Date(`1970-01-01T${t}Z`),{...e,...GH,...Eye})}function ENe(t,e=fT){if(e.timeZone)return wR(new Date(t),e);const i=be.fromISO(t,{setZone:!0}),r=i.offset===0?Hc:e.timeZone,s={...e,timeZone:r};return i.toLocaleString(s,{locale:YH()})}function bR(t){switch(t){case Qo:return wye;case Gc:return Hc;default:return t}}vR(()=>{wA=new WeakMap});let Lf=class extends rt(ae){constructor(e){super(e),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};h([ke(Oye)],Lf.prototype,"dateFormat",void 0),h([f({type:Boolean,json:{write:!0}})],Lf.prototype,"digitSeparator",void 0),h([f({type:ot,json:{write:!0}})],Lf.prototype,"places",void 0),Lf=h([I("esri.popup.support.FieldInfoFormat")],Lf);const ru=Lf,Iye={base:yR,key:"type",errorContext:"field-configuration-field-format",typeMap:{"date-time":qd,number:sx}};function ONe(t,e){const{format:i}=t;return e&&mT(e)?i?JH(i,e):M2(e,{hour12:"always",useGrouping:"always"}):null}function JH(t,e){const{dateFormat:i}=t;if(!e)return i?RL(t):CL(t);if(!mT(e))return;const r={hour12:"always"};switch(e.type){case"integer":case"small-integer":case"big-integer":case"long":return KH(t);case"single":case"double":return CL(t);case"date":case"timestamp-offset":return i?RL(t):M2(e,r);case"date-only":return i?Pye(t):M2(e);case"time-only":return i?jye(t):M2(e,r)}}function mT(t){return mR(t)||RH(t)||tye(t)||IH(t)||iye(t)}function KH(t){return new sx({useGrouping:t.digitSeparator?"always":"never"})}function CL(t){const e=KH(t),{places:i}=t;return e.minimumFractionDigits=i??0,e.maximumFractionDigits=i??2,e}function RL(t){return new qd({dateStyle:XH(t),year:iW(t),month:eW(t),timeStyle:tW(t),hour12:QH(t)})}function Pye(t){return new qd({dateStyle:XH(t),year:iW(t),month:eW(t)})}function jye(t){return new qd({timeStyle:tW(t),hour12:QH(t)})}function XH(t){const{dateFormat:e}=t;return e?e.startsWith("short-date")?"short":e.startsWith("day-short-month-year")?"medium":e.startsWith("long-month-day-year")?"long":e.startsWith("long-date")?"full":null:null}function QH(t){var e;return(e=t.dateFormat)!=null&&e.endsWith("-24")?"never":"always"}function eW(t){switch(t.dateFormat){case"short-month-year":return"short";case"long-month-year":return"long";default:return null}}function tW(t){const{dateFormat:e}=t;return e?e.includes("short-time")?"short":e.includes("long-time")?"medium":null:null}function iW(t){switch(t.dateFormat){case"short-month-year":case"long-month-year":case"year":return"numeric";default:return null}}function Nye(t,e){const i=t.type==="number",r=t.type==="date-time";if(!e)return i?IL(t):r?PL(t):null;if(mT(e))switch(e.type){case"integer":case"small-integer":case"big-integer":case"long":return i?rW(t):null;case"single":case"double":return i?IL(t):null;case"date":case"timestamp-offset":return r?PL(t):null;case"date-only":return r?Dye(t):null;case"time-only":return r?Lye(t):null}}function rW(t){return new ru({digitSeparator:t.useGrouping!=="never"})}function IL(t){const e=rW(t);return e.places=t.maximumFractionDigits,e}function PL(t){let e;const i=sW(t),r=nW(t),s=t.hour12==="never"?"24":null,n=t.year==="numeric"?"year":null,o=oW(t);return i&&r&&s?e=`${i}-${r}-${s}`:i&&r?e=`${i}-${r}`:i?e=i:n&&o?e=`${o}-${n}`:n&&(e=n),e?new ru({dateFormat:e}):null}function Dye(t){let e;const i=sW(t),r=t.year==="numeric"?"year":null,s=oW(t);return i?e=i:r&&s?e=`${s}-${r}`:r&&(e=r),e?new ru({dateFormat:e}):null}function Lye(t){let e;const i=nW(t),r=t.hour12==="never"?"24":null;return i&&r?e=`short-date-${i}-${r}`:i&&(e=`short-date-${i}`),e?new ru({dateFormat:e}):null}function sW(t){switch(t.dateStyle){case"short":return"short-date";case"medium":return"day-short-month-year";case"long":return"long-month-day-year";case"full":return"long-date";default:return}}function nW(t){return t.timeStyle&&(t.timeStyle==="short"?"short-time":"long-time")}function oW(t){switch(t.month){case"short":return"short-month";case"long":return"long-month";default:return}}function M2(t,e){if(!mT(t))return;const i=(e==null?void 0:e.useGrouping)??"auto",r=(e==null?void 0:e.hour12)??"auto";switch(t.type){case"integer":case"small-integer":case"big-integer":case"long":return new sx({minimumFractionDigits:0,maximumFractionDigits:0,useGrouping:i});case"single":case"double":return new sx({minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:i});case"date":case"timestamp-offset":return new qd({dateStyle:"short",timeStyle:"short",hour12:r});case"date-only":return new qd({dateStyle:"short"});case"time-only":return new qd({timeStyle:"short",hour12:r})}}let nn=class extends rt(ae){constructor(e){super(e),this.fieldName=null,this.isEditable=!0,this.label=null,this.statisticType=null,this.stringFieldOption="text-box",this.tooltip=null,this.visible=!0}set fieldFormat(e){this._set("fieldFormat",e),this._set("format",e?Nye(e):null)}set format(e){this._set("format",e),this._set("fieldFormat",e?JH(e):null)}readFormat(e,i){if(!i.fieldFormat)return e?ru.fromJSON(e):null}clone(){var i,r;const e=super.clone();return e._set("format",(i=this.format)==null?void 0:i.clone()),e._set("fieldFormat",(r=this.fieldFormat)==null?void 0:r.clone()),e}};h([f({value:null,clonable:!1,types:Iye,json:{write:{overridePolicy(t,e,i){const{fieldName:r}=this;return{enabled:!!r&&!r.startsWith("expression/")&&!r.startsWith("relationships/")&&!!(i!=null&&i.writeFieldFormat)}}}}})],nn.prototype,"fieldFormat",null),h([f({type:String,json:{write:!0}})],nn.prototype,"fieldName",void 0),h([f({value:null,clonable:!1,type:ru,json:{write:!0}})],nn.prototype,"format",null),h([Ie("format")],nn.prototype,"readFormat",null),h([f({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],nn.prototype,"isEditable",void 0),h([f({type:String,json:{write:!0}})],nn.prototype,"label",void 0),h([f({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],nn.prototype,"statisticType",void 0),h([ke(new ct({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],nn.prototype,"stringFieldOption",void 0),h([f({type:String,json:{write:!0}})],nn.prototype,"tooltip",void 0),h([f({type:Boolean,json:{write:!0}})],nn.prototype,"visible",void 0),nn=h([I("esri.popup.FieldInfo")],nn);const _R=nn;var bA;let Ku=bA=class extends du{constructor(t){super(t),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}clone(){return new bA(G({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};h([f({type:Object,json:{write:!0}})],Ku.prototype,"attributes",void 0),h([f({type:String,json:{write:!0}})],Ku.prototype,"description",void 0),h([f({type:[_R],json:{write:!0}})],Ku.prototype,"fieldInfos",void 0),h([f({type:String,json:{write:!0}})],Ku.prototype,"title",void 0),h([f({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Ku.prototype,"type",void 0),Ku=bA=h([I("esri.popup.content.FieldsContent")],Ku);const Ny=Ku;let Yh=class extends ae{constructor(e){super(e),this.altText=null,this.caption="",this.title="",this.type=null}};h([f({type:String,json:{write:!0}})],Yh.prototype,"altText",void 0),h([f({type:String,json:{write:!0}})],Yh.prototype,"caption",void 0),h([f({type:String,json:{write:!0}})],Yh.prototype,"title",void 0),h([f({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Yh.prototype,"type",void 0),Yh=h([I("esri.popup.content.mixins.MediaInfo")],Yh);const SR=Yh,nx={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function aW(t){return!!nx[t]||!!nx[t.toLowerCase()]}function xR(t){return nx[t]??nx[t.toLowerCase()]}function Vye(t){return[...xR(t)]}function c5(t,e,i){i<0&&++i,i>1&&--i;const r=6*i;return r<1?t+(e-t)*r:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function lW(t,e,i,r=1){const s=(t%360+360)%360/360,n=i<=.5?i*(e+1):i+e-i*e,o=2*i-n;return[Math.round(255*c5(o,n,s+1/3)),Math.round(255*c5(o,n,s)),Math.round(255*c5(o,n,s-1/3)),r]}function Fye(t){const e=t.length>5,i=e?8:4,r=(1<<i)-1,s=e?1:17,n=e?t.length===9:t.length===5;let o=+("0x"+t.slice(1));if(isNaN(o))return null;const l=[0,0,0,1];let c;return n&&(c=o&r,o>>=i,l[3]=s*c/255),c=o&r,o>>=i,l[2]=s*c,c=o&r,o>>=i,l[1]=s*c,c=o&r,o>>=i,l[0]=s*c,l}function uW(t){if(!t.startsWith("#")||isNaN(+`0x${t.slice(1)}`))return null;switch(t.length){case 4:case 5:{const e=parseInt(t.slice(1,2),16),i=parseInt(t.slice(2,3),16),r=parseInt(t.slice(3,4),16),s=t.length===4?15:parseInt(t.slice(4),16);return[e+16*e,i+16*i,r+16*r,(s+16*s)/255]}case 7:case 9:return[parseInt(t.slice(1,3),16),parseInt(t.slice(3,5),16),parseInt(t.slice(5,7),16),(t.length===7?255:parseInt(t.slice(7),16))/255];default:return null}}function cW(t){const e=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(e){const i=e[2].split(/\s*,\s*/),r=e[1];if(r==="rgb"&&i.length===3||r==="rgba"&&i.length===4){if(i[0].endsWith("%")){const s=i.map(n=>2.56*parseFloat(n));return i.length===4&&(s[3]=parseFloat(i[3])),jL(s)}return jL(i.map(s=>parseFloat(s)))}if(r==="hsl"&&i.length===3||r==="hsla"&&i.length===4)return lW(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3]??"1"))}return null}function jL(t){return t[0]=Rm(t[0]),t[1]=Rm(t[1]),t[2]=Rm(t[2]),t[3]=t.length===4?dW(t[3]):1,t}function hW(t){let e=aW(t)?xR(t):null;return e??(e=cW(t)),e??(e=uW(t)),e}function RNe(t){const e=hW(t);return e!=null?[e[0]/255,e[1]/255,e[2]/255,e[3]]:null}function dW(t){return pW(t,0,1)}function Rm(t){return Math.round(pW(t,0,255))}function pW(t,e,i){return t=Number(t),isNaN(t)?i:t<e?e:t>i?i:t}const fW=2.2,zye=1/fW;function INe(t){return t**fW}function PNe(t){return t**zye}const NL=new Float32Array(1);function jNe(t){--t;for(let e=1;e<32;e<<=1)t|=t>>e;return t+1}function _n(t,e,i){return Math.min(Math.max(t,e),i)}function NNe(t){return!(t&t-1)}function DNe(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}function lv(t,e,i){return t+(e-t)*i}function LNe(t,e,i,r,s){return lv(r,s,(t-e)/(i-e))}function kw(t){return t*Math.PI/180}function mW(t){return 180*t/Math.PI}function VNe(t,e=1e-6){return(t<0?-1:1)/Math.max(Math.abs(t),e)}function FNe(t){return Math.acos(_n(t,-1,1))}function Uye(t){return Math.asin(_n(t,-1,1))}function vn(t,e,i=1e-6){return t===e?!0:!Number.isFinite(t)||!Number.isFinite(e)?!1:(t>e?t-e:e-t)<=i}function yW(t,e,i=1e-6){return!vn(t,e,i)&&t>e}function _A(t,e,i=1e-6){return!vn(t,e,i)&&t<e}function qye(t,e,i=1e-6){return vn(t,e,i)||t>e}const ox=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function SA(t){return ox.setFloat64(0,t),ox.getBigInt64(0)}function Bye(t){return ox.setBigInt64(0,t),ox.getFloat64(0)}const E2=1000000n,Gye=gW(1);function gW(t){const e=SA(t=Math.abs(t)),i=Bye(e<=E2?E2:e-E2);return Math.abs(t-i)}function zNe(t,e,i=Gye){if(t===e)return!0;if(!Number.isFinite(t)||!Number.isFinite(e))return!1;if(i!=null&&gW(Math.min(Math.abs(t),Math.abs(e)))<i)return Math.abs(t-e)<=i;const r=SA(t),s=SA(e);return r<0!=s<0?!1:!((r<s?s-r:r-s)>E2)}function vW(t,e,i=1e-6){if(t===e)return!0;if(!Number.isFinite(t)||!Number.isFinite(e))return!1;const r=Math.abs(t-e),s=Math.abs(t),n=Math.abs(e);if(t===0||e===0||s<1e-12&&n<1e-12){if(r>.01*i)return!1}else if(r/(s+n)>i)return!1;return!0}function UNe(t){return wW(Math.max(-DL,Math.min(t,DL)))}function wW(t){return NL[0]=t,NL[0]}function qNe(t){const e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[3]*t[3]+t[4]*t[4]+t[5]*t[5],r=t[6]*t[6]+t[7]*t[7]+t[8]*t[8];return!(vn(e,1)&&vn(i,1)&&vn(r,1))}function BNe(t,e){return(t%e+e)%e}const DL=wW(34028234663852886e22);function GNe(t,e,i){if(i===void 0||+i==0)return Math[t](e);if(e=+e,i=+i,isNaN(e)||typeof i!="number"||i%1!=0)return NaN;let r=e.toString().split("e");return r=(e=Math[t](+(r[0]+"e"+(r[1]?+r[1]-i:-i)))).toString().split("e"),+(r[0]+"e"+(r[1]?+r[1]+i:i))}function v_(t){return _n(eR(t),0,255)}function w_(t,e){const i=t.toString(16).padStart(2,"0");return e?i.slice(0,1):i}let Ne=class Fn{static blendColors(e,i,r,s=new Fn){return s.r=Math.round(e.r+(i.r-e.r)*r),s.g=Math.round(e.g+(i.g-e.g)*r),s.b=Math.round(e.b+(i.b-e.b)*r),s.a=e.a+(i.a-e.a)*r,s._sanitize()}static fromRgb(e,i){const r=cW(e);return r?Fn.fromArray(r,i):null}static fromHex(e,i=new Fn){const r=uW(e);return r?Fn.fromArray(r,i):null}static fromArray(e,i=new Fn){return i._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(i.a)&&(i.a=1),i._sanitize()}static fromString(e,i){const r=hW(e);return r?Fn.fromArray(r,i):null}static fromJSON(e){return e!=null?new Fn([e[0],e[1],e[2],(e[3]??255)/255]):void 0}static toUnitRGB(e){return e!=null?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e,i){return e==null?null:(i??(i=[0,0,0,0]),i[0]=e.r/255,i[1]=e.g/255,i[2]=e.b/255,i[3]=e.a!=null?e.a:1,i)}constructor(e){this.r=255,this.g=255,this.b=255,this.a=1,e&&this.setColor(e)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(e){return typeof e=="string"?Fn.fromString(e,this):Array.isArray(e)?Fn.fromArray(e,this):(this._set(e.r??0,e.g??0,e.b??0,e.a??1),e instanceof Fn||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(e){const i=(e==null?void 0:e.capitalize)??!1,r=(e==null?void 0:e.digits)??6,s=r===3||r===4,n=r===4||r===8,o=`#${w_(this.r,s)}${w_(this.g,s)}${w_(this.b,s)}${n?w_(Math.round(255*this.a),s):""}`;return i?o.toUpperCase():o}toCss(e=!1){const i=this.r+", "+this.g+", "+this.b;return e?`rgba(${i}, ${this.a})`:`rgb(${i})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=0){const i=v_(this.r),r=v_(this.g),s=v_(this.b);return e===0||this.a!==1?[i,r,s,v_(255*this.a)]:[i,r,s]}clone(){return new Fn(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return e!=null&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){return this.r=Rm(this.r),this.g=Rm(this.g),this.b=Rm(this.b),this.a=dW(this.a),this}_set(e,i,r,s){this.r=e,this.g=i,this.b=r,this.a=s}};Ne.prototype.declaredClass="esri.Color";var xA;let Jh=xA=class extends $e{constructor(t){super(t),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){var t;return new xA({color:(t=this.color)==null?void 0:t.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};h([f()],Jh.prototype,"color",void 0),h([f()],Jh.prototype,"fieldName",void 0),h([f()],Jh.prototype,"tooltip",void 0),h([f()],Jh.prototype,"value",void 0),Jh=xA=h([I("esri.popup.content.support.ChartMediaInfoValueSeries")],Jh);const Hye=Jh;var TA;let Xu=TA=class extends ae{constructor(t){super(t),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new TA({colors:G(this.colors),fields:G(this.fields),normalizeField:this.normalizeField,series:G(this.series),tooltipField:this.tooltipField})}};h([f({type:[Ne],json:{type:[[ot]],write:!0}})],Xu.prototype,"colors",void 0),h([f({type:[String],json:{write:{isRequired:!0}}})],Xu.prototype,"fields",void 0),h([f({type:String,json:{write:!0}})],Xu.prototype,"normalizeField",void 0),h([f({type:[Hye],json:{read:!1}})],Xu.prototype,"series",void 0),h([f({type:String,json:{write:!0}})],Xu.prototype,"tooltipField",void 0),Xu=TA=h([I("esri.popup.content.support.ChartMediaInfoValue")],Xu);const Wye=Xu;let uv=class extends SR{constructor(e){super(e),this.type=null,this.value=void 0}};h([f({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],uv.prototype,"type",void 0),h([f({type:Wye,json:{write:{isRequired:!0}}})],uv.prototype,"value",void 0),uv=h([I("esri.popup.content.mixins.ChartMediaInfo")],uv);const yT=uv,gT=wr()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var $A;let A2=$A=class extends yT{constructor(t){super(t),this.type="bar-chart"}clone(){var t;return new $A({altText:this.altText,title:this.title,caption:this.caption,value:(t=this.value)==null?void 0:t.clone()})}};h([f({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:gT.write,isRequired:!0}}})],A2.prototype,"type",void 0),A2=$A=h([I("esri.popup.content.BarChartMediaInfo")],A2);const bW=A2;var MA;let O2=MA=class extends yT{constructor(t){super(t),this.type="column-chart"}clone(){var t;return new MA({altText:this.altText,title:this.title,caption:this.caption,value:(t=this.value)==null?void 0:t.clone()})}};h([f({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:gT.write,isRequired:!0}}})],O2.prototype,"type",void 0),O2=MA=h([I("esri.popup.content.ColumnChartMediaInfo")],O2);const _W=O2;var EA;let cv=EA=class extends ae{constructor(t){super(t),this.linkURL=null,this.sourceURL=null}clone(){return new EA({linkURL:this.linkURL,sourceURL:this.sourceURL})}};h([f({type:String,json:{write:!0}})],cv.prototype,"linkURL",void 0),h([f({type:String,json:{write:{isRequired:!0}}})],cv.prototype,"sourceURL",void 0),cv=EA=h([I("esri.popup.content.support.ImageMediaInfoValue")],cv);const Zye=cv;var AA;let Vf=AA=class extends SR{constructor(t){super(t),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){var t;return new AA({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:(t=this.value)==null?void 0:t.clone()})}};h([f({type:Number,json:{write:!0}})],Vf.prototype,"refreshInterval",void 0),h([f({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Vf.prototype,"type",void 0),h([f({type:Zye,json:{write:{isRequired:!0}}})],Vf.prototype,"value",void 0),Vf=AA=h([I("esri.popup.content.ImageMediaInfo")],Vf);const SW=Vf;var OA;let k2=OA=class extends yT{constructor(t){super(t),this.type="line-chart"}clone(){var t;return new OA({altText:this.altText,title:this.title,caption:this.caption,value:(t=this.value)==null?void 0:t.clone()})}};h([f({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:gT.write,isRequired:!0}}})],k2.prototype,"type",void 0),k2=OA=h([I("esri.popup.content.LineChartMediaInfo")],k2);const xW=k2;var kA;let C2=kA=class extends yT{constructor(t){super(t),this.type="pie-chart"}clone(){var t;return new kA({altText:this.altText,title:this.title,caption:this.caption,value:(t=this.value)==null?void 0:t.clone()})}};h([f({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:gT.write,isRequired:!0}}})],C2.prototype,"type",void 0),C2=kA=h([I("esri.popup.content.PieChartMediaInfo")],C2);const TW=C2,CA={base:SR,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":bW,"column-chart":_W,"line-chart":xW,"pie-chart":TW,image:SW}};var RA;let Ao=RA=class extends du{constructor(t){super(t),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(t){return t&&t.map(e=>e.type==="image"?SW.fromJSON(e):e.type==="barchart"?bW.fromJSON(e):e.type==="columnchart"?_W.fromJSON(e):e.type==="linechart"?xW.fromJSON(e):e.type==="piechart"?TW.fromJSON(e):void 0).filter(Boolean)}writeMediaInfos(t,e){e.mediaInfos=t&&t.map(i=>i.toJSON())}clone(){return new RA(G({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};h([f()],Ao.prototype,"activeMediaInfoIndex",void 0),h([f({type:Object,json:{write:!0}})],Ao.prototype,"attributes",void 0),h([f({type:String,json:{write:!0}})],Ao.prototype,"description",void 0),h([f({types:[CA]})],Ao.prototype,"mediaInfos",void 0),h([Ie("mediaInfos")],Ao.prototype,"readMediaInfos",null),h([_e("mediaInfos")],Ao.prototype,"writeMediaInfos",null),h([f({type:String,json:{write:!0}})],Ao.prototype,"title",void 0),h([f({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Ao.prototype,"type",void 0),Ao=RA=h([I("esri.popup.content.MediaContent")],Ao);const z1=Ao;var IA;let hv=IA=class extends ae{constructor(t){super(t),this.field=null,this.order=null}clone(){return new IA({field:this.field,order:this.order})}};h([f({type:String,json:{write:!0}})],hv.prototype,"field",void 0),h([f({type:["asc","desc"],json:{write:!0}})],hv.prototype,"order",void 0),hv=IA=h([I("esri.popup.support.RelatedRecordsInfoFieldOrder")],hv);const $W=hv;let pa=class extends rt(du){constructor(e){super(e),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};h([f({type:String,json:{write:!0}})],pa.prototype,"description",void 0),h([f({type:Number,json:{type:ot,write:!0}})],pa.prototype,"displayCount",void 0),h([f({type:["list"],json:{write:{isRequired:!0}}})],pa.prototype,"displayType",void 0),h([f({type:[$W],json:{write:!0}})],pa.prototype,"orderByFields",void 0),h([f({type:Number,json:{type:ot,write:{isRequired:!0}}})],pa.prototype,"relationshipId",void 0),h([f({type:String,json:{write:!0}})],pa.prototype,"title",void 0),h([f({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],pa.prototype,"type",void 0),pa=h([I("esri.popup.content.RelationshipContent")],pa);const U1=pa;var PA;let dv=PA=class extends du{constructor(t){super(t),this.text=null,this.type="text"}clone(){return new PA({text:this.text})}};h([f({type:String,json:{write:!0}})],dv.prototype,"text",void 0),h([f({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],dv.prototype,"type",void 0),dv=PA=h([I("esri.popup.content.TextContent")],dv);const q1=dv;let vl=class extends rt(ae){constructor(e){super(e),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};h([f({type:String,json:{write:!0}})],vl.prototype,"title",void 0),h([f({type:String,json:{write:!0}})],vl.prototype,"description",void 0),h([f({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],vl.prototype,"type",void 0),h([f({type:Number,json:{type:ot,write:!0}})],vl.prototype,"associatedNetworkSourceId",void 0),h([f({type:Number,json:{type:ot,write:!0}})],vl.prototype,"associatedAssetGroup",void 0),h([f({type:Number,json:{type:ot,write:!0}})],vl.prototype,"associatedAssetType",void 0),vl=h([I("esri.popup.support.UtilityNetworkAssociationType")],vl);const Yye=vl;let Qu=class extends rt(du){constructor(e){super(e),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};h([f({type:String,json:{write:!0}})],Qu.prototype,"description",void 0),h([f({type:Number,json:{type:ot,write:!0}})],Qu.prototype,"displayCount",void 0),h([f({type:String,json:{write:!0}})],Qu.prototype,"title",void 0),h([f({type:[Yye],json:{write:!0}})],Qu.prototype,"associationTypes",void 0),h([ke({utilityNetworkAssociations:"utility-network-associations"})],Qu.prototype,"type",void 0),Qu=h([I("esri.popup.content.UtilityNetworkAssociationsContent")],Qu);const TR=Qu,Jye={base:null,key:"type",typeMap:{attachment:jy,media:z1,text:q1,expression:pT,field:Ny,relationship:U1,utilityNetworkAssociations:TR}},Kye={base:null,key:"type",typeMap:{attachment:jy,media:z1,text:q1,expression:pT,field:Ny,relationship:U1}};var jA;let Kh=jA=class extends ae{constructor(t){super(t),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new jA({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};h([f({type:String,json:{write:!0}})],Kh.prototype,"name",void 0),h([f({type:String,json:{write:!0}})],Kh.prototype,"title",void 0),h([f({type:String,json:{write:!0}})],Kh.prototype,"expression",void 0),h([f({type:["string","number"],json:{write:!0}})],Kh.prototype,"returnType",void 0),Kh=jA=h([I("esri.popup.ExpressionInfo")],Kh);const Xye=Kh;var NA;let pv=NA=class extends ae{constructor(t){super(t),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new NA({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};h([f({type:Boolean,json:{write:!0}})],pv.prototype,"returnTopmostRaster",void 0),h([f({type:Boolean,json:{write:!0}})],pv.prototype,"showNoDataRecords",void 0),pv=NA=h([I("esri.popup.LayerOptions")],pv);const Qye=pv;var DA;let fv=DA=class extends ae{constructor(t){super(t),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new DA({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?G(this.orderByFields):null})}};h([f({type:Boolean,json:{write:!0}})],fv.prototype,"showRelatedRecords",void 0),h([f({type:[$W],json:{write:!0}})],fv.prototype,"orderByFields",void 0),fv=DA=h([I("esri.popup.RelatedRecordsInfo")],fv);const LL=fv;let MW=0;const $R=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+MW++})}};return i=h([I("esri.core.Identifiable")],i),i},MR=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:MW++})}};return i=h([I("esri.core.Identifiable.NumericIdentifiable")],i),i};$R(class{});var LA;let zn=LA=class extends $R($e){constructor(t){super(t),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new LA({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};h([f()],zn.prototype,"active",void 0),h([f()],zn.prototype,"className",void 0),h([f()],zn.prototype,"disabled",void 0),h([f()],zn.prototype,"icon",void 0),h([f()],zn.prototype,"id",void 0),h([f()],zn.prototype,"indicator",void 0),h([f()],zn.prototype,"title",void 0),h([f()],zn.prototype,"type",void 0),h([f()],zn.prototype,"visible",void 0),zn=LA=h([I("esri.support.actions.ActionBase")],zn);const ER=zn;var VA;let R2=VA=class extends ER{constructor(t){super(t),this.image=null,this.type="button"}clone(){return new VA({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};h([f()],R2.prototype,"image",void 0),R2=VA=h([I("esri.support.actions.ActionButton")],R2);const ege=R2;var FA;let mv=FA=class extends ER{constructor(t){super(t),this.image=null,this.type="toggle",this.value=!1}clone(){return new FA({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};h([f()],mv.prototype,"image",void 0),h([f()],mv.prototype,"value",void 0),mv=FA=h([I("esri.support.actions.ActionToggle")],mv);const tge=mv,N0="relationships/",VL="expression/",ige=ge.ofType({key:"type",defaultKeyValue:"button",base:ER,typeMap:{button:ege,toggle:tge}}),rge={base:du,key:"type",typeMap:{media:z1,custom:mye,text:q1,attachments:jy,fields:Ny,expression:pT,relationship:U1,utilityNetworkAssociations:TR}},EW=new Set(["attachments","fields","media","text","expression","relationship"]),sge=new Set([...EW,"utility-network-associations"]);let zi=class extends rt(ae){constructor(e){super(e),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(e){return Array.isArray(e)?e.map(i=>Bc(rge,i)):typeof e=="string"||typeof e=="function"||e instanceof HTMLElement||Xr(e)?e:(se.getLogger(this).error("content error","unsupported content value",{value:e}),null)}readContent(e,i){const{popupElements:r}=i;return Array.isArray(r)&&r.length>0?this._readPopupInfoElements(i.description,i.mediaInfos,r):this._readPopupInfo(i)}writeWebSceneContent(e,i,r,s){this._writePopupTemplateContent(e,i,s)}writeWebMapContent(e,i,r,s){this._writePopupTemplateContent(e,i,s)}writeFieldInfos(e,i,r,s){const{content:n}=this,o=Array.isArray(n)?n:null,{writeFieldFormat:l,...c}=s||{};if(e){const d=o?o.filter(v=>v.type==="fields"):[],m=d.length&&d.every(v=>{var w;return(w=v.fieldInfos)==null?void 0:w.length});i.fieldInfos=e.filter(Boolean).map(v=>{const w=v.toJSON(c);return m&&(w.visible=!1),w})}if(o)for(const d of o)d.type==="fields"&&this._writeFieldsContent(d,i,c)}writeLayerOptions(e,i,r,s){i[r]=!e||e.showNoDataRecords===null&&e.returnTopmostRaster===null?null:e.toJSON(s)}writeTitle(e,i){i.title=e||""}async collectRequiredFields(e,i,r){const s=this.expressionInfos||[];await this._collectExpressionInfoFields(e,i,r,[...s,...this._getContentExpressionInfos(this.content,s)]),F1(e,i,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(e,i){const r=new Set;return await this.collectRequiredFields(r,e,i),[...r].sort()}_writePopupTemplateContent(e,i,r){typeof e!="string"?Array.isArray(e)&&(i.popupElements=e.filter(s=>(r==null?void 0:r.origin)==="web-scene"?EW.has(s.type):sge.has(s.type)).map(s=>s==null?void 0:s.toJSON(r)),i.popupElements.forEach(s=>{s.type==="attachments"?this._writeAttachmentContent(i):s.type==="media"?this._writeMediaContent(s,i):s.type==="text"?this._writeTextContent(s,i):s.type==="relationship"&&this._writeRelationshipContent(s,i)})):i.description=e}_writeFieldsContent(e,i,r){const s=e.fieldInfos;if(!Array.isArray(s)||!s.length)return;const n=i.fieldInfos;if(Array.isArray(n))for(const o of s){const l=n.find(c=>{var d,m;return((d=c.fieldName)==null?void 0:d.toLowerCase())===((m=o.fieldName)==null?void 0:m.toLowerCase())});l?l.visible=!0:n.push(o.toJSON(r))}else i.fieldInfos=s.map(o=>o.toJSON(r))}_writeAttachmentContent(e){e.showAttachments||(e.showAttachments=!0)}_writeRelationshipContent(e,i){var n,o;const r=((n=e.orderByFields)==null?void 0:n.map(l=>this._toFieldOrderJSON(l,e.relationshipId)))||[],s=[...((o=i.relatedRecordsInfo)==null?void 0:o.orderByFields)||[],...r];i.relatedRecordsInfo={showRelatedRecords:!0,...(s==null?void 0:s.length)&&{orderByFields:s}}}_writeTextContent(e,i){!i.description&&e.text&&(i.description=e.text)}_writeMediaContent(e,i){if(!Array.isArray(e.mediaInfos)||!e.mediaInfos.length)return;const r=G(e.mediaInfos);Array.isArray(i.mediaInfos)?i.mediaInfos=[...i.mediaInfos,...r]:i.mediaInfos=r}_readPopupInfoElements(e,i,r){const s={description:!1,mediaInfos:!1};return r.map(n=>n.type==="media"?(n.mediaInfos||!i||s.mediaInfos||(n.mediaInfos=i,s.mediaInfos=!0),z1.fromJSON(n)):n.type==="text"?(n.text||!e||s.description||(n.text=e,s.description=!0),q1.fromJSON(n)):n.type==="attachments"?jy.fromJSON(n):n.type==="fields"?Ny.fromJSON(n):n.type==="expression"?pT.fromJSON(n):n.type==="relationship"?U1.fromJSON(n):n.type==="utilityNetworkAssociations"?TR.fromJSON(n):void 0).filter(Boolean)}_toRelationshipContent(e){const{field:i,order:r}=e;if(!(i!=null&&i.startsWith(N0)))return null;const s=i.replace(N0,"").split("/");if(s.length!==2)return null;const n=parseInt(s[0],10),o=s[1];return!Number.isNaN(n)&&o?U1.fromJSON({relationshipId:n,orderByFields:[{field:o,order:r}]}):null}_toFieldOrderJSON(e,i){const{order:r,field:s}=e;return{field:`${N0}${i}/${s}`,order:r}}_readPopupInfo({description:e,mediaInfos:i,showAttachments:r,relatedRecordsInfo:s={showRelatedRecords:!1}}){const n=[];e?n.push(new q1({text:e})):n.push(new Ny),Array.isArray(i)&&i.length&&n.push(z1.fromJSON({mediaInfos:i})),r&&n.push(jy.fromJSON({displayType:"auto"}));const{showRelatedRecords:o,orderByFields:l}=s;return o&&(l!=null&&l.length)&&l.forEach(c=>{const d=this._toRelationshipContent(c);d&&n.push(d)}),n.length?n:e}_getContentElementFields(e){const i=e==null?void 0:e.type;if(i==="attachments")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)];if(i==="custom")return e.outFields||[];if(i==="fields")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...this._getFieldInfoFields(e.fieldInfos??this.fieldInfos)];if(i==="media"){const r=e.mediaInfos||[];return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...r.reduce((s,n)=>[...s,...this._getMediaInfoFields(n)],[])]}return i==="text"?this._extractFieldNames(e.text):i==="relationship"||i==="utility-network-associations"?[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)]:[]}_getMediaInfoFields(e){const{caption:i,title:r,value:s}=e,n=s||{},{fields:o,normalizeField:l,tooltipField:c,sourceURL:d,linkURL:m}=n,v=[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(d),...this._extractFieldNames(m),...o??[]];return l&&v.push(l),c&&v.push(c),v}_getContentExpressionInfos(e,i){return Array.isArray(e)?e.reduce((r,s)=>[...r,...s.type==="expression"&&s.expressionInfo?[s.expressionInfo]:[]],i):[]}_getContentFields(e){return typeof e=="string"?this._extractFieldNames(e):Array.isArray(e)?e.reduce((i,r)=>[...i,...this._getContentElementFields(r)],[]):[]}async _collectExpressionInfoFields(e,i,r,s){s&&await Promise.all(s.map(n=>Ss(e,i,r,n.expression)))}_getFieldInfoFields(e){return e?e.filter(({fieldName:i,visible:r})=>!(r!==void 0&&!r||!i||i.startsWith(N0)||i.startsWith(VL))).map(i=>i.fieldName):[]}_getActionsFields(e){return e?e.toArray().reduce((i,r)=>[...i,...this._getActionFields(r)],[]):[]}_getActionFields(e){const{className:i,title:r,type:s}=e,n=s==="button"||s==="toggle"?e.image:"";return[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(n)]}_getTitleFields(e){return typeof e=="string"?this._extractFieldNames(e):[]}_extractFieldNames(e){return dye(e).filter(i=>!(i.startsWith(N0)||i.startsWith(VL)))}};h([f({type:ige})],zi.prototype,"actions",void 0),h([f()],zi.prototype,"content",void 0),h([Ot("content")],zi.prototype,"castContent",null),h([Ie("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],zi.prototype,"readContent",null),h([_e("web-scene","content",{popupElements:{type:ge.ofType(Kye)},showAttachments:{type:Boolean},mediaInfos:{type:ge.ofType(CA)},description:{type:String},relatedRecordsInfo:{type:LL}})],zi.prototype,"writeWebSceneContent",null),h([_e("content",{popupElements:{type:ge.ofType(Jye)},showAttachments:{type:Boolean},mediaInfos:{type:ge.ofType(CA)},description:{type:String},relatedRecordsInfo:{type:LL}})],zi.prototype,"writeWebMapContent",null),h([f({type:[Xye],json:{write:!0}})],zi.prototype,"expressionInfos",void 0),h([f({type:[_R]})],zi.prototype,"fieldInfos",void 0),h([_e("fieldInfos")],zi.prototype,"writeFieldInfos",null),h([f({type:Qye})],zi.prototype,"layerOptions",void 0),h([_e("layerOptions")],zi.prototype,"writeLayerOptions",null),h([f({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],zi.prototype,"lastEditInfoEnabled",void 0),h([f()],zi.prototype,"outFields",void 0),h([f()],zi.prototype,"overwriteActions",void 0),h([f()],zi.prototype,"returnGeometry",void 0),h([f({json:{type:String}})],zi.prototype,"title",void 0),h([_e("title")],zi.prototype,"writeTitle",null),zi=h([I("esri.PopupTemplate")],zi);const yg=zi;let nge=class AW{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(WE),this._values=new Map,this.multipleOriginsSupported=!0}clone(e){const i=new AW,r=this._originStores[0];r&&r.forEach((s,n)=>{i.set(n,G(s),0)});for(let s=2;s<WE;s++){const n=this._originStores[s];n&&n.forEach((o,l)=>{e&&e.has(l)||i.set(l,G(o),s)})}return i}get(e,i){const r=i===void 0?this._values:this._originStores[i];return r?r.get(e):void 0}keys(e){const i=e==null?this._values:this._originStores[e];return i?[...i.keys()]:[]}set(e,i,r=7){let s=this._originStores[r];if(s||(s=new Map,this._originStores[r]=s),s.set(e,i),!this._values.has(e)||this._propertyOriginMap.get(e)<=r){const n=this._values.get(e);return this._values.set(e,i),this._propertyOriginMap.set(e,r),n!==i}return!1}delete(e,i=7){const r=this._originStores[i];if(!r)return;const s=r.get(e);if(r.delete(e),this._values.has(e)&&this._propertyOriginMap.get(e)===i){this._values.delete(e);for(let n=i-1;n>=0;n--){const o=this._originStores[n];if(o&&o.has(e)){this._values.set(e,o.get(e)),this._propertyOriginMap.set(e,n);break}}}return s}has(e,i){const r=i===void 0?this._values:this._originStores[i];return!!r&&r.has(e)}revert(e,i){for(;i>0&&!this.has(e,i);)--i;const r=this._originStores[i],s=r==null?void 0:r.get(e),n=this._values.get(e);return this._values.set(e,s),this._propertyOriginMap.set(e,i),n!==s}originOf(e){return this._propertyOriginMap.get(e)||0}isAtOrigin(e,i){return this.has(e,i)&&this.originOf(e)===i}isBelowOrigin(e,i){return!this.has(e)||this.originOf(e)<i}forEach(e){this._values.forEach(e)}};const OW=t=>{const e=t;let i=class extends e{constructor(...r){super(...r);const s=_s(this),n=s.store,o=new nge;s.store=o,dG(s,n,o)}read(r,s){fG(this,r,s)}getAtOrigin(r,s){const n=h5(this),o=Kl(s);if(typeof r=="string")return n.get(r,o);const l={};return r.forEach(c=>{l[c]=n.get(c,o)}),l}originOf(r){return zS(this.originIdOf(r))}originIdOf(r){return h5(this).originOf(r)}revert(r,s){const n=h5(this),o=Kl(s),l=_s(this);let c;c=typeof r=="string"?r==="*"?n.keys(o):[r]:r,c.forEach(d=>{l.invalidate(d),n.revert(d,o),l.commit(d)})}};return i=h([I("esri.core.ReadOnlyMultiOriginJSONSupport")],i),i};function h5(t){return _s(t).store}OW($e);const oge=t=>{const e=t;let i=class extends e{constructor(...r){super(...r)}clear(r,s="user"){_s(this).clearOrigin(r,Kl(s))}write(r,s){return yG(this,r=r||{},s),r}setAtOrigin(r,s,n){_s(this).setAtOrigin(r,s,Kl(n))}removeOrigin(r){const s=FL(this),n=Kl(r),o=s.keys(n);for(const l of o)s.originOf(l)===n&&s.set(l,s.get(l,n),7)}updateOrigin(r,s){const n=FL(this),o=Kl(s),l=Go(this,r);for(let c=o+1;c<WE;++c)n.delete(r,c);n.set(r,l,o)}toJSON(r){return this.write({},r)}};return i=h([I("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],i),i.prototype.toJSON.isDefaultToJSON=!0,i};function FL(t){return _s(t).store}const kW=t=>{const e=oge(OW(t));let i=class extends e{};return i=h([I("esri.core.MultiOriginJSONSupport")],i),i},KNe=kW($e),age=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,lge={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function zL(t){const e=t==null?void 0:t.match(age);if(!e)return null;const[,i,r,s]=e;if(!i)return null;let n=null,o=null,l=null;const{devext:c,qaext:d,www:m}=lge;if(r)if(n=i,s)switch(s.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:l}=c);break;case"qa":({customBaseUrl:o,portalHostname:l}=d);break;default:return null}else({customBaseUrl:o,portalHostname:l}=m);else switch(i.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:l}=c);break;case"qaext":({customBaseUrl:o,portalHostname:l}=d);break;case"www":({customBaseUrl:o,portalHostname:l}=m);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:l,urlKey:n}}function CW(t){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(t)}function RW(t){const e=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,i=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,r=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return e.test(t)?t=t.replace(e,"https://www.arcgis.com"):i.test(t)?t=t.replace(i,"https://devext.arcgis.com"):r.test(t)&&(t=t.replace(r,"https://qaext.arcgis.com")),t}function IW(t){const e=atob(t),i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i.buffer}function uge(t){const e=new Uint8Array(t);let i="";for(let r=0;r<e.length;r++)i+=String.fromCharCode(e[r]);return btoa(i)}const cge=()=>se.getLogger("esri.core.urlUtils"),gg=dt.request,UL="esri/config: esriConfig.request.proxyUrl is not set.",PW=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,jW=/^\s*http:/i,hge=/^\s*https:/i,dge=/^\s*file:/i,NW=/:\d+$/,pge=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,fge=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),mge=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let Im=class{constructor(e=""){this.uri=e,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let i=this.uri.match(fge);this.scheme=i[2]||(i[1]?"":null),this.authority=i[4]||(i[3]?"":null),this.path=i[5],this.query=i[7]||(i[6]?"":null),this.fragment=i[9]||(i[8]?"":null),this.authority!=null&&(i=this.authority.match(mge),this.user=i[3]||null,this.password=i[4]||null,this.host=i[6]||i[7],this.port=i[9]||null)}toString(){return this.uri}};const b_={},yge=new Im(dt.applicationUrl);let Zr=yge;const gge=vge();let AR=gge;const OR=()=>Zr,QNe=()=>AR;function vge(){const t=Zr.path,e=t.slice(0,t.lastIndexOf("/")+1);return`${`${Zr.scheme}://${Zr.host}${Zr.port!=null?`:${Zr.port}`:""}`}${e}`}function Rr(t){if(!t)return null;const e={path:null,query:null},i=new Im(t),r=t.indexOf("?");return i.query===null?e.path=t:(e.path=t.slice(0,r),e.query=kR(i.query)),i.fragment&&(e.hash=i.fragment,i.query===null&&(e.path=e.path.slice(0,e.path.length-(i.fragment.length+1)))),e}function kR(t){const e=t.split("&"),i={};for(const r of e){if(!r)continue;const s=r.indexOf("=");let n,o;s<0?(n=decodeURIComponent(r),o=""):(n=decodeURIComponent(r.slice(0,s)),o=decodeURIComponent(r.slice(s+1)));let l=i[n];typeof l=="string"&&(l=i[n]=[l]),Array.isArray(l)?l.push(o):i[n]=o}return i}function B1(t,e){return t?Object.keys(t).map(i=>{const r=t[i];if(r==null)return"";const s=encodeURIComponent(i)+"=";return Array.isArray(r)?r.map(n=>L1(n)?s+encodeURIComponent(JSON.stringify(n)):s+encodeURIComponent(n)).join("&"):L1(r)?s+encodeURIComponent(JSON.stringify(r)):s+encodeURIComponent(r)}).filter(i=>i).join("&"):""}function DW(t=!1){let e,i=gg.proxyUrl;if(typeof t=="string"){e=$ge(t);const r=vT(t);r&&(i=r.proxyUrl)}else e=!!t;if(!i)throw cge().warn(UL),new B("urlUtils:proxy-not-set",UL);return e&&UA()&&(i=jR(i)),Rr(i)}function eDe(t,e=!1){const i=vT(t);let r,s;if(i){const n=CR(i.proxyUrl);r=n.path,s=n.query?kR(n.query):null}else if(e){const n=DW(t);r=n.path,s=n.query}if(r){const n=Rr(t);t=r+"?"+n.path;const o=B1({...s,...n.query});o&&(t=`${t}?${o}`)}return t}const D0={path:"",query:""};function CR(t){const e=t.indexOf("?");return e!==-1?(D0.path=t.slice(0,e),D0.query=t.slice(e+1)):(D0.path=t,D0.query=null),D0}function LW(t){return t=(t=lx(t=Cge(t=CR(t).path),!0)).toLowerCase()}function wge(t){const e={proxyUrl:t.proxyUrl,urlPrefix:LW(t.urlPrefix)},i=gg.proxyRules,r=e.urlPrefix;let s=i.length;for(let n=0;n<i.length;n++){const o=i[n].urlPrefix;if(r.startsWith(o)){if(r.length===o.length)return-1;s=n;break}o.startsWith(r)&&(s=n+1)}return i.splice(s,0,e),s}function vT(t){const e=gg.proxyRules,i=LW(t);for(let r=0;r<e.length;r++)if(i.startsWith(e[r].urlPrefix))return e[r]}function bge(t,e){if(!t||!e)return!1;t=ax(t),e=ax(e);const i=zL(t),r=zL(e);return i!=null&&r!=null?i.portalHostname===r.portalHostname:i==null&&r==null&&op(t,e,!0)}function VW(t,e){return t=ax(t),e=ax(e),lx(t)===lx(e)}function ax(t){const e=(t=Yo(t)).indexOf("/sharing");return e>0?t.slice(0,e):t.replace(/\/+$/,"")}function zA(t,e=gg.interceptors){const i=r=>r instanceof RegExp?r.test(t):typeof r=="string"?t.startsWith(r):r==null;if(e){for(const r of e)if(Array.isArray(r.urls)){if(r.urls.some(i))return r}else if(i(r.urls))return r}return null}function op(t,e,i=!1){if(!t||!e)return!1;const r=BA(t),s=BA(e);return!(!i&&r.scheme!==s.scheme)&&r.host!=null&&s.host!=null&&r.host.toLowerCase()===s.host.toLowerCase()&&r.port===s.port}function RR(t){if(typeof t=="string"){if(!Gs(t))return!0;t=BA(t)}if(op(t,Zr))return!0;const e=gg.trustedServers||[];for(let i=0;i<e.length;i++){const r=_ge(e[i]);for(let s=0;s<r.length;s++)if(op(t,r[s]))return!0}return!1}function _ge(t){return b_[t]||(PR(t)||La(t)?b_[t]=[new Im(eo(t))]:b_[t]=[new Im(`http://${t}`),new Im(`https://${t}`)]),b_[t]}function eo(t,e=AR,i){return La(t)?i!=null&&i.preserveProtocolRelative?t:Zr.scheme==="http"&&Zr.authority===wn(t).slice(2)?`http:${t}`:`https:${t}`:PR(t)?t:Cw(t.startsWith("/")?Oge(e):e,t)}function IR(t,e=AR,i){if(t==null||!Gs(t))return t;const r=Yo(t),s=r.toLowerCase(),n=Yo(e).toLowerCase().replace(/\/+$/,""),o=i?Yo(i).toLowerCase().replace(/\/+$/,""):null;if(o&&!n.startsWith(o))return t;const l=(v,w,_)=>(_=v.indexOf(w,_))===-1?v.length:_;let c=l(s,"/",s.indexOf("//")+2),d=-1;for(;s.slice(0,c+1)===n.slice(0,c)+"/"&&(d=c+1,c!==s.length);)c=l(s,"/",c+1);if(d===-1||o&&d<o.length)return t;t=r.slice(d);const m=n.slice(d-1).replaceAll(/[^/]+/g,"").length;if(m>0)for(let v=0;v<m;v++)t=`../${t}`;else t=`./${t}`;return t}function Yo(t){return t=Pge(t=Ige(t=Rge(t=eo(t=t.trim()))))}function Cw(...t){const e=t.filter(qc);if(!(e!=null&&e.length))return;const i=[];if(Gs(e[0])){const s=e[0],n=s.indexOf("//");n!==-1&&(i.push(s.slice(0,n+1)),Ege(e[0])&&(i[0]+="/"),e[0]=s.slice(n+2))}else e[0].startsWith("/")&&i.push("");const r=e.reduce((s,n)=>n?s.concat(n.split("/")):s,[]);for(let s=0;s<r.length;s++){const n=r[s];n===".."&&i.length>0&&i[i.length-1]!==".."?i.pop():(!n&&s===r.length-1||n&&(n!=="."||i.length===0))&&i.push(n)}return i.join("/")}function wn(t,e=!1){if(t==null||vg(t)||$p(t))return null;let i=t.indexOf("://");if(i===-1&&La(t))i=2;else{if(i===-1)return null;i+=3}const r=t.indexOf("/",i);return r!==-1&&(t=t.slice(0,r)),e&&(t=lx(t,!0)),t}function Gs(t){return La(t)||PR(t)}function vg(t){return t!=null&&t.startsWith("blob:")}function $p(t){return t!=null&&t.startsWith("data:")}function Sge(t){const e=Dy(t);return e!=null&&e.isBase64?IW(e.data):null}function tDe(t){return uge(t).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const xge=/^data:(.*?)(;base64)?,(.*)$/;function Dy(t){const e=t.match(xge);if(!e)return null;const[,i,r,s]=e;return{mediaType:i,isBase64:!!r,data:s}}function FW(t){return t.isBase64?`data:${t.mediaType};base64,${t.data}`:`data:${t.mediaType},${t.data}`}async function Tge(t){return(await fetch(t)).blob()}function iDe(t){const e=Sge(t);if(!e)return null;const i=Dy(t);return new Blob([e],{type:i.mediaType})}function La(t){return t!=null&&t.startsWith("/")&&t[1]==="/"}function PR(t){return t!=null&&PW.test(t)}function $ge(t){return t!=null&&hge.test(t)||Zr.scheme==="https"&&La(t)}function Mge(t){return t!=null&&jW.test(t)||Zr.scheme==="http"&&La(t)}function Ege(t){return t!=null&&dge.test(t)}function jR(t){return La(t)?`https:${t}`:t.replace(jW,"https:")}function Age(){return Zr.scheme==="http"}function UA(){return Zr.scheme==="https"}function lx(t,e=!1){return La(t)?t.slice(2):(t=t.replace(PW,""),e&&t.length>1&&t.startsWith("/")&&t[1]==="/"&&(t=t.slice(2)),t)}function Oge(t){const e=t.indexOf("//"),i=t.indexOf("/",e+2);return i===-1?t:t.slice(0,i)}function kge(t){let e=0;if(Gs(t)){const r=t.indexOf("//");r!==-1&&(e=r+2)}const i=t.lastIndexOf("/");return i<e?t:t.slice(0,i+1)}function rDe(t,e){if(!t)return"";const i=Rr(t).path.replace(/\/+$/,""),r=i.slice(i.lastIndexOf("/")+1);if(!(e!=null&&e.length))return r;const s=new RegExp(`\\.(${e.join("|")})$`,"i");return r.replace(s,"")}function Cge(t){return t.endsWith("/")?t:`${t}/`}function zW(t){return t.replace(/\/+$/,"")}function Rge(t){if(/^https?:\/\//i.test(t)){const e=CR(t);t=(t=e.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),e.query&&(t+=`?${e.query}`)}return t}function Ige(t){return t.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function Pge(t){const e=gg.httpsDomains;if(!Mge(t))return t;const i=t.indexOf("/",7);let r;if(r=i===-1?t:t.slice(0,i),r=r.toLowerCase().slice(7),NW.test(r)){if(!r.endsWith(":80"))return t;r=r.slice(0,-3),t=t.replace(":80","")}return Age()&&r===Zr.authority&&!pge.test(t)||(UA()&&r===Zr.authority||e&&e.some(s=>r===s||r.endsWith(`.${s}`))||UA()&&!vT(t))&&(t=jR(t)),t}function qA(t,e,i){if(!(e&&i&&t&&Gs(t)))return t;const r=t.indexOf("//"),s=t.indexOf("/",r+2),n=t.indexOf(":",r+2),o=Math.min(s<0?t.length:s,n<0?t.length:n);return t.slice(r+2,o).toLowerCase()!==e.toLowerCase()?t:`${t.slice(0,r+2)}${i}${t.slice(o)}`}function jge(t,e){const i=new URL(t);return i.host=e,i.port&&!NW.test(e)&&(i.port=""),i.toString()}function sDe(t){return new URL(t).host}function BA(t){return typeof t=="string"?new Im(eo(t)):(t.scheme||(t.scheme=Zr.scheme),t)}function nDe(t){return Dge.test(t)}function UW(t,e){const i=Rr(t),r=Object.keys(i.query||{});return r.length>0&&e&&e.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${r.join(", ")}.`),i.path}function Nge(t,e,i){const r=Rr(t),s=r.query||{};return s[e]=String(i),`${r.path}?${B1(s)}`}function d5(t,e){if(!e)return t;const i=Rr(t),r=i.query||{};for(const[n,o]of Object.entries(e))o!=null&&(r[n]=o);const s=B1(r);return s?`${i.path}?${s}`:i.path}function qW(t){if(t==null)return null;const e=t.match(BW);return e?e[2]:null}function qL(t){if(t==null)return null;const e=t.match(BW);return e?{path:e[1],extension:e[2]}:{path:t,extension:null}}async function oDe(t){return typeof t=="string"?Dy(t)??{data:t}:new Promise((e,i)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>e(Dy(r.result)),r.onerror=s=>i(s)})}const BW=/([^.]*)\.([^/]*)$/,Dge=/(^data:image\/svg|\.svg$)/i;let NR=class{constructor(e,i,r,s,n,o){this.semiMajorAxis=e,this.flattening=i,this.outerAtmosphereRimWidth=r,this.atmosphereHeight=s,this.scaleHeight=n;const l=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*l,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=o||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const hi=new NR(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),ja=new NR(3396190,1/169.8944472236118,23e4,6e4,.111),Wc=new NR(1737400,0,0,0,0),GW="20251017",HW="8f68375e9feb20d0b470d2c2047c0bc62964f303";Symbol.dispose??(Symbol.dispose=Symbol("Symbol.dispose")),Symbol.asyncDispose??(Symbol.asyncDispose=Symbol("Symbol.asyncDispose"));const Lge="4.34";let ze,DR=Lge;function lDe(t){ze=t}function uDe(t){const e=ze==null?void 0:ze.findCredential(t);return e!=null&&e.token?Nge(t,"token",e.token):t}DR="4.34.0",q("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),q("host-webworker");function Mp(t,e){var r;const i=(r=e==null?void 0:e.url)==null?void 0:r.path;if(t&&i&&(t=eo(t,i,{preserveProtocolRelative:!0}),e.portalItem&&e.readResourcePaths)){const s=IR(t,e.portalItem.itemUrl);s!=null&&s.startsWith(Vge)&&e.readResourcePaths.push(e.portalItem.resourceFromPath(s).path)}return(t=GA(t,e==null?void 0:e.portal))&&bT.test(t)?LR(t):t}function ap(t,e,i=0){var s,n;if((t=t&&bT.test(t)?JW(t):t)==null)return t;!Gs(t)&&(e!=null&&e.blockedRelativeUrls)&&e.blockedRelativeUrls.push(t);let r=eo(t);if(e){const o=((s=e.verifyItemRelativeUrls)==null?void 0:s.rootPath)||((n=e.url)==null?void 0:n.path);if(o){const l=GA(o,e.portal),c=GA(r,e.portal);r=IR(c,l,l),r!=null&&r!==c&&r!==t&&e.verifyItemRelativeUrls&&e.verifyItemRelativeUrls.writtenUrls.push(r)}}return r=YW(r,e==null?void 0:e.portal),Gs(r)&&(r=Yo(r)),e!=null&&e.resources&&(e!=null&&e.portalItem)&&!Gs(r)&&!$p(r)&&i===0&&e.resources.toKeep.push({resource:e.portalItem.resourceFromPath(r),compress:!1}),r}function wT(t,e,i){return Mp(t,i)}function lp(t,e,i,r){const s=ap(t,r);s!==void 0&&(e[i]=s)}const bT=/\/items\/([^/]+)\/resources\/(.*)/,Vge="./resources/";function WW(t){const e=(t==null?void 0:t.match(bT))??null;return(e==null?void 0:e[1])??null}function ZW(t){const e=(t==null?void 0:t.match(bT))??null;if(e==null)return null;const i=e[2],r=i.lastIndexOf("/");if(r===-1){const{path:o,extension:l}=qL(i);return{prefix:null,filename:o,extension:l}}const{path:s,extension:n}=qL(i.slice(r+1));return{prefix:i.slice(0,r),filename:s,extension:n}}function YW(t,e){return e&&!e.isPortal&&e.urlKey&&e.customBaseUrl?qA(t,`${e.urlKey}.${e.customBaseUrl}`,e.portalHostname):t}function GA(t,e){if(!e||e.isPortal||!e.urlKey||!e.customBaseUrl)return t;const i=`${e.urlKey}.${e.customBaseUrl}`,r=OR();return op(r,`${r.scheme}://${i}`)?qA(t,e.portalHostname,i):qA(t,i,e.portalHostname)}function LR(t){if(!t)return t||null;let e=t;return e&&ze&&!ze.findCredential(e)&&(e=RW(e),e=e.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),e=e.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),e=e.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),e}function JW(t){if(!t)return t||null;let e=t;return e=e.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),e=e.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),e=e.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),e&&ze&&!ze.findCredential(e)&&(e=RW(e)),e}const Fge=Object.freeze(Object.defineProperty({__proto__:null,ensureMainOnlineDomain:YW,fromCDNUrl:JW,fromJSON:Mp,itemIdFromResourceUrl:WW,prefixAndFilenameFromResourceUrl:ZW,read:wT,toCDNUrl:LR,toJSON:ap,write:lp},Symbol.toStringTag,{value:"Module"})),KW={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},XW=Object.values(KW),QW=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${XW.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),zge=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${XW.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),Uge=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function cDe(t){return QW.test(t)}function Rw(t){if(t==null)return null;const e=Rr(t),i=(e==null?void 0:e.path.match(QW))||(e==null?void 0:e.path.match(zge));if(!i)return null;const[,r,s,n,o]=i,l=s.indexOf("/");return{title:eZ(l!==-1?s.slice(l+1):s),serverType:KW[n.toLowerCase()],sublayer:o!=null&&o!==""?parseInt(o,10):null,url:{path:r}}}function qge(t){const e=Rr(t).path.match(Uge);return e?{serviceUrl:e[1],sublayerId:Number(e[2])}:null}function eZ(t){return(t=t.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+t.slice(1)}function hDe(t,e){const i=[];if(t){const r=Rw(t);r!=null&&r.title&&i.push(r.title)}if(e){const r=eZ(e);i.push(r)}if(i.length===2){if(i[0].toLowerCase().includes(i[1].toLowerCase()))return i[0];if(i[1].toLowerCase().includes(i[0].toLowerCase()))return i[1]}return i.join(" - ")}function BL(t){let e=wn(t,!0);return!!e&&(e=e.toLowerCase(),e.endsWith(".arcgis.com")&&(e.startsWith("services")||e.startsWith("tiles")||e.startsWith("features")||/^[a-z\d-]+\.svcs[a-z\d-]*\./.test(e)))}function dDe(t,e){return t&&zW(UW(t,e))}function pDe(t){let{url:e}=t;if(!e)return{url:e};e=UW(e,t.logger);const i=Rr(e),r=Rw(i.path);let s;if(r!=null)r.sublayer!=null&&t.layer.layerId==null&&(s=r.sublayer),e=r.url.path;else if(t.nonStandardUrlAllowed){const n=qge(i.path);n!=null&&(e=n.serviceUrl,s=n.sublayerId)}return{url:zW(e),layerId:s}}function fDe(t,e,i,r,s){lp(e,r,"url",s),r.url&&t.layerId!=null&&(r.url=Cw(r.url,i,t.layerId.toString()))}function mDe(t){if(!t)return!1;const e=t.toLowerCase(),i=e.includes("/services/"),r=e.includes("/mapserver/wmsserver"),s=e.includes("/imageserver/wmsserver"),n=e.includes("/wmsserver");return i&&(r||s||n)}const Bge=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function VR(t){if(!FR(t))return null;const e=r=>r instanceof RegExp?r.test(t):typeof r=="string"&&t.startsWith(r),i=dt.apiKeys;if(Array.isArray(i.scopes)){for(const r of i.scopes)if(Array.isArray(r.urls)){if(r.urls.some(e))return r.token}else if(e(r.urls))return r.token}return i.basemapStyles&&/^https?:\/\/(i?basemaps|basemapstyles)-api\.arcgis\.com\//i.test(t)?i.basemapStyles:dt.apiKey&&/^https?:\/\/.+\.arcgis\.com(\/|$)/i.test(t)?dt.apiKey:null}function HA(){return dt.apiKey!=null||dt.apiKeys.basemapStyles!=null}function Gge(t,e){return e?FR(t):VR(t)!=null}function FR(t){const e=wn(t,!0);return!!e&&!Bge.has(e)&&!t.endsWith("/sharing/rest/generateToken")}function Hge(t,e,i=!1,r){return new Promise((s,n)=>{if(Kr(r))return void n(GL());let o=()=>{d(),n(new Error(`Unable to load ${e}`))},l=async()=>{const m=t;try{await m.decode()}catch{}d(),s(m)},c=()=>{if(!t)return;const m=t;d(),m.src="",n(GL())};const d=()=>{t&&(t.removeEventListener("error",o),t.removeEventListener("load",l),o=null,l=null,t=null,r==null||r.removeEventListener("abort",c),c=null,i&&URL.revokeObjectURL(e))};r==null||r.addEventListener("abort",c),t.addEventListener("error",o),t.addEventListener("load",l)})}function GL(){try{return new DOMException("Aborted","AbortError")}catch{const t=new Error;return t.name="AbortError",t}}const tZ="Timeout exceeded";function Wge(){return new Error(tZ)}function yDe(t){return typeof t=="object"&&!!t&&"message"in t&&t.message===tZ}function Zge(t){dt.request.crossOriginNoCorsDomains||(dt.request.crossOriginNoCorsDomains={});const e=dt.request.crossOriginNoCorsDomains;for(let i of t)i=i.toLowerCase(),/^https?:\/\//.test(i)?e[wn(i)??""]=0:(e[wn("http://"+i)??""]=0,e[wn("https://"+i)??""]=0)}function Yge(t){const e=dt.request.crossOriginNoCorsDomains;if(e){let i=wn(t);if(i)return i=i.toLowerCase(),!op(i,OR())&&e[i]<Date.now()-36e5}return!1}async function Jge(t){var s;const e=Rr(t);t=e.path,((s=e.query)==null?void 0:s.f)==="json"&&(t+="?f=json");try{await fetch(t,{mode:"no-cors",credentials:"include"})}catch{}const i=dt.request.crossOriginNoCorsDomains,r=wn(t);i&&r&&(i[r.toLowerCase()]=Date.now())}const WA=new Map;function Kge(t,e){const i=e==null?void 0:e.preferredHost;if(!i||op(t,`https://${i}`,!0))return;const r=Rw(t);if(!r||r.serverType!=="FeatureServer"||CW(t))return;const s=r.url.path.toLowerCase();WA.has(s)||WA.set(s,i)}function HL(t){var r;const e=(r=Rw(t))==null?void 0:r.url.path.toLowerCase();if(!e)return t;const i=WA.get(e);return i?jge(t,i):t}async function Bt(t,e){var _;t instanceof URL&&(t=t.toString()),(e==null?void 0:e.query)instanceof URLSearchParams&&(e.query=kR(e.query.toString().replaceAll("+"," ")));const i=$p(t),r=vg(t);r||i||(t=Yo(t));const s={url:t,requestOptions:{...e}},n=x=>({data:x,getAllHeaders:Ly,getHeader:Ly,httpStatus:200,requestOptions:s.requestOptions,url:s.url}),o=zA(t,Kn.internalInterceptors);if(o){const x=await ZL(o,s);if(x!=null)return n(x)}let l=zA(t);if(l){const x=await ZL(l,s);if(x!=null)return n(x);l.after||l.error||(l=null)}if(t=s.url,(e=s.requestOptions).responseType==="image"&&(q("host-webworker")||q("host-node")))throw Jo("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),s);if(e.method==="head"){if(e.body)throw Jo("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),s);if(i||r)throw Jo("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),s)}if(await i0e(),ux)return ux.execute(t,e);const c=new AbortController,d=ao(e,()=>c.abort()),m={controller:c,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:l,params:s,redoRequest:!1,useIdentity:Kn.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},v=e.useRequestQueue?a0e(m):YA(m),w=await v.finally(()=>d==null?void 0:d.remove());return(_=l==null?void 0:l.after)==null||_.call(l,w),w}let ux,iZ=!1;const Kn=dt.request,rZ="FormData"in globalThis,Xge=new Set([499,498,403,401]),Qge=new Set(["COM_0056","COM_0057","SB_0008"]),e0e=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Ly=()=>null,cx=Symbol();function t0e(t){const e=wn(t);e&&!Bt._corsServers.includes(e)&&Bt._corsServers.push(e)}function WL(t){const e=wn(t);return!e||e.endsWith(".arcgis.com")||Bt._corsServers.includes(e)||RR(e)}function Jo(t,e,i,r){var o;let s;const n={url:i.url,requestOptions:i.requestOptions,getAllHeaders:Ly,getHeader:Ly,ssl:!1};if(e instanceof B)return e.details?(e.details=G(e.details),e.details.url=i.url,e.details.requestOptions=i.requestOptions):e.details=n,e;if(e){const l=r&&(()=>Array.from(r.headers)),c=r&&(v=>r.headers.get(v)),d=r==null?void 0:r.status,m=e.message;m&&(s=m),l&&c&&(n.getAllHeaders=l,n.getHeader=c),n.httpStatus=(e.httpCode!=null?e.httpCode:e.code)||d||0,n.subCode=e.subcode,n.messageCode=e.messageCode,typeof e.details=="string"?(n.messages=[e.details],s??(s=e.details)):(n.messages=e.details,s??(s=(o=n.messages)==null?void 0:o[0])),n.raw=cx in e?e[cx]:e}return s??(s="Error"),Cr(e)?$t():new B(t,s,n)}async function i0e(){q("host-webworker")&&(!ux&&globalThis.invokeStaticMessage?ux=await re(()=>import("./request-e3PbReLC.js"),[]):iZ=!0)}async function ZA(){ze||await re(()=>import("./IdentityManager-DzYwMU7A.js"),__vite__mapDeps([23,24]))}async function r0e(t){var l;const e=t.params.url,i=t.params.requestOptions,r=t.controller.signal,s=i.body;let n=null,o=null;if(rZ&&"HTMLFormElement"in globalThis&&(s instanceof FormData?n=s:s instanceof HTMLFormElement&&(n=new FormData(s))),typeof s=="string"&&(o=s),t.fetchOptions={cache:i.cacheBust?"no-cache":"default",credentials:"same-origin",headers:i.headers||{},keepalive:i.keepAlive??!1,method:i.method==="head"?"HEAD":"GET",mode:"cors",priority:Kn.priority,redirect:"follow",signal:r},(n||o)&&(t.fetchOptions.body=n||o),(iZ||i.authMode==="anonymous")&&(t.useIdentity=!1),t.hasToken=!!(/token=/i.test(e)||(l=i.query)!=null&&l.token||n!=null&&n.get("token")),!t.hasToken){const c=VR(e);c&&(i.query??(i.query={}),i.query.token=c,t.hasToken=!0)}if(t.useIdentity&&!t.hasToken&&!t.credential&&!t.credentialToken&&!sZ(e)&&!Kr(r)){let c;i.authMode==="immediate"?(await ZA(),c=await ze.getCredential(e,{signal:r})):i.authMode==="no-prompt"?(await ZA(),c=await ze.getCredential(e,{prompt:!1,signal:r}).catch(()=>{})):ze&&(c=ze.findCredential(e)),c&&(t.credential=c,t.credentialToken=c.token,t.useSSL=!!c.ssl)}}function sZ(t){return e0e.some(e=>e.test(t))}async function s0e(t){let e=t.params.url,i=HL(e);const r=t.params.requestOptions,s=t.fetchOptions??{},n=vg(e)||$p(e),o=r.responseType||"json",l=n?0:r.timeout!=null?r.timeout:Kn.timeout;let c=!1;if(!n){t.useSSL&&(e=jR(e));let _={...r.query};t.credentialToken&&(_.token=t.credentialToken);let x=B1(_);q("esri-url-encodes-apostrophe")&&(x=x.replaceAll("'","%27"));const T=i.length+1+x.length;let $;c=r.method==="delete"||r.method==="post"||r.method==="put"||!!r.body||T>Kn.maxUrlLength;const O=r.useProxy||!!vT(e);if(O){const C=DW(e);$=C.path,!c&&$.length+1+T>Kn.maxUrlLength&&(c=!0),C.query&&(_={...C.query,..._})}if(s.method==="HEAD"&&(c||O)){if(c)throw T>Kn.maxUrlLength?Jo("request:invalid-parameters",new Error("URL exceeds maximum length"),t.params):Jo("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),t.params);if(O)throw Jo("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),t.params)}if(c?(s.method=r.method==="delete"?"DELETE":r.method==="put"?"PUT":"POST",r.body?e=d5(e,_):(s.body=B1(_),s.headers||(s.headers={}),s.headers["Content-Type"]="application/x-www-form-urlencoded")):e=d5(e,_),O&&(t.useProxy=!0,e=`${$}?${e}`),_.token&&rZ&&s.body instanceof FormData&&!CW(e)&&s.body.set("token",_.token),r.hasOwnProperty("withCredentials"))t.withCredentials=r.withCredentials;else if(!op(e,OR())){if(RR(e))t.withCredentials=!0;else if(ze){const C=ze.findServerInfo(e);C!=null&&C.webTierAuth&&(t.withCredentials=!0)}}t.withCredentials&&(s.credentials="include",Yge(e)&&await Jge(c?d5(e,_):e)),i=HL(e)}let d,m,v=0,w=!1;l>0&&(v=setTimeout(()=>{w=!0,t.controller.abort()},l));try{if(r.responseType==="native-request-init")m=s,m.url=i,r.signal?m.signal=r.signal:delete m.signal;else if(r.responseType!=="image"||s.cache!=="default"||s.keepalive||s.method!=="GET"||c||n0e(r.headers)||!n&&!t.useProxy&&Kn.proxyUrl&&!WL(e)){if(Bt._beforeFetch&&await Bt._beforeFetch(e,s),d=await fetch(i,s),Bt._afterFetch&&await Bt._afterFetch(d),t.useProxy||t0e(e),r.responseType==="native")m=d;else if(s.method!=="HEAD")if(d.ok){switch(o){case"array-buffer":m=await d.arrayBuffer();break;case"blob":case"image":m=await d.blob();break;default:m=await d.text()}if(v&&(clearTimeout(v),v=0),o==="json"||o==="xml"||o==="document")if(m)switch(o){case"json":m=JSON.parse(m);break;case"xml":m=YL(m,"application/xml");break;case"document":m=YL(m,"text/html")}else m=null;if(m){if(o==="array-buffer"||o==="blob"){const _=d.headers.get("Content-Type");if(_&&/application\/json|text\/plain/i.test(_)&&m[o==="blob"?"size":"byteLength"]<=750)try{const x=await new Response(m).json();x.error&&(m=x)}catch{}}o==="image"&&m instanceof Blob&&(m=await JL(URL.createObjectURL(m),t,!0))}}else{m=await d.text();try{m=JSON.parse(m)}catch{}}}else m=await JL(i,t)}catch(_){if(_.name==="AbortError")throw w?Wge():$t("Request canceled");if(!(!d&&_ instanceof TypeError&&Kn.proxyUrl)||r.body||r.method==="delete"||r.method==="head"||r.method==="post"||r.method==="put"||t.useProxy||WL(e))throw _;t.redoRequest=!0,wge({proxyUrl:Kn.proxyUrl,urlPrefix:wn(e)??""})}finally{v&&clearTimeout(v)}return[d,m]}async function ZL(t,e){if(t.responseData!=null)return t.responseData;if(t.headers&&(e.requestOptions.headers={...e.requestOptions.headers,...t.headers}),t.query&&(e.requestOptions.query={...e.requestOptions.query,...t.query}),t.before){let i,r;try{r=await t.before(e)}catch(s){i=Jo("request:interceptor",s,e)}if((r instanceof Error||r instanceof B)&&(i=Jo("request:interceptor",r,e)),i)throw t.error&&t.error(i),i;return r}}function n0e(t){if(t){for(const e of Object.getOwnPropertyNames(t))if(t[e])return!0}return!1}function YL(t,e){let i;try{i=new DOMParser().parseFromString(t,e)}catch{}if(!i||i.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return i}Bt._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],Bt._beforeFetch=void 0,Bt._afterFetch=void 0;const o0e=new Map;async function a0e(t){const e=u0e(t.params.url);if(!e)return YA(t);const{QueueProcessor:i}=await re(()=>import("./QueueProcessor-D1i6OG9K.js"),[]);return ug(o0e,e.origin,()=>{const s=e.isHosted?q("request-queue-concurrency-hosted"):q("request-queue-concurrency-non-hosted");return new i({concurrency:s,process:n=>{if(Kr(n.params.requestOptions))throw Jo("",$t("Request canceled"),n.params);return YA(n)}})}).push(t)}async function YA(t){var n,o;let e,i;await r0e(t);try{do[e,i]=await s0e(t);while(!await l0e(t,e,i))}catch(l){const c=Jo("request:server",l,t.params,e);throw c.details.ssl=t.useSSL,(n=t.interceptor)!=null&&n.error&&t.interceptor.error(c),c}const r=t.params.url;if(i)if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(r)){if(!t.hasToken&&!t.credentialToken&&((o=i.user)!=null&&o.username)&&!RR(r)){const l=wn(r,!0);l&&Kn.trustedServers.push(l)}Array.isArray(i.authorizedCrossOriginNoCorsDomains)&&Zge(i.authorizedCrossOriginNoCorsDomains)}else(t.params.requestOptions.responseType||"json")==="json"&&Kge(r,i);const s=t.credential;if(s&&ze){const l=ze.findServerInfo(s.server);let c=l==null?void 0:l.owningSystemUrl;if(c){c=c.replace(/\/?$/,"/sharing");const d=ze.findCredential(c,s.userId);d&&ze._getIdenticalSvcIdx(c,d)===-1&&d.resources.unshift(c)}}return{data:i,getAllHeaders:e?()=>Array.from(e.headers):Ly,getHeader:e?l=>e.headers.get(l):Ly,httpStatus:(e==null?void 0:e.status)??200,requestOptions:t.params.requestOptions,ssl:t.useSSL,url:t.params.url}}async function l0e(t,e,i){var d;if(t.redoRequest)return t.redoRequest=!1,!1;const r=t.params.requestOptions;if(!e||r.responseType==="native"||r.responseType==="native-request-init")return!0;let s,n;if(i&&(i.error&&typeof i.error=="object"?s=i.error:i.status==="error"&&Array.isArray(i.messages)&&(s={...i},s[cx]=i,s.details=i.messages)),!s&&!e.ok)throw s=new Error(`Unable to load ${e.url} status: ${e.status}`),s[cx]=i,s;let o,l=null;s&&(n=Number(s.code),l=s.hasOwnProperty("subcode")?Number(s.subcode):null,o=s.messageCode,o=o==null?void 0:o.toUpperCase());const c=r.authMode;if(n===403&&(l===4||(d=s.message)!=null&&d.toLowerCase().includes("ssl")&&!s.message.toLowerCase().includes("permission"))){if(!t.useSSL)return t.useSSL=!0,!1}else if(!t.hasToken&&t.useIdentity&&(c!=="no-prompt"||n===498)&&n!==void 0&&Xge.has(n)&&!sZ(t.params.url)&&(n!==403||(!o||!Qge.has(o))&&(l==null||l===2&&t.credentialToken))){await ZA();try{const m=await ze.getCredential(t.params.url,{error:Jo("request:server",s,t.params),credential:t.credential,prompt:c!=="no-prompt",signal:t.controller.signal,token:t.credentialToken});return t.credential=m,t.credentialToken=m.token,t.useSSL=t.useSSL||m.ssl,!1}catch(m){if(c==="no-prompt")return t.credential=void 0,t.credentialToken=void 0,!1;s=m}}if(s)throw s;return!0}function JL(t,e,i=!1){const r=e.controller.signal,s=new Image;return e.withCredentials?s.crossOrigin="use-credentials":s.crossOrigin="anonymous",s.alt="",s.fetchPriority=Kn.priority,s.src=t,Hge(s,t,i,r)}function u0e(t){let e,i;return typeof t=="string"?(e=wn(t,!0),i=BL(t)):(e=t.origin,i=BL(t.toString())),e==null?null:{origin:e,isHosted:i}}function bi(t){if(!dt.assetsPath)throw se.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new B("assets:path-not-set","config.assetsPath is not set");return Cw(dt.assetsPath,t)}let p5,V=null;function nZ(){return!!V}function c0e(){return!!q("esri-wasm")}function h0e(){return p5||(p5=re(async()=>{const{default:t}=await import("./pe-wasm-CyV_MJXv.js");return{default:t}},[]).then(({default:t})=>t({locateFile:e=>bi(`esri/geometry/support/${e}`)})).then(t=>{hZ(t)}),p5)}const I2={geogToProj(t,e,i){V.ensureCache.prepare();const r=up(i),s=i===r,n=V.ensureFloat64(r),o=V._pe_geog_to_proj(V.getPointer(t),e,n);return o&&Zc(i,e,n,s),o},projGeog(t,e,i,r){switch(r){case li.PE_TRANSFORM_P_TO_G:return I2.projToGeog(t,e,i);case li.PE_TRANSFORM_G_TO_P:return I2.geogToProj(t,e,i)}return 0},projToGeog:(t,e,i)=>I2.projToGeogCenter(t,e,i,0),projToGeogCenter(t,e,i,r){V.ensureCache.prepare();const s=up(i),n=i===s,o=V.ensureFloat64(s),l=V._pe_proj_to_geog_center(V.getPointer(t),e,o,r);return l&&Zc(i,e,o,n),l}};let li=class vt{static init(){vt.PE_BUFFER_MAX=V.PeDefs.prototype.PE_BUFFER_MAX,vt.PE_NAME_MAX=V.PeDefs.prototype.PE_NAME_MAX,vt.PE_MGRS_MAX=V.PeDefs.prototype.PE_MGRS_MAX,vt.PE_USNG_MAX=V.PeDefs.prototype.PE_USNG_MAX,vt.PE_DD_MAX=V.PeDefs.prototype.PE_DD_MAX,vt.PE_DDM_MAX=V.PeDefs.prototype.PE_DDM_MAX,vt.PE_DMS_MAX=V.PeDefs.prototype.PE_DMS_MAX,vt.PE_UTM_MAX=V.PeDefs.prototype.PE_UTM_MAX,vt.PE_PARM_MAX=V.PeDefs.prototype.PE_PARM_MAX,vt.PE_TYPE_NONE=V.PeDefs.prototype.PE_TYPE_NONE,vt.PE_TYPE_GEOGCS=V.PeDefs.prototype.PE_TYPE_GEOGCS,vt.PE_TYPE_PROJCS=V.PeDefs.prototype.PE_TYPE_PROJCS,vt.PE_TYPE_GEOGTRAN=V.PeDefs.prototype.PE_TYPE_GEOGTRAN,vt.PE_TYPE_COORDSYS=V.PeDefs.prototype.PE_TYPE_COORDSYS,vt.PE_TYPE_UNIT=V.PeDefs.prototype.PE_TYPE_UNIT,vt.PE_TYPE_LINUNIT=V.PeDefs.prototype.PE_TYPE_LINUNIT,vt.PE_STR_OPTS_NONE=V.PeDefs.prototype.PE_STR_OPTS_NONE,vt.PE_STR_AUTH_NONE=V.PeDefs.prototype.PE_STR_AUTH_NONE,vt.PE_STR_AUTH_TOP=V.PeDefs.prototype.PE_STR_AUTH_TOP,vt.PE_STR_NAME_CANON=V.PeDefs.prototype.PE_STR_NAME_CANON,vt.PE_STR_FMT_WKT=V.PeDefs.prototype.PE_STR_FMT_WKT,vt.PE_STR_FMT_WKT2=V.PeDefs.prototype.PE_STR_FMT_WKT2,vt.PE_PARM_X0=V.PeDefs.prototype.PE_PARM_X0,vt.PE_PARM_ND=V.PeDefs.prototype.PE_PARM_ND,vt.PE_TRANSFORM_1_TO_2=V.PeDefs.prototype.PE_TRANSFORM_1_TO_2,vt.PE_TRANSFORM_2_TO_1=V.PeDefs.prototype.PE_TRANSFORM_2_TO_1,vt.PE_TRANSFORM_P_TO_G=V.PeDefs.prototype.PE_TRANSFORM_P_TO_G,vt.PE_TRANSFORM_G_TO_P=V.PeDefs.prototype.PE_TRANSFORM_G_TO_P,vt.PE_HORIZON_RECT=V.PeDefs.prototype.PE_HORIZON_RECT,vt.PE_HORIZON_POLY=V.PeDefs.prototype.PE_HORIZON_POLY,vt.PE_HORIZON_LINE=V.PeDefs.prototype.PE_HORIZON_LINE,vt.PE_HORIZON_DELTA=V.PeDefs.prototype.PE_HORIZON_DELTA}},oZ=null;const KL={},XL={},QL=t=>{const e=t.getType();switch(e){case li.PE_TYPE_GEOGCS:t=V.castObject(t,V.PeGeogcs);break;case li.PE_TYPE_PROJCS:t=V.castObject(t,V.PeProjcs);break;case li.PE_TYPE_GEOGTRAN:t=V.castObject(t,V.PeGeogtran);break;default:e&li.PE_TYPE_UNIT&&(t=V.castObject(t,V.PeUnit))}return t},Ff={initialize(){V.PeFactory.prototype.initialize(null)},coordsys:t=>Ff.factoryByType(li.PE_TYPE_COORDSYS,t),factoryByType(t,e){let i=null,r=KL[t];if(r||(r={},KL[t]=r),r.hasOwnProperty(String(e))&&(i=r[e],V.compare(i,V.NULL)&&(i=null)),!i){const s=V.PeFactory.prototype.factoryByType(t,e);V.compare(s,V.NULL)||(i=QL(s),r[e]=i)}return i},fromString(t,e){let i=null,r=XL[t];if(r||(r={},XL[t]=r),r.hasOwnProperty(e)&&(i=r[e],V.compare(i,V.NULL)&&(i=null)),!i){const s=V.PeFactory.prototype.fromString(t,e);V.compare(s,V.NULL)||(i=QL(s),r[e]=i)}return i},geogcs:t=>Ff.factoryByType(li.PE_TYPE_GEOGCS,t),geogtran:t=>Ff.factoryByType(li.PE_TYPE_GEOGTRAN,t),getCode:t=>V.PeFactory.prototype.getCode(t),projcs:t=>Ff.factoryByType(li.PE_TYPE_PROJCS,t),unit:t=>Ff.factoryByType(li.PE_TYPE_UNIT,t)};let e7,aZ=null;const zR={PE_GTLIST_OPTS_COMMON:0,init(){zR.PE_GTLIST_OPTS_COMMON=V.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,e7=V._pe_getPeGTlistExtendedEntrySize()},getGTlist(t,e,i,r,s,n){let o=null;const l=new V.PeInteger(n);try{const c=V.PeGTlistExtended.prototype.getGTlist(t,e,i,r,s,l);if((n=l.val)&&(o=[c],n>1)){const d=V.getPointer(c);for(let m=1;m<n;m++)o.push(V.wrapPointer(d+e7*m,V.PeGTlistExtendedEntry))}}finally{V.destroy(l)}return o}},d0e={destroy(t){if(t!=null&&t.length){for(const e of t)Po(e),e.getEntries().forEach(i=>{Po(i);const r=i.getGeogtran();Po(r),r.getParameters().forEach(Po),[r.getGeogcs1(),r.getGeogcs2()].forEach(s=>{Po(s);const n=s.getDatum();Po(n),Po(n.getSpheroid()),Po(s.getPrimem()),Po(s.getUnit())})});V.PeGTlistExtendedEntry.prototype.Delete(t[0])}}},p0e={geogToGeog(t,e,i,r,s){V.ensureCache.prepare();const n=up(i),o=i===n,l=V.ensureFloat64(n);let c=0;r&&(c=V.ensureFloat64(r));const d=V._pe_geog_to_geog(V.getPointer(t),e,l,c,s);return d&&Zc(i,e,l,o),d}},f0e={geodesicCoordinate(t,e,i,r,s,n,o,l){V.PeLineType.prototype.geodesic_coordinate(t,e,i,r,s,n,o,l)},geodeticCoordinate(t,e,i,r,s,n,o,l,c){V.PeLineType.prototype.geodetic_coordinate(t,e,i,r,s,n,o,l,c)},geodeticDistance(t,e,i,r,s,n,o,l,c,d){V.PeLineType.prototype.geodetic_distance(t,e,i,r,s,n,o,l,c,d)},greatEllipticDistance(t,e,i,r,s,n,o,l,c){V.PeLineType.prototype.great_elliptic_distance(t,e,i,r,s,n,o,l,c)}},m0e={phiToEta:(t,e)=>V.PeMath.prototype.phi_to_eta(t,e),etaToPhi:(t,e)=>V.PeMath.prototype.eta_to_phi(t,e),phiToPhig:(t,e)=>V.PeMath.prototype.phi_to_phig(t,e),q:(t,e,i)=>V.PeMath.prototype.q(t,e,i),q90:(t,e)=>V.PeMath.prototype.q90(t,e)},f5=(t,e,i,r,s,n)=>{let o,l;switch(V.ensureCache.prepare(),t){case"dd":o=V._pe_geog_to_dd,l=li.PE_DD_MAX;break;case"ddm":o=V._pe_geog_to_ddm,l=li.PE_DDM_MAX;break;case"dms":o=V._pe_geog_to_dms,l=li.PE_DMS_MAX}let c=0;e&&(c=V.getPointer(e));const d=up(r),m=V.ensureFloat64(d),v=_T(i,l),w=o(c,i,m,s,V.ensureInt32(v));if(w)for(let _=0;_<i;_++)n[_]=V.UTF8ToString(v[_]);return w},m5=(t,e,i,r,s)=>{let n;switch(V.ensureCache.prepare(),t){case"dd":n=V._pe_dd_to_geog;break;case"ddm":n=V._pe_ddm_to_geog;break;case"dms":n=V._pe_dms_to_geog}let o=0;e&&(o=V.getPointer(e));const l=r.map(v=>V.ensureString(v)),c=V.ensureInt32(l),d=V.ensureFloat64(new Array(2*i)),m=n(o,i,c,d);return m&&Zc(s,i,d),m},y0e={geogToDms:(t,e,i,r,s)=>f5("dms",t,e,i,r,s),dmsToGeog:(t,e,i,r)=>m5("dms",t,e,i,r),geogToDdm:(t,e,i,r,s)=>f5("ddm",t,e,i,r,s),ddmToGeog:(t,e,i,r)=>m5("ddm",t,e,i,r),geogToDd:(t,e,i,r,s)=>f5("dd",t,e,i,r,s),ddToGeog:(t,e,i,r)=>m5("dd",t,e,i,r)};let lZ=class zf{static init(){zf.PE_MGRS_STYLE_NEW=V.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,zf.PE_MGRS_STYLE_OLD=V.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,zf.PE_MGRS_STYLE_AUTO=V.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,zf.PE_MGRS_180_ZONE_1_PLUS=V.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,zf.PE_MGRS_ADD_SPACES=V.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}static geogToMgrsExtended(e,i,r,s,n,o,l){V.ensureCache.prepare();let c=0;e&&(c=V.getPointer(e));const d=up(r),m=V.ensureFloat64(d),v=_T(i,li.PE_MGRS_MAX),w=V.ensureInt32(v),_=V._pe_geog_to_mgrs_extended(c,i,m,s,n,o,w);if(_)for(let x=0;x<i;x++)l[x]=V.UTF8ToString(v[x]);return _}static mgrsToGeogExtended(e,i,r,s,n){V.ensureCache.prepare();let o=0;e&&(o=V.getPointer(e));const l=r.map(v=>V.ensureString(v)),c=V.ensureInt32(l),d=V.ensureFloat64(new Array(2*i)),m=V._pe_mgrs_to_geog_extended(o,i,c,s,d);return m&&Zc(n,i,d),m}};const g0e={geogToUsng(t,e,i,r,s,n,o){V.ensureCache.prepare();let l=0;t&&(l=V.getPointer(t));const c=up(i),d=V.ensureFloat64(c),m=_T(e,li.PE_MGRS_MAX),v=V.ensureInt32(m),w=V._pe_geog_to_usng(l,e,d,r,s,n,v);if(w)for(let _=0;_<e;_++)o[_]=V.UTF8ToString(m[_]);return w},usngToGeog(t,e,i,r){V.ensureCache.prepare();let s=0;t&&(s=V.getPointer(t));const n=i.map(d=>V.ensureString(d)),o=V.ensureInt32(n),l=V.ensureFloat64(new Array(2*e)),c=V._pe_usng_to_geog(s,e,o,l);return c&&Zc(r,e,l),c}};let uZ=class P2{static init(){P2.PE_UTM_OPTS_NONE=V.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,P2.PE_UTM_OPTS_ADD_SPACES=V.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,P2.PE_UTM_OPTS_NS=V.PeNotationUtm.prototype.PE_UTM_OPTS_NS}static geogToUtm(e,i,r,s,n){V.ensureCache.prepare();let o=0;e&&(o=V.getPointer(e));const l=up(r),c=V.ensureFloat64(l),d=_T(i,li.PE_UTM_MAX),m=V.ensureInt32(d),v=V._pe_geog_to_utm(o,i,c,s,m);if(v)for(let w=0;w<i;w++)n[w]=V.UTF8ToString(d[w]);return v}static utmToGeog(e,i,r,s,n){V.ensureCache.prepare();let o=0;e&&(o=V.getPointer(e));const l=r.map(v=>V.ensureString(v)),c=V.ensureInt32(l),d=V.ensureFloat64(new Array(2*i)),m=V._pe_utm_to_geog(o,i,c,s,d);return m&&Zc(n,i,d),m}};var Vs;let cZ=(Vs=class{static init(){Vs.PE_PCSINFO_OPTION_NONE=V.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,Vs.PE_PCSINFO_OPTION_DOMAIN=V.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,Vs.PE_POLE_OUTSIDE_BOUNDARY=V.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,Vs.PE_POLE_POINT=V.PePCSInfo.prototype.PE_POLE_POINT}static generate(e,i=Vs.PE_PCSINFO_OPTION_DOMAIN){let r=null,s=null;return Vs.cache.has(e)&&(s=Vs.cache.get(e),s[i]&&(r=s[i])),r||(r=V.PePCSInfo.prototype.generate(e,i),s||(s=[],Vs.cache.set(e,s)),s[i]=r),r}},Vs.cache=new Map,Vs);const v0e={versionString:()=>V.PeVersion.prototype.version_string()};function hZ(t){function e(n,o,l){n[o]=l(n[o])}V=t,li.init(),zR.init(),lZ.init(),uZ.init(),cZ.init(),oZ=class extends V.PeDouble{constructor(n=NaN){super(n)}destroy(){V.destroy(this)}[Symbol.dispose](){this.destroy()}},aZ=class extends V.PeGCSExtent{destroy(){V.destroy(this)}[Symbol.dispose](){this.destroy()}};const i=[V.PeAngunit,V.PeDatum,V.PeGeogcs,V.PeGeogtran,V.PeObject,V.PeParameter,V.PePrimem,V.PeProjcs,V.PeSpheroid,V.PeUnit];for(const n of i)e(n.prototype,"getName",o=>function(){return o.call(this,new Array(li.PE_NAME_MAX))});for(const n of[V.PeGeogtran,V.PeProjcs])e(n.prototype,"getParameters",o=>function(){const l=new Array(li.PE_PARM_MAX);let c=o.call(this);for(let d=0;d<l.length;d++){const m=V.getValue(c,"*");l[d]=m?V.wrapPointer(m,V.PeParameter):null,c+=Int32Array.BYTES_PER_ELEMENT}return l});e(V.PeHorizon.prototype,"getCoord",n=>function(o=!1){const l=this.getSize();if(!l)return null;const c=[];return Zc(c,l,n.call(this),o),c}),e(V.PeGTlistExtendedEntry.prototype,"getEntries",n=>{const o=V._pe_getPeGTlistExtendedGTsSize();return function(){let l=null;const c=n.call(this);if(!V.compare(c,V.NULL)){l=[c];const d=this.getSteps();if(d>1){const m=V.getPointer(c);for(let v=1;v<d;v++)l.push(V.wrapPointer(m+o*v,V.PeGTlistExtendedGTs))}}return l}});const r=V._pe_getPeHorizonSize(),s=n=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(n))return o.get(n);let l=null;const c=n.call(this);if(!V.compare(c,V.NULL)){l=[c];const d=c.getNump();if(d>1){const m=V.getPointer(c);for(let v=1;v<d;v++)l.push(V.wrapPointer(m+r*v,V.PeHorizon))}}return o.set(n,l),l};e(V.PeProjcs.prototype,"horizonGcsGenerate",s),e(V.PeProjcs.prototype,"horizonPcsGenerate",s),V.PeObject.prototype.toString=function(n=li.PE_STR_OPTS_NONE){V.ensureCache.prepare();const o=V.getPointer(this),l=V.ensureInt8(new Array(li.PE_BUFFER_MAX));return V.UTF8ToString(V._pe_object_to_string_ext(o,n,l))},V.PeGeogcs.prototype.destroy=function(){this.Delete(),Po(this),this.ptr=0},V.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},V.PeProjcs.prototype.destroy=function(){this.Delete(),Po(this),this.ptr=0},V.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function Po(t){if(!t)return;const e=V.getClass(t);if(!e)return;const i=V.getCache(e);if(!i)return;const r=V.getPointer(t);r&&delete i[r]}function _T(t,e){const i=[],r=new Array(e);for(let s=0;s<t;s++)i.push(V.ensureInt8(r));return i}function up(t){return ArrayBuffer.isView(t)?t:Array.isArray(t[0])?t.flat():t}function Zc(t,e,i,r=!1){if(r)for(let s=0;s<2*e;s++)t[s]=V.getValue(i+s*Float64Array.BYTES_PER_ELEMENT,"double");else{const s=t.length===0;for(let n=0;n<e;n++)s&&(t[n]=new Array(2)),t[n][0]=V.getValue(i,"double"),t[n][1]=V.getValue(i+Float64Array.BYTES_PER_ELEMENT,"double"),i+=2*Float64Array.BYTES_PER_ELEMENT}}const gDe=Object.freeze(Object.defineProperty({__proto__:null,PeCSTransformations:I2,PeDefs:li,get PeDouble(){return oZ},PeFactory:Ff,get PeGCSExtent(){return aZ},PeGTTransformations:p0e,PeGTlistExtended:zR,PeGTlistExtendedEntry:d0e,PeLineType:f0e,PeMath:m0e,PeNotationDms:y0e,PeNotationMgrs:lZ,PeNotationUsng:g0e,PeNotationUtm:uZ,PePCSInfo:cZ,PeVersion:v0e,_init:hZ,get _pe(){return V},isLoaded:nZ,isSupported:c0e,load:h0e},Symbol.toStringTag,{value:"Module"}));let y;const A={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10641:0,10665:0,10674:0,10744:0,10745:0,10759:0,10773:0,10802:0,10820:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,65061:2,65062:2,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(y=2e3;y<=2045;y++)A[y]=0;for(y=2056;y<=2065;y++)A[y]=0;for(y=2067;y<=2135;y++)A[y]=0;for(y=2137;y<=2154;y++)A[y]=0;for(y=2161;y<=2170;y++)A[y]=0;for(y=2172;y<=2193;y++)A[y]=0;for(y=2195;y<=2198;y++)A[y]=0;for(y=2200;y<=2203;y++)A[y]=0;for(y=2205;y<=2217;y++)A[y]=0;for(y=2222;y<=2224;y++)A[y]=1;for(y=2225;y<=2250;y++)A[y]=2;for(y=2251;y<=2253;y++)A[y]=1;for(y=2257;y<=2264;y++)A[y]=2;for(y=2274;y<=2279;y++)A[y]=2;for(y=2280;y<=2282;y++)A[y]=1;for(y=2283;y<=2289;y++)A[y]=2;for(y=2290;y<=2292;y++)A[y]=0;for(y=2308;y<=2313;y++)A[y]=0;for(y=2315;y<=2491;y++)A[y]=0;for(y=2494;y<=2866;y++)A[y]=0;for(y=2867;y<=2869;y++)A[y]=1;for(y=2870;y<=2888;y++)A[y]=2;for(y=2891;y<=2895;y++)A[y]=2;for(y=2896;y<=2898;y++)A[y]=1;for(y=2902;y<=2908;y++)A[y]=2;for(y=2915;y<=2920;y++)A[y]=2;for(y=2921;y<=2923;y++)A[y]=1;for(y=2924;y<=2930;y++)A[y]=2;for(y=2931;y<=2962;y++)A[y]=0;for(y=2964;y<=2968;y++)A[y]=2;for(y=2969;y<=2973;y++)A[y]=0;for(y=2975;y<=2991;y++)A[y]=0;for(y=2995;y<=3051;y++)A[y]=0;for(y=3054;y<=3079;y++)A[y]=0;for(y=3081;y<=3088;y++)A[y]=0;for(y=3092;y<=3101;y++)A[y]=0;for(y=3106;y<=3138;y++)A[y]=0;for(y=3146;y<=3151;y++)A[y]=0;for(y=3153;y<=3166;y++)A[y]=0;for(y=3168;y<=3172;y++)A[y]=0;for(y=3174;y<=3203;y++)A[y]=0;for(y=3294;y<=3358;y++)A[y]=0;for(y=3367;y<=3403;y++)A[y]=0;for(y=3408;y<=3416;y++)A[y]=0;for(y=3417;y<=3438;y++)A[y]=2;for(y=3441;y<=3446;y++)A[y]=2;for(y=3447;y<=3450;y++)A[y]=0;for(y=3451;y<=3459;y++)A[y]=2;for(y=3460;y<=3478;y++)A[y]=0;for(y=3554;y<=3559;y++)A[y]=0;for(y=3560;y<=3570;y++)A[y]=2;for(y=3571;y<=3581;y++)A[y]=0;for(y=3594;y<=3597;y++)A[y]=0;for(y=3601;y<=3604;y++)A[y]=0;for(y=3637;y<=3639;y++)A[y]=0;for(y=3665;y<=3667;y++)A[y]=0;for(y=3693;y<=3695;y++)A[y]=0;for(y=3701;y<=3727;y++)A[y]=0;for(y=3728;y<=3739;y++)A[y]=2;for(y=3740;y<=3751;y++)A[y]=0;for(y=3753;y<=3760;y++)A[y]=2;for(y=3761;y<=3773;y++)A[y]=0;for(y=3775;y<=3777;y++)A[y]=0;for(y=3779;y<=3781;y++)A[y]=0;for(y=3783;y<=3785;y++)A[y]=0;for(y=3788;y<=3791;y++)A[y]=0;for(y=3797;y<=3802;y++)A[y]=0;for(y=3814;y<=3816;y++)A[y]=0;for(y=3825;y<=3829;y++)A[y]=0;for(y=3832;y<=3841;y++)A[y]=0;for(y=3844;y<=3852;y++)A[y]=0;for(y=3873;y<=3885;y++)A[y]=0;for(y=3890;y<=3893;y++)A[y]=0;for(y=3907;y<=3912;y++)A[y]=0;for(y=3942;y<=3950;y++)A[y]=0;for(y=3968;y<=3970;y++)A[y]=0;for(y=3973;y<=3976;y++)A[y]=0;for(y=3986;y<=3989;y++)A[y]=0;for(y=3994;y<=3997;y++)A[y]=0;for(y=4048;y<=4051;y++)A[y]=0;for(y=4056;y<=4063;y++)A[y]=0;for(y=4093;y<=4096;y++)A[y]=0;for(y=4390;y<=4398;y++)A[y]=0;for(y=4399;y<=4413;y++)A[y]=2;for(y=4418;y<=4433;y++)A[y]=2;for(y=4455;y<=4457;y++)A[y]=2;for(y=4484;y<=4489;y++)A[y]=0;for(y=4491;y<=4554;y++)A[y]=0;for(y=4568;y<=4589;y++)A[y]=0;for(y=4652;y<=4656;y++)A[y]=0;for(y=4766;y<=4800;y++)A[y]=0;for(y=5014;y<=5016;y++)A[y]=0;for(y=5069;y<=5072;y++)A[y]=0;for(y=5105;y<=5130;y++)A[y]=0;for(y=5167;y<=5188;y++)A[y]=0;for(y=5253;y<=5259;y++)A[y]=0;for(y=5269;y<=5275;y++)A[y]=0;for(y=5292;y<=5311;y++)A[y]=0;for(y=5329;y<=5331;y++)A[y]=0;for(y=5343;y<=5349;y++)A[y]=0;for(y=5355;y<=5357;y++)A[y]=0;for(y=5387;y<=5389;y++)A[y]=0;for(y=5459;y<=5463;y++)A[y]=0;for(y=5479;y<=5482;y++)A[y]=0;for(y=5518;y<=5520;y++)A[y]=0;for(y=5530;y<=5539;y++)A[y]=0;for(y=5550;y<=5552;y++)A[y]=0;for(y=5562;y<=5583;y++)A[y]=0;for(y=5623;y<=5625;y++)A[y]=2;for(y=5631;y<=5639;y++)A[y]=0;for(y=5649;y<=5653;y++)A[y]=0;for(y=5663;y<=5680;y++)A[y]=0;for(y=5682;y<=5685;y++)A[y]=0;for(y=5875;y<=5877;y++)A[y]=0;for(y=5896;y<=5899;y++)A[y]=0;for(y=5921;y<=5940;y++)A[y]=0;for(y=6050;y<=6125;y++)A[y]=0;for(y=6244;y<=6275;y++)A[y]=0;for(y=6328;y<=6348;y++)A[y]=0;for(y=6350;y<=6356;y++)A[y]=0;for(y=6366;y<=6372;y++)A[y]=0;for(y=6381;y<=6387;y++)A[y]=0;for(y=6393;y<=6404;y++)A[y]=0;for(y=6480;y<=6483;y++)A[y]=0;for(y=6511;y<=6514;y++)A[y]=0;for(y=6579;y<=6581;y++)A[y]=0;for(y=6619;y<=6624;y++)A[y]=0;for(y=6625;y<=6627;y++)A[y]=2;for(y=6628;y<=6632;y++)A[y]=0;for(y=6634;y<=6637;y++)A[y]=0;for(y=6669;y<=6692;y++)A[y]=0;for(y=6707;y<=6709;y++)A[y]=0;for(y=6720;y<=6723;y++)A[y]=0;for(y=6732;y<=6738;y++)A[y]=0;for(y=6931;y<=6933;y++)A[y]=0;for(y=6956;y<=6959;y++)A[y]=0;for(y=7005;y<=7007;y++)A[y]=0;for(y=7057;y<=7070;y++)A[y]=2;for(y=7074;y<=7082;y++)A[y]=0;for(y=7109;y<=7118;y++)A[y]=0;for(y=7119;y<=7127;y++)A[y]=1;for(y=7374;y<=7376;y++)A[y]=0;for(y=7528;y<=7586;y++)A[y]=0;for(y=7587;y<=7645;y++)A[y]=2;for(y=7692;y<=7696;y++)A[y]=0;for(y=7755;y<=7787;y++)A[y]=0;for(y=7791;y<=7795;y++)A[y]=0;for(y=7799;y<=7801;y++)A[y]=0;for(y=7803;y<=7805;y++)A[y]=0;for(y=7825;y<=7831;y++)A[y]=0;for(y=7845;y<=7859;y++)A[y]=0;for(y=8013;y<=8032;y++)A[y]=0;for(y=8065;y<=8068;y++)A[y]=1;for(y=8518;y<=8529;y++)A[y]=2;for(y=8533;y<=8536;y++)A[y]=2;for(y=8538;y<=8540;y++)A[y]=2;for(y=8677;y<=8679;y++)A[y]=0;for(y=8836;y<=8840;y++)A[y]=0;for(y=8857;y<=8859;y++)A[y]=0;for(y=8908;y<=8910;y++)A[y]=0;for(y=9154;y<=9159;y++)A[y]=0;for(y=9205;y<=9218;y++)A[y]=0;for(y=9271;y<=9273;y++)A[y]=0;for(y=9295;y<=9297;y++)A[y]=0;for(y=9356;y<=9360;y++)A[y]=0;for(y=9404;y<=9407;y++)A[y]=0;for(y=9476;y<=9482;y++)A[y]=0;for(y=9487;y<=9494;y++)A[y]=0;for(y=9697;y<=9699;y++)A[y]=0;for(y=9821;y<=9865;y++)A[y]=0;for(y=10285;y<=10291;y++)A[y]=0;for(y=10314;y<=10317;y++)A[y]=0;for(y=10448;y<=10465;y++)A[y]=0;for(y=10726;y<=10729;y++)A[y]=0;for(y=10731;y<=10733;y++)A[y]=0;for(y=11114;y<=11118;y++)A[y]=0;for(y=20004;y<=20032;y++)A[y]=0;for(y=20047;y<=20049;y++)A[y]=0;for(y=20062;y<=20092;y++)A[y]=0;for(y=20135;y<=20138;y++)A[y]=0;for(y=20248;y<=20258;y++)A[y]=0;for(y=20348;y<=20358;y++)A[y]=0;for(y=20436;y<=20440;y++)A[y]=0;for(y=20822;y<=20824;y++)A[y]=0;for(y=20904;y<=20932;y++)A[y]=0;for(y=20934;y<=20936;y++)A[y]=0;for(y=21004;y<=21032;y++)A[y]=0;for(y=21035;y<=21037;y++)A[y]=0;for(y=21095;y<=21097;y++)A[y]=0;for(y=21148;y<=21150;y++)A[y]=0;for(y=21207;y<=21264;y++)A[y]=0;for(y=21307;y<=21364;y++)A[y]=0;for(y=21413;y<=21423;y++)A[y]=0;for(y=21453;y<=21463;y++)A[y]=0;for(y=21473;y<=21483;y++)A[y]=0;for(y=21780;y<=21782;y++)A[y]=0;for(y=21891;y<=21894;y++)A[y]=0;for(y=21896;y<=21899;y++)A[y]=0;for(y=22171;y<=22177;y++)A[y]=0;for(y=22181;y<=22187;y++)A[y]=0;for(y=22191;y<=22197;y++)A[y]=0;for(y=22207;y<=22222;y++)A[y]=0;for(y=22229;y<=22232;y++)A[y]=0;for(y=22234;y<=22236;y++)A[y]=0;for(y=22243;y<=22250;y++)A[y]=0;for(y=22262;y<=22265;y++)A[y]=0;for(y=22307;y<=22322;y++)A[y]=0;for(y=22348;y<=22357;y++)A[y]=0;for(y=22407;y<=22422;y++)A[y]=0;for(y=22462;y<=22465;y++)A[y]=0;for(y=22521;y<=22525;y++)A[y]=0;for(y=22607;y<=22622;y++)A[y]=0;for(y=22641;y<=22646;y++)A[y]=0;for(y=22648;y<=22657;y++)A[y]=0;for(y=22707;y<=22722;y++)A[y]=0;for(y=22762;y<=22765;y++)A[y]=0;for(y=22807;y<=22822;y++)A[y]=0;for(y=22991;y<=22994;y++)A[y]=0;for(y=23028;y<=23038;y++)A[y]=0;for(y=23301;y<=23333;y++)A[y]=2;for(y=23830;y<=23853;y++)A[y]=0;for(y=23866;y<=23872;y++)A[y]=0;for(y=23877;y<=23884;y++)A[y]=0;for(y=23886;y<=23894;y++)A[y]=0;for(y=23946;y<=23948;y++)A[y]=0;for(y=24311;y<=24313;y++)A[y]=0;for(y=24342;y<=24347;y++)A[y]=0;for(y=24370;y<=24374;y++)A[y]=10;for(y=24375;y<=24381;y++)A[y]=0;for(y=24718;y<=24721;y++)A[y]=0;for(y=24817;y<=24821;y++)A[y]=0;for(y=24877;y<=24882;y++)A[y]=0;for(y=24891;y<=24893;y++)A[y]=0;for(y=25391;y<=25395;y++)A[y]=0;for(y=25828;y<=25838;y++)A[y]=0;for(y=26191;y<=26195;y++)A[y]=0;for(y=26391;y<=26393;y++)A[y]=0;for(y=26701;y<=26722;y++)A[y]=0;for(y=26729;y<=26799;y++)A[y]=2;for(y=26801;y<=26803;y++)A[y]=2;for(y=26811;y<=26813;y++)A[y]=2;for(y=26847;y<=26870;y++)A[y]=2;for(y=26891;y<=26899;y++)A[y]=0;for(y=26901;y<=26923;y++)A[y]=0;for(y=26929;y<=26946;y++)A[y]=0;for(y=26948;y<=26998;y++)A[y]=0;for(y=27037;y<=27040;y++)A[y]=0;for(y=27205;y<=27232;y++)A[y]=0;for(y=27258;y<=27260;y++)A[y]=0;for(y=27391;y<=27398;y++)A[y]=0;for(y=27561;y<=27564;y++)A[y]=0;for(y=27571;y<=27574;y++)A[y]=0;for(y=27581;y<=27584;y++)A[y]=0;for(y=27591;y<=27594;y++)A[y]=0;for(y=27700;y<=27707;y++)A[y]=0;for(y=28191;y<=28193;y++)A[y]=0;for(y=28348;y<=28358;y++)A[y]=0;for(y=28402;y<=28432;y++)A[y]=0;for(y=28462;y<=28492;y++)A[y]=0;for(y=29118;y<=29122;y++)A[y]=0;for(y=29168;y<=29172;y++)A[y]=0;for(y=29177;y<=29185;y++)A[y]=0;for(y=29187;y<=29195;y++)A[y]=0;for(y=29900;y<=29903;y++)A[y]=0;for(y=30161;y<=30179;y++)A[y]=0;for(y=30491;y<=30494;y++)A[y]=0;for(y=30729;y<=30732;y++)A[y]=0;for(y=31251;y<=31259;y++)A[y]=0;for(y=31265;y<=31268;y++)A[y]=0;for(y=31275;y<=31279;y++)A[y]=0;for(y=31281;y<=31297;y++)A[y]=0;for(y=31461;y<=31469;y++)A[y]=0;for(y=31491;y<=31495;y++)A[y]=0;for(y=31917;y<=31922;y++)A[y]=0;for(y=31965;y<=32e3;y++)A[y]=0;for(y=32001;y<=32003;y++)A[y]=2;for(y=32005;y<=32031;y++)A[y]=2;for(y=32033;y<=32060;y++)A[y]=2;for(y=32064;y<=32067;y++)A[y]=2;for(y=32074;y<=32077;y++)A[y]=2;for(y=32081;y<=32086;y++)A[y]=0;for(y=32107;y<=32130;y++)A[y]=0;for(y=32133;y<=32159;y++)A[y]=0;for(y=32164;y<=32167;y++)A[y]=2;for(y=32180;y<=32199;y++)A[y]=0;for(y=32201;y<=32260;y++)A[y]=0;for(y=32301;y<=32360;y++)A[y]=0;for(y=32401;y<=32460;y++)A[y]=0;for(y=32501;y<=32560;y++)A[y]=0;for(y=32601;y<=32662;y++)A[y]=0;for(y=32664;y<=32667;y++)A[y]=2;for(y=32701;y<=32761;y++)A[y]=0;for(y=53001;y<=53004;y++)A[y]=0;for(y=53008;y<=53019;y++)A[y]=0;for(y=53021;y<=53032;y++)A[y]=0;for(y=53034;y<=53037;y++)A[y]=0;for(y=53042;y<=53046;y++)A[y]=0;for(y=53074;y<=53080;y++)A[y]=0;for(y=54001;y<=54004;y++)A[y]=0;for(y=54008;y<=54019;y++)A[y]=0;for(y=54021;y<=54032;y++)A[y]=0;for(y=54034;y<=54037;y++)A[y]=0;for(y=54042;y<=54046;y++)A[y]=0;for(y=54048;y<=54053;y++)A[y]=0;for(y=54074;y<=54080;y++)A[y]=0;for(y=54090;y<=54096;y++)A[y]=0;for(y=54098;y<=54101;y++)A[y]=0;for(y=65161;y<=65163;y++)A[y]=0;for(y=102001;y<=102040;y++)A[y]=0;for(y=102042;y<=102063;y++)A[y]=0;for(y=102065;y<=102067;y++)A[y]=0;for(y=102070;y<=102117;y++)A[y]=0;for(y=102122;y<=102216;y++)A[y]=0;for(y=102221;y<=102377;y++)A[y]=0;for(y=102382;y<=102388;y++)A[y]=0;for(y=102389;y<=102398;y++)A[y]=2;for(y=102399;y<=102444;y++)A[y]=0;for(y=102445;y<=102447;y++)A[y]=2;for(y=102448;y<=102458;y++)A[y]=0;for(y=102459;y<=102468;y++)A[y]=2;for(y=102469;y<=102499;y++)A[y]=0;for(y=102500;y<=102519;y++)A[y]=1;for(y=102520;y<=102524;y++)A[y]=0;for(y=102525;y<=102529;y++)A[y]=2;for(y=102530;y<=102588;y++)A[y]=0;for(y=102590;y<=102598;y++)A[y]=0;for(y=102601;y<=102603;y++)A[y]=0;for(y=102605;y<=102628;y++)A[y]=0;for(y=102629;y<=102646;y++)A[y]=2;for(y=102648;y<=102700;y++)A[y]=2;for(y=102701;y<=102703;y++)A[y]=0;for(y=102707;y<=102730;y++)A[y]=2;for(y=102733;y<=102758;y++)A[y]=2;for(y=102767;y<=102900;y++)A[y]=0;for(y=102901;y<=102933;y++)A[y]=2;for(y=102934;y<=102950;y++)A[y]=13;for(y=102951;y<=102963;y++)A[y]=0;for(y=102965;y<=102969;y++)A[y]=0;for(y=102971;y<=102973;y++)A[y]=0;for(y=102975;y<=102989;y++)A[y]=0;for(y=102990;y<=102992;y++)A[y]=1;for(y=102997;y<=103002;y++)A[y]=0;for(y=103003;y<=103008;y++)A[y]=2;for(y=103009;y<=103011;y++)A[y]=0;for(y=103012;y<=103014;y++)A[y]=2;for(y=103019;y<=103021;y++)A[y]=0;for(y=103022;y<=103024;y++)A[y]=2;for(y=103029;y<=103031;y++)A[y]=0;for(y=103032;y<=103034;y++)A[y]=2;for(y=103065;y<=103068;y++)A[y]=0;for(y=103074;y<=103076;y++)A[y]=0;for(y=103077;y<=103079;y++)A[y]=1;for(y=103080;y<=103082;y++)A[y]=0;for(y=103083;y<=103085;y++)A[y]=2;for(y=103090;y<=103093;y++)A[y]=0;for(y=103097;y<=103099;y++)A[y]=0;for(y=103100;y<=103102;y++)A[y]=2;for(y=103107;y<=103109;y++)A[y]=0;for(y=103110;y<=103112;y++)A[y]=2;for(y=103113;y<=103116;y++)A[y]=0;for(y=103117;y<=103120;y++)A[y]=2;for(y=103153;y<=103157;y++)A[y]=0;for(y=103158;y<=103162;y++)A[y]=2;for(y=103163;y<=103165;y++)A[y]=0;for(y=103166;y<=103168;y++)A[y]=1;for(y=103169;y<=103171;y++)A[y]=2;for(y=103186;y<=103188;y++)A[y]=0;for(y=103189;y<=103191;y++)A[y]=2;for(y=103192;y<=103195;y++)A[y]=0;for(y=103196;y<=103199;y++)A[y]=2;for(y=103200;y<=103224;y++)A[y]=0;for(y=103225;y<=103227;y++)A[y]=1;for(y=103232;y<=103237;y++)A[y]=0;for(y=103238;y<=103243;y++)A[y]=2;for(y=103244;y<=103246;y++)A[y]=0;for(y=103247;y<=103249;y++)A[y]=2;for(y=103254;y<=103256;y++)A[y]=0;for(y=103257;y<=103259;y++)A[y]=2;for(y=103264;y<=103266;y++)A[y]=0;for(y=103267;y<=103269;y++)A[y]=2;for(y=103300;y<=103375;y++)A[y]=0;for(y=103381;y<=103383;y++)A[y]=0;for(y=103384;y<=103386;y++)A[y]=1;for(y=103387;y<=103389;y++)A[y]=0;for(y=103390;y<=103392;y++)A[y]=2;for(y=103397;y<=103399;y++)A[y]=0;for(y=103400;y<=103471;y++)A[y]=2;for(y=103476;y<=103478;y++)A[y]=0;for(y=103479;y<=103481;y++)A[y]=2;for(y=103486;y<=103488;y++)A[y]=0;for(y=103489;y<=103491;y++)A[y]=2;for(y=103492;y<=103495;y++)A[y]=0;for(y=103496;y<=103499;y++)A[y]=2;for(y=103528;y<=103543;y++)A[y]=0;for(y=103544;y<=103548;y++)A[y]=2;for(y=103549;y<=103551;y++)A[y]=0;for(y=103552;y<=103554;y++)A[y]=1;for(y=103555;y<=103557;y++)A[y]=2;for(y=103558;y<=103560;y++)A[y]=0;for(y=103571;y<=103573;y++)A[y]=0;for(y=103574;y<=103576;y++)A[y]=2;for(y=103577;y<=103580;y++)A[y]=0;for(y=103581;y<=103583;y++)A[y]=2;for(y=103595;y<=103694;y++)A[y]=0;for(y=103696;y<=103699;y++)A[y]=0;for(y=103700;y<=103793;y++)A[y]=2;for(y=103794;y<=103890;y++)A[y]=0;for(y=103891;y<=103896;y++)A[y]=2;for(y=103900;y<=103971;y++)A[y]=2;for(y=103972;y<=103977;y++)A[y]=0;for(y=112e3;y<=112101;y++)A[y]=0;const dZ=[102100,102113,3857,3785,900913],w0e=[104905,104971],b0e=[104903],_0e=[4326,...dZ,...w0e,...b0e],G1=[-20037508342788905e-9,20037508342788905e-9],JA=[-20037508342787e-6,20037508342787e-6],y5={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:G1,origin:JA,dx:1e-5},pZ={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:G1,origin:JA,dx:1e-5},102100:y5,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:G1,origin:JA,dx:1e-5},3857:y5,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:y5,104903:{wkTemplate:'GEOGCS["GCS_Moon_2000",DATUM["D_Moon_2000",SPHEROID["Moon_2000_IAU_IAG",1737400,0,AUTHORITY["ESRI","107903"]],AUTHORITY["ESRI","106903"]],PRIMEM["Reference_Meridian",0,AUTHORITY["ESRI","108900"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["ESRI","104903"]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function vr(t,e){if(t===e)return!0;if(t==null||e==null)return!1;const i=t.wkid,r=e.wkid;if(i!=null||r!=null){if(i===r||Va(t)&&Va(e))return!0;const o=t.latestWkid;if(o!=null&&r===o)return!0;const l=e.latestWkid;return l!=null&&i===l}let s,n;return t.wkt2&&e.wkt2?(s=t.wkt2,n=e.wkt2):t.wkt&&e.wkt&&(s=t.wkt,n=e.wkt),!(!s||!n)&&s.toUpperCase()===n.toUpperCase()}function vs(t){const e=t==null?void 0:t.wkid;return e!=null&&e>=2e3&&pZ[e]||null}function fZ(t){if(!t)return;const{wkid:e,vcsWkid:i}=t;if(e)return i?JSON.stringify({wkid:e,vcsWkid:i}):String(e);const r=t.wkt||t.wkt2;return JSON.stringify(r?i?{wkt:r,vcsWkid:i}:{wkt:r}:{})}function wg(t){if(!fn(t))return!1;const{wkid:e}=t;if(e)return A[e]==null;const i=t.wkt2||t.wkt;return!!i&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(i)}function S0e(t){return!(mZ(t)||yZ(t))}function cp(t){return(t==null?void 0:t.wkid)===4326}function vDe(t){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(t)}function t7(t){return(t==null?void 0:t.wkid)===4490}function Va(t){const e=t==null?void 0:t.wkid;return e!=null&&e>=2e3&&dZ.includes(e)}function x0e(t){return(t==null?void 0:t.wkid)===32662}function ST(t){return t===104971||t===104905}function mZ(t){return ST(t==null?void 0:t.wkid)}function xT(t){return t===104903}function yZ(t){return xT(t==null?void 0:t.wkid)}function T0e(t){const e=t==null?void 0:t.wkid;return e!=null&&e>=2e3&&_0e.includes(e)}function fn(t){if(t==null)return!1;const e=t.wkid;return e!=null&&e>=2e3||t.wkt2!=null||t.wkt!=null}const gZ={wkid:4326,wkt:_p(pZ[4326].wkTemplate,{Central_Meridian:"0.0"})},vZ={wkid:102100,latestWkid:3857},$0e={wkid:32662};function UR(t){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${t.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const M0e=UR(hi),qR=UR(ja),BR=UR(Wc),E0e={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${hi.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},A0e=qR.wkt.toUpperCase(),O0e=BR.wkt.toUpperCase();function k0e(t){if(t!=null&&fn(t)){const e=t.wkid,i=t.wkt2??t.wkt;if(ST(e))return ja;const r=i==null?void 0:i.toUpperCase();if(i&&r===A0e)return ja;if(xT(e)||r&&r===O0e)return Wc}return hi}function wDe(t){return ST(t)?ja:xT(t)?Wc:hi}function hx(t){return vr(t,M0e)}function Yc(t){return hx(t)||vr(t,qR)||vr(t,BR)}const wZ=39.37,C0e=hi.radius*Math.PI/200,bZ=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,Vy=A,_Z=/UNIT\[([^\]]+)]/i,R0e=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),I0e=wr()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),To=t=>t*t,Bu=t=>t*t*t,H1={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:To(.001)},"square-centimeters":{inBaseUnits:To(.01)},"square-decimeters":{inBaseUnits:To(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:To(1e3)},"square-inches":{inBaseUnits:To(.0254)},"square-feet":{inBaseUnits:To(.3048)},"square-yards":{inBaseUnits:To(.9144)},"square-miles":{inBaseUnits:To(1609.344)},"square-nautical-miles":{inBaseUnits:To(1852)},"square-us-feet":{inBaseUnits:To(1200/3937)},acres:{inBaseUnits:.0015625*To(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Bu(.001)},"cubic-centimeters":{inBaseUnits:1e3*Bu(.01)},"cubic-decimeters":{inBaseUnits:1e3*Bu(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Bu(1e3)},"cubic-inches":{inBaseUnits:1e3*Bu(.0254)},"cubic-feet":{inBaseUnits:1e3*Bu(.3048)},"cubic-yards":{inBaseUnits:1e3*Bu(.9144)},"cubic-miles":{inBaseUnits:1e3*Bu(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},P0e=(()=>{const t={};for(const e in H1)for(const i in H1[e].units)t[i]=e;return t})();function j0e(t,e,i){return t*H1[i].units[e].inBaseUnits}function N0e(t,e,i){return t/H1[i].units[e].inBaseUnits}const D0e=["inches","feet","yards","miles","nautical-miles","us-feet","millimeters","centimeters","decimeters","meters","kilometers"],L0e=["metric","imperial"],SZ=[...L0e,...D0e],V0e=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function KA(t){const e=P0e[t];if(!e)throw new Error("unknown type");return e}function i7(t,e=null){return e=e||KA(t),H1[e].baseUnit===t}function _i(t,e,i){if(e===i)return t;const r=KA(e);if(r!==KA(i))throw new Error("incompatible units");const s=i7(e,r)?t:j0e(t,e,r);return i7(i,r)?s:N0e(s,i,r)}function bDe(t,e,i,r=!1){if(!r&&wg(e))throw new Error("Unable to convert from an angular unit to a linear unit.");const s=Ep(e);return s!==i&&(t=s?_i(t,s,i):_i(t*=co(e),"meters",i)),t}function _De(t,e,i,r=!1){if(!r&&wg(i))throw new Error("Unable to convert from a linear unit to an angular unit.");const s=Ep(i);return e!==s&&(t=s?_i(t,e,s):_i(t,e,"meters")/co(i)),t}function F0e(t){switch(t){case"metric":return"meters";case"imperial":return"feet";default:return t}}function SDe(t){return F0e(t)}function xDe(t){switch(t){case"metric":return"square-meters";case"imperial":return"square-feet";default:return t}}function TDe(t,e,i){switch(i){case"metric":return z0e(t,e);case"imperial":return q0e(t,e);default:return i}}function $De(t,e,i){switch(i){case"metric":return U0e(t,e);case"imperial":return B0e(t,e);default:return i}}function z0e(t,e){const i=_i(t,e,"meters");return Math.abs(i)<3e3?"meters":"kilometers"}function U0e(t,e){const i=_i(t,e,"meters");return Math.abs(i)<1e5?"meters":"kilometers"}function q0e(t,e){const i=_i(t,e,"feet");return Math.abs(i)<1e3?"feet":"miles"}function B0e(t,e){const i=_i(t,e,"feet");return Math.abs(i)<1e5?"feet":"miles"}function MDe(t,e){const i=_i(t,e,"square-meters");return Math.abs(i)<3e6?"square-meters":"square-kilometers"}function EDe(t,e){const i=_i(t,e,"square-feet");return Math.abs(i)<1e6?"square-feet":"square-miles"}function G0e(t,e,i){return _i(t,e,"meters")/(i*Math.PI/180)}function GR(t){return I0e.fromJSON(t.toLowerCase())||null}function r7(t){if(t!=null&&!S0e(t))return 1;const e=co(t);return e>1e5?1:e}function xZ(t){return co(t)>=k0e(t).metersPerDegree?"meters":Ep(t)}function co(t,e=hi.metersPerDegree){return H0e(t,!0)??e}function H0e(t,e=!1){const i=(t==null?void 0:t.wkid)??null,r=(t==null?void 0:t.wkt2)??(t==null?void 0:t.wkt)??null;let s=null;if(i){if(ST(i))return ja.metersPerDegree;if(xT(i))return Wc.metersPerDegree;s=Vy.values[Vy[i]],!s&&e&&R0e.has(i)&&(s=C0e)}else r&&(MZ(r)?s=s7(bZ.exec(r),s):$Z(r)&&(s=s7(_Z.exec(r),s)));return s}function ADe(t){return wg(t)?1:co(t)}function s7(t,e){return t!=null&&t[1]?TZ(t[1]):e}function TZ(t){return parseFloat(t.split(",")[1])}function Ep(t){const e=(t==null?void 0:t.wkid)??null,i=(t==null?void 0:t.wkt2)??(t==null?void 0:t.wkt)??null;let r=null;if(e)r=Vy.units[Vy[e]];else if(i){const s=MZ(i)?bZ:$Z(i)?_Z:null;if(s){const n=s.exec(i);n!=null&&n[1]&&(r=Z0e(n[1]))}}return r!=null?GR(r):null}function ODe(t){const e=Ep(t);return e!=null&&SZ.includes(e)?e:null}function kDe(t){const e=xZ(t);return e!=null&&SZ.includes(e)?e:null}function CDe(t){const e=Ep(t);return e==null?null:V0e.get(e)}function $Z(t){return/^GEOCCS/i.test(t)}function MZ(t){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(t)}const W0e=1e-7;function Z0e(t){const e=/[\\"']([^\\"']+)/.exec(t);let i=e==null?void 0:e[1];if(!i||!GR(i)){const r=TZ(t);i=null;const s=Vy.values;for(let n=0;n<s.length;++n)if(Math.abs(r-s[n])<W0e){i=Vy.units[n];break}}return i}function RDe(t){const e=Ep(t);if(e==null)return null;switch(e){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null}const Y0e={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},J0e={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},K0e={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},IDe=wr()(Y0e),PDe=wr()(J0e),jDe=wr()(K0e);var fa,Ca;let Se=(Ca=class extends ae{static fromJSON(e){if(!e)return null;if((e==null?void 0:e.wkid)===102100)return fa.WebMercator;if((e==null?void 0:e.wkid)===4326)return fa.WGS84;const i=new fa;return i.read(e),i}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return cp(this)}get isWebMercator(){return Va(this)}get isGeographic(){return wg(this)}get isWrappable(){return T0e(this)}get metersPerUnit(){return co(this)}get unit(){return Ep(this)||(this.isGeographic?"degrees":null)}writeWkt(e,i){this.wkid||(i.wkt=e)}clone(){if(this===fa.WGS84)return new fa(gZ);if(this===fa.WebMercator)return new fa(vZ);const e=new fa;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=G(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:i,referenceServiceName:r}=e.imageCoordinateSystem,{geodataXform:s}=e.imageCoordinateSystem,n=this.imageCoordinateSystem;return i==null||s?JSON.stringify(n)===JSON.stringify(e.imageCoordinateSystem):r?n.id===i&&n.referenceServiceName===r:n.id===i}return vr(this,e)}toJSON(e){return this.write(void 0,e)}},fa=Ca,Ca.GCS_NAD_1927=null,Ca.WGS84=null,Ca.WebMercator=null,Ca.PlateCarree=null,Ca);h([f({readOnly:!0})],Se.prototype,"isWGS84",null),h([f({readOnly:!0})],Se.prototype,"isWebMercator",null),h([f({readOnly:!0})],Se.prototype,"isGeographic",null),h([f({readOnly:!0})],Se.prototype,"isWrappable",null),h([f({type:ot,json:{write:!0}})],Se.prototype,"latestWkid",void 0),h([f({readOnly:!0})],Se.prototype,"metersPerUnit",null),h([f({readOnly:!0})],Se.prototype,"unit",null),h([f({type:ot,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],Se.prototype,"wkid",void 0),h([f({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],Se.prototype,"wkt",void 0),h([_e("wkt"),_e("web-scene","wkt")],Se.prototype,"writeWkt",null),h([f({type:String,json:{write:!1}})],Se.prototype,"wkt2",void 0),h([f({type:ot,json:{write:!0}})],Se.prototype,"vcsWkid",void 0),h([f({type:ot,json:{write:!0}})],Se.prototype,"latestVcsWkid",void 0),h([f()],Se.prototype,"imageCoordinateSystem",void 0),Se=fa=h([I("esri.geometry.SpatialReference")],Se),Se.prototype.toJSON.isDefaultToJSON=!0,Se.GCS_NAD_1927=$e.freeze(new Se({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),Se.WGS84=$e.freeze(new Se(gZ)),Se.WebMercator=$e.freeze(new Se(vZ)),Se.PlateCarree=$e.freeze(new Se($0e));let tr=class extends ae{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Se.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,i){if(e instanceof Se)return e;if(e!=null){const r=new Se;return r.read(e,i),r}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,i){this.cache[e]=i}};h([f()],tr.prototype,"type",void 0),h([f({readOnly:!0})],tr.prototype,"cache",null),h([f({readOnly:!0})],tr.prototype,"extent",null),h([f({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],tr.prototype,"hasM",void 0),h([f({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],tr.prototype,"hasZ",void 0),h([f({type:Se,json:{write:!0},value:Se.WGS84})],tr.prototype,"spatialReference",void 0),h([Ie("spatialReference")],tr.prototype,"readSpatialReference",null),tr=h([I("esri.geometry.Geometry")],tr);function Fy(t){if(t&&typeof t=="object"&&"type"in t&&t.type==="mesh")throw new B("internal:mesh","Mesh geometries are not supported for this operation")}function X0e(t){t.forEach(Fy)}const Q0e=57.29577951308232,eve=.017453292519943;function n7(t){return t*Q0e}function o7(t){return t*eve}function DDe(t){return Math.PI/2-2*Math.atan(Math.exp(-t/hi.radius))}function XA(t){return t.wkid!=null||t.wkt!=null}const g5=[0,0];function dx(t,e,i,r,s){const n=t,o=s;if(o.spatialReference=i,"x"in n&&"x"in o)[o.x,o.y]=e(n.x,n.y,g5,r);else if("xmin"in n&&"xmin"in o)[o.xmin,o.ymin]=e(n.xmin,n.ymin,g5,r),[o.xmax,o.ymax]=e(n.xmax,n.ymax,g5,r);else if("paths"in n&&"paths"in o||"rings"in n&&"rings"in o){const l="paths"in n?n.paths:n.rings,c=[];let d;for(let m=0;m<l.length;m++){const v=l[m];d=[],c.push(d);for(let w=0;w<v.length;w++)d.push(e(v[w][0],v[w][1],[0,0],r)),v[w].length>2&&d[w].push(v[w][2]),v[w].length>3&&d[w].push(v[w][3])}"paths"in o?o.paths=c:o.rings=c}else if("points"in n&&"points"in o){const l=n.points,c=[];for(let d=0;d<l.length;d++)c[d]=e(l[d][0],l[d][1],[0,0],r),l[d].length>2&&c[d].push(l[d][2]),l[d].length>3&&c[d].push(l[d][3]);o.points=c}return s}function j2(t,e){const i=t&&(XA(t)?t:t.spatialReference),r=e&&(XA(e)?e:e.spatialReference);return!(t&&"type"in t&&t.type==="mesh"||e&&"type"in e&&e.type==="mesh"||!i||!r)&&(!!vr(r,i)||Va(r)&&cp(i)||Va(i)&&cp(r))}function TT(t,e){if(t==null)return null;const i=t.spatialReference,r=e&&(XA(e)?e:e.spatialReference);return j2(i,r)?vr(i,r)?G(t):Va(r)?dx(t,vm,Se.WebMercator,!1,G(t)):cp(r)?dx(t,$T,Se.WGS84,!1,G(t)):null:null}function vm(t,e,i=[0,0]){e>89.99999?e=89.99999:e<-89.99999&&(e=-89.99999);const r=o7(e);return i[0]=o7(t)*hi.radius,i[1]=hi.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),i}function $T(t,e,i=[0,0],r=!1){if(t===G1[0])i[0]=-180;else if(t===G1[1])i[0]=180;else{const s=n7(t/hi.radius);i[0]=r?s:s-360*Math.floor((s+180)/360)}return i[1]=n7(Math.PI/2-2*Math.atan(Math.exp(-e/hi.radius))),i}function Bd(t,e=!1,i=G(t)){return Fy(t),Fy(i),dx(t,vm,Se.WebMercator,e,i)}function wm(t,e=!1,i=G(t)){return Fy(t),Fy(i),dx(t,$T,Se.WGS84,e,i)}function EZ(t,e){const i=t.x-e.x,r=t.y-e.y,s=t.z!=null&&e.z!=null?t.z-e.z:0;return Math.sqrt(i*i+r*r+s*s)}function tve(t){var e;return((e=AZ(t,OZ))==null?void 0:e[0])??null}function ive(t){var e;return((e=AZ(t,OZ))==null?void 0:e[1])??null}function AZ({x:t,y:e,spatialReference:i},r=[0,0]){if(i){if(Va(i))return $T(t,e,r);if(wg(i))return r[0]=t,r[1]=e,r}return null}const OZ=[0,0];var N2;const v5=[0,0];function a7(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}let Re=N2=class extends tr{static copy(t,e){e._set("x",t._get("x")),e._set("y",t._get("y")),e._set("z",t._get("z")),e._set("m",t._get("m"));const i=t._get("spatialReference");e._set("spatialReference",$e.isFrozen(i)?i:i.clone())}constructor(...t){super(...t),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(t,e,i,r,s){let n;if(Array.isArray(t))n=t,s=e,t=n[0],e=n[1],i=n[2],r=n[3];else if(t&&typeof t=="object"){if(n=t,t=n.x!=null?n.x:n.longitude,e=n.y!=null?n.y:n.latitude,i=n.z,r=n.m,(s=n.spatialReference)&&s.declaredClass!=="esri.geometry.SpatialReference"&&(s=new Se(s)),n.longitude!=null||n.latitude!=null){if(n.longitude==null)se.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(n.latitude==null)se.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!n.declaredClass&&(s!=null&&s.isWebMercator)){const l=vm(n.longitude,n.latitude,v5);t=l[0],e=l[1]}}}else a7(i)?(s=i,i=null):a7(r)&&(s=r,r=null);const o={x:t,y:e};return o.x==null&&o.y!=null?se.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&se.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),s!=null&&(o.spatialReference=s),i!=null&&(o.z=i),r!=null&&(o.m=r),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(t){t!==(this._get("m")!==void 0)&&(this._set("m",t?0:void 0),this._set("hasM",t))}get hasZ(){return this.z!==void 0}set hasZ(t){t!==(this._get("z")!==void 0)&&(this._set("z",t?0:void 0),this._set("hasZ",t))}get latitude(){return ive(this)}set latitude(t){const{spatialReference:e,x:i}=this;t!=null&&e&&(e.isWebMercator?this._set("y",vm(i,t,v5)[1]):e.isGeographic&&this._set("y",t),this._set("latitude",t))}get longitude(){return tve(this)}set longitude(t){const{y:e,spatialReference:i}=this;t!=null&&i&&(i.isWebMercator?this._set("x",vm(t,e,v5)[0]):i.isGeographic&&this._set("x",t),this._set("longitude",t))}writeX(t,e,i){e[i]=isNaN(t)?"NaN":t}readX(t){return typeof t=="string"?NaN:t}clone(){const t=new N2;return t.x=this.x,t.y=this.y,t.z=this.z,t.m=this.m,t.spatialReference=this.spatialReference,t}copy(t){return N2.copy(t,this),this}equals(t){if(t==null)return!1;const{x:e,y:i,z:r,m:s,spatialReference:n}=this,{z:o,m:l}=t;let{x:c,y:d,spatialReference:m}=t;if(!n.equals(m))if(n.isWebMercator&&m.isWGS84)[c,d]=vm(c,d),m=n;else{if(!n.isWGS84||!m.isWebMercator)return!1;[c,d]=$T(c,d),m=n}return e===c&&i===d&&r===o&&s===l&&n.wkid===m.wkid}offset(t,e,i){return this.x+=t,this.y+=e,i!=null&&(this.z=(this.z??0)+i),this}normalize(){if(!this.spatialReference)return this;const t=vs(this.spatialReference);if(!t)return this;let e=this.x;const[i,r]=t.valid,s=2*r;let n;return e>r?(n=Math.ceil(Math.abs(e-r)/s),e-=n*s):e<i&&(n=Math.ceil(Math.abs(e-i)/s),e+=n*s),this._set("x",e),this}distance(t){return EZ(this,t)}toArray(){const t=this.hasZ,e=this.hasM;return t&&e?[this.x,this.y,this.z,this.m]:t?[this.x,this.y,this.z]:e?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(t){return this.write({},t)}};h([f({readOnly:!0})],Re.prototype,"cache",null),h([f({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Re.prototype,"hasM",null),h([f({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Re.prototype,"hasZ",null),h([f({type:Number})],Re.prototype,"latitude",null),h([f({type:Number})],Re.prototype,"longitude",null),h([f({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),Ot(t=>isNaN(t)?t:ds(t))],Re.prototype,"x",void 0),h([_e("x")],Re.prototype,"writeX",null),h([Ie("x")],Re.prototype,"readX",null),h([f({type:Number,json:{write:!0}})],Re.prototype,"y",void 0),h([f({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Re.prototype,"z",void 0),h([f({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Re.prototype,"m",void 0),Re=N2=h([I("esri.geometry.Point")],Re),Re.prototype.toJSON.isDefaultToJSON=!0;const w5=[0,0];function Iw(t,e){return e!=null&&as(t,e.x,e.y,e.z)}function LDe(t,e){var i;if(!((i=e.points)!=null&&i.length))return!1;for(const r of e.points)if(!zy(t,r))return!1;return!0}function rve(t,e){const{xmin:i,ymin:r,zmin:s,xmax:n,ymax:o,zmax:l}=e;return t.hasZ&&e.hasZ?as(t,i,r,s)&&as(t,i,o,s)&&as(t,n,o,s)&&as(t,n,r,s)&&as(t,i,r,l)&&as(t,i,o,l)&&as(t,n,o,l)&&as(t,n,r,l):as(t,i,r)&&as(t,i,o)&&as(t,n,o)&&as(t,n,r)}function zy(t,e){return as(t,e[0],e[1])}function sve(t,e){return as(t,e[0],e[1],e[2])}function as(t,e,i,r){return e>=t.xmin&&e<=t.xmax&&i>=t.ymin&&i<=t.ymax&&(r==null||!t.hasZ||r>=t.zmin&&r<=t.zmax)}function HR(t,e){return w5[1]=e.y,w5[0]=e.x,nve(t,w5)}function nve(t,e){return WR(t.rings,e)}function WR(t,e){if(!t||t.length<1)return!1;if(ove(t))return l7(!1,t,e);let i=!1;for(let r=0,s=t.length;r<s;r++)i=l7(i,t[r],e);return i}function ove(t){return!Array.isArray(t[0][0])}function l7(t,e,i){const[r,s]=i;let n=t,o=0;for(let l=0,c=e.length;l<c;l++){o++,o===c&&(o=0);const[d,m]=e[l],[v,w]=e[o];(m<s&&w>=s||w<s&&m>=s)&&d+(s-m)/(w-m)*(v-d)<r&&(n=!n)}return n}function ave(t,e){return Iw(t,e)}function lve(t,e){const i=t.hasZ&&e.hasZ;let r,s,n;if(t.xmin<=e.xmin){if(r=e.xmin,t.xmax<r)return!1}else if(r=t.xmin,e.xmax<r)return!1;if(t.ymin<=e.ymin){if(s=e.ymin,t.ymax<s)return!1}else if(s=t.ymin,e.ymax<s)return!1;if(i&&e.hasZ){if(t.zmin<=e.zmin){if(n=e.zmin,t.zmax<n)return!1}else if(n=t.zmin,e.zmax<n)return!1}return!0}function uve(t,e){const{points:i,hasZ:r}=e,s=r?sve:zy;for(const n of i)if(s(t,n))return!0;return!1}const hp=[0,0],dp=[0,0],pp=[0,0],fp=[0,0],cve=[hp,dp,pp,fp],kZ=[[pp,hp],[hp,dp],[dp,fp],[fp,pp]];function hve(t,e){return dve(t,e.rings)}function dve(t,e){hp[0]=t.xmin,hp[1]=t.ymax,dp[0]=t.xmax,dp[1]=t.ymax,pp[0]=t.xmin,pp[1]=t.ymin,fp[0]=t.xmax,fp[1]=t.ymin;for(const i of cve)if(WR(e,i))return!0;for(const i of e){if(!i.length)continue;let r=i[0];if(zy(t,r))return!0;for(let s=1;s<i.length;s++){const n=i[s];if(zy(t,n)||CZ(r,n,kZ))return!0;r=n}}return!1}function pve(t,e){hp[0]=t.xmin,hp[1]=t.ymax,dp[0]=t.xmax,dp[1]=t.ymax,pp[0]=t.xmin,pp[1]=t.ymin,fp[0]=t.xmax,fp[1]=t.ymin;const i=e.paths;for(const r of i){if(!i.length)continue;let s=r[0];if(zy(t,s))return!0;for(let n=1;n<r.length;n++){const o=r[n];if(zy(t,o)||CZ(s,o,kZ))return!0;s=o}}return!1}const dr=[0,0];function fve(t){for(let e=0;e<t.length;e++){const i=t[e];for(let s=0;s<i.length-1;s++){const n=i[s],o=i[s+1];for(let l=e+1;l<t.length;l++)for(let c=0;c<t[l].length-1;c++){const d=t[l][c],m=t[l][c+1];if(QA(n,o,d,m,dr)&&!(dr[0]===n[0]&&dr[1]===n[1]||dr[0]===d[0]&&dr[1]===d[1]||dr[0]===o[0]&&dr[1]===o[1]||dr[0]===m[0]&&dr[1]===m[1]))return!0}}const r=i.length;if(!(r<=4))for(let s=0;s<r-3;s++){let n=r-1;s===0&&(n=r-2);const o=i[s],l=i[s+1];for(let c=s+2;c<n;c++){const d=i[c],m=i[c+1];if(QA(o,l,d,m,dr)&&!(dr[0]===o[0]&&dr[1]===o[1]||dr[0]===d[0]&&dr[1]===d[1]||dr[0]===l[0]&&dr[1]===l[1]||dr[0]===m[0]&&dr[1]===m[1]))return!0}}}return!1}function CZ(t,e,i){for(let r=0;r<i.length;r++)if(QA(t,e,i[r][0],i[r][1]))return!0;return!1}function QA(t,e,i,r,s){const[n,o]=t,[l,c]=e,[d,m]=i,[v,w]=r,_=v-d,x=n-d,T=l-n,$=w-m,O=o-m,C=c-o,R=$*T-_*C;if(R===0)return!1;const N=(_*O-$*x)/R,j=(T*O-C*x)/R;return N>=0&&N<=1&&j>=0&&j<=1&&(s&&(s[0]=n+N*(l-n),s[1]=o+N*(c-o)),!0)}function mve(t){switch(t){case"esriGeometryEnvelope":case"extent":return lve;case"esriGeometryMultipoint":case"multipoint":return uve;case"esriGeometryPoint":case"point":return ave;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return hve;case"esriGeometryPolyline":case"polyline":return pve}}var Oo;function yve(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}function Gu(t,e,i){return e==null?i:i==null?e:t(e,i)}let Ye=Oo=class extends tr{constructor(...t){super(...t),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(t,e,i,r,s){return yve(t)?{spatialReference:t,xmin:0,ymin:0,xmax:0,ymax:0}:typeof t=="object"?(t.spatialReference=t.spatialReference==null?Se.WGS84:t.spatialReference,t):{xmin:t,ymin:e,xmax:i,ymax:r,spatialReference:s??Se.WGS84}}static fromPoint(t){return new Oo({xmin:t.x,ymin:t.y,zmin:t.z,xmax:t.x,ymax:t.y,zmax:t.z,spatialReference:t.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const t=new Re({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(t.z=.5*(this.zmin+this.zmax)),this.hasM&&(t.m=.5*(this.mmin+this.mmax)),t}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(t){const e=this.center;return t.z!=null&&this.hasZ?this.offset(t.x-e.x,t.y-e.y,t.z-e.z):this.offset(t.x-e.x,t.y-e.y)}clone(){const t=new Oo;return t.xmin=this.xmin,t.ymin=this.ymin,t.xmax=this.xmax,t.ymax=this.ymax,t.spatialReference=this.spatialReference,this.zmin!=null&&(t.zmin=this.zmin,t.zmax=this.zmax),this.mmin!=null&&(t.mmin=this.mmin,t.mmax=this.mmax),t}contains(t){if(!t)return!1;const e=this.spatialReference,i=t.spatialReference;return e&&i&&!e.equals(i)&&j2(e,i)&&(t=e.isWebMercator?Bd(t):wm(t,!0)),t.type==="point"?Iw(this,t):t.type==="extent"&&rve(this,t)}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,i=t.spatialReference;return e&&i&&!e.equals(i)&&j2(e,i)&&(t=e.isWebMercator?Bd(t):wm(t,!0)),this.xmin===t.xmin&&this.ymin===t.ymin&&this.zmin===t.zmin&&this.mmin===t.mmin&&this.xmax===t.xmax&&this.ymax===t.ymax&&this.zmax===t.zmax&&this.mmax===t.mmax}expand(t){const e=.5*(1-t),i=this.width*e,r=this.height*e;if(this.xmin+=i,this.ymin+=r,this.xmax-=i,this.ymax-=r,this.hasZ){const s=(this.zmax-this.zmin)*e;this.zmin+=s,this.zmax-=s}if(this.hasM){const s=(this.mmax-this.mmin)*e;this.mmin+=s,this.mmax-=s}return this}intersects(t){if(t==null)return!1;t.type==="mesh"&&(t=t.extent);const e=this.spatialReference,i=t.spatialReference;return e&&i&&!vr(e,i)&&j2(e,i)&&(t=e.isWebMercator?Bd(t):wm(t,!0)),mve(t.type)(this,t)}normalize(){const t=this._normalize(!1,!0);return Array.isArray(t)?t:[t]}offset(t,e,i){return this.xmin+=t,this.ymin+=e,this.xmax+=t,this.ymax+=e,i!=null&&(this.zmin+=i,this.zmax+=i),this}shiftCentralMeridian(){return this._normalize(!0)}union(t){return this===t||(this.xmin=Math.min(this.xmin,t.xmin),this.ymin=Math.min(this.ymin,t.ymin),this.xmax=Math.max(this.xmax,t.xmax),this.ymax=Math.max(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=Gu(Math.min,this.zmin,t.zmin),this.zmax=Gu(Math.max,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=Gu(Math.min,this.mmin,t.mmin),this.mmax=Gu(Math.max,this.mmax,t.mmax))),this}intersection(t){return this===t?this:t!=null&&this.intersects(t)?(this.xmin=Math.max(this.xmin,t.xmin),this.ymin=Math.max(this.ymin,t.ymin),this.xmax=Math.min(this.xmax,t.xmax),this.ymax=Math.min(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=Gu(Math.max,this.zmin,t.zmin),this.zmax=Gu(Math.min,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=Gu(Math.max,this.mmin,t.mmin),this.mmax=Gu(Math.min,this.mmax,t.mmax)),this):null}toJSON(t){return this.write({},t)}_shiftCM(t=vs(this.spatialReference)){if(!t||!this.spatialReference)return this;const e=this.spatialReference,i=this._getCM(t);if(i){const r=e.isWebMercator?wm(i):i;this.xmin-=i.x,this.xmax-=i.x,e.isWebMercator||(r.x=b5(r.x,t).x),this.spatialReference=new Se(_p((e.isWGS84?t.altTemplate:null)??t.wkTemplate,{Central_Meridian:r.x}))}return this}_getCM(t){let e=null;const[i,r]=t.valid,s=this.xmin,n=this.xmax;return s>=i&&s<=r&&n>=i&&n<=r||(e=this.center),e}_normalize(t,e,i){const r=this.spatialReference;if(!r)return this;const s=i??vs(r);if(s==null)return this;const n=this._getParts(s).map(c=>c.extent);if(n.length<2)return n[0]||this;if(n.length>2)return t?this._shiftCM(s):this.set({xmin:s.valid[0],xmax:s.valid[1]});if(t)return this._shiftCM(s);if(e)return n;let o=!0,l=!0;return n.forEach(c=>{c.hasZ||(o=!1),c.hasM||(l=!1)}),{rings:n.map(c=>{const d=[[c.xmin,c.ymin],[c.xmin,c.ymax],[c.xmax,c.ymax],[c.xmax,c.ymin],[c.xmin,c.ymin]];if(o){const m=(c.zmax-c.zmin)/2;for(let v=0;v<d.length;v++)d[v].push(m)}if(l){const m=(c.mmax-c.mmin)/2;for(let v=0;v<d.length;v++)d[v].push(m)}return d}),hasZ:o,hasM:l,spatialReference:r}}_getParts(t){let e=this.cache._parts;if(!e){e=[];const{ymin:s,ymax:n,spatialReference:o}=this,l=this.width,c=this.xmin,d=this.xmax;let m;t=t||vs(o);const[v,w]=t.valid;m=b5(this.xmin,t);const _=m.x,x=m.frameId;m=b5(this.xmax,t);const T=m.x,$=m.frameId,O=_===T&&l>0;if(l>2*w){const C=new Oo(c<d?_:T,s,w,n,o),R=new Oo(v,s,c<d?T:_,n,o),N=new Oo(0,s,w,n,o),j=new Oo(v,s,0,n,o),z=[],ee=[];C.contains(N)&&z.push(x),C.contains(j)&&ee.push(x),R.contains(N)&&z.push($),R.contains(j)&&ee.push($);for(let Q=x+1;Q<$;Q++)z.push(Q),ee.push(Q);e.push({extent:C,frameIds:[x]},{extent:R,frameIds:[$]},{extent:N,frameIds:z},{extent:j,frameIds:ee})}else _>T||O?e.push({extent:new Oo(_,s,w,n,o),frameIds:[x]},{extent:new Oo(v,s,T,n,o),frameIds:[$]}):e.push({extent:new Oo(_,s,T,n,o),frameIds:[x]});this.cache._parts=e}const i=this.hasZ,r=this.hasM;if(i||r){const s={};i&&(s.zmin=this.zmin,s.zmax=this.zmax),r&&(s.mmin=this.mmin,s.mmax=this.mmax);for(let n=0;n<e.length;n++)e[n].extent.set(s)}return e}};function b5(t,e){const[i,r]=e.valid,s=2*r;let n,o=0;return t>r?(n=Math.ceil(Math.abs(t-r)/s),t-=n*s,o=n):t<i&&(n=Math.ceil(Math.abs(t-i)/s),t+=n*s,o=-n),{x:t,frameId:o}}h([f({readOnly:!0})],Ye.prototype,"cache",null),h([f({readOnly:!0})],Ye.prototype,"center",null),h([f({readOnly:!0})],Ye.prototype,"extent",null),h([f({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Ye.prototype,"hasM",null),h([f({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Ye.prototype,"hasZ",null),h([f({readOnly:!0})],Ye.prototype,"height",null),h([f({readOnly:!0})],Ye.prototype,"width",null),h([f({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Ye.prototype,"xmin",void 0),h([f({type:Number,json:{write:!0}})],Ye.prototype,"ymin",void 0),h([f({type:Number,json:{origins:{"web-scene":{write:!1}},read:t=>t??void 0,write:{overridePolicy(){return{enabled:this.hasM}}}}})],Ye.prototype,"mmin",void 0),h([f({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Ye.prototype,"zmin",void 0),h([f({type:Number,json:{write:!0}})],Ye.prototype,"xmax",void 0),h([f({type:Number,json:{write:!0}})],Ye.prototype,"ymax",void 0),h([f({type:Number,json:{origins:{"web-scene":{write:!1}},read:t=>t??void 0,write:{overridePolicy(){return{enabled:this.hasM}}}}})],Ye.prototype,"mmax",void 0),h([f({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Ye.prototype,"zmax",void 0),Ye=Oo=h([I("esri.geometry.Extent")],Ye),Ye.prototype.toJSON.isDefaultToJSON=!0;function Us(t=Sve){return[t[0],t[1],t[2],t[3]]}function RZ(t,e){return t!==e&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]),t}function gve(t,e,i,r,s=Us()){return s[0]=t,s[1]=e,s[2]=i,s[3]=r,s}function VDe(t,e=Us()){return e[0]=t.xmin,e[1]=t.ymin,e[2]=t.xmax,e[3]=t.ymax,e}function vve(t,e,i=new Ye){return i.xmin=t[0],i.ymin=t[1],i.xmax=t[2],i.ymax=t[3],i.spatialReference=e,i}function to(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function wve(t,e){e<t[0]&&(t[0]=e),e>t[2]&&(t[2]=e)}function bve(t,e){e<t[1]&&(t[1]=e),e>t[3]&&(t[3]=e)}function FDe(t,e,i){if(e!=null)if("length"in e)t4(e)?(i[0]=Math.min(t[0],e[0]),i[1]=Math.min(t[1],e[1]),i[2]=Math.max(t[2],e[2]),i[3]=Math.max(t[3],e[3])):e.length!==2&&e.length!==3||(i[0]=Math.min(t[0],e[0]),i[1]=Math.min(t[1],e[1]),i[2]=Math.max(t[2],e[0]),i[3]=Math.max(t[3],e[1]));else switch(e.type){case"extent":i[0]=Math.min(t[0],e.xmin),i[1]=Math.min(t[1],e.ymin),i[2]=Math.max(t[2],e.xmax),i[3]=Math.max(t[3],e.ymax);break;case"point":i[0]=Math.min(t[0],e.x),i[1]=Math.min(t[1],e.y),i[2]=Math.max(t[2],e.x),i[3]=Math.max(t[3],e.y)}else RZ(i,t)}function zDe(t,e,i=t){const r=e.length;let s=t[0],n=t[1],o=t[2],l=t[3];for(let c=0;c<r;c++){const d=e[c];s=Math.min(s,d[0]),n=Math.min(n,d[1]),o=Math.max(o,d[0]),l=Math.max(l,d[1])}return i[0]=s,i[1]=n,i[2]=o,i[3]=l,i}function UDe(t){for(let e=0;e<4;e++)if(!isFinite(t[e]))return!1;return!0}function ZR(t){return t==null||t[0]>=t[2]?0:t[2]-t[0]}function YR(t){return t==null||t[1]>=t[3]?0:t[3]-t[1]}function qDe(t){return ZR(t)*YR(t)}function BDe(t,e=[0,0]){return e[0]=(t[0]+t[2])/2,e[1]=(t[1]+t[3])/2,e}function GDe(t){const e=ZR(t),i=YR(t);return Math.sqrt(e*e+i*i)}function HDe(t,e){return!!t&&e4(t,e.x,e.y)}function e4(t,e,i){return e>=t[0]&&i>=t[1]&&e<=t[2]&&i<=t[3]}function WDe(t,e){return Math.max(e[0],t[0])<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])<=Math.min(e[3],t[3])}function ZDe(t,e,i){return Math.max(e[0],t[0])-i<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])-i<=Math.min(e[3],t[3])}function _ve(t,e){return e[0]>=t[0]&&e[2]<=t[2]&&e[1]>=t[1]&&e[3]<=t[3]}function YDe(t,e,i,r){return r??(r=t),r[0]=t[0]+e,r[1]=t[1]+i,r[2]=t[2]+e,r[3]=t[3]+i,r}function JDe(t){return t?RZ(t,u7):Us(u7)}function t4(t){return t!=null&&t.length===4}function KDe(t,e){return t4(t)&&t4(e)?t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]:t===e}const u7=[1/0,1/0,-1/0,-1/0],Sve=[0,0,0,0];let JR=1e-6;function ws(){return JR}function xve(t){JR=t}const MT=Math.random,Tve=Math.PI/180,$ve=180/Math.PI;function KR(t){return t*Tve}function Mve(t){return t*$ve}function Eve(t,e){return Math.abs(t-e)<=JR*Math.max(1,Math.abs(t),Math.abs(e))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:MT,equals:Eve,getEpsilon:ws,setEpsilon:xve,toDegree:Mve,toRadian:KR},Symbol.toStringTag,{value:"Module"}));function Pm(t,e){return t[0]=e[0],t[1]=e[1],t}function gr(t,e,i){return t[0]=e,t[1]=i,t}function IZ(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t}function W1(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function PZ(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t}function jZ(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t}function Ave(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function Ove(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function kve(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t}function Cve(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}function Rve(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function Pw(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t}function Ive(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t}function ET(t,e){const i=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(i*i+r*r)}function Z1(t,e){const i=e[0]-t[0],r=e[1]-t[1];return i*i+r*r}function px(t){const e=t[0],i=t[1];return Math.sqrt(e*e+i*i)}function NZ(t){const e=t[0],i=t[1];return e*e+i*i}function DZ(t,e){return t[0]=-e[0],t[1]=-e[1],t}function Pve(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function i4(t,e){const i=e[0],r=e[1];let s=i*i+r*r;return s>0&&(s=1/Math.sqrt(s),t[0]=e[0]*s,t[1]=e[1]*s),t}function LZ(t,e){return t[0]*e[0]+t[1]*e[1]}function VZ(t,e,i){const r=e[0]*i[1]-e[1]*i[0];return t[0]=t[1]=0,t[2]=r,t}function jve(t,e,i,r){const s=e[0],n=e[1];return t[0]=s+r*(i[0]-s),t[1]=n+r*(i[1]-n),t}function Nve(t,e=1){const i=2*MT()*Math.PI;return t[0]=Math.cos(i)*e,t[1]=Math.sin(i)*e,t}function Dve(t,e,i){const r=e[0],s=e[1];return t[0]=i[0]*r+i[2]*s,t[1]=i[1]*r+i[3]*s,t}function Oa(t,e,i){const r=e[0],s=e[1];return t[0]=i[0]*r+i[2]*s+i[4],t[1]=i[1]*r+i[3]*s+i[5],t}function D2(t,e,i){const r=e[0],s=e[1];return t[0]=i[0]*r+i[3]*s+i[6],t[1]=i[1]*r+i[4]*s+i[7],t}function Lve(t,e,i){const r=e[0],s=e[1];return t[0]=i[0]*r+i[4]*s+i[12],t[1]=i[1]*r+i[5]*s+i[13],t}function Vve(t,e,i,r){const s=e[0]-i[0],n=e[1]-i[1],o=Math.sin(r),l=Math.cos(r);return t[0]=s*l-n*o+i[0],t[1]=s*o+n*l+i[1],t}function Fve(t,e){const i=t[0],r=t[1],s=e[0],n=e[1];let o=i*i+r*r;o>0&&(o=1/Math.sqrt(o));let l=s*s+n*n;l>0&&(l=1/Math.sqrt(l));const c=(i*s+r*n)*o*l;return c>1?0:c<-1?Math.PI:Math.acos(c)}function zve(t){return"vec2("+t[0]+", "+t[1]+")"}function Uve(t,e){return t[0]===e[0]&&t[1]===e[1]}function qve(t,e){const i=t[0],r=t[1],s=e[0],n=e[1],o=ws();return Math.abs(i-s)<=o*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(r-n)<=o*Math.max(1,Math.abs(r),Math.abs(n))}function Bve(t,e,i,r,s){let n=e[0]-i[0],o=e[1]-i[1];const l=(r[0]*n+r[1]*o)*(s-1);return n=r[0]*l,o=r[1]*l,t[0]=e[0]+n,t[1]=e[1]+o,t}const Gve=px,XR=W1,Hve=PZ,Wve=jZ,Zve=ET,Yve=Z1,Jve=NZ;Object.freeze(Object.defineProperty({__proto__:null,add:IZ,angle:Fve,ceil:Ave,copy:Pm,cross:VZ,dist:Zve,distance:ET,div:Wve,divide:jZ,dot:LZ,equals:qve,exactEquals:Uve,floor:Ove,inverse:Pve,len:Gve,length:px,lerp:jve,max:Cve,min:kve,mul:Hve,multiply:PZ,negate:DZ,normalize:i4,projectAndScale:Bve,random:Nve,rotate:Vve,round:Rve,scale:Pw,scaleAndAdd:Ive,set:gr,sqrDist:Yve,sqrLen:Jve,squaredDistance:Z1,squaredLength:NZ,str:zve,sub:XR,subtract:W1,transformMat2:Dve,transformMat2d:Oa,transformMat3:D2,transformMat4:Lve},Symbol.toStringTag,{value:"Module"}));function Ul(t,e,i,r){return t[0]=e[0]*(1-r)+i[0]*r,t[1]=e[1]*(1-r)+i[1]*r,t}function gs(t,e){return Z1(t,e)}function XDe(t,e,i){const r=gs(e,i);if(r===0)return gs(e,t);const s=(e[0]-t[0])*(i[1]-t[1])-(e[1]-t[1])*(i[0]-t[0]);return s*s/r}function Kve(t,e,i,r,s){const[n,o]=e,[l,c]=i,[d,m]=r,[v,w]=s,_=(n-l)*(m-w)-(o-c)*(d-v);if(_===0)return null;const x=(n*c-o*l)*(d-v)-(n-l)*(d*w-m*v),T=(n*c-o*l)*(m-w)-(o-c)*(d*w-m*v);return t[0]=x/_,t[1]=T/_,t}const Wo=2*Math.PI;function Gd(t,e){const i=Math.atan2(t,e);return i<0?i+Wo:i}function FZ(t){return Math.abs(t)%Wo}function c7(t){const e=FZ(t);return e<Math.PI?e:Wo-e}function AT(t,e){return{min:Math.min(t,e),max:Math.max(t,e)}}function zZ(t,e,i,r){if(vn(FZ(t-e),0))return i?[t,t]:[t,r?t-Wo:t+Wo];const[s,n]=r?[t-Wo,t]:[t,t+Wo];return[t,jw({min:s,max:n},e)]}function jw({min:t,max:e},i){let r;return r=e-i,r>=Wo?(r-=r%Wo,i+r):(r=i-t,r>=Wo?(r-=r%Wo,i-r):i)}function Xve(t,e){const i=jw(t,e);return i>t.min&&i<t.max?i:c7(i-t.min)<c7(i-t.max)?t.min:t.max}function UZ(t,e,i,r=10){return e.map(s=>{let n=s;for(let o=0;o<r;o++){const[l,c,d,m,v,w]=i(n),_=t[0]-l,x=t[1]-c,T=-d,$=-m;n+=-(2*_*T+2*x*$)/(2*T*T+2*_*-v+2*$*$+2*x*-w||1e-6)}return n})}const Qve=[0,0];function qZ(t){const e=1-t,i=e*e,r=t*t;return[i*e,3*t*i,3*r*e,r*t]}function r4(t,e,i,r,s){const[n,o,l,c]=qZ(s);return[t[0]*n+e[0]*o+i[0]*l+r[0]*c,t[1]*n+e[1]*o+i[1]*l+r[1]*c]}function h7(t,e,i,r,s){const[n,o,l,c]=qZ(s);return t*n+e*o+i*l+r*c}function QDe(t,e,i){const r=t,[s,n,o]=e.b;return r4(r,n,o,s,i)}function e1e(t,e,i){const r=t,[s,n,o]=e.b,l=Ul([0,0],r,n,i),c=Ul(Qve,n,o,i),d=Ul([0,0],o,s,i),m=Ul([0,0],l,c,i),v=Ul([0,0],c,d,i);return[{b:[Ul([],m,v,i),l,m]},{b:[[...s],v,d]}]}function e8e(t,e,i){const r=t,[s,n,o]=e.b,l=UZ(i,[.1,.5,.9],v=>{const w=1-v,[_,x]=r4(r,n,o,s,v);return[_,x,3*w*w*(n[0]-r[0])+6*w*v*(o[0]-n[0])+3*v*v*(s[0]-o[0]),3*w*w*(n[1]-r[1])+6*w*v*(o[1]-n[1])+3*v*v*(s[1]-o[1]),6*w*(o[0]-2*n[0]+r[0])+6*v*(s[0]-2*o[0]+n[0]),6*w*(o[1]-2*n[1]+r[1])+6*v*(s[1]-2*o[1]+n[1])]}).map(v=>Math.min(1,Math.max(0,v)));l.push(0,1);let c=1/0;const d=l.map(v=>{const w=r4(r,n,o,s,v),[_,x]=w,T=i[0]-_,$=i[1]-x,O=Math.sqrt(T*T+$*$);return c=Math.min(O,c),{t:v,curvePoint:w,distance:O}}),m=[];for(const v of d){const{t:w,distance:_}=v;vW(_,c)&&!m.some(({t:x})=>vn(x,w))&&m.push(v)}return m}function t1e(t,e,i){const r=e,[s,n,o]=i.b;if(to(t,r),to(t,s),e4(t,n[0],n[1])&&e4(t,o[0],o[1]))return t;for(const l of d7(r[0],n[0],o[0],s[0]))l>0&&l<1&&wve(t,h7(r[0],n[0],o[0],s[0],l));for(const l of d7(r[1],n[1],o[1],s[1]))l>0&&l<1&&bve(t,h7(r[1],n[1],o[1],s[1],l));return t}function d7(t,e,i,r){const s=3*(3*(e-i)-t+r),n=6*(t-2*e+i),o=3*(e-t);if(s===0)return n!==0?[-o/n]:[];const l=Math.sqrt(n*n-4*s*o);return[(-n+l)/(2*s),(-n-l)/(2*s)]}function t8e(t,e,i){let s=0,n=[e];for(let o=0;o<16;o++){let l=t;const c=[];for(const m of n)c.push(...e1e(l,m,.5)),l=m.b[0];n=c,l=t,s=0;let d=0;for(const m of n){const[v,w,_]=m.b,x=Math.sqrt(gs(l,v));s+=(x+(Math.sqrt(gs(l,w))+Math.sqrt(gs(w,_))+Math.sqrt(gs(_,v))))/2,d+=x,l=v}if(s-d<i)return s}return s}function i1e(t,e,i){const[r,s]=t,[n,o]=e,[l,c]=i,[d,m]=[n-r,o-s];let v=d*(l-r)+m*(c-s);v/=d**2+m**2,v=_n(v,0,1);const w=Ul([0,0],t,e,v);return{t:v,curvePoint:w,distance:Math.sqrt(gs(w,i))}}let BZ=class{constructor(e,i,r,s,n,o){this.cx=e,this.cy=i,this.radius=r,this.thetaStart=s,this.thetaEnd=n,this.isInvalid=o}get startPoint(){const{cx:e,cy:i,radius:r,thetaStart:s}=this;return[e+r*Math.cos(s),i+r*Math.sin(s)]}get endPoint(){const{cx:e,cy:i,radius:r,thetaEnd:s}=this;return[e+r*Math.cos(s),i+r*Math.sin(s)]}};function fx(t,e){const{cx:i,cy:r,radius:s}=t;return[i+s*Math.cos(e),r+s*Math.sin(e)]}function L2(t,e){if(t.isInvalid)return Ul([0,0],t.startPoint,t.endPoint,e);const{thetaStart:i,thetaEnd:r}=t;return fx(t,i*(1-e)+r*e)}function r8e(t,e){if(t.isInvalid)return i1e(t.startPoint,t.endPoint,e);const{cx:i,cy:r,thetaStart:s,thetaEnd:n}=t,[o,l]=e,c=Xve(AT(s,n),Math.atan2(l-r,o-i)),d=fx(t,c);return{t:(c-s)/(n-s),curvePoint:d,distance:Math.sqrt(gs(e,d))}}function p7(t,e){if(e.isInvalid)return to(t,e.startPoint),to(t,e.endPoint),t;const{cx:i,cy:r,radius:s,thetaStart:n,thetaEnd:o}=e;to(t,fx(e,n)),to(t,fx(e,o));const l=AT(n,o),c=Math.PI/2;let d=0;for(const m of[[i+s,r],[i,r+s],[i-s,r],[i,r-s]])d=jw(l,d),d>l.min&&d<l.max&&to(t,m),d+=c;return t}function s8e(t){if(t.isInvalid)return 2*t.radius;const{radius:e,thetaStart:i,thetaEnd:r}=t;return e*Math.abs(r-i)}function r1e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function s1e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function jm(t,e,i,r,s,n,o,l,c,d){return t[0]=e,t[1]=i,t[2]=r,t[3]=s,t[4]=n,t[5]=o,t[6]=l,t[7]=c,t[8]=d,t}function GZ(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function HZ(t,e){if(t===e){const i=e[1],r=e[2],s=e[5];t[1]=e[3],t[2]=e[6],t[3]=i,t[5]=e[7],t[6]=r,t[7]=s}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function WZ(t,e){const i=e[0],r=e[1],s=e[2],n=e[3],o=e[4],l=e[5],c=e[6],d=e[7],m=e[8],v=m*o-l*d,w=-m*n+l*c,_=d*n-o*c;let x=i*v+r*w+s*_;return x?(x=1/x,t[0]=v*x,t[1]=(-m*r+s*d)*x,t[2]=(l*r-s*o)*x,t[3]=w*x,t[4]=(m*i-s*c)*x,t[5]=(-l*i+s*n)*x,t[6]=_*x,t[7]=(-d*i+r*c)*x,t[8]=(o*i-r*n)*x,t):null}function n1e(t,e){const i=e[0],r=e[1],s=e[2],n=e[3],o=e[4],l=e[5],c=e[6],d=e[7],m=e[8];return t[0]=o*m-l*d,t[1]=s*d-r*m,t[2]=r*l-s*o,t[3]=l*c-n*m,t[4]=i*m-s*c,t[5]=s*n-i*l,t[6]=n*d-o*c,t[7]=r*c-i*d,t[8]=i*o-r*n,t}function V2(t){const e=t[0],i=t[1],r=t[2],s=t[3],n=t[4],o=t[5],l=t[6],c=t[7],d=t[8];return e*(d*n-o*c)+i*(-d*s+o*l)+r*(c*s-n*l)}function Y1(t,e,i){const r=e[0],s=e[1],n=e[2],o=e[3],l=e[4],c=e[5],d=e[6],m=e[7],v=e[8],w=i[0],_=i[1],x=i[2],T=i[3],$=i[4],O=i[5],C=i[6],R=i[7],N=i[8];return t[0]=w*r+_*o+x*d,t[1]=w*s+_*l+x*m,t[2]=w*n+_*c+x*v,t[3]=T*r+$*o+O*d,t[4]=T*s+$*l+O*m,t[5]=T*n+$*c+O*v,t[6]=C*r+R*o+N*d,t[7]=C*s+R*l+N*m,t[8]=C*n+R*c+N*v,t}function s4(t,e,i){const r=e[0],s=e[1],n=e[2],o=e[3],l=e[4],c=e[5],d=e[6],m=e[7],v=e[8],w=i[0],_=i[1];return t[0]=r,t[1]=s,t[2]=n,t[3]=o,t[4]=l,t[5]=c,t[6]=w*r+_*o+d,t[7]=w*s+_*l+m,t[8]=w*n+_*c+v,t}function ZZ(t,e,i){const r=e[0],s=e[1],n=e[2],o=e[3],l=e[4],c=e[5],d=e[6],m=e[7],v=e[8],w=Math.sin(i),_=Math.cos(i);return t[0]=_*r+w*o,t[1]=_*s+w*l,t[2]=_*n+w*c,t[3]=_*o-w*r,t[4]=_*l-w*s,t[5]=_*c-w*n,t[6]=d,t[7]=m,t[8]=v,t}function o1e(t,e,i){const r=i[0],s=i[1],n=i[2];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=s*e[3],t[4]=s*e[4],t[5]=s*e[5],t[6]=n*e[6],t[7]=n*e[7],t[8]=n*e[8],t}function a1e(t,e,i){const r=i[0],s=i[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=s*e[3],t[4]=s*e[4],t[5]=s*e[5],t}function l1e(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function u1e(t,e){const i=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=i,t[2]=0,t[3]=-i,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function c1e(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function h1e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function d1e(t,e){const i=e[0],r=e[1],s=e[2],n=e[3],o=i+i,l=r+r,c=s+s,d=i*o,m=r*o,v=r*l,w=s*o,_=s*l,x=s*c,T=n*o,$=n*l,O=n*c;return t[0]=1-v-x,t[3]=m-O,t[6]=w+$,t[1]=m+O,t[4]=1-d-x,t[7]=_-T,t[2]=w-$,t[5]=_+T,t[8]=1-d-v,t}function p1e(t,e){const i=e[0],r=e[1],s=e[2],n=e[4],o=e[5],l=e[6],c=e[8],d=e[9],m=e[10],v=m*o-l*d,w=-m*n+l*c,_=d*n-o*c,x=i*v+r*w+s*_;if(!x)return null;const T=1/x;return t[0]=v*T,t[1]=(-m*r+s*d)*T,t[2]=(l*r-s*o)*T,t[3]=w*T,t[4]=(m*i-s*c)*T,t[5]=(-l*i+s*n)*T,t[6]=_*T,t[7]=(-d*i+r*c)*T,t[8]=(o*i-r*n)*T,t}function f1e(t,e){const i=e[0],r=e[1],s=e[2],n=e[3],o=e[4],l=e[5],c=e[6],d=e[7],m=e[8],v=e[9],w=e[10],_=e[11],x=e[12],T=e[13],$=e[14],O=e[15],C=i*l-r*o,R=i*c-s*o,N=i*d-n*o,j=r*c-s*l,z=r*d-n*l,ee=s*d-n*c,Q=m*T-v*x,J=m*$-w*x,te=m*O-_*x,pe=v*$-w*T,ye=v*O-_*T,Xe=w*O-_*$;let Ce=C*Xe-R*ye+N*pe+j*te-z*J+ee*Q;return Ce?(Ce=1/Ce,t[0]=(l*Xe-c*ye+d*pe)*Ce,t[1]=(c*te-o*Xe-d*J)*Ce,t[2]=(o*ye-l*te+d*Q)*Ce,t[3]=(s*ye-r*Xe-n*pe)*Ce,t[4]=(i*Xe-s*te+n*J)*Ce,t[5]=(r*te-i*ye-n*Q)*Ce,t[6]=(T*ee-$*z+O*j)*Ce,t[7]=($*N-x*ee-O*R)*Ce,t[8]=(x*z-T*N+O*C)*Ce,t):null}function m1e(t,e,i){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/i,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function y1e(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function g1e(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2)}function v1e(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t}function YZ(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t}function w1e(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t}function b1e(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t[3]=e[3]+i[3]*r,t[4]=e[4]+i[4]*r,t[5]=e[5]+i[5]*r,t[6]=e[6]+i[6]*r,t[7]=e[7]+i[7]*r,t[8]=e[8]+i[8]*r,t}function _1e(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function S1e(t,e){const i=t[0],r=t[1],s=t[2],n=t[3],o=t[4],l=t[5],c=t[6],d=t[7],m=t[8],v=e[0],w=e[1],_=e[2],x=e[3],T=e[4],$=e[5],O=e[6],C=e[7],R=e[8],N=ws();return Math.abs(i-v)<=N*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(r-w)<=N*Math.max(1,Math.abs(r),Math.abs(w))&&Math.abs(s-_)<=N*Math.max(1,Math.abs(s),Math.abs(_))&&Math.abs(n-x)<=N*Math.max(1,Math.abs(n),Math.abs(x))&&Math.abs(o-T)<=N*Math.max(1,Math.abs(o),Math.abs(T))&&Math.abs(l-$)<=N*Math.max(1,Math.abs(l),Math.abs($))&&Math.abs(c-O)<=N*Math.max(1,Math.abs(c),Math.abs(O))&&Math.abs(d-C)<=N*Math.max(1,Math.abs(d),Math.abs(C))&&Math.abs(m-R)<=N*Math.max(1,Math.abs(m),Math.abs(R))}function x1e(t){const e=ws(),i=t[0],r=t[1],s=t[2],n=t[3],o=t[4],l=t[5],c=t[6],d=t[7],m=t[8];return Math.abs(1-(i*i+n*n+c*c))<=e&&Math.abs(1-(r*r+o*o+d*d))<=e&&Math.abs(1-(s*s+l*l+m*m))<=e}const T1e=Y1,$1e=YZ;Object.freeze(Object.defineProperty({__proto__:null,add:v1e,adjoint:n1e,copy:s1e,determinant:V2,equals:S1e,exactEquals:_1e,frob:g1e,fromMat2d:h1e,fromMat4:r1e,fromQuat:d1e,fromRotation:u1e,fromScaling:c1e,fromTranslation:l1e,identity:GZ,invert:WZ,isOrthoNormal:x1e,mul:T1e,multiply:Y1,multiplyScalar:w1e,multiplyScalarAndAdd:b1e,normalFromMat4:f1e,normalFromMat4Legacy:p1e,projection:m1e,rotate:ZZ,scale:o1e,scaleByVec2:a1e,set:jm,str:y1e,sub:$1e,subtract:YZ,translate:s4,transpose:HZ},Symbol.toStringTag,{value:"Module"}));function Ap(){return[1,0,0,0,1,0,0,0,1]}function M1e(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]}function E1e(t,e,i,r,s,n,o,l,c){return[t,e,i,r,s,n,o,l,c]}const A1e=Ap();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:A1e,clone:M1e,create:Ap,fromValues:E1e},Symbol.toStringTag,{value:"Module"}));const Sf=Ap();function O1e(t,e,i){const[r,s]=t,[n,o]=e,[l,c]=i;jm(Sf,r,n,l,s,o,c,1,1,1);const d=V2(Sf),m=4*d/(gs(t,e)+gs(e,i)+gs(i,t));if(!isFinite(m)||Math.abs(m)<1e-8)return null;const v=r**2+s**2,w=n**2+o**2,_=l**2+c**2;jm(Sf,v,w,_,s,o,c,1,1,1);const x=V2(Sf);return jm(Sf,v,w,_,r,n,l,1,1,1),[x/d*.5,V2(Sf)/d*-.5]}function JZ(t,e){const[i,r]=e.c,s=O1e(t,r,i),n=s==null,o=s??Ul([],t,i,.5),[l,c]=t,[d,m]=r,[v,w]=i,[_,x]=o,T=l-_,$=c-x,O=Math.sqrt(T*T+$*$),C=Gd(c-x,l-_),R=Gd(m-x,d-_);let N=Gd(w-x,v-_);return(R-C)*(N-R)<0&&(N+=2*Math.sign(C-N)*Math.PI),new BZ(_,x,O,C,N,n)}function n8e(t,e,i){const r=L2(t,i/2),s=L2(t,i),n=L2(t,(i+1)/2);return[{c:[s,r]},{c:[[...e.c[0]],n]}]}function o8e(t,e){const[i]=e.c,{cx:r,cy:s,thetaStart:n,thetaEnd:o,radius:l,isInvalid:c}=JZ(t,e);return{a:[i,[r,s],Math.abs(o-n)<Math.PI?1:0,n>o?1:0,c?n:0,l,c?0:1]}}function a8e(t){var e,i;return"curveRings"in t&&!!((e=t.curveRings)!=null&&e.length)||"curvePaths"in t&&!!((i=t.curvePaths)!=null&&i.length)}function l8e(t){return"curveRings"in t?t.curveRings:t.curvePaths}function QR(t){return"b"in t}function e6(t){return"c"in t}function OT(t){return Array.isArray(t)}function u8e(t){return"a"in t}function KZ(t){return"a"in t&&t.a.length===4}function k1e(t){return"a"in t&&t.a.length===7}function _5(t){return OT(t)?t:QR(t)?t.b[0]:e6(t)?t.c[0]:t.a[0]}function C1e(t){if(QR(t)){const[e,i,r]=t.b;return{b:[[...e],[...i],[...r]]}}if(e6(t)){const[e,i]=t.c;return{c:[[...e],[...i]]}}if(OT(t))return[...t];if(KZ(t)){const[e,i,r,s]=t.a;return{a:[[...e],[...i],r,s]}}if(k1e(t)){const[e,i,r,s,n,o,l]=t.a;return{a:[[...e],[...i],r,s,n,o,l]}}return t}function R1e(t,e){const[i,r,s,n]=e.a,[o,l]=t,[c,d]=i,[m,v]=r,w=o-m,_=l-v,x=Math.sqrt(w*w+_*_),T=c-m,$=d-v,O=Math.sqrt(T*T+$*$),C=x===0||O===0||!vW(x,O),R=x,[N,j]=zZ(Gd(l-v,o-m),Math.atan2(d-v,c-m),s,n);return new BZ(m,v,R,N,j,C)}function c8e(t,e,i){const{cx:r,cy:s,thetaStart:n,thetaEnd:o}=t,[l,c,d,m]=e.a,v=n*(1-i)+o*i;return[{a:[L2(t,i),[r,s],Math.abs(v-n)<Math.PI?1:0,m]},{a:[[...l],[r,s],Math.abs(o-v)<Math.PI?1:0,m]}]}let I1e=class{constructor(e,i,r,s,n,o,l,c,d){this.cx=e,this.cy=i,this.a=r,this.b=s,this.cosR=n,this.sinR=o,this.u1=l,this.u2=c,this.isInvalid=d}};function t6(t,e){const[i,r,s,n,o,l,c]=e.a,[d,m]=t,[v,w]=i,[_,x]=r,T=l*c,$=Math.cos(o),O=Math.sin(o),[C,R]=zZ(Gd(1/T*(m-x)*$-1/T*(d-_)*O,1/l*(m-x)*O+1/l*(d-_)*$),Math.atan2(1/T*(w-x)*$-1/T*(v-_)*O,1/l*(w-x)*O+1/l*(v-_)*$),s,n);return new I1e(_,x,l,T,$,O,C,R,l===0||T===0)}function J1(t,e){const{a:i,b:r,cosR:s,sinR:n,cx:o,cy:l}=t,c=Math.cos(e),d=Math.sin(e);return[i*c*s-r*d*n+o,i*c*n+r*d*s+l]}function Uf(t,e){const{u1:i,u2:r}=t;return J1(t,i*(1-e)+r*e)}function d8e(t,e,i){if(i<0||i>1)return[];if(i===0||i===1)return[C1e(e)];const[r,[s,n],o,l,c,d,m]=e.a,{u1:v,u2:w}=t,_=v*(1-i)+w*i;return[{a:[[...Uf(t,i)],[s,n],Math.abs(_-v)<Math.PI?1:0,l,c,d,m]},{a:[[...r],[s,n],Math.abs(w-_)<Math.PI?1:0,l,c,d,m]}]}function p8e(t,e){const{a:i,b:r,cosR:s,sinR:n,u1:o,u2:l}=t,c=Math.PI/6,d=UZ(e,[1*c,2*c,4*c,5*c,7*c,8*c,10*c,11*c],T=>{const $=Math.cos(T),O=Math.sin(T),[C,R]=J1(t,T);return[C,R,-i*s*O-r*n*$,-i*n*O+r*s*$,-i*s*$+r*n*O,-i*n*$-r*s*O]}),m=AT(o,l),v=new Set(d.map(T=>jw(m,T)).filter(T=>T>m.min&&T<m.max));v.add(o),v.add(l);let w,_,x=1/0;for(const T of v){const $=J1(t,T),[O,C]=$,R=e[0]-O,N=e[1]-C,j=R*R+N*N;j<x&&(w=(T-o)/(l-o),_=$,x=j)}return{t:w,curvePoint:_,distance:Math.sqrt(x)}}function P1e(t,e,i){const r=t6(e,i),{a:s,b:n,u1:o,u2:l,cosR:c,sinR:d,isInvalid:m}=r,v=i.a[0];if(to(t,e),to(t,v),m)return t;const w=Math.atan2(-n*d,s*c),_=w+Math.PI,x=Math.atan2(n*c,s*d),T=x+Math.PI,$=AT(o,l);for(const O of[w,_,x,T].map(C=>jw($,C)))O>$.min&&O<$.max&&to(t,J1(r,O));return t}function f8e(t,e,i){const[r,s,n,o,l,c,d]=e.a,m=t6(t,e),{u1:v,u2:w,isInvalid:_}=m,x=w-v;if(_)return Math.sqrt(gs(t,r));const T=14,$=[0,0];let O=0,C=[Uf(m,0),Uf(m,.25),Uf(m,.5),Uf(m,.75),Uf(m,1)];for(let R=0;R<T;R++){const N=C.length-1,j=x/(2*N),z=[];for(let Q=0;Q<N;Q++)z.push(C[Q]),z.push(J1(m,v+(2*Q+1)*j));z.push(C[C.length-1]),C=z,O=0;let ee=0;for(let Q=1;Q<C.length;Q++){const J=C[Q-1],te=C[Q];if(O+=Math.sqrt(gs(J,te)),Q>1){const pe=C[Q-2],ye=Kve($,pe,J,s,te);ee+=ye?Math.sqrt(gs(J,ye)):Math.abs(te[0]-J[0])+Math.abs(te[1]-J[1])}else ee+=O}if(ee-O<i)return O}return O}const f7=Ap(),__=Ap(),m7=Ap(),Hu=Ap();function m8e(t,e,i){const[r,s,n,o,l,c,d]=e.a,m=t6(t,e),{cosR:v,sinR:w,a:_,b:x,cx:T,cy:$}=m,O=D2([0,0],r,i),C=D2([0,0],s,i),R=i[0]*i[4]<0?1-o:o;{const N=_*_*w*w+x*x*v*v,j=2*(x*x-_*_)*w*v,z=_*_*v*v+x*x*w*w,ee=-2*N*T-j*$,Q=-j*T-2*z*$;jm(f7,N,j/2,ee/2,j/2,z,Q/2,ee/2,Q/2,N*T*T+j*T*$+z*$*$-_*_*x*x)}if(WZ(__,i),__==null){const N=D2([0,0],t,i);return{a:[O,C,n,o,Gd(O[1],O[0]),Math.sqrt(gs(O,N))/2,0]}}HZ(m7,__),Y1(Hu,Y1(Hu,m7,f7),__);{const N=Hu[0],j=2*Hu[1],z=Hu[4],ee=2*Hu[2],Q=2*Hu[5],J=j*j-4*N*z,te=2*(N*Q*Q+z*ee*ee-j*ee*Q+J*Hu[8]),pe=Math.sqrt((N-z)**2+j*j),ye=-Math.sqrt(te*(N+z+pe))/J,Xe=-Math.sqrt(te*(N+z-pe))/J;return{a:[O,C,n,R,.5*Gd(-j,z-N),ye,Xe/ye]}}}function j1e(t,e,i){if(OT(i))return to(t,e),to(t,i),t;if(QR(i))return t1e(t,e,i);if(e6(i)){const r=JZ(e,i);return p7(t,r)}if(KZ(i)){const r=R1e(e,i);return p7(t,r)}return P1e(t,e,i)}function XZ(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function QZ(t){return t.points!==void 0}function eY(t){return t.x!==void 0&&t.y!==void 0}function tY(t){return t.paths!==void 0}function iY(t){return t.rings!==void 0}function rY(t){function e(i,r){return i==null?r:r==null?i:t(i,r)}return e}const xc=rY(Math.min),Tc=rY(Math.max);function y8e(t,e){return tY(e)?Uy(t,e.curvePaths??e.paths,!1,!1)??t:iY(e)?Uy(t,e.curveRings??e.rings,!1,!1)??t:QZ(e)?i6(t,e.points,!1,!1,!1,!1):XZ(e)?sY(t,e):(eY(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.x,t[3]=e.y),t)}function g8e(t){let e,i,r,s;for(t.reset(),e=r=1/0,i=s=-1/0;t.nextPath();){const n=N1e(t);e=Math.min(n[0],e),r=Math.min(n[1],r),i=Math.max(n[2],i),s=Math.max(n[3],s)}return Us([e,r,i,s])}function N1e(t){let e,i,r,s;for(e=r=1/0,i=s=-1/0;t.nextPoint();)e=Math.min(t.x,e),r=Math.min(t.y,r),i=Math.max(t.x,i),s=Math.max(t.y,s);return Us([e,r,i,s])}function v8e(t,e){return tY(e)?Uy(t,e.curvePaths??e.paths,!0,!1)??t:iY(e)?Uy(t,e.curveRings??e.rings,!0,!1)??t:QZ(e)?i6(t,e.points,!0,!1,!0,!1):XZ(e)?sY(t,e,!0,!1,!0,!1):(eY(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.x,t[4]=e.y,t[5]=e.z),t)}function Uy(t,e,i,r){const s=i?3:2;if(!e.length||!e[0].length)return null;let n,o,l,c,[d,m]=_5(e[0][0]),v=d,w=m;for(let _=0;_<e.length;_++){const x=e[_];for(let T=0;T<x.length;T++){const $=_5(x[T]),[O,C]=$;if(d=xc(d,O),m=xc(m,C),v=Tc(v,O),w=Tc(w,C),i&&$.length>2){const z=$[2];n=xc(n,z),o=Tc(o,z)}if(r&&$.length>s){const z=$[s];l=xc(n,z),c=Tc(o,z)}const R=x[T];if(OT(R)||T<1)continue;const N=_5(x[T-1]),j=gve(d,m,v,w);[d,m,v,w]=j1e(j,N,R)}}return i?r?(t[0]=d,t[1]=m,t[2]=n,t[3]=l,t[4]=v,t[5]=w,t[6]=o,t[7]=c,t.length=8,t):(t[0]=d,t[1]=m,t[2]=n,t[3]=v,t[4]=w,t[5]=o,t.length=6,t):r?(t[0]=d,t[1]=m,t[2]=l,t[3]=v,t[4]=w,t[5]=c,t.length=6,t):(t[0]=d,t[1]=m,t[2]=v,t[3]=w,t.length=4,t)}function sY(t,e,i,r,s,n){const o=e.xmin,l=e.xmax,c=e.ymin,d=e.ymax;let m=e.zmin,v=e.zmax,w=e.mmin,_=e.mmax;return s?(m=m||0,v=v||0,n?(w=w||0,_=_||0,t[0]=o,t[1]=c,t[2]=m,t[3]=w,t[4]=l,t[5]=d,t[6]=v,t[7]=_,t):(t[0]=o,t[1]=c,t[2]=m,t[3]=l,t[4]=d,t[5]=v,t)):n?(w=w||0,_=_||0,t[0]=o,t[1]=c,t[2]=w,t[3]=l,t[4]=d,t[5]=_,t):(t[0]=o,t[1]=c,t[2]=l,t[3]=d,t)}function i6(t,e,i,r,s,n){const o=i?3:2,l=r&&n,c=i&&s;if(!e.length||!e[0].length)return null;let d,m,v,w,[_,x]=e[0],[T,$]=e[0];for(let O=0;O<e.length;O++){const C=e[O],[R,N]=C;if(_=xc(_,R),x=xc(x,N),T=Tc(T,R),$=Tc($,N),c&&C.length>2){const j=C[2];d=xc(d,j),m=Tc(m,j)}if(l&&C.length>o){const j=C[o];v=xc(d,j),w=Tc(m,j)}}return s?(d=d||0,m=m||0,n?(v=v||0,w=w||0,t[0]=_,t[1]=x,t[2]=d,t[3]=v,t[4]=T,t[5]=$,t[6]=m,t[7]=w,t):(t[0]=_,t[1]=x,t[2]=d,t[3]=T,t[4]=$,t[5]=m,t)):n?(v=v||0,w=w||0,t[0]=_,t[1]=x,t[2]=v,t[3]=T,t[4]=$,t[5]=w,t):(t[0]=_,t[1]=x,t[2]=T,t[3]=$,t)}function D1e(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function L1e(t){return t.points!==void 0}function V1e(t){return t.x!==void 0&&t.y!==void 0}function F1e(t){return t.paths!==void 0}function z1e(t){return t.rings!==void 0}const r6=[];function nY(t,e,i,r){return{xmin:t,ymin:e,xmax:i,ymax:r}}function oY(t,e,i,r,s,n){return{xmin:t,ymin:e,zmin:i,xmax:r,ymax:s,zmax:n}}function aY(t,e,i,r,s,n){return{xmin:t,ymin:e,mmin:i,xmax:r,ymax:s,mmax:n}}function lY(t,e,i,r,s,n,o,l){return{xmin:t,ymin:e,zmin:i,mmin:r,xmax:s,ymax:n,zmax:o,mmax:l}}function s6(t,e=!1,i=!1){return e?i?lY(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]):oY(t[0],t[1],t[2],t[3],t[4],t[5]):i?aY(t[0],t[1],t[2],t[3],t[4],t[5]):nY(t[0],t[1],t[2],t[3])}function w8e(t){return t?D1e(t)?t:V1e(t)?U1e(t):z1e(t)?cY(t):F1e(t)?hY(t):L1e(t)?uY(t):null:null}function uY(t){const{hasZ:e,hasM:i,points:r}=t,s=i6(r6,r,e??!1,i??!1,e??!1,i??!1);return s?s6(s,e,i):null}function U1e(t){const{x:e,y:i,z:r,m:s}=t,n=s!=null;return r!=null?n?lY(e,i,r,s,e,i,r,s):oY(e,i,r,e,i,r):n?aY(e,i,s,e,i,s):nY(e,i,e,i)}function cY(t){const{hasZ:e,hasM:i,rings:r,curveRings:s}=t,n=Uy(r6,s??r,e??!1,i??!1);return n?s6(n,e,i):null}function hY(t){const{hasZ:e,hasM:i,paths:r,curvePaths:s}=t,n=Uy(r6,s??r,e??!1,i??!1);return n?s6(n,e,i):null}function qy(t,e,i=!1){let{hasM:r,hasZ:s}=t;Array.isArray(e)?e.length!==4||r||s?e.length===3&&i&&!r?(s=!0,r=!1):e.length===3&&r&&s&&(r=!1,s=!1):(r=!0,s=!0):(s=!s&&e.hasZ&&(!r||e.hasM),r=!r&&e.hasM&&(!s||e.hasZ)),t.hasZ=s,t.hasM=r}var n4;function q1e(t){var n;if(!t)return;let{points:e,hasM:i,hasZ:r,spatialReference:s}=t;switch(e??(e=[]),(n=e==null?void 0:e.at(0))==null?void 0:n.length){case 4:r??(r=!0),i??(i=!0);break;case 3:r??(r=i!==!0),i??(i=!r);break;default:r??(r=!1),i??(i=!1)}return s??(s=Se.WGS84),{...t,hasM:i,hasZ:r,points:e,spatialReference:s}}let Do=n4=class extends tr{constructor(t){super(q1e(t)),this.points=[],this.type="multipoint"}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const t=uY(this);return t?new Ye({...t,spatialReference:this.spatialReference}):null}writePoints(t,e){e.points=G(this.points)}clone(){const{points:t,spatialReference:e,hasM:i,hasZ:r}=this;return new n4({points:G(t),spatialReference:e.clone(),hasM:i,hasZ:r})}addPoint(t){return qy(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}getPoint(t){if(!this._validateInputs(t))return null;const e=this.points[t],i={x:e[0],y:e[1],spatialReference:this.spatialReference};let r=2;return this.hasZ&&(i.z=e[2],r=3),this.hasM&&(i.m=e[r]),new Re(i)}removePoint(t){if(!this._validateInputs(t))return null;const e=new Re(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),e}setPoint(t,e){return this._validateInputs(t)?(qy(this,e),Array.isArray(e)||(e=e.toArray()),this.points[t]=e,this.notifyChange("points"),this):this}toJSON(t){return this.write({},t)}_validateInputs(t){return t!=null&&t>=0&&t<this.points.length}};h([f({readOnly:!0})],Do.prototype,"cache",null),h([f({readOnly:!0})],Do.prototype,"extent",null),h([f({type:[[Number]],json:{write:{isRequired:!0}}})],Do.prototype,"points",void 0),h([_e("points")],Do.prototype,"writePoints",null),Do=n4=h([I("esri.geometry.Multipoint")],Do),Do.prototype.toJSON.isDefaultToJSON=!0;function b8e(t){const e=[];for(t.reset();t.nextPath();){const i=[];for(;t.nextPoint();)i.push([t.x,t.y]);e.push(i)}return t.reset(),e}function B1e(t){const e=[];for(;t.nextPoint();)e.push([t.x,t.y]);return t.seekPathStart(),e}function _8e(t){if(!t)return null;if(Array.isArray(t))return t;const e=t.hasZ,i=t.hasM;if(t.type==="point")return i&&e?[t.x,t.y,t.z,t.m]:e?[t.x,t.y,t.z]:i?[t.x,t.y,t.m]:[t.x,t.y];if(t.type==="polygon")return t.rings.slice();if(t.type==="polyline")return t.paths.slice();if(t.type==="multipoint")return t.points.map(r=>[r]);if(t.type==="extent"){const r=t.clone().normalize();if(!r)return null;let s=!1,n=!1;return r.forEach(o=>{o.hasZ&&(s=!0),o.hasM&&(n=!0)}),r.map(o=>{const l=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(s&&o.hasZ){const c=.5*(o.zmax-o.zmin);for(let d=0;d<l.length;d++)l[d].push(c)}if(n&&o.hasM){const c=.5*(o.mmax-o.mmin);for(let d=0;d<l.length;d++)l[d].push(c)}return l})}return null}function kT(t,e){const i=e[0]-t[0],r=e[1]-t[1];if(t.length>2&&e.length>2){const s=t[2]-e[2];return Math.sqrt(i*i+r*r+s*s)}return Math.sqrt(i*i+r*r)}function dY(t,e,i){const r=t[0]+i*(e[0]-t[0]),s=t[1]+i*(e[1]-t[1]);return t.length>2&&e.length>2?[r,s,t[2]+i*(e[2]-t[2])]:[r,s]}function G1e(t,e,i,r){return H1e(t,e,i[r],i[r+1])}function H1e(t,e,i,r){const[s,n]=e,[o,l]=i,[c,d]=r,m=c-o,v=d-l,w=m*m+v*v,_=(s-o)*m+(n-l)*v,x=Math.min(1,Math.max(0,_/w));return t[0]=o+m*x,t[1]=l+v*x,t}function S8e(t,e,i,r,s,n){let o=i,l=r,c=s-o,d=n-l;if(c!==0||d!==0){const m=((t-o)*c+(e-l)*d)/(c*c+d*d);m>1?(o=s,l=n):m>0&&(o+=c*m,l+=d*m)}return c=t-o,d=e-l,c*c+d*d}function pY(t,e){return dY(t,e,.5)}function x8e(t){const e=t.length;let i=0;for(let r=0;r<e-1;++r)i+=kT(t[r],t[r+1]);return i}function T8e(t,e){if(e<=0)return t[0];const i=t.length;let r=0;for(let s=0;s<i-1;++s){const n=kT(t[s],t[s+1]);if(e-r<n){const o=(e-r)/n;return dY(t[s],t[s+1],o)}r+=n}return t[i-1]}function fY(t,e=0,i=1){let r=0;const s=t.length;let n=t[0];for(let o=1;o<s;o++){const l=t[o];r+=(l[e]-n[e])*(l[i]+n[i]),n=l}if(mY(t)){const o=t[0];r+=(o[e]-n[e])*(o[i]+n[i])}return r>=0}function mY(t){const e=t.length;return e>0&&!Jx(t[0],t[e-1])}function $8e(t){"rings"in t&&(W1e(t),Z1e(t))}function W1e(t){if("rings"in t)for(const e of t.rings)mY(e)&&e.push(e[0].slice())}function Z1e(t){if(!("rings"in t)||t.rings.length===0||fY(t.rings[0]))return!1;for(const e of t.rings)e.reverse();return!0}function M8e(t){return t.type!=="polygon"&&t.type!=="polyline"||Y1e(t.type==="polygon"?t.rings:t.paths,t.spatialReference),t}function Y1e(t,e){const i=vs(e);if(!i)return;const r=i.valid[0],s=i.valid[1],n=s-r;for(const o of t){let l=1/0,c=-1/0;for(const m of o){const v=J1e(m[0],r,s);l=Math.min(l,v),c=Math.max(c,v),m[0]=v}const d=c-l;n-d<d&&o.forEach(m=>{m[0]<0&&(m[0]+=n)})}}function J1e(t,e,i){const r=i-e;return t<e?i-(e-t)%r:t>i?e+(t-e)%r:t}function E8e(t,e){if(t===e)return!0;if(t.type!==e.type)return!1;if(t.type==="point"||t.type==="mesh"||t.type==="extent")return!0;if(t.type==="multipoint")return t.points.length===e.points.length;const[i,r]=t.type==="polyline"?[t.paths,e.paths]:[t.rings,e.rings];return i.length===r.length&&i.every((s,n)=>s.length===r[n].length)}function A8e(t){return t?t.hasZ?[t.xmax-t.xmin/2,t.ymax-t.ymin/2,t.zmax-t.zmin/2]:[t.xmax-t.xmin/2,t.ymax-t.ymin/2]:null}function K1e(t){return Q1e(t.rings,t.hasZ??!1)}function X1e(t){const e=K1e(t);if(!e)return null;const{hasZ:i,spatialReference:r}=t,[s,n,o]=e;return isNaN(s)||isNaN(n)||i&&isNaN(o)?null:{x:s,y:n,z:i?o:void 0,spatialReference:r}}function Q1e(t,e){if(!(t!=null&&t.length))return null;const i=[],r=[],s=e?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let n=0,o=t.length;n<o;n++){const l=yY(t[n],e,s);l&&r.push(l)}if(r.sort((n,o)=>{let l=n[2]-o[2];return l===0&&e&&(l=n[4]-o[4]),l}),r.length&&(i[0]=r[0][0],i[1]=r[0][1],e&&(i[2]=r[0][3]),(i[0]<s[0]||i[0]>s[1]||i[1]<s[2]||i[1]>s[3]||e&&(i[2]<s[4]||i[2]>s[5]))&&(i.length=0)),!i.length){const n=t[0]&&t[0].length?ewe(t[0],e):null;if(!n)return null;i[0]=n[0],i[1]=n[1],e&&n.length>2&&(i[2]=n[2])}return i}function yY(t,e,i){let r=0,s=0,n=0,o=0,l=0;const c=t.length?t[0][0]:0,d=t.length?t[0][1]:0,m=t.length&&e?t[0][2]:0;for(let w=0;w<t.length;w++){const _=t[w],x=t[(w+1)%t.length],[T,$,O]=_,C=T-c,R=$-d,[N,j,z]=x,ee=N-c,Q=j-d,J=C*Q-ee*R;if(o+=J,r+=(C+ee)*J,s+=(R+Q)*J,e&&_.length>2&&x.length>2){const te=O-m,pe=z-m,ye=C*pe-ee*te;n+=(te+pe)*ye,l+=ye}T<i[0]&&(i[0]=T),T>i[1]&&(i[1]=T),$<i[2]&&(i[2]=$),$>i[3]&&(i[3]=$),e&&(O<i[4]&&(i[4]=O),O>i[5]&&(i[5]=O))}if(o>0&&(o*=-1),l>0&&(l*=-1),!o)return null;o*=.5,l*=.5;const v=[r/(6*o)+c,s/(6*o)+d,o];return e&&(i[4]===i[5]||l===0?(v[3]=(i[4]+i[5])/2,v[4]=0):(v[3]=n/(6*l)+m,v[4]=l)),v}function O8e(t,e){let i=0,r=0,s=0;t.nextPoint();const n=t.pathSize?t.x:0,o=t.pathSize?t.y:0;for(let l=0;l<t.pathSize;l++){t.seekInPath(l);const c=[t.x,t.y];t.seekInPath((l+1)%t.pathSize);const d=[t.x,t.y],[m,v]=c,w=m-n,_=v-o,[x,T]=d,$=x-n,O=T-o,C=w*O-$*_;s+=C,i+=(w+$)*C,r+=(_+O)*C,m<e[0]&&(e[0]=m),m>e[1]&&(e[1]=m),v<e[2]&&(e[2]=v),v>e[3]&&(e[3]=v)}return s>0&&(s*=-1),s?(s*=.5,[i/(6*s)+n,r/(6*s)+o,s]):null}function ewe(t,e){const i=e?[0,0,0]:[0,0],r=e?[0,0,0]:[0,0];let s=0,n=0,o=0,l=0;for(let c=0,d=t.length;c<d-1;c++){const m=t[c],v=t[c+1];if(m&&v){i[0]=m[0],i[1]=m[1],r[0]=v[0],r[1]=v[1],e&&m.length>2&&v.length>2&&(i[2]=m[2],r[2]=v[2]);const w=kT(i,r);if(w){s+=w;const _=pY(m,v);n+=w*_[0],o+=w*_[1],e&&_.length>2&&(l+=w*_[2])}}}return s>0?e?[n/s,o/s,l/s]:[n/s,o/s]:t.length?t[0]:null}function twe(t){const{hasZ:e,totalSize:i}=t;if(i===0)return null;const r=[],s=[],n=e?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(t.reset();t.nextPath();){const o=yY(B1e(t),t.hasZ,n);o&&s.push(o)}if(s.sort((o,l)=>{let c=o[2]-l[2];return c===0&&e&&(c=o[4]-l[4]),c}),s.length&&(r[0]=s[0][0],r[1]=s[0][1],e&&(r[2]=s[0][3]),(r[0]<n[0]||r[0]>n[1]||r[1]<n[2]||r[1]>n[3]||e&&(r[2]<n[4]||r[2]>n[5]))&&(r.length=0)),!r.length){t.reset(),t.nextPath();const o=t.pathSize?iwe(t):null;if(!o)return null;r[0]=o[0],r[1]=o[1],e&&o.length>2&&(r[2]=o[2])}return r}function iwe(t){const{hasZ:e}=t,i=e?[0,0,0]:[0,0],r=e?[0,0,0]:[0,0];let s=0,n=0,o=0,l=0;if(t.nextPoint()){let c=t.x,d=t.y,m=t.z;for(;t.nextPoint();){const v=t.x,w=t.y,_=t.z;i[0]=c,i[1]=d,r[0]=v,r[1]=w,e&&(i[2]=m,r[2]=_);const x=kT(i,r);if(x){s+=x;const T=pY(i,r);n+=x*T[0],o+=x*T[1],e&&T.length>2&&(l+=x*T[2])}c=v,d=w,m=_}}return s>0?e?[n/s,o/s,l/s]:[n/s,o/s]:t.pathSize?(t.seekPathStart(),t.nextPoint(),[t.x,t.y]):null}const rwe=1e-6;function k8e(t){let e=0;for(t.reset();t.nextPath();)e+=t.getCurrentRingArea();if(e<rwe){const s=twe(t);return s?[s[0],s[1]]:null}const i=[0,0];if(t.reset(),!t.nextPath()||!t.nextPoint())return null;const r=[t.x,t.y];for(t.reset();t.nextPath();)nwe(i,r,t);return i[0]*=1/e,i[1]*=1/e,i[0]+=r[0],i[1]+=r[1],i}const swe=1/3;function nwe(t,e,i){if(!t||!i||i.pathSize<3)return null;i.nextPoint();const r=i.x,s=i.y;i.nextPoint();let n,o=i.x-r,l=i.y-s,c=0,d=0;for(;i.nextPoint();)c=i.x-r,d=i.y-s,n=.5*swe*(c*l-d*o),t[0]+=n*(o+c),t[1]+=n*(l+d),o=c,l=d;const m=i.getCurrentRingArea(),v=[r,s];return v[0]-=e[0],v[1]-=e[1],v[0]*=m,v[1]*=m,t[0]+=v[0],t[1]+=v[1],t}var F2;function y7(t){return!Array.isArray(t[0])}function owe(t){var e;return typeof((e=t[0])==null?void 0:e[0])=="number"}function awe(t){var n,o;if(!t)return;let{rings:e,hasM:i,hasZ:r,spatialReference:s}=t;switch(e??(e=[]),owe(e)&&(e=[e]),(o=(n=e[0])==null?void 0:n[0])==null?void 0:o.length){case 4:r??(r=!0),i??(i=!0);break;case 3:r??(r=i!==!0),i??(i=!r);break;default:r??(r=!1),i??(i=!1)}return s??(s=Se.WGS84),{...t,hasM:i,hasZ:r,rings:e,spatialReference:s}}let Qt=F2=class extends tr{static fromExtent(t){const e=t.clone().normalize(),{spatialReference:i}=t;let r=!1,s=!1;for(const o of e)o.hasZ&&(r=!0),o.hasM&&(s=!0);const n={rings:e.map(o=>{const l=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(r&&o.hasZ){const c=o.zmin+.5*(o.zmax-o.zmin);for(let d=0;d<l.length;d++)l[d].push(c)}if(s&&o.hasM){const c=o.mmin+.5*(o.mmax-o.mmin);for(let d=0;d<l.length;d++)l[d].push(c)}return l}),spatialReference:i};return r&&(n.hasZ=!0),s&&(n.hasM=!0),new F2(n)}constructor(t){super(awe(t)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){qE(se.getLogger(this),"centroid",{replacement:"Please use centroidOperator.execute() instead.",version:"4.34",warnOnce:!0});const t=X1e(this);return t?Re.fromJSON(t):null}writeCurveRings(t,e){e.curveRings=G(t)}get extent(){const t=cY(this),{spatialReference:e}=this;return t?new Ye({...t,spatialReference:e}):null}get isSelfIntersecting(){return qE(se.getLogger(this),"isSelfIntersecting",{replacement:"Please use simplifyOperator.isSimple() instead.",version:"4.33",warnOnce:!0}),fve(this.rings)}writeRings(t,e){e.rings=G(this.rings)}addRing(t){if(!t)return;const e=this.rings,i=e.length;if(y7(t)){const r=[];for(let s=0,n=t.length;s<n;s++)r[s]=t[s].toArray();e[i]=r}else e[i]=t.slice();return this.notifyChange("rings"),this}clone(){const t=new F2;return t.spatialReference=this.spatialReference,t.rings=G(this.rings),t.curveRings=G(this.curveRings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,i=t.spatialReference;if(e!=null!=(i!=null)||e!=null&&i!=null&&!e.equals(i)||this.rings.length!==t.rings.length)return!1;const r=([s,n,o,l],[c,d,m,v])=>s===c&&n===d&&(o==null&&m==null||o===m)&&(l==null&&v==null||l===v);for(let s=0;s<this.rings.length;s++){const n=this.rings[s],o=t.rings[s];if(!Jx(n,o,r))return!1}return!0}contains(t){if(!t)return!1;const e=TT(t,this.spatialReference);return HR(this,e??t)}isClockwise(t){const e=y7(t)?t.map(i=>this.hasZ?this.hasM?[i.x,i.y,i.z,i.m]:[i.x,i.y,i.z]:[i.x,i.y]):t;return fY(e)}getPoint(t,e){if(!this._validateInputs(t,e))return null;const i=this.rings[t][e],r=this.hasZ,s=this.hasM;return r&&!s?new Re(i[0],i[1],i[2],void 0,this.spatialReference):s&&!r?new Re(i[0],i[1],void 0,i[2],this.spatialReference):r&&s?new Re(i[0],i[1],i[2],i[3],this.spatialReference):new Re(i[0],i[1],this.spatialReference)}insertPoint(t,e,i){return this._validateInputs(t,e,!0)?(qy(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[t].splice(e,0,i),this.notifyChange("rings"),this):this}removePoint(t,e){if(!this._validateInputs(t,e))return null;const i=new Re(this.rings[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("rings"),i}removeRing(t){if(!this._validateInputs(t,null))return null;const e=this.rings.splice(t,1)[0],i=this.spatialReference,r=e.map(s=>new Re(s,i));return this.notifyChange("rings"),r}setPoint(t,e,i){return this._validateInputs(t,e)?(qy(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[t][e]=i,this.notifyChange("rings"),this):this}_validateInputs(t,e,i=!1){if(t==null||t<0||t>=this.rings.length)return!1;if(e!=null){const r=this.rings[t];if(i&&(e<0||e>r.length)||!i&&(e<0||e>=r.length))return!1}return!0}toJSON(t){return this.write({},t)}};h([f({readOnly:!0})],Qt.prototype,"cache",null),h([f({readOnly:!0})],Qt.prototype,"centroid",null),h([f({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Qt.prototype,"curveRings",void 0),h([_e("curveRings")],Qt.prototype,"writeCurveRings",null),h([f({readOnly:!0})],Qt.prototype,"extent",null),h([f({readOnly:!0})],Qt.prototype,"isSelfIntersecting",null),h([f({type:[[[Number]]],json:{write:{isRequired:!0}}})],Qt.prototype,"rings",void 0),h([_e("rings")],Qt.prototype,"writeRings",null),Qt=F2=h([I("esri.geometry.Polygon")],Qt),Qt.prototype.toJSON.isDefaultToJSON=!0;var o4;function lwe(t){return!Array.isArray(t[0])}function uwe(t){var e;return typeof((e=t[0])==null?void 0:e[0])=="number"}function cwe(t){var n,o;if(!t)return;let{paths:e,hasM:i,hasZ:r,spatialReference:s}=t;switch(e??(e=[]),uwe(e)&&(e=[e]),(o=(n=e[0])==null?void 0:n[0])==null?void 0:o.length){case 4:r??(r=!0),i??(i=!0);break;case 3:r??(r=i!==!0),i??(i=!r);break;default:r??(r=!1),i??(i=!1)}return s??(s=Se.WGS84),{...t,hasM:i,hasZ:r,paths:e,spatialReference:s}}let Hi=o4=class extends tr{constructor(t){super(cwe(t)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(t,e){e.curvePaths=G(t)}get extent(){const t=hY(this),{spatialReference:e}=this;return t?new Ye({...t,spatialReference:e}):null}writePaths(t,e){e.paths=G(this.paths)}addPath(t){if(!t)return;const e=this.paths,i=e.length;if(lwe(t)){const r=[];for(let s=0,n=t.length;s<n;s++)r[s]=t[s].toArray();e[i]=r}else e[i]=t.slice();return this.notifyChange("paths"),this}clone(){const t=new o4;return t.spatialReference=this.spatialReference,t.paths=G(this.paths),t.curvePaths=G(this.curvePaths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,e){if(!this._validateInputs(t,e))return null;const i=this.paths[t][e],r=this.hasZ,s=this.hasM;return r&&!s?new Re(i[0],i[1],i[2],void 0,this.spatialReference):s&&!r?new Re(i[0],i[1],void 0,i[2],this.spatialReference):r&&s?new Re(i[0],i[1],i[2],i[3],this.spatialReference):new Re(i[0],i[1],this.spatialReference)}insertPoint(t,e,i){return this._validateInputs(t,e,!0)?(qy(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[t].splice(e,0,i),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;const e=this.paths.splice(t,1)[0],i=this.spatialReference,r=e.map(s=>new Re(s,i));return this.notifyChange("paths"),r}removePoint(t,e){if(!this._validateInputs(t,e))return null;const i=new Re(this.paths[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("paths"),i}setPoint(t,e,i){return this._validateInputs(t,e)?(qy(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[t][e]=i,this.notifyChange("paths"),this):this}_validateInputs(t,e,i=!1){if(t==null||t<0||t>=this.paths.length)return!1;if(e!=null){const r=this.paths[t];if(i&&(e<0||e>r.length)||!i&&(e<0||e>=r.length))return!1}return!0}toJSON(t){return this.write({},t)}};h([f({readOnly:!0})],Hi.prototype,"cache",null),h([f({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Hi.prototype,"curvePaths",void 0),h([_e("curvePaths")],Hi.prototype,"writeCurvePaths",null),h([f({readOnly:!0})],Hi.prototype,"extent",null),h([f({type:[[[Number]]],json:{write:{isRequired:!0}}})],Hi.prototype,"paths",void 0),h([_e("paths")],Hi.prototype,"writePaths",null),Hi=o4=h([I("esri.geometry.Polyline")],Hi),Hi.prototype.toJSON.isDefaultToJSON=!0;const n6=wr()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),C8e=wr()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),Nw={base:tr,key:"type",typeMap:{extent:Ye,multipoint:Do,point:Re,polyline:Hi,polygon:Qt}};function R8e(t){return t.type==="point"}function I8e(t){return t.type==="multipoint"}function P8e(t){return t.type==="polygon"}function j8e(t){return t.type==="polyline"}const o6=Symbol("idFieldsProviderSymbol");function hwe(t){return!!t&&o6 in t}function g7(t){return hwe(t)?t[o6]:void 0}const Dw=Symbol("popupProvider");function N8e(t){return typeof t=="object"&&t!==null&&"popupEnabled"in t&&"popupTemplate"in t}function dwe(t){return!!t&&Dw in t}function pwe(t){return dwe(t)?t[Dw]:null}const fwe=Symbol("getSliceableSymbol");let K1=class{};K1=h([I("esri.graphic.GraphicOrigin")],K1);const mwe=Symbol("isGeoJSONGraphicOrigin");var v7;let ywe=class extends K1{get[(v7=mwe,Dw)](){return this.layer}get[o6](){return this.layer}get[fwe](){return this.layer}constructor(e){super(),this[v7]=!0,this.type="geojson",this.layer=e}get id(){return this.layer.id}},gwe=class{constructor(){this._resolver=bn(),this._status=0,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=1,this._cleanUp()},()=>{this._status=2,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(e){this._resolvingPromises.push(e),this._tryResolve()}isResolved(){return this._status===1}isRejected(){return this._status===2}isFulfilled(){return this._status!==0}abort(){this._resolver.reject($t())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const e=bn(),i=[...this._resolvingPromises,e.promise],r=this._allPromise=Promise.all(i);r.then(()=>{this.isFulfilled()||this._allPromise!==r||this._resolver.resolve()},s=>{this.isFulfilled()||this._allPromise!==r||Cr(s)||this._resolver.reject(s)}),e.resolve()}};const gY=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this._promiseProps=new gwe,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(r,s){return this._promiseProps.promise.then(()=>this).then(r,s)}catch(r){return this.when(null,r)}addResolvingPromise(r){r&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in r?r.when():r)}addResolvingTask(r){r&&!this._promiseProps.isFulfilled()&&(this.addHandles(the(r)),this._promiseProps.addResolvingPromise(r.promise))}};return i=h([I("esri.core.Promise")],i),i},a6=gY($e),vwe="not-loaded",wwe="loading",bwe="failed",w7="loaded",_we=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(s=>{const n=this.load.bind(this);this.load=o=>{const l=new Promise((c,d)=>{const m=ZC(o,d);this.destroyed&&d(new B("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(c,d).finally(()=>{m&&m.remove()})});if(this.loadStatus===vwe){this._set("loadStatus",wwe);const c=this._loadController=new AbortController;n({signal:c.signal})}return s(),l}})),this.when(()=>{this._set("loadStatus",w7),this._loadController=null},s=>{this.destroyed||(this._set("loadStatus",bwe),this._set("loadError",s),this._loadController=null)})}destroy(){this._loadController&&(this._loadController=sp(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===w7}get loadWarnings(){return this._get("loadWarnings")}load(r){return null}cancelLoad(){var r;return this.isFulfilled()||(this._set("loadError",new B("load:cancelled","Cancelled")),(r=this._loadController)==null||r.abort(),this._promiseProps.abort()),this}};return h([f({readOnly:!0})],i.prototype,"loaded",null),h([f({readOnly:!0})],i.prototype,"loadError",void 0),h([f({clonable:!1})],i.prototype,"loadStatus",void 0),h([f({type:[lo],readOnly:!0})],i.prototype,"loadWarnings",null),i=h([I("esri.core.Loadable")],i),i},bg=_we(a6);function a4(t){return!(!t||!t.load)}async function Swe(t){var r;const e="portalItem"in t?t:{portalItem:t},{fromItem:i}=await re(async()=>{const{fromItem:s}=await import("./portalLayers-CYysVuLo.js");return{fromItem:s}},__vite__mapDeps([25,26,27,28,29]));try{return await i(e)}catch(s){const n=e==null?void 0:e.portalItem,o=(n==null?void 0:n.id)||"unset",l=((r=n==null?void 0:n.portal)==null?void 0:r.url)||dt.portalUrl;throw se.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+l+"', id: '"+o+"')",s),s}}const b7={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function S5(t,e,i,r=Qo){const s=new Ys(bR(r)),n=be.fromJSDate(t,{zone:s}),o=i==="decades"||i==="centuries"?"year":wY(i);return i==="decades"&&(e*=10),i==="centuries"&&(e*=100),n.plus({[o]:e}).toJSDate()}function F8e(t,e,i="milliseconds"){const r=t.getTime(),s=vY(e,i,"milliseconds");return new Date(r+s)}function _7(t,e,i=Qo){const r=new Ys(bR(i)),s=be.fromJSDate(t,{zone:r});if(e==="decades"||e==="centuries"){const o=s.startOf("year"),{year:l}=o,c=l-l%(e==="decades"?10:100);return o.set({year:c}).toJSDate()}const n=wY(e);return s.startOf(n).toJSDate()}function vY(t,e,i){return t===0?0:t*b7[e]/b7[i]}function z8e(t,e){return t&&e?t.intersection(e):t||e}function wY(t){switch(t){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var Un,Zm;let Ii=(Zm=class extends ae{static get allTime(){return S7}static get empty(){return xwe}static fromArray(e){return new Un({start:e[0]!=null?new Date(e[0]):e[0],end:e[1]!=null?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,i){return i.end!=null?new Date(i.end):null}writeEnd(e,i){i.end=(e==null?void 0:e.getTime())??null}get isAllTime(){return this.equals(Un.allTime)}get isEmpty(){return this.equals(Un.empty)}readStart(e,i){return i.start!=null?new Date(i.start):null}writeStart(e,i){i.start=(e==null?void 0:e.getTime())??null}clone(){return new Un({end:this.end,start:this.start})}equals(e){var o,l,c,d;if(!e)return!1;const i=((o=this.start)==null?void 0:o.getTime())??this.start,r=((l=this.end)==null?void 0:l.getTime())??this.end,s=((c=e.start)==null?void 0:c.getTime())??e.start,n=((d=e.end)==null?void 0:d.getTime())??e.end;return i===s&&r===n}expandTo(e,i=Qo){if(this.isEmpty||this.isAllTime)return this.clone();let r=this.start;r&&(r=_7(r,e,i));let s=this.end;if(s){const n=_7(s,e,i);s=s.getTime()===n.getTime()?n:S5(n,1,e,i)}return new Un({start:r,end:s})}intersection(e){var c,d,m,v;if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return Un.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const i=((c=this.start)==null?void 0:c.getTime())??-1/0,r=((d=this.end)==null?void 0:d.getTime())??1/0,s=((m=e.start)==null?void 0:m.getTime())??-1/0,n=((v=e.end)==null?void 0:v.getTime())??1/0;let o,l;return s>=i&&s<=r?o=s:i>=s&&i<=n&&(o=i),r>=s&&r<=n?l=r:n>=i&&n<=r&&(l=n),o==null||l==null||isNaN(o)||isNaN(l)?Un.empty:new Un({start:o===-1/0?null:new Date(o),end:l===1/0?null:new Date(l)})}offset(e,i,r=Qo){if(this.isEmpty||this.isAllTime)return this.clone();const s=new Un,{start:n,end:o}=this;return n!=null&&(s.start=S5(n,e,i,r)),o!=null&&(s.end=S5(o,e,i,r)),s}toArray(){var e,i;return this.isEmpty?[void 0,void 0]:[((e=this.start)==null?void 0:e.getTime())??null,((i=this.end)==null?void 0:i.getTime())??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return S7.clone();const i=this.start!=null&&e.start!=null?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=this.end!=null&&e.end!=null?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new Un({start:i,end:r})}},Un=Zm,Zm);h([f({type:Date,json:{write:{allowNull:!0}}})],Ii.prototype,"end",void 0),h([Ie("end")],Ii.prototype,"readEnd",null),h([_e("end")],Ii.prototype,"writeEnd",null),h([f({readOnly:!0,json:{read:!1}})],Ii.prototype,"isAllTime",null),h([f({readOnly:!0,json:{read:!1}})],Ii.prototype,"isEmpty",null),h([f({type:Date,json:{write:{allowNull:!0}}})],Ii.prototype,"start",void 0),h([Ie("start")],Ii.prototype,"readStart",null),h([_e("start")],Ii.prototype,"writeStart",null),Ii=Un=h([I("esri.time.TimeExtent")],Ii);const S7=new Ii,xwe=new Ii({start:void 0,end:void 0});let Twe=0,Kt=class extends oT($R(bg)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new Ye(-180,-90,180,90,Se.WGS84),this.id=Date.now().toString(16)+"-layer-"+Twe++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=Se.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(e){const i=typeof e=="string"?{url:e}:e;return(await re(async()=>{const{fromUrl:r}=await import("./arcgisLayers-Dw1KRMTV.js");return{fromUrl:r}},__vite__mapDeps([30,26,27,29]))).fromUrl(i)}static fromPortalItem(e){return Swe(e)}initialize(){this.when().catch(e=>{Cr(e)||se.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:e})})}destroy(){var i;const{parent:e}=this;e&&(this.parent=null,(i=e.removeChildLayer)==null||i.call(e,this))}get effectiveVisible(){var e;return this.visible&&(((e=this.parent)==null?void 0:e.effectiveVisible)??!0)}get hasAttributionData(){return this.attributionDataUrl!=null}get loaded(){return super.loaded}removeFromParent(){var i;const{parent:e}=this;e&&((i=e.removeChildLayer)==null||i.call(e,this),this.parent=null)}get parsedUrl(){return Rr(this.url)}createLayerView(e,i){return Promise.reject(new B("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await Bt(e,{query:{f:"json"},responseType:"json"})).data;throw new B("layer:no-attribution-data","Layer does not have attribution data")}};h([f({type:String})],Kt.prototype,"attributionDataUrl",void 0),h([f({readOnly:!0})],Kt.prototype,"effectiveVisible",null),h([f({type:Ye})],Kt.prototype,"fullExtent",void 0),h([f({readOnly:!0})],Kt.prototype,"hasAttributionData",null),h([f({type:String,clonable:!1})],Kt.prototype,"id",void 0),h([f({type:Boolean,nonNullable:!0})],Kt.prototype,"legendEnabled",void 0),h([f({type:["show","hide","hide-children"]})],Kt.prototype,"listMode",void 0),h([f({type:Number,range:{min:0,max:1},nonNullable:!0})],Kt.prototype,"opacity",void 0),h([f({clonable:!1})],Kt.prototype,"parent",void 0),h([f({readOnly:!0})],Kt.prototype,"parsedUrl",null),h([f({type:Boolean,readOnly:!0})],Kt.prototype,"persistenceEnabled",void 0),h([f({type:Boolean})],Kt.prototype,"popupEnabled",void 0),h([f({type:Boolean})],Kt.prototype,"attributionVisible",void 0),h([f({type:Se})],Kt.prototype,"spatialReference",void 0),h([f({type:String})],Kt.prototype,"title",void 0),h([f({readOnly:!0,json:{read:!1}})],Kt.prototype,"type",void 0),h([f()],Kt.prototype,"url",void 0),h([f({type:Ii})],Kt.prototype,"visibilityTimeExtent",void 0),h([f({type:Boolean,nonNullable:!0})],Kt.prototype,"visible",void 0),Kt=h([I("esri.layers.Layer")],Kt);let X1=class{constructor(e=i=>i.values().next().value){this._peeker=e,this._observable=new $w,this._items=new Set}get length(){return je(this._observable),this._items.size}clear(){this.length!==0&&(this._items.clear(),this._observable.notify())}last(){if(this.length===0)return;let e;for(e of this._items);return e}peek(){if(this.length!==0)return this._peeker(this._items)}push(e){this.contains(e)||(this._items.add(e),this._observable.notify())}contains(e){return je(this._observable),this._items.has(e)}pop(){if(this.length===0)return;const e=this.peek();return this._items.delete(e),this._observable.notify(),e}popLast(){if(this.length===0)return;const e=this.last();return this._items.delete(e),this._observable.notify(),e}remove(e){this.contains(e)&&(this._items.delete(e),this._observable.notify())}filter(e){const i=this.length;return this._items.forEach(r=>{e(r)||this._items.delete(r)}),i!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){je(this._observable),yield*this._items}};const bY=new FinalizationRegistry(t=>{t.close()});function $we(t,e){bY.register(t,e,e)}function Mwe(t){bY.unregister(t)}function _Y(t,e){return new Proxy({},{get:(i,r,s)=>(...n)=>{let o,l;const c=n[n.length-1];return Ewe(c)&&(o=c.signal,l=c.transferList,n.pop()),t.apply(e?`${e}.${r.toString()}`:r.toString(),n,{transferList:l,signal:o})}})}function Ewe(t){return typeof t=="object"&&!Array.isArray(t)&&t!=null&&("signal"in t||"transferList"in t||Object.keys(t).length===0)}const Awe={statsWorker:()=>re(()=>import("./statsWorker-DuS_YYrH.js"),__vite__mapDeps([31,32,33,34,35,36])),geometryEngineWorker:()=>re(()=>import("./geometryEngineWorker-O9xIBdBG.js"),__vite__mapDeps([37,38,39,40])),arcadeGeometryOperatorsWorker:()=>re(()=>import("./operatorsWorker-wK3bK5BJ.js"),[]),CSVSourceWorker:()=>re(()=>import("./CSVSourceWorker-DGG2qfRQ.js"),__vite__mapDeps([41,42,11,12,43,10,13,44,45,46,47,48,49,0,1,33,32,34,35,36,50,51,8,52])),EdgeProcessingWorker:()=>re(()=>import("./EdgeProcessingWorker-CPZnpvgL.js"),__vite__mapDeps([53,54,55,56,57,58,59,60,61,62,63])),ElevationSamplerWorker:()=>re(()=>import("./ElevationSamplerWorker-Dc2prRQg.js"),__vite__mapDeps([64,45,65,66,67,68,69,70,71,56,72])),FeatureServiceSnappingSourceWorker:()=>re(()=>import("./FeatureServiceSnappingSourceWorker-By4d7N9R.js"),__vite__mapDeps([73,43,10,11,12,13,44,45,46,47,48,49,0,1,33,32,34,35,36,50,51,74,75,76,77,78])),GaussianSplatSortWorker:()=>re(()=>import("./GaussianSplatSortWorker-QQPlimXW.js"),[]),GeoJSONSourceWorker:()=>re(()=>import("./GeoJSONSourceWorker-BJTaR_FR.js"),__vite__mapDeps([79,10,11,12,13,43,44,45,46,47,48,49,0,1,33,32,34,35,36,50,51,80,42,81])),LercWorker:()=>re(()=>import("./LercWorker-CgK7BsEt.js"),[]),MemorySourceWorker:()=>re(()=>import("./MemorySourceWorker-altx5idM.js"),__vite__mapDeps([82,10,11,12,13,83,43,44,45,46,47,48,49,0,1,33,32,34,35,36,50,51,81,42])),PBFDecoderWorker:()=>re(()=>import("./PBFDecoderWorker-C-SzhF3c.js"),__vite__mapDeps([84,85,12,10,11,13,75,76])),FeaturePipelineWorker:()=>re(()=>import("./FeaturePipelineWorker-C8XMdpSx.js"),__vite__mapDeps([86,87,88,89,58,90,91,11,12,10,13,92,33,93,47,46,16,94,95,96,97,98,99,100,101,102,22,48,49,0,1,32,34,35,36,50,51,103,104,105,106,107,108,109,110,111,80,42,81,77,75,76,78,112,113])),PointCloudWorker:()=>re(()=>import("./PointCloudWorker-Tg-igL9_.js"),__vite__mapDeps([114,115,116,117,118,119,120,67,68,121,122])),RasterWorker:()=>re(()=>import("./RasterWorker-BhdQ60GE.js"),__vite__mapDeps([123,124,125,40,126,127,128,129,130,131,132])),SceneLayerSnappingSourceWorker:()=>re(()=>import("./SceneLayerSnappingSourceWorker-XRQdRtkn.js"),__vite__mapDeps([133,134,135,122,116,136,137,121,56,60,61,62,55,57,58,59,63])),SceneLayerWorker:()=>re(()=>import("./SceneLayerWorker-b09YGncz.js"),__vite__mapDeps([138,65,71,139,69])),WFSSourceWorker:()=>re(()=>import("./WFSSourceWorker-C-yxIU2T.js"),__vite__mapDeps([140,10,11,12,13,43,44,45,46,47,48,49,0,1,33,32,34,35,36,50,51,80,42,81,141,142])),WorkerTileHandler:()=>re(()=>import("./WorkerTileHandler-x-Py-TE9.js"),__vite__mapDeps([143,98,144,99,145,76,12,101,146,147,59,58,127,148,97])),Lyr3DWorker:()=>re(()=>import("./Lyr3DWorker-CSQgGsEZ.js"),[]),Feature3DPipelineWorker:()=>re(()=>import("./Feature3DPipelineWorker-D8QlhZDL.js"),__vite__mapDeps([149,49,10,11,12,13,0,1,46,47,33,32,34,35,36,50,51,150,70,65,139,69,151,117,152,62,56,153,135,122,116,134,154,155,137,121,120,115,67,68,59,58,55,57,156,157,158,159,160,161,162,163,164,165,45,77,75,76,78,166])),TextureCompressionWorker:()=>re(()=>import("./TextureCompressionWorker-CEbgJCKw.js"),[]),FlowWorker:()=>re(()=>import("./FlowWorker-xFC7R67t.js"),__vite__mapDeps([167,132])),ParquetSourceWorker:()=>re(()=>import("./ParquetSourceWorker-DO3BubVl.js"),__vite__mapDeps([168,22,49,10,11,12,13,0,1,46,47,33,32,34,35,36,50,51,169,52,105,91,92,104,103])),PanoramicMeshWorker:()=>re(()=>import("./PanoramicMeshWorker-DbuNa_TO.js"),__vite__mapDeps([170,124]))},SY="worker:port-closed",su={HANDSHAKE:0,OPEN:1,OPENED:2,RESPONSE:3,INVOKE:4,ABORT:5,CLOSE:6,OPEN_PORT:7,ON:8};let Owe=0;function xY(){return Owe++}function kwe(t){return t&&typeof t=="object"&&("result"in t||"transferList"in t)}function mx(t){return t?typeof t=="string"?JSON.stringify({name:"message",message:t}):t.toJSON?JSON.stringify(t):JSON.stringify({name:t.name,message:t.message,details:t.details||{stack:t.stack}}):null}function TY(t,e,i,r){if(e.type===su.OPEN_PORT)return void t.postMessage(e,[e.port]);if(e.type!==su.INVOKE&&e.type!==su.RESPONSE)return void t.postMessage(e);let s;kwe(i)?(s=x7(i.transferList),e.data=i.result):(s=x7(r),e.data=i),s?t.postMessage(e,s):t.postMessage(e)}function Q1(t){if(!t)return null;const e=t.data;return e?typeof e=="string"?JSON.parse(e):e:null}function x7(t){if(!(t!=null&&t.length))return null;if(q("esri-workers-arraybuffer-transfer"))return t;const e=t.filter(i=>!Cwe(i));return e.length?e:null}function Cwe(t){var e;return t instanceof ArrayBuffer||((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="ArrayBuffer"}async function B8e(t){try{return await t}catch(e){const i=(e==null?void 0:e.name)===SY;if(!(Cr(e)||i))throw e;return}}const{CLOSE:S_,ABORT:l4,INVOKE:T7,RESPONSE:L0,OPEN_PORT:$7,ON:M7}=su,Rwe=2;let Iwe=class{constructor(e){this._invoke=e,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(e){e.type===l4?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const e of this._invokeMessages)this._cancelledJobIds.has(e.jobId)||this._invoke(e);this._cancelledJobIds.clear(),this._invokeMessages.length=0}};var Xn;let By=(Xn=class{static connect(e,i){const r=new MessageChannel;let s;s=typeof e=="function"?new e:"default"in e&&typeof e.default=="function"?new e.default:e;const n=new Xn(r.port1,{channel:r,client:s,schedule:i});return typeof s=="object"&&"remoteClient"in s&&(s.remoteClient=n),Xn.clients.set(n,s),r.port2}static loadWorker(e){const i=Awe[e];return i?i():Promise.resolve(null)}constructor(e,i,r,s){this._port=e,this._jobQueue=r,this._lowPriorityJobQueue=s,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new Iwe(n=>this._onInvokeMessage(n)),this._client=i.client,this._onMessage=this._onMessage.bind(this),this._channel=i.channel,this._schedule=i.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:S_}),this._close()}isBusy(){return this._outJobs.size>0}invoke(e,i,r){return this.apply(e,[i],r)}apply(e,i,r){const s=r==null?void 0:r.signal,n=r==null?void 0:r.transferList;if(!this._port)return Promise.reject(new B(SY,`Cannot call invoke('${e}'), port is closed`,{methodName:e,data:i}));const o=xY();return new Promise((l,c)=>{if(Kr(s))return this._processWork(),void c($t());const d=ao(s,()=>{const v=this._outJobs.get(o);v&&(this._outJobs.delete(o),this._processWork(),Dt(v.abortHandle),this._post({type:l4,jobId:o}),c($t()))}),m={resolve:l,reject:c,abortHandle:d,debugInfo:e};this._outJobs.set(o,m),this._post({type:T7,jobId:o,methodName:e,abortable:s!=null},i,n)})}createInvokeProxy(e){return _Y(this,e)}on(e,i){const r=new MessageChannel;function s(n){i(n.data)}return this._port.postMessage({type:M7,eventType:e,port:r.port2},[r.port2]),r.port1.addEventListener("message",s),r.port1.start(),at(()=>{r.port1.postMessage({type:S_}),r.port1.close(),r.port1.removeEventListener("message",s)})}jobAdded(){this._processWork()}openPort(){const e=new MessageChannel;return this._post({type:$7,port:e.port2}),e.port1}_processWork(){var o,l;if(this._outJobs.size>=Rwe)return;const e=((o=this._jobQueue)==null?void 0:o.pop())??((l=this._lowPriorityJobQueue)==null?void 0:l.pop());if(!e)return;const{methodName:i,data:r,invokeOptions:s,resolver:n}=e;this.apply(i,r,s).then(c=>n.resolve(c)).catch(c=>n.reject(c))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(e=>{Dt(e.abortHandle),e.reject($t(`Worker closing, aborting job calling '${e.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null,this._onMessage=null,this._channel=null,this._jobQueue=void 0,this._invokeQueue=void 0,this._lowPriorityJobQueue=void 0}_onMessage(e){this._schedule!=null?this._schedule(()=>this._processMessage(e,!0)):this._processMessage(e,!1)}_processMessage(e,i){const r=Q1(e);if(r)switch(r.type){case L0:this._onResponseMessage(r);break;case T7:i?this._onInvokeMessage(r):this._invokeQueue.push(r);break;case l4:this._onAbortMessage(r);break;case S_:this._onCloseMessage();break;case $7:this._onOpenPortMessage(r);break;case M7:this._onOnMessage(r)}}_onAbortMessage(e){const i=this._inJobs,r=e.jobId,s=i.get(r);this._invokeQueue.push(e),s&&(s.controller&&s.controller.abort(),i.delete(r))}_onCloseMessage(){const e=this._client;this._close(),e&&"destroy"in e&&Xn.clients.get(this)===e&&e.destroy(),Xn.clients.delete(this),e!=null&&e.remoteClient&&(e.remoteClient=null)}_onInvokeMessage(e){const{methodName:i,jobId:r,data:s=[],abortable:n}=e,o=n?new AbortController:null,l=this._inJobs;let c,d=this._client,m=d[i];try{if(!m&&i&&i.includes(".")){const v=i.split(".");for(let w=0;w<v.length-1;w++)d=d[v[w]],m=d[v[w+1]]}if(typeof m!="function")throw new TypeError(`${i} is not a function`);s.push({client:this,signal:o?o.signal:null}),c=m.apply(d,s)}catch(v){return void this._post({type:L0,jobId:r,error:mx(v)})}Xr(c)?(l.set(r,{controller:o,promise:c}),c.then(v=>{l.has(r)&&(l.delete(r),this._post({type:L0,jobId:r},v))},v=>{l.has(r)&&(l.delete(r),Cr(v)||this._post({type:L0,jobId:r,error:mx(v||{message:`Error encountered at method ${i}`})}))})):this._post({type:L0,jobId:r},c)}_onOpenPortMessage(e){new Xn(e.port,{client:this._client})}_onOnMessage(e){const{port:i}=e,r=this._client.on(e.eventType,n=>{i.postMessage(n)}),s=ag(e.port,"message",n=>{const o=Q1(n);(o==null?void 0:o.type)===S_&&(s.remove(),r.remove(),i.close())})}_onResponseMessage(e){const{jobId:i,error:r,data:s}=e,n=this._outJobs;if(!n.has(i))return;const o=n.get(i);n.delete(i),this._processWork(),Dt(o.abortHandle),r?o.reject(B.fromJSON(JSON.parse(r))):o.resolve(s)}_post(e,i,r){return TY(this._port,e,i,r)}},Xn.kernelInfo={buildDate:GW,fullVersion:DR,revision:HW},Xn.clients=new Map,Xn),Pwe=class{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new X1,this._ongoingLowPriorityJobsQueue=new X1}destroy(){this.close()}get closed(){var e;return!((e=this._clients)!=null&&e.length)}open(e,i){return new Promise((r,s)=>{let n=!0;const o=l=>{Gt(i.signal),n&&(n=!1,l())};this._clients.length=e.length,this._clientPromises.length=e.length,this._inUseClients.length=e.length;for(let l=0;l<e.length;++l){const c=e[l];Xr(c)?this._clientPromises[l]=c.then(d=>(this._clients[l]=new By(d,i,this._ongoingJobsQueue,this._ongoingLowPriorityJobsQueue),o(r),this._clients[l]),()=>(o(s),null)):(this._clients[l]=new By(c,i,this._ongoingJobsQueue,this._ongoingLowPriorityJobsQueue),this._clientPromises[l]=Promise.resolve(this._clients[l]),o(r))}})}broadcast(e,i,r){const s=new Array(this._clientPromises.length);for(let n=0;n<this._clientPromises.length;++n){const o=this._clientPromises[n];s[n]=o.then(l=>l==null?void 0:l.invoke(e,i,r))}return s}close(){let e;for(;e=this._ongoingJobsQueue.pop();)e.resolver.reject($t(`Worker closing, aborting job calling '${e.methodName}'`));for(;e=this._ongoingLowPriorityJobsQueue.pop();)e.resolver.reject($t(`Worker closing, aborting job calling '${e.methodName}'`));for(const i of this._clientPromises)i.then(r=>r==null?void 0:r.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,Mwe(this)}invoke(e,i,r){return this.apply(e,[i],r)}apply(e,i,r){const s=bn();((r==null?void 0:r.priority)==="low"?this._ongoingLowPriorityJobsQueue:this._ongoingJobsQueue).push({methodName:e,data:i,invokeOptions:r,resolver:s});for(let n=0;n<this._clientPromises.length;n++){const o=this._clients[n];o?o.jobAdded():this._clientPromises[n].then(l=>l==null?void 0:l.jobAdded())}return s.promise}createInvokeProxy(e){return _Y(this,e)}on(e,i){return Promise.all(this._clientPromises).then(()=>Sp(this._clients.map(r=>r.on(e,i))))}openPorts(){return new Promise(e=>{const i=new Array(this._clientPromises.length);let r=i.length;for(let s=0;s<this._clientPromises.length;++s)this._clientPromises[s].then(n=>{n&&(i[s]=n.openPort()),--r===0&&e(i)})})}get test(){}};const jwe={async request(t,e){var o,l;const i=t.options,r=i.responseType;i.signal=e==null?void 0:e.signal,i.responseType=r==="native"||r==="native-request-init"?"native-request-init":r&&["blob","json","text"].includes(r)&&((o=zA(t.url))!=null&&o.after)?r:"array-buffer";const s=await Bt(t.url,i),n={data:s.data,httpStatus:s.httpStatus,ssl:s.ssl};switch((l=s.requestOptions)==null?void 0:l.responseType){case"native-request-init":return delete n.data.signal,n;case"blob":n.data=await n.data.arrayBuffer();break;case"json":n.data=new TextEncoder().encode(JSON.stringify(n.data)).buffer;break;case"text":n.data=new TextEncoder().encode(n.data).buffer}return{result:n,transferList:[n.data]}}},Nwe={ar:"ar-u-nu-latn",bs:"sr-Latn-CS",nn:"no-NN"};let z2=new WeakMap,$Y={};function u4(t){const e=t||$Y;if(!z2.has(e)){const i=gR(),r=i&&Nwe[i]||zH();z2.set(e,new Intl.NumberFormat(r,t))}return z2.get(e)}function W8e(t={}){const e={};return t.digitSeparator!=null&&(e.useGrouping=t.digitSeparator),t.places!=null&&(e.minimumFractionDigits=e.maximumFractionDigits=t.places),e}function Z8e(t){const{minimumFractionDigits:e,maximumFractionDigits:i,useGrouping:r}=t;return{minimumFractionDigits:e,maximumFractionDigits:i,useGrouping:r==="auto"?"auto":r==="always"}}function Y8e(t,e){return Object.is(t,-0)&&(t=0),u4(e).format(t)}function J8e(t,e=Bs()){var r,s;if(!t)return null;let i=E7.get(e);if(!i){const n=u4().formatToParts(12345.6),o=[...u4({useGrouping:!1}).format(9876543210)].reverse(),l=new Map(o.map((_,x)=>[_,x])),c=new RegExp(`[${(r=n.find(_=>_.type==="group"))==null?void 0:r.value}]`,"g"),d=new RegExp(`[${(s=n.find(_=>_.type==="decimal"))==null?void 0:s.value}]`),m=new RegExp(`[${o.join("")}]`,"g"),v=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,w=/[-\u2212\u2013\u2014\u2015]/g;i=_=>{if((_=_.trim().replaceAll(c,"").replace(d,".").replace(m,T=>String(l.get(T))).replaceAll(v,"").replaceAll(w,"-"))==="")return null;const x=Number(_);return isNaN(x)?null:x},E7.set(e,i)}return i(t)}vR(()=>{z2=new WeakMap,$Y={}});const E7=new Map,MY={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:"no",nl:!0,no:!0,nn:"no",pl:!0,pt:"pt-BR","pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,zh:"zh-CN","zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function Dwe(t){return t in MY}function A7(t){if(Dwe(t)){const e=MY[t];return e===!0?t:e}return null}const yv=[],Nm=new Map;function O7(t){for(const e of Nm.keys())OY(t.pattern,e)&&Nm.delete(e)}function Lwe(t){return yv.includes(t)||(O7(t),yv.unshift(t)),at(()=>{const e=yv.indexOf(t);e>-1&&(yv.splice(e,1),O7(t))})}async function EY(t){const e=Bs();Nm.has(t)||Nm.set(t,Vwe(t,e));const i=Nm.get(t);return i&&await Fwe.add(i),i}function AY(t){const e=gR(t);return e?A7(t)??A7(e):null}async function Vwe(t,e){const i=[];for(const r of yv)if(OY(r.pattern,t))try{return await r.fetchMessageBundle(t,e)}catch(s){i.push(s)}throw i.length?new B("intl:message-bundle-error",`Errors occurred while loading "${t}"`,{errors:i}):new B("intl:no-message-bundle-loader",`No loader found for message bundle "${t}"`)}function OY(t,e){return typeof t=="string"?e.startsWith(t):t.test(e)}vR(()=>{Nm.clear()});const Fwe=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(t){return this._increase(),t.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=bn())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function zwe(t,e,i,r){const s=e.exec(i);if(!s)throw new B("esri-intl:invalid-bundle",`Bundle id "${i}" is not compatible with the pattern "${e}"`);const n=s[1]?`${s[1]}/`:"",o=s[2],l=AY(r),c=`${n}${o}.json`,d=l?`${n}${o}_${l}.json`:c;let m;try{m=await k7(t(d))}catch(v){if(d===c)throw new B("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:v});try{m=await k7(t(c))}catch(w){throw new B("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:w})}}return m}async function k7(t){if(C7.fetchBundleAsset!=null)return C7.fetchBundleAsset(t);const e=await Bt(t,{responseType:"text"});return JSON.parse(e.data)}let Uwe=class{constructor({base:e="",pattern:i,location:r=new URL(window.location.href)}){let s;s=typeof r=="string"?n=>new URL(n,new URL(r,window.location.href)).href:r instanceof URL?n=>new URL(n,r).href:r,this.pattern=typeof i=="string"?new RegExp(`^${i}`):i,this.getAssetUrl=s,e=e?e.endsWith("/")?e:e+"/":"",this.matcher=new RegExp(`^${e}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(e,i){return zwe(this.getAssetUrl,this.matcher,e,i)}};function qwe(t){return new Uwe(t)}const C7={};Lwe(qwe({pattern:"esri/",location:bi}));const R7={};function Bwe(t){var i;const e={async:t.async,isDebug:t.isDebug,locale:t.locale,baseUrl:t.baseUrl,has:{...t.has},map:{...t.map},packages:((i=t.packages)==null?void 0:i.slice())||[],paths:{...R7.paths,...t.paths}};return t.hasOwnProperty("async")||(e.async=!0),t.hasOwnProperty("isDebug")||(e.isDebug=!1),t.baseUrl||(e.baseUrl=R7.baseUrl),e}let Gwe=class{constructor(){const e=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(i=>{this[i]=(...r)=>e[i](...r)})}},U2=class{constructor(){this._dispatcher=new Gwe,this._workerPostMessage({type:su.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(e){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener("message",e)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(e){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener("messageerror",e)}get onerror(){return this._onerrorHandler}set onerror(e){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener("error",e)}postMessage(e){qS(()=>{this._workerMessageHandler(new MessageEvent("message",{data:e}))})}dispatchEvent(e){return this._dispatcher.dispatchEvent(e)}addEventListener(e,i,r){this._dispatcher.addEventListener(e,i,r)}removeEventListener(e,i,r){this._dispatcher.removeEventListener(e,i,r)}_workerPostMessage(e){qS(()=>{this.dispatchEvent(new MessageEvent("message",{data:e}))})}async _workerMessageHandler(e){const i=Q1(e);if(i&&i.type===su.OPEN){const{modulePath:r,jobId:s}=i;let n=await By.loadWorker(r);n||(n=await import(r));const o=By.connect(n);this._workerPostMessage({type:su.OPENED,jobId:s,data:o})}}};const c4=()=>se.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:Hwe}=su,Wwe='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}).finally(()=>{t&&t.removeEventListener("abort",s)})}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://esriurl.com/using-local-assets.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(e=>e||new Promise(e=>{require([o.modulePath],e)})).then(t)}):"System"in self&&"function"==typeof System.import?System.import(workerPath).then(e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath))).then(e=>e||System.import(o.modulePath)).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(e=>e||import(o.modulePath)).then(t)}):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let x_,T_;const I7="Failed to create Worker. Fallback to execute module in main thread";async function Zwe(){if(!q("esri-workers"))return P7(new U2);if(!x_&&!T_)try{const e=Wwe.split("{CONFIGURATION}").join(Ywe());x_=URL.createObjectURL(new Blob([e],{type:"text/javascript"}))}catch(e){T_=e||{}}let t;if(x_)try{t=new Worker(x_,{name:"esri-worker-"+Jwe++})}catch{c4().warn(I7,T_),t=new U2}else c4().warn(I7,T_),t=new U2;return P7(t)}async function P7(t){return new Promise(e=>{function i(s){const n=Q1(s);n&&n.type===Hwe&&(t.removeEventListener("message",i),t.removeEventListener("error",r),e(t))}function r(s){s.preventDefault(),t.removeEventListener("message",i),t.removeEventListener("error",r),c4().warn("Failed to create Worker. Fallback to execute module in main thread",s),(t=new U2).addEventListener("message",i),t.addEventListener("error",r)}t.addEventListener("message",i),t.addEventListener("error",r)})}function Ywe(){let t;if(dt.default!=null){const s={...dt};delete s.default,t=JSON.parse(JSON.stringify(s))}else t=JSON.parse(JSON.stringify(dt));t.assetsPath=eo(t.assetsPath),t.defaultAssetsPath=t.defaultAssetsPath?eo(t.defaultAssetsPath):void 0,t.request.interceptors=[],t.log.interceptors=[],t.locale=Bs(),t.has={"esri-csp-restrictions":q("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":q("esri-2d-update-debug"),"esri-2d-log-updating":q("esri-2d-log-updating"),"featurelayer-pbf":q("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":q("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":q("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":q("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":q("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":q("featurelayer-query-max-depth"),"featurelayer-query-tile-max-features":q("featurelayer-query-tile-max-features"),"featurelayer-query-tile-concurrency":q("featurelayer-query-tile-concurrency"),"featurelayer-query-pausing-enabled":q("featurelayer-query-pausing-enabled"),"featurelayer-snapshot-concurrency":q("featurelayer-snapshot-concurrency"),"featurelayer-snapshot-enabled":q("featurelayer-snapshot-enabled"),"parquetlayer-full-query-feature-count":q("parquetlayer-full-query-feature-count"),"esri-atomics":q("esri-atomics"),"esri-shared-array-buffer":q("esri-shared-array-buffer"),"esri-tiles-debug":q("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":q("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":q("feature-polyline-generalization-factor"),"host-webworker":1},t.workers.loaderUrl&&(t.workers.loaderUrl=eo(t.workers.loaderUrl)),t.workers.workerPath?t.workers.workerPath=eo(t.workers.workerPath):t.workers.workerPath=eo(bi("esri/core/workers/RemoteClient.js")),t.workers.useDynamicImport=!1;const e=dt.workers.loaderConfig,i=Bwe({baseUrl:e==null?void 0:e.baseUrl,locale:Bs(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...e==null?void 0:e.has},map:{...e==null?void 0:e.map},paths:{...e==null?void 0:e.paths},packages:(e==null?void 0:e.packages)||[]});return JSON.stringify({esriConfig:t,loaderConfig:i,kernelInfo:{buildDate:GW,fullVersion:DR,revision:HW}})}let Jwe=0;const{ABORT:j7,INVOKE:Kwe,OPEN:Xwe,OPENED:Qwe,RESPONSE:V0}=su;let ebe=class kY{static async create(e){const i=await Zwe();return new kY(i,e)}constructor(e,i){this._outJobs=new Map,this._inJobs=new Map,this.worker=e,this.id=i,e.addEventListener("message",this._onMessage.bind(this)),e.addEventListener("error",r=>{r.preventDefault(),se.getLogger("esri.core.workers.WorkerOwner").error(r)})}terminate(){this.worker.terminate()}async open(e,i={}){const{signal:r}=i,s=xY();return new Promise((n,o)=>{const l={resolve:n,reject:o,abortHandle:ZC(r,()=>{this._outJobs.delete(s),this._post({type:j7,jobId:s})})};this._outJobs.set(s,l),this._post({type:Xwe,jobId:s,modulePath:e})})}_onMessage(e){const i=Q1(e);if(i)switch(i.type){case Qwe:this._onOpenedMessage(i);break;case V0:this._onResponseMessage(i);break;case j7:this._onAbortMessage(i);break;case Kwe:this._onInvokeMessage(i)}}_onAbortMessage(e){const i=this._inJobs,r=e.jobId,s=i.get(r);s&&(s.controller&&s.controller.abort(),i.delete(r))}_onInvokeMessage(e){const{methodName:i,jobId:r,data:s,abortable:n}=e,o=n?new AbortController:null,l=this._inJobs,c=jwe[i];let d;try{if(typeof c!="function")throw new TypeError(`${i} is not a function`);d=c.call(null,s,{signal:o?o.signal:null})}catch(m){return void this._post({type:V0,jobId:r,error:mx(m)})}Xr(d)?(l.set(r,{controller:o,promise:d}),d.then(m=>{l.has(r)&&(l.delete(r),this._post({type:V0,jobId:r},m))},m=>{l.has(r)&&(l.delete(r),m||(m={message:"Error encountered at method"+i}),Cr(m)||this._post({type:V0,jobId:r,error:mx(m||{message:`Error encountered at method ${i}`})}))})):this._post({type:V0,jobId:r},d)}_onOpenedMessage(e){const{jobId:i,data:r}=e,s=this._outJobs.get(i);s&&(this._outJobs.delete(i),Dt(s.abortHandle),s.resolve(r))}_onResponseMessage(e){const{jobId:i,error:r,data:s}=e,n=this._outJobs.get(i);n&&(this._outJobs.delete(i),Dt(n.abortHandle),r?n.reject(B.fromJSON(JSON.parse(r))):n.resolve(s))}_post(e,i,r){return TY(this.worker,e,i,r)}};const N7=q("host-browser")?Math.min(navigator.hardwareConcurrency-1,q("workers-pool-size")??8):0;let Md=q("esri-mobile")?Math.min(N7,3):N7;Md||(Md=q("safari")&&q("mac")?7:2);let D7=0;const q2=[];function tbe(){CY()}async function $_(t,e){const i=new Pwe,{registryTarget:r,...s}=e;return await i.open(t,s),r&&$we(r,i),i}async function ibe(t,e={}){if(typeof t!="string")throw new B("workers:undefined-module","modulePath is missing");let i=e.strategy||"distributed";if(q("host-webworker")&&!q("esri-workers")&&(i="local"),i==="local"){let r=await By.loadWorker(t);r||(r=await import(t)),Gt(e.signal);const s=e.client||r;return $_([By.connect(r,e.schedule)],{...e,client:s})}if(await CY(),Gt(e.signal),i==="dedicated"){const r=D7++%Md;return $_([await q2[r].open(t,e)],e)}if(e.maxNumWorkers&&e.maxNumWorkers>0){const r=Math.min(e.maxNumWorkers,Md);if(r<Md){const s=new Array(r);for(let n=0;n<r;++n){const o=D7++%Md;s[n]=q2[o].open(t,e)}return $_(s,e)}}return $_(q2.map(r=>r.open(t,e)),e)}let M_=null;async function CY(){if(M_)return M_;new AbortController;const t=[];for(let e=0;e<Md;e++){const i=ebe.create(e).then(r=>(q2[e]=r,r));t.push(i)}return M_=Promise.all(t),M_}const rbe={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCentroidOnDegeneratedQuantizedGeometry:!0,supportsCacheHint:!0,supportsCurrentUser:!1,supportsDegeneratedQuantizedGeometry:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsPaginationOnAggregatedQueries:!1,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!0,supportsReturnMesh:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByAnonymous:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,maxUniqueIDCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0,supportsTrueCurve:!1},sbe={supportsDate:!0,supportsFixedInterval:!0,supportsAutoInterval:!0,supportsFixedBoundaries:!0,supportsStackBy:!0,supportsSplitBy:!0,supportsSnapToData:!1,supportsReturnFullIntervalBin:!1,supportsFirstDayOfWeek:!1,supportsNormalization:!0,supportedStatistics:{count:!0,sum:!0,avg:!0,var:!0,stddev:!0,min:!0,max:!0,percentileContinuous:!0,percentileDiscrete:!0,envelope:!0,centroid:!0,convexHull:!0},supportedNormalizationTypes:{field:!0,log:!0,naturalLog:!0,percentOfTotal:!0,squareRoot:!0}},l6=[252,146,31,255],nbe=[153,153,153,255],RY={type:"esriSMS",style:"esriSMSCircle",size:6,color:l6,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},IY={type:"esriSLS",style:"esriSLSSolid",width:.75,color:l6},PY={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},obe={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},abe={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},lbe={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},ube={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};function eLe(t){return{renderer:{type:"simple",symbol:t==="esriGeometryPoint"||t==="esriGeometryMultipoint"?RY:t==="esriGeometryPolyline"?IY:PY}}}const cbe=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let hbe=1;function tLe(t,e){if(q("esri-csp-restrictions"))return()=>({[e]:null,...t});try{let i=`this${L7(e)} = null;`;for(const s in t)i+=`this${L7(s)} = ${JSON.stringify(t[s])};`;const r=new Function(`
      return class AttributesClass$${hbe++} {
        constructor() {
          ${i};
        }
      }
    `)();return()=>new r}catch{return()=>({[e]:null,...t})}}function L7(t){return cbe.test(t)?`.${t}`:`["${t}"]`}function iLe(t={}){return[{name:"New Feature",description:"",prototype:{attributes:G(t)}}]}function dbe(t,e){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:t},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:e,supportsDelete:e,supportsEditing:e,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryBins:!0,supportsQueryPivot:!1,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:e,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:rbe,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},queryAttributeBins:sbe,editing:{supportsGeometryUpdate:e,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}function Le(t,e,i={}){return u6(t,e,i,jY)}function Sn(t,e,i={}){return u6(t,e,i,NY)}function u6(t,e,i={},r){let s=null;const n=i.once?(o,l)=>{r(o)&&(Dt(s),e(o,l))}:(o,l)=>{r(o)&&e(o,l)};if(s=ude(t,n,i.sync,i.equals),i.initial){const o=t();n(o,o)}return s}function mp(t,e,i,r={}){let s=null,n=null,o=null;function l(){var m;s&&n&&(n.remove(),(m=r.onListenerRemove)==null||m.call(r,s),s=null,n=null)}function c(m){r.once&&r.once&&Dt(o),i(m)}const d=Le(t,(m,v)=>{var w;l(),iT(m)&&(s=m,n=ag(m,e,c),(w=r.onListenerAdd)==null||w.call(r,m))},{sync:r.sync,initial:!0});return o=at(()=>{d.remove(),l()}),o}function c6(t,e){return pbe(t,NY,e)}function pbe(t,e,i){if(Kr(i))return Promise.reject($t());const r=t();if(e!=null&&e(r))return Promise.resolve(r);let s=null;function n(){s=Dt(s)}return new Promise((o,l)=>{s=Sp([ao(i,()=>{n(),l($t())}),u6(t,c=>{n(),o(c)},{sync:!1,once:!0},e??jY)])})}function jY(t){return!0}function NY(t){return!!t}function rLe(t,e,i={}){let r=!1;const s=Le(t,(n,o)=>{r||e(n,o)},i);return{remove(){s.remove()},pause(){r=!0},resume(){r=!1}}}const Fa={sync:!0},Qr={initial:!0},qr={sync:!0,initial:!0};function DY(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function LY(t){return t.points!==void 0}function VY(t){return t.x!==void 0&&t.y!==void 0}function FY(t){return t.paths!==void 0||t.curvePaths!==void 0}function Dm(t){return t.rings!==void 0||t.curveRings!==void 0}function Jc(t){return t==null?null:t instanceof tr?t:VY(t)?Re.fromJSON(t):FY(t)?Hi.fromJSON(t):Dm(t)?Qt.fromJSON(t):LY(t)?Do.fromJSON(t):DY(t)?Ye.fromJSON(t):null}function CT(t){return t?VY(t)?"esriGeometryPoint":FY(t)?"esriGeometryPolyline":Dm(t)?"esriGeometryPolygon":DY(t)?"esriGeometryEnvelope":LY(t)?"esriGeometryMultipoint":null:null}const fbe={esriGeometryPoint:Re,esriGeometryPolyline:Hi,esriGeometryPolygon:Qt,esriGeometryEnvelope:Ye,esriGeometryMultipoint:Do,esriGeometryMultiPatch:Qt};function mbe(t){return t&&fbe[t]||null}function sLe(t,e){switch(e.type){case"object-id":case"unique-id-simple":return t.attributes[e.fieldName];case"unique-id-composite":{const i=[];for(const r of e.fieldNames)i.push(t.attributes[r]??null);return JSON.stringify(i)}}}function V7(t,e){var i,r,s;if("uniqueIdFields"in e&&((i=e.uniqueIdFields)!=null&&i.length)){if(e.uniqueIdFields.length===1)return(r=t.attributes)==null?void 0:r[e.uniqueIdFields[0]];const n=e.uniqueIdFields.map(o=>{var l;return(l=t.attributes)==null?void 0:l[o]});return JSON.stringify(n)}return"objectIdField"in e&&e.objectIdField?(s=t.attributes)==null?void 0:s[e.objectIdField]:null}const F7=new ct({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let ybe=0,Mi=class extends ae{constructor(e){super(e),this.id="sym"+ybe++,this.type=null,this.color=new Ne([0,0,0,1])}readColor(e){return(e==null?void 0:e[0])!=null?[e[0],e[1],e[2],e[3]/255]:e}async collectRequiredFields(e,i){}hash(){return JSON.stringify(this.toJSON())}clone(){}};h([f({type:F7.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:F7.write,isRequired:!0}}})],Mi.prototype,"type",void 0),h([f({type:Ne,json:{write:{allowNull:!0}}})],Mi.prototype,"color",void 0),h([Ie("color")],Mi.prototype,"readColor",null),Mi=h([I("esri.symbols.Symbol")],Mi);var h4;let Hr=h4=class extends Mi{constructor(t){super(t),this.data=null,this.type="cim"}readData(t,e){return e}writeData(t,e){Object.assign(e,t)}async collectRequiredFields(t,e){var i;if(((i=this.data)==null?void 0:i.type)==="CIMSymbolReference"){const r=this.data.primitiveOverrides;if(r){const s=r.map(n=>{const o=n.valueExpressionInfo;return o?Ss(t,e,null,o.expression):null});await Promise.all(s)}}}clone(){return new h4({data:G(this.data)})}hash(){return gB(JSON.stringify(this.data)).toString()}};h([f({json:{write:!1}})],Hr.prototype,"color",void 0),h([f({json:{write:!0}})],Hr.prototype,"data",void 0),h([Ie("data",["symbol"])],Hr.prototype,"readData",null),h([_e("data",{})],Hr.prototype,"writeData",null),h([ke({CIMSymbolReference:"cim"},{readOnly:!0})],Hr.prototype,"type",void 0),Hr=h4=h([I("esri.symbols.CIMSymbol")],Hr);function Na(t,e,i=ge){return e||(e=new i),e===t||e.destroyed||(e.removeAll(),gbe(t)?e.addMany(t):t&&e.add(t)),e}function zY(t){return t}function gbe(t){return t&&(Array.isArray(t)||"items"in t&&Array.isArray(t.items))}let E_;function vbe(t){return E_&&!E_.destroyed||(E_=t()),E_}var d4;const wbe=new ct({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let Si=d4=class extends $e{constructor(t){super(t),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(t){t!=="asc"&&t!=="desc"||this._set("sortOrder",t)}clone(){return new d4({categories:this.categories?G(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(t,e){let i=[];this.categories&&(i=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o));let r="";if(this.extent){const o=TT(this.extent,Se.WGS84);o!=null&&(r=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let s=this.query;!this.disableExtraQuery&&t.extraQuery&&(s="("+s+")"+t.extraQuery);const n={categories:i,bbox:r,q:s,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(n.sortField=this.sortField.split(",").map(o=>wbe.toJSON(o.trim())).join(","),n.sortOrder=this.sortOrder),{query:{...e,...n}}}};h([f()],Si.prototype,"categories",void 0),h([f()],Si.prototype,"disableExtraQuery",void 0),h([f({type:Ye})],Si.prototype,"extent",void 0),h([f()],Si.prototype,"filter",void 0),h([f()],Si.prototype,"num",void 0),h([f()],Si.prototype,"query",void 0),h([f()],Si.prototype,"sortField",void 0),h([f()],Si.prototype,"sortOrder",null),h([f()],Si.prototype,"start",void 0),Si=d4=h([I("esri.portal.PortalQueryParams")],Si);var p4;let vi=p4=class extends ae{constructor(t){super(t),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){var i;const t=this.url,e=this.thumbnail;return t&&e&&this.portal?(i=this.portal)==null?void 0:i.normalizeUrl(`${t}/info/${e}?f=json`):null}get url(){var e;const t=(e=this.portal)==null?void 0:e.restUrl;return t?t+"/community/groups/"+this.id:null}fetchCategorySchema(t){return this.portal.request(this.url+"/categorySchema",t).then(e=>{const i=e.categorySchema||[];return i.some(r=>r.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",t):i})}fetchMembers(t){return this.portal.request(this.url+"/users",t)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}toJSON(){throw new B("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new p4({sourceJSON:t});return e.read(t),e}queryItems(t,e){let i=nr(Si,t);const r=this.portal;return parseFloat(r.currentVersion)>5?(i=i||new Si,r.queryPortal(`/content/groups/${this.id}/search`,i,"PortalItem",e)):(i=i?i.clone():new Si,i.query="group:"+this.id+(i.query?" "+i.query:""),r.queryItems(i,e))}_fetchCategorySchemaSet(t,e){const i=this.portal;return i.fetchSelf(i.authMode,!0,e).then(r=>{const s=r.contentCategorySetsGroupQuery;if(s){const n=new Si({disableExtraQuery:!0,num:1,query:s});return i.queryGroups(n,e)}throw new B("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(r=>{if(r.total){const s=r.results[0],n=new Si({num:1,query:`typekeywords:"${t}"`});return s.queryItems(n,e)}throw new B("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(r=>r.total?r.results[0].fetchData("json",e).then(s=>{const n=s==null?void 0:s.categorySchema;return n!=null&&n.length?n:[]}):[])}};h([f()],vi.prototype,"access",void 0),h([f({type:Date})],vi.prototype,"created",void 0),h([f()],vi.prototype,"description",void 0),h([f()],vi.prototype,"id",void 0),h([f()],vi.prototype,"isInvitationOnly",void 0),h([f({type:Date})],vi.prototype,"modified",void 0),h([f()],vi.prototype,"owner",void 0),h([f()],vi.prototype,"portal",void 0),h([f()],vi.prototype,"snippet",void 0),h([f()],vi.prototype,"sortField",void 0),h([f()],vi.prototype,"sortOrder",void 0),h([f()],vi.prototype,"sourceJSON",void 0),h([f()],vi.prototype,"tags",void 0),h([f()],vi.prototype,"thumbnail",void 0),h([f({readOnly:!0})],vi.prototype,"thumbnailUrl",null),h([f()],vi.prototype,"title",void 0),h([f({readOnly:!0})],vi.prototype,"url",null),vi=p4=h([I("esri.portal.PortalGroup")],vi);let Xh=class extends $e{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};h([f()],Xh.prototype,"nextQueryParams",void 0),h([f()],Xh.prototype,"queryParams",void 0),h([f()],Xh.prototype,"results",void 0),h([f()],Xh.prototype,"total",void 0),Xh=h([I("esri.portal.PortalQueryResult")],Xh);let wl=class extends ae{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){var i;const e=(i=this.portal)==null?void 0:i.restUrl;return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new B("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};h([f({type:Date})],wl.prototype,"created",void 0),h([f()],wl.prototype,"id",void 0),h([f()],wl.prototype,"portal",void 0),h([f()],wl.prototype,"title",void 0),h([f({readOnly:!0})],wl.prototype,"url",null),h([f()],wl.prototype,"username",void 0),wl=h([I("esri.portal.PortalFolder")],wl);var f4;let Mt=f4=class extends ae{constructor(t){super(t),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.id=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e?this.portal.normalizeUrl(`${t}/info/${e}?f=json`):null}get userContentUrl(){var e;const t=(e=this.portal)==null?void 0:e.restUrl;return t?`${t}/content/users/${this.id}`:null}get url(){var e;const t=(e=this.portal)==null?void 0:e.restUrl;return t?`${t}/community/users/${this.id}`:null}addItem(t){const e=t&&t.item,i=t==null?void 0:t.data,r=t==null?void 0:t.folder,s={method:"post"};e&&(s.query=e.createPostQuery(),i!=null&&(typeof i=="string"?s.query.text=i:typeof i=="object"&&(s.query.text=JSON.stringify(i))));let n=this.userContentUrl;return r&&(n+="/"+(typeof r=="string"?r:r.id)),this.portal.request(n+"/addItem",s).then(o=>(e.id=o.id,e.portal=this.portal,e.loaded?e.reload():e.load()))}async deleteItem(t,e=!1){let i=this.userContentUrl;t.ownerFolder&&(i+="/"+t.ownerFolder);const r=e?{permanentDelete:!0}:{};await this.portal.request(i+`/items/${t.id}/delete`,{method:"post",query:r}),t.id=null,t.portal=null}async deleteItems(t,e=!1){t=t.slice();const i=this.userContentUrl+"/deleteItems",r=[],s=t.map(n=>n.id);if(s.length){const n={method:"post",query:{items:s.join(","),permanentDelete:e}},o=await this.portal.request(i,n);for(const l of o.results){const c=t.find(v=>l.itemId===v.id),d=l.success;let m=null;d?(c.id=null,c.portal=null):l.error&&(m=new B("portal:delete-item-failed",l.error.message,l.error)),r.push({item:c,success:d,error:m})}}return r}fetchFolders(){const t={query:{num:1}};return this.portal.request(this.userContentUrl??"",t).then(e=>{let i;return i=e&&e.folders?e.folders.map(r=>{const s=wl.fromJSON(r);return s.portal=this.portal,s}):[],i})}fetchGroups(){return this.portal.request(this.url??"").then(t=>{let e;return e=t&&t.groups?t.groups.map(i=>{const r=vi.fromJSON(i);return r.portal=this.portal,r}):[],e})}async fetchItems(t){t??(t={});let e=this.userContentUrl??"";t.folder&&(e+="/"+t.folder.id);const{default:i}=await re(()=>Promise.resolve().then(()=>WK),[]),r={folders:!1,inRecycleBin:!!t.inRecycleBin||null,foldersContent:!(t.folder||!t.includeSubfolderItems)||null,num:t.num||10,start:t.start||1,sortField:t.sortField||"created",sortOrder:t.sortOrder||"asc"},s=await this.portal.request(e,{query:r});let n;return s!=null&&s.items?(n=s.items.map(o=>{const l=i.fromJSON(o);return l.portal=this.portal,l}),await Promise.all(n.map(o=>o.load())),{items:n,nextStart:s.nextStart,total:s.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(t=>t.tags)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}queryFavorites(t){return this.favGroupId?(this._favGroup||(this._favGroup=new vi({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(t)):Promise.reject(new B("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(t,e){const i=this.userContentUrl,r=e?{folderID:typeof e=="string"?e:e.id}:null;await this.portal.request(i+`/items/${t.id}/restore`,{method:"post",query:r})}toJSON(){throw new B("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new f4({sourceJSON:t});return e.read(t),e}};h([f()],Mt.prototype,"access",void 0),h([f({type:Date})],Mt.prototype,"created",void 0),h([f()],Mt.prototype,"culture",void 0),h([f()],Mt.prototype,"description",void 0),h([f()],Mt.prototype,"email",void 0),h([f()],Mt.prototype,"favGroupId",void 0),h([f()],Mt.prototype,"fullName",void 0),h([f()],Mt.prototype,"id",void 0),h([f({type:Date})],Mt.prototype,"modified",void 0),h([f()],Mt.prototype,"orgId",void 0),h([f()],Mt.prototype,"portal",void 0),h([f()],Mt.prototype,"preferredView",void 0),h([f()],Mt.prototype,"privileges",void 0),h([f()],Mt.prototype,"region",void 0),h([f()],Mt.prototype,"role",void 0),h([f()],Mt.prototype,"roleId",void 0),h([f()],Mt.prototype,"sourceJSON",void 0),h([f()],Mt.prototype,"thumbnail",void 0),h([f({readOnly:!0})],Mt.prototype,"thumbnailUrl",null),h([f()],Mt.prototype,"units",void 0),h([f({readOnly:!0})],Mt.prototype,"userContentUrl",null),h([f({readOnly:!0})],Mt.prototype,"url",null),h([f()],Mt.prototype,"username",void 0),h([f()],Mt.prototype,"userLicenseTypeId",void 0),h([f()],Mt.prototype,"userType",void 0),Mt=f4=h([I("esri.portal.PortalUser")],Mt);var on;let F0;const z7={PortalGroup:()=>Promise.resolve({default:vi}),PortalItem:()=>re(()=>Promise.resolve().then(()=>WK),void 0),PortalUser:()=>Promise.resolve({default:Mt})};var Ra;let le=(Ra=class extends th(bg){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.g3DTilesGalleryGroupQuery=null,this.g3dTilesEnabled=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=dt.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){U7.unregister(this),this.defaultBasemap=ti(this.defaultBasemap),this.defaultDevBasemap=ti(this.defaultDevBasemap),this.defaultVectorBasemap=ti(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=Dt(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const i of e)dt.request.trustedServers.includes(i)||dt.request.trustedServers.push(i);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){var r;const e=(r=this.user)==null?void 0:r.orgId,i=!e||this.canSearchPublic;return this.id&&!i?` AND orgid:${this.id}`:null}get hasAPIKey(){return Gge(this.restUrl)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get loaded(){return super.loaded}get restUrl(){let e=this.url;if(e){const i=e.indexOf("/sharing");e=i>0?e.slice(0,i):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,i=this.thumbnail;return e&&i?this._normalizeSSL(e+"/portals/self/resources/"+i):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let i=null;return e&&(i=Mt.fromJSON(e),i.portal=this),i}load(e){const i=re(async()=>{const{default:r}=await Promise.resolve().then(()=>zMe);return{default:r}},void 0).then(({default:r})=>{Gt(e),F0=r}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(r=>{var s;if(!this.hasAPIKey&&ze){const n=ze;this.credential=n.findCredential(this.restUrl),this.credential||this.authMode!==on.AUTH_MODE_AUTO&&this.authMode!==on.AUTH_MODE_NO_PROMPT||((s=this._esriIdCredentialCreateHandle)==null||s.remove(),this._esriIdCredentialCreateHandle=n.on("credential-create",bbe(new WeakRef(this))),U7.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(i),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),i=(await re(async()=>{const{default:r}=await import("./ElevationLayer-Byy5sLYE.js");return{default:r}},__vite__mapDeps([171,172,173,174,12,175,176]))).default;return e?e.map(r=>new i({id:r.id,url:r.url})):[]}async fetchBasemaps(e,i){const r=await this._fetchBasemaps(e,i);if((i==null?void 0:i.include3d)===!0&&this.use3dBasemaps!==!1){const s=await this._fetchBasemaps3D(e,i);r.unshift(...s)}return r}async fetchDefault3DBasemap(e){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const i=new Si;i.query=this.default3DBasemapQuery,i.disableExtraQuery=!0;const r=(await this.queryItems(i,e)).results.find(s=>s.type==="Web Scene");return r?new F0({portalItem:r}):null}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(i=>i.categorySchema):Kr(e)?Promise.reject($t()):Promise.resolve([])}async fetchClassificationSchema(e){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",e).then(i=>i.classificationSchema):null}fetchFeaturedGroups(e){const i=this.featuredGroups,r=new Si({num:100,sortField:"title"});if(i!=null&&i.length){const s=[];for(const n of i)s.push(`(title:"${n.title}" AND owner:${n.owner})`);return r.query=s.join(" OR "),this.queryGroups(r,e).then(n=>n.results)}return Kr(e)?Promise.reject($t()):Promise.resolve([])}fetchRegions(e){var r;const i=((r=this.user)==null?void 0:r.culture)||this.culture||Bs();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:i}})}fetchSettings(e){var r;const i=((r=this.user)==null?void 0:r.culture)||this.culture||Bs();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:i}})}static getDefault(){return vbe(()=>new on)}queryGroups(e,i){return this.queryPortal("/community/groups",e,"PortalGroup",i)}queryItems(e,i){return this.queryPortal("/search",e,"PortalItem",i)}queryUsers(e,i){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",i)}fetchSelf(e=this.authMode,i=!1,r){const s=this.restUrl+"/portals/self",n={authMode:e,query:{culture:Bs().toLowerCase()},withCredentials:!0,...r};return n.authMode==="auto"&&(n.authMode="no-prompt"),i&&(n.query.default=!0),this.request(s,n)}queryPortal(e,i,r,s){const n=nr(Si,i),o=l=>this.request(this.restUrl+e,{...n.toRequestOptions(this),...s}).then(c=>{const d=n.clone();return d.start=c.nextStart,new Xh({nextQueryParams:d,queryParams:n,total:c.total,results:on._resultsToTypedArray(l,{portal:this},c,s)})}).then(c=>Promise.all(c.results.map(d=>typeof d.when=="function"?d.when():c)).then(()=>c,d=>(Aa(d),c)));return r&&z7[r]?z7[r]().then(({default:l})=>(Gt(s),o(l))):o()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new B("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===on.AUTH_MODE_ANONYMOUS||this.authMode===on.AUTH_MODE_NO_PROMPT&&!ze)return Promise.reject(new B("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=i=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(i||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=i,this.fetchSelf("immediate"))):this.user&&this.credential===i?null:(this.credential=i,this.fetchSelf("immediate"))).then(r=>{r&&(this.sourceJSON=r,this.read(r))});return ze?ze.getCredential(this.restUrl,{prompt:this.authMode!==on.AUTH_MODE_NO_PROMPT}).then(i=>e(i)):e(this.credential)}normalizeUrl(e){var r;const i=(r=this.credential)==null?void 0:r.token;return this._normalizeSSL(i?e+(e.includes("?")?"&":"?")+"token="+i:e)}requestToTypedArray(e,i,r){return this.request(e,i).then(s=>{const n=on._resultsToTypedArray(r,{portal:this},s);return Promise.all(n.map(o=>typeof o.when=="function"?o.when():s)).then(()=>n,()=>n)})}request(e,i={}){const r={f:"json",...i.query},{authMode:s=this.authMode===on.AUTH_MODE_ANONYMOUS||this.authMode===on.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:n=null,cacheBust:o=!1,method:l="auto",responseType:c="json",signal:d}=i,m={authMode:s,body:n,cacheBust:o,method:l,query:r,responseType:c,timeout:0,signal:d};return i.withCredentials&&(m.withCredentials=!0),Bt(this._normalizeSSL(e),m).then(v=>v.data)}toJSON(){throw new B("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new on({sourceJSON:e})}_getHelperService(e){var r;const i=(r=this.helperServices)==null?void 0:r[e];if(!i)throw new B("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return i}async _fetchBasemaps(e,i){const r=new Si;r.query=e||(HA()?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0;const s=await this.queryGroups(r,i);if(!s.total)return[];const n=s.results[0];r.num=100,r.query='type:"Web Map" -type:"Web Application"',r.sortField=n.sortField||"name",r.sortOrder=n.sortOrder||"desc";const o=await n.queryItems(r,i);return o.total?o.results.filter(l=>l.type==="Web Map").map(l=>new F0({portalItem:l})):[]}async _fetchBasemaps3D(e,i){const r=e||this.basemapGalleryGroupQuery3D;if(!r)return[];if(HA())return[];const s=new Si({query:r,disableExtraQuery:!0}),n=await this.queryGroups(s,i);if(!n.total)return[];const o=n.results[0];s.num=100,s.query='type:"Web Scene"',s.sortField=o.sortField||"name",s.sortOrder=o.sortOrder||"desc";const l=await o.queryItems(s,i);return l.total?l.results.filter(c=>c.type==="Web Scene").map(c=>new F0({portalItem:c})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const i=F0.fromJSON(e);return i.portalItem={portal:this},i}return null}static _resultsToTypedArray(e,i,r,s){let n;if(r){const o=s!=null?s.signal:null;n=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||i)&&(n=n.map(l=>{const c=Object.assign(e?e.fromJSON(l):l,i);return typeof c.load=="function"&&c.load(o),c}))}else n=[];return n}},on=Ra,Ra.AUTH_MODE_ANONYMOUS="anonymous",Ra.AUTH_MODE_AUTO="auto",Ra.AUTH_MODE_IMMEDIATE="immediate",Ra.AUTH_MODE_NO_PROMPT="no-prompt",Ra);h([f()],le.prototype,"access",void 0),h([f()],le.prototype,"allSSL",void 0),h([f()],le.prototype,"authMode",void 0),h([f()],le.prototype,"authorizedCrossOriginDomains",void 0),h([Ie("authorizedCrossOriginDomains")],le.prototype,"readAuthorizedCrossOriginDomains",null),h([f()],le.prototype,"basemapGalleryGroupQuery",void 0),h([f({json:{name:"3DBasemapGalleryGroupQuery"}})],le.prototype,"basemapGalleryGroupQuery3D",void 0),h([f({json:{name:"g3DTilesGalleryGroupQuery"}})],le.prototype,"g3DTilesGalleryGroupQuery",void 0),h([f({json:{name:"g3dTilesEnabled"}})],le.prototype,"g3dTilesEnabled",void 0),h([f()],le.prototype,"bingKey",void 0),h([f()],le.prototype,"canListApps",void 0),h([f()],le.prototype,"canListData",void 0),h([f()],le.prototype,"canListPreProvisionedItems",void 0),h([f()],le.prototype,"canProvisionDirectPurchase",void 0),h([f()],le.prototype,"canSearchPublic",void 0),h([f()],le.prototype,"canShareBingPublic",void 0),h([f()],le.prototype,"canSharePublic",void 0),h([f()],le.prototype,"canSignInArcGIS",void 0),h([f()],le.prototype,"canSignInIDP",void 0),h([f()],le.prototype,"colorSetsGroupQuery",void 0),h([f()],le.prototype,"commentsEnabled",void 0),h([f({type:Date})],le.prototype,"created",void 0),h([f()],le.prototype,"credential",void 0),h([f()],le.prototype,"culture",void 0),h([f()],le.prototype,"currentVersion",void 0),h([f()],le.prototype,"customBaseUrl",void 0),h([f()],le.prototype,"default3DBasemapQuery",void 0),h([f()],le.prototype,"defaultBasemap",void 0),h([Ie("defaultBasemap")],le.prototype,"readDefaultBasemap",null),h([f()],le.prototype,"defaultDevBasemap",void 0),h([Ie("defaultDevBasemap")],le.prototype,"readDefaultDevBasemap",null),h([f({type:Ye})],le.prototype,"defaultExtent",void 0),h([f()],le.prototype,"defaultVectorBasemap",void 0),h([Ie("defaultVectorBasemap")],le.prototype,"readDefaultVectorBasemap",null),h([f()],le.prototype,"description",void 0),h([f()],le.prototype,"devBasemapGalleryGroupQuery",void 0),h([f()],le.prototype,"eueiEnabled",void 0),h([f({readOnly:!0})],le.prototype,"extraQuery",null),h([f()],le.prototype,"featuredGroups",void 0),h([f()],le.prototype,"featuredItemsGroupQuery",void 0),h([f()],le.prototype,"galleryTemplatesGroupQuery",void 0),h([f()],le.prototype,"layoutGroupQuery",void 0),h([f()],le.prototype,"livingAtlasGroupQuery",void 0),h([f({readOnly:!0})],le.prototype,"hasAPIKey",null),h([f()],le.prototype,"hasCategorySchema",void 0),h([f()],le.prototype,"hasClassificationSchema",void 0),h([f()],le.prototype,"helpBase",void 0),h([f()],le.prototype,"helperServices",void 0),h([f()],le.prototype,"helpMap",void 0),h([f()],le.prototype,"homePageFeaturedContent",void 0),h([f()],le.prototype,"homePageFeaturedContentCount",void 0),h([f()],le.prototype,"httpPort",void 0),h([f()],le.prototype,"httpsPort",void 0),h([f()],le.prototype,"id",void 0),h([f()],le.prototype,"ipCntryCode",void 0),h([f({readOnly:!0})],le.prototype,"isOrganization",null),h([f()],le.prototype,"isPortal",void 0),h([f()],le.prototype,"isReadOnly",void 0),h([f({readOnly:!0})],le.prototype,"itemPageUrl",null),h([f()],le.prototype,"layerTemplatesGroupQuery",void 0),h([f()],le.prototype,"maxTokenExpirationMinutes",void 0),h([f({type:Date})],le.prototype,"modified",void 0),h([f()],le.prototype,"name",void 0),h([f()],le.prototype,"portalHostname",void 0),h([f()],le.prototype,"portalMode",void 0),h([f()],le.prototype,"portalProperties",void 0),h([f()],le.prototype,"region",void 0),h([f()],le.prototype,"recycleBinEnabled",void 0),h([f({readOnly:!0})],le.prototype,"restUrl",null),h([f()],le.prototype,"rotatorPanels",void 0),h([f()],le.prototype,"showHomePageDescription",void 0),h([f()],le.prototype,"sourceJSON",void 0),h([f()],le.prototype,"staticImagesUrl",void 0),h([f({json:{name:"2DStylesGroupQuery"}})],le.prototype,"stylesGroupQuery2d",void 0),h([f({json:{name:"stylesGroupQuery"}})],le.prototype,"stylesGroupQuery3d",void 0),h([f()],le.prototype,"supportsHostedServices",void 0),h([f()],le.prototype,"symbolSetsGroupQuery",void 0),h([f()],le.prototype,"templatesGroupQuery",void 0),h([f()],le.prototype,"thumbnail",void 0),h([f({readOnly:!0})],le.prototype,"thumbnailUrl",null),h([f()],le.prototype,"units",void 0),h([f()],le.prototype,"url",void 0),h([f()],le.prototype,"urlKey",void 0),h([Ie("urlKey")],le.prototype,"readUrlKey",null),h([f()],le.prototype,"user",void 0),h([Ie("user")],le.prototype,"readUser",null),h([f()],le.prototype,"use3dBasemaps",void 0),h([f()],le.prototype,"useDefault3dBasemap",void 0),h([f()],le.prototype,"useStandardizedQuery",void 0),h([f()],le.prototype,"useVectorBasemaps",void 0),h([f()],le.prototype,"vectorBasemapGalleryGroupQuery",void 0),le=on=h([I("esri.portal.Portal")],le);const U7=new FinalizationRegistry(t=>{t.remove()});function bbe(t){const e=ze;return()=>{const i=t.deref();i&&e.findCredential(i.restUrl)&&i.signIn().catch(()=>{})}}let ms=class extends ae{constructor(e){super(e),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(e,i,r){e||(i[r]=e)}};h([f({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],ms.prototype,"enabled",void 0),h([_e("enabled")],ms.prototype,"writeEnabled",null),h([f({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],ms.prototype,"type",void 0),ms=h([I("esri.symbols.Symbol3DLayer")],ms);const _be=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,Sbe="screenUtils.toPt: input not recognized!",UY=96;function xbe(t){return t?t/72*UY:0}function uo(t){return t?72*t/UY:0}function ut(t){if(typeof t=="string"){const e=t.match(_be);if(e){const i=Number(e[1]),r=e[3]&&e[3].toLowerCase(),s=t.startsWith("-"),n=r==="px"?uo(i):i;return s?-n:n}return console.warn(Sbe),null}return t}function rr(t=0,e=0){return{x:t,y:e}}function uLe(t){return t?rr(t.x,t.y):null}function cLe(t=0,e=0){return[t,e]}function hLe(t=0,e=0,i=0){return[t,e,i]}function dLe(t){return t}function pLe(t){return t}function fLe(t){return t}function mLe(t,e){return e?(e[0]=t.x,e[1]=t.y,e.length>2&&(e[2]=0),e):[t.x,t.y]}function h6(t){const e=eR(100*(1-t));return Math.max(0,Math.min(e,100))}function ew(t){const e=1-t/100;return Math.max(0,Math.min(e,1))}function Tbe(t,e){const i=e.transparency!=null?ew(e.transparency):1,r=e.color;return r&&Array.isArray(r)?new Ne([r[0]||0,r[1]||0,r[2]||0,i]):null}function $be(t,e){e.color=t.toJSON().slice(0,3);const i=h6(t.a);i!==0&&(e.transparency=i)}function ih(t){return{type:Ne,nonNullable:t==null?void 0:t.nonNullable,json:{type:[ot],default:null,read:{source:["color","transparency"],reader:Tbe},write:{target:{color:{type:[ot],isRequired:t==null?void 0:t.colorRequiredOnWrite},transparency:{type:ot}},writer:$be}}}}const za={type:Number,cast:ut,json:{write:!0}};function yLe(t){return t==="emissive"?0:1}let Qh=class extends ae{constructor(e){super(e),this.color=new Ne([0,0,0,1]),this.extensionLength=0,this.size=uo(1)}clone(){}cloneProperties(){return{color:G(this.color),size:this.size,extensionLength:this.extensionLength}}};h([f({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],Qh.prototype,"type",void 0),h([f(ih({colorRequiredOnWrite:!0}))],Qh.prototype,"color",void 0),h([f({...za,json:{write:{overridePolicy:t=>({enabled:!!t})}}})],Qh.prototype,"extensionLength",void 0),h([f(za)],Qh.prototype,"size",void 0),Qh=h([I("esri.symbols.edges.Edges3D")],Qh);const d6=Qh;var m4;let B2=m4=class extends d6{constructor(t){super(t),this.type="sketch"}clone(){return new m4(this.cloneProperties())}};h([ke({sketch:"sketch"},{readOnly:!0})],B2.prototype,"type",void 0),B2=m4=h([I("esri.symbols.edges.SketchEdges3D")],B2);const Mbe=B2;var y4;let G2=y4=class extends d6{constructor(t){super(t),this.type="solid"}clone(){return new y4(this.cloneProperties())}};h([ke({solid:"solid"},{readOnly:!0})],G2.prototype,"type",void 0),G2=y4=h([I("esri.symbols.edges.SolidEdges3D")],G2);const qY=G2,BY={types:{key:"type",base:d6,typeMap:{solid:qY,sketch:Mbe}},json:{write:!0}};var g4;let bm=g4=class extends ae{constructor(){super(...arguments),this.strength=null,this.source="emissive"}clone(){const t={strength:this.strength,source:this.source};return new g4(t)}};h([f({json:{write:!1}})],bm.prototype,"strength",void 0),h([f({json:{write:!1}})],bm.prototype,"source",void 0),bm=g4=h([I("esri.symbols.support.Symbol3DEmissive")],bm);var v4;let mn=v4=class extends ae{constructor(t){super(t),this.color=null,this.emissive=new bm({source:"emissive"})}clone(){var e,i;const t={color:((e=this.color)==null?void 0:e.clone())??null,emissive:((i=this.emissive)==null?void 0:i.clone())??null};return new v4(t)}};h([f(ih())],mn.prototype,"color",void 0),h([f({type:bm,json:{write:!1}})],mn.prototype,"emissive",void 0),mn=v4=h([I("esri.symbols.support.Symbol3DMaterial")],mn);var w4,Ym;let Pl=(Ym=class extends ms{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){var e,i;return new w4({edges:(e=this.edges)==null?void 0:e.clone(),enabled:this.enabled,material:(i=this.material)==null?void 0:i.clone(),castShadows:this.castShadows,size:this.size})}},w4=Ym,Ym);h([ke({Extrude:"extrude"},{readOnly:!0})],Pl.prototype,"type",void 0),h([f({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],Pl.prototype,"size",void 0),h([f({type:mn,json:{write:!0}})],Pl.prototype,"material",void 0),h([f({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Pl.prototype,"castShadows",void 0),h([f(BY)],Pl.prototype,"edges",void 0),Pl=w4=h([I("esri.symbols.ExtrudeSymbol3DLayer")],Pl);let t1=class extends ae{constructor(e){super(e)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};h([f({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],t1.prototype,"type",void 0),t1=h([I("esri.symbols.patterns.LinePattern3D")],t1);const Ebe=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var b4;const Abe=wr()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let Ed=b4=class extends t1{constructor(t){super(t),this.type="style",this.style="solid"}clone(){const t={style:this.style};return new b4(t)}};h([f({type:["style"],json:{write:{isRequired:!0}}})],Ed.prototype,"type",void 0),h([ke(Abe),f({type:Ebe,json:{write:{isRequired:!0}}})],Ed.prototype,"style",void 0),Ed=b4=h([I("esri.symbols.patterns.LineStylePattern3D")],Ed);let i1=class extends ae{constructor(e){super(e),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};h([f({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],i1.prototype,"type",void 0),i1=h([I("esri.symbols.patterns.Pattern3D")],i1);const Obe=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var _4;let _m=_4=class extends i1{constructor(t){super(t),this.type="style",this.style="solid"}clone(){return new _4({style:this.style})}};h([f({type:["style"],json:{write:{isRequired:!0}}})],_m.prototype,"type",void 0),h([f({type:Obe,json:{read:!0,write:{isRequired:!0}}})],_m.prototype,"style",void 0),_m=_4=h([I("esri.symbols.patterns.StylePattern3D")],_m);const kbe={types:{key:"type",base:i1,typeMap:{style:_m}},json:{write:!0}},GY={types:{key:"type",base:t1,typeMap:{style:Ed}},json:{write:!0}},r1=new Ne("white"),Cbe=new Ne([255,255,255,0]);function Rbe(t){return t.r===0&&t.g===0&&t.b===0}var S4;let s1=S4=class extends mn{constructor(t){super(t),this.colorMixMode=null}clone(){var e,i;const t={color:((e=this.color)==null?void 0:e.clone())??null,colorMixMode:this.colorMixMode,emissive:((i=this.emissive)==null?void 0:i.clone())??null};return new S4(t)}};h([ke({multiply:"multiply",replace:"replace",tint:"tint"})],s1.prototype,"colorMixMode",void 0),s1=S4=h([I("esri.symbols.support.Symbol3DFillMaterial")],s1);function rh(){return[0,0,0]}function Ibe(t){return[t[0],t[1],t[2]]}function _g(t,e,i){return[t,e,i]}function Pbe(t,e,i){return[t,e,i]}function jbe(t,e=rh()){const i=Math.min(3,t.length);for(let r=0;r<i;++r)e[r]=t[r];return e}function HY(){return rh()}function WY(){return _g(1,1,1)}function ZY(){return _g(1,0,0)}function YY(){return _g(0,1,0)}function JY(){return _g(0,0,1)}const Nbe=HY(),Dbe=WY(),Lbe=ZY(),Vbe=YY(),Fbe=JY();Object.freeze(Object.defineProperty({__proto__:null,ONES:Dbe,UNIT_X:Lbe,UNIT_Y:Vbe,UNIT_Z:Fbe,ZEROS:Nbe,clone:Ibe,create:rh,freeze:Pbe,fromArray:jbe,fromValues:_g,ones:WY,unitX:ZY,unitY:YY,unitZ:JY,zeros:HY},Symbol.toStringTag,{value:"Module"}));function p6(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function zbe(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function Ube(t,e,i,r,s,n,o,l,c,d,m,v,w,_,x,T){return[t,e,i,r,s,n,o,l,c,d,m,v,w,_,x,T]}const qbe=p6();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:qbe,clone:zbe,create:p6,fromValues:Ube},Symbol.toStringTag,{value:"Module"}));function Bbe(t){return t<=cB?new Array(t).fill(0):new Float64Array(t)}function bLe(t){return(Bce(t)?t.byteLength/8:t.length)<=cB?Array.from(t):new Float64Array(t)}function _Le(t,e,i){return Array.isArray(t)?t.slice(e,e+i):t.subarray(e,e+i)}function SLe(t){return[...t]}function xLe(t){const e=p6();for(let i=0;i<16;++i)e[i]=t[i];return e}function Lw(t=Zbe){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function f6(t,e,i,r,s,n,o=Lw()){return o[0]=t,o[1]=e,o[2]=i,o[3]=r,o[4]=s,o[5]=n,o}function TLe(t,e=Lw()){return Gbe(t,0,t.length/3,e)}function Gbe(t,e,i,r=Lw()){return KY(r,x4),Hbe(r,t,e,i),r}function $Le(t,e=Bbe(24)){const[i,r,s,n,o,l]=t;return e[0]=i,e[1]=r,e[2]=s,e[3]=i,e[4]=r,e[5]=l,e[6]=i,e[7]=o,e[8]=s,e[9]=i,e[10]=o,e[11]=l,e[12]=n,e[13]=r,e[14]=s,e[15]=n,e[16]=r,e[17]=l,e[18]=n,e[19]=o,e[20]=s,e[21]=n,e[22]=o,e[23]=l,e}function MLe(t,e){const i=isFinite(t[2])||isFinite(t[5]);return new Ye(i?{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],zmin:t[2],zmax:t[5],spatialReference:e}:{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],spatialReference:e})}function ELe(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[3]),t[4]=Math.max(t[4],e[4]),t[5]=Math.max(t[5],e[5])}function ALe(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[3]=Math.max(t[3],e[2]),t[4]=Math.max(t[4],e[3])}function OLe(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[0]),t[4]=Math.max(t[4],e[1]),t[5]=Math.max(t[5],e[2])}function Hbe(t,e,i=0,r=e.length/3){let s=t[0],n=t[1],o=t[2],l=t[3],c=t[4],d=t[5];for(let m=0;m<r;m++)s=Math.min(s,e[i+3*m]),n=Math.min(n,e[i+3*m+1]),o=Math.min(o,e[i+3*m+2]),l=Math.max(l,e[i+3*m]),c=Math.max(c,e[i+3*m+1]),d=Math.max(d,e[i+3*m+2]);t[0]=s,t[1]=n,t[2]=o,t[3]=l,t[4]=c,t[5]=d}function kLe(t,e,i){const r=e.length;let s=t[0],n=t[1],o=t[2],l=t[3],c=t[4],d=t[5];if(i)for(let m=0;m<r;m++){const v=e[m];s=Math.min(s,v[0]),n=Math.min(n,v[1]),o=Math.min(o,v[2]),l=Math.max(l,v[0]),c=Math.max(c,v[1]),d=Math.max(d,v[2])}else for(let m=0;m<r;m++){const v=e[m];s=Math.min(s,v[0]),n=Math.min(n,v[1]),l=Math.max(l,v[0]),c=Math.max(c,v[1])}t[0]=s,t[1]=n,t[2]=o,t[3]=l,t[4]=c,t[5]=d}function CLe(t){for(let e=0;e<6;e++)if(!isFinite(t[e]))return!1;return!0}function Vw(t){return t[0]>=t[3]?0:t[3]-t[0]}function Fw(t){return t[1]>=t[4]?0:t[4]-t[1]}function zw(t){return t[2]>=t[5]?0:t[5]-t[2]}function RLe(t){const e=Vw(t),i=zw(t),r=Fw(t);return Math.sqrt(e*e+i*i+r*r)}function ILe(t,e=[0,0,0]){return e[0]=t[0]+Vw(t)/2,e[1]=t[1]+Fw(t)/2,e[2]=t[2]+zw(t)/2,e}function PLe(t,e=[0,0,0]){return e[0]=Vw(t),e[1]=Fw(t),e[2]=zw(t),e}function jLe(t,e){return e[0]>=t[0]&&e[1]>=t[1]&&e[2]>=t[2]&&e[0]<=t[3]&&e[1]<=t[4]&&e[2]<=t[5]}function Wbe(t,e){return Math.max(e[0],t[0])<=Math.min(e[3],t[3])&&Math.max(e[1],t[1])<=Math.min(e[4],t[4])&&Math.max(e[2],t[2])<=Math.min(e[5],t[5])}function NLe(t,e){return e==null||Wbe(t,e)}function DLe(t,e,i,r,s=t){return s[0]=t[0]+e,s[1]=t[1]+i,s[2]=t[2]+r,s[3]=t[3]+e,s[4]=t[4]+i,s[5]=t[5]+r,s}function LLe(t,e,i=t){const r=t[0]+Vw(t)/2,s=t[1]+Fw(t)/2,n=t[2]+zw(t)/2;return i[0]=r+(t[0]-r)*e,i[1]=s+(t[1]-s)*e,i[2]=n+(t[2]-n)*e,i[3]=r+(t[3]-r)*e,i[4]=s+(t[4]-s)*e,i[5]=n+(t[5]-n)*e,i}function VLe(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function FLe(t,e,i=t){return i[0]=e[0],i[1]=e[1],i[2]=e[2],i!==t&&(i[3]=t[3],i[4]=t[4],i[5]=t[5]),i}function zLe(t,e,i=t){return i[3]=e[0],i[4]=e[1],i[5]=e[2],i!==t&&(i[0]=t[0],i[1]=t[1],i[2]=t[2]),t}function KY(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function ULe(t){return t?KY(t,x4):Lw(x4)}function qLe(t,e=Us()){return e[0]=t[0],e[1]=t[1],e[2]=t[3],e[3]=t[4],e}function BLe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=Number.NEGATIVE_INFINITY,t[3]=e[2],t[4]=e[3],t[5]=Number.POSITIVE_INFINITY,t}function GLe(t,e,i,r,s){return t[0]=e,t[1]=i,t[2]=Number.NEGATIVE_INFINITY,t[3]=r,t[4]=s,t[5]=Number.POSITIVE_INFINITY,t}function q7(t){return t.length===6}function HLe(t){return Vw(t)===0&&Fw(t)===0&&zw(t)===0}function WLe(t,e,i){if(t==null||e==null)return t===e;if(!q7(t)||!q7(e))return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}const x4=[1/0,1/0,1/0,-1/0,-1/0,-1/0],Zbe=[0,0,0,0,0,0];Lw();function ZLe(t,{isPrimitive:e,width:i,depth:r,height:s}){const n=e?10:1;if(i==null&&s==null&&r==null)return[n*t[0],n*t[1],n*t[2]];const o=_g(i,r,s);let l;for(let c=0;c<3;c++){const d=o[c];if(d!=null){l=d/t[c];break}}for(let c=0;c<3;c++)o[c]==null&&(o[c]=t[c]*l);return o}const Ybe=f6(-.5,-.5,-.5,.5,.5,.5),Jbe=f6(-.5,-.5,0,.5,.5,1),Kbe=f6(-.5,-.5,0,.5,.5,.5);function YLe(t){switch(t){case"sphere":case"cube":case"diamond":return Ybe;case"cylinder":case"cone":case"inverted-cone":return Jbe;case"tetrahedron":return Kbe;default:return}}const m6=["butt","square","round"],Xbe=[...m6,"none"],XY=["miter","bevel","round"];var T4;let ed=T4=class extends ae{constructor(t){super(t),this.color=new Ne([0,0,0,1]),this.size=uo(1),this.pattern=null,this.patternCap="butt"}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new T4(t)}};h([f(ih({colorRequiredOnWrite:!0}))],ed.prototype,"color",void 0),h([f({...za,json:{write:{isRequired:!0}}})],ed.prototype,"size",void 0),h([f(GY)],ed.prototype,"pattern",void 0),h([f({type:m6,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],ed.prototype,"patternCap",void 0),ed=T4=h([I("esri.symbols.support.Symbol3DOutline")],ed);var H2,Jm;let cs=(Jm=class extends ms{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new H2(e)}static fromSimpleFillSymbol(e){var s,n,o;const i=e.outline&&e.outline.style&&e.outline.style!=="solid"?new Ed({style:e.outline.style}):null,r={size:((s=e.outline)==null?void 0:s.width)??0,color:(((n=e.outline)==null?void 0:n.color)??r1).clone(),pattern:i};return i&&((o=e.outline)!=null&&o.cap)&&(r.patternCap=e.outline.cap),new H2({material:new s1({color:(e.color??Cbe).clone()}),pattern:e.style&&e.style!=="solid"?new _m({style:e.style}):null,outline:r})}},H2=Jm,Jm);h([ke({Fill:"fill"},{readOnly:!0})],cs.prototype,"type",void 0),h([f({type:s1,json:{write:!0}})],cs.prototype,"material",void 0),h([f(kbe)],cs.prototype,"pattern",void 0),h([f({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],cs.prototype,"castShadows",void 0),h([f({type:ed,json:{write:!0}})],cs.prototype,"outline",void 0),h([f(BY)],cs.prototype,"edges",void 0),cs=H2=h([I("esri.symbols.FillSymbol3DLayer")],cs);var $4;const Qbe=wr()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let td=$4=class extends ae{constructor(t){super(t)}readHref(t,e,i){return t?Mp(t,i):e.dataURI}writeHref(t,e,i,r){t&&($p(t)?e.dataURI=t:(e.href=ap(t,r),Gs(e.href)&&(e.href=Yo(e.href))))}clone(){return new $4({href:this.href,primitive:this.primitive})}equals(t){return t.primitive===this.primitive&&t.href===this.href}};h([f({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],td.prototype,"href",void 0),h([Ie("href")],td.prototype,"readHref",null),h([_e("href",{href:{type:String},dataURI:{type:String}})],td.prototype,"writeHref",null),h([ke(Qbe)],td.prototype,"primitive",void 0),td=$4=h([I("esri.symbols.support.IconSymbol3DLayerResource")],td);const JLe="circle";let W2=class extends rt(ae){constructor(e){super(e),this.mode="hidden"}equals(e){return this.mode===e.mode}};h([f({type:["adaptive","hidden","visible"],json:{write:{isRequired:!0}}})],W2.prototype,"mode",void 0),W2=h([I("esri.symbols.support.OccludedVisibility")],W2);const QY=W2;var M4;let Sm=M4=class extends $e{constructor(t){super(t),this.x=0,this.y=0}clone(){return new M4({x:this.x,y:this.y})}equals(t){return t.x===this.x&&t.y===this.y}};h([f({type:Number})],Sm.prototype,"x",void 0),h([f({type:Number})],Sm.prototype,"y",void 0),Sm=M4=h([I("esri.symbols.support.Symbol3DAnchorPosition2D")],Sm);var E4;let gv=E4=class extends ae{constructor(t){super(t),this.color=new Ne([0,0,0,1]),this.size=uo(1)}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size};return new E4(t)}equals(t){return t.size===this.size&&(this.color==null?t.color==null:this.color.equals(t.color))}};h([f(ih({colorRequiredOnWrite:!0}))],gv.prototype,"color",void 0),h([f({...za,json:{write:{isRequired:!0}}})],gv.prototype,"size",void 0),gv=E4=h([I("esri.symbols.support.Symbol3DIconOutline")],gv);var qf,Km;let yr=(Km=class extends ms{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0,this.occludedVisibility=null}clone(){return new qf({anchor:this.anchor,anchorPosition:G(this.anchorPosition),enabled:this.enabled,material:G(this.material),outline:G(this.outline),resource:G(this.resource),angle:this.angle,size:this.size,occludedVisibility:G(this.occludedVisibility)})}static fromSimpleMarkerSymbol(e){const i=e.color||r1,r=B7(e),s=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||r1).clone()}:null;return new qf({size:e.size,angle:e.angle,resource:{primitive:t_e(()=>se.getLogger(this.prototype),e.style)},material:{color:i},outline:s,anchor:r?"relative":void 0,anchorPosition:r})}static fromPictureMarkerSymbol(e){const i=!e.color||Rbe(e.color)?r1:e.color,r=B7(e);return new qf({size:e.width<=e.height?e.height:e.width,angle:e.angle,resource:{href:e.url},material:{color:i.clone()},anchor:r?"relative":void 0,anchorPosition:r})}static fromCIMSymbol(e){return new qf({resource:{href:FW({mediaType:"application/json",data:JSON.stringify(e.data)})}})}},qf=Km,Km);function B7(t){const e="width"in t?t.width:t.size,i="height"in t?t.height:t.size,r=G7(t.xoffset),s=G7(t.yoffset);return(r||s)&&e&&i?{x:-r/e,y:s/i}:null}function G7(t){return isFinite(t)?t:0}h([f({type:mn,json:{write:!0}})],yr.prototype,"material",void 0),h([f({type:td,json:{write:!0}})],yr.prototype,"resource",void 0),h([ke({Icon:"icon"},{readOnly:!0})],yr.prototype,"type",void 0),h([f({...za,json:{write:{isRequired:!0}}})],yr.prototype,"size",void 0),h([ke({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],yr.prototype,"anchor",void 0),h([f({type:Sm,json:{type:[Number],read:{reader:t=>new Sm({x:t[0],y:t[1]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],yr.prototype,"anchorPosition",void 0),h([f({type:gv,json:{write:!0}})],yr.prototype,"outline",void 0),h([f({type:Number,json:{write:!0,default:0}})],yr.prototype,"angle",void 0),h([f({type:QY})],yr.prototype,"occludedVisibility",void 0),yr=qf=h([I("esri.symbols.IconSymbol3DLayer")],yr);const e_e={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function t_e(t,e){return e_e[e]||(t().warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const i_e=["begin","end","begin-end"],eJ=["arrow","circle","square","diamond","cross","x"];let ql=class extends rt(ae){constructor(e){super(e),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(e){return e!=null&&e.placement===this.placement&&e.style===this.style&&(this.color==null&&e.color==null||this.color!=null&&e.color!=null&&this.color.toJSON()===e.color.toJSON())}};h([f({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],ql.prototype,"type",void 0),h([f({type:i_e,json:{default:"begin-end",write:!0}})],ql.prototype,"placement",void 0),h([f({type:eJ,json:{default:"arrow",write:!0}})],ql.prototype,"style",void 0),h([f({type:Ne,json:{type:[ot],default:null,write:!0}})],ql.prototype,"color",void 0),ql=h([I("esri.symbols.LineStyleMarker3D")],ql);var Z2,Xm;let us=(Xm=class extends ms{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=uo(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new Z2(e)}static fromSimpleLineSymbol(e){var r;const i={enabled:!0,size:e.width??uo(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new Ed({style:e.style}):null,material:new mn({color:(e.color||r1).clone()}),marker:e.marker?new ql({placement:e.marker.placement,style:e.marker.style,color:((r=e.marker.color)==null?void 0:r.clone())??null}):null};return new Z2(i)}},Z2=Xm,Xm);h([f({type:mn,json:{write:!0}})],us.prototype,"material",void 0),h([ke({Line:"line"},{readOnly:!0})],us.prototype,"type",void 0),h([f({type:XY,json:{write:!0,default:"miter"}})],us.prototype,"join",void 0),h([f({type:m6,json:{write:!0,default:"butt"}})],us.prototype,"cap",void 0),h([f({...za,json:{write:{isRequired:!0}}})],us.prototype,"size",void 0),h([f(GY)],us.prototype,"pattern",void 0),h([f({types:{key:"type",base:ql,typeMap:{style:ql}},json:{write:!0}})],us.prototype,"marker",void 0),us=Z2=h([I("esri.symbols.LineSymbol3DLayer")],us);var A4;const r_e=wr()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let vv=A4=class extends ae{clone(){return new A4({href:this.href,primitive:this.primitive})}};h([f({type:String,json:{read:wT,write:lp}})],vv.prototype,"href",void 0),h([ke(r_e)],vv.prototype,"primitive",void 0),vv=A4=h([I("esri.symbols.support.ObjectSymbol3DLayerResource")],vv);const QLe="sphere";var O4;let gd=O4=class extends $e{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new O4({x:this.x,y:this.y,z:this.z})}};h([f({type:Number})],gd.prototype,"x",void 0),h([f({type:Number})],gd.prototype,"y",void 0),h([f({type:Number})],gd.prototype,"z",void 0),gd=O4=h([I("esri.symbols.support.Symbol3DAnchorPosition3D")],gd);var k4,Qm;let mr=(Qm=class extends ms{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){var e,i,r;return new k4({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:(e=this.anchorPosition)==null?void 0:e.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:((i=this.material)==null?void 0:i.clone())??null,castShadows:this.castShadows,resource:(r=this.resource)==null?void 0:r.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}},k4=Qm,Qm);h([f({type:mn,json:{write:!0}})],mr.prototype,"material",void 0),h([f({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],mr.prototype,"castShadows",void 0),h([f({type:vv,json:{write:!0}})],mr.prototype,"resource",void 0),h([ke({Object:"object"},{readOnly:!0})],mr.prototype,"type",void 0),h([f({type:Number,json:{write:!0}})],mr.prototype,"width",void 0),h([f({type:Number,json:{write:!0}})],mr.prototype,"height",void 0),h([f({type:Number,json:{write:!0}})],mr.prototype,"depth",void 0),h([ke({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],mr.prototype,"anchor",void 0),h([f({type:gd,json:{type:[Number],read:{reader:t=>new gd({x:t[0],y:t[1],z:t[2]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y,t.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],mr.prototype,"anchorPosition",void 0),h([f({type:Number,json:{write:!0}})],mr.prototype,"heading",void 0),h([f({type:Number,json:{write:!0}})],mr.prototype,"tilt",void 0),h([f({type:Number,json:{write:!0}})],mr.prototype,"roll",void 0),h([f({readOnly:!0})],mr.prototype,"isPrimitive",null),mr=k4=h([I("esri.symbols.ObjectSymbol3DLayer")],mr);var C4,ey;let Er=(ey=class extends ms{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,i){return e??(i.height==null&&i.size!=null?i.size:void 0)}readHeight(e,i){return e??(i.width==null&&i.size!=null?i.size:void 0)}clone(){return new C4({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}},C4=ey,ey);h([f({type:mn,json:{write:!0}})],Er.prototype,"material",void 0),h([f({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Er.prototype,"castShadows",void 0),h([ke({Path:"path"},{readOnly:!0})],Er.prototype,"type",void 0),h([f({type:["circle","quad"],nonNullable:!0,json:{write:!0,default:"circle"}})],Er.prototype,"profile",void 0),h([f({type:XY,nonNullable:!0,json:{write:!0,default:"miter"}})],Er.prototype,"join",void 0),h([f({type:Xbe,nonNullable:!0,json:{write:!0,default:"butt"}})],Er.prototype,"cap",void 0),h([f({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],Er.prototype,"width",void 0),h([Ie("width",["width","size","height"])],Er.prototype,"readWidth",null),h([f({type:Number,json:{write:!0}})],Er.prototype,"height",void 0),h([Ie("height",["height","size","width"])],Er.prototype,"readHeight",null),h([f({type:["center","bottom","top"],nonNullable:!0,json:{write:!0,default:"center"}})],Er.prototype,"anchor",void 0),h([f({type:["heading","all"],nonNullable:!0,json:{write:!0,default:"all"}})],Er.prototype,"profileRotation",void 0),Er=C4=h([I("esri.symbols.PathSymbol3DLayer")],Er);const s_e=["none","underline","line-through"],n_e=["normal","italic","oblique"],o_e=["normal","lighter","bold","bolder"],tJ={type:Number,cast:t=>{const e=ds(t);return e===0?1:_n(e,.1,4)},nonNullable:!0},a_e=["left","right","center"],l_e=["baseline","top","middle","bottom"],iJ={type:a_e,nonNullable:!0},rJ={type:l_e,nonNullable:!0},e7e=8;var R4;let Yn=R4=class extends ae{constructor(t){super(t),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(t){return ut(t)}clone(){return new R4({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};h([f({type:s_e,json:{default:"none",write:!0}})],Yn.prototype,"decoration",void 0),h([f({type:String,json:{write:!0}})],Yn.prototype,"family",void 0),h([f({type:Number,json:{write:{overridePolicy:(t,e,i)=>({enabled:!i||!i.textSymbol3D})}}})],Yn.prototype,"size",void 0),h([Ot("size")],Yn.prototype,"castSize",null),h([f({type:n_e,json:{default:"normal",write:!0}})],Yn.prototype,"style",void 0),h([f({type:o_e,json:{default:"normal",write:!0}})],Yn.prototype,"weight",void 0),Yn=R4=h([I("esri.symbols.Font")],Yn);var I4;let xm=I4=class extends ae{constructor(){super(...arguments),this.color=new Ne([0,0,0,1]),this.size=0}clone(){const t={color:G(this.color),size:this.size};return new I4(t)}};h([f(ih())],xm.prototype,"color",void 0),h([f(za)],xm.prototype,"size",void 0),xm=I4=h([I("esri.symbols.support.Symbol3DHalo")],xm);let n1=class extends rt(ae){constructor(e){super(e),this.color=null}};h([f(ih())],n1.prototype,"color",void 0),n1=h([I("esri.symbols.support.Symbol3DTextBackground")],n1);var Y2,ty;let qi=(ty=class extends ms{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline",this.occludedVisibility=null}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,i,r,s){const n={...s,textSymbol3D:!0};i.font=e.write({},n),delete i.font.size}get size(){var e;return this._userSize!=null?this._userSize:((e=this.font)==null?void 0:e.size)!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new Y2({enabled:this.enabled,font:G(this.font),halo:G(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:G(this.background),occludedVisibility:G(this.occludedVisibility)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new Y2({font:e.font!=null?e.font.clone():new Yn,halo:u_e(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new mn({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new n1({color:e.backgroundColor.clone()}):null})}},Y2=ty,ty);function u_e(t,e){return t&&e!=null&&e>0?new xm({color:G(t),size:e}):null}h([f({type:Yn,json:{write:!0}})],qi.prototype,"font",null),h([_e("font")],qi.prototype,"writeFont",null),h([f({type:xm,json:{write:!0}})],qi.prototype,"halo",void 0),h([f({...iJ,json:{default:"center",write:!0}})],qi.prototype,"horizontalAlignment",void 0),h([f({...tJ,json:{default:1,write:!0}})],qi.prototype,"lineHeight",void 0),h([f({type:mn,json:{write:!0}})],qi.prototype,"material",void 0),h([f({type:n1,json:{write:!0}})],qi.prototype,"background",void 0),h([f(za)],qi.prototype,"size",null),h([f({type:String,json:{write:!0}})],qi.prototype,"text",void 0),h([ke({Text:"text"},{readOnly:!0})],qi.prototype,"type",void 0),h([f({...rJ,json:{default:"baseline",write:!0}})],qi.prototype,"verticalAlignment",void 0),h([f({type:QY})],qi.prototype,"occludedVisibility",void 0),qi=Y2=h([I("esri.symbols.TextSymbol3DLayer")],qi);var P4,iy;let jl=(iy=class extends ms{constructor(e){super(e),this.color=j4.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new P4({color:this.color.clone(),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}},P4=iy,iy);h([f({type:Ne,nonNullable:!0,json:{type:[ot],write:(t,e,i)=>e[i]=t.toArray(1),default:()=>j4.clone(),defaultEquals:t=>t.toCss(!0)===j4.toCss(!0)}})],jl.prototype,"color",void 0),h([ke({Water:"water"},{readOnly:!0})],jl.prototype,"type",void 0),h([f({type:["small","medium","large"],json:{write:!0,default:"medium"}})],jl.prototype,"waterbodySize",void 0),h([f({type:Number,json:{write:!0,default:null}})],jl.prototype,"waveDirection",void 0),h([f({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],jl.prototype,"waveStrength",void 0),jl=P4=h([I("esri.symbols.WaterSymbol3DLayer")],jl);const j4=new Ne([0,119,190]);var N4;let Bl=N4=class extends $e{constructor(t){super(t),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new N4({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};h([f({type:String})],Bl.prototype,"name",void 0),h([f({type:String})],Bl.prototype,"styleUrl",void 0),h([f({type:String})],Bl.prototype,"styleName",void 0),h([f({type:le})],Bl.prototype,"portal",void 0),Bl=N4=h([I("esri.symbols.support.StyleOrigin")],Bl);var D4;let o1=D4=class extends $e{constructor(){super(...arguments),this.url=""}clone(){return new D4({url:this.url})}};h([f({type:String})],o1.prototype,"url",void 0),o1=D4=h([I("esri.symbols.support.Thumbnail")],o1);const sJ={icon:yr,object:mr,line:us,path:Er,fill:cs,extrude:Pl,text:qi,water:jl},c_e=ge.ofType({base:ms,key:"type",typeMap:sJ,errorContext:"symbol-layer"});let Ds=class extends Mi{constructor(e){super(e),this.styleOrigin=null,this.thumbnail=null,this.type=null;const i=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,r=i==null?void 0:i.type,s=r||ge;this._set("symbolLayers",new s)}get color(){return null}set color(e){this.constructed&&se.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(e){Na(e,this._get("symbolLayers"))}readStyleOrigin(e,i,r){if(e.styleUrl&&e.name){const s=Mp(e.styleUrl,r);return new Bl({styleUrl:s,name:e.name})}if(e.styleName&&e.name)return new Bl({portal:(r==null?void 0:r.portal)||le.getDefault(),styleName:e.styleName,name:e.name});r!=null&&r.messages&&r.messages.push(new lo("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:r,definition:e}))}writeStyleOrigin(e,i,r,s){if(e.styleUrl&&e.name){let n=ap(e.styleUrl,s);Gs(n)&&(n=Yo(n)),i.styleOrigin={styleUrl:n,name:e.name}}else e.styleName&&e.name&&(e.portal&&(s!=null&&s.portal)&&!VW(e.portal.restUrl,s.portal.restUrl)?s!=null&&s.messages&&s.messages.push(new lo("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):i.styleOrigin={styleName:e.styleName,name:e.name})}normalizeCtorArgs(e){return e instanceof ms||e&&sJ[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}};h([f({json:{read:!1,write:!1}})],Ds.prototype,"color",null),h([f({type:c_e,nonNullable:!0,json:{write:!0}}),Ot(zY)],Ds.prototype,"symbolLayers",null),h([f({type:Bl})],Ds.prototype,"styleOrigin",void 0),h([Ie("styleOrigin")],Ds.prototype,"readStyleOrigin",null),h([_e("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],Ds.prototype,"writeStyleOrigin",null),h([f({type:o1,json:{read:!1}})],Ds.prototype,"thumbnail",void 0),h([f({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],Ds.prototype,"type",void 0),Ds=h([I("esri.symbols.Symbol3D")],Ds);let Tm=class extends ae{constructor(e){super(e),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};h([f({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],Tm.prototype,"type",void 0),h([f({readOnly:!0})],Tm.prototype,"visible",void 0),Tm=h([I("esri.symbols.callouts.Callout3D")],Tm);var L4;let J2=L4=class extends ae{constructor(t){super(t),this.color=new Ne("white")}clone(){return new L4({color:G(this.color)})}};h([f(ih({colorRequiredOnWrite:!0}))],J2.prototype,"color",void 0),J2=L4=h([I("esri.symbols.callouts.LineCallout3DBorder")],J2);const h_e=J2;var V4;let Nl=V4=class extends Tm{constructor(t){super(t),this.type="line",this.color=new Ne([0,0,0,1]),this.size=uo(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new V4({color:G(this.color),size:this.size,border:G(this.border)})}};h([ke({line:"line"})],Nl.prototype,"type",void 0),h([f(ih({colorRequiredOnWrite:!0}))],Nl.prototype,"color",void 0),h([f({...za,json:{write:{isRequired:!0}}})],Nl.prototype,"size",void 0),h([f({type:h_e,json:{write:!0}})],Nl.prototype,"border",void 0),h([f({readOnly:!0})],Nl.prototype,"visible",null),Nl=V4=h([I("esri.symbols.callouts.LineCallout3D")],Nl);function y6(t){if(!t)return!1;const e=t.verticalOffset;return!(!e||e.screenLength<=0||e.maxWorldLength!=null&&e.maxWorldLength<=0)}function nJ(t){if(!t||!t.supportsCallout||!t.supportsCallout())return!1;const e=t.callout;return!!(e!=null&&e.visible)&&!!y6(t)}function s7e(t){return t.type==="point-3d"||t.type==="label-3d"}function n7e(t){return t.horizontalAlignment==="center"}const oJ={types:{key:"type",base:Tm,typeMap:{line:Nl}},json:{write:!0}};var F4;let vc=F4=class extends ae{constructor(t){super(t),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new F4({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};h([f({...za,json:{write:{isRequired:!0}}})],vc.prototype,"screenLength",void 0),h([f({type:Number,nonNullable:!0,json:{write:!0,default:0}})],vc.prototype,"minWorldLength",void 0),h([f({type:Number,json:{write:!0}})],vc.prototype,"maxWorldLength",void 0),vc=F4=h([I("esri.symbols.support.Symbol3DVerticalOffset")],vc);var K2;const aJ=ge.ofType({base:null,key:"type",typeMap:{text:qi}});let Lo=K2=class extends Ds{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new aJ,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return nJ(this)}hasVisibleVerticalOffset(){return y6(this)}clone(){return new K2({styleOrigin:G(this.styleOrigin),symbolLayers:G(this.symbolLayers),thumbnail:G(this.thumbnail),callout:G(this.callout),verticalOffset:G(this.verticalOffset)})}static fromTextSymbol(t){return new K2({symbolLayers:new ge([qi.fromTextSymbol(t)])})}};h([f({type:vc,json:{write:!0}})],Lo.prototype,"verticalOffset",void 0),h([f(oJ)],Lo.prototype,"callout",void 0),h([f({json:{read:!1,write:!1}})],Lo.prototype,"styleOrigin",void 0),h([f({type:aJ})],Lo.prototype,"symbolLayers",void 0),h([ke({LabelSymbol3D:"label-3d"},{readOnly:!0})],Lo.prototype,"type",void 0),Lo=K2=h([I("esri.symbols.LabelSymbol3D")],Lo);var X2;const lJ=ge.ofType({base:null,key:"type",typeMap:{line:us,path:Er}}),d_e=ge.ofType({base:null,key:"type",typeMap:{line:us,path:Er}});let Zo=X2=class extends Ds{constructor(t){super(t),this.symbolLayers=new lJ,this.type="line-3d"}clone(){return new X2({styleOrigin:G(this.styleOrigin),symbolLayers:G(this.symbolLayers),thumbnail:G(this.thumbnail)})}static fromSimpleLineSymbol(t){return new X2({symbolLayers:new ge([us.fromSimpleLineSymbol(t)])})}};h([f({type:lJ,json:{type:d_e}})],Zo.prototype,"symbolLayers",void 0),h([ke({LineSymbol3D:"line-3d"},{readOnly:!0})],Zo.prototype,"type",void 0),Zo=X2=h([I("esri.symbols.LineSymbol3D")],Zo);var Q2;const uJ=ge.ofType({base:null,key:"type",typeMap:{fill:cs}});let Xl=Q2=class extends Ds{constructor(t){super(t),this.symbolLayers=new uJ,this.type="mesh-3d"}clone(){return new Q2({styleOrigin:G(this.styleOrigin),symbolLayers:G(this.symbolLayers),thumbnail:G(this.thumbnail)})}static fromSimpleFillSymbol(t){return new Q2({symbolLayers:new ge([cs.fromSimpleFillSymbol(t)])})}};h([f({type:uJ})],Xl.prototype,"symbolLayers",void 0),h([ke({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],Xl.prototype,"type",void 0),Xl=Q2=h([I("esri.symbols.MeshSymbol3D")],Xl);let wv=class extends Mi{constructor(e){super(e),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};h([ke({esriSLS:"simple-line"},{readOnly:!0})],wv.prototype,"type",void 0),h([f({type:Number,cast:ut,json:{write:!0}})],wv.prototype,"width",void 0),wv=h([I("esri.symbols.LineSymbol")],wv);var z4;let ma=z4=class extends ae{constructor(t){super(t),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(t,e,i,r){e[i]=(r==null?void 0:r.origin)==="web-map"?"arrow":t}set color(t){this._set("color",t)}readColor(t){return(t==null?void 0:t[0])!=null?[t[0],t[1],t[2],t[3]/255]:t}writeColor(t,e,i,r){(r==null?void 0:r.origin)==="web-map"||(e[i]=t)}clone(){return new z4({color:G(this.color),placement:this.placement,style:this.style})}hash(){var t;return`${this.placement}.${(t=this.color)==null?void 0:t.hash()}.${this.style}`}};h([f({type:["begin","end","begin-end"],json:{write:!0}})],ma.prototype,"placement",void 0),h([ke({"line-marker":"line-marker"},{readOnly:!0}),f({json:{origins:{"web-map":{write:!1}}}})],ma.prototype,"type",void 0),h([f({type:eJ})],ma.prototype,"style",void 0),h([_e("style")],ma.prototype,"writeStyle",null),h([f({type:Ne,value:null,json:{write:{allowNull:!0}}})],ma.prototype,"color",null),h([Ie("color")],ma.prototype,"readColor",null),h([_e("color")],ma.prototype,"writeColor",null),ma=z4=h([I("esri.symbols.LineSymbolMarker")],ma);const p_e=ma;var U4;const x5=new ct({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let Pi=U4=class extends wv{constructor(...t){super(...t),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(t,e,i,r,s,n){if(t&&typeof t!="string")return t;const o={};return t!=null&&(o.style=t),e!=null&&(o.color=e),i!=null&&(o.width=ut(i)),r!=null&&(o.cap=r),s!=null&&(o.join=s),n!=null&&(o.miterLimit=ut(n)),o}clone(){var t;return new U4({color:G(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:(t=this.marker)==null?void 0:t.clone()})}hash(){var t,e;return`${super.hash()}.${(t=this.color)==null?void 0:t.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${(e=this.marker)==null?void 0:e.hash()}`}};h([ke({esriSLS:"simple-line"},{readOnly:!0})],Pi.prototype,"type",void 0),h([f({type:x5.apiValues,json:{read:x5.read,write:x5.write}})],Pi.prototype,"style",void 0),h([f({type:["butt","round","square"],json:{write:{overridePolicy:(t,e,i)=>({enabled:t!=="round"&&(i==null?void 0:i.origin)==null})}}})],Pi.prototype,"cap",void 0),h([f({type:["miter","round","bevel"],json:{write:{overridePolicy:(t,e,i)=>({enabled:t!=="round"&&(i==null?void 0:i.origin)==null})}}})],Pi.prototype,"join",void 0),h([f({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":p_e}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],Pi.prototype,"marker",void 0),h([f({type:Number,json:{read:!1,write:!1}})],Pi.prototype,"miterLimit",void 0),Pi=U4=h([I("esri.symbols.SimpleLineSymbol")],Pi);let $m=class extends Mi{constructor(e){super(e),this.outline=null,this.type=null}hash(){var e;return`${this.type}.${(e=this.outline)==null?void 0:e.hash()}`}};h([f({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Pi}},json:{default:null,write:!0}})],$m.prototype,"outline",void 0),h([f({type:["simple-fill","picture-fill"],readOnly:!0})],$m.prototype,"type",void 0),$m=h([I("esri.symbols.FillSymbol")],$m);function f_e(t,e,i){return e.imageData?FW({mediaType:e.contentType||"image/png",isBase64:!0,data:e.imageData}):cJ(e.url,i)}function cJ(t,e){if(!Gs(t)){const i=y_e(e);if(i)return Cw(i,"images",t)}return Mp(t,e)}function m_e(t,e,i,r){if($p(t)){const s=Dy(t);if(!s)return;e.contentType=s.mediaType,e.imageData=s.data,i&&i.imageData===e.imageData&&i.url&&lp(i.url,e,"url",r)}else lp(t,e,"url",r)}const hJ={json:{read:{source:["imageData","url"],reader:f_e},write:{writer(t,e,i,r){m_e(t,e,this.source,r)}}}},dJ={readOnly:!0,json:{read:{source:["imageData","url"],reader(t,e,i){const r={};return e.imageData&&(r.imageData=e.imageData),e.contentType&&(r.contentType=e.contentType),e.url&&(r.url=cJ(e.url,i)),r}}}};function y_e(t){var s,n;if(!t)return null;const{origin:e,layer:i}=t;if(e!=="service"&&e!=="portal-item")return null;const r=i==null?void 0:i.type;return r==="feature"||r==="stream"?(s=i.parsedUrl)==null?void 0:s.path:r==="map-image"||r==="tile"?(n=t.url)==null?void 0:n.path:null}var q4;let Is=q4=class extends $m{constructor(...t){super(...t),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(t,e,i,r){if(t&&typeof t!="string"&&t.imageData==null)return t;const s={};return t&&(s.url=t),e&&(s.outline=e),i!=null&&(s.width=ut(i)),r!=null&&(s.height=ut(r)),s}clone(){const t=new q4({color:G(this.color),height:this.height,outline:G(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return t._set("source",G(this.source)),t}hash(){var t;return`${super.hash()}.${(t=this.color)==null?void 0:t.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};h([ke({esriPFS:"picture-fill"},{readOnly:!0})],Is.prototype,"type",void 0),h([f(hJ)],Is.prototype,"url",void 0),h([f({type:Number,json:{write:!0}})],Is.prototype,"xscale",void 0),h([f({type:Number,json:{write:!0}})],Is.prototype,"yscale",void 0),h([f({type:Number,cast:ut,json:{write:!0}})],Is.prototype,"width",void 0),h([f({type:Number,cast:ut,json:{write:!0}})],Is.prototype,"height",void 0),h([f({type:Number,cast:ut,json:{write:!0}})],Is.prototype,"xoffset",void 0),h([f({type:Number,cast:ut,json:{write:!0}})],Is.prototype,"yoffset",void 0),h([f(dJ)],Is.prototype,"source",void 0),Is=q4=h([I("esri.symbols.PictureFillSymbol")],Is);let Dl=class extends Mi{constructor(e){super(e),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};h([f({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],Dl.prototype,"angle",void 0),h([f({type:["simple-marker","picture-marker"],readOnly:!0})],Dl.prototype,"type",void 0),h([f({type:Number,cast:ut,json:{write:!0}})],Dl.prototype,"xoffset",void 0),h([f({type:Number,cast:ut,json:{write:!0}})],Dl.prototype,"yoffset",void 0),h([f({cast:t=>t==="auto"?t:ds(ut(t)),json:{write:!0}})],Dl.prototype,"size",void 0),Dl=h([I("esri.symbols.MarkerSymbol")],Dl);var B4;let ls=B4=class extends Dl{constructor(...t){super(...t),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(t,e,i){if(t&&typeof t!="string"&&t.imageData==null)return t;const r={};return t&&(r.url=t),e!=null&&(r.width=ut(e)),i!=null&&(r.height=ut(i)),r}readHeight(t,e){return e.size||t}readWidth(t,e){return e.size||t}clone(){const t=new B4({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return t._set("source",G(this.source)),t}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};h([f({json:{write:!1}})],ls.prototype,"color",void 0),h([ke({esriPMS:"picture-marker"},{readOnly:!0})],ls.prototype,"type",void 0),h([f(hJ)],ls.prototype,"url",void 0),h([f(dJ)],ls.prototype,"source",void 0),h([f({type:Number,cast:ut,json:{write:!0}})],ls.prototype,"height",void 0),h([Ie("height",["height","size"])],ls.prototype,"readHeight",null),h([f({type:Number,cast:ut,json:{write:!0}})],ls.prototype,"width",void 0),h([f({json:{write:!1}})],ls.prototype,"size",void 0),ls=B4=h([I("esri.symbols.PictureMarkerSymbol")],ls);var id;const pJ=ge.ofType({base:null,key:"type",typeMap:{icon:yr,object:mr,text:qi}});let ps=id=class extends Ds{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.symbolLayers=new pJ,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const t of this.symbolLayers.items)switch(t.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return nJ(this)}hasVisibleVerticalOffset(){return y6(this)}clone(){return new id({verticalOffset:G(this.verticalOffset),callout:G(this.callout),styleOrigin:G(this.styleOrigin),symbolLayers:G(this.symbolLayers),thumbnail:G(this.thumbnail)})}static fromSimpleMarkerSymbol(t){return new id({symbolLayers:new ge([yr.fromSimpleMarkerSymbol(t)])})}static fromPictureMarkerSymbol(t){return new id({symbolLayers:new ge([yr.fromPictureMarkerSymbol(t)])})}static fromCIMSymbol(t){var r,s;if(((s=(r=t.data)==null?void 0:r.symbol)==null?void 0:s.type)!=="CIMPointSymbol")return null;const i=t.data.symbol;return new id(i!=null&&i.callout?{symbolLayers:new ge([yr.fromCIMSymbol(t)]),callout:new Nl({size:.5,color:new Ne([0,0,0])}),verticalOffset:new vc({screenLength:40})}:{symbolLayers:new ge([yr.fromCIMSymbol(t)])})}static fromTextSymbol(t){return new id({symbolLayers:new ge([qi.fromTextSymbol(t)])})}};h([f({type:vc,json:{write:!0}})],ps.prototype,"verticalOffset",void 0),h([f(oJ)],ps.prototype,"callout",void 0),h([f({type:pJ,json:{origins:{"web-scene":{write:!0}}}})],ps.prototype,"symbolLayers",void 0),h([ke({PointSymbol3D:"point-3d"},{readOnly:!0})],ps.prototype,"type",void 0),ps=id=h([I("esri.symbols.PointSymbol3D")],ps);var bv;const fJ=ge.ofType({base:null,key:"type",typeMap:{extrude:Pl,fill:cs,icon:yr,line:us,object:mr,text:qi,water:jl}});let no=bv=class extends Ds{constructor(t){super(t),this.symbolLayers=new fJ,this.type="polygon-3d"}initialize(){const t=e=>{e.type==="line"&&Uc(se.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),e.type==="text"&&Uc(se.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const e of this.symbolLayers)t(e);this.addHandles(mp(()=>this.symbolLayers,"after-add",({item:e})=>t(e),Fa))}clone(){return new bv({styleOrigin:G(this.styleOrigin),symbolLayers:G(this.symbolLayers),thumbnail:G(this.thumbnail)})}static fromJSON(t){var i;const e=new bv;if(e.read(t),e.symbolLayers.length===2&&e.symbolLayers.at(0).type==="fill"&&e.symbolLayers.at(1).type==="line"){const r=e.symbolLayers.at(0),s=e.symbolLayers.at(1);!s.enabled||(i=t.symbolLayers)!=null&&i[1]&&t.symbolLayers[1].enable===!1||(r.outline={size:s.size,color:s.material!=null?s.material.color:null}),e.symbolLayers.removeAt(1)}return e}static fromSimpleFillSymbol(t){return new bv({symbolLayers:new ge([cs.fromSimpleFillSymbol(t)])})}};h([f({type:fJ,json:{write:!0}})],no.prototype,"symbolLayers",void 0),h([ke({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],no.prototype,"type",void 0),no=bv=h([I("esri.symbols.PolygonSymbol3D")],no);var G4;const T5=new ct({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let pn=G4=class extends $m{constructor(...t){super(...t),this.color=new Ne([0,0,0,.25]),this.outline=new Pi,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(t,e,i){if(t&&typeof t!="string")return t;const r={};return t&&(r.style=t),e&&(r.outline=e),i&&(r.color=i),r}clone(){return new G4({color:G(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};h([f()],pn.prototype,"color",void 0),h([f()],pn.prototype,"outline",void 0),h([ke({esriSFS:"simple-fill"},{readOnly:!0})],pn.prototype,"type",void 0),h([f({type:T5.apiValues,json:{read:T5.read,write:T5.write}})],pn.prototype,"style",void 0),pn=G4=h([I("esri.symbols.SimpleFillSymbol")],pn);var H4;const $5=new ct({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let ir=H4=class extends Dl{constructor(...t){super(...t),this.color=new Ne([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Pi}normalizeCtorArgs(t,e,i,r){if(t&&typeof t!="string")return t;const s={};return t&&(s.style=t),e!=null&&(s.size=ut(e)),i&&(s.outline=i),r&&(s.color=r),s}writeColor(t,e){t&&this.style!=="x"&&this.style!=="cross"&&(e.color=t.toJSON()),t===null&&(e.color=null)}set path(t){this.style="path",this._set("path",t)}clone(){return new H4({angle:this.angle,color:G(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var t;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(t=this.outline)==null?void 0:t.hash()}`}};h([f()],ir.prototype,"color",void 0),h([_e("color")],ir.prototype,"writeColor",null),h([ke({esriSMS:"simple-marker"},{readOnly:!0})],ir.prototype,"type",void 0),h([f()],ir.prototype,"size",void 0),h([f({type:$5.apiValues,json:{read:$5.read,write:$5.write}})],ir.prototype,"style",void 0),h([f({type:String,json:{write:!0}})],ir.prototype,"path",null),h([f({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Pi}},json:{default:null,write:!0}})],ir.prototype,"outline",void 0),ir=H4=h([I("esri.symbols.SimpleMarkerSymbol")],ir);var W4;let Et=W4=class extends Mi{constructor(...t){super(...t),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new Yn,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(t,e,i){if(t&&typeof t!="string")return t;const r={};return t&&(r.text=t),e&&(r.font=e),i&&(r.color=i),r}writeLineWidth(t,e,i,r){r&&typeof r!="string"?r.origin:e[i]=t}castLineWidth(t){return ut(t)}writeLineHeight(t,e,i,r){r&&typeof r!="string"?r.origin:e[i]=t}clone(){return new W4({angle:this.angle,backgroundColor:G(this.backgroundColor),borderLineColor:G(this.borderLineColor),borderLineSize:this.borderLineSize,color:G(this.color),font:this.font&&this.font.clone(),haloColor:G(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var t,e,i;return`${(t=this.backgroundColor)==null?void 0:t.hash()}.${this.borderLineColor}.${this.borderLineSize}.${(e=this.color)==null?void 0:e.hash()}.${this.font&&this.font.hash()}.${(i=this.haloColor)==null?void 0:i.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};h([f({type:Ne,json:{write:!0}})],Et.prototype,"backgroundColor",void 0),h([f({type:Ne,json:{write:!0}})],Et.prototype,"borderLineColor",void 0),h([f({type:Number,json:{write:!0},cast:ut})],Et.prototype,"borderLineSize",void 0),h([f({type:Yn,json:{write:!0}})],Et.prototype,"font",void 0),h([f({...iJ,json:{write:!0}})],Et.prototype,"horizontalAlignment",void 0),h([f({type:Boolean,json:{write:!0}})],Et.prototype,"kerning",void 0),h([f({type:Ne,json:{write:!0}})],Et.prototype,"haloColor",void 0),h([f({type:Number,cast:ut,json:{write:!0}})],Et.prototype,"haloSize",void 0),h([f({type:Boolean,json:{write:!0}})],Et.prototype,"rightToLeft",void 0),h([f({type:Boolean,json:{write:!0}})],Et.prototype,"rotated",void 0),h([f({type:String,json:{write:!0}})],Et.prototype,"text",void 0),h([ke({esriTS:"text"},{readOnly:!0})],Et.prototype,"type",void 0),h([f({...rJ,json:{write:!0}})],Et.prototype,"verticalAlignment",void 0),h([f({type:Number,cast:ut,json:{write:!0}})],Et.prototype,"xoffset",void 0),h([f({type:Number,cast:ut,json:{write:!0}})],Et.prototype,"yoffset",void 0),h([f({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],Et.prototype,"angle",void 0),h([f({type:Number,json:{write:!0}})],Et.prototype,"width",void 0),h([f({type:Number})],Et.prototype,"lineWidth",void 0),h([_e("lineWidth")],Et.prototype,"writeLineWidth",null),h([Ot("lineWidth")],Et.prototype,"castLineWidth",null),h([f(tJ)],Et.prototype,"lineHeight",void 0),h([_e("lineHeight")],Et.prototype,"writeLineHeight",null),Et=W4=h([I("esri.symbols.TextSymbol")],Et);var Z4;let Or=Z4=class extends Mi{constructor(t){super(t),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const t=this.portal!=null?this.portal:le.getDefault(),e=t.user?t.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${e}:${t.url}`}read(t,e){this.portal=e==null?void 0:e.portal,super.read(t,e)}clone(){return new Z4({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(t){return this._fetchSymbol(t)}async fetchCIMSymbol(t){tB(se.getLogger(this),"WebStyleSymbol.fetchCIMSymbol is deprecated in favour of WebStyleSymbol.fetchSymbol which now supports both web and cim symbology",{version:"4.33",replacement:"WebStyleSymbol.fetchSymbol",see:"https://arcg.is/0CXPTr#fetchSymbol",warnOnce:!0});const e=await this._fetchSymbol({...t,acceptedFormats:["cim"]});if((e==null?void 0:e.type)!=="cim")throw new B("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return e}async _fetchSymbol(t){const e=t!=null?t.cache:null,i=e?this._fetchCacheKey:null;if(e!=null){const o=i&&e.get(i);if(o)return o.clone()}const{resolveWebStyleSymbol:r}=await re(()=>import("./webStyleSymbolUtils-BhThXqGJ.js"),__vite__mapDeps([177,178]));Gt(t);const s=r(this,{portal:this.portal},t);s.catch(o=>{se.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",o)});const n=await s;return e!=null&&e.set(i,n.clone()),n}};h([f({json:{write:!1}})],Or.prototype,"color",void 0),h([f({type:String,json:{write:!0}})],Or.prototype,"styleName",void 0),h([f({type:le,json:{write:!1}})],Or.prototype,"portal",void 0),h([f({type:String,json:{read:wT,write:lp}})],Or.prototype,"styleUrl",void 0),h([f({type:o1,json:{read:!1}})],Or.prototype,"thumbnail",void 0),h([f({type:String,json:{write:!0}})],Or.prototype,"name",void 0),h([ke({styleSymbolReference:"web-style"},{readOnly:!0})],Or.prototype,"type",void 0),h([f()],Or.prototype,"_fetchCacheKey",null),Or=Z4=h([I("esri.symbols.WebStyleSymbol")],Or);function u7e(t){if(!t)return!1;switch(t.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function mJ(t){switch(t==null?void 0:t.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const Ad={base:Mi,key:"type",typeMap:{"simple-fill":pn,"picture-fill":Is,"picture-marker":ls,"simple-line":Pi,"simple-marker":ir,text:Et,"label-3d":Lo,"line-3d":Zo,"mesh-3d":Xl,"point-3d":ps,"polygon-3d":no,"web-style":Or,cim:Hr},errorContext:"symbol"},c7e={base:Mi,key:"type",typeMap:{"picture-marker":ls,"simple-marker":ir,"point-3d":ps,cim:Hr},errorContext:"symbol"},h7e={base:Mi,key:"type",typeMap:{"simple-line":Pi,"line-3d":Zo,cim:Hr},errorContext:"symbol"},d7e={base:Mi,key:"type",typeMap:{"simple-fill":pn,"picture-fill":Is,"polygon-3d":no,cim:Hr},errorContext:"symbol"},g_e={base:Mi,key:"type",typeMap:{"picture-marker":ls,"simple-marker":ir,text:Et,"web-style":Or,cim:Hr},errorContext:"symbol"},v_e=cg({types:Ad}),yJ={base:Mi,key:"type",typeMap:{"simple-fill":pn,"picture-fill":Is,"picture-marker":ls,"simple-line":Pi,"simple-marker":ir,text:Et,"line-3d":Zo,"mesh-3d":Xl,"point-3d":ps,"polygon-3d":no,"web-style":Or,cim:Hr},errorContext:"symbol"},w_e={base:Mi,key:"type",typeMap:{text:Et,"label-3d":Lo},errorContext:"symbol"},H7={base:Mi,key:"type",typeMap:{"line-3d":Zo,"mesh-3d":Xl,"point-3d":ps,"polygon-3d":no,"web-style":Or,cim:Hr},errorContext:"symbol"},b_e={base:Mi,key:"type",typeMap:{"label-3d":Lo},errorContext:"symbol"},gJ=Bc(Ad);var Y4;function __e(t){if(!t)return null;const e={};for(const i in t){const r=Jc(t[i]);r&&(e[i]=r)}return Object.keys(e).length!==0?e:null}function S_e(t){if(t==null)return null;const e={};for(const i in t){const r=t[i];r&&(e[i]=r.toJSON())}return Object.keys(e).length!==0?e:null}var ry;let er=(ry=class extends rt(ae){constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:y2(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&Pce(se.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const i=this._get("aggregateGeometries");JSON.stringify(i)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const i=this._get("attributes");i!==e&&(this._set("attributes",e),this._notifyLayer("attributes",i,e))}set geometry(e){const i=this._get("geometry");i!==e&&(this._set("geometry",e),(e==null?void 0:e.type)!=="mesh"&&this._notifyLayer("geometry",i,e))}set popupTemplate(e){const i=this._get("popupTemplate");i!==e&&(this._set("popupTemplate",e),this._notifyLayer("popupTemplate",i,e))}set symbol(e){const i=this._get("symbol");i!==e&&(this._set("symbol",e),this._notifyLayer("symbol",i,e))}get version(){return this._version}set visible(e){const i=this._get("visible");i!==e&&(this._set("visible",e),this._notifyLayer("visible",i,e))}cloneShallow(){return new Y4({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const i=pwe(this.origin);if(i)return i.popupTemplate??(e?i.defaultPopupTemplate:null)??null;const r=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const s of[r,this.sourceLayer,this.layer])if(s&&typeof s=="object"){if("popupTemplate"in s&&s.popupTemplate)return s.popupTemplate;if(e&&"defaultPopupTemplate"in s&&s.defaultPopupTemplate!=null)return s.defaultPopupTemplate}return null}getAttribute(e){var i;return(i=this.attributes)==null?void 0:i[e]}setAttribute(e,i){if(this.attributes){const r=this.getAttribute(e);this.attributes[e]=i,this._notifyLayer("attributes",r,i,e)}else this.attributes={[e]:i}}getObjectId(){const e=g7(this.origin);if(e)return V7(this,e);const i=this.sourceLayer??this.layer;return i?V7(this,i):null}getGlobalId(){const e=g7(this.origin);if(e!=null&&e.globalIdField)return this.getAttribute(e.globalIdField);const i=this.sourceLayer??this.layer;return i&&"globalIdField"in i&&i.globalIdField?this.getAttribute(i.globalIdField):null}toJSON(){var e;return{aggregateGeometries:S_e(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:L1(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:((e=this.popupTemplate)==null?void 0:e.toJSON())??null}}notifyMeshTransformChanged(e={}){const{geometry:i}=this;if((i==null?void 0:i.type)==="mesh"){const r={origin:i.origin,transform:i.transform};this._notifyLayer("origin-transform",r,r,e.action)}}_notifyLayer(e,i,r,s){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const n={graphic:this,property:e,oldValue:i,newValue:r};e==="origin-transform"&&(n.action=s),e==="attributes"&&(n.attributeName=s),this.layer.graphicChanged(n)}_watchMeshGeometryChanges(){this.addHandles([Sn(()=>{var e,i;return((e=this.geometry)==null?void 0:e.type)==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:(i=this.geometry.transform)==null?void 0:i.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0},({localMatrix:e,origin:i})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===i||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=i,this.notifyMeshTransformChanged())}),Sn(()=>{var e;return((e=this.geometry)==null?void 0:e.type)==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0},()=>{var i;const e=this.geometry;(e==null?void 0:e.type)==="mesh"&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=(i=e.transform)==null?void 0:i.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(e,i)=>e===i,sync:!0})])}},Y4=ry,ry);h([f({value:null,json:{read:__e}})],er.prototype,"aggregateGeometries",null),h([f({value:null})],er.prototype,"attributes",null),h([f({value:null,types:Nw,json:{read:Jc}})],er.prototype,"geometry",null),h([f({type:Boolean})],er.prototype,"isAggregate",void 0),h([f({clonable:!1})],er.prototype,"layer",void 0),h([f({clonable:"reference"})],er.prototype,"origin",void 0),h([f({type:yg,value:null})],er.prototype,"popupTemplate",null),h([f({clonable:"reference"})],er.prototype,"sourceLayer",void 0),h([f({value:null,types:Ad})],er.prototype,"symbol",null),h([f({clonable:!1,json:{read:!1,write:!1}})],er.prototype,"_version",void 0),h([f({type:Boolean,value:!0})],er.prototype,"visible",null),er=Y4=h([I("esri.Graphic")],er);var J4;let Od=J4=class extends ae{constructor(t){super(t),this.name=null,this.code=null}clone(){return new J4({name:this.name,code:this.code})}};h([f({type:String,json:{write:{isRequired:!0}}})],Od.prototype,"name",void 0),h([f({type:[String,Number],json:{write:{isRequired:!0}}})],Od.prototype,"code",void 0),Od=J4=h([I("esri.layers.support.CodedValue")],Od);const x_e=new ct({inherited:"inherited",codedValue:"coded-value",range:"range"});let $c=class extends ae{constructor(e){super(e),this.name=null,this.type=null}};h([f({type:String,json:{write:!0}})],$c.prototype,"name",void 0),h([ke(x_e),f({json:{write:{isRequired:!0}}})],$c.prototype,"type",void 0),$c=h([I("esri.layers.support.Domain")],$c);var K4,sy;let Mc=(sy=class extends $c{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let i=null;if(this.codedValues){const r=String(e);this.codedValues.some(s=>(String(s.code)===r&&(i=s.name),!!i))}return i}clone(){return new K4({codedValues:G(this.codedValues),name:this.name})}},K4=sy,sy);h([f({type:[Od],json:{write:{isRequired:!0}}})],Mc.prototype,"codedValues",void 0),h([ke({codedValue:"coded-value"})],Mc.prototype,"type",void 0),Mc=K4=h([I("esri.layers.support.CodedValueDomain")],Mc);var X4,ny;let a1=(ny=class extends $c{constructor(e){super(e),this.type="inherited"}clone(){return new X4}},X4=ny,ny);h([ke({inherited:"inherited"})],a1.prototype,"type",void 0),a1=X4=h([I("esri.layers.support.InheritedDomain")],a1);var Q4,oy;let vd=(oy=class extends $c{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new Q4({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}},Q4=oy,oy);h([f({json:{type:[Number],read:{source:"range",reader:(t,e)=>{var i;return(i=e.range)==null?void 0:i[1]}},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(t,e,i){e[i]=[this.minValue||0,t]},isRequired:!0}}})],vd.prototype,"maxValue",void 0),h([f({json:{type:[Number],read:{source:"range",reader:(t,e)=>{var i;return(i=e.range)==null?void 0:i[0]}},write:{target:"range",writer(t,e,i){e[i]=[t,this.maxValue||0]},isRequired:!0}}})],vd.prototype,"minValue",void 0),h([ke({range:"range"})],vd.prototype,"type",void 0),vd=Q4=h([I("esri.layers.support.RangeDomain")],vd);const T_e={key:"type",base:$c,typeMap:{range:vd,"coded-value":Mc,inherited:a1}};function $_e(t){if(!(t!=null&&t.type))return null;switch(t.type){case"range":return vd.fromJSON(t);case"codedValue":return Mc.fromJSON(t);case"inherited":return a1.fromJSON(t)}return null}const M_e=new ct({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});var eO;const E_e=new ct({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",currency:"currency",dateAndTime:"date-and-time",description:"description",emailAddress:"email-address",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",phoneNumber:"phone-number",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});var ay;let Qi=(ay=class extends ae{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:i}){let r=null;try{r=i?JSON.parse(i):null}catch{}return(r==null?void 0:r.value)??null}readValueType(e,{description:i}){let r=null;try{r=i?JSON.parse(i):null}catch{}return r?E_e.fromJSON(r.fieldValueType):null}clone(){var e;return new eO({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:((e=this.domain)==null?void 0:e.clone())??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}},eO=ay,ay);h([f({type:String,json:{write:!0}})],Qi.prototype,"alias",void 0),h([f({type:[String,Number],json:{write:{allowNull:!0}}})],Qi.prototype,"defaultValue",void 0),h([f()],Qi.prototype,"description",void 0),h([Ie("description")],Qi.prototype,"readDescription",null),h([f({types:T_e,json:{read:{reader:$_e},write:!0}})],Qi.prototype,"domain",void 0),h([f({type:Boolean,json:{write:!0}})],Qi.prototype,"editable",void 0),h([f({type:ot,json:{write:{overridePolicy:t=>({enabled:Number.isFinite(t)})}}})],Qi.prototype,"length",void 0),h([f({type:String,json:{write:!0}})],Qi.prototype,"name",void 0),h([f({type:Boolean,json:{write:!0}})],Qi.prototype,"nullable",void 0),h([ke(M_e)],Qi.prototype,"type",void 0),h([f()],Qi.prototype,"valueType",void 0),h([Ie("valueType",["description"])],Qi.prototype,"readValueType",null),h([f({type:Boolean,json:{read:!1}})],Qi.prototype,"visible",void 0),Qi=eO=h([I("esri.layers.support.Field")],Qi);var tO;const iO=new ct({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let pr=tO=class extends ae{constructor(t){super(t),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(t,e){return this.readFeaturesWithClass(t,e,er)}writeGeometryType(t,e,i,r){if(t)return void iO.write(t,e,i,r);const{features:s}=this;if(s){for(const n of s)if((n==null?void 0:n.geometry)!=null)return void iO.write(n.geometry.type,e,i,r)}}readQueryGeometry(t,e){if(!t)return null;const i=!!t.spatialReference,r=Jc(t);return r&&!i&&e.spatialReference&&(r.spatialReference=Se.fromJSON(e.spatialReference)),r}writeSpatialReference(t,e){if(t)return void(e.spatialReference=t.toJSON());const{features:i}=this;if(i){for(const r of i)if(r&&r.geometry!=null&&r.geometry.spatialReference)return void(e.spatialReference=r.geometry.spatialReference.toJSON())}}clone(){return new tO(this.cloneProperties())}cloneProperties(){return G({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(t){const e=this.write();if(e.features&&Array.isArray(t)&&t.length>0)for(let i=0;i<e.features.length;i++){const r=e.features[i];if(r.geometry){const s=t==null?void 0:t[i];r.geometry=(s==null?void 0:s.toJSON())||r.geometry}}return e}quantize(t){const{scale:[e,i],translate:[r,s]}=t,n=d=>Math.round((d-r)/e),o=d=>Math.round((s-d)/i),l=this.features,c=this._getQuantizationFunction(this.geometryType,n,o);for(let d=0,m=l.length;d<m;d++)c!=null&&c(l[d].geometry)||(l.splice(d,1),d--,m--);return this.transform=t,this}unquantize(){var w,_;const{geometryType:t,features:e,transform:i}=this;if(!i)return this;const{translate:[r,s],scale:[n,o]}=i,l=x=>x*n+r,c=x=>s-x*o;let d=null,m=null;if(this.hasZ&&((w=i==null?void 0:i.scale)==null?void 0:w[2])!=null){const{translate:[,,x],scale:[,,T]}=i;d=$=>$*T+x}if(this.hasM&&((_=i==null?void 0:i.scale)==null?void 0:_[3])!=null){const{translate:[,,,x],scale:[,,,T]}=i;m=$=>$==null?$:$*T+x}const v=this._getHydrationFunction(t,l,c,d,m);for(const{geometry:x}of e)x!=null&&v&&v(x);return this.transform=null,this}readFeaturesWithClass(t,e,i){var n;const r=Se.fromJSON(e.spatialReference),s=[];for(let o=0;o<t.length;o++){const l=t[o],c=i.fromJSON(l),d=(n=l.geometry)==null?void 0:n.spatialReference;c.geometry==null||d||(c.geometry.spatialReference=r);const m=l.aggregateGeometries,v=c.aggregateGeometries;if(m&&v!=null)for(const w in v){const _=v[w],x=m[w],T=x==null?void 0:x.spatialReference;_==null||T||(_.spatialReference=r)}s.push(c)}return s}_quantizePoints(t,e,i){let r,s;const n=[];for(let o=0,l=t.length;o<l;o++){const c=t[o];if(o>0){const d=e(c[0]),m=i(c[1]);d===r&&m===s||(n.push([d-r,m-s]),r=d,s=m)}else r=e(c[0]),s=i(c[1]),n.push([r,s])}return n.length>0?n:null}_getQuantizationFunction(t,e,i){return t==="point"?r=>(r.x=e(r.x),r.y=i(r.y),r):t==="polyline"||t==="polygon"?r=>{const s=Dm(r)?r.rings:r.paths,n=[];for(let o=0,l=s.length;o<l;o++){const c=s[o],d=this._quantizePoints(c,e,i);d&&n.push(d)}return n.length>0?(Dm(r)?r.rings=n:r.paths=n,r):null}:t==="multipoint"?r=>{const s=this._quantizePoints(r.points,e,i);return s&&s.length>0?(r.points=s,r):null}:t==="extent"?r=>r:null}_getHydrationFunction(t,e,i,r,s){return t==="point"?n=>{n.x=e(n.x),n.y=i(n.y),r&&(n.z=r(n.z))}:t==="polyline"||t==="polygon"?n=>{const o=Dm(n)?n.rings:n.paths;let l,c;for(let d=0,m=o.length;d<m;d++){const v=o[d];for(let w=0,_=v.length;w<_;w++){const x=v[w];w>0?(l+=x[0],c+=x[1]):(l=x[0],c=x[1]),x[0]=e(l),x[1]=i(c)}}if(r&&s)for(let d=0,m=o.length;d<m;d++){const v=o[d];for(let w=0,_=v.length;w<_;w++){const x=v[w];x[2]=r(x[2]),x[3]=s(x[3])}}else if(r)for(let d=0,m=o.length;d<m;d++){const v=o[d];for(let w=0,_=v.length;w<_;w++){const x=v[w];x[2]=r(x[2])}}else if(s)for(let d=0,m=o.length;d<m;d++){const v=o[d];for(let w=0,_=v.length;w<_;w++){const x=v[w];x[2]=s(x[2])}}}:t==="extent"?n=>{n.xmin=e(n.xmin),n.ymin=i(n.ymin),n.xmax=e(n.xmax),n.ymax=i(n.ymax),r&&n.zmax!=null&&n.zmin!=null&&(n.zmax=r(n.zmax),n.zmin=r(n.zmin)),s&&n.mmax!=null&&n.mmin!=null&&(n.mmax=s(n.mmax),n.mmin=s(n.mmin))}:t==="multipoint"?n=>{const o=n.points;let l,c;for(let d=0,m=o.length;d<m;d++){const v=o[d];d>0?(l+=v[0],c+=v[1]):(l=v[0],c=v[1]),v[0]=e(l),v[1]=i(c)}if(r&&s)for(let d=0,m=o.length;d<m;d++){const v=o[d];v[2]=r(v[2]),v[3]=s(v[3])}else if(r)for(let d=0,m=o.length;d<m;d++){const v=o[d];v[2]=r(v[2])}else if(s)for(let d=0,m=o.length;d<m;d++){const v=o[d];v[2]=s(v[2])}}:null}};h([f({type:String,json:{write:!0}})],pr.prototype,"displayFieldName",void 0),h([f({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],pr.prototype,"exceededTransferLimit",void 0),h([f({type:[er],json:{write:!0}})],pr.prototype,"features",void 0),h([Ie("features")],pr.prototype,"readFeatures",null),h([f({type:[Qi],json:{write:!0}})],pr.prototype,"fields",void 0),h([f({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:iO.read}}})],pr.prototype,"geometryType",void 0),h([_e("geometryType")],pr.prototype,"writeGeometryType",null),h([f({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],pr.prototype,"hasM",void 0),h([f({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],pr.prototype,"hasZ",void 0),h([f({types:Nw,json:{write:!0}})],pr.prototype,"queryGeometry",void 0),h([Ie("queryGeometry")],pr.prototype,"readQueryGeometry",null),h([f({type:Se,json:{write:!0}})],pr.prototype,"spatialReference",void 0),h([_e("spatialReference")],pr.prototype,"writeSpatialReference",null),h([f({json:{write:!0}})],pr.prototype,"transform",void 0),pr=tO=h([I("esri.rest.support.FeatureSet")],pr),pr.prototype.toJSON.isDefaultToJSON=!0;let rd=class extends bg{constructor(){super(...arguments),this.type="geojson",this.refresh=JC(async e=>{await this.load();const{extent:i,timeExtent:r}=await this._connection.invoke("refresh",e);return this.sourceJSON.extent=i,r&&(this.sourceJSON.timeInfo.timeExtent=[r.start,r.end]),{dataChanged:!0,updates:{extent:this.sourceJSON.extent,timeInfo:this.sourceJSON.timeInfo}}})}load(e){const i=e!=null?e.signal:null;return this.addResolvingPromise(this._startWorker(i)),Promise.resolve(this)}destroy(){var e;(e=this._connection)==null||e.close(),this._connection=null}applyEdits(e){return this.load().then(()=>this._applyEdits(e))}openPorts(){return this.load().then(()=>this._connection.openPorts())}queryFeatures(e,i={}){return this.load(i).then(()=>this._connection.invoke("queryFeatures",e?e.toJSON():null,i)).then(r=>pr.fromJSON(r))}queryFeaturesJSON(e,i={}){return this.load(i).then(()=>this._connection.invoke("queryFeatures",e?e.toJSON():null,i))}queryFeatureCount(e,i={}){return this.load(i).then(()=>this._connection.invoke("queryFeatureCount",e?e.toJSON():null,i))}queryObjectIds(e,i={}){return this.load(i).then(()=>this._connection.invoke("queryObjectIds",e?e.toJSON():null,i))}queryExtent(e,i={}){return this.load(i).then(()=>this._connection.invoke("queryExtent",e?e.toJSON():null,i)).then(r=>({count:r.count,extent:Ye.fromJSON(r.extent)}))}querySnapping(e,i={}){return this.load(i).then(()=>this._connection.invoke("querySnapping",e,i))}async queryAttributeBins(e,i={}){return await this.load(),this._connection.invoke("queryAttributeBins",e==null?void 0:e.toJSON(),i)}_applyEdits(e){if(!this._connection)throw new B("geojson-layer-source:edit-failure","Memory source not loaded");const i=this.layer.objectIdField,r=[],s=[],n=[];if(e.addFeatures)for(const o of e.addFeatures)r.push(this._serializeFeature(o));if(e.deleteFeatures)for(const o of e.deleteFeatures)"objectId"in o&&o.objectId!=null?s.push(o.objectId):"attributes"in o&&o.attributes[i]!=null&&s.push(o.attributes[i]);if(e.updateFeatures)for(const o of e.updateFeatures)n.push(this._serializeFeature(o));return this._connection.invoke("applyEdits",{adds:r,updates:n,deletes:s}).then(({extent:o,timeExtent:l,featureEditResults:c})=>(this.sourceJSON.extent=o,l&&(this.sourceJSON.timeInfo.timeExtent=[l.start,l.end]),this._createEditsResult(c)))}_createEditsResult(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(e){const i=e.success===!0?null:e.error||{code:void 0,description:""};return{objectId:e.objectId,globalId:e.globalId,error:i?new B("geojson-layer-source:edit-failure",i.description,{code:i.code}):null}}_serializeFeature(e){const{attributes:i}=e,r=this._geometryForSerialization(e);return r?{geometry:r.toJSON(),attributes:i}:{attributes:i}}_geometryForSerialization(e){const{geometry:i}=e;return i==null?null:i.type==="mesh"||i.type==="extent"?Qt.fromExtent(i.extent):i}async _startWorker(e){this._connection=await ibe("GeoJSONSourceWorker",{strategy:q("feature-layers-workers")?"dedicated":"local",signal:e,registryTarget:this});const{fields:i,spatialReference:r,hasZ:s,geometryType:n,objectIdField:o,url:l,timeInfo:c,customParameters:d}=this.layer,m=this.layer.originOf("spatialReference")==="defaults",v={url:l,customParameters:d,fields:i&&i.map(_=>_.toJSON()),geometryType:n6.toJSON(n),hasZ:s,objectIdField:o,timeInfo:c?c.toJSON():null,spatialReference:m?null:r&&r.toJSON()},w=await this._connection.invoke("load",v,{signal:e});for(const _ of w.warnings)se.getLogger(this.layer).warn("#load()",`${_.message} (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{warning:_});w.featureErrors.length&&se.getLogger(this.layer).warn("#load()",`Encountered ${w.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{errors:w.featureErrors}),this.sourceJSON=w.layerDefinition,this.capabilities=dbe(this.sourceJSON.hasZ,!0)}};h([f()],rd.prototype,"capabilities",void 0),h([f()],rd.prototype,"type",void 0),h([f({constructOnly:!0})],rd.prototype,"layer",void 0),h([f()],rd.prototype,"sourceJSON",void 0),rd=h([I("esri.layers.graphics.sources.GeoJSONSource")],rd);const ji=(t=>t)(["operational-layers","basemap-base-layers","basemap-ground-layers","ground"]);function RT(){const t=new Float32Array(16);return t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function A_e(t){const e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function O_e(t,e,i,r,s,n,o,l,c,d,m,v,w,_,x,T){const $=new Float32Array(16);return $[0]=t,$[1]=e,$[2]=i,$[3]=r,$[4]=s,$[5]=n,$[6]=o,$[7]=l,$[8]=c,$[9]=d,$[10]=m,$[11]=v,$[12]=w,$[13]=_,$[14]=x,$[15]=T,$}const k_e=RT();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:k_e,clone:A_e,create:RT,fromValues:O_e},Symbol.toStringTag,{value:"Module"}));function vJ(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function sh(t,e,i,r,s,n,o,l,c,d,m,v,w,_,x,T,$){return t[0]=e,t[1]=i,t[2]=r,t[3]=s,t[4]=n,t[5]=o,t[6]=l,t[7]=c,t[8]=d,t[9]=m,t[10]=v,t[11]=w,t[12]=_,t[13]=x,t[14]=T,t[15]=$,t}function IT(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function nh(t,e){if(t===e){const i=e[1],r=e[2],s=e[3],n=e[6],o=e[7],l=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=i,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=n,t[11]=e[14],t[12]=s,t[13]=o,t[14]=l}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function C_e(t,e){return wJ(t,e)||IT(t),t}function wJ(t,e){const i=e[0],r=e[1],s=e[2],n=e[3],o=e[4],l=e[5],c=e[6],d=e[7],m=e[8],v=e[9],w=e[10],_=e[11],x=e[12],T=e[13],$=e[14],O=e[15],C=i*l-r*o,R=i*c-s*o,N=i*d-n*o,j=r*c-s*l,z=r*d-n*l,ee=s*d-n*c,Q=m*T-v*x,J=m*$-w*x,te=m*O-_*x,pe=v*$-w*T,ye=v*O-_*T,Xe=w*O-_*$;let Ce=C*Xe-R*ye+N*pe+j*te-z*J+ee*Q;return Ce?(Ce=1/Ce,t[0]=(l*Xe-c*ye+d*pe)*Ce,t[1]=(s*ye-r*Xe-n*pe)*Ce,t[2]=(T*ee-$*z+O*j)*Ce,t[3]=(w*z-v*ee-_*j)*Ce,t[4]=(c*te-o*Xe-d*J)*Ce,t[5]=(i*Xe-s*te+n*J)*Ce,t[6]=($*N-x*ee-O*R)*Ce,t[7]=(m*ee-w*N+_*R)*Ce,t[8]=(o*ye-l*te+d*Q)*Ce,t[9]=(r*te-i*ye-n*Q)*Ce,t[10]=(x*z-T*N+O*C)*Ce,t[11]=(v*N-m*z-_*C)*Ce,t[12]=(l*J-o*pe-c*Q)*Ce,t[13]=(i*pe-r*J+s*Q)*Ce,t[14]=(T*R-x*j-$*C)*Ce,t[15]=(m*j-v*R+w*C)*Ce,t):null}function R_e(t,e){const i=e[0],r=e[1],s=e[2],n=e[3],o=e[4],l=e[5],c=e[6],d=e[7],m=e[8],v=e[9],w=e[10],_=e[11],x=e[12],T=e[13],$=e[14],O=e[15];return t[0]=l*(w*O-_*$)-v*(c*O-d*$)+T*(c*_-d*w),t[1]=-(r*(w*O-_*$)-v*(s*O-n*$)+T*(s*_-n*w)),t[2]=r*(c*O-d*$)-l*(s*O-n*$)+T*(s*d-n*c),t[3]=-(r*(c*_-d*w)-l*(s*_-n*w)+v*(s*d-n*c)),t[4]=-(o*(w*O-_*$)-m*(c*O-d*$)+x*(c*_-d*w)),t[5]=i*(w*O-_*$)-m*(s*O-n*$)+x*(s*_-n*w),t[6]=-(i*(c*O-d*$)-o*(s*O-n*$)+x*(s*d-n*c)),t[7]=i*(c*_-d*w)-o*(s*_-n*w)+m*(s*d-n*c),t[8]=o*(v*O-_*T)-m*(l*O-d*T)+x*(l*_-d*v),t[9]=-(i*(v*O-_*T)-m*(r*O-n*T)+x*(r*_-n*v)),t[10]=i*(l*O-d*T)-o*(r*O-n*T)+x*(r*d-n*l),t[11]=-(i*(l*_-d*v)-o*(r*_-n*v)+m*(r*d-n*l)),t[12]=-(o*(v*$-w*T)-m*(l*$-c*T)+x*(l*w-c*v)),t[13]=i*(v*$-w*T)-m*(r*$-s*T)+x*(r*w-s*v),t[14]=-(i*(l*$-c*T)-o*(r*$-s*T)+x*(r*c-s*l)),t[15]=i*(l*w-c*v)-o*(r*w-s*v)+m*(r*c-s*l),t}function I_e(t){const e=t[0],i=t[1],r=t[2],s=t[3],n=t[4],o=t[5],l=t[6],c=t[7],d=t[8],m=t[9],v=t[10],w=t[11],_=t[12],x=t[13],T=t[14],$=t[15];return(e*o-i*n)*(v*$-w*T)-(e*l-r*n)*(m*$-w*x)+(e*c-s*n)*(m*T-v*x)+(i*l-r*o)*(d*$-w*_)-(i*c-s*o)*(d*T-v*_)+(r*c-s*l)*(d*x-m*_)}function bJ(t,e,i){const r=e[0],s=e[1],n=e[2],o=e[3],l=e[4],c=e[5],d=e[6],m=e[7],v=e[8],w=e[9],_=e[10],x=e[11],T=e[12],$=e[13],O=e[14],C=e[15];let R=i[0],N=i[1],j=i[2],z=i[3];return t[0]=R*r+N*l+j*v+z*T,t[1]=R*s+N*c+j*w+z*$,t[2]=R*n+N*d+j*_+z*O,t[3]=R*o+N*m+j*x+z*C,R=i[4],N=i[5],j=i[6],z=i[7],t[4]=R*r+N*l+j*v+z*T,t[5]=R*s+N*c+j*w+z*$,t[6]=R*n+N*d+j*_+z*O,t[7]=R*o+N*m+j*x+z*C,R=i[8],N=i[9],j=i[10],z=i[11],t[8]=R*r+N*l+j*v+z*T,t[9]=R*s+N*c+j*w+z*$,t[10]=R*n+N*d+j*_+z*O,t[11]=R*o+N*m+j*x+z*C,R=i[12],N=i[13],j=i[14],z=i[15],t[12]=R*r+N*l+j*v+z*T,t[13]=R*s+N*c+j*w+z*$,t[14]=R*n+N*d+j*_+z*O,t[15]=R*o+N*m+j*x+z*C,t}function P_e(t,e,i){const r=i[0],s=i[1],n=i[2];if(e===t)t[12]=e[0]*r+e[4]*s+e[8]*n+e[12],t[13]=e[1]*r+e[5]*s+e[9]*n+e[13],t[14]=e[2]*r+e[6]*s+e[10]*n+e[14],t[15]=e[3]*r+e[7]*s+e[11]*n+e[15];else{const o=e[0],l=e[1],c=e[2],d=e[3],m=e[4],v=e[5],w=e[6],_=e[7],x=e[8],T=e[9],$=e[10],O=e[11];t[0]=o,t[1]=l,t[2]=c,t[3]=d,t[4]=m,t[5]=v,t[6]=w,t[7]=_,t[8]=x,t[9]=T,t[10]=$,t[11]=O,t[12]=o*r+m*s+x*n+e[12],t[13]=l*r+v*s+T*n+e[13],t[14]=c*r+w*s+$*n+e[14],t[15]=d*r+_*s+O*n+e[15]}return t}function j_e(t,e,i){const r=i[0],s=i[1],n=i[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*s,t[5]=e[5]*s,t[6]=e[6]*s,t[7]=e[7]*s,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function N_e(t,e,i,r){let s=r[0],n=r[1],o=r[2],l=Math.sqrt(s*s+n*n+o*o);if(l<=ws())return void vJ(t,e);l=1/l,s*=l,n*=l,o*=l;const c=Math.sin(i),d=Math.cos(i),m=1-d,v=e[0],w=e[1],_=e[2],x=e[3],T=e[4],$=e[5],O=e[6],C=e[7],R=e[8],N=e[9],j=e[10],z=e[11],ee=s*s*m+d,Q=n*s*m+o*c,J=o*s*m-n*c,te=s*n*m-o*c,pe=n*n*m+d,ye=o*n*m+s*c,Xe=s*o*m+n*c,Ce=n*o*m-s*c,pt=o*o*m+d;t[0]=v*ee+T*Q+R*J,t[1]=w*ee+$*Q+N*J,t[2]=_*ee+O*Q+j*J,t[3]=x*ee+C*Q+z*J,t[4]=v*te+T*pe+R*ye,t[5]=w*te+$*pe+N*ye,t[6]=_*te+O*pe+j*ye,t[7]=x*te+C*pe+z*ye,t[8]=v*Xe+T*Ce+R*pt,t[9]=w*Xe+$*Ce+N*pt,t[10]=_*Xe+O*Ce+j*pt,t[11]=x*Xe+C*Ce+z*pt,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15])}function D_e(t,e,i){const r=Math.sin(i),s=Math.cos(i),n=e[4],o=e[5],l=e[6],c=e[7],d=e[8],m=e[9],v=e[10],w=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=n*s+d*r,t[5]=o*s+m*r,t[6]=l*s+v*r,t[7]=c*s+w*r,t[8]=d*s-n*r,t[9]=m*s-o*r,t[10]=v*s-l*r,t[11]=w*s-c*r,t}function L_e(t,e,i){const r=Math.sin(i),s=Math.cos(i),n=e[0],o=e[1],l=e[2],c=e[3],d=e[8],m=e[9],v=e[10],w=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=n*s-d*r,t[1]=o*s-m*r,t[2]=l*s-v*r,t[3]=c*s-w*r,t[8]=n*r+d*s,t[9]=o*r+m*s,t[10]=l*r+v*s,t[11]=c*r+w*s,t}function V_e(t,e,i){const r=Math.sin(i),s=Math.cos(i),n=e[0],o=e[1],l=e[2],c=e[3],d=e[4],m=e[5],v=e[6],w=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=n*s+d*r,t[1]=o*s+m*r,t[2]=l*s+v*r,t[3]=c*s+w*r,t[4]=d*s-n*r,t[5]=m*s-o*r,t[6]=v*s-l*r,t[7]=w*s-c*r,t}function F_e(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function z_e(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function U_e(t,e,i){if(e===0)return IT(t);let r=i[0],s=i[1],n=i[2],o=Math.sqrt(r*r+s*s+n*n);if(o<=ws())return null;o=1/o,r*=o,s*=o,n*=o;const l=Math.sin(e),c=Math.cos(e),d=1-c;return t[0]=r*r*d+c,t[1]=s*r*d+n*l,t[2]=n*r*d-s*l,t[3]=0,t[4]=r*s*d-n*l,t[5]=s*s*d+c,t[6]=n*s*d+r*l,t[7]=0,t[8]=r*n*d+s*l,t[9]=s*n*d-r*l,t[10]=n*n*d+c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function q_e(t,e){const i=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=i,t[7]=0,t[8]=0,t[9]=-i,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function B_e(t,e){const i=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-i,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=i,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function G_e(t,e){const i=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=i,t[2]=0,t[3]=0,t[4]=-i,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function _J(t,e,i){const r=e[0],s=e[1],n=e[2],o=e[3],l=r+r,c=s+s,d=n+n,m=r*l,v=r*c,w=r*d,_=s*c,x=s*d,T=n*d,$=o*l,O=o*c,C=o*d;return t[0]=1-(_+T),t[1]=v+C,t[2]=w-O,t[3]=0,t[4]=v-C,t[5]=1-(m+T),t[6]=x+$,t[7]=0,t[8]=w+O,t[9]=x-$,t[10]=1-(m+_),t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}function H_e(t,e){const i=W_e,r=-e[0],s=-e[1],n=-e[2],o=e[3],l=e[4],c=e[5],d=e[6],m=e[7],v=r*r+s*s+n*n+o*o;return v>0?(i[0]=2*(l*o+m*r+c*n-d*s)/v,i[1]=2*(c*o+m*s+d*r-l*n)/v,i[2]=2*(d*o+m*n+l*s-c*r)/v):(i[0]=2*(l*o+m*r+c*n-d*s),i[1]=2*(c*o+m*s+d*r-l*n),i[2]=2*(d*o+m*n+l*s-c*r)),_J(t,e,i),t}const W_e=rh();function Z_e(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function Y_e(t,e){const i=e[0],r=e[1],s=e[2],n=e[4],o=e[5],l=e[6],c=e[8],d=e[9],m=e[10];return t[0]=Math.sqrt(i*i+r*r+s*s),t[1]=Math.sqrt(n*n+o*o+l*l),t[2]=Math.sqrt(c*c+d*d+m*m),t}function J_e(t,e){const i=e[0]+e[5]+e[10];let r=0;return i>0?(r=2*Math.sqrt(i+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t}function K_e(t,e,i,r){const s=e[0],n=e[1],o=e[2],l=e[3],c=s+s,d=n+n,m=o+o,v=s*c,w=s*d,_=s*m,x=n*d,T=n*m,$=o*m,O=l*c,C=l*d,R=l*m,N=r[0],j=r[1],z=r[2];return t[0]=(1-(x+$))*N,t[1]=(w+R)*N,t[2]=(_-C)*N,t[3]=0,t[4]=(w-R)*j,t[5]=(1-(v+$))*j,t[6]=(T+O)*j,t[7]=0,t[8]=(_+C)*z,t[9]=(T-O)*z,t[10]=(1-(v+x))*z,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}function X_e(t,e,i,r,s){const n=e[0],o=e[1],l=e[2],c=e[3],d=n+n,m=o+o,v=l+l,w=n*d,_=n*m,x=n*v,T=o*m,$=o*v,O=l*v,C=c*d,R=c*m,N=c*v,j=r[0],z=r[1],ee=r[2],Q=s[0],J=s[1],te=s[2],pe=(1-(T+O))*j,ye=(_+N)*j,Xe=(x-R)*j,Ce=(_-N)*z,pt=(1-(w+O))*z,fe=($+C)*z,ve=(x+R)*ee,de=($-C)*ee,We=(1-(w+T))*ee;return t[0]=pe,t[1]=ye,t[2]=Xe,t[3]=0,t[4]=Ce,t[5]=pt,t[6]=fe,t[7]=0,t[8]=ve,t[9]=de,t[10]=We,t[11]=0,t[12]=i[0]+Q-(pe*Q+Ce*J+ve*te),t[13]=i[1]+J-(ye*Q+pt*J+de*te),t[14]=i[2]+te-(Xe*Q+fe*J+We*te),t[15]=1,t}function Q_e(t,e){const i=e[0],r=e[1],s=e[2],n=e[3],o=i+i,l=r+r,c=s+s,d=i*o,m=r*o,v=r*l,w=s*o,_=s*l,x=s*c,T=n*o,$=n*l,O=n*c;return t[0]=1-v-x,t[1]=m+O,t[2]=w-$,t[3]=0,t[4]=m-O,t[5]=1-d-x,t[6]=_+T,t[7]=0,t[8]=w+$,t[9]=_-T,t[10]=1-d-v,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function e2e(t,e,i,r,s,n,o){const l=1/(i-e),c=1/(s-r),d=1/(n-o);return t[0]=2*n*l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*n*c,t[6]=0,t[7]=0,t[8]=(i+e)*l,t[9]=(s+r)*c,t[10]=(o+n)*d,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*n*2*d,t[15]=0,t}function t2e(t,e,i,r,s){const n=1/Math.tan(e/2);let o;return t[0]=n/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,s!=null&&s!==1/0?(o=1/(r-s),t[10]=(s+r)*o,t[14]=2*s*r*o):(t[10]=-1,t[14]=-2*r),t}function i2e(t,e,i,r){const s=Math.tan(e.upDegrees*Math.PI/180),n=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),l=Math.tan(e.rightDegrees*Math.PI/180),c=2/(o+l),d=2/(s+n);return t[0]=c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=d,t[6]=0,t[7]=0,t[8]=-(o-l)*c*.5,t[9]=(s-n)*d*.5,t[10]=r/(i-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*i/(i-r),t[15]=0,t}function r2e(t,e,i,r,s,n,o){const l=1/(e-i),c=1/(r-s),d=1/(n-o);return t[0]=-2*l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*d,t[11]=0,t[12]=(e+i)*l,t[13]=(s+r)*c,t[14]=(o+n)*d,t[15]=1,t}function s2e(t,e,i,r){const s=e[0],n=e[1],o=e[2];let l=s-i[0],c=n-i[1],d=o-i[2];const m=ws();if(Math.abs(l)<m&&Math.abs(c)<m&&Math.abs(d)<m)return void IT(t);let v=1/Math.sqrt(l*l+c*c+d*d);l*=v,c*=v,d*=v;const w=r[0],_=r[1],x=r[2];let T=_*d-x*c,$=x*l-w*d,O=w*c-_*l;v=Math.sqrt(T*T+$*$+O*O),v?(v=1/v,T*=v,$*=v,O*=v):(T=0,$=0,O=0);let C=c*O-d*$,R=d*T-l*O,N=l*$-c*T;v=Math.sqrt(C*C+R*R+N*N),v?(v=1/v,C*=v,R*=v,N*=v):(C=0,R=0,N=0),t[0]=T,t[1]=C,t[2]=l,t[3]=0,t[4]=$,t[5]=R,t[6]=c,t[7]=0,t[8]=O,t[9]=N,t[10]=d,t[11]=0,t[12]=-(T*s+$*n+O*o),t[13]=-(C*s+R*n+N*o),t[14]=-(l*s+c*n+d*o),t[15]=1}function n2e(t,e,i,r){const s=e[0],n=e[1],o=e[2],l=r[0],c=r[1],d=r[2];let m=s-i[0],v=n-i[1],w=o-i[2],_=m*m+v*v+w*w;_>0&&(_=1/Math.sqrt(_),m*=_,v*=_,w*=_);let x=c*w-d*v,T=d*m-l*w,$=l*v-c*m;return _=x*x+T*T+$*$,_>0&&(_=1/Math.sqrt(_),x*=_,T*=_,$*=_),t[0]=x,t[1]=T,t[2]=$,t[3]=0,t[4]=v*$-w*T,t[5]=w*x-m*$,t[6]=m*T-v*x,t[7]=0,t[8]=m,t[9]=v,t[10]=w,t[11]=0,t[12]=s,t[13]=n,t[14]=o,t[15]=1,t}function o2e(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function a2e(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2+t[9]**2+t[10]**2+t[11]**2+t[12]**2+t[13]**2+t[14]**2+t[15]**2)}function l2e(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t[9]=e[9]+i[9],t[10]=e[10]+i[10],t[11]=e[11]+i[11],t[12]=e[12]+i[12],t[13]=e[13]+i[13],t[14]=e[14]+i[14],t[15]=e[15]+i[15],t}function SJ(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t[9]=e[9]-i[9],t[10]=e[10]-i[10],t[11]=e[11]-i[11],t[12]=e[12]-i[12],t[13]=e[13]-i[13],t[14]=e[14]-i[14],t[15]=e[15]-i[15],t}function u2e(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12]*i,t[13]=e[13]*i,t[14]=e[14]*i,t[15]=e[15]*i,t}function c2e(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t[3]=e[3]+i[3]*r,t[4]=e[4]+i[4]*r,t[5]=e[5]+i[5]*r,t[6]=e[6]+i[6]*r,t[7]=e[7]+i[7]*r,t[8]=e[8]+i[8]*r,t[9]=e[9]+i[9]*r,t[10]=e[10]+i[10]*r,t[11]=e[11]+i[11]*r,t[12]=e[12]+i[12]*r,t[13]=e[13]+i[13]*r,t[14]=e[14]+i[14]*r,t[15]=e[15]+i[15]*r,t}function h2e(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function d2e(t,e){if(t===e)return!0;const i=t[0],r=t[1],s=t[2],n=t[3],o=t[4],l=t[5],c=t[6],d=t[7],m=t[8],v=t[9],w=t[10],_=t[11],x=t[12],T=t[13],$=t[14],O=t[15],C=e[0],R=e[1],N=e[2],j=e[3],z=e[4],ee=e[5],Q=e[6],J=e[7],te=e[8],pe=e[9],ye=e[10],Xe=e[11],Ce=e[12],pt=e[13],fe=e[14],ve=e[15],de=ws();return Math.abs(i-C)<=de*Math.max(1,Math.abs(i),Math.abs(C))&&Math.abs(r-R)<=de*Math.max(1,Math.abs(r),Math.abs(R))&&Math.abs(s-N)<=de*Math.max(1,Math.abs(s),Math.abs(N))&&Math.abs(n-j)<=de*Math.max(1,Math.abs(n),Math.abs(j))&&Math.abs(o-z)<=de*Math.max(1,Math.abs(o),Math.abs(z))&&Math.abs(l-ee)<=de*Math.max(1,Math.abs(l),Math.abs(ee))&&Math.abs(c-Q)<=de*Math.max(1,Math.abs(c),Math.abs(Q))&&Math.abs(d-J)<=de*Math.max(1,Math.abs(d),Math.abs(J))&&Math.abs(m-te)<=de*Math.max(1,Math.abs(m),Math.abs(te))&&Math.abs(v-pe)<=de*Math.max(1,Math.abs(v),Math.abs(pe))&&Math.abs(w-ye)<=de*Math.max(1,Math.abs(w),Math.abs(ye))&&Math.abs(_-Xe)<=de*Math.max(1,Math.abs(_),Math.abs(Xe))&&Math.abs(x-Ce)<=de*Math.max(1,Math.abs(x),Math.abs(Ce))&&Math.abs(T-pt)<=de*Math.max(1,Math.abs(T),Math.abs(pt))&&Math.abs($-fe)<=de*Math.max(1,Math.abs($),Math.abs(fe))&&Math.abs(O-ve)<=de*Math.max(1,Math.abs(O),Math.abs(ve))}function p2e(t){const e=ws(),i=t[0],r=t[1],s=t[2],n=t[4],o=t[5],l=t[6],c=t[8],d=t[9],m=t[10];return Math.abs(1-(i*i+n*n+c*c))<=e&&Math.abs(1-(r*r+o*o+d*d))<=e&&Math.abs(1-(s*s+l*l+m*m))<=e}function f2e(t){return t[0]===1&&t[1]===0&&t[2]===0&&t[4]===0&&t[5]===1&&t[6]===0&&t[8]===0&&t[9]===0&&t[10]===1}const m2e=bJ,y2e=SJ;Object.freeze(Object.defineProperty({__proto__:null,add:l2e,adjoint:R_e,copy:vJ,determinant:I_e,equals:d2e,exactEquals:h2e,frob:a2e,fromQuat:Q_e,fromQuat2:H_e,fromRotation:U_e,fromRotationTranslation:_J,fromRotationTranslationScale:K_e,fromRotationTranslationScaleOrigin:X_e,fromScaling:z_e,fromTranslation:F_e,fromXRotation:q_e,fromYRotation:B_e,fromZRotation:G_e,frustum:e2e,getRotation:J_e,getScale:Y_e,getTranslation:Z_e,hasIdentityRotation:f2e,identity:IT,invert:wJ,invertOrIdentity:C_e,isOrthoNormal:p2e,lookAt:s2e,mul:m2e,multiply:bJ,multiplyScalar:u2e,multiplyScalarAndAdd:c2e,ortho:r2e,perspective:t2e,perspectiveFromFieldOfView:i2e,rotate:N_e,rotateX:D_e,rotateY:L_e,rotateZ:V_e,scale:j_e,set:sh,str:o2e,sub:y2e,subtract:SJ,targetTo:n2e,translate:P_e,transpose:nh},Symbol.toStringTag,{value:"Module"}));const g2e=(t,e)=>{const i=sh(t,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1);return nh(i,i)},v2e=(t,e)=>{const i=sh(t,e,0,0,.5-.5*e,0,e,0,.5-.5*e,0,0,e,.5-.5*e,0,0,0,1);return nh(i,i)},w2e=(t,e)=>{const i=1-e,r=sh(t,.2126+.7874*i,.7152-.7152*i,.0722-.0722*i,0,.2126-.2126*i,.7152+.2848*i,.0722-.0722*i,0,.2126-.2126*i,.7152-.7152*i,.0722+.9278*i,0,0,0,0,1);return nh(r,r)},b2e=(t,e)=>{const i=Math.sin(e*Math.PI/180),r=Math.cos(e*Math.PI/180),s=sh(t,.213+.787*r-.213*i,.715-.715*r-.715*i,.072-.072*r+.928*i,0,.213-.213*r+.143*i,.715+.285*r+.14*i,.072-.072*r-.283*i,0,.213-.213*r-.787*i,.715-.715*r+.715*i,.072+.928*r+.072*i,0,0,0,0,1);return nh(s,s)},_2e=(t,e)=>{const i=1-2*e,r=sh(t,i,0,0,e,0,i,0,e,0,0,i,e,0,0,0,1);return nh(r,r)},S2e=(t,e)=>{const i=sh(t,.213+.787*e,.715-.715*e,.072-.072*e,0,.213-.213*e,.715+.285*e,.072-.072*e,0,.213-.213*e,.715-.715*e,.072+.928*e,0,0,0,0,1);return nh(i,i)},x2e=(t,e)=>{const i=1-e,r=sh(t,.393+.607*i,.769-.769*i,.189-.189*i,0,.349-.349*i,.686+.314*i,.168-.168*i,0,.272-.272*i,.534-.534*i,.131+.869*i,0,0,0,0,1);return nh(r,r)};let xJ=class TJ{constructor(e,i,r){this.strength=e,this.radius=i,this.threshold=r,this.type="bloom"}interpolate(e,i,r){this.strength=Fs(e.strength,i.strength,r),this.radius=Fs(e.radius,i.radius,r),this.threshold=Fs(e.threshold,i.threshold,r)}clone(){return new TJ(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:l1(this.radius),strength:this.strength,threshold:this.threshold}}},$J=class MJ{constructor(e){this.radius=e,this.type="blur"}interpolate(e,i,r){this.radius=Math.round(Fs(e.radius,i.radius,r))}clone(){return new MJ(this.radius)}toJSON(){return{type:"blur",radius:l1(this.radius)}}},rO=class EJ{constructor(e,i){this.type=e,this.amount=i,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,i,r){this.amount=Fs(e.amount,i.amount,r),this._updateMatrix()}clone(){return new EJ(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const e=this._colorMatrix||RT();switch(this.type){case"brightness":this._colorMatrix=g2e(e,this.amount);break;case"contrast":this._colorMatrix=v2e(e,this.amount);break;case"grayscale":this._colorMatrix=w2e(e,this.amount);break;case"invert":this._colorMatrix=_2e(e,this.amount);break;case"saturate":this._colorMatrix=S2e(e,this.amount);break;case"sepia":this._colorMatrix=x2e(e,this.amount)}}},AJ=class OJ{constructor(e,i,r,s){this.offsetX=e,this.offsetY=i,this.blurRadius=r,this.color=s,this.type="drop-shadow"}interpolate(e,i,r){this.offsetX=Fs(e.offsetX,i.offsetX,r),this.offsetY=Fs(e.offsetY,i.offsetY,r),this.blurRadius=Fs(e.blurRadius,i.blurRadius,r),this.color[0]=Math.round(Fs(e.color[0],i.color[0],r)),this.color[1]=Math.round(Fs(e.color[1],i.color[1],r)),this.color[2]=Math.round(Fs(e.color[2],i.color[2],r)),this.color[3]=Fs(e.color[3],i.color[3],r)}clone(){return new OJ(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const e=[...this.color];return e[3]*=255,{type:"drop-shadow",xoffset:l1(this.offsetX),yoffset:l1(this.offsetY),blurRadius:l1(this.blurRadius),color:e}}},kJ=class CJ{constructor(e){this.angle=e,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,i,r){this.angle=Fs(e.angle,i.angle,r),this._updateMatrix()}clone(){return new CJ(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const e=this._colorMatrix||RT();this._colorMatrix=b2e(e,this.angle)}},RJ=class IJ{constructor(e){this.amount=e,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(e,i,r){this.amount=Fs(e.amount,i.amount,r)}clone(){return new IJ(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}};function Fs(t,e,i){return t+(e-t)*i}function l1(t){return Math.round(1e3*uo(t))/1e3}function T2e(t){switch(t.type){case"grayscale":case"sepia":case"invert":return new rO(t.type,0);case"saturate":case"brightness":case"contrast":return new rO(t.type,1);case"opacity":return new RJ(1);case"hue-rotate":return new kJ(0);case"blur":return new $J(0);case"drop-shadow":return new AJ(0,0,0,[...xR("transparent")]);case"bloom":return new xJ(0,0,1)}}function $2e(t,e){const i=t.length>e.length?t:e;return(t.length>e.length?e:t).every((r,s)=>r.type===i[s].type)}function M2e(t,e){const i=t.length>e.length?t:e,r=t.length>e.length?e:t;for(let s=r.length;s<i.length;s++)r.push(T2e(i[s]))}function E2e(t){const e=t[0];return!!e&&"type"in e}let W7=class extends SyntaxError{constructor(e,i,r,s){super(e),this.expected=i,this.found=r,this.location=s,this.name="SyntaxError"}format(e){let i="Error: "+this.message;if(this.location){let r=null;const s=e.find(c=>c.source===this.location.source);s&&(r=s.text.split(/\r\n|\n|\r/g));const n=this.location.start,o=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(n):n,l=this.location.source+":"+o.line+":"+o.column;if(r){const c=this.location.end,d="".padEnd(o.line.toString().length," "),m=r[n.line-1],v=(n.line===c.line?c.column:m.length+1)-n.column||1;i+=`
 --> `+l+`
`+d+` |
`+o.line+" | "+m+`
`+d+" | "+"".padEnd(n.column-1," ")+"".padEnd(v,"^")}else i+=`
 at `+l}return i}static buildMessage(e,i){function r(w){return w.codePointAt(0).toString(16).toUpperCase()}const s=Object.prototype.hasOwnProperty.call(RegExp.prototype,"unicode")?new RegExp("[\\p{C}\\p{Mn}\\p{Mc}]","gu"):null;function n(w){return s?w.replace(s,_=>"\\u{"+r(_)+"}"):w}function o(w){return n(w.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,_=>"\\x0"+r(_)).replace(/[\x10-\x1F\x7F-\x9F]/g,_=>"\\x"+r(_)))}function l(w){return n(w.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,_=>"\\x0"+r(_)).replace(/[\x10-\x1F\x7F-\x9F]/g,_=>"\\x"+r(_)))}const c={literal:w=>'"'+o(w.text)+'"',class(w){const _=w.parts.map(x=>Array.isArray(x)?l(x[0])+"-"+l(x[1]):l(x));return"["+(w.inverted?"^":"")+_.join("")+"]"+(w.unicode?"u":"")},any:()=>"any character",end:()=>"end of input",other:w=>w.description};function d(w){return c[w.type](w)}function m(w){const _=w.map(d);if(_.sort(),_.length>0){let x=1;for(let T=1;T<_.length;T++)_[T-1]!==_[T]&&(_[x]=_[T],x++);_.length=x}switch(_.length){case 1:return _[0];case 2:return _[0]+" or "+_[1];default:return _.slice(0,-1).join(", ")+", or "+_[_.length-1]}}function v(w){return w?'"'+o(w)+'"':"end of input"}return"Expected "+m(e)+" but "+v(i)+" found."}};function A2e(t,e){const i={},r=(e=e!==void 0?e:{}).grammarSource,s={start:Cg};let n=Cg;const o="none",l=")",c=",",d="(",m="%",v="px",w="cm",_="mm",x="in",T="pt",$="pc",O="deg",C="rad",R="grad",N="turn",j="#",z=".",ee="e",Q=/^[ \t\n\r]/,J=/^[a-z\-]/,te=/^[0-9a-fA-F]/,pe=/^[+\-]/,ye=/^[0-9]/,Xe=ri("none"),Ce=Ni("none",!1),pt=Ni(")",!1),fe=Ni(",",!1),ve=xs([" ","	",`
`,"\r"],!1,!1,!1),de=ri("function"),We=Ni("(",!1),L=ri("identifier"),he=xs([["a","z"],"-"],!1,!1,!1),Ue=ri("percentage"),Fe=Ni("%",!1),Te=ri("length"),ht=Ni("px",!1),Qe=Ni("cm",!1),br=Ni("mm",!1),bt=Ni("in",!1),pi=Ni("pt",!1),Lt=Ni("pc",!1),xn=ri("angle"),lh=Ni("deg",!1),ta=Ni("rad",!1),kp=Ni("grad",!1),Cp=Ni("turn",!1),fu=ri("number"),kg=ri("color"),Rp=Ni("#",!1),Ip=xs([["0","9"],["a","f"],["A","F"]],!1,!1,!1),Pp=xs(["+","-"],!1,!1,!1),Tn=xs([["0","9"]],!1,!1,!1),n3=Ni(".",!1),o3=Ni("e",!1);function $n(){return[]}function a3(P,Z){return{type:"function",name:P,parameters:Z||[]}}function Jw(P,Z){return Z.length>0?g3(P,Z,3):[P]}function Kw(P){return{type:"quantity",value:P.value,unit:P.unit}}function jp(P){return{type:"color",colorType:P.type,value:P.value}}function pI(P){return P}function Xw(){return dh()}function l3(P){return{value:P,unit:"%"}}function u3(P){return{value:P,unit:"px"}}function uh(P){return{value:P,unit:"cm"}}function es(P){return{value:P,unit:"mm"}}function c3(P){return{value:P,unit:"in"}}function ia(P){return{value:P,unit:"pt"}}function ts(P){return{value:P,unit:"pc"}}function h3(P){return{value:P,unit:"deg"}}function d3(P){return{value:P,unit:"rad"}}function p3(P){return{value:P,unit:"grad"}}function Np(P){return{value:P,unit:"turn"}}function Dp(P){return{value:P,unit:null}}function Ba(){return{type:"hex",value:dh()}}function Lp(P){return{type:"function",value:P}}function ch(){return{type:"named",value:dh()}}function f3(){return parseFloat(dh())}let X=0|e.peg$currPos,Pt=X;const ra=[{line:1,column:1}];let fo,Ks=X,hh=e.peg$maxFailExpected||[],Ee=0|e.peg$silentFails;if(e.startRule){if(!(e.startRule in s))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');n=s[e.startRule]}function dh(){return t.substring(Pt,X)}function Qw(P=X){const Z=t.codePointAt(P);return Z===void 0?"":String.fromCodePoint(Z)}function Ni(P,Z){return{type:"literal",text:P,ignoreCase:Z}}function xs(P,Z,ce,Ve){return{type:"class",parts:P,inverted:Z,ignoreCase:ce,unicode:Ve}}function ar(){return{type:"end"}}function ri(P){return{type:"other",description:P}}function Ga(P){let Z,ce=ra[P];if(ce)return ce;if(P>=ra.length)Z=ra.length-1;else for(Z=P;!ra[--Z];);for(ce=ra[Z],ce={line:ce.line,column:ce.column};Z<P;)t.charCodeAt(Z)===10?(ce.line++,ce.column=1):ce.column++,Z++;return ra[P]=ce,ce}function Vp(P,Z,ce){const Ve=Ga(P),ft=Ga(Z);return{source:r,start:{offset:P,line:Ve.line,column:Ve.column},end:{offset:Z,line:ft.line,column:ft.column}}}function Ze(P){X<Ks||(X>Ks&&(Ks=X,hh=[]),hh.push(P))}function m3(P,Z,ce){return new W7(W7.buildMessage(P,Z),P,Z,ce)}function Cg(){let P;return P=ph(),P===i&&(P=Rg()),P}function ph(){let P,Z;return Ee++,P=X,Ht(),t.substr(X,4)===o?(Z=o,X+=4):(Z=i,Ee===0&&Ze(Ce)),Z!==i?(Ht(),Pt=P,P=$n()):(X=P,P=i),Ee--,P===i&&Ee===0&&Ze(Xe),P}function Rg(){let P,Z;if(P=[],Z=mo(),Z!==i)for(;Z!==i;)P.push(Z),Z=mo();else P=i;return P}function mo(){let P,Z,ce,Ve;return P=X,Ht(),Z=Di(),Z!==i?(Ht(),ce=mu(),ce===i&&(ce=null),Ht(),t.charCodeAt(X)===41?(Ve=l,X++):(Ve=i,Ee===0&&Ze(pt)),Ve!==i?(Ht(),Pt=P,P=a3(Z,ce)):(X=P,P=i)):(X=P,P=i),P}function mu(){let P,Z,ce,Ve,ft,Wt,ei,lr;if(P=X,Z=Ha(),Z!==i){for(ce=[],Ve=X,ft=Ht(),t.charCodeAt(X)===44?(Wt=c,X++):(Wt=i,Ee===0&&Ze(fe)),Wt===i&&(Wt=null),ei=Ht(),lr=Ha(),lr!==i?(ft=[ft,Wt,ei,lr],Ve=ft):(X=Ve,Ve=i);Ve!==i;)ce.push(Ve),Ve=X,ft=Ht(),t.charCodeAt(X)===44?(Wt=c,X++):(Wt=i,Ee===0&&Ze(fe)),Wt===i&&(Wt=null),ei=Ht(),lr=Ha(),lr!==i?(ft=[ft,Wt,ei,lr],Ve=ft):(X=Ve,Ve=i);Pt=P,P=Jw(Z,ce)}else X=P,P=i;return P}function Ha(){let P,Z;return P=X,Z=eb(),Z===i&&(Z=Wa(),Z===i&&(Z=yu(),Z===i&&(Z=yo()))),Z!==i&&(Pt=P,Z=Kw(Z)),P=Z,P===i&&(P=X,Z=y3(),Z!==i&&(Pt=P,Z=jp(Z)),P=Z),P}function Ht(){let P,Z;for(Ee++,P=[],Z=t.charAt(X),Q.test(Z)?X++:(Z=i,Ee===0&&Ze(ve));Z!==i;)P.push(Z),Z=t.charAt(X),Q.test(Z)?X++:(Z=i,Ee===0&&Ze(ve));return Ee--,P}function Di(){let P,Z,ce;return Ee++,P=X,Z=Ig(),Z!==i?(t.charCodeAt(X)===40?(ce=d,X++):(ce=i,Ee===0&&Ze(We)),ce!==i?(Pt=P,P=Z):(X=P,P=i)):(X=P,P=i),Ee--,P===i&&(Z=i,Ee===0&&Ze(de)),P}function Ig(){let P,Z,ce;if(Ee++,P=X,Z=[],ce=t.charAt(X),J.test(ce)?X++:(ce=i,Ee===0&&Ze(he)),ce!==i)for(;ce!==i;)Z.push(ce),ce=t.charAt(X),J.test(ce)?X++:(ce=i,Ee===0&&Ze(he));else Z=i;return Z!==i&&(Pt=P,Z=Xw()),P=Z,Ee--,P===i&&(Z=i,Ee===0&&Ze(L)),P}function eb(){let P,Z,ce;return Ee++,P=X,Ht(),Z=is(),Z!==i?(t.charCodeAt(X)===37?(ce=m,X++):(ce=i,Ee===0&&Ze(Fe)),ce!==i?(Pt=P,P=l3(Z)):(X=P,P=i)):(X=P,P=i),Ee--,P===i&&Ee===0&&Ze(Ue),P}function Wa(){let P,Z,ce;return Ee++,P=X,Ht(),Z=is(),Z!==i?(t.substr(X,2)===v?(ce=v,X+=2):(ce=i,Ee===0&&Ze(ht)),ce!==i?(Pt=P,P=u3(Z)):(X=P,P=i)):(X=P,P=i),P===i&&(P=X,Ht(),Z=is(),Z!==i?(t.substr(X,2)===w?(ce=w,X+=2):(ce=i,Ee===0&&Ze(Qe)),ce!==i?(Pt=P,P=uh(Z)):(X=P,P=i)):(X=P,P=i),P===i&&(P=X,Ht(),Z=is(),Z!==i?(t.substr(X,2)===_?(ce=_,X+=2):(ce=i,Ee===0&&Ze(br)),ce!==i?(Pt=P,P=es(Z)):(X=P,P=i)):(X=P,P=i),P===i&&(P=X,Ht(),Z=is(),Z!==i?(t.substr(X,2)===x?(ce=x,X+=2):(ce=i,Ee===0&&Ze(bt)),ce!==i?(Pt=P,P=c3(Z)):(X=P,P=i)):(X=P,P=i),P===i&&(P=X,Ht(),Z=is(),Z!==i?(t.substr(X,2)===T?(ce=T,X+=2):(ce=i,Ee===0&&Ze(pi)),ce!==i?(Pt=P,P=ia(Z)):(X=P,P=i)):(X=P,P=i),P===i&&(P=X,Ht(),Z=is(),Z!==i?(t.substr(X,2)===$?(ce=$,X+=2):(ce=i,Ee===0&&Ze(Lt)),ce!==i?(Pt=P,P=ts(Z)):(X=P,P=i)):(X=P,P=i)))))),Ee--,P===i&&Ee===0&&Ze(Te),P}function yu(){let P,Z,ce;return Ee++,P=X,Z=is(),Z!==i?(t.substr(X,3)===O?(ce=O,X+=3):(ce=i,Ee===0&&Ze(lh)),ce!==i?(Pt=P,P=h3(Z)):(X=P,P=i)):(X=P,P=i),P===i&&(P=X,Z=is(),Z!==i?(t.substr(X,3)===C?(ce=C,X+=3):(ce=i,Ee===0&&Ze(ta)),ce!==i?(Pt=P,P=d3(Z)):(X=P,P=i)):(X=P,P=i),P===i&&(P=X,Z=is(),Z!==i?(t.substr(X,4)===R?(ce=R,X+=4):(ce=i,Ee===0&&Ze(kp)),ce!==i?(Pt=P,P=p3(Z)):(X=P,P=i)):(X=P,P=i),P===i&&(P=X,Z=is(),Z!==i?(t.substr(X,4)===N?(ce=N,X+=4):(ce=i,Ee===0&&Ze(Cp)),ce!==i?(Pt=P,P=Np(Z)):(X=P,P=i)):(X=P,P=i)))),Ee--,P===i&&(Z=i,Ee===0&&Ze(xn)),P}function yo(){let P,Z;return Ee++,P=X,Ht(),Z=is(),Z!==i?(Pt=P,P=Dp(Z)):(X=P,P=i),Ee--,P===i&&Ee===0&&Ze(fu),P}function y3(){let P,Z,ce,Ve;if(Ee++,P=X,t.charCodeAt(X)===35?(Z=j,X++):(Z=i,Ee===0&&Ze(Rp)),Z!==i){if(ce=[],Ve=t.charAt(X),te.test(Ve)?X++:(Ve=i,Ee===0&&Ze(Ip)),Ve!==i)for(;Ve!==i;)ce.push(Ve),Ve=t.charAt(X),te.test(Ve)?X++:(Ve=i,Ee===0&&Ze(Ip));else ce=i;ce!==i?(Pt=P,P=Ba()):(X=P,P=i)}else X=P,P=i;return P===i&&(P=X,Z=mo(),Z!==i&&(Pt=P,Z=Lp(Z)),P=Z,P===i&&(P=X,Z=Ig(),Z!==i&&(Pt=P,Z=ch()),P=Z)),Ee--,P===i&&(Z=i,Ee===0&&Ze(kg)),P}function is(){let P,Z,ce,Ve,ft,Wt,ei,lr;for(P=X,Z=t.charAt(X),pe.test(Z)?X++:(Z=i,Ee===0&&Ze(Pp)),Z===i&&(Z=null),ce=X,Ve=[],ft=t.charAt(X),ye.test(ft)?X++:(ft=i,Ee===0&&Ze(Tn));ft!==i;)Ve.push(ft),ft=t.charAt(X),ye.test(ft)?X++:(ft=i,Ee===0&&Ze(Tn));if(t.charCodeAt(X)===46?(ft=z,X++):(ft=i,Ee===0&&Ze(n3)),ft!==i){if(Wt=[],ei=t.charAt(X),ye.test(ei)?X++:(ei=i,Ee===0&&Ze(Tn)),ei!==i)for(;ei!==i;)Wt.push(ei),ei=t.charAt(X),ye.test(ei)?X++:(ei=i,Ee===0&&Ze(Tn));else Wt=i;Wt!==i?(Ve=[Ve,ft,Wt],ce=Ve):(X=ce,ce=i)}else X=ce,ce=i;if(ce===i)if(ce=[],Ve=t.charAt(X),ye.test(Ve)?X++:(Ve=i,Ee===0&&Ze(Tn)),Ve!==i)for(;Ve!==i;)ce.push(Ve),Ve=t.charAt(X),ye.test(Ve)?X++:(Ve=i,Ee===0&&Ze(Tn));else ce=i;if(ce!==i){if(Ve=X,t.charCodeAt(X)===101?(ft=ee,X++):(ft=i,Ee===0&&Ze(o3)),ft!==i){if(Wt=t.charAt(X),pe.test(Wt)?X++:(Wt=i,Ee===0&&Ze(Pp)),Wt===i&&(Wt=null),ei=[],lr=t.charAt(X),ye.test(lr)?X++:(lr=i,Ee===0&&Ze(Tn)),lr!==i)for(;lr!==i;)ei.push(lr),lr=t.charAt(X),ye.test(lr)?X++:(lr=i,Ee===0&&Ze(Tn));else ei=i;ei!==i?(ft=[ft,Wt,ei],Ve=ft):(X=Ve,Ve=i)}else X=Ve,Ve=i;Ve===i&&(Ve=null),Pt=P,P=f3()}else X=P,P=i;return P}function tb(P,Z){return P.map(function(ce){return ce[Z]})}function g3(P,Z,ce){return[P].concat(tb(Z,ce))}fo=n();const gu=fo!==i&&X===t.length;function fh(){throw fo!==i&&X<t.length&&Ze(ar()),m3(hh,Ks<t.length?Qw(Ks):null,Ks<t.length?Vp(Ks,Ks+1):Vp(Ks,Ks))}return e.peg$library?{peg$result:fo,peg$currPos:X,peg$FAILED:i,peg$maxFailExpected:hh,peg$maxFailPos:Ks,peg$success:gu,peg$throw:gu?void 0:fh}:gu?fo:void fh()}function PJ(t){if(!t||t.length===0)return null;if(typeof t=="string"){const i=Z7(t);return i&&i.length!==0?i:null}const e=t.map(i=>{if(!Number.isFinite(i.scale)||i.scale<=0)throw new B("effect:invalid-scale","scale must be finite and greater than 0",{stop:i});return{scale:i.scale,effects:Z7(i.value)}});e.sort((i,r)=>r.effects.length-i.effects.length);for(let i=0;i<e.length-1;i++){if(!$2e(e[i].effects,e[i+1].effects))throw new B("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:e[i].effects,b:e[i+1].effects});M2e(e[i].effects,e[i+1].effects)}return e.sort((i,r)=>r.scale-i.scale),e}function Z7(t){let e;if(!t)return[];try{e=A2e(t)}catch(i){throw new B("effect:invalid-syntax","Invalid effect syntax",{value:t,error:i})}return e.map(i=>O2e(i))}function O2e(t){try{switch(t.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return k2e(t);case"opacity":return C2e(t);case"hue-rotate":return R2e(t);case"blur":return I2e(t);case"drop-shadow":return P2e(t);case"bloom":return j2e(t)}}catch(e){throw e.details.filter=t,e}throw new B("effect:unknown-effect",`Effect '${t.name}' is not supported`,{effect:t})}function k2e(t){let e=1;return Sg(t.parameters,1),t.parameters.length===1&&(e=Vo(t.parameters[0])),new rO(t.name,e)}function C2e(t){let e=1;return Sg(t.parameters,1),t.parameters.length===1&&(e=Vo(t.parameters[0])),new RJ(e)}function R2e(t){let e=0;return Sg(t.parameters,1),t.parameters.length===1&&(e=z2e(t.parameters[0])),new kJ(e)}function I2e(t){let e=0;return Sg(t.parameters,1),t.parameters.length===1&&(e=w6(t.parameters[0]),Uw(e,t.parameters[0])),new $J(e)}function P2e(t){const e=[];let i=null;for(const r of t.parameters)if(r.type==="color"){if(e.length&&Object.freeze(e),i)throw new B("effect:type-error","Accepts only one color",{});i=U2e(r)}else{const s=w6(r);if(Object.isFrozen(e))throw new B("effect:type-error","<length> parameters not consecutive",{lengths:e});e.push(s),e.length===3&&Uw(s,r)}if(e.length<2||e.length>3)throw new B("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${e.length}}`,{lengths:e});return new AJ(e[0],e[1],e[2]||0,i||jJ("black"))}function j2e(t){let e=1,i=0,r=0;return Sg(t.parameters,3),t.parameters[0]&&(e=Vo(t.parameters[0])),t.parameters[1]&&(i=w6(t.parameters[1]),Uw(i,t.parameters[1])),t.parameters[2]&&(r=Vo(t.parameters[2])),new xJ(e,i,r)}function Sg(t,e){if(t.length>e)throw new B("effect:type-error",`Function supports up to ${e} parameters, Actual: ${t.length}`,{parameters:t})}function PT(t){if(t.type==="color")return"<color>";if(t.unit){if(t.unit in v6)return"<length>";if(t.unit in g6)return"<angle>";if(t.unit==="%")return"<percentage>"}return"<double>"}function Uw(t,e){if(t<0)throw new B("effect:type-error",`Negative values are not allowed, Actual: ${t}`,{term:e})}function N2e(t){if(t.type!=="quantity"||t.unit!==null)throw new B("effect:type-error",`Expected <double>, Actual: ${PT(t)}`,{term:t})}function D2e(t){if(t.type!=="quantity"||t.unit!==null&&t.unit!=="%")throw new B("effect:type-error",`Expected <double> or <percentage>, Actual: ${PT(t)}`,{term:t})}const g6={deg:1,grad:.9,rad:180/Math.PI,turn:360};function L2e(t){if(t.type!=="quantity"||!(t.value===0&&t.unit===null||t.unit&&g6[t.unit]!=null))throw new B("effect:type-error",`Expected <angle>, Actual: ${PT(t)}`,{term:t})}const v6={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function V2e(t){if(t.type!=="quantity"||!(t.value===0&&t.unit===null||t.unit&&v6[t.unit]!=null))throw new B("effect:type-error",`Expected <length>, Actual: ${PT(t)}`,{term:t})}function Vo(t){D2e(t);const e=t.value;return Uw(e,t),t.unit==="%"?.01*e:e}function F2e(t){return N2e(t),Uw(t.value,t),t.value}function z2e(t){return L2e(t),t.value*g6[t.unit]||0}function w6(t){return V2e(t),t.value*v6[t.unit]||0}function U2e(t){switch(t.colorType){case"hex":return Fye(t.value);case"named":return jJ(t.value);case"function":return G2e(t.value)}}function jJ(t){if(!aW(t))throw new B("effect:unknown-color",`color '${t}' isn't valid`,{namedColor:t});return Vye(t)}const q2e=/^rgba?/i,B2e=/^hsla?/i;function G2e(t){if(Sg(t.parameters,4),q2e.test(t.name))return[Vo(t.parameters[0]),Vo(t.parameters[1]),Vo(t.parameters[2]),t.parameters[3]?Vo(t.parameters[3]):1];if(B2e.test(t.name))return lW(F2e(t.parameters[0]),Vo(t.parameters[1]),Vo(t.parameters[2]),t.parameters[3]?Vo(t.parameters[3]):1);throw new B("effect:syntax-error",`Invalid color function '${t.name}'`,{colorFunction:t})}function tw(t,e,i){var r;try{return W2e(t)}catch(s){(r=i==null?void 0:i.messages)==null||r.push(s)}return null}function iw(t,e,i,r){try{const s=H2e(t);bs(i,s,e)}catch(s){r.messages&&r.messages.push(s)}}function H2e(t){const e=PJ(t);return e?E2e(e)?e.map(i=>i.toJSON()):e.map(({scale:i,effects:r})=>({scale:i,value:r.map(s=>s.toJSON())})):null}function W2e(t){if(!t||t.length===0)return null;if(Z2e(t)){const e=[];for(const i of t)e.push({scale:i.scale,value:Y7(i.value)});return e}return Y7(t)}function Z2e(t){const e=t[0];return!!e&&"scale"in e}function Y7(t){if(!(t!=null&&t.length))return"";const e=[];for(const i of t){let r=[];switch(i.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":r=[cl(i,"amount")];break;case"blur":r=[cl(i,"radius","pt")];break;case"hue-rotate":r=[cl(i,"angle","deg")];break;case"drop-shadow":r=[cl(i,"xoffset","pt"),cl(i,"yoffset","pt"),cl(i,"blurRadius","pt"),Y2e(i,"color")];break;case"bloom":r=[cl(i,"strength"),cl(i,"radius","pt"),cl(i,"threshold")]}const s=`${i.type}(${r.filter(Boolean).join(" ")})`;PJ(s),e.push(s)}return e.join(" ")}function cl(t,e,i){if(t[e]==null)throw new B("effect:missing-parameter",`Missing parameter '${e}' in ${t.type} effect`,{effect:t});return i?t[e]+i:""+t[e]}function Y2e(t,e){if(t[e]==null)throw new B("effect:missing-parameter",`Missing parameter '${e}' in ${t.type} effect`,{effect:t});const i=t[e];return`rgba(${i[0]||0}, ${i[1]||0}, ${i[2]||0}, ${i[3]/255||0})`}const J2e={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:{layerContainerTypes:ji}},"portal-item":{read:!0,write:{layerContainerTypes:ji}}}}},J7={read:{reader:tw},write:{allowNull:!0,writer:iw,layerContainerTypes:ji}},K2e={json:{read:!1,write:!1,origins:{"web-map":J7,"portal-item":J7}}},X2e=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return h([f(J2e)],i.prototype,"blendMode",void 0),h([f(K2e)],i.prototype,"effect",void 0),i=h([I("esri.layers.mixins.BlendLayer")],i),i},Q2e=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.customParameters=null}};return h([f({type:Object,json:{write:{overridePolicy:r=>({enabled:!!(r&&Object.keys(r).length>0)})}}})],i.prototype,"customParameters",void 0),i=h([I("esri.layers.mixins.CustomParametersMixin")],i),i},NJ=96;function y7e(t,e){const i=t.extent,r=t.width,s=co(i==null?void 0:i.spatialReference);return i&&r?i.width/r*s*wZ*NJ:0}function g7e(t,e){return t/(co(e)*wZ*NJ)}function v7e(t,e,i){return eSe(t,e)&&tSe(t,i)}function eSe(t,e){return e===0||vn(t,e)||t<e}function tSe(t,e){return e===0||vn(t,e)||t>e}function iSe(t,e){return vn(t,e)?0:(t||Number.POSITIVE_INFINITY)>(e||Number.POSITIVE_INFINITY)?1:-1}const rSe="randomUUID"in crypto;function xg(){if(rSe)return crypto.randomUUID();const t=crypto.getRandomValues(new Uint16Array(8));t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;const e=i=>t[i].toString(16).padStart(4,"0");return e(0)+e(1)+"-"+e(2)+"-"+e(3)+"-"+e(4)+"-"+e(5)+e(6)+e(7)}function w7e(){return`{${xg().toUpperCase()}}`}function b7e(){return`{${xg()}}`}function sSe(t){const e=t.toUpperCase();return t.startsWith("{")?e:`{${e}}`}const K7={write:{overridePolicy:(t,e,i)=>({enabled:!i||i.filterMode==="scale"})}};let Ll=class extends rt(ae){constructor(e){super(e),this.id=xg(),this.maxScale=0,this.minScale=0,this.title="",this.where=null}};h([f({type:String,json:{write:!0}})],Ll.prototype,"id",void 0),h([f({type:Number,json:K7})],Ll.prototype,"maxScale",void 0),h([f({type:Number,json:K7})],Ll.prototype,"minScale",void 0),h([f({type:String,json:{write:!0}})],Ll.prototype,"title",void 0),h([f({type:String,json:{write:!0}})],Ll.prototype,"where",void 0),Ll=h([I("esri.layers.support.DisplayFilter")],Ll);function nSe(t,e){return{...e,filterMode:t.mode}}function S7e(t,e){return DJ(t,e).next().value??null}function x7e(t,e,i){const r=oSe(t);if(r&&(yW(e,r[0])||_A(i,r[1])))return"";const s=Array.from(DJ(t,e,i)),n=aSe(s,e,i)?"1=1":s.map(o=>o.where||"1=1").reduce((o,l)=>dpe(o,l),"");return n&&n!=="1=1"?n:""}function oSe(t){if(LJ(t)==="manual")return null;const e=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const{minScale:i,maxScale:r}of t.filters)e[0]=Math.max(e[0],rw(i)),e[1]=Math.min(e[1],yx(r));return e}function*DJ(t,e,i){if(LJ(t)==="manual"){const r=t.filters.find(s=>s.id===t.activeFilterId);r&&(yield r)}else{typeof e=="object"&&(e=e.scale);for(const r of t.filters)lSe(r.minScale,r.maxScale,e,i)&&(yield r)}}function aSe(t,e,i){var n,o;if(t.length===0)return!0;const r=rw((n=t.at(0))==null?void 0:n.minScale),s=yx((o=t.at(-1))==null?void 0:o.maxScale);if(_A(r,e)||yW(s,i))return!0;for(let l=0;l<t.length-1;l++){const c=t[l],d=t[l+1];if(_A(rw(d.minScale),yx(c.maxScale)))return!0}return!1}function lSe(t,e,i,r){return t=rw(t),i=rw(i),e=yx(e),!(!vn(i,t)&&(r??i)>t)&&!qye(e,i)&&(r===void 0||!vn(r,t))}function LJ(t){return"mode"in t?t.mode:t.filterMode}function rw(t){return t||Number.POSITIVE_INFINITY}function yx(t){return t||0}let sd=class extends rt(ae){constructor(e){super(e),this.activeFilterId=null,this.filters=new(ge.ofType(Ll)),this.mode="manual"}writeFilters(e,i,r,s){const n=e.toArray();this.mode==="scale"&&n.sort((o,l)=>{const c=iSe(l.minScale,o.minScale),d=o.maxScale-l.maxScale;return c===0?d:c}),i[r]=n.map(o=>o.toJSON(s))}write(e,i){return super.write(e,nSe(this,i))}};h([f({type:String,json:{write:{overridePolicy:(t,e,i)=>({enabled:i.filterMode==="manual",isRequired:!0})}}})],sd.prototype,"activeFilterId",void 0),h([f({type:ge.ofType(Ll),nonNullable:!0,json:{write:!0}})],sd.prototype,"filters",void 0),h([_e("filters")],sd.prototype,"writeFilters",null),h([f({type:["manual","scale"],nonNullable:!0,json:{name:"filterMode",write:!0}})],sd.prototype,"mode",void 0),sd=h([I("esri.layers.support.DisplayFilterInfo")],sd);const uSe=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.displayFilterEnabled=!0,this.displayFilterInfo=null}};return h([f(cSe)],i.prototype,"displayFilterEnabled",void 0),h([f(hSe)],i.prototype,"displayFilterInfo",void 0),i=h([I("esri.layers.mixins.DisplayFilteredLayer")],i),i},cSe={type:Boolean,json:{name:"layerDefinition.disableDisplayFilter",read:{reader:t=>!t},write:{layerContainerTypes:ji,writer(t,e,i){bs(i,!t,e)}},origins:{"web-scene":{write:!1,read:!1}}}},hSe={type:sd,json:{name:"layerDefinition.displayFilterInfo",write:{enabled:!0,allowNull:!0,layerContainerTypes:ji},origins:{"web-scene":{write:!1,read:!1}}}};var sO;let Bf=sO=class extends ae{constructor(t){super(t),this.type="map-layer"}clone(){const{mapLayerId:t,gdbVersion:e}=this;return new sO({mapLayerId:t,gdbVersion:e})}};h([ke({mapLayer:"map-layer"}),f({json:{write:{isRequired:!0}}})],Bf.prototype,"type",void 0),h([f({type:ot,json:{write:{isRequired:!0}}})],Bf.prototype,"mapLayerId",void 0),h([f({type:String,json:{write:!0}})],Bf.prototype,"gdbVersion",void 0),Bf=sO=h([I("esri.layers.support.source.MapLayerSource")],Bf);var nO;let bl=nO=class extends ae{constructor(t){super(t),this.type="query-table"}clone(){const{workspaceId:t,query:e,oidFields:i,spatialReference:r,geometryType:s}=this,n={workspaceId:t,query:e,oidFields:i,spatialReference:(r==null?void 0:r.clone())??void 0,geometryType:s};return new nO(n)}};h([ke({queryTable:"query-table"}),f({json:{write:{isRequired:!0}}})],bl.prototype,"type",void 0),h([f({type:String,json:{write:!0}})],bl.prototype,"workspaceId",void 0),h([f({type:String,json:{write:!0}})],bl.prototype,"query",void 0),h([f({type:String,json:{write:!0}})],bl.prototype,"oidFields",void 0),h([f({type:Se,json:{write:!0}})],bl.prototype,"spatialReference",void 0),h([ke(n6)],bl.prototype,"geometryType",void 0),bl=nO=h([I("esri.layers.support.source.QueryTableDataSource")],bl);var oO;let Gf=oO=class extends ae{constructor(t){super(t),this.type="raster"}clone(){const{workspaceId:t,dataSourceName:e}=this;return new oO({workspaceId:t,dataSourceName:e})}};h([ke({raster:"raster"}),f({json:{write:{isRequired:!0}}})],Gf.prototype,"type",void 0),h([f({type:String,json:{write:!0}})],Gf.prototype,"dataSourceName",void 0),h([f({type:String,json:{write:!0}})],Gf.prototype,"workspaceId",void 0),Gf=oO=h([I("esri.layers.support.source.RasterDataSource")],Gf);var aO;let nd=aO=class extends ae{constructor(t){super(t),this.type="table"}clone(){const{workspaceId:t,gdbVersion:e,dataSourceName:i}=this;return new aO({workspaceId:t,gdbVersion:e,dataSourceName:i})}};h([ke({table:"table"}),f({json:{write:{isRequired:!0}}})],nd.prototype,"type",void 0),h([f({type:String,json:{write:!0}})],nd.prototype,"workspaceId",void 0),h([f({type:String,json:{write:!0}})],nd.prototype,"gdbVersion",void 0),h([f({type:String,json:{write:!0}})],nd.prototype,"dataSourceName",void 0),nd=aO=h([I("esri.layers.support.source.TableDataSource")],nd);var lO,uO;const dSe=wr()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let an=lO=class extends ae{constructor(t){super(t),this.type="join-table"}readLeftTableSource(t,e,i){return X7()(t,e,i)}castLeftTableSource(t){return Bc(cO(),t)}readRightTableSource(t,e,i){return X7()(t,e,i)}castRightTableSource(t){return Bc(cO(),t)}clone(){const{leftTableKey:t,rightTableKey:e,leftTableSource:i,rightTableSource:r,joinType:s}=this,n={leftTableKey:t,rightTableKey:e,leftTableSource:(i==null?void 0:i.clone())??void 0,rightTableSource:(r==null?void 0:r.clone())??void 0,joinType:s};return new lO(n)}};h([ke({joinTable:"join-table"}),f({json:{write:{isRequired:!0}}})],an.prototype,"type",void 0),h([f({type:String,json:{write:!0}})],an.prototype,"leftTableKey",void 0),h([f({type:String,json:{write:!0}})],an.prototype,"rightTableKey",void 0),h([f({json:{write:!0}})],an.prototype,"leftTableSource",void 0),h([Ie("leftTableSource")],an.prototype,"readLeftTableSource",null),h([Ot("leftTableSource")],an.prototype,"castLeftTableSource",null),h([f({json:{write:!0}})],an.prototype,"rightTableSource",void 0),h([Ie("rightTableSource")],an.prototype,"readRightTableSource",null),h([Ot("rightTableSource")],an.prototype,"castRightTableSource",null),h([ke(dSe)],an.prototype,"joinType",void 0),an=lO=h([I("esri.layers.support.source.JoinTableDataSource")],an);let M5=null;function X7(){return M5||(M5=cg({types:cO()})),M5}let E5=null;function cO(){return E5||(E5={key:"type",base:null,typeMap:{"data-layer":xa,"map-layer":Bf}}),E5}const pSe={key:"type",base:null,typeMap:{"join-table":an,"query-table":bl,raster:Gf,table:nd}};var ly;let xa=(ly=class extends ae{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:i}=this;return new uO({fields:e,dataSource:i})}},uO=ly,ly);h([ke({dataLayer:"data-layer"}),f({json:{write:{isRequired:!0}}})],xa.prototype,"type",void 0),h([f({type:[Qi],json:{write:!0}})],xa.prototype,"fields",void 0),h([f({types:pSe,json:{write:!0}})],xa.prototype,"dataSource",void 0),xa=uO=h([I("esri.layers.support.source.DataLayerSource")],xa),xa.from=nr(xa);let od=class extends rt(ae){constructor(e){super(e),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};h([f({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.onFields!=null&&this.onFields.length>0}}}}})],od.prototype,"onFields",void 0),h([f({type:String,json:{write:!0}})],od.prototype,"operator",void 0),h([f({type:String,json:{write:!0}})],od.prototype,"searchTerm",void 0),h([f({type:String,json:{write:!0}})],od.prototype,"searchType",void 0),od=h([I("esri.rest.support.FullTextSearch")],od);const fSe=od;var hO;const Q7=new ct({upperLeft:"upper-left",lowerLeft:"lower-left"});let dc=hO=class extends ae{constructor(t){super(t),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new hO(G({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};h([f({type:Ye,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],dc.prototype,"extent",void 0),h([f({type:["view","edit"],json:{write:!0}})],dc.prototype,"mode",void 0),h([f({type:String,json:{read:Q7.read,write:Q7.write}})],dc.prototype,"originPosition",void 0),h([f({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],dc.prototype,"tolerance",void 0),dc=hO=h([I("esri.rest.support.QuantizationParameters")],dc);const mSe=t=>{const e=t;let i=class extends e{};return i=h([I("esri.rest.support.QueryMixin")],i),i},ySe=new ct({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});var dO;const e9=new ct({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let ko=dO=class extends ae{constructor(t){super(t),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(t,e){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(e.statisticParameters=G(t))}clone(){return new dO({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:G(this.statisticParameters)})}};h([f({type:Number,json:{write:!0}})],ko.prototype,"maxPointCount",void 0),h([f({type:Number,json:{write:!0}})],ko.prototype,"maxRecordCount",void 0),h([f({type:Number,json:{write:!0}})],ko.prototype,"maxVertexCount",void 0),h([f({type:String,json:{write:!0}})],ko.prototype,"onStatisticField",void 0),h([f({type:String,json:{write:!0}})],ko.prototype,"outStatisticFieldName",void 0),h([f({type:String,json:{read:{source:"statisticType",reader:e9.read},write:{target:"statisticType",writer:e9.write}}})],ko.prototype,"statisticType",void 0),h([f({type:Object})],ko.prototype,"statisticParameters",void 0),h([_e("statisticParameters")],ko.prototype,"writeStatisticParameters",null),ko=dO=h([I("esri.rest.support.StatisticDefinition")],ko);var eS;const gSe=new ct({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});var Qd;let xe=(Qd=class extends mSe(ae){static from(e){return Tw(eS,e)}constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.returnTrueCurves=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(e){return typeof e=="number"||typeof e=="object"?e:null}writeHistoricMoment(e,i){i.historicMoment=e&&e.getTime()}writeParameterValues(e,i){if(e){const r={};for(const s in e){const n=e[s];Array.isArray(n)?r[s]=n.map(o=>o instanceof Date?o.getTime():o):n instanceof Date?r[s]=n.getTime():r[s]=n}i.parameterValues=r}}writeStart(e,i){i.resultOffset=this.start,i.resultRecordCount=this.num||10,i.where="1=1"}writeWhere(e,i){i.where=e||"1=1"}clone(){return new eS(G({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment!=null?new Date(this.historicMoment):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,returnTrueCurves:this.returnTrueCurves,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}},eS=Qd,Qd.MAX_MAX_RECORD_COUNT_FACTOR=5,Qd);h([f({json:{write:!0}})],xe.prototype,"aggregateIds",void 0),h([f({type:Boolean,json:{write:!0}})],xe.prototype,"cacheHint",void 0),h([f({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"compactGeometryEnabled",void 0),h([f({json:{write:!0}})],xe.prototype,"datumTransformation",void 0),h([Ot("datumTransformation")],xe.prototype,"castDatumTransformation",null),h([f({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"defaultSpatialReferenceEnabled",void 0),h([f({type:Number,json:{write:!0}})],xe.prototype,"distance",void 0),h([f({type:xa,json:{write:!0}})],xe.prototype,"dynamicDataSource",void 0),h([f({type:String,json:{write:!0}})],xe.prototype,"formatOf3DObjects",void 0),h([f({type:[fSe],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.fullText!=null&&this.fullText.length>0}}}}})],xe.prototype,"fullText",void 0),h([f({type:String,json:{write:!0}})],xe.prototype,"gdbVersion",void 0),h([f({types:Nw,json:{read:Jc,write:!0}})],xe.prototype,"geometry",void 0),h([f({type:Number,json:{write:!0}})],xe.prototype,"geometryPrecision",void 0),h([f({type:[String],json:{write:!0}})],xe.prototype,"groupByFieldsForStatistics",void 0),h([f({type:String,json:{write:!0}})],xe.prototype,"having",void 0),h([f({type:Date})],xe.prototype,"historicMoment",void 0),h([_e("historicMoment")],xe.prototype,"writeHistoricMoment",null),h([f({type:Number,json:{write:!0}})],xe.prototype,"maxAllowableOffset",void 0),h([f({type:Number,cast:t=>t<1?1:t>xe.MAX_MAX_RECORD_COUNT_FACTOR?xe.MAX_MAX_RECORD_COUNT_FACTOR:t,json:{write:{overridePolicy:t=>({enabled:t>1})}}})],xe.prototype,"maxRecordCountFactor",void 0),h([f({type:["xyFootprint"],json:{write:!0}})],xe.prototype,"multipatchOption",void 0),h([f({type:Number,json:{read:{source:"resultRecordCount"}}})],xe.prototype,"num",void 0),h([f({json:{write:!0}})],xe.prototype,"objectIds",void 0),h([f({type:[String],json:{write:!0}})],xe.prototype,"orderByFields",void 0),h([f({type:[String],json:{write:!0}})],xe.prototype,"outFields",void 0),h([f({type:Se,json:{name:"outSR",write:!0}})],xe.prototype,"outSpatialReference",void 0),h([f({type:[ko],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.outStatistics!=null&&this.outStatistics.length>0}}}}})],xe.prototype,"outStatistics",void 0),h([f({json:{write:!0}})],xe.prototype,"parameterValues",void 0),h([_e("parameterValues")],xe.prototype,"writeParameterValues",null),h([f({type:Re,json:{write:!0}})],xe.prototype,"pixelSize",void 0),h([f({type:dc,json:{write:!0}})],xe.prototype,"quantizationParameters",void 0),h([f({type:[Object],json:{write:!0}})],xe.prototype,"rangeValues",void 0),h([f({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],xe.prototype,"relationParameter",void 0),h([f({type:String,json:{write:!0}})],xe.prototype,"resultType",void 0),h([f({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"returnCentroid",void 0),h([f({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"returnDistinctValues",void 0),h([f({type:Boolean,json:{default:!0,write:!0}})],xe.prototype,"returnExceededLimitFeatures",void 0),h([f({type:Boolean,json:{write:!0}})],xe.prototype,"returnGeometry",void 0),h([f({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"returnQueryGeometry",void 0),h([f({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"returnM",void 0),h([f({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],xe.prototype,"returnZ",void 0),h([f({type:Boolean,json:{write:!0}})],xe.prototype,"returnTrueCurves",void 0),h([f({type:Se,json:{write:!0}})],xe.prototype,"sourceSpatialReference",void 0),h([ke(ySe,{ignoreUnknown:!1,name:"spatialRel"})],xe.prototype,"spatialRelationship",void 0),h([f({type:Number,json:{read:{source:"resultOffset"}}})],xe.prototype,"start",void 0),h([_e("start"),_e("num")],xe.prototype,"writeStart",null),h([f({type:String,json:{write:!0}})],xe.prototype,"sqlFormat",void 0),h([f({type:String,json:{write:!0}})],xe.prototype,"text",void 0),h([f({type:Ii,json:{write:!0}})],xe.prototype,"timeExtent",void 0),h([f({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"timeReferenceUnknownClient",void 0),h([ke(gSe,{ignoreUnknown:!1}),f({json:{write:{overridePolicy(t){return{enabled:!!t&&this.distance!=null}}}}})],xe.prototype,"units",void 0),h([f({type:String,json:{write:{overridePolicy(t){return{enabled:t!=null||this.start!=null&&this.start>0}}}}})],xe.prototype,"where",void 0),h([_e("where")],xe.prototype,"writeWhere",null),xe=eS=h([I("esri.rest.support.Query")],xe);var pO;const A5=new ct({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),O5=new ct({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let ya=pO=class extends ae{constructor(t){super(t),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(t={}){const{where:e,geometry:i,spatialRelationship:r,timeExtent:s,objectIds:n,units:o,distance:l}=this;return new xe({geometry:G(i),objectIds:G(n),spatialRelationship:r,timeExtent:G(s),where:e,units:o,distance:l,...t})}clone(){const{where:t,geometry:e,spatialRelationship:i,timeExtent:r,objectIds:s,units:n,distance:o}=this;return new pO({geometry:G(e),objectIds:G(s),spatialRelationship:i,timeExtent:G(r),where:t,units:n,distance:o})}};h([f({type:String,json:{write:!0}})],ya.prototype,"where",void 0),h([f({types:Nw,json:{write:!0}})],ya.prototype,"geometry",void 0),h([f({type:A5.apiValues,json:{name:"spatialRel",read:{reader:A5.read},write:{allowNull:!1,writer:A5.write,overridePolicy(){return{enabled:this.geometry!=null}}}}})],ya.prototype,"spatialRelationship",void 0),h([f({type:Number,json:{write:{overridePolicy(t){return{enabled:t!=null&&this.geometry!=null}}}}})],ya.prototype,"distance",void 0),h([f({type:[Number],json:{write:!0}})],ya.prototype,"objectIds",void 0),h([f({type:O5.apiValues,json:{read:O5.read,write:{writer:O5.write,overridePolicy(t){return{enabled:t!=null&&this.geometry!=null}}}}})],ya.prototype,"units",void 0),h([f({type:Ii,json:{write:!0}})],ya.prototype,"timeExtent",void 0),ya=pO=h([I("esri.layers.support.FeatureFilter")],ya);const vSe=ya;var fO;const t9={read:{reader:tw},write:{writer:iw,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}},i9={read:{reader:tw},write:{writer:iw,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}},r9={name:"showExcludedLabels",default:!0};let ad=fO=class extends ae{constructor(t){super(t),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(t,e){var r,s;const i=super.write(t,e);if(e!=null&&e.origin){if(i.filter){const n=Object.keys(i.filter);if(n.length>1||n[0]!=="where")return(r=e.messages)==null||r.push(new B("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:e.layer,effect:this})),null}if("showExcludedLabels"in i)return(s=e.messages)==null||s.push(new B("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:e.layer,effect:this})),null}return i}clone(){return new fO({filter:this.filter!=null?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};h([f({type:vSe,json:{write:{allowNull:!0,writer(t,e,i,r){const s=t==null?void 0:t.write({},r);s&&Object.keys(s).length!==0?bs(i,s,e):bs(i,null,e)}}}})],ad.prototype,"filter",void 0),h([f({json:{read:tw,write:{writer:iw,allowNull:!0},origins:{"web-map":t9,"portal-item":t9}}})],ad.prototype,"includedEffect",void 0),h([f({json:{read:tw,write:{writer:iw,allowNull:!0},origins:{"web-map":i9,"portal-item":i9}}})],ad.prototype,"excludedEffect",void 0),h([f({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":r9,"portal-item":r9}}})],ad.prototype,"excludedLabelsVisible",void 0),ad=fO=h([I("esri.layers.support.FeatureEffect")],ad);const s9={write:{allowNull:!0}},wSe={type:ad,json:{origins:{"web-map":s9,"portal-item":s9}}},bSe=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return h([f(wSe)],i.prototype,"featureEffect",void 0),i=h([I("esri.layers.mixins.FeatureEffectLayer")],i),i};let _Se=class extends K1{constructor(e){super(),this.type="aggregate",this.featureReductionProvider=e}get id(){return this.featureReductionProvider.id}get[Dw](){const e=this.featureReductionProvider.featureReduction;return e&&"popupTemplate"in e?e:null}},wc=class extends rt(ae){constructor(e){super(e),this.expression=null,this.title=null,this.returnType=null}};h([f({type:String,json:{write:!0}})],wc.prototype,"expression",void 0),h([f({type:String,json:{write:!0}})],wc.prototype,"title",void 0),h([f({type:String,json:{write:!0}})],wc.prototype,"returnType",void 0),wc=h([I("esri.layers.support.ExpressionInfo")],wc);var mO,uy;let Br=(uy=class extends ae{constructor(e){super(e),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new mO({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:G(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}},mO=uy,uy);h([f({type:Boolean,json:{write:!0}})],Br.prototype,"isAutoGenerated",void 0),h([f({type:String,json:{write:!0}})],Br.prototype,"name",void 0),h([f({type:String,json:{write:!0}})],Br.prototype,"alias",void 0),h([f({type:String,json:{write:!0}})],Br.prototype,"onStatisticField",void 0),h([f({type:wc,json:{write:!0}})],Br.prototype,"onStatisticExpression",void 0),h([f({type:String,json:{write:!0}})],Br.prototype,"statisticType",void 0),Br=mO=h([I("esri.layers.support.AggregateField")],Br);let Ic=class extends ae{constructor(){super(...arguments),this.type=null}};h([f({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],Ic.prototype,"type",void 0),Ic=h([I("esri.layers.support.FeatureReduction")],Ic);var yO;let _v=yO=class extends ae{constructor(t){super(t),this.expression=void 0,this.title=void 0}async collectRequiredFields(t,e){return Ss(t,e,null,this.expression)}clone(){return new yO({expression:this.expression,title:this.title})}equals(t){return this.expression===t.expression&&this.title===t.title}};h([f({type:String,json:{write:{isRequired:!0}}})],_v.prototype,"expression",void 0),h([f({type:String,json:{write:!0}})],_v.prototype,"title",void 0),_v=yO=h([I("esri.symbols.support.FeatureExpressionInfo")],_v);const n9=_v,jT={unknown:1,inches:_i(1,"meters","inches"),feet:_i(1,"meters","feet"),"us-feet":_i(1,"meters","us-feet"),yards:_i(1,"meters","yards"),miles:_i(1,"meters","miles"),"nautical-miles":_i(1,"meters","nautical-miles"),millimeters:_i(1,"meters","millimeters"),centimeters:_i(1,"meters","centimeters"),decimeters:_i(1,"meters","decimeters"),meters:_i(1,"meters","meters"),kilometers:_i(1,"meters","kilometers"),"decimal-degrees":1/G0e(1,"meters",hi.radius)};function O7e(t){return!!t&&jT[t]!=null}function k7e(t){return 1/(jT[t]||1)}function SSe(){const t=Object.keys(jT);return zC(t,"decimal-degrees"),t.sort(),t}const xSe=SSe(),A_=wr()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),o9=new ct({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let _l=class extends rt(ae){constructor(e){super(e),this.featureExpressionInfo=void 0,this.offset=null}readFeatureExpressionInfo(e,i){return e!=null?e.expression?e:void 0:i.featureExpression&&i.featureExpression.value===0?{expression:"0"}:void 0}writeFeatureExpressionInfo(e,i,r,s){i[r]=e.write({},s),e.expression==="0"&&(i.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:i}=this;return this._isOverridden("mode")?this._get("mode"):e!=null||i?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,i){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,i):null}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&Xce(this.featureExpressionInfo,e.featureExpressionInfo)}};h([f({type:n9,json:{write:!0}})],_l.prototype,"featureExpressionInfo",void 0),h([Ie("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],_l.prototype,"readFeatureExpressionInfo",null),h([_e("featureExpressionInfo",{featureExpressionInfo:{type:n9},"featureExpression.value":{type:[0]}})],_l.prototype,"writeFeatureExpressionInfo",null),h([f({type:A_.apiValues,nonNullable:!0,json:{type:A_.jsonValues,read:A_.read,write:{writer:A_.write,isRequired:!0}}})],_l.prototype,"mode",null),h([f({type:Number,json:{write:!0}})],_l.prototype,"offset",void 0),h([f({type:xSe,json:{type:String,read:o9.read,write:o9.write}})],_l.prototype,"unit",null),_l=h([I("esri.symbols.support.ElevationInfo")],_l);let Hf=class extends ae{constructor(e){super(e),this.description=null,this.label=null,this.type=null}};h([f({type:String,json:{write:!0}})],Hf.prototype,"description",void 0),h([f({type:String,json:{write:!0}})],Hf.prototype,"label",void 0),h([f()],Hf.prototype,"type",void 0),Hf=h([I("esri.tables.elements.AttributeTableElement")],Hf);const Tg=Hf;let Sv=class extends rt(Tg){constructor(e){super(e),this.displayType="auto",this.type="attachment"}clone(){return super.clone()}};h([f({type:["auto"],json:{write:!0}})],Sv.prototype,"displayType",void 0),h([f({type:["attachment"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],Sv.prototype,"type",void 0),Sv=h([I("esri.tables.elements.AttributeTableAttachmentElement")],Sv);const VJ=Sv;let ld=class extends rt(Tg){constructor(e){super(e),this.description=null,this.fieldName=null,this.label=null,this.type="field"}clone(){return super.clone()}};h([f({type:String,json:{read:!1,write:!1}})],ld.prototype,"description",void 0),h([f({type:String,json:{write:{enabled:!0,isRequired:!0}}})],ld.prototype,"fieldName",void 0),h([f({type:String,json:{read:!1,write:!1}})],ld.prototype,"label",void 0),h([f({type:["field"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],ld.prototype,"type",void 0),ld=h([I("esri.tables.elements.AttributeTableFieldElement")],ld);const FJ=ld;let xv=class extends rt(Tg){constructor(e){super(e),this.relationshipId=null,this.type="relationship"}clone(){return super.clone()}};h([f({type:Number,json:{type:ot,write:{enabled:!0,isRequired:!0}}})],xv.prototype,"relationshipId",void 0),h([f({type:["relationship"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],xv.prototype,"type",void 0),xv=h([I("esri.tables.elements.AttributeTableRelationshipElement")],xv);const zJ=xv,UJ={base:Tg,key:"type",typeMap:{attachment:VJ,field:FJ,relationship:zJ}};function TSe(t){return{typesWithGroup:{base:Tg,key:"type",typeMap:{attachment:VJ,field:FJ,group:t,relationship:zJ}},typesWithoutGroup:UJ}}let Tv=class extends rt(Tg){constructor(e){super(e),this.elements=null,this.type="group"}clone(){return super.clone()}};h([f({types:[UJ],json:{name:"attributeTableElements",write:!0}})],Tv.prototype,"elements",void 0),h([f({type:["group"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],Tv.prototype,"type",void 0),Tv=h([I("esri.tables.elements.AttributeTableGroupElement")],Tv);const $Se=Tv;let $v=class extends rt(ae){constructor(e){super(e),this.field=null,this.order=null}};h([f({type:String,json:{write:!0}})],$v.prototype,"field",void 0),h([f({type:["asc","desc"],json:{write:!0}})],$v.prototype,"order",void 0),$v=h([I("esri.tables.support.FieldOrder")],$v);const MSe=$v;var gO;const ESe=TSe($Se);let Mv=gO=class extends ae{constructor(t){super(t),this.elements=null,this.orderByFields=null}clone(){return new gO({elements:G(this.elements),orderByFields:G(this.orderByFields)})}};h([f({types:[ESe.typesWithGroup],json:{name:"attributeTableElements",write:!0}})],Mv.prototype,"elements",void 0),h([f({type:[MSe],json:{write:!0}})],Mv.prototype,"orderByFields",void 0),Mv=gO=h([I("esri.tables.AttributeTableTemplate")],Mv);const ASe=Mv,OSe={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:ji}}},NT={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(t,e)=>!e.disablePopup},write:{enabled:!0,writer(t,e,i){e[i]=!t}}}},DT={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:ji}}},kSe={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:lp}}},CSe={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:ji}}},RSe={value:null,type:_l,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:ji}}};function L7e(t){return{type:t,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const qJ={write:{enabled:!0,layerContainerTypes:ji},read:!0},gx={type:Number,json:{origins:{"web-document":qJ,"portal-item":{write:{layerContainerTypes:ji}}}}},V7e={...gx,json:{...gx.json,origins:{"web-document":{...qJ,write:{enabled:!0,layerContainerTypes:ji,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(t,e,i)=>{var r;return i&&i.origin!=="service"||!e.drawingInfo||e.drawingInfo.transparency===void 0?(r=e.layerDefinition)!=null&&r.drawingInfo&&e.layerDefinition.drawingInfo.transparency!==void 0?ew(e.layerDefinition.drawingInfo.transparency):void 0:ew(e.drawingInfo.transparency)}}}},F7e={type:Ye,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(t,e)=>{const i=Ye.fromJSON(t);return e.spatialReference!=null&&typeof e.spatialReference=="object"&&(i.spatialReference=Se.fromJSON(e.spatialReference)),i}}}},read:!1}},ISe={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},z7e={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.minScale",write:{layerContainerTypes:ji}}},U7e={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.maxScale",write:{layerContainerTypes:ji}}},PSe={json:{write:{ignoreOrigin:!0,layerContainerTypes:ji},origins:{"web-map":{read:!1,write:!1}}}},jSe={type:ASe,json:{name:"attributeTableInfo",write:!0}};function q7e(t,e,i){return YC(t.map((r,s)=>e.apply(i,[r,s])))}async function NSe(t,e,i){return(await YC(t.map((r,s)=>e.apply(i,[r,s])))).map(r=>r.value)}function b6(t){return{ok:!0,value:t}}function _6(t){return{ok:!1,error:t}}function DSe(t){return t!=null&&t.ok===!0?t.value:null}function LSe(t){return t!=null&&t.ok===!1?t.error:null}async function S6(t){if(t==null)return{ok:!1,error:new Error("no promise provided")};try{return b6(await t)}catch(e){return _6(e)}}async function VSe(t){try{return b6(await t)}catch(e){return Aa(e),_6(e)}}function LT(t,e){return new ec(t,e)}let ec=class extends $e{get value(){return DSe(this._result)}get error(){return LSe(this._result)}get finished(){return this._result!=null}constructor(e,i){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=sp(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:r}=this._abortController;this.promise=e(r),this.promise.then(s=>{this._result=b6(s),this._cleanup()},s=>{this._result=_6(s),this._cleanup()}),this._abortHandle=ao(i,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=Dt(this._abortHandle),this._abortController=null}};h([f()],ec.prototype,"value",null),h([f()],ec.prototype,"error",null),h([f()],ec.prototype,"finished",null),h([f()],ec.prototype,"promise",void 0),h([f()],ec.prototype,"_result",void 0),ec=h([I("esri.core.asyncUtils.ReactiveTask")],ec);async function FSe(t,e,i){e=e.clone(),t.capabilities.query.supportsMaxRecordCountFactor&&(e.maxRecordCountFactor=BJ(t));const r=zSe(t),s=t.capabilities.query.supportsPagination;e.start=0,e.num=r;let n=null;for(;;){const o=await t.source.queryFeaturesJSON(e,i);if(n==null?n=o:n.features=n.features.concat(o.features),n.exceededTransferLimit=o.exceededTransferLimit,!s||!o.exceededTransferLimit)break;e.start+=r}return n}function zSe(t){return BJ(t)*USe(t)}function USe(t){return t.capabilities.query.maxRecordCount||2e3}function BJ(t){return t.capabilities.query.supportsMaxRecordCountFactor?xe.MAX_MAX_RECORD_COUNT_FACTOR:1}const O_=new WeakMap;function GJ(t){return!t.destroyed&&(O_.has(t)||t.addHandles([Le(()=>{const{parent:e}=t;return!!(e&&e instanceof Kt)&&(e.type==="catalog-dynamic-group"||GJ(e))},e=>O_.set(t,e),qr),at(()=>O_.delete(t))]),O_.get(t))}const HJ=Symbol("BasemapInstance");function G7e(t){return t!=null&&typeof t=="object"&&HJ in t}function qSe(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="feature"}function H7e(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="graphics"}function BSe(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="map-image"}function GSe(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="knowledge-graph"&&"layers"in t}function W7e(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="knowledge-graph-sublayer"}function a9(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="subtype-group"&&"sublayers"in t}function Wf(t){return(t==null?void 0:t.type)==="subtype-sublayer"}const Z7e={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function vO(t){const e=t==null?void 0:t.type;return e==="building-scene"||e==="integrated-mesh"||e==="point-cloud"||e==="scene"}function Y7e(t){return t.type==="integrated-mesh"||t.type==="integrated-mesh-3dtiles"}function VT(t){var e;return(t==null?void 0:t.type)==="feature"&&!t.url&&((e=t.source)==null?void 0:e.type)==="memory"}function J7e(t){var i;const e=t==null?void 0:t.type;return(e==="feature"||e==="subtype-group"||e==="oriented-imagery")&&((i=t==null?void 0:t.source)==null?void 0:i.type)==="feature-layer"}function HSe(t){var e;return(t==null?void 0:t.type)==="feature"&&((e=t.source)==null?void 0:e.type)==="feature-layer"}function K7e(t){return qSe(t)&&HSe(t)}async function x6(t,e){const i=ze==null?void 0:ze.findServerInfo(t);if((i==null?void 0:i.currentVersion)!=null)return i.owningSystemUrl||null;const r=t.toLowerCase().indexOf("/rest/services");if(r===-1)return null;const s=`${t.slice(0,r)}/rest/info`,n=e!=null?e.signal:null,{data:o}=await Bt(s,{query:{f:"json"},responseType:"json",signal:n});return(o==null?void 0:o.owningSystemUrl)||null}function WJ(t){if(!("capabilities"in t))return!1;switch(t.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function WSe(t){return WJ(t)?"effectiveCapabilities"in t?t.effectiveCapabilities:t.capabilities:null}function ZSe(t){if(!("editingEnabled"in t))return!1;switch(t.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":case"knowledge-graph-sublayer":return!0;default:return!1}}function YSe(t){return!!ZSe(t)&&("effectiveEditingEnabled"in t?t.effectiveEditingEnabled:t.editingEnabled)}function JSe(t,e){return null}function X7e(t){return null}function KSe(t){return!t||t.type==="Feature Service"&&!t.sourceUrl}function Q7e(t,e){!e||!KSe(t)||JSe(t.url)}var wO;let Ev=wO=class extends ae{constructor(t){super(t),this.minValue=0,this.maxValue=0}clone(){return new wO({minValue:this.minValue,maxValue:this.maxValue})}};h([f({type:Number,json:{write:!0}})],Ev.prototype,"minValue",void 0),h([f({type:Number,json:{write:!0}})],Ev.prototype,"maxValue",void 0),Ev=wO=h([I("esri.renderers.support.AuthoringInfoClassBreakInfo")],Ev);var bO;let pc=bO=class extends ae{constructor(t){super(t),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=new Array}clone(){return new bO({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:G(this.classBreakInfos)})}};h([f({type:String,json:{write:!0}})],pc.prototype,"field",void 0),h([f({type:String,json:{write:!0}})],pc.prototype,"normalizationField",void 0),h([f({type:String,json:{write:!0}})],pc.prototype,"label",void 0),h([f({type:[Ev],json:{write:!0}})],pc.prototype,"classBreakInfos",void 0),pc=bO=h([I("esri.renderers.support.AuthoringInfoFieldInfo")],pc);var _O;let Zf=_O=class extends ae{constructor(t){super(t),this.label=null,this.size=null,this.value=null}clone(){return new _O({label:this.label,value:this.value,size:this.size})}};h([f({type:String,json:{write:!0}})],Zf.prototype,"label",void 0),h([f({type:Number,json:{write:!0}})],Zf.prototype,"size",void 0),h([f({type:Number,json:{write:!0}})],Zf.prototype,"value",void 0),Zf=_O=h([I("esri.renderers.support.AuthoringInfoSizeStop")],Zf);const XSe=Zf;var SO;const k_=new ct({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),C_=new ct({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),l9={key:t=>typeof t=="number"?"number":"string",typeMap:{number:Number,string:String},base:null},u9=["high-to-low","above-and-below","centered-on","extremes"],c9=[...new Set(["high-to-low","above-and-below","centered-on","extremes","above","below","high-to-low","above-and-below","above","below","reference-size","spike"])],h9=["seconds","minutes","hours","days","months","years"],QSe=["circle","diamond","hexagon-flat","hexagon-pointy","square"],exe=["triangle-closed-outline","triangle-gradient-fill-closed","triangle-gradient-fill-closed-outline","triangle-gradient-fill-open","triangle-gradient-fill-open-outline","triangle-open-outline","triangle-solid-fill-closed","triangle-solid-fill-closed-outline","triangle-solid-fill-open","triangle-solid-fill-open-outline"];let Ji=SO=class extends ae{constructor(t){super(t),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(t){return typeof t=="string"||typeof t=="number"?t:null}get normalizationField(){return this.theme==="reference-size"||this.theme==="spike"?this._get("normalizationField"):null}set normalizationField(t){this._set("normalizationField",t)}get referenceSizeScale(){return this.theme==="reference-size"?this._get("referenceSizeScale"):null}set referenceSizeScale(t){this._set("referenceSizeScale",t)}get referenceSizeSymbolStyle(){return this.theme==="reference-size"?this._get("referenceSizeSymbolStyle"):null}set referenceSizeSymbolStyle(t){this._set("referenceSizeSymbolStyle",t)}get spikeSymbolStyle(){return this.theme==="spike"?this._get("spikeSymbolStyle"):null}set spikeSymbolStyle(t){this._set("spikeSymbolStyle",t)}castStartTime(t){return typeof t=="string"||typeof t=="number"?t:null}get sizeStops(){return this.theme==="reference-size"||this.theme==="spike"?this._get("sizeStops"):null}set sizeStops(t){this._set("sizeStops",t)}get style(){return this.type==="color"?this._get("style"):null}set style(t){this._set("style",t)}get theme(){return this.type==="color"||this.type==="size"?this._get("theme")||"high-to-low":null}set theme(t){this._set("theme",t)}clone(){return new SO({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,normalizationField:this.normalizationField,referenceSizeScale:this.referenceSizeScale,referenceSizeSymbolStyle:this.referenceSizeSymbolStyle,spikeSymbolStyle:this.spikeSymbolStyle,sizeStops:G(this.sizeStops),startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};h([f({types:l9,json:{write:!0}})],Ji.prototype,"endTime",void 0),h([Ot("endTime")],Ji.prototype,"castEndTime",null),h([f({type:String,json:{write:!0}})],Ji.prototype,"field",void 0),h([f({type:Number,json:{write:!0}})],Ji.prototype,"maxSliderValue",void 0),h([f({type:Number,json:{write:!0}})],Ji.prototype,"minSliderValue",void 0),h([f({type:String,json:{origins:{"web-scene":{write:!1}},write:!0}})],Ji.prototype,"normalizationField",null),h([f({type:Number,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],Ji.prototype,"referenceSizeScale",null),h([f({type:QSe,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],Ji.prototype,"referenceSizeSymbolStyle",null),h([f({type:exe,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],Ji.prototype,"spikeSymbolStyle",null),h([f({types:l9,json:{write:!0}})],Ji.prototype,"startTime",void 0),h([Ot("startTime")],Ji.prototype,"castStartTime",null),h([f({type:[XSe],json:{origins:{"web-scene":{write:!1}},write:!0}})],Ji.prototype,"sizeStops",null),h([f({type:k_.apiValues,value:null,json:{type:k_.jsonValues,read:k_.read,write:k_.write}})],Ji.prototype,"style",null),h([f({type:c9,value:null,json:{type:c9,origins:{"web-scene":{type:u9,write:{writer:(t,e)=>{u9.includes(t)&&(e.theme=t)}}}},write:!0}})],Ji.prototype,"theme",null),h([f({type:C_.apiValues,json:{type:C_.jsonValues,read:C_.read,write:C_.write}})],Ji.prototype,"type",void 0),h([f({type:h9,json:{type:h9,write:!0}})],Ji.prototype,"units",void 0),Ji=SO=h([I("esri.renderers.support.AuthoringInfoVisualVariable")],Ji);const txe=Ji;let Lm=class extends ae{constructor(e){super(e),this.type=null}};h([f({readOnly:!0,json:{read:!1,write:!0}})],Lm.prototype,"type",void 0),Lm=h([I("esri.rest.support.ColorRamp")],Lm);var xO;let Gl=xO=class extends Lm{constructor(t){super(t),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new xO({fromColor:G(this.fromColor),toColor:G(this.toColor),algorithm:this.algorithm})}};h([ke({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],Gl.prototype,"algorithm",void 0),h([f({type:Ne,json:{type:[ot],write:{isRequired:!0}}})],Gl.prototype,"fromColor",void 0),h([f({type:Ne,json:{type:[ot],write:{isRequired:!0}}})],Gl.prototype,"toColor",void 0),h([f({type:["algorithmic"],json:{write:{isRequired:!0}}})],Gl.prototype,"type",void 0),Gl=xO=h([I("esri.rest.support.AlgorithmicColorRamp")],Gl);var TO;let Vl=TO=class extends Lm{constructor(t){super(t),this.colorRamps=null,this.type="multipart",this.weights=void 0}writeColorRamps(t,e,i,r){const s=t==null?void 0:t.map(o=>o.toJSON(r)),{weights:n}=this;if(s&&(n!=null&&n.length)&&s.length===(n==null?void 0:n.length)){const o=100/n.reduce((c,d)=>c+d);let l=0;s.forEach((c,d)=>{c.start=l,l+=n[d]*o,c.stop=l})}e.colorRamps=s}readWeights(t,e){var r;const i=(r=e.colorRamps)==null?void 0:r.map(({start:s,stop:n})=>s==null||n==null?-1:n-s);if(!(i!=null&&i.some(s=>s<0)))return i}clone(){return new TO({colorRamps:G(this.colorRamps)})}};h([f({type:[Gl],json:{write:{isRequired:!0}}})],Vl.prototype,"colorRamps",void 0),h([_e("colorRamps")],Vl.prototype,"writeColorRamps",null),h([f({type:["multipart"],json:{write:{isRequired:!0}}})],Vl.prototype,"type",void 0),h([f({type:[Number]})],Vl.prototype,"weights",void 0),h([Ie("weights",["colorRamps"])],Vl.prototype,"readWeights",null),Vl=TO=h([I("esri.rest.support.MultipartColorRamp")],Vl);const ixe={key:"type",base:Lm,typeMap:{algorithmic:Gl,multipart:Vl}};function rxe(t){return t!=null&&t.type?t.type==="algorithmic"?Gl.fromJSON(t):t.type==="multipart"?Vl.fromJSON(t):null:null}var $O;const Dh=new ct({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),R_=new ct({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),d9=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers"],sxe=["high-to-low","above-and-below","above","below"],nxe=["flow-line","wave-front"],oxe=["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"];let Yt=$O=class extends ae{constructor(t){super(t),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const t=this._get("classificationMethod"),e=this.type;return e&&e!=="relationship"?e==="class-breaks-size"||e==="class-breaks-color"?t||"manual":null:t}set classificationMethod(t){this._set("classificationMethod",t)}readColorRamp(t){return t?rxe(t):void 0}get fields(){return this.type&&this.type!=="predominance"?null:this._get("fields")}set fields(t){this._set("fields",t)}get field1(){return this.type&&this.type!=="relationship"?null:this._get("field1")}set field1(t){this._set("field1",t)}get field2(){return this.type&&this.type!=="relationship"?null:this._get("field2")}set field2(t){this._set("field2",t)}get flowTheme(){return this.type==="flow"?this._get("flowTheme"):null}set flowTheme(t){this._set("flowTheme",t)}get focus(){return this.type&&this.type!=="relationship"?null:this._get("focus")}set focus(t){this._set("focus",t)}get numClasses(){return this.type&&this.type!=="relationship"?null:this._get("numClasses")}set numClasses(t){this._set("numClasses",t)}get statistics(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("statistics"):null}set statistics(t){this._set("statistics",t)}get standardDeviationInterval(){const t=this.type;return t&&t!=="relationship"&&t!=="class-breaks-size"&&t!=="class-breaks-color"||this.classificationMethod&&this.classificationMethod!=="standard-deviation"?null:this._get("standardDeviationInterval")}set standardDeviationInterval(t){this._set("standardDeviationInterval",t)}get type(){return this._get("type")}set type(t){let e=t;t==="classed-size"?e="class-breaks-size":t==="classed-color"&&(e="class-breaks-color"),this._set("type",e)}get univariateSymbolStyle(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(t){this._set("univariateSymbolStyle",t)}get univariateTheme(){return this.type==="univariate-color-size"?this._get("univariateTheme"):null}set univariateTheme(t){this._set("univariateTheme",t)}clone(){var t;return new $O({classificationMethod:this.classificationMethod,colorRamp:G(this.colorRamp),fadeRatio:G(this.fadeRatio),fields:(t=this.fields)==null?void 0:t.slice(),field1:G(this.field1),field2:G(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(e=>e.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};h([f({type:Dh.apiValues,value:null,json:{type:Dh.jsonValues,read:Dh.read,write:Dh.write,origins:{"web-document":{default:"manual",type:Dh.jsonValues,read:Dh.read,write:Dh.write}}}})],Yt.prototype,"classificationMethod",null),h([f({types:ixe,json:{write:!0}})],Yt.prototype,"colorRamp",void 0),h([Ie("colorRamp")],Yt.prototype,"readColorRamp",null),h([f({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Yt.prototype,"fadeRatio",void 0),h([f({type:[String],value:null,json:{write:!0}})],Yt.prototype,"fields",null),h([f({type:pc,value:null,json:{write:!0}})],Yt.prototype,"field1",null),h([f({type:pc,value:null,json:{write:!0}})],Yt.prototype,"field2",null),h([f({type:nxe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Yt.prototype,"flowTheme",null),h([f({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],Yt.prototype,"focus",null),h([f({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],Yt.prototype,"isAutoGenerated",void 0),h([f({type:Number,value:null,json:{type:ot,write:!0}})],Yt.prototype,"numClasses",null),h([f({type:d9,json:{type:d9,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],Yt.prototype,"lengthUnit",void 0),h([f({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Yt.prototype,"maxSliderValue",void 0),h([f({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Yt.prototype,"minSliderValue",void 0),h([f({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Yt.prototype,"statistics",null),h([f({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],Yt.prototype,"standardDeviationInterval",null),h([f({type:R_.apiValues,value:null,json:{type:R_.jsonValues,read:R_.read,write:R_.write}})],Yt.prototype,"type",null),h([f({type:[txe],json:{write:!0}})],Yt.prototype,"visualVariables",void 0),h([f({type:oxe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Yt.prototype,"univariateSymbolStyle",null),h([f({type:sxe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Yt.prototype,"univariateTheme",null),Yt=$O=h([I("esri.renderers.support.AuthoringInfo")],Yt);const k5=new ct({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let yn=class extends ae{constructor(e){super(e),this.authoringInfo=null,this.type=null}async getRequiredFields(e){if(!this.collectRequiredFields)return[];const i=new Set;return await this.collectRequiredFields(i,e),Array.from(i).sort()}getSymbol(e,i){}async getSymbolAsync(e,i){}get symbols(){return[]}get arcadeRequired(){return!1}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};h([f({type:Yt,json:{write:!0}})],yn.prototype,"authoringInfo",void 0),h([f({type:k5.apiValues,readOnly:!0,json:{type:k5.jsonValues,read:!1,write:{writer:k5.write,ignoreOrigin:!0,isRequired:!0}}})],yn.prototype,"type",void 0),yn=h([I("esri.renderers.Renderer")],yn);let Av=class extends rt(ae){constructor(){super(...arguments),this.showLegend=null,this.title=null}};h([f({type:Boolean,json:{write:!0}})],Av.prototype,"showLegend",void 0),h([f({type:String,json:{write:!0}})],Av.prototype,"title",void 0),Av=h([I("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],Av);const ZJ=Av,C5=new ct({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let zr=class extends ae{constructor(e){super(e),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(e){return e==null?e:typeof e=="function"?(se.getLogger(this).error(".field: field must be a string value"),null):xw(e)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};h([f()],zr.prototype,"index",void 0),h([f({type:C5.apiValues,readOnly:!0,json:{read:C5.read,write:{writer:C5.write,isRequired:!0}}})],zr.prototype,"type",void 0),h([f({type:String,json:{write:!0}})],zr.prototype,"field",void 0),h([Ot("field")],zr.prototype,"castField",null),h([f({type:String,json:{write:!0}})],zr.prototype,"valueExpression",void 0),h([f({type:String,json:{write:!0}})],zr.prototype,"valueExpressionTitle",void 0),h([f({readOnly:!0})],zr.prototype,"arcadeRequired",null),h([f({type:ZJ,json:{write:!0}})],zr.prototype,"legendOptions",void 0),zr=h([I("esri.renderers.visualVariables.VisualVariable")],zr);var MO;let ud=MO=class extends ae{constructor(t){super(t),this.color=null,this.label=null,this.value=null}writeValue(t,e,i){e[i]=t??0}clone(){return new MO({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};h([f({type:Ne,json:{type:[ot],write:{isRequired:!0}}})],ud.prototype,"color",void 0),h([f({type:String,json:{write:!0}})],ud.prototype,"label",void 0),h([f({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],ud.prototype,"value",void 0),h([_e("value")],ud.prototype,"writeValue",null),ud=MO=h([I("esri.renderers.visualVariables.support.ColorStop")],ud);const axe=ud;var EO;let fc=EO=class extends zr{constructor(t){super(t),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(t){t&&Array.isArray(t)&&(t=t.filter(e=>!!e)).sort((e,i)=>e.value-i.value),this._set("stops",t)}clone(){var t;return new EO({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:(t=this.legendOptions)==null?void 0:t.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(t=>t.value||0)}};h([f({readOnly:!0})],fc.prototype,"cache",null),h([f({type:["color"],json:{type:["colorInfo"]}})],fc.prototype,"type",void 0),h([f({type:String,json:{write:!0}})],fc.prototype,"normalizationField",void 0),h([f({type:[axe],json:{write:!0}})],fc.prototype,"stops",null),fc=EO=h([I("esri.renderers.visualVariables.ColorVariable")],fc);var AO;let tc=AO=class extends ae{constructor(t){super(t),this.label=null,this.opacity=null,this.value=null}readOpacity(t,e){return ew(e.transparency)}writeOpacity(t,e,i){e[i]=h6(t)}clone(){return new AO({label:this.label,opacity:this.opacity,value:this.value})}};h([f({type:String,json:{write:!0}})],tc.prototype,"label",void 0),h([f({type:Number,json:{type:ot,write:{target:"transparency",isRequired:!0}}})],tc.prototype,"opacity",void 0),h([Ie("opacity",["transparency"])],tc.prototype,"readOpacity",null),h([_e("opacity")],tc.prototype,"writeOpacity",null),h([f({type:Number,json:{write:{isRequired:!0}}})],tc.prototype,"value",void 0),tc=AO=h([I("esri.renderers.visualVariables.support.OpacityStop")],tc);const lxe=tc;var OO;let Hl=OO=class extends zr{constructor(t){super(t),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(t){t&&Array.isArray(t)&&(t=t.filter(e=>!!e)).sort((e,i)=>e.value-i.value),this._set("stops",t)}clone(){var t;return new OO({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:(t=this.legendOptions)==null?void 0:t.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(t=>t.value||0)}};h([f({readOnly:!0})],Hl.prototype,"cache",null),h([f({type:["opacity"],json:{type:["transparencyInfo"]}})],Hl.prototype,"type",void 0),h([f({type:String,json:{write:!0}})],Hl.prototype,"normalizationField",void 0),h([f({type:[lxe],json:{write:!0}})],Hl.prototype,"stops",null),Hl=OO=h([I("esri.renderers.visualVariables.OpacityVariable")],Hl);var kO;let mc=kO=class extends zr{constructor(t){super(t),this.axis=null,this.type="rotation",this.rotationType="geographic"}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}clone(){var t;return new kO({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:(t=this.legendOptions)==null?void 0:t.clone()})}};h([f({readOnly:!0})],mc.prototype,"cache",null),h([f({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],mc.prototype,"axis",void 0),h([f({type:["rotation"],json:{type:["rotationInfo"]}})],mc.prototype,"type",void 0),h([f({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],mc.prototype,"rotationType",void 0),mc=kO=h([I("esri.renderers.visualVariables.RotationVariable")],mc);function uxe(t){return ut(t)}var CO;let Fo=CO=class extends ae{constructor(t){super(t),this.label=null,this.size=null,this.value=null,this.useMinValue=null,this.useMaxValue=null}clone(){return new CO({label:this.label,size:this.size,value:this.value,useMaxValue:this.useMaxValue,useMinValue:this.useMinValue})}};h([f({type:String,json:{write:!0}})],Fo.prototype,"label",void 0),h([f({type:Number,cast:ut,json:{write:{isRequired:!0}}})],Fo.prototype,"size",void 0),h([f({type:Number,json:{write:{isRequired:!0}}})],Fo.prototype,"value",void 0),h([f({type:Boolean,json:{write:!1}})],Fo.prototype,"useMinValue",void 0),h([f({type:Boolean,json:{write:!1}})],Fo.prototype,"useMaxValue",void 0),Fo=CO=h([I("esri.renderers.visualVariables.support.SizeStop")],Fo);let tS=class extends ZJ{constructor(){super(...arguments),this.customValues=null}};h([f({type:[Number],json:{write:!0}})],tS.prototype,"customValues",void 0),tS=h([I("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],tS);const cxe=tS;function Mm(t){return t&&t.declaredClass==="esri.renderers.visualVariables.SizeVariable"}function yp(t){return t!=null&&!isNaN(t)&&isFinite(t)}function YJ(t){return t.valueExpression?"expression":t.field&&typeof t.field=="string"?"field":"unknown"}function hxe(t,e){const i=e||YJ(t),r=t.valueUnit||"unknown";return i==="unknown"?"constant":t.stops?"stops":t.minSize!=null&&t.maxSize!=null&&t.minDataValue!=null&&t.maxDataValue!=null?"clamped-linear":r==="unknown"?t.minSize!=null&&t.minDataValue!=null?t.minSize&&t.minDataValue?"proportional":"additive":"identity":"real-world-size"}const JJ=()=>se.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),FT=t=>JJ().warn(`The visualVariable should be an instance of esri.renderers.visualVariables.${t}`),zT=()=>JJ().error("Use of arcade expressions requires an arcade context"),p9=new er,iS=Math.PI,KJ=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function XJ(t,e,i){var x;const r="visualVariables"in t?(x=t.visualVariables)==null?void 0:x.find(T=>T.type==="color"):t;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.ColorVariable")return void FT("ColorVariable");const s=typeof e=="number",n=s?null:e,o=n==null?void 0:n.attributes;let l=s?e:null;const c=r.field,{ipData:d,hasExpression:m}=r.cache;let v=r.cache.compiledFunc;if(!c&&!m){const T=r.stops;return T&&T[0]&&T[0].color}if(typeof l!="number")if(m){if((i==null?void 0:i.arcade)==null)return void zT();const T={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},$=i.arcade.arcadeUtils,O=$.getViewInfo(T),C=$.createExecContext(n,O,i.timeZone);if(!v){const R=$.createSyntaxTree(r.valueExpression);v=$.createFunction(R),r.cache.compiledFunc=v}l=$.executeFunction(v,C)}else o&&(l=o[c]);const w=r.normalizationField,_=o!=null&&w!=null?parseFloat(o[w]):void 0;if(l!=null&&(!w||s||!isNaN(_)&&_!==0)){yp(_)&&!s&&(l/=_);const T=T6(l,d);if(T){const $=T[0],O=T[1],C=$===O?r.stops[$].color:Ne.blendColors(r.stops[$].color,r.stops[O].color,T[2],i!=null?i.color:void 0);return new Ne(C)}}}function QJ(t,e,i){var x;const r="visualVariables"in t?(x=t.visualVariables)==null?void 0:x.find(T=>T.type==="opacity"):t;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.OpacityVariable")return void FT("OpacityVariable");const s=typeof e=="number",n=s?null:e,o=n==null?void 0:n.attributes;let l=s?e:null;const c=r.field,{ipData:d,hasExpression:m}=r.cache;let v=r.cache.compiledFunc;if(!c&&!m){const T=r.stops;return T&&T[0]&&T[0].opacity}if(typeof l!="number")if(m){if((i==null?void 0:i.arcade)==null)return void zT();const T={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},$=i.arcade.arcadeUtils,O=$.getViewInfo(T),C=$.createExecContext(n,O,i.timeZone);if(!v){const R=$.createSyntaxTree(r.valueExpression);v=$.createFunction(R),r.cache.compiledFunc=v}l=$.executeFunction(v,C)}else o&&(l=o[c]);const w=r.normalizationField,_=o!=null&&w!=null?parseFloat(o[w]):void 0;if(l!=null&&(!w||s||!isNaN(_)&&_!==0)){yp(_)&&!s&&(l/=_);const T=T6(l,d);if(T){const $=T[0],O=T[1];if($===O)return r.stops[$].opacity;{const C=r.stops[$].opacity;return C+(r.stops[O].opacity-C)*T[2]}}}}function eK(t,e,i){var _;const r="visualVariables"in t?(_=t.visualVariables)==null?void 0:_.find(x=>x.type==="rotation"):t;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.RotationVariable")return void FT("RotationVariable");const s=r.axis||"heading",n=s==="heading"&&r.rotationType==="arithmetic"?90:0,o=s==="heading"&&r.rotationType==="arithmetic"?-1:1,l=typeof e=="number"?null:e,c=l==null?void 0:l.attributes,d=r.field,{hasExpression:m}=r.cache;let v=r.cache.compiledFunc,w=null;if(!d&&!m)return w;if(m){if((i==null?void 0:i.arcade)==null)return void zT();const x={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},T=i.arcade.arcadeUtils,$=T.getViewInfo(x),O=T.createExecContext(l,$,i.timeZone);if(!v){const C=T.createSyntaxTree(r.valueExpression);v=T.createFunction(C),r.cache.compiledFunc=v}w=T.executeFunction(v,O)}else c&&(w=c[d]);return w=typeof w!="number"||isNaN(w)?null:n+o*w,w}function dxe(t,e,i){const r=typeof e=="number",s=r?null:e,n=s==null?void 0:s.attributes;let o=r?e:null;const{isScaleDriven:l}=t.cache;let c=t.cache.compiledFunc;if(l){const m=i!=null?i.scale:void 0,v=i!=null?i.view:void 0;o=m==null||v==="3d"?pxe(t):m}else if(!r)switch(t.inputValueType){case"expression":{if((i==null?void 0:i.arcade)==null)return void zT();const m={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},v=i.arcade.arcadeUtils,w=v.getViewInfo(m),_=v.createExecContext(s,w,i.timeZone);if(!c){const x=v.createSyntaxTree(t.valueExpression);c=v.createFunction(x),t.cache.compiledFunc=c}o=v.executeFunction(c,_);break}case"field":n&&(o=n[t.field]);break;case"unknown":o=null}if(!yp(o))return null;if(r||!t.normalizationField)return o;const d=n?parseFloat(n[t.normalizationField]):null;return yp(d)&&d!==0?o/d:null}function pxe(t){let e=null,i=null;const r=t.stops;return r?(e=r[0].value,i=r[r.length-1].value):(e=t.minDataValue||0,i=t.maxDataValue||0),(e+i)/2}function UT(t,e,i){var n;const r="visualVariables"in t?(n=t.visualVariables)==null?void 0:n.find(o=>o.type==="size"):t;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.SizeVariable")return void FT("SizeVariable");const s=iK(dxe(r,e,i),r,e,i,r.cache.ipData);return s==null||isNaN(s)?void 0:s}function Hs(t,e,i){return t==null?null:Mm(t)?UT(t,e,i):yp(t)?t:null}function tK(t,e,i){return yp(i)&&t>i?i:yp(e)&&t<e?e:t}function fxe(t,e,i,r){const s=Hs(e.minSize,i,r)||e.minDataValue;return t==null&&s==null?null:(t??0)+(s??0)}function mxe(t,e,i){const r=t.stops;let s=(r==null?void 0:r.length)&&r[0].size;return s==null&&(s=t.minSize),Hs(s,e,i)}function yxe(t,e,i,r){const s=Hs(e.minSize,i,r);if(t==null)return s;const{minDataValue:n,maxDataValue:o}=e;if(n==null||o==null)return null;const l=(t-n)/(o-n),c=Hs(e.maxSize,i,r),d=r!=null?r.shape:void 0;if(t<=n)return s;if(t>=o)return c;if(s==null||c==null)return null;if(e.scaleBy==="area"&&d){const m=d==="circle",v=m?iS*(s/2)**2:s*s,w=v+l*((m?iS*(c/2)**2:c*c)-v);return m?2*Math.sqrt(w/iS):Math.sqrt(w)}return s+l*(c-s)}function gxe(t,e,i,r){const s=Hs(e.minSize,i,r);if(t==null||s==null)return s;const n=r!=null?r.shape:void 0,{minDataValue:o}=e;if(o==null)return null;const l=t/o,c=Hs(e.maxSize,i,r);let d=null;return d=n==="circle"?2*Math.sqrt(l*(s/2)**2):n==="square"||n==="diamond"||n==="image"?Math.sqrt(l*s**2):l*s,tK(d,s,c)}function vxe(t,e,i,r,s){var c,d,m;if(t==null)return null;const[n,o,l]=T6(t,s);if(n===o)return Hs((c=e.stops)==null?void 0:c[n].size,i,r);{const v=Hs((d=e.stops)==null?void 0:d[n].size,i,r),w=Hs((m=e.stops)==null?void 0:m[o].size,i,r);return v==null||w==null?null:v+(w-v)*l}}function wxe(t,e,i,r){const s=((r==null?void 0:r.resolution)??1)*jT[e.valueUnit],n=Hs(e.minSize,i,r),o=Hs(e.maxSize,i,r),{valueRepresentation:l}=e;if(t==null)return n;let c=null;return c=l==="area"?2*Math.sqrt(t/iS)/s:l==="radius"||l==="distance"?2*t/s:t/s,tK(c,n,o)}function iK(t,e,i,r,s){switch(e.transformationType){case"additive":return fxe(t,e,i,r);case"constant":return mxe(e,i,r);case"clamped-linear":return yxe(t,e,i,r);case"proportional":return gxe(t,e,i,r);case"stops":return vxe(t,e,i,r,s);case"real-world-size":return wxe(t,e,i,r);case"identity":return t;case"unknown":return null}}function bxe(t,e,i){const{isScaleDriven:r}=t.cache;if(!(r&&i==="3d"||e))return null;const s={scale:e,view:i};let n=Hs(t.minSize,p9,s),o=Hs(t.maxSize,p9,s);if(n!=null||o!=null){if(n>o){const l=o;o=n,n=l}return{minSize:n,maxSize:o}}}function _xe(t,e,i){if(!t.visualVariables)return;const r=[],s=[],n=[],o=[],l=[];for(const c of t.visualVariables)switch(c.type){case"color":s.push(c);break;case"opacity":n.push(c);break;case"rotation":l.push(c);break;case"size":o.push(c)}return s.forEach(c=>{const d=XJ(c,e,i);r.push({variable:c,value:d})}),n.forEach(c=>{const d=QJ(c,e,i);r.push({variable:c,value:d})}),l.forEach(c=>{const d=eK(c,e,i);r.push({variable:c,value:d})}),o.forEach(c=>{const d=UT(c,e,i);r.push({variable:c,value:d})}),r}function T6(t,e){if(!e)return;let i=0,r=e.length-1;return e.some((s,n)=>t<s?(r=n,!0):(i=n,!1)),[i,r,(t-e[i])/(e[r]-e[i])]}function Sxe(t,e,i){const r=["proportional","proportional","proportional"];for(const s of t){const n=s.useSymbolValue?"symbol-value":UT(s,e,i)??"proportional";switch(s.axis){case"width":r[0]=n;break;case"depth":r[1]=n;break;case"height":r[2]=n;break;case"width-and-depth":r[0]=n,r[1]=n;break;case"all":case void 0:case null:r[0]=n,r[1]=n,r[2]=n;break;default:s.axis}}return r}const n9e=Object.freeze(Object.defineProperty({__proto__:null,getAllSizes:Sxe,getColor:XJ,getOpacity:QJ,getRotationAngle:eK,getSize:UT,getSizeForValue:iK,getSizeFromNumberOrVariable:Hs,getSizeRangeAtScale:bxe,getVisualVariableValues:_xe,viewScaleRE:KJ},Symbol.toStringTag,{value:"Module"}));var RO;const I_=new ct({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),IO=new ct({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers"});function f9(t){if(t!=null)return typeof t=="string"||typeof t=="number"?uxe(t):t.type==="size"?Mm(t)?t:(delete(t={...t}).type,new yt(t)):void 0}function m9(t,e,i){if(typeof t!="object")return t;const r=new yt;return r.read(t,i),r}let yt=RO=class extends zr{constructor(t){super(t),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:this.valueExpression!=null&&KJ.test(this.valueExpression)}}set index(t){Mm(this.maxSize)&&(this.maxSize.index=`visualVariables[${t}].maxSize`),Mm(this.minSize)&&(this.minSize.index=`visualVariables[${t}].minSize`),this._set("index",t)}get inputValueType(){return YJ(this)}set maxDataValue(t){t&&this.stops&&(se.getLogger(this).warn("cannot set maxDataValue when stops is not null."),t=null),this._set("maxDataValue",t)}set maxSize(t){t&&this.stops&&(se.getLogger(this).warn("cannot set maxSize when stops is not null."),t=null),this._set("maxSize",t)}castMaxSize(t){return f9(t)}readMaxSize(t,e,i){return m9(t,e,i)}set minDataValue(t){t&&this.stops&&(se.getLogger(this).warn("cannot set minDataValue when stops is not null."),t=null),this._set("minDataValue",t)}set minSize(t){t&&this.stops&&(se.getLogger(this).warn("cannot set minSize when stops is not null."),t=null),this._set("minSize",t)}castMinSize(t){return f9(t)}readMinSize(t,e,i){return m9(t,e,i)}get arcadeRequired(){return!!this.valueExpression||this.minSize!=null&&typeof this.minSize=="object"&&this.minSize.arcadeRequired||this.maxSize!=null&&typeof this.maxSize=="object"&&this.maxSize.arcadeRequired}set stops(t){this.minDataValue==null&&this.maxDataValue==null&&this.minSize==null&&this.maxSize==null?t&&Array.isArray(t)&&(t=t.filter(e=>!!e)).sort((e,i)=>e.value-i.value):t&&(se.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),t=null),this._set("stops",t)}get transformationType(){return hxe(this,this.inputValueType)}readValueExpression(t,e){return t||e.expression&&"$view.scale"}writeValueExpressionWebScene(t,e,i,r){if(t==="$view.scale"){if(r!=null&&r.messages){const s=this.index,n=typeof s=="string"?s:`visualVariables[${s}]`;r.messages.push(new B("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:n+".valueExpression",context:r}))}}else e[i]=t}readValueUnit(t){return t?IO.read(t):null}clone(){var t,e;return new RO({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:Mm(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:Mm(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:(t=this.stops)==null?void 0:t.map(i=>i.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}flipSizes(){if(this.transformationType==="clamped-linear"){const{minSize:t,maxSize:e}=this;return this.minSize=e,this.maxSize=t,this}if(this.transformationType==="stops"){const t=this.stops;if(!t)return this;const e=t.map(r=>r.size).reverse(),i=t.length;for(let r=0;r<i;r++)t[r].size=e[r];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){var t;return(t=this.stops)==null?void 0:t.map(e=>e.value||0)}};h([f({readOnly:!0})],yt.prototype,"cache",null),h([f({type:I_.apiValues,json:{type:I_.jsonValues,origins:{"web-map":{read:!1}},read:I_.read,write:I_.write}})],yt.prototype,"axis",void 0),h([f()],yt.prototype,"index",null),h([f({type:String,readOnly:!0})],yt.prototype,"inputValueType",null),h([f({type:cxe,json:{write:!0}})],yt.prototype,"legendOptions",void 0),h([f({type:Number,value:null,json:{write:!0}})],yt.prototype,"maxDataValue",null),h([f({type:Number,value:null,json:{write:!0}})],yt.prototype,"maxSize",null),h([Ot("maxSize")],yt.prototype,"castMaxSize",null),h([Ie("maxSize")],yt.prototype,"readMaxSize",null),h([f({type:Number,value:null,json:{write:!0}})],yt.prototype,"minDataValue",null),h([f({type:Number,value:null,json:{write:!0}})],yt.prototype,"minSize",null),h([Ot("minSize")],yt.prototype,"castMinSize",null),h([Ie("minSize")],yt.prototype,"readMinSize",null),h([f({type:String,json:{write:!0}})],yt.prototype,"normalizationField",void 0),h([f({readOnly:!0})],yt.prototype,"arcadeRequired",null),h([f({type:String})],yt.prototype,"scaleBy",void 0),h([f({type:[Fo],value:null,json:{write:!0}})],yt.prototype,"stops",null),h([f({type:["outline"],json:{write:!0}})],yt.prototype,"target",void 0),h([f({type:String,readOnly:!0})],yt.prototype,"transformationType",null),h([f({type:["size"],json:{type:["sizeInfo"]}})],yt.prototype,"type",void 0),h([f({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],yt.prototype,"useSymbolValue",void 0),h([f({type:String,json:{write:!0}})],yt.prototype,"valueExpression",void 0),h([Ie("valueExpression",["valueExpression","expression"])],yt.prototype,"readValueExpression",null),h([_e("web-scene","valueExpression")],yt.prototype,"writeValueExpressionWebScene",null),h([f({type:["radius","diameter","area","width","distance"],json:{write:!0}})],yt.prototype,"valueRepresentation",void 0),h([f({type:IO.apiValues,json:{write:IO.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],yt.prototype,"valueUnit",void 0),h([Ie("valueUnit")],yt.prototype,"readValueUnit",null),yt=RO=h([I("esri.renderers.visualVariables.SizeVariable")],yt);const xxe={color:fc,size:yt,opacity:Hl,rotation:mc},Txe=new ct({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),$xe=/^\[([^\]]+)\]$/i;let rS=class extends $e{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(e){if(this._resetVariables(),e=e==null?void 0:e.filter(i=>!!i),e==null?void 0:e.length){for(const i of e)switch(i.type){case"color":this.colorVariables.push(i);break;case"opacity":this.opacityVariables.push(i);break;case"rotation":this.rotationVariables.push(i);break;case"size":this.sizeVariables.push(i)}this.sizeVariables.length&&this.sizeVariables.some(i=>!!i.target)&&e.sort((i,r)=>{let s=null;return s=i.target===r.target?0:i.target?1:-1,s});for(let i=0;i<e.length;i++)e[i].index=i;this._set("visualVariables",e)}else this._set("visualVariables",e)}readVariables(e,i,r){const{rotationExpression:s,rotationType:n}=i,o=s==null?void 0:s.match($xe),l=o==null?void 0:o[1];if(l&&(e||(e=[]),e.push({type:"rotationInfo",rotationType:n,field:l})),e)return e.map(c=>{const d=Txe.read(c.type),m=xxe[d];m||(se.getLogger(this).warn(`Unknown variable type: ${d}`),r!=null&&r.messages&&r.messages.push(new lo("visual-variable:unsupported",`visualVariable of type '${d}' is not supported`,{definition:c,context:r})));const v=new m;return v.read(c,r),v})}writeVariables(e,i){const r=[];for(const s of e){const n=s.toJSON(i);n&&r.push(n)}return r}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};h([f()],rS.prototype,"visualVariables",null),rS=h([I("esri.renderers.visualVariables.VisualVariableFactory")],rS);const Mxe={base:zr,key:"type",typeMap:{opacity:Hl,color:fc,rotation:mc,size:yt}},$g=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this._vvFactory=new rS}set visualVariables(r){this._vvFactory.visualVariables=r,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(r,s,n){return this._vvFactory.readVariables(r,s,n)}writeVisualVariables(r,s,n,o){s[n]=this._vvFactory.writeVariables(r,o)}get arcadeRequiredForVisualVariables(){var r;return((r=this.visualVariables)==null?void 0:r.some(({arcadeRequired:s})=>s))??!1}hasVisualVariables(r,s){return r?this.getVisualVariablesForType(r,s).length>0:this.getVisualVariablesForType("size",s).length>0||this.getVisualVariablesForType("color",s).length>0||this.getVisualVariablesForType("opacity",s).length>0||this.getVisualVariablesForType("rotation",s).length>0}getVisualVariablesForType(r,s){var n;return((n=this.visualVariables)==null?void 0:n.filter(o=>o.type===r&&(typeof s=="string"?o.target===s:s!==!1||!o.target)))??[]}async collectVVRequiredFields(r,s){let n=[];this.visualVariables&&(n=n.concat(this.visualVariables));for(const o of n)o&&(o.field&&qs(r,s,o.field),o.normalizationField&&qs(r,s,o.normalizationField),o.valueExpression&&(Exe(o.valueExpression,r,s)||await Ss(r,s,null,o.valueExpression)))}};return h([f({types:[Mxe],value:null,json:{write:!0}})],i.prototype,"visualVariables",null),h([Ie("visualVariables",["visualVariables","rotationType","rotationExpression"])],i.prototype,"readVisualVariables",null),h([_e("visualVariables")],i.prototype,"writeVisualVariables",null),i=h([I("esri.renderers.mixins.VisualVariablesMixin")],i),i};function Exe(t,e,i){const r=$me(t);return r!=null&&(qs(e,i,r),!0)}const vx=ir.fromJSON(RY),$6=Pi.fromJSON(IY),rK=pn.fromJSON(PY),Axe=Et.fromJSON(obe);function a9e(t){if(t==null)return null;switch(t.type){case"mesh":return null;case"point":case"multipoint":return vx;case"polyline":return $6;case"polygon":case"extent":return rK}return null}const l9e=ir.fromJSON(abe),u9e=Pi.fromJSON(lbe),c9e=pn.fromJSON(ube),Oxe=ps.fromSimpleMarkerSymbol(vx),kxe=Zo.fromSimpleLineSymbol($6),Cxe=no.fromSimpleFillSymbol(rK),Rxe=new Xl({symbolLayers:new ge([new cs({material:{color:l6},edges:new qY({size:uo(1),color:new Ne(nbe)})})])}),Ixe=new Zo({symbolLayers:new ge([new us({material:{color:new Ne([0,0,0])},size:uo(1)})])}),Pxe=new no({symbolLayers:new ge([new cs({outline:{color:new Ne([0,0,0]),size:uo(1)}})])});function h9e(t){if(t==null)return null;switch(t.type){case"mesh":return Rxe;case"point":case"multipoint":return Oxe;case"polyline":return kxe;case"polygon":case"extent":return Cxe}return null}const y9="#useCIMFallbackSymbology()",xf={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function jxe(t,e=xf){var c,d,m,v;if(!t)return{symbol:null};const{retainId:i=xf.retainId,ignoreDrivers:r=xf.ignoreDrivers,hasLabelingContext:s=xf.hasLabelingContext,retainCIM:n=xf.retainCIM,cimFallbackEnabled:o=xf.cimFallbackEnabled}=e;let l=null;if(mJ(t))l=t.clone();else if(t.type==="web-style")l=t.clone();else if(t.type==="cim"){const w=(d=(c=t.data)==null?void 0:c.symbol)==null?void 0:d.type;switch(w){case"CIMPointSymbol":l=n?t.clone():ps.fromCIMSymbol(t);break;case"CIMLineSymbol":o&&(l=Ixe.clone(),(m=e==null?void 0:e.logWarning)==null||m.call(e,y9,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":o&&(l=Pxe.clone(),(v=e==null?void 0:e.logWarning)==null||v.call(e,y9,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!l)return{error:new B("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${w||"unknown"}' is unsupported in 3D`,{symbol:t})}}else if(t instanceof Pi)l=Zo.fromSimpleLineSymbol(t);else if(t instanceof ir)l=ps.fromSimpleMarkerSymbol(t);else if(t instanceof ls)l=ps.fromPictureMarkerSymbol(t);else if(t instanceof pn)l=e.geometryType&&e.geometryType==="mesh"?Xl.fromSimpleFillSymbol(t):no.fromSimpleFillSymbol(t);else{if(!(t instanceof Et))return{error:new B("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${t.type||t.declaredClass}' is unsupported in 3D`,{symbol:t})};l=s?Lo.fromTextSymbol(t):ps.fromTextSymbol(t)}return i&&l&&l.type!=="cim"&&(l.id=t.id),!r||l.type==="cim"||l instanceof Or||l.symbolLayers.forEach(w=>w.ignoreDrivers=!0),{symbol:l}}function wx(t,e,i,r){const s=sK(t,{},{context:r,isLabelSymbol:!1});s!=null&&bs(i,s,e)}function g9(t,e,i,r){const s=sK(t,{},{context:r,isLabelSymbol:!0});s!=null&&(e[i]=s)}function v9(t){return mJ(t)||t instanceof Or}function Nxe(t){return(t==null?void 0:t.type)==="polygon-3d"||(t==null?void 0:t.type)==="line-3d"}function sK(t,e,i){var l;if(t==null)return null;const{context:r,isLabelSymbol:s}=i,n=r==null?void 0:r.origin,o=r==null?void 0:r.messages;if(n==="web-scene"&&!v9(t)){const c=jxe(t,{retainCIM:!0,hasLabelingContext:s});return c.symbol!=null?c.symbol.write(e,r):(o==null||o.push(new B("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:t,context:r,error:c.error})),null)}return vO(r==null?void 0:r.layer)&&Nxe(t)?(o==null||o.push(new B("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported on layers of type '${(l=r==null?void 0:r.layer)==null?void 0:l.declaredClass}'.`,{symbol:t,context:r})),null):(n==="web-map"||n==="portal-item"&&!vO(r==null?void 0:r.layer))&&v9(t)?(o==null||o.push(new B("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:t,context:r})),null):t.write(e,r)}function d9e(t,e){return v_e(t,null,e)}const qT={types:yJ,json:{write:{writer:wx},origins:{"web-scene":{types:H7,write:{writer:wx},read:{reader:cg({types:H7})}}}}},M6=HC({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},qT),E6={types:{base:Mi,key:"type",typeMap:{"simple-fill":Ad.typeMap["simple-fill"],"picture-fill":Ad.typeMap["picture-fill"],"polygon-3d":Ad.typeMap["polygon-3d"],cim:Ad.typeMap.cim}},json:{write:{writer:wx},origins:{"web-scene":{type:no,write:{writer:wx}}}}},sS={cast:t=>t==null||typeof t=="string"||typeof t=="number"?t:`${t}`,json:{type:String,write:{writer:(t,e)=>{e.value=t==null?void 0:t.toString()}}}};var PO;let fs=PO=class extends $g(yn){constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(t,e){await Promise.all([this.collectSymbolFields(t,e),this.collectVVRequiredFields(t,e)])}async collectSymbolFields(t,e){await Promise.all(this.symbols.map(i=>i.collectRequiredFields(t,e)))}getSymbol(t,e){return this.symbol}async getSymbolAsync(t,e){return this.symbol}get symbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){var t;return((t=this.visualVariables)==null?void 0:t.reduce((e,i)=>e+i.getAttributeHash(),""))??""}getMeshHash(){return this.symbols.reduce((t,e)=>t+JSON.stringify(e),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new PO({description:this.description,label:this.label,symbol:G(this.symbol),visualVariables:G(this.visualVariables),authoringInfo:G(this.authoringInfo)})}};h([f({type:String,json:{write:!0}})],fs.prototype,"description",void 0),h([f({type:String,json:{write:!0}})],fs.prototype,"label",void 0),h([f(M6)],fs.prototype,"symbol",void 0),h([ke({simple:"simple"})],fs.prototype,"type",void 0),fs=PO=h([I("esri.renderers.SimpleRenderer")],fs);const Dxe=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function jO(t){return t instanceof $e}function w9(t){return t instanceof ge?Object.keys(t.items):jO(t)?_s(t).keys():t?Object.keys(t):[]}function P_(t,e){return t instanceof ge?t.items[e]:t[e]}function Lxe(t,e){return!(!Array.isArray(t)||!Array.isArray(e))&&t.length!==e.length}function u1(t){return t?t.declaredClass:null}function nK(t,e){var v;const i=t.diff;if(i&&typeof i=="function")return i(t,e);const r=w9(t),s=w9(e);if(r.length===0&&s.length===0)return;if(!r.length||!s.length||Lxe(t,e))return{type:"complete",oldValue:t,newValue:e};const n=s.filter(w=>!r.includes(w)),o=r.filter(w=>!s.includes(w)),l=r.filter(w=>s.includes(w)&&P_(t,w)!==P_(e,w)).concat(n,o).sort(),c=u1(t);if(c&&Dxe.has(c)&&l.length)return{type:"complete",oldValue:t,newValue:e};let d;const m=jO(t)&&jO(e);for(const w of l){const _=P_(t,w),x=P_(e,w);let T;if((m||typeof _!="function"&&typeof x!="function")&&_!==x&&(_!=null||x!=null)){if(i&&i[w]&&typeof i[w]=="function")T=(v=i[w])==null?void 0:v.call(i,_,x);else if(_ instanceof Date&&x instanceof Date){if(_.getTime()===x.getTime())continue;T={type:"complete",oldValue:_,newValue:x}}else T=typeof _=="object"&&typeof x=="object"&&u1(_)===u1(x)?nK(_,x):{type:"complete",oldValue:_,newValue:x};T!=null&&(d!=null?d.diff[w]=T:d={type:"partial",diff:{[w]:T}})}}return d}function p9e(t,e){if(t==null)return!1;const i=e.split(".");let r=t;for(const s of i){if(r.type==="complete")return!0;if(r.type!=="partial")return!1;{const n=r.diff[s];if(!n)return!1;r=n}}return!0}function Vxe(t,e){if(typeof t!="function"&&typeof e!="function"&&(t!=null||e!=null))return t==null||e==null||typeof t=="object"&&typeof e=="object"&&u1(t)!==u1(e)?{type:"complete",oldValue:t,newValue:e}:nK(t,e)}function j_(t){if(t==null)return!0;switch(t.type){case"complete":return!1;case"collection":{const e=t;for(const i of e.added)if(!j_(i))return!1;for(const i of e.removed)if(!j_(i))return!1;for(const i of e.changed)if(!j_(i))return!1;return!0}case"partial":for(const e in t.diff)if(!j_(t.diff[e]))return!1;return!0}}var NO;const Fxe=wr()({ascendingValues:"ascending-values",descendingValues:"descending-values"});let Ov=NO=class extends rt(ae){static from(t){return Tw(NO,t)}constructor(t){super(t),this.title=null,this.order=null}};h([f({type:String,json:{write:!0}})],Ov.prototype,"title",void 0),h([ke(Fxe)],Ov.prototype,"order",void 0),Ov=NO=h([I("esri.renderers.support.RendererLegendOptions")],Ov);const A6=Ov;let qo=class extends rt(ae){constructor(e){super(e),this.value=null,this.value2=null,this.value3=null}};h([f(sS)],qo.prototype,"value",void 0),h([f(sS)],qo.prototype,"value2",void 0),h([f(sS)],qo.prototype,"value3",void 0),qo=h([I("esri.renderers.support.UniqueValue")],qo);let Fl=class extends rt(ae){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(e){if(e==null)return null;const i=typeof(e=Array.isArray(e)?e:[e])[0];return i==="string"||i==="number"?e.map(r=>new qo({value:r})):i==="object"?e[0]instanceof qo?e:e.map(r=>new qo(r)):null}};h([f({type:String,json:{write:!0}})],Fl.prototype,"description",void 0),h([f({type:String,json:{write:!0}})],Fl.prototype,"label",void 0),h([f(qT)],Fl.prototype,"symbol",void 0),h([f({type:[qo],json:{type:[[String]],read:{reader:t=>t?t.map(e=>new qo({value:e[0],value2:e[1],value3:e[2]})):null},write:{writer:(t,e)=>{const i=[];for(const r of t){const s=[r.value,r.value2,r.value3].filter(qc).map(n=>n.toString());i.push(s)}e.values=i}}}})],Fl.prototype,"values",void 0),h([Ot("values")],Fl.prototype,"castValues",null),Fl=h([I("esri.renderers.support.UniqueValueClass")],Fl);let kd=class extends rt(ae){constructor(e){super(e),this.heading=null,this.classes=null}};h([f({type:String,json:{write:!0}})],kd.prototype,"heading",void 0),h([f({type:[Fl],json:{write:{isRequired:!0}}})],kd.prototype,"classes",void 0),kd=h([I("esri.renderers.support.UniqueValueGroup")],kd);var DO;let Uo=DO=class extends ae{constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new DO({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){var e;const t=JSON.stringify((e=this.symbol)==null?void 0:e.toJSON());return`${this.value}.${t}`}};h([f({type:String,json:{write:!0}})],Uo.prototype,"description",void 0),h([f({type:String,json:{write:!0}})],Uo.prototype,"label",void 0),h([f(M6)],Uo.prototype,"symbol",void 0),h([f(sS)],Uo.prototype,"value",void 0),Uo=DO=h([I("esri.renderers.support.UniqueValueInfo")],Uo);const b9=new Map;async function zxe(t,e){try{return{data:(await Gxe(t,e)).data,baseUrl:kge(t),styleUrl:t}}catch(i){return Aa(i),null}}function Uxe(t,e,i){var c;const r=e.portal!=null?e.portal:le.getDefault();let s;const n=`${r.url} - ${(c=r.user)==null?void 0:c.username} - ${t}`,o=b9.get(n);if(o)return o;const l=qxe(t,r,i).then(d=>(s=d,d.fetchData())).then(d=>({data:d,baseUrl:s.itemUrl??"",styleName:t}));return b9.set(n,l),l}function qxe(t,e,i){return e.load(i).then(()=>{const r=new Si({disableExtraQuery:!0,query:`owner:${_9} AND type:${S9} AND typekeywords:"${t}"`});return e.queryItems(r,i)}).then(({results:r})=>{var o;let s=null;const n=t.toLowerCase();if(r&&Array.isArray(r)){for(const l of r)if(((o=l.typeKeywords)==null?void 0:o.some(d=>d.toLowerCase()===n))&&l.type===S9&&l.owner===_9){s=l;break}}if(!s)throw new B("symbolstyleutils:style-not-found",`The style '${t}' could not be found`,{styleName:t});return s.load(i)})}function Bxe(t,e,i){return(t==null?void 0:t.styleUrl)!=null?zxe(t.styleUrl,i):(t==null?void 0:t.styleName)!=null?Uxe(t.styleName,e,i):Promise.reject(new B("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function g9e(t){return t===null||t.type==="CIMSymbolReference"?t:{type:"CIMSymbolReference",symbol:t}}function v9e(t,e){for(const i of e)switch(i){case"cim":if(t.cimRef)return{format:i,url:encodeURI(t.cimRef)};break;case"web-gltf-basisu":{const r=R5(t,"gltf_basisu");if(r)return{format:i,url:r};break}case"web-gltf":{const r=R5(t,"gltf");if(r)return{format:i,url:r};break}case"web":{const r=R5(t,"gltf");if(r)return{format:"web-gltf",url:r};if(t.webRef)return{format:i,url:encodeURI(t.webRef)};break}}}function R5(t,e){var i,r;if(!q("enable-feature:force-wosr"))return(r=(i=t.formatInfos)==null?void 0:i.find(s=>s.type===e))==null?void 0:r.href}function Gxe(t,e){const i={responseType:"json",query:{f:"json"},...e};return Bt(Yo(t),i)}const _9="esri_en",S9="Style",w9e="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json";var kv;const x9="uvInfos-watcher",T9="uvGroups-watcher",Hxe=",",Wxe=nr(Uo);function Zxe(t){const{field1:e,field2:i,field3:r,fieldDelimiter:s,uniqueValueInfos:n,valueExpression:o}=t,l=!(!e||!i);return[{classes:(n??[]).map(c=>{var O;const{symbol:d,label:m,value:v,description:w}=c,[_,x,T]=l?((O=v==null?void 0:v.toString())==null?void 0:O.split(s||""))||[]:[v],$=[];return(e||o)&&$.push(_),i&&$.push(x),r&&$.push(T),{symbol:d,label:m,values:[$],description:w}})}]}function Tf(t){return t!=null&&t!==""&&(typeof t!="string"||t.trim()!==""&&t.toLowerCase()!=="<null>")||(t=null),t+""}let Nt=kv=class extends $g(yn){constructor(t){super(t),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(e,i){if(!e&&!i)return;if(!e||!i)return{type:"complete",oldValue:e,newValue:i};let r=!1;const s={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let n=0;n<i.length;n++){const o=e.find(l=>l.value===i[n].value);o?Vxe(o,i[n])?(s.changed.push({type:"complete",oldValue:o,newValue:i[n]}),r=!0):s.unchanged.push({oldValue:o,newValue:i[n]}):(s.added.push(i[n]),r=!0)}for(let n=0;n<e.length;n++)i.find(o=>o.value===e[n].value)||(s.removed.push(e[n]),r=!0);return r?s:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(t){this._set("field",t),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(t){return t==null||typeof t=="function"?t:xw(t)}writeField(t,e,i,r){typeof t=="string"?e[i]=t:r!=null&&r.messages?r.messages.push(new B("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):se.getLogger(this).error(".field: cannot write field to JSON since it's not a string value")}set field2(t){this._set("field2",t),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(t){this._set("field3",t),this._updateUniqueValues()}set valueExpression(t){this._set("valueExpression",t),this._updateUniqueValues()}set defaultSymbol(t){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",t)}set fieldDelimiter(t){this._set("fieldDelimiter",t),this._updateUniqueValues()}readPortal(t,e,i){return i.portal||le.getDefault()}readStyleOrigin(t,e,i){if(e.styleName)return Object.freeze({styleName:e.styleName});if(e.styleUrl){const r=Mp(e.styleUrl,i);return Object.freeze({styleUrl:r})}}writeStyleOrigin(t,e,i,r){t.styleName?e.styleName=t.styleName:t.styleUrl&&(e.styleUrl=ap(t.styleUrl,r))}set uniqueValueGroups(t){this.styleOrigin?se.getLogger(this).error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",t),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(t){this.styleOrigin?se.getLogger(this).error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",t),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(t,e){var r;if(this.styleOrigin)return void se.getLogger(this).error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let i;i=typeof t=="object"?Wxe(t):new Uo({value:t,symbol:gJ(e)}),(r=this.uniqueValueInfos)==null||r.push(i),this._valueInfoMap[Tf(i.value)]=i,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(t){if(this.styleOrigin)return void se.getLogger(this).error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");const e=this.uniqueValueInfos;if(e)for(let i=0;i<e.length;i++){const r=e[i];if(String(r.value)===String(t)){delete this._valueInfoMap[Tf(t)],e.splice(i,1);break}}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}async getUniqueValueInfo(t,e){let i=e;return this.valueExpression&&(e==null?void 0:e.arcade)==null&&(i={...i,arcade:await Py()}),this._getUniqueValueInfo(t,i)}getSymbol(t,e){if(this.valueExpression&&(e==null?void 0:e.arcade)==null)return void se.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this._getUniqueValueInfo(t,e);return(i==null?void 0:i.symbol)||this.defaultSymbol}async getSymbolAsync(t,e){let i=e;if(this.valueExpression&&(i==null?void 0:i.arcade)==null){const s=await Py(),{arcadeUtils:n}=s;n.hasGeometryOperations(this.valueExpression)&&await n.enableGeometryOperations(),i={...i,arcade:s}}const r=this._getUniqueValueInfo(t,i);return(r==null?void 0:r.symbol)||this.defaultSymbol}get symbols(){const t=[];if(this._isInfosSource)for(const e of this.uniqueValueInfos??[])e.symbol&&t.push(e.symbol);else for(const e of this.uniqueValueGroups??[])for(const i of e.classes??[])i.symbol&&t.push(i.symbol);return this.defaultSymbol&&t.push(this.defaultSymbol),t}getAttributeHash(){var t;return((t=this.visualVariables)==null?void 0:t.reduce((e,i)=>e+i.getAttributeHash(),""))??""}getMeshHash(){var r;const t=JSON.stringify(this.backgroundFillSymbol),e=JSON.stringify(this.defaultSymbol),i=(r=this.uniqueValueInfos)==null?void 0:r.reduce((s,n)=>s+n.getMeshHash(),"");return`${t}.${e}.${i}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const t=new kv({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:G(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:G(this.visualVariables),legendOptions:G(this.legendOptions),authoringInfo:G(this.authoringInfo),backgroundFillSymbol:G(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(t._isDefaultSymbolDerived=!0),t._set("portal",this.portal);const e=G(this.uniqueValueInfos),i=G(this.uniqueValueGroups);return this.styleOrigin&&(t._set("styleOrigin",Object.freeze(G(this.styleOrigin))),Object.freeze(e),Object.freeze(i)),t._set("uniqueValueInfos",e),t._updateValueInfoMap(),t._set("uniqueValueGroups",i),t._isInfosSource=this._isInfosSource,t._watchUniqueValueInfosAndGroups(),t}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(t,e){const i=[this.collectVVRequiredFields(t,e),this.collectSymbolFields(t,e)];await Promise.all(i)}async collectSymbolFields(t,e){const i=[...this.symbols.map(r=>r.collectRequiredFields(t,e)),Ss(t,e,null,this.valueExpression)];qs(t,e,this.field),qs(t,e,this.field2),qs(t,e,this.field3),await Promise.all(i)}populateFromStyle(){return Bxe(this.styleOrigin,{portal:this.portal}).then(t=>{var i;const e=[];return this._valueInfoMap={},t!=null&&t.data&&Array.isArray(t.data.items)&&t.data.items.forEach(r=>{const s=new Or({styleUrl:t.styleUrl,styleName:t.styleName,portal:this.portal,name:r.name});this.defaultSymbol||r.name!==t.data.defaultItem||(this.defaultSymbol=s,this._isDefaultSymbolDerived=!0);const n=new Uo({value:r.name,symbol:s});e.push(n),this._valueInfoMap[Tf(r.name)]=n}),this._set("uniqueValueInfos",Object.freeze(e)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&((i=this.uniqueValueInfos)!=null&&i.length)&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",Hxe)}_updateUniqueValues(){this._isInfosSource!=null&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:t}=this;if(t)for(const e of t)this._valueInfoMap[Tf(e.value)]=e}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(x9);const{uniqueValueInfos:t}=this;if(t){const e=[];for(const i of t)e.push(Le(()=>({symbol:i.symbol,value:i.value,label:i.label,description:i.description}),(r,s)=>{r!==s&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(e,x9)}}_watchUniqueValueGroups(){this.removeHandles(T9);const{uniqueValueGroups:t}=this;if(t){const e=[];for(const i of t){e.push(Le(()=>({classes:i.classes}),(r,s)=>{r!==s&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const r of i.classes??[])e.push(Le(()=>({symbol:r.symbol,values:r.values,label:r.label,description:r.description}),(s,n)=>{s!==n&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(e,T9)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const t=[],{field:e,field2:i,field3:r,fieldDelimiter:s,uniqueValueGroups:n,valueExpression:o}=this;if(!e&&!o)return this._set("uniqueValueInfos",t),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const l=!(!e||!i);for(const c of n)for(const d of c.classes??[]){const{symbol:m,label:v,values:w,description:_}=d;for(const x of w??[]){const{value:T,value2:$,value3:O}=x,C=[T];i&&C.push($),r&&C.push(O);const R=l?C.join(s||""):C[0]??void 0;t.push(new Uo({symbol:m,label:v,value:R,description:_}))}}this._set("uniqueValueInfos",t),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(t=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();const{field:e,field2:i,valueExpression:r,fieldDelimiter:s,uniqueValueInfos:n}=this;if(!e&&!r||!n.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();const o=!(!e||!i),l=n.map(d=>{var O;const{symbol:m,label:v,value:w,description:_}=d,[x,T,$]=o?((O=w==null?void 0:w.toString())==null?void 0:O.split(s||""))||[]:[w];return new Fl({symbol:m,label:v,description:_,values:[new qo({value:x,value2:T,value3:$})]})}),c=[new kd({classes:l})];t&&Object.freeze(c),this._set("uniqueValueGroups",c),this._watchUniqueValueGroups()}_getUniqueValueInfo(t,e){return this.valueExpression?this._getUnqiueValueInfoForExpression(t,e):this._getUnqiueValueInfoForFields(t)}_getUnqiueValueInfoForExpression(t,e){const{viewingMode:i,scale:r,spatialReference:s,arcade:n,timeZone:o}=e??{};let l=this._cache.compiledFunc;const c=n.arcadeUtils;if(!l){const m=c.createSyntaxTree(this.valueExpression);l=c.createFunction(m),this._cache.compiledFunc=l}const d=c.executeFunction(l,c.createExecContext(t,c.getViewInfo({viewingMode:i,scale:r,spatialReference:s}),o));return this._valueInfoMap[Tf(d)]}_getUnqiueValueInfoForFields(t){const e=this.field,i=t.attributes;let r;if(this.field2){const s=this.field2,n=this.field3,o=[];e&&o.push(i[e]),s&&o.push(i[s]),n&&o.push(i[n]),r=o.join(this.fieldDelimiter||"")}else e&&(r=i[e]);return this._valueInfoMap[Tf(r)]}static fromPortalStyle(t,e){const i=new kv(e==null?void 0:e.properties);i._set("styleOrigin",Object.freeze({styleName:t})),i._set("portal",(e==null?void 0:e.portal)||le.getDefault());const r=i.populateFromStyle();return r.catch(s=>{se.getLogger(this.prototype).error(`#fromPortalStyle('${t}'[, ...])`,"Failed to create unique value renderer from style name",s)}),r}static fromStyleUrl(t,e){const i=new kv(e==null?void 0:e.properties);i._set("styleOrigin",Object.freeze({styleUrl:t}));const r=i.populateFromStyle();return r.catch(s=>{se.getLogger(this.prototype).error(`#fromStyleUrl('${t}'[, ...])`,"Failed to create unique value renderer from style URL",s)}),r}};h([f({readOnly:!0})],Nt.prototype,"_cache",null),h([ke({uniqueValue:"unique-value"})],Nt.prototype,"type",void 0),h([f(E6)],Nt.prototype,"backgroundFillSymbol",void 0),h([f({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],Nt.prototype,"field",null),h([Ot("field")],Nt.prototype,"castField",null),h([_e("field")],Nt.prototype,"writeField",null),h([f({type:String,value:null,json:{write:!0}})],Nt.prototype,"field2",null),h([f({type:String,value:null,json:{write:!0}})],Nt.prototype,"field3",null),h([f({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],Nt.prototype,"orderByClassesEnabled",void 0),h([f({type:String,value:null,json:{write:!0}})],Nt.prototype,"valueExpression",null),h([f({type:String,json:{write:!0}})],Nt.prototype,"valueExpressionTitle",void 0),h([f({type:A6,json:{write:!0}})],Nt.prototype,"legendOptions",void 0),h([f({type:String,json:{write:!0}})],Nt.prototype,"defaultLabel",void 0),h([f(HC({...qT},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],Nt.prototype,"defaultSymbol",null),h([f({type:String,value:null,json:{write:!0}})],Nt.prototype,"fieldDelimiter",null),h([f({type:le,readOnly:!0})],Nt.prototype,"portal",void 0),h([Ie("portal",["styleName"])],Nt.prototype,"readPortal",null),h([f({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],Nt.prototype,"styleOrigin",void 0),h([Ie("styleOrigin",["styleName","styleUrl"])],Nt.prototype,"readStyleOrigin",null),h([_e("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],Nt.prototype,"writeStyleOrigin",null),h([f({type:[kd],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(t,e,i)=>(e.uniqueValueGroups||Zxe(e)).map(r=>kd.fromJSON(r,i))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],Nt.prototype,"uniqueValueGroups",null),h([f({type:[Uo],json:{read:!1,write:{isRequired:!0,overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0,isRequired:!0}}}}})],Nt.prototype,"uniqueValueInfos",null),Nt=kv=h([I("esri.renderers.UniqueValueRenderer")],Nt);var LO,cy;let Ki=(cy=class extends ae{constructor(e){super(e),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.orderByFields=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(e,i){i.resultOffset=this.start,i.resultRecordCount=this.num||10}clone(){return new LO(G({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}},LO=cy,cy);h([f({type:[String],json:{write:!0}})],Ki.prototype,"attachmentTypes",void 0),h([f({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],Ki.prototype,"attachmentsWhere",void 0),h([f({type:Boolean,json:{write:!0}})],Ki.prototype,"cacheHint",void 0),h([f({type:[String],json:{write:!0}})],Ki.prototype,"keywords",void 0),h([f({type:[String],json:{write:!0}})],Ki.prototype,"globalIds",void 0),h([f({json:{write:!0}})],Ki.prototype,"name",void 0),h([f({type:Number,json:{read:{source:"resultRecordCount"}}})],Ki.prototype,"num",void 0),h([f({type:[Number],json:{write:!0}})],Ki.prototype,"objectIds",void 0),h([f({type:[String],json:{write:!0}})],Ki.prototype,"orderByFields",void 0),h([f({type:Boolean,json:{default:!1,write:!0}})],Ki.prototype,"returnMetadata",void 0),h([f({type:[Number],json:{write:!0}})],Ki.prototype,"size",void 0),h([f({type:Number,json:{read:{source:"resultOffset"}}})],Ki.prototype,"start",void 0),h([_e("start"),_e("num")],Ki.prototype,"writeStart",null),h([f({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Ki.prototype,"where",void 0),Ki=LO=h([I("esri.rest.support.AttachmentQuery")],Ki),Ki.from=nr(Ki);const oK=wr()({naturalLog:"natural-log",squareRoot:"square-root",percentOfTotal:"percent-of-total",log:"log",field:"field"}),$9="percent-of-total",M9="field",b9e=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.normalizationField=null,this.normalizationMaxValue=null,this.normalizationMinValue=null,this.normalizationTotal=null}get normalizationType(){let r=this._get("normalizationType");const s=!!this.normalizationField,n=this.normalizationTotal!=null;return s||n?(r=s&&M9||n&&$9||null,s&&n&&se.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):r!==M9&&r!==$9||(r=null),r}set normalizationType(r){this._set("normalizationType",r)}};return h([f({type:String,json:{name:"parameters.normalizationField",write:!0}})],i.prototype,"normalizationField",void 0),h([f({type:Number,json:{name:"parameters.normalizationMaxValue",write:!0}})],i.prototype,"normalizationMaxValue",void 0),h([f({type:Number,json:{name:"parameters.normalizationMinValue",write:!0}})],i.prototype,"normalizationMinValue",void 0),h([f({type:Number,json:{name:"parameters.normalizationTotal",write:!0}})],i.prototype,"normalizationTotal",void 0),h([ke(oK,{name:"parameters.normalizationType"})],i.prototype,"normalizationType",null),i=h([I("esri.rest.support.NormalizationBinParametersMixin")],i),i};var VO,hy;let Ut=(hy=class extends ae{constructor(e){super(e),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,i){i.historicMoment=e&&e.getTime()}writeStart(e,i){i.resultOffset=this.start,i.resultRecordCount=this.num||10,this.start>0&&this.where==null&&(i.definitionExpression="1=1")}clone(){return new VO(G({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}},VO=hy,hy);h([f({type:Boolean,json:{write:!0}})],Ut.prototype,"cacheHint",void 0),h([f({type:xa,json:{write:!0}})],Ut.prototype,"dynamicDataSource",void 0),h([f({type:String,json:{write:!0}})],Ut.prototype,"gdbVersion",void 0),h([f({type:Number,json:{write:!0}})],Ut.prototype,"geometryPrecision",void 0),h([f({type:Date})],Ut.prototype,"historicMoment",void 0),h([_e("historicMoment")],Ut.prototype,"_writeHistoricMoment",null),h([f({type:Number,json:{write:!0}})],Ut.prototype,"maxAllowableOffset",void 0),h([f({json:{write:!0}})],Ut.prototype,"objectIds",void 0),h([f({type:[String],json:{write:!0}})],Ut.prototype,"orderByFields",void 0),h([f({type:[String],json:{write:!0}})],Ut.prototype,"outFields",void 0),h([f({type:Se,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Ut.prototype,"outSpatialReference",void 0),h([f({json:{write:!0}})],Ut.prototype,"relationshipId",void 0),h([f({type:Number,json:{read:{source:"resultOffset"}}})],Ut.prototype,"start",void 0),h([_e("start"),_e("num")],Ut.prototype,"writeStart",null),h([f({type:Number,json:{read:{source:"resultRecordCount"}}})],Ut.prototype,"num",void 0),h([f({json:{write:!0}})],Ut.prototype,"returnGeometry",void 0),h([f({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],Ut.prototype,"returnM",void 0),h([f({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],Ut.prototype,"returnZ",void 0),h([f({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Ut.prototype,"where",void 0),Ut=VO=h([I("esri.rest.support.RelationshipQuery")],Ut),Ut.from=nr(Ut);const _9e=Object.freeze(Object.defineProperty({__proto__:null,get default(){return Ut}},Symbol.toStringTag,{value:"Module"})),S9e=new ct({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});async function x9e(t,e,i,r){const s=await oh(t);if(await O6(t,e,r),!s.addAttachment)throw new B(r,"Layer source does not support addAttachment capability");return s.addAttachment(e,i)}function O6(t,e,i){var n,o;const{attributes:r}=e,{objectIdField:s}=t;return(o=(n=t.capabilities)==null?void 0:n.data)!=null&&o.supportsAttachment?e?r?s&&r[s]?Promise.resolve():Promise.reject(new B(i,`feature is missing the identifying attribute ${s}`)):Promise.reject(new B(i,"'attributes' are required on a feature to query attachments")):Promise.reject(new B(i,"A feature is required to add/delete/update attachments")):Promise.reject(new B(i,"this layer doesn't support attachments"))}async function T9e(t,e,i,r,s){const n=await oh(t);if(await O6(t,e,s),!n.updateAttachment)throw new B(s,"Layer source does not support updateAttachment capability");return n.updateAttachment(e,i,r)}async function $9e(t,e,i){const{applyEdits:r}=await re(()=>import("./editingSupport-CmVK-rpq.js"),__vite__mapDeps([179,180,181])),s=await t.load();let n=i;return s.type==="feature"&&s.infoFor3D&&e.deleteFeatures!=null&&s.globalIdField!=null&&(n={...n,globalIdToObjectId:await eTe(s,e.deleteFeatures,s.globalIdField)}),r(s,s.source,e,i)}async function M9e(t,e,i){const{uploadAssets:r}=await re(()=>import("./editingSupport-CmVK-rpq.js"),__vite__mapDeps([179,180,181])),s=await t.load();return r(s,s.source,e,i)}async function E9e(t,e,i,r){const s=await oh(t);if(await O6(t,e,r),!s.deleteAttachments)throw new B(r,"Layer source does not support deleteAttachments capability");return s.deleteAttachments(e,i)}async function A9e(t,e,i){const r=(await t.load({signal:e==null?void 0:e.signal})).source;if(!r.fetchRecomputedExtents)throw new B(i,"Layer source does not support fetchUpdates capability");return r.fetchRecomputedExtents(e)}async function O9e(t,e,i,r){var _,x,T,$;e=Ki.from(e),await t.load();const s=t.source,n=t.capabilities;if(!((_=n==null?void 0:n.data)!=null&&_.supportsAttachment))throw new B(r,"this layer doesn't support attachments");const{attachmentTypes:o,objectIds:l,globalIds:c,num:d,size:m,start:v,where:w}=e;if(!((x=n==null?void 0:n.operations)!=null&&x.supportsQueryAttachments)&&((o==null?void 0:o.length)>0||(c==null?void 0:c.length)>0||(m==null?void 0:m.length)>0||d||v||w))throw new B(r,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",e);if(!(l!=null&&l.length||c!=null&&c.length||w))throw new B(r,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",e);if(!s.queryAttachments)throw new B(r,"Layer source does not support queryAttachments capability",e);return!((T=n==null?void 0:n.attachment)!=null&&T.supportsOrderByFields)&&(($=e.orderByFields)!=null&&$.length)&&((e=e.clone()).orderByFields=null),s.queryAttachments(e)}async function k9e(t,e,i,r){const s=await oh(t);if(!s.queryObjectIds)throw new B(r,"Layer source does not support queryObjectIds capability");return s.queryObjectIds(xe.from(e)??t.createQuery(),i)}async function C9e(t,e,i,r){const s=await oh(t);if(!s.queryFeatureCount)throw new B(r,"Layer source does not support queryFeatureCount capability");return s.queryFeatureCount(xe.from(e)??t.createQuery(),i)}async function R9e(t,e,i,r){const s=await oh(t);if(!s.queryExtent)throw new B(r,"Layer source does not support queryExtent capability");return s.queryExtent(xe.from(e)??t.createQuery(),i)}async function I9e(t,e,i,r){const s=await oh(t);if(!s.queryRelatedFeatures)throw new B(r,"Layer source does not support queryRelatedFeatures capability");return s.queryRelatedFeatures(Ut.from(e),i)}async function P9e(t,e,i,r){const s=await oh(t);if(!s.queryRelatedFeaturesCount)throw new B(r,"Layer source does not support queryRelatedFeaturesCount capability");return s.queryRelatedFeaturesCount(Ut.from(e),i)}async function j9e(t){const e=t.source;if(e!=null&&e.refresh)try{const{dataChanged:i,updates:r}=await e.refresh();if(r!=null&&(t.sourceJSON={...t.sourceJSON,...r},t.read(r,{origin:"service",url:t.parsedUrl})),i)return!0}catch{}if(t.definitionExpression)try{return(await gG(t.definitionExpression,t.fieldsIndex)).hasDateFunctions}catch{}return!1}function N9e(t){var o,l;const e=new xe;e.historicMoment=t.historicMoment,e.gdbVersion=t.gdbVersion,e.returnGeometry=!0,e.outFields=["*"],e.multipatchOption=t.geometryType==="multipatch"?"xyFootprint":null;const i=(o=t.capabilities)==null?void 0:o.query;i&&(e.compactGeometryEnabled=i.supportsCompactGeometry,e.defaultSpatialReferenceEnabled=i.supportsDefaultSpatialReference);const r=(l=t.capabilities)==null?void 0:l.data;r!=null&&r.supportsZ&&t.returnZ!=null&&(e.returnZ=t.returnZ),r!=null&&r.supportsM&&t.returnM!=null&&(e.returnM=t.returnM);const{timeOffset:s,timeExtent:n}=t;return e.timeExtent=s!=null&&n!=null?n.offset(-s.value,s.unit):n||null,e}function D9e(t){const{globalIdField:e,fields:i}=t;if(e)return e;if(i){for(const r of i)if(r.type==="esriFieldTypeGlobalID")return r.name}}function L9e(t){const{objectIdField:e,fields:i}=t;if(e)return e;if(i){for(const r of i)if(r.type==="esriFieldTypeOID")return r.name}}function V9e(t){return t.currentVersion?t.currentVersion:t.hasOwnProperty("capabilities")||t.hasOwnProperty("drawingInfo")||t.hasOwnProperty("hasAttachments")||t.hasOwnProperty("htmlPopupType")||t.hasOwnProperty("relationships")||t.hasOwnProperty("timeInfo")||t.hasOwnProperty("typeIdField")||t.hasOwnProperty("types")?10:9.3}function F9e(t,e,i,r){var c,d;const s=i==null?void 0:i.feature,n=!!((c=t.subtypes)!=null&&c.length);if(n&&!(i!=null&&i.excludeImpliedDomains)){const m=Jxe(t,e);if(m)return m}const o=n&&Yxe(t,s);if(o){const m=(d=o==null?void 0:o.domains)==null?void 0:d[e];return(m==null?void 0:m.type)==="inherited"?r:m}const l=tTe(t.types,t.typeIdField,s);if(l){const m=l.domains&&l.domains[e];if(m&&(m==null?void 0:m.type)!=="inherited")return m}if(r)return r;if(!(i!=null&&i.excludeImpliedDomains)){const m=Kxe(t,e);if(m)return m}return null}function Yxe(t,e){const{subtypes:i,subtypeField:r}=t;if(!(e!=null&&e.attributes)||!(i!=null&&i.length)||!r)return null;const s=e.attributes[r];return s==null?null:i.find(n=>n.code===s)}function Jxe(t,e){var o,l;const{fieldsIndex:i,subtypeField:r}=t,{name:s,type:n}=i.get(e)??{};if(!s)return null;if((r&&((o=i.get(r))==null?void 0:o.name))===s&&((l=t.subtypes)!=null&&l.length)){const c=t.subtypes.map(d=>new Od({code:aK(d.code,n),name:d.name}));if(c!=null&&c.length)return new Mc({codedValues:c})}return null}function Kxe(t,e){var n,o;const{fieldsIndex:i}=t,{name:r,type:s}=i.get(e)??{};if(!r)return null;if(("typeIdField"in t?(n=i.get(t.typeIdField))==null?void 0:n.name:null)===r&&"types"in t&&((o=t.types)!=null&&o.length)){const l=t.types.map(c=>new Od({code:aK(c.id,s),name:c.name}));return new Mc({codedValues:l})}return null}function aK(t,e){return e?CH({type:e})&&typeof t=="number"?`${t}`:eye({type:e})&&typeof t=="string"?Number.parseInt(t,10):t:t}async function oh(t){return(await t.load()).source}async function z9e(t,e){if(!ze)return;const i=ze.findCredential(t);if(i)return i.userId;let r;try{const s=await x6(t,e);s&&(r=await ze.checkSignInStatus(`${s}/sharing`))}catch{}return r?r.userId:null}async function lK(t,e){if(!ze||ze.findCredential(t))return;let i;try{const r=await x6(t,e);r&&(i=await ze.checkSignInStatus(`${r}/sharing`))}catch{}if(i)try{const r=e!=null?e.signal:null;await ze.getCredential(t,{signal:r})}catch{}}async function U9e(t,e,i){var s;const r=(s=t.parsedUrl)==null?void 0:s.path;r&&t.authenticationTriggerEvent===e&&await lK(r,i)}async function q9e(t){var i;const e=(i=t.parsedUrl)==null?void 0:i.path;e&&Xxe(t)&&await lK(e)}function Xxe(t){return Qxe(t)&&("serviceDefinitionExpression"in t&&E9(t.serviceDefinitionExpression)||"definitionExpression"in t&&E9(t.definitionExpression))}function Qxe(t){var e;return!(!WJ(t)||!((e=t.capabilities)!=null&&e.query.supportsCurrentUser))}function E9(t){return!!(t!=null&&t.toLowerCase().includes("current_user"))}function B9e(t){return!iTe(t)&&(t.userHasUpdateItemPrivileges||t.editingEnabled)}const I5=cg({types:yJ});function uK(t,e){var i;if(t.defaultSymbol)return(i=t.types)!=null&&i.length?new Nt({defaultSymbol:I5(t.defaultSymbol,t,e),field:t.typeIdField,uniqueValueInfos:t.types.map(r=>({id:r.id,symbol:I5(r.symbol,r,e)}))}):new fs({symbol:I5(t.defaultSymbol,t,e)})}function G9e(t){var r,s,n;let e=(r=t.sourceJSON)==null?void 0:r.cacheMaxAge;if(!e)return!1;const i=(n=(s=t.editingInfo)==null?void 0:s.lastEditDate)==null?void 0:n.getTime();return i==null||(e*=1e3,Date.now()-i<e)}async function eTe(t,e,i){if(e==null)return null;const r=[],{objectIdField:s}=t;if(e.forEach(d=>{let m=null;if("attributes"in d){const{attributes:v}=d;m={globalId:v[i],objectId:v[s]!=null&&v[s]!==-1?v[s]:null}}else m={globalId:d.globalId,objectId:d.objectId!=null&&d.objectId!==-1?d.objectId:null};m.globalId!=null&&(m.objectId!=null&&m.objectId!==-1||r.push(m.globalId))}),r.length===0)return null;const n=t.createQuery();n.where=r.map(d=>`${i}='${d}'`).join(" OR "),n.returnGeometry=!1,n.outFields=[s,i],n.cacheHint=!1;const o=await VSe(FSe(t,n));if(!o.ok)return null;const l=new Map,c=o.value.features;for(const d of c){const m=d.attributes[i],v=d.attributes[s];m!=null&&v!=null&&v!==-1&&l.set(sSe(m),v)}return l}function tTe(t,e,i){if(!e||!i||!t)return null;const r=i.getAttribute(e);return r==null?null:t.find(s=>{const{id:n}=s;return n!=null&&n.toString()===r.toString()})??null}function iTe(t){var e;return((e=t.sourceJSON)==null?void 0:e.isMultiServicesView)||rTe(t)}function rTe(t){var e,i;return!!((i=(e=t.sourceJSON)==null?void 0:e.capabilities)!=null&&i.toLowerCase().split(",").map(r=>r.trim()).includes("map"))}function sTe(t,e,i){var n;const r=e==null?void 0:e.queryAttributeBins;if(!((n=e==null?void 0:e.operations)!=null&&n.supportsQueryBins)||!r)throw new B(i,"Layer source does not support binning");switch(t.binParameters.type){case"auto-interval":if(!r.supportsAutoInterval)throw new B(i,"Layer source does not support auto-interval binning");if(t.binParameters.normalizationType&&(!r.supportsNormalization||!A9(t.binParameters.normalizationType,r.supportedNormalizationTypes)))throw new B(i,"Layer source does not support normalization binning");break;case"date":if(!r.supportsDate)throw new B(i,"Layer source does not support date binning");if(t.binParameters.snapToData&&!r.supportsSnapToData)throw new B(i,"Layer source does not support snapToData binning");if(t.binParameters.returnFullIntervalBin&&!r.supportsReturnFullIntervalBin)throw new B(i,"Layer source does not support returnFullIntervalBin binning");break;case"fixed-boundaries":if(!r.supportsFixedBoundaries)throw new B(i,"Layer source does not support fixed-boundaries binning");break;case"fixed-interval":if(!r.supportsFixedInterval)throw new B(i,"Layer source does not support fixed-interval binning");if(t.binParameters.normalizationType&&(!r.supportsNormalization||!A9(t.binParameters.normalizationType,r.supportedNormalizationTypes)))throw new B(i,"Layer source does not support normalization binning")}if(t.binParameters.stackBy&&!r.supportsStackBy)throw new B(i,"Layer source does not support stackBy binning");if(t.binParameters.splitBy&&!r.supportsSplitBy)throw new B(i,"Layer source does not support splitBy binning");if(t.binParameters.firstDayOfWeek&&!r.supportsFirstDayOfWeek)throw new B(i,"Layer source does not support firstDayOfWeek binning");const s=r==null?void 0:r.supportedStatistics;if(t.outStatistics&&s){const o=new Map([["count","count"],["sum","sum"],["min","min"],["max","max"],["avg","avg"],["stddev","stddev"],["var","var"],["percentile-continuous","percentileContinuous"],["percentile-discrete","percentileDiscrete"],["centroid-aggregate","centroid"],["convex-hull-aggregate","convexHull"],["envelope-aggregate","envelope"]]);for(const{statisticType:l}of t.outStatistics){const c=o.get(l);if(c&&!s[c])throw new B(i,`Layer source does not support ${l} statistic type`)}}}function A9(t,e){return t!=null&&!!(e!=null&&e[oK.toJSON(t)])}const k6="__begin__",C6="__end__",nTe=new RegExp(k6,"ig"),oTe=new RegExp(C6,"ig"),O9=new RegExp("^"+k6,"i"),k9=new RegExp(C6+"$","i"),bx='"',aTe=bx+" + ",lTe=" + "+bx;function uTe(t){return t.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function cTe(t){return t.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function R6(t){const e={expression:"",type:"none"};return t.labelExpressionInfo?t.labelExpressionInfo.value?(e.expression=t.labelExpressionInfo.value,e.type="conventional"):t.labelExpressionInfo.expression&&(e.expression=t.labelExpressionInfo.expression,e.type="arcade"):t.labelExpression!=null&&(e.expression=uTe(t.labelExpression),e.type="conventional"),e}function hTe(t){const e=R6(t);if(!e)return null;switch(e.type){case"conventional":return FO(e.expression);case"arcade":return e.expression}return null}function dTe(t){const e=R6(t);if(!e)return null;switch(e.type){case"conventional":return fTe(e.expression);case"arcade":return cK(e.expression)}return null}function FO(t){let e;return t?(e=_p(t,i=>k6+'$feature["'+i+'"]'+C6),e=O9.test(e)?e.replace(O9,""):bx+e,e=k9.test(e)?e.replace(k9,""):e+bx,e=e.replaceAll(nTe,aTe).replaceAll(oTe,lTe)):e='""',e}const pTe=/^\s*\{([^}]+)\}\s*$/i;function fTe(t){const e=t==null?void 0:t.match(pTe);return(e==null?void 0:e[1].trim())||null}const mTe=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,yTe=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,gTe=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function cK(t){if(!t)return null;let e=mTe.exec(t)||yTe.exec(t);return e?e[1]||e[3]:(e=gTe.exec(t),e?e[2]:null)}var zO,dy;let zl=(dy=class extends ae{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,i){return i.value?FO(i.value):e}writeExpression(e,i,r){this.value!=null&&(e=FO(this.value)),e!=null&&(i[r]=e)}clone(){return new zO({expression:this.expression,title:this.title,value:this.value})}},zO=dy,dy);h([f({type:String,json:{write:{writerEnsuresNonNull:!0}}})],zl.prototype,"expression",void 0),h([Ie("expression",["expression","value"])],zl.prototype,"readExpression",null),h([_e("expression")],zl.prototype,"writeExpression",null),h([f({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],zl.prototype,"title",void 0),h([f({json:{read:!1,write:!1}})],zl.prototype,"value",void 0),zl=zO=h([I("esri.layers.support.LabelExpressionInfo")],zl);var UO;const N_=new ct({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function D_(t,e,i){return{enabled:!vO(i==null?void 0:i.layer)}}function hK(t){var e;return!t||t.origin!=="service"&&((e=t.layer)==null?void 0:e.type)!=="map-image"}function vTe(t){return(t==null?void 0:t.type)==="map-image"}function dK(t){var e,i;return!!vTe(t)&&!!((i=(e=t.capabilities)==null?void 0:e.exportMap)!=null&&i.supportsArcadeExpressionForLabeling)}function wTe(t){return hK(t)||dK(t==null?void 0:t.layer)}var py;let qt=(py=class extends ae{static evaluateWhere(e,i){const r=(s,n,o)=>{switch(n){case"=":return s==o;case"<>":return s!=o;case">":return s>o;case">=":return s>=o;case"<":return s<o;case"<=":return s<=o}return!1};try{if(e==null)return!0;const s=e.split(" ");if(s.length===3)return r(i[s[0]],s[1],s[2]);if(s.length===7){const n=r(i[s[0]],s[1],s[2]),o=s[3],l=r(i[s[4]],s[5],s[6]);switch(o){case"AND":return n&&l;case"OR":return n||l}}return!1}catch{}}constructor(e){super(e),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=Axe,this.useCodedValues=void 0,this.where=null}readLabelExpression(e,i){const r=i.labelExpressionInfo;if(!r||!r.value&&!r.expression)return e}writeLabelExpression(e,i,r){if(this.labelExpressionInfo){if(this.labelExpressionInfo.value!=null)e=cTe(this.labelExpressionInfo.value);else if(this.labelExpressionInfo.expression!=null){const s=cK(this.labelExpressionInfo.expression);s&&(e="["+s+"]")}}e!=null&&(i[r]=e)}writeLabelExpressionInfo(e,i,r,s){if(e==null&&this.labelExpression!=null&&hK(s))e=new zl({expression:this.getLabelExpressionArcade()});else if(!e)return;const n=e.toJSON(s);n.expression&&(i[r]=n)}writeMaxScale(e,i){(e||this.minScale)&&(i.maxScale=e)}writeMinScale(e,i){(e||this.maxScale)&&(i.minScale=e)}getLabelExpression(){return R6(this)}getLabelExpressionArcade(){return hTe(this)}getLabelExpressionSingleField(){return dTe(this)}hash(){return JSON.stringify(this)}clone(){return new UO({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:G(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:G(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}},UO=py,py);h([f({type:String,json:{write:!0}})],qt.prototype,"name",void 0),h([f({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:D_}}}}})],qt.prototype,"allowOverrun",void 0),h([f({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:D_}}}}})],qt.prototype,"deconflictionStrategy",void 0),h([f({type:String,json:{write:{overridePolicy(t,e,i){return this.labelExpressionInfo&&(i==null?void 0:i.origin)==="service"&&dK(i.layer)?{enabled:!1}:{allowNull:!0}}}}})],qt.prototype,"labelExpression",void 0),h([Ie("labelExpression")],qt.prototype,"readLabelExpression",null),h([_e("labelExpression")],qt.prototype,"writeLabelExpression",null),h([f({type:zl,json:{write:{overridePolicy:(t,e,i)=>wTe(i)?{allowNull:!0}:{enabled:!1}}}})],qt.prototype,"labelExpressionInfo",void 0),h([_e("labelExpressionInfo")],qt.prototype,"writeLabelExpressionInfo",null),h([f({type:N_.apiValues,json:{type:N_.jsonValues,read:N_.read,write:N_.write}})],qt.prototype,"labelPlacement",void 0),h([f({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],qt.prototype,"labelPosition",void 0),h([f({type:Number})],qt.prototype,"maxScale",void 0),h([_e("maxScale")],qt.prototype,"writeMaxScale",null),h([f({type:Number})],qt.prototype,"minScale",void 0),h([_e("minScale")],qt.prototype,"writeMinScale",null),h([f({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:D_}}}}})],qt.prototype,"repeatLabel",void 0),h([f({type:Number,cast:ut,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:D_}}}}})],qt.prototype,"repeatLabelDistance",void 0),h([f({types:w_e,json:{origins:{"web-scene":{types:b_e,write:g9,default:null}},write:g9,default:null}})],qt.prototype,"symbol",void 0),h([f({type:Boolean,json:{write:!0}})],qt.prototype,"useCodedValues",void 0),h([f({type:String,json:{write:!0}})],qt.prototype,"where",void 0),qt=UO=h([I("esri.layers.support.LabelClass")],qt);var qO;let zo=qO=class extends ae{constructor(t){super(t),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){var t;return new qO({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:((t=this.symbol)==null?void 0:t.clone())??null})}getMeshHash(){const t=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${t}`}};h([f({type:String,json:{write:!0}})],zo.prototype,"description",void 0),h([f({type:String,json:{write:!0}})],zo.prototype,"label",void 0),h([f({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],zo.prototype,"minValue",void 0),h([f({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],zo.prototype,"maxValue",void 0),h([f(M6)],zo.prototype,"symbol",void 0),zo=qO=h([I("esri.renderers.support.ClassBreakInfo")],zo);var BO;const pK="log",nS="percent-of-total",oS="field",L_=new ct({esriNormalizeByLog:pK,esriNormalizeByPercentOfTotal:nS,esriNormalizeByField:oS}),bTe=nr(zo);let Oi=BO=class extends $g(yn){constructor(t){super(t),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(t,e,i){if(!Array.isArray(t))return;let r=e.minValue;return t.map(s=>{const n=new zo;return n.read(s,i),n.minValue==null&&(n.minValue=r),n.maxValue==null&&(n.maxValue=n.minValue),r=n.maxValue,n})}writeClassBreakInfos(t,e,i,r){const s=t.map(n=>n.write({},r));this._areClassBreaksConsecutive()&&s.forEach(n=>delete n.classMinValue),e[i]=s}castField(t){return t==null?t:typeof t=="function"?(se.getLogger(this).error(".field: field must be a string value"),null):xw(t)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let t=this._get("normalizationType");const e=!!this.normalizationField,i=this.normalizationTotal!=null;return e||i?(t=e&&oS||i&&nS||null,e&&i&&se.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):t!==oS&&t!==nS||(t=null),t}set normalizationType(t){this._set("normalizationType",t)}addClassBreakInfo(t,e,i){let r=null;r=typeof t=="number"?new zo({minValue:t,maxValue:e,symbol:gJ(i)}):bTe(G(t)),this.classBreakInfos.push(r),this.classBreakInfos.length===1&&this.notifyChange("minValue")}removeClassBreakInfo(t,e){const i=this.classBreakInfos.length;for(let r=0;r<i;r++){const s=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(s[0]===t&&s[1]===e){this.classBreakInfos.splice(r,1);break}}}getBreakIndex(t,e){return this.valueExpression&&(e==null?void 0:e.arcade)==null&&se.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(t,e):this._getBreakIndexForField(t)}async getClassBreakInfo(t,e){let i=e;this.valueExpression&&(e==null?void 0:e.arcade)==null&&(i={...i,arcade:await Py()});const r=this.getBreakIndex(t,i);return r!==-1?this.classBreakInfos[r]:null}getSymbol(t,e){if(this.valueExpression&&(e==null?void 0:e.arcade)==null)return void se.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this.getBreakIndex(t,e);return i>-1?this.classBreakInfos[i].symbol:this.defaultSymbol}async getSymbolAsync(t,e){let i=e;if(this.valueExpression&&(e==null?void 0:e.arcade)==null){const s=await Py(),{arcadeUtils:n}=s;n.hasGeometryOperations(this.valueExpression)&&await n.enableGeometryOperations(),i={...i,arcade:s}}const r=this.getBreakIndex(t,i);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}get symbols(){const t=[];return this.classBreakInfos.forEach(e=>{e.symbol&&t.push(e.symbol)}),this.defaultSymbol&&t.push(this.defaultSymbol),t}getAttributeHash(){var t;return((t=this.visualVariables)==null?void 0:t.reduce((e,i)=>e+i.getAttributeHash(),""))??""}getMeshHash(){const t=JSON.stringify(this.backgroundFillSymbol),e=JSON.stringify(this.defaultSymbol),i=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${t}.${e}.${this.classBreakInfos.reduce((r,s)=>r+s.getMeshHash(),"")}.${i}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){var t,e;return new BO({field:this.field,backgroundFillSymbol:(t=this.backgroundFillSymbol)==null?void 0:t.clone(),defaultLabel:this.defaultLabel,defaultSymbol:(e=this.defaultSymbol)==null?void 0:e.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:G(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:G(this.visualVariables),legendOptions:G(this.legendOptions),authoringInfo:G(this.authoringInfo)})}async collectRequiredFields(t,e){const i=[this.collectVVRequiredFields(t,e),this.collectSymbolFields(t,e)];await Promise.all(i)}async collectSymbolFields(t,e){const i=[...this.symbols.map(r=>r.collectRequiredFields(t,e)),Ss(t,e,null,this.valueExpression)];qs(t,e,this.field),qs(t,e,this.normalizationField),await Promise.all(i)}_getBreakIndexForExpression(t,e){const{viewingMode:i,scale:r,spatialReference:s,arcade:n,timeZone:o}=e??{},{valueExpression:l}=this;let c=this._compiledValueExpression.valueExpression===l?this._compiledValueExpression.compiledFunction:null;const d=n.arcadeUtils;if(!c){const v=d.createSyntaxTree(l);c=d.createFunction(v),this._compiledValueExpression.compiledFunction=c}this._compiledValueExpression.valueExpression=l;const m=d.executeFunction(c,d.createExecContext(t,d.getViewInfo({viewingMode:i,scale:r,spatialReference:s}),o));return this._getBreakIndexfromInfos(m)}_getBreakIndexForField(t){const e=this.field,i=t.attributes,r=this.normalizationType;let s=parseFloat(i[e]);if(r){const n=this.normalizationTotal,o=parseFloat(this.normalizationField?i[this.normalizationField]:void 0);if(r===pK)s=Math.log(s)*Math.LOG10E;else if(r!==nS||n==null||isNaN(n)){if(r===oS&&!isNaN(o)){if(isNaN(s)||isNaN(o))return-1;s/=o}}else s=s/n*100}return this._getBreakIndexfromInfos(s)}_getBreakIndexfromInfos(t){const e=this.isMaxInclusive;if(t!=null&&typeof t=="number"&&!isNaN(t))for(let i=0;i<this.classBreakInfos.length;i++){const r=[this.classBreakInfos[i].minValue,this.classBreakInfos[i].maxValue];if(r[0]<=t&&(e?t<=r[1]:t<r[1]))return i}return-1}_areClassBreaksConsecutive(){const t=this.classBreakInfos,e=t.length;for(let i=1;i<e;i++)if(t[i-1].maxValue!==t[i].minValue)return!1;return!0}};h([f(E6)],Oi.prototype,"backgroundFillSymbol",void 0),h([f({type:[zo],json:{write:{isRequired:!0}}})],Oi.prototype,"classBreakInfos",void 0),h([Ie("classBreakInfos")],Oi.prototype,"readClassBreakInfos",null),h([_e("classBreakInfos")],Oi.prototype,"writeClassBreakInfos",null),h([f({type:String,json:{write:!0}})],Oi.prototype,"defaultLabel",void 0),h([f(qT)],Oi.prototype,"defaultSymbol",void 0),h([f({type:String,json:{write:!0}})],Oi.prototype,"field",void 0),h([Ot("field")],Oi.prototype,"castField",null),h([f({type:Boolean})],Oi.prototype,"isMaxInclusive",void 0),h([f({type:A6,json:{write:!0}})],Oi.prototype,"legendOptions",void 0),h([f({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return this.classBreakInfos.length!==0&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],Oi.prototype,"minValue",null),h([f({type:String,json:{write:!0}})],Oi.prototype,"normalizationField",void 0),h([f({type:Number,json:{write:!0}})],Oi.prototype,"normalizationTotal",void 0),h([f({type:L_.apiValues,value:null,json:{type:L_.jsonValues,read:L_.read,write:L_.write}})],Oi.prototype,"normalizationType",null),h([ke({classBreaks:"class-breaks"})],Oi.prototype,"type",void 0),h([f({type:String,json:{write:!0}})],Oi.prototype,"valueExpression",void 0),h([f({type:String,json:{write:!0}})],Oi.prototype,"valueExpressionTitle",void 0),Oi=BO=h([I("esri.renderers.ClassBreaksRenderer")],Oi);const GO=-3,_Te=GO-1,STe=!!q("esri-tests-disable-gpu-memory-measurements");let xTe=class{get size(){return this._size}constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._users=new Map,this._sizeLimits=new Map}destroy(){this.clearAll(),this._sizeLimits.clear(),this._users.clear(),this._db=null}register(e){this._users.set(e.id.slice(0,-1),e)}deregister(e){this.clear(e),this._sizeLimits.delete(e),this._users.delete(e.id.slice(0,-1))}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,-1),this._checkSize()}getSize(e,i){const r=this._db.get(e.id+i);return(r==null?void 0:r.size)??0}put(e,i,r,s,n){i=e.id+i;const o=this._db.get(i);if(o&&(this._size-=o.size,e.size-=o.size,this._db.delete(i),o.entry!==r&&this._notifyRemove(i,o.entry,o.size,0)),s>this._maxSize)return void this._notifyRemove(i,r,s,0);if(r===void 0)return void console.warn("Refusing to cache undefined entry ");if(!s||s<0)return STe||console.warn(`Refusing to cache entry with size ${s} for key ${i}`),void this._notifyRemove(i,r,0,0);const l=1+Math.max(n,_Te)-GO;this._db.set(i,new TTe(r,s,l)),this._size+=s,e.size+=s,this._checkSize()}updateSize(e,i){i=e.id+i;const r=this._db.get(i);if(!r)return;this._size-=r.size,e.size-=r.size;let s=r.entry.usedMemory;for(;s>this._maxSize;){const n=this._notifyRemove(i,r.entry,s,1);if(!(n!=null&&n>0))return void this._db.delete(i);s=n}r.size=s,this._size+=s,e.size+=s,this._checkSize()}pop(e,i){i=e.id+i;const r=this._db.get(i);if(r)return this._size-=r.size,e.size-=r.size,this._db.delete(i),++this._hit,r.entry;++this._miss}get(e,i){i=e.id+i;const r=this._db.get(i);if(r!==void 0)return this._db.delete(i),r.lives=r.lifetime,this._db.set(i,r),++this._hit,r.entry;++this._miss}peek(e,i){const r=this._db.get(e.id+i);return r?++this._hit:++this._miss,r==null?void 0:r.entry}get performanceInfo(){const e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},i={},r=new Array;this._db.forEach((o,l)=>{const c=o.lifetime;r[c]=(r[c]||0)+o.size,this._users.forEach(d=>{const{id:m,name:v}=d;if(l.startsWith(m)){const w=i[v]||0;i[v]=w+o.size}})});const s={};this._users.forEach(o=>{const l=o.name;if("hitRate"in o&&typeof o.hitRate=="number"&&!isNaN(o.hitRate)&&o.hitRate>0){const c=i[l]||0;i[l]=c,s[l]=Math.round(100*o.hitRate)+"%"}else s[l]="0%"});const n=Object.keys(i);n.sort((o,l)=>i[l]-i[o]),n.forEach(o=>e[o]=Math.round(i[o]/2**20)+"MB / "+s[o]);for(let o=r.length-1;o>=0;--o){const l=r[o];l&&(e["Priority "+(o+GO-1)]=Math.round(l/this._size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forEach(e=>e.resetHitRate())}clear(e){const i=e.id;this._db.forEach((r,s)=>{s.startsWith(i)&&(this._size-=r.size,this._db.delete(s),this._notifyRemove(s,r.entry,r.size,0))}),e.size=0}clearAll(){this._db.forEach((e,i)=>this._notifyRemove(i,e.entry,e.size,0)),this._users.forEach(e=>e.size=0),this._size=0,this._db.clear()}*values(e){for(const[i,r]of this._db)i.startsWith(e.id)&&(yield r.entry)}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(e,i,r,s){var l;const n=(l=this._users.get(e.split(P5)[0]))==null?void 0:l.removeFunc,o=n==null?void 0:n(i,s,r);return typeof o=="number"?o:null}_checkSize(){this._sizeLimits.forEach((e,i)=>this._checkSizeLimits(e,i)),this._checkSizeLimits(this.maxSize)}setMaxSize(e,i){i==null||i<=0?this._sizeLimits.delete(e):this._sizeLimits.set(e,i)}_checkSizeLimits(e,i){const r=i??this;if(r.size<=e)return;const s=i==null?void 0:i.id;let n=!0;for(;n;){n=!1;for(const[o,l]of this._db)if(l.lifetime===0&&(!s||o.startsWith(s))){const c=i??this._users.get(o.split(P5)[0]);if(this._purgeItem(o,l,c),r.size<=.9*e)return;n||(n=this._db.has(o))}}for(const[o,l]of this._db)if(!s||o.startsWith(s)){const c=i??this._users.get(o.split(P5)[0]);if(this._purgeItem(o,l,c),r.size<=.9*e)return}}_purgeItem(e,i,r){if(this._db.delete(e),i.lives<=1){this._size-=i.size,r&&(r.size-=i.size);const s=this._notifyRemove(e,i.entry,i.size,1);s!=null&&s>0&&(this._size+=s,r&&(r.size+=s),i.lives=i.lifetime,i.size=s,this._db.set(e,i))}else--i.lives,this._db.set(e,i)}},TTe=class{constructor(e,i,r){this.entry=e,this.size=i,this.lifetime=r,this.lives=r}};const P5=":";let $Te=class{constructor(e,i){this.removeFunc=i,this._storage=new xTe,this.id="",this.name="",this.size=0,this._storage.maxSize=e,this._storage.register(this)}destroy(){this._storage.deregister(this),this._storage.destroy(),this._storage=null}put(e,i,r=1){this._storage.put(this,e,i,r,1)}pop(e){return this._storage.pop(this,e)}get(e){return this._storage.get(this,e)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(e){this._storage.maxSize=e}resetHitRate(){}},C9=class fK{static parse(e,i,r){const s=[],n=[],o=e.split(";");for(let l=0;l<o.length;l++){const c=o[l];if(c){if(c.includes("po:")){const d=c.slice(3).split("|");if(d.length===3){const[m,v,w]=d,_=ETe(m,v,w);_&&n.push(_)}continue}if(c.includes("|")){for(const d of c.split("|"))if(i.has(d)){s.push(d);break}}else if(i.has(c))s.push(c);else if(l===0){s.length=0,s.push(ATe(r));break}}}return new fK(s,n)}constructor(e,i){this.partNames=e,this.overrides=i}};function MTe(t,e){if(t==="DashTemplate")return e.split(" ").map(i=>Number(i));if(t==="Color"){const i=new Ne(e).toRgba();return[i[0],i[1],i[2],255*i[3]]}return Number(e)}function ETe(t,e,i){return{primitiveName:t,propertyName:e,value:MTe(e,i),defaultValue:null}}function ATe(t){switch(t){case"esriGeometryPolyline":return"Invalid_L";case"esriGeometryPolygon":return"Invalid_A";default:return"Invalid_P"}}let mK=class HO{constructor(e,i,r=""){this.major=e,this.minor=i,this._context=r}lessThan(e,i){return this.major<e||e===this.major&&this.minor<i}greaterEqual(e,i){return!this.lessThan(e,i)}validate(e){if(this.major!==e.major){const i=this._context&&this._context+":",r=this._context&&this._context+" ";throw new B(i+"unsupported-version",`Required major ${r}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:e})}}clone(){return new HO(this.major,this.minor,this._context)}static parse(e,i=""){const[r,s]=e.split("."),n=/^\s*\d+\s*$/;if(!(r!=null&&r.match)||!n.test(r))throw new B((i&&i+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:e});if(!(s!=null&&s.match)||!n.test(s))throw new B((i&&i+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:e});const o=parseInt(r,10),l=parseInt(s,10);return new HO(o,l,i)}};var fy;let ka=(fy=class{},fy.instance=new Ys("Etc/UTC"),fy);function OTe(t){return t instanceof Tp?t===ka.instance:(t==null?void 0:t.toString().toLowerCase())==="unknown"}function Y9e(t){return OTe(t)?ka.instance:t}function kTe(t){return"timeZone"in t}function CTe(t){return"timeZone"in t}function RTe(t){return"dateFieldsTimeZone"in t}const ITe=new Map;let _x=class aS{static fromJSON(e){return new aS(e.fields,e.timeZoneByFieldName)}static fromLayer(e){return new aS(e.fields??[],I9(e))}static fromLayerJSON(e){return new aS(e.fields??[],I9(e))}constructor(e=[],i){var s;this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=e||[],this._timeZoneByFieldName=i?new Map(i):null;const r=[];for(const n of this.fields){const o=n==null?void 0:n.name,l=R9(o);if(o&&l){const c=wd(o);this._fieldsMap.set(o,n),this._fieldsMap.set(c,n),this._normalizedFieldsMap.set(l,n),r.push(`${c}:${n.type}:${(s=this._timeZoneByFieldName)==null?void 0:s.get(o)}`),RH(n)?(this.dateFields.push(n),this._dateFieldsSet.add(n)):mR(n)&&(this._numericFieldsSet.add(n),this.numericFields.push(n)),TL(n)||$L(n)||(n.editable=n.editable==null||!!n.editable,n.nullable=n.nullable==null||!!n.nullable)}}r.sort(),this.uid=r.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const e of this.fields)TL(e)||$L(e)||e.nullable||Bme(e)!==void 0||this._requiredFields.push(e)}return this._requiredFields}equals(e){return this.uid===(e==null?void 0:e.uid)}has(e){return this.get(e)!=null}get(e){if(!e)return;let i=this._fieldsMap.get(e);return i||(i=this._fieldsMap.get(wd(e))??this._normalizedFieldsMap.get(R9(e)),i&&this._fieldsMap.set(e,i),i)}getTimeZone(e){const i=this.get(e&&typeof e!="string"?e.name:e);return i?this._timeZoneByFieldName?this._timeZoneByFieldName.get(i.name):i.type==="date"||i.type==="esriFieldTypeDate"?(se.getLogger("esri.layers.support.FieldsIndex").errorOnce(new B("getTimeZone:no-timezone-information",`no time zone information for field '${i.name}'`)),Hc):yK.has(i.type)?Gc:null:null}getLuxonTimeZone(e){const i=this.getTimeZone(e);return i?i===Gc?ka.instance:i===Hc?Wi.utcInstance:ug(ITe,i,()=>Ys.create(i)):null}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isTimeOnlyField(e){return IH(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){var i;return((i=this.get(e))==null?void 0:i.name)??void 0}toJSON(){return{fields:this.fields.map(e=>L1(e)?e.toJSON():e),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}};function wd(t){return t.trim().toLowerCase()}function R9(t){var e;return((e=Ome(t))==null?void 0:e.toLowerCase())??""}const yK=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function I9(t){const e=new Map;if(!t.fields)return e;const i=t.datesInUnknownTimezone===!0,{timeInfo:r,editFieldsInfo:s}=t,n=(r?"startField"in r?r.startField:r.startTimeField:"")??"",o=(r?"endField"in r?r.endField:r.endTimeField:"")??"",l=RTe(t)?t.dateFieldsTimeZone??null:t.dateFieldsTimeReference?$2(t.dateFieldsTimeReference):null,c=s?kTe(s)?s.timeZone??l:s.dateFieldsTimeReference?$2(s.dateFieldsTimeReference):l??Hc:null,d=r?CTe(r)?r.timeZone??l:r.timeReference?$2(r.timeReference):l:null,m=new Map([[wd((s==null?void 0:s.creationDateField)??""),c],[wd((s==null?void 0:s.editDateField)??""),c],[wd(n),d],[wd(o),d]]);for(const{name:v,type:w}of t.fields)if(yK.has(w))e.set(v,Gc);else if(w!=="date"&&w!=="esriFieldTypeDate")e.set(v,null);else if(i)e.set(v,Gc);else{const _=m.get(wd(v??""))??l;e.set(v,_)}return e}const gK={TypeNotAllowedInFeature:"Feature attributes only support dates, numbers, strings, guids.",LogicError:"Logic error - {reason}",CannotCompareDateAndTime:"Cannot compare date or dateonly with timeonly types",NeverReach:"Encountered unreachable logic",AsyncNotEnabled:"Async Arcade must be enabled for this script",ModuleAccessorMustBeString:"Module accessor must be a string",ModuleExportNotFound:"Module has no export with provided identifier",ModulesNotSupported:"Current profile does not support modules",ArrayAccessMustBeNumber:"Array accessor must be a number",FunctionNotFound:"Function not found",FieldNotFound:"Key not found - {key}",CircularModules:"Circular module dependencies are not allowed",Cancelled:"Execution cancelled",UnsupportedHashType:"Type not supported in hash function",IllegalResult:"Value is not a supported return type",PortalRequired:"Portal is required",InvalidParameter:"Invalid parameter",WrongNumberOfParameters:"Call with wrong number of parameters",Unrecognized:"Unrecognized code structure",UnrecognizedType:"Unrecognized type",WrongSpatialReference:"Cannot work with geometry in this spatial reference. It is different to the execution spatial reference",BooleanConditionRequired:"Conditions must use booleans",NoFunctionInDictionary:"Dictionaries cannot contain functions.",NoFunctionInArray:"Arrays cannot contain functions.",NoFunctionInTemplateLiteral:"Template Literals do not expect functions by value.",KeyAccessorMustBeString:"Accessor must be a string",KeyMustBeString:"Object keys must be a string",Immutable:"Object is immutable",UnexpectedToken:"Unexpected token",MemberOfNull:"Cannot access property of null object",MaximumCallDepth:"Exceeded maximum function depth",OutOfBounds:"Out of bounds",InvalidIdentifier:"Identifier not recognized",CallNonFunction:"Expression is not a function",InvalidMemberAccessKey:"Cannot access value using a key of this type",AssignModuleFunction:"Cannot assign function to module variable",UnsupportUnaryOperator:"Unsupported unary operator",UnsupportedOperator:"Unsupported operator",LogicalExpressionOnlyBoolean:"Logical expressions must be boolean",LogicExpressionOrAnd:"Logical expression can only be combined with || or &&",CannotChangeTimeZoneTime:"Cannot change the timezone of a Time",CannotChangeTimeZoneDateOnly:"Cannot change the timezone of a DateOnly",FeatureSetDoesNotHaveSubtypes:"FeatureSet does not have subtypes"};let PTe=class extends Error{constructor(...e){super(...e)}},P9=class vK extends PTe{constructor(e,i){super(I6(i)+e.message,{cause:e}),this.loc=null,Error.captureStackTrace&&Error.captureStackTrace(this,vK),i!=null&&i.loc&&(this.loc=i.loc)}},jTe=class wK extends Error{constructor(e,i,r,s){super("Execution error - "+I6(r)+_p(gK[i],s)),this.loc=null,this.declaredRootClass="esri.arcade.arcadeexecutionerror",Error.captureStackTrace&&Error.captureStackTrace(this,wK),r!=null&&r.loc&&(this.loc=r.loc)}};function I6(t){var e,i;return t&&t.loc?`Line : ${(e=t.loc.start)==null?void 0:e.line}, ${(i=t.loc.start)==null?void 0:i.column}: `:""}let K9e=class bK extends Error{constructor(e,i,r,s){super("Compilation error - "+I6(r)+_p(gK[i],s)),this.loc=null,this.declaredRootClass="esri.arcade.arcadecompilationerror",Error.captureStackTrace&&Error.captureStackTrace(this,bK),r!=null&&r.loc&&(this.loc=r.loc)}},X9e=class _K extends Error{constructor(){super("Uncompilable code structures"),this.declaredRootClass="esri.arcade.arcadeuncompilableerror",Error.captureStackTrace&&Error.captureStackTrace(this,_K)}};function Q9e(t,e,i){return i.declaredRootClass==="esri.arcade.arcadeexecutionerror"||i.declaredRootClass==="esri.arcade.arcadecompilationerror"?i.loc===null&&(e!=null&&e.loc)?new P9(i,{cause:i}):i:(i.declaredRootClass==="esri.arcade.featureset.support.featureseterror"||i.declaredRootClass==="esri.arcade.featureset.support.sqlerror"||i.declaredRootClass,e!=null&&e.loc?new P9(i,{cause:i}):i)}const NTe={UnrecognizedUri:"Unrecognized uri - {uri}",UnsupportedUriProtocol:"Unrecognized uri protocol"};let eVe=class SK extends Error{constructor(e,i){super(_p(NTe[e],i)),this.declaredRootClass="esri.arcade.arcademoduleerror",Error.captureStackTrace&&Error.captureStackTrace(this,SK)}};function lS(t){return t.toLowerCase().replaceAll(/[\s-]+/g,"")}let tVe=class{constructor(e,i){const r=new Map;for(const s of e){const n=lS(s);if(r.has(n))throw new Error(`${s} already added as ${r.get(n)}`);r.set(n,s)}if(i!=null)for(const[s,n]of i){const o=lS(s);if(r.has(o))throw new Error(`${s} already associated with ${r.get(o)}`);r.set(o,n)}this._enumMap=r}lookup(e){return this._enumMap.get(lS(e))}get(e){const i=this.lookup(e);if(i==null)throw new jTe(null,"InvalidParameter",null);return i}};const DTe={TimeZoneNotRecognized:"Timezone identifier has not been recognized."};let LTe=class xK extends Error{constructor(e,i){super(_p(DTe[e],i)),this.declaredRootClass="esri.arcade.arcadedate.dateerror",Error.captureStackTrace&&Error.captureStackTrace(this,xK)}};function $f(t,e,i){return t<e?t-e:t>i?t-i:0}function Mf(t,e,i){return t<e?e:t>i?i:t}let Ql=class Ai{constructor(e){this._date=e,this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(e=0,i=1,r=1,s=0,n=0,o=0,l=0,c){if(isNaN(e)||isNaN(i)||isNaN(r)||isNaN(s)||isNaN(n)||isNaN(o)||isNaN(l))return null;const d=be.local(e,i).daysInMonth;let m=be.fromObject({day:Mf(r,1,d),year:e,month:Mf(i,1,12),hour:Mf(s,0,23),minute:Mf(n,0,59),second:Mf(o,0,59),millisecond:Mf(l,0,999)},{zone:Ta(c)});return m=m.plus({months:$f(i,1,12),days:$f(r,1,d),hours:$f(s,0,23),minutes:$f(n,0,59),seconds:$f(o,0,59),milliseconds:$f(l,0,999)}),new Ai(m)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(e,i){const r=Ta(i);return e.isUnknownTimeZone||r===ka.instance?Ai.fromParts(e.year,e.monthJS+1,e.day,e.hour,e.minute,e.second,e.millisecond,r):new Ai(e._date.setZone(r))}static dateJSToArcadeDate(e){return new Ai(be.fromJSDate(e,{zone:"system"}))}static dateJSAndZoneToArcadeDate(e,i="system"){const r=Ta(i);return new Ai(be.fromJSDate(e,{zone:r}))}static unknownEpochToArcadeDate(e){return new Ai(be.fromMillis(e,{zone:ka.instance}))}static unknownDateJSToArcadeDate(e){return new Ai(be.fromMillis(e.getTime(),{zone:ka.instance}))}static epochToArcadeDate(e,i="system"){const r=Ta(i);return new Ai(be.fromMillis(e,{zone:r}))}static dateTimeToArcadeDate(e){return new Ai(e)}clone(){return new Ai(this._date)}changeTimeZone(e){const i=Ta(e);return Ai.dateTimeToArcadeDate(this._date.setZone(i))}static dateTimeAndZoneToArcadeDate(e,i){const r=Ta(i);return e.zone===ka.instance||r===ka.instance?Ai.fromParts(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond,r):new Ai(e.setZone(r))}static nowToArcadeDate(e){const i=Ta(e);return new Ai(be.fromJSDate(new Date,{zone:i}))}static nowUTCToArcadeDate(){return new Ai(be.utc())}get isSystem(){return this.timeZone==="system"||this.timeZone===Ai.systemTimeZoneCanonicalName}equals(e){return this.isSystem&&e.isSystem?this.toNumber()===e.toNumber():this.isUnknownTimeZone===e.isUnknownTimeZone&&this._date.equals(e._date)}get isUnknownTimeZone(){return this._date.zone===ka.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let e=this._date.weekday;return e>6&&(e=0),e}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if(this._date.zone.type==="system")return"system";const e=this.zone;return e.type==="fixed"?e.fixed===0?"UTC":e.formatOffset(0,"short"):e.name}stringify(){return JSON.stringify(this.toJSDate())}plus(e){return new Ai(this._date.plus(e))}diff(e,i){return this._date.diff(e._date,i)[i]}toISODate(){return this._date.toISODate()}toISOString(e){return e?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toISOTime(e,i){return this._date.toISOTime({suppressMilliseconds:e,includeOffset:i&&!this.isUnknownTimeZone})}toFormat(e,i){return this.isUnknownTimeZone&&(e=e.replaceAll("Z","")),this._date.toFormat(e,i)}toJSDate(){return this._date.toJSDate()}toSQLValue(){return this._date.toFormat("yyyy-LL-dd HH:mm:ss")}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new Ai(this._date.toUTC())}toLocal(){return new Ai(this._date.toLocal())}toString(){return this.toISOString(!0)}static fromReaderAsTimeStampOffset(e){if(!e)return null;const i=be.fromISO(e,{setZone:!0});return new Ai(i)}};function Ta(t,e=!0){if(t instanceof Tp)return t;switch(lS(t)){case"system":return"system";case"utc":return"UTC";case"unknown":return ka.instance}if(/^[+-]?[0-9]{1,2}(:[0-9]{2})?$/.test(t)){const r=Wi.parseSpecifier("UTC"+(t.startsWith("+")||t.startsWith("-")?"":"+")+t);if(r)return r}const i=Ys.create(t);if(!i.isValid){if(e)throw new LTe("TimeZoneNotRecognized");return null}return i}function j9(t){t=t.replaceAll(/LTS|LT|L{1,4}|l{1,4}/g,"[$&]");let e="";const i=/(\[[^[]*\])|(\\)?([Hh]mm(ss)?|Mo|M{1,4}|Do|DDDo|D{1,4}|d{2,4}|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const r of t.match(i)||[])switch(r){case"D":e+="d";break;case"DD":e+="dd";break;case"DDD":e+="o";break;case"d":e+="c";break;case"ddd":e+="ccc";break;case"dddd":e+="cccc";break;case"M":e+="L";break;case"MM":e+="LL";break;case"MMM":e+="LLL";break;case"MMMM":e+="LLLL";break;case"YY":e+="yy";break;case"Y":case"YYYY":e+="yyyy";break;case"Q":e+="q";break;case"X":case"x":e+=r;break;default:r.length>=2&&r.startsWith("[")&&r.endsWith("]")?e+=`'${r.slice(1,-1)}'`:e+=`'${r}'`}return e}const N9="esri.core.sql.dateonly";let VTe=class ln{constructor(e,i,r){this._year=e,this._month=i,this._day=r,this.declaredRootClass=N9}static isDateOnly(e){return typeof e=="object"&&e!=null&&"declaredRootClass"in e&&e.declaredRootClass===N9}get month(){return this._month}get monthJS(){return this._month-1}get year(){return this._year}get day(){return this._day}get isValid(){return this.toDateTime("unknown").isValid}equals(e){return ln.isDateOnly(e)&&e.day===this.day&&e.month===this.month&&e.year===this.year}clone(){return new ln(this._year,this._month,this._day)}toDateTime(e){return be.fromObject({day:this.day,month:this.month,year:this.year},{zone:Ta(e)})}toDateTimeLuxon(e){return be.fromObject({day:this.day,month:this.month,year:this.year},{zone:Ta(e)})}toString(){return`${this.year.toString().padStart(4,"0")}-${this.month.toString().padStart(2,"0")}-${this.day.toString().padStart(2,"0")}`}toFormat(e=null,i=!0){if(e===null||e==="")return this.toString();if(i&&(e=j9(e)),!e)return"";const r=this.toDateTime("unknown");return Ql.dateTimeToArcadeDate(r).toFormat(e,{locale:Bs(),numberingSystem:"latn"})}toArcadeDate(){const e=this.toDateTime("unknown");return Ql.dateTimeToArcadeDate(e)}toNumber(){return this.toDateTime("unknown").toMillis()}toJSDate(){return this.toDateTime("unknown").toJSDate()}toStorageFormat(){return this.toFormat("yyyy-LL-dd",!1)}toSQLValue(){return this.toFormat("yyyy-LL-dd",!1)}toSQLWithKeyword(){return"date '"+this.toFormat("yyyy-LL-dd",!1)+"'"}plus(e,i){return ln.fromDateTime(this.toUTCDateTime().plus({[e]:i}))}toUTCDateTime(){return be.utc(this.year,this.month,this.day,0,0,0,0)}difference(e,i){switch(i.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(e.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return i==="M"?this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(e.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(e.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(e.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(e.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(e.toUTCDateTime(),"years").years}}static fromMilliseconds(e){const i=be.fromMillis(e,{zone:Wi.utcInstance});return i.isValid?ln.fromParts(i.year,i.month,i.day):null}static fromSeconds(e){const i=be.fromSeconds(e,{zone:Wi.utcInstance});return i.isValid?ln.fromParts(i.year,i.month,i.day):null}static fromReader(e){if(!e)return null;const i=e.split("-");return i.length!==3?null:new ln(parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10))}static fromParts(e,i,r){const s=new ln(e,i,r);return s.isValid===!1?null:s}static fromDateJS(e){return ln.fromParts(e.getFullYear(),e.getMonth()+1,e.getDay())}static fromDateTime(e){return ln.fromParts(e.year,e.month,e.day)}static fromSqlTimeStampOffset(e){return this.fromDateTime(e.toDateTime())}static fromString(e,i=null){if(e===""||e===null)return null;const r=[];if(i)(i=j9(i))&&r.push(i);else if(i===null||i===""){const s=be.fromISO(e,{setZone:!0});return s.isValid?ln.fromParts(s.year,s.month,s.day):null}for(const s of r){const n=be.fromFormat(e,i??s);if(n.isValid)return new ln(n.year,n.month,n.day)}return null}static fromNow(e="system"){const i=be.fromJSDate(new Date).setZone(Ta(e));return new ln(i.year,i.month,i.day)}};function rVe(t){if(t==null)return null;switch(t.type){case"polygon":case"multipoint":case"polyline":return t.extent;case"point":return new Ye({xmin:t.x,ymin:t.y,xmax:t.x,ymax:t.y,spatialReference:t.spatialReference});case"extent":return t}return null}function sVe(t){if(t==null)return null;const e=t.clone();return t.cache._geVersion!==void 0&&(e.cache._geVersion=t.cache._geVersion),e}function V_(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function D9(t){if(!t)return"";const e=/(a|A|hh?|HH?|mm?|ss?|SSS|S|.)/g;let i="";for(const r of t.match(e)||[])switch(r){case"SSS":case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":i+=r;break;case"A":case"a":i+="a";break;default:i+=`'${r}'`}return i}const L9="esri.core.sql.timeonly";let FTe=class ga{constructor(e,i,r,s){this._hour=e,this._minute=i,this._second=r,this._millisecond=s,this.declaredRootClass=L9}static isTimeOnly(e){return typeof e=="object"&&e!=null&&"declaredRootClass"in e&&e.declaredRootClass===L9}get hour(){return this._hour}get minute(){return this._minute}get second(){return this._second}get millisecond(){return this._millisecond}equals(e){return ga.isTimeOnly(e)&&e.hour===this.hour&&e.minute===this.minute&&e.second===this.second&&e.millisecond===this.millisecond}clone(){return new ga(this.hour,this.minute,this.second,this.millisecond)}isValid(){return V_(this.hour)&&V_(this.minute)&&V_(this.second)&&V_(this.millisecond)&&this.hour>=0&&this.hour<24&&this.minute>=0&&this.minute<60&&this.second>=0&&this.second<60&&this.millisecond>=0&&this.millisecond<1e3}toString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`+(this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):"")}toSQLValue(){return this.toString()}toSQLWithKeyword(){return`time '${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}${this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):""}'`}toStorageString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`}toFormat(e=null){return e===null||e===""?this.toString():(e=D9(e))?be.local(1970,1,1,this._hour,this._minute,this._second,this._millisecond).toFormat(e,{locale:Bs(),numberingSystem:"latn"}):""}toNumber(){return this.millisecond+1e3*this.second+1e3*this.minute*60+60*this.hour*60*1e3}static fromParts(e,i,r,s){const n=new ga(e,i,r,s);return n.isValid()?n:null}static fromReader(e){if(!e)return null;const i=e.split(":");return i.length!==3?null:new ga(parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10),0)}static fromMilliseconds(e){if(e>864e5||e<0)return null;const i=Math.floor(e/1e3%60),r=Math.floor(e/6e4%60),s=Math.floor(e/36e5%24),n=Math.floor(e%1e3);return new ga(s,r,i,n)}static fromDateJS(e){return new ga(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}static fromDateTime(e){return new ga(e.hour,e.minute,e.second,e.millisecond)}static fromSqlTimeStampOffset(e){return this.fromDateTime(e.toDateTime())}static fromString(e,i=null){if(e===""||e===null)return null;const r=[];i?(i=D9(i))&&r.push(i):i!==null&&i!==""||(r.push("HH:mm:ss"),r.push("HH:mm:ss.SSS"),r.push("hh:mm:ss a"),r.push("hh:mm:ss.SSS a"),r.push("HH:mm"),r.push("hh:mm a"),r.push("H:mm"),r.push("h:mm a"),r.push("H:mm:ss"),r.push("h:mm:ss a"),r.push("H:mm:ss.SSS"),r.push("h:mm:ss.SSS a"));for(const s of r){const n=be.fromFormat(e,s);if(n.isValid)return new ga(n.hour,n.minute,n.second,n.millisecond)}return null}plus(e,i){switch(e){case"days":case"years":case"months":return this.clone();case"hours":case"minutes":case"seconds":case"milliseconds":return ga.fromDateTime(this.toUTCDateTime().plus({[e]:i}))}return null}toUTCDateTime(){return be.utc(1970,1,1,this.hour,this.minute,this.second,this.millisecond)}difference(e,i){switch(i.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(e.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return i==="M"?this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(e.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(e.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(e.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(e.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(e.toUTCDateTime(),"years").years}}};const zTe=["geometry","scale","timeProperties"];function nVe(t,e){if(e!=null)for(const i of zTe)e.hasArcadeDependency(i)&&t.add(i);return t}function oVe(t,e){return TK.create(t,e,null,["$feature","$view"])}function UTe(t,e,i){return TK.create(t,e,i,["$feature","$view","$config"])}let TK=class $K{static async create(e,i,r,s){const{arcade:n,Dictionary:o}=await Py();let l;try{l=n.parseScript(e)}catch(_){throw new B("arcade-bad-expression","Failed to parse arcade script",{script:e,error:_})}const c=n.scriptUsesGeometryEngine(l);c&&await n.enableGeometrySupport(),await n.loadDependentModules(new Set,l,null,!1,c);const d={vars:s.reduce((_,x)=>({..._,[x]:null}),{}),spatialReference:i,useAsync:!1},m=n.compileScript(l,d);let v=null;r!=null&&(v=new o(r),v.immutable=!0);const w=new o;return w.immutable=!1,w.setField("scale",0),new $K(e,n,l,m,i,w,v,o)}constructor(e,i,r,s,n,o,l,c){this.script=e,this._arcade=i,this._syntaxTree=r,this._compiled=s,this._spatialReference=n,this._viewDict=o,this._configDict=l,this._dictionaryCtor=c,this._dependencies=new Map,this._featureReader=new MK,this._dependencies.set("geometry",i.scriptTouchesGeometry(this._syntaxTree)),this._dependencies.set("scale",this._arcade.referencesMember(this._syntaxTree,"scale")),this._dependencies.set("timeProperties",this._arcade.scriptUsesViewProperties(this._syntaxTree,["timeProperties"]))}evaluate(e,i){var s;const r=(s=i.$view)==null?void 0:s.timeZone;if(i.$view){let n;if(this._viewDict.setField("scale",i.$view.scale),i.$view.timeProperties!=null){const{currentStart:o,currentEnd:l}=i.$view.timeProperties;n=new this._dictionaryCtor({currentStart:o!=null?r!=null?Ql.epochToArcadeDate(o,r):Ql.unknownEpochToArcadeDate(o):void 0,currentEnd:l!=null?r!=null?Ql.epochToArcadeDate(l,r):Ql.unknownEpochToArcadeDate(l):void 0,startIncluded:!0,endIncluded:!0})}this._viewDict.setField("timeProperties",n)}return this._compiled({vars:{$view:this._viewDict,$config:this._configDict,$feature:e},spatialReference:this._spatialReference,timeZone:r})}repurposeFeature(e,i){return this._featureReader.bind(e,i,this._spatialReference),this._featureReader}references(e){return this._dependencies.get(e)??!1}},MK=class{constructor(){this._boundTarget=null,this._boundSchema={fields:null,fieldsIndex:null,spatialReference:null,get geometryType(){return null},get objectIdField(){return null}},this.arcadeDeclaredClass="esri.arcade.Feature",this._contextTimeZone=null}bind(e,i,r){const s=i??new _x(EK(e.attributes));this._boundTarget=e,this._boundSchema.fields=s.fields,this._boundSchema.fieldsIndex=s,this._boundSchema.spatialReference=r}_getField(e){return this._boundSchema.fieldsIndex.get(e)}get contextTimeZone(){return this._contextTimeZone}set contextTimeZone(e){this._contextTimeZone=e}readArcadeFeature(){return this}hasField(e){return this._boundSchema.fieldsIndex.has(e)}geometry(){if("fromJSON"in this._boundTarget)return this._boundTarget.geometry;const e=Jc(this._boundTarget.geometry);if(e){if(!this._boundSchema.spatialReference)throw new Error("InternalError: Expected spatial reference to be defined");e.spatialReference=this._boundSchema.spatialReference}return e}_hasGeometry(){return this._boundTarget.geometry!=null}isUnknownDateTimeField(e){return this._boundSchema.fieldsIndex.getTimeZone(e)===Gc}field(e,i=!0){const r=this._getField(e);if(r){const s=this._boundTarget.attributes[r.name];if(s==null)return null;switch(r.type){case"date-only":case"esriFieldTypeDateOnly":return VTe.fromReader(s);case"time-only":case"esriFieldTypeTimeOnly":return FTe.fromReader(s);case"esriFieldTypeTimestampOffset":case"timestamp-offset":return Ql.fromReaderAsTimeStampOffset(s);case"date":case"esriFieldTypeDate":return this.isUnknownDateTimeField(e)?Ql.unknownEpochToArcadeDate(s):Ql.epochToArcadeDate(s,this.contextTimeZone??Qo);default:return s}}if(i)throw new Error(`Field ${e} does not exist`);return null}setField(e,i){throw new Error("Unable to update feature attribute values, feature is readonly")}keys(){return this._boundSchema.fieldsIndex.fields.map(e=>e.name)}isEmpty(){return this._boundSchema.fields.length<=0&&!this._hasGeometry()}castToText(e=!1){return JSON.stringify(this._boundTarget)}gdbVersion(){return null}fullSchema(){return this._boundSchema}castAsJson(e=null){var i;return{attributes:this._boundTarget.attributes,geometry:(e==null?void 0:e.keepGeometryType)===!0?this.geometry():((i=this.geometry())==null?void 0:i.toJSON())??null}}castAsJsonAsync(e=null,i=null){return Promise.resolve(this.castAsJson(i))}};function EK(t){const e=[];for(const i in t)e.push({name:i,alias:i,type:typeof t[i]=="string"?"esriFieldTypeString":"esriFieldTypeDouble"});return e}let qTe=class AK{static async from(e,i,r){const s=e.dictionary_version?mK.parse(e.dictionary_version):null,n=new Set(e.itemsNames),o={};if(i)for(const v in i)o[v]=i[v];if(e.authoringInfo.configuration)for(const v of e.authoringInfo.configuration)o.hasOwnProperty(v.name)||(o[v.name]=v.value);const l=new Set(e.authoringInfo.symbol);for(const v of Object.keys(r))l.delete(v);l.size&&se.getLogger("esri.renderers.support.DictionaryScriptEvaluator").warnOnce("missing-fields: fieldMap entries for the following symbol fields are missing",{symbolFields:l});const c=await UTe(e.expression,null,o);if(!c)throw new B("dictionary-renderer:expression-error","Unable to create dictionary renderer expression");const d=!s||!s.greaterEqual(4,0);d&&se.getLogger("esri.renderers.support.DictionaryScriptEvaluator").warnOnce("Dictionary script does not support native field types. Applying fallback",{version:s});const m=new BTe(r,d);return new AK(d,n,c,m)}constructor(e,i,r,s){this._requiresFieldCoercionToString=e,this._itemNames=i,this._compiled=r,this._reader=s}get itemNames(){return this._itemNames}evaluate(e,i,r,s){try{return this._reader.bind(e,r,s),this._compiled.evaluate(this._reader,{$view:{scale:i}})}catch(n){se.getLogger("esri.renderers.support.DictionaryScriptEvaluator").warnOnce("arcade: dictionary script evaluation failed",{error:n})}return null}createDictionaryFieldsIndex(e){if(!this._requiresFieldCoercionToString)return new _x(e);const i=e.map(r=>({...r,type:"esriFieldTypeString"}));return new _x(i)}},BTe=class extends MK{constructor(e,i){super(),this._fieldMap=e,this._requiresFieldCoercionToString=i}_getField(e){const i=this._fieldMap[e]??e;return this._boundSchema.fieldsIndex.get(i)}field(e){if(!this._requiresFieldCoercionToString)return super.field(e,!1);const i=this._getField(e);return i==null||this._boundTarget.attributes[i.name]==null?"":""+this._boundTarget.attributes[i.name]}};const V9={Relative:0,Absolute:1},GTe={color:[128,128,128,1],outlinecolor:[0,0,0,1],backgroundcolor:[128,128,128,1],borderlinecolor:[0,0,0,1],tintcolor:[255,255,255,1]},WO={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:"Draft",anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMTextSymbol:{angle:0,anglex:0,angley:0,halosize:1,height:10,horizontalalignment:"Left",kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:"Normal",textstring:"",underline:!1,verticalalignment:"Bottom",enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:"Draft",capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMGradientStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1,gradientMethod:"AcrossLine",gradientSize:75,gradientSizeUnits:V9.Relative,gradientType:"Discrete",interval:5},CIMSolidFill:{enable:!0,colorlocked:!1},CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:"Draft",enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,separation:4,enable:!0,colorlocked:!1},CIMGradientFill:{enable:!0,angle:90,gradientMethod:"Linear",gradientSize:75,gradientSizeUnits:V9.Relative,gradientType:"Discrete",interval:5},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:"OpenEnded",width:5},CIMGeometricEffectBuffer:{size:1},CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:"NoConstraint",offsetalongline:0},CIMGeometricEffectDonut:{method:"Mitered",option:"Accurate",width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:"FullGeometry"},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:"Square",offset:1,option:"Fast"},CIMGeometricEffectRadial:{angle:0,length:5},CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,yscalefactor:1.15},CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:"Sinus"},CIMMarkerPlacementAlongLine:{customendingoffset:0,endings:"WithHalfGap",offsetalongline:0,placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:"Both",offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:"Fixed",offsetx:0,offsety:0,randomness:100,seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:"ClipAtBoundary"},CIMMarkerPlacementOnLine:{relativeto:"LineMiddle",startpointoffset:0,angletoline:!0,offset:0},CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:"OnPolygon",offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:"Loop",repeatdelay:0,easing:"Linear"},CIMSymbolAnimationSize:{tosize:10},CIMSymbolAnimationScale:{scalefactor:1},CIMSymbolAnimationColor:{tocolor:[255,255,255,1]},CIMSymbolAnimationTransparency:{totransparency:0},CIMSymbolAnimationRotation:{torotation:0,rotateclockwise:!1},CIMSymbolAnimationOffset:{offsetx:0,offsety:0},CIMSymbolAnimationMoveAlongLine:{speed:30,distanceAlong:100}};function HTe(t){return typeof t=="function"}function uVe(t,e,i,r){return HTe(t)?t(e,i,r):t}function cVe(t){return[t.r,t.g,t.b,t.a]}const WTe=` /-,
`;function F9(t){let e=t.length;for(;e--;)if(!WTe.includes(t.charAt(e)))return!1;return!0}function hVe(t,e){const i=[];let r=0,s=-1;do if(s=t.indexOf("[",r),s>=r){if(s>r){const n=t.slice(r,s);i.push([n,null,F9(n)])}if(r=s+1,s=t.indexOf("]",r),s>=r){if(s>r){const n=e[t.slice(r,s)];n&&i.push([null,n,!1])}r=s+1}}while(s!==-1);if(r<t.length){const n=t.slice(r);i.push([n,null,F9(n)])}return i}function dVe(t,e,i){let r="",s=null;for(const n of e){const[o,l,c]=n;if(o!=null&&o!=="")c?s=o:(s!=null&&(r+=s,s=null),r+=o);else{const d=t.readAttribute(l);d!=null&&d!==""&&(s!==null&&(r+=s,s=null),r+=d)}}return OK(r,i)}function pVe(t,e,i,r){let s="",n=null;for(const o of e){const[l,c,d]=o;if(l!=null&&l!=="")d?n=l:(n!=null&&(s+=n,n=null),s+=l);else{let m=c;i!=null&&(m=t3e(c,i));const v=t.attributes[m];v!=null&&v!==""&&(n!=null&&(s+=n,n=null),s+=v)}}return OK(s,r)}function OK(t,e){switch(typeof t!="string"&&(t=String(t)),e){case"LowerCase":return t.toLowerCase();case"Allcaps":return t.toUpperCase();default:return t}}function fVe(t,e,i,r,s,n,o=!0){const l=e/s,c=i/n,d=Math.ceil(l/2),m=Math.ceil(c/2);for(let v=0;v<n;v++)for(let w=0;w<s;w++){const _=4*(w+(o?n-v-1:v)*s);let x=0,T=0,$=0,O=0,C=0,R=0,N=0;const j=(v+.5)*c;for(let z=Math.floor(v*c);z<(v+1)*c;z++){const ee=Math.abs(j-(z+.5))/m,Q=(w+.5)*l,J=ee*ee;for(let te=Math.floor(w*l);te<(w+1)*l;te++){let pe=Math.abs(Q-(te+.5))/d;const ye=Math.sqrt(J+pe*pe);ye>=-1&&ye<=1&&(x=2*ye*ye*ye-3*ye*ye+1,x>0&&(pe=4*(te+z*e),N+=x*t[pe+3],$+=x,t[pe+3]<255&&(x=x*t[pe+3]/250),O+=x*t[pe],C+=x*t[pe+1],R+=x*t[pe+2],T+=x))}}r[_]=O/T,r[_+1]=C/T,r[_+2]=R/T,r[_+3]=N/$}}function ZTe(t){return t?[t[0],t[1],t[2],t[3]/255]:[0,0,0,0]}function mVe(t){var e;return((e=t.data)==null?void 0:e.symbol)??null}function yVe(t){return t.type==="CIMVectorMarker"||t.type==="CIMPictureMarker"||t.type==="CIMBarChartMarker"||t.type==="CIMCharacterMarker"||t.type==="CIMPieChartMarker"||t.type==="CIMStackedBarChartMarker"}function gVe(t){return t.type==="CIMGradientStroke"||t.type==="CIMPictureStroke"||t.type==="CIMSolidStroke"}function vVe(t){return t!=null&&(t.type==="CIMGradientFill"||t.type==="CIMHatchFill"||t.type==="CIMPictureFill"||t.type==="CIMSolidFill"||t.type==="CIMWaterFill")}function YTe(t){return t!=null&&(t.type==="CIMMarkerPlacementAlongLineRandomSize"||t.type==="CIMMarkerPlacementAlongLineSameSize"||t.type==="CIMMarkerPlacementAlongLineVariableSize"||t.type==="CIMMarkerPlacementAtExtremities"||t.type==="CIMMarkerPlacementAtMeasuredUnits"||t.type==="CIMMarkerPlacementAtRatioPositions"||t.type==="CIMMarkerPlacementOnLine"||t.type==="CIMMarkerPlacementOnVertices")}const wVe=(t,e=0)=>t==null||isNaN(t)?e:t,bVe=(t,e)=>t??e,_Ve=(t,e)=>t??e,SVe=t=>t.tintColor?ZTe(t.tintColor):[255,255,255,1];let JTe=class{constructor(e){this._import=e}getImportPromise(){return this._promise==null&&(this._promise=this._import().then(e=>this.module=e)),this._promise}};function TVe(t){return new JTe(t)}function $Ve(t){if(!t)return"normal";switch(t.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function MVe(t){if(!t)return"normal";switch(t.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function EVe(t){let e="normal",i="normal";if(t){const r=t.toLowerCase();r.includes("italic")?e="italic":r.includes("oblique")&&(e="oblique"),r.includes("bold")?i="bold":r.includes("light")&&(i="lighter")}return{style:e,weight:i}}function AVe(t){return t.underline?"underline":t.strikethrough?"line-through":"none"}function z9(t){if(!t)return null;switch(t.type){case"CIMPolygonSymbol":if(t.symbolLayers)for(const e of t.symbolLayers){const i=z9(e);if(i!=null)return i}break;case"CIMTextSymbol":return z9(t.symbol);case"CIMSolidFill":return t.color}return null}function U9(t){if(t)switch(t.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const e=t.symbolLayers;if(e)for(const i of e){const r=U9(i);if(r!=null)return r}break}case"CIMTextSymbol":return U9(t.symbol);case"CIMSolidStroke":return t.color}}function OVe(t){for(const e of t)if(e.enable)switch(e.type){case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return!0}return!1}function q9(t){if(t)switch(t.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(t.symbolLayers)for(const e of t.symbolLayers){const i=q9(e);if(i!==void 0)return i}break;case"CIMTextSymbol":return q9(t.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return t.width}}function kVe(t){switch(t){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function CVe(t){switch(t){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function RVe(t){return(t?Object.keys(t):[]).map(e=>({name:e,alias:e,type:typeof t[e]=="string"?"esriFieldTypeString":"esriFieldTypeDouble"}))}const IVe=t=>t.includes("data:image/svg+xml");function PVe(t){if(!t)return null;switch(t.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}function BT(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function jVe(t,e,i,r,s,n,o=!0){const{infos:l}=n;let c=1,d=0,m=0,v=0,w=1;for(const{absoluteAnchorPoint:T,offsetX:$,offsetY:O,rotation:C,size:R,frameHeight:N,rotateClockWise:j,scaleSymbolsProportionally:z}of l)w=T?1:c,m=G9($,O,d,w,m),v=B9($,O,d,w,v),N&&(z||o)&&(c*=R/N),d=H9(C,j,d);const _=G9(r,s,d,w,m),x=B9(r,s,d,w,v);return{size:t*c,rotation:H9(e,i,d),offsetX:_,offsetY:x}}function KTe(t){if(t==null)return!1;if(Array.isArray(t))return t.every(e=>KTe(e));switch(typeof t){case"string":return!!t;case"number":return!isNaN(t)}}function XTe(t,e){if(e==="color"||e==="outlinecolor"||e==="backgroundcolor"||e==="borderlinecolor"||e==="tintcolor")return[...GTe[e]];const i=WO[t];if(!i)throw new Error(`InternalError: default value for type ${t}.`);return i[e]}function QTe(t){return t.split(" ").map(e=>Number(e))}function e3e(t){return typeof t=="string"?QTe(t):t}function NVe(t){return t!=null&&t.dashTemplate&&(t.dashTemplate=e3e(t.dashTemplate)),t}function ZO(t){if(t==null)return"Normal";switch(t.type){case"CIMTextSymbol":return t.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const e=t.symbolLayers;if(!e)return"Normal";for(const i of e)if(i.type==="CIMVectorMarker")return ZO(i)}break;case"CIMVectorMarker":{const e=t.markerGraphics;if(!e)return"Normal";for(const i of e)if(i.symbol)return ZO(i.symbol)}}return"Normal"}function DVe(t){if(t)switch(t.type){case"CIMTextSymbol":return t.height;case"CIMPointSymbol":{let e=0;if(t.symbolLayers){for(const i of t.symbolLayers)if(i)switch(i.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":{const r=i.size??WO.CIMVectorMarker.size;r>e&&(e=r);break}}}return e}case"CIMLineSymbol":case"CIMPolygonSymbol":{let e=0;if(t.symbolLayers){for(const i of t.symbolLayers)if(i)switch(i.type){case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{const r=i.width;r!=null&&r>e&&(e=r);break}case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":if(i.markerPlacement&&YTe(i.markerPlacement)){const r=i.size??WO.CIMVectorMarker.size;r>e&&(e=r)}break;case"CIMPictureFill":{const r=i.height;r!=null&&r>e&&(e=r)}}}return e}}}function t3e(t,e){if(e!==null){const i=e.get(t);return i?i.name:t}return t}function LVe(t){return t.map(e=>({...e,propertyName:BT(e.propertyName)}))}function VVe(t){const e={};for(const i in t){const r=t[i];e[BT(i)]=r}return e}function B9(t,e,i,r,s){const n=i*Math.PI/180;if(n){const o=Math.cos(n);return(Math.sin(n)*t+o*e)*r+s}return e*r+s}function G9(t,e,i,r,s){const n=i*Math.PI/180;return n?(Math.cos(n)*t-Math.sin(n)*e)*r+s:t*r+s}function H9(t,e,i){return e?i-t:i+t}function FVe(t,e,i){const r=i==="Color"||i==="TintColor"||i==="ToColor",s=i==="Rotation"||i==="Angle"||i==="ToRotation";let n=e[BT(i)];if(n!=null&&(r?n=[n[0]/255,n[1]/255,n[2]/255,n[3]/255]:s&&(n*=Math.PI/180)),n==null&&(n=XTe(e.type,i.toLowerCase()),n!=null&&(r?n=[n[0]/255,n[1]/255,n[2]/255,n[3]]:s&&(n*=Math.PI/180))),e.primitiveName!=null){const o=t[e.primitiveName];if(o!=null){const l=o[i];l==null||(typeof l=="string"||typeof l=="number"||Array.isArray(l)?(n=l,n!=null&&(r?n=[n[0]/255,n[1]/255,n[2]/255,n[3]/255]:s&&(n*=Math.PI/180))):(n={valueExpressionInfo:l,defaultValue:n},n!=null&&(r?n={type:"Process",op:"ArcadeColor",value:n}:s&&(n={type:"Process",op:"Divide",left:n,right:180/Math.PI}))))}}if(n==null)throw new Error(`Failed to derive a value or an expression for "${i}".`);return n}function zVe(t,e,i){if(e[BT(i)]!=null)return!0;if(e.primitiveName!=null){const r=t[e.primitiveName];if(r!=null&&r[i]!=null)return!0}return!1}function UVe(t,e){return Math.max(Math.min((t??e)/100,1),0)}const i3e={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};let kK=class{constructor(e,i,r,s){this.url=e,this.fieldMap=r,this.dictionaryInfo=s,this._symbolPartCache=new $Te(100);const n=async()=>qTe.from(await s,i,r);this._evaluator=n()}async getSymbolAsync(e,i,r=!0){var v;const s=await this._evaluator,n=(i==null?void 0:i.fields)??EK(e.attributes),o=s.createDictionaryFieldsIndex(n),l=s.evaluate(e,(i==null?void 0:i.scale)??0,o,i==null?void 0:i.spatialReference);if(l==null)return null;const c=CT(e.geometry),d=C9.parse(l,s.itemNames,c),m=c==="esriGeometryPoint"&&!((v=e.geometry)!=null&&v.hasZ);return await this._cimPartsToCIMSymbol(e,d.partNames,d.overrides,m,i,r,o)}async getSymbolForControlString(e,i,r){const s=await this._evaluator,n=C9.parse(e,s.itemNames,i),o=i==="esriGeometryPoint"&&!r,l=W9(await Promise.all(n.partNames.map(c=>this._getSymbolPart(c))),n.overrides,o);return new Hr({data:l})}async _cimPartsToCIMSymbol(e,i,r,s,n,o,l){const c=i.map(v=>this._getSymbolPart(v,n));let d=await Promise.all(c);if(o&&this.fieldMap&&d.length>0){const{OverrideHelper:v}=await re(()=>import("./OverrideHelper-BZnpSK-Z.js"),__vite__mapDeps([182,127,183,33]));d=G(d);for(const w of d)v.applyDictionaryTextOverrides(w,e,this.fieldMap,l,ZO(w))}const m=W9(d,r,s);return new Hr({data:m})}async _fetchSymbolPart(e,i){const r=await this.dictionaryInfo,s=(this.url+"/"+r.cimRefTemplateUrl).replaceAll(/\{itemName\}/gi,e),{data:n}=await Bt(s,{responseType:"json",query:{f:"json"},...i});return n}async _getSymbolPart(e,i){let r=this._symbolPartCache.get(e);return r||(r=this._fetchSymbolPart(e,i),this._symbolPartCache.put(e,r)),r}};function W9(t,e,i){if(!t||t.length===0)return null;const r={...t[0]};if(t.length>1){r.effects=null,r.symbolLayers=[];for(const s of t){const n=s;if(n.effects!=null)for(const o of n.symbolLayers)o.effects==null?o.effects=n.effects:o.effects.unshift(...n.effects);r.symbolLayers.unshift(...n.symbolLayers)}}return i&&(r.callout=i3e),{type:"CIMSymbolReference",symbol:r,primitiveOverrides:e}}var YO;let Co=YO=class extends $g(yn){constructor(t){super(t),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){const t=this.getDictionaryInfo();return new kK(this.url,this.config,this.fieldMap??{},t)}writeData(t,e){t&&(e.scalingExpressionInfo={expression:t,returnType:"number"})}writeVisualVariables(t,e,i,r){r!=null&&r.origin||super.writeVisualVariables(t,e,i,r)}clone(){return new YO({config:G(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:G(this.fieldMap),url:G(this.url),visualVariables:G(this.visualVariables)})}async getSymbolAsync(t,e,i=!0){return this._loader.getSymbolAsync(t,e,i)}async getSymbolForControlString(t,e,i){return this._loader.getSymbolForControlString(t,e,i)}getDictionaryInfo(){return this._dictionaryInfoPromise||(this._dictionaryInfoPromise=this._fetchDictionaryInfo()),this._dictionaryInfoPromise}async collectRequiredFields(t,e){await this.collectVVRequiredFields(t,e),this.scaleExpression&&await Ss(t,e,null,this.scaleExpression);for(const i in this.fieldMap){const r=this.fieldMap[i];e.has(r)&&t.add(r)}}get arcadeRequired(){return!0}getSymbol(){return null}get symbols(){return[]}getAttributeHash(){var t;return((t=this.visualVariables)==null?void 0:t.reduce((e,i)=>e+i.getAttributeHash(),""))??""}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}async _fetchDictionaryInfo(){const{data:t}=await Bt(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"}});return t}};h([f({type:kK})],Co.prototype,"_loader",null),h([f({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],Co.prototype,"config",void 0),h([f({type:Object,json:{write:!0}})],Co.prototype,"fieldMap",void 0),h([f({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],Co.prototype,"scaleExpression",void 0),h([_e("scaleExpression")],Co.prototype,"writeData",null),h([f({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(t){return{enabled:!!t&&!!this.scaleExpression}}}}})],Co.prototype,"scaleExpressionTitle",void 0),h([f({type:String,json:{write:!0}})],Co.prototype,"url",void 0),h([_e("visualVariables")],Co.prototype,"writeVisualVariables",null),Co=YO=h([I("esri.renderers.DictionaryRenderer")],Co);var JO;let Sl=JO=class extends ae{constructor(t){super(t),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(t){return t==null?t:typeof t=="function"?(se.getLogger(this).error(".field: field must be a string value"),null):xw(t)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){var t;return new JO({color:(t=this.color)==null?void 0:t.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};h([f({type:Ne,json:{type:[Number],write:!0}})],Sl.prototype,"color",void 0),h([f({type:String,json:{write:!0}})],Sl.prototype,"field",void 0),h([Ot("field")],Sl.prototype,"castField",null),h([f({type:String,json:{write:!0}})],Sl.prototype,"label",void 0),h([f({type:String,json:{write:!0}})],Sl.prototype,"valueExpression",void 0),h([f({type:String,json:{write:!0}})],Sl.prototype,"valueExpressionTitle",void 0),Sl=JO=h([I("esri.renderers.support.AttributeColorInfo")],Sl);const CK=Sl;var KO;let uS=KO=class extends ae{constructor(){super(...arguments),this.unit=null}clone(){return new KO({unit:this.unit})}};h([f({type:String,json:{write:!0}})],uS.prototype,"unit",void 0),uS=KO=h([I("esri.renderers.support.DotDensityLegendOptions")],uS);const r3e=uS;var XO;let Es=XO=class extends $g(yn){constructor(t){super(t),this.attributes=null,this.backgroundColor=new Ne([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new Pi,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}set visualVariables(t){super.visualVariables=t}calculateDotValue(t){if(this.referenceScale==null)return this.dotValue;const e=t/this.referenceScale*this.dotValue;return e<1?1:e}getSymbol(){return new pn({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}getAttributeHash(){var t;return((t=this.attributes)==null?void 0:t.reduce((e,i)=>e+i.getAttributeHash(),""))??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new XO({attributes:G(this.attributes),backgroundColor:G(this.backgroundColor),dotBlendingEnabled:G(this.dotBlendingEnabled),dotShape:G(this.dotShape),dotSize:G(this.dotSize),dotValue:G(this.dotValue),legendOptions:G(this.legendOptions),outline:G(this.outline),referenceScale:G(this.referenceScale),seed:G(this.seed),visualVariables:G(this.visualVariables),authoringInfo:G(this.authoringInfo)})}getControllerHash(){var e;return`${(e=this.attributes)==null?void 0:e.map(i=>i.field||i.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(t,e){await this.collectVVRequiredFields(t,e);for(const i of this.attributes??[])i.valueExpression&&await Ss(t,e,null,i.valueExpression),i.field&&t.add(i.field)}};h([f({type:[CK],json:{write:!0}})],Es.prototype,"attributes",void 0),h([f({type:Ne,json:{write:!0}})],Es.prototype,"backgroundColor",void 0),h([f({type:Boolean,json:{write:!0}})],Es.prototype,"dotBlendingEnabled",void 0),h([f({type:String,json:{write:!1}})],Es.prototype,"dotShape",void 0),h([f({type:Number,json:{write:!0}})],Es.prototype,"dotSize",void 0),h([f({type:r3e,json:{write:!0}})],Es.prototype,"legendOptions",void 0),h([f({type:Pi,json:{default:null,write:!0}})],Es.prototype,"outline",void 0),h([f({type:Number,json:{write:!0}})],Es.prototype,"dotValue",void 0),h([f({type:Number,json:{write:!0}})],Es.prototype,"referenceScale",void 0),h([f({type:Number,json:{write:!0}})],Es.prototype,"seed",void 0),h([ke({dotDensity:"dot-density"})],Es.prototype,"type",void 0),Es=XO=h([I("esri.renderers.DotDensityRenderer")],Es);var QO;let Ec=QO=class extends ae{constructor(t){super(t),this.color=null,this.ratio=null}clone(){return new QO({color:this.color&&this.color.clone(),ratio:this.ratio})}};h([f({type:Ne,json:{type:[ot],default:null,write:{isRequired:!0}}})],Ec.prototype,"color",void 0),h([f({type:Number,json:{write:{isRequired:!0}}})],Ec.prototype,"ratio",void 0),Ec=QO=h([I("esri.renderers.support.HeatmapColorStop")],Ec);let Yf=class extends rt(ae){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};h([f({type:String,json:{write:!0}})],Yf.prototype,"minLabel",void 0),h([f({type:String,json:{write:!0}})],Yf.prototype,"maxLabel",void 0),h([f({type:String,json:{write:!0}})],Yf.prototype,"title",void 0),Yf=h([I("esri.renderers.support.HeatmapLegendOptions")],Yf);function s3e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function n3e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function o3e(t,e,i,r,s){return t[0]=e,t[1]=i,t[2]=r,t[3]=s,t}function a3e(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t}function RK(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t}function IK(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t[3]=e[3]*i[3],t}function PK(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t[3]=e[3]/i[3],t}function l3e(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function u3e(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function c3e(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t[3]=Math.min(e[3],i[3]),t}function h3e(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t[3]=Math.max(e[3],i[3]),t}function d3e(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function p3e(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t}function f3e(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t[3]=e[3]+i[3]*r,t}function jK(t,e){const i=e[0]-t[0],r=e[1]-t[1],s=e[2]-t[2],n=e[3]-t[3];return Math.sqrt(i*i+r*r+s*s+n*n)}function NK(t,e){const i=e[0]-t[0],r=e[1]-t[1],s=e[2]-t[2],n=e[3]-t[3];return i*i+r*r+s*s+n*n}function DK(t){const e=t[0],i=t[1],r=t[2],s=t[3];return Math.sqrt(e*e+i*i+r*r+s*s)}function LK(t){const e=t[0],i=t[1],r=t[2],s=t[3];return e*e+i*i+r*r+s*s}function m3e(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function y3e(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function g3e(t,e){const i=e[0],r=e[1],s=e[2],n=e[3];let o=i*i+r*r+s*s+n*n;return o>0&&(o=1/Math.sqrt(o),t[0]=i*o,t[1]=r*o,t[2]=s*o,t[3]=n*o),t}function v3e(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function VK(t,e,i,r){const s=e[0],n=e[1],o=e[2],l=e[3];return t[0]=s+r*(i[0]-s),t[1]=n+r*(i[1]-n),t[2]=o+r*(i[2]-o),t[3]=l+r*(i[3]-l),t}function w3e(t,e=1){const i=MT;let r,s,n,o,l,c;do r=2*i()-1,s=2*i()-1,l=r*r+s*s;while(l>=1);do n=2*i()-1,o=2*i()-1,c=n*n+o*o;while(c>=1);const d=Math.sqrt((1-l)/c);return t[0]=e*r,t[1]=e*s,t[2]=e*n*d,t[3]=e*o*d,t}function b3e(t,e,i){const r=e[0],s=e[1],n=e[2],o=e[3];return t[0]=i[0]*r+i[4]*s+i[8]*n+i[12]*o,t[1]=i[1]*r+i[5]*s+i[9]*n+i[13]*o,t[2]=i[2]*r+i[6]*s+i[10]*n+i[14]*o,t[3]=i[3]*r+i[7]*s+i[11]*n+i[15]*o,t}function _3e(t,e,i){const r=e[0],s=e[1],n=e[2],o=i[0],l=i[1],c=i[2],d=i[3],m=d*r+l*n-c*s,v=d*s+c*r-o*n,w=d*n+o*s-l*r,_=-o*r-l*s-c*n;return t[0]=m*d+_*-o+v*-c-w*-l,t[1]=v*d+_*-l+w*-o-m*-c,t[2]=w*d+_*-c+m*-l-v*-o,t[3]=e[3],t}function S3e(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function x3e(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function T3e(t,e){const i=t[0],r=t[1],s=t[2],n=t[3],o=e[0],l=e[1],c=e[2],d=e[3],m=ws();return Math.abs(i-o)<=m*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(r-l)<=m*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(s-c)<=m*Math.max(1,Math.abs(s),Math.abs(c))&&Math.abs(n-d)<=m*Math.max(1,Math.abs(n),Math.abs(d))}const $3e=RK,M3e=IK,E3e=PK,A3e=jK,O3e=NK,k3e=DK,C3e=LK;Object.freeze(Object.defineProperty({__proto__:null,add:a3e,ceil:l3e,copy:s3e,copyVec3:n3e,dist:A3e,distance:jK,div:E3e,divide:PK,dot:v3e,equals:T3e,exactEquals:x3e,floor:u3e,inverse:y3e,len:k3e,length:DK,lerp:VK,max:h3e,min:c3e,mul:M3e,multiply:IK,negate:m3e,normalize:g3e,random:w3e,round:d3e,scale:p3e,scaleAndAdd:f3e,set:o3e,sqrDist:O3e,sqrLen:C3e,squaredDistance:NK,squaredLength:LK,str:S3e,sub:$3e,subtract:RK,transformMat4:b3e,transformQuat:_3e},Symbol.toStringTag,{value:"Module"}));function GT(){return[0,0,0,0]}function R3e(t){return[t[0],t[1],t[2],t[3]]}function Mg(t,e,i,r){return[t,e,i,r]}function I3e(t,e,i,r){return[t,e,i,r]}function P3e(t,e=GT()){const i=Math.min(4,t.length);for(let r=0;r<i;++r)e[r]=t[r];return e}function FK(){return GT()}function zK(){return Mg(1,1,1,1)}function UK(){return Mg(1,0,0,0)}function qK(){return Mg(0,1,0,0)}function BK(){return Mg(0,0,1,0)}function GK(){return Mg(0,0,0,1)}const j3e=FK(),N3e=zK(),D3e=UK(),L3e=qK(),V3e=BK(),F3e=GK();Object.freeze(Object.defineProperty({__proto__:null,ONES:N3e,UNIT_W:F3e,UNIT_X:D3e,UNIT_Y:L3e,UNIT_Z:V3e,ZEROS:j3e,clone:R3e,create:GT,freeze:I3e,fromArray:P3e,fromValues:Mg,ones:zK,unitW:GK,unitX:UK,unitY:qK,unitZ:BK,zeros:FK},Symbol.toStringTag,{value:"Module"}));const P6=2.4;function z3e(t){return uo(t*P6)}function U3e(t){return xbe(t)/P6}function q3e(t,e,i,r){let{color:s,ratio:n}=e,{color:o,ratio:l}=i;l===n&&(l===1?n-=1e-6:l+=1e-6);const c=_n((r-n)/(l-n),0,1);VK(t,s.toArray(),o.toArray(),c)}function GVe(t){const i=new Uint8ClampedArray(2048);if(t=t.filter(({ratio:l})=>l>=0&&l<=1).sort((l,c)=>l.ratio-c.ratio).map(({color:l,ratio:c})=>({color:l,ratio:Math.max(c,.001)})),t.length<1)return i;let r=t[0],s=t[0],n=1;const o=GT();for(let l=0;l<512;l++){const c=(l+.5)/512;for(;c>s.ratio&&n<t.length;)r=s,s=t[n++];q3e(o,r,s,c),i.set(o,4*l)}return i}function HVe(t,e,i){const r=Math.sqrt(t**2+e**2)/i;return r>1?0:3/(Math.PI*i**2)*(1-r**2)**2}function WVe(t){return typeof t=="function"?t:t?e=>+e[t]:()=>1}var ek;function Z9(t){if(t!=null){const{maxDensity:e,minDensity:i,radius:r}=t;if(e!=null||i!=null||r!=null){const{blurRadius:s,maxPixelIntensity:n,minPixelIntensity:o,...l}=t;return l}}return t}let Xi=ek=class extends yn{constructor(t){super(t),this.authoringInfo=null,this.colorStops=[new Ec({ratio:0,color:new Ne("rgba(255, 140, 0, 0)")}),new Ec({ratio:.75,color:new Ne("rgba(255, 140, 0, 1)")}),new Ec({ratio:.9,color:new Ne("rgba(255, 0,   0, 1)")})],this.field=null,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null}normalizeCtorArgs(t){return Z9(t)}get blurRadius(){return U3e(this.radius)}set blurRadius(t){const e=this.maxPixelIntensity,i=this.minPixelIntensity;this._set("radius",z3e(t)),this._set("maxDensity",e*this._pixelIntensityToDensity),this._set("minDensity",i*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(t){this._set("maxDensity",t*this._pixelIntensityToDensity)}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(t){this._set("minDensity",t*this._pixelIntensityToDensity)}get _pixelIntensityToDensity(){return 24/(P6**2*this.blurRadius**4)}read(t,e){t=Z9(t),super.read(t,e)}getSymbol(){return new ir}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}async collectRequiredFields(t,e){const i=this.field,r=this.valueExpression;i&&typeof i=="string"&&qs(t,e,i),r&&typeof r=="string"&&await Ss(t,e,null,r)}getAttributeHash(){return""}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new ek({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:G(this.colorStops),field:this.field,legendOptions:G(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};h([f({type:Yt,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Xi.prototype,"authoringInfo",void 0),h([f({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Xi.prototype,"blurRadius",null),h([f({type:[Ec],json:{write:{isRequired:!0}}})],Xi.prototype,"colorStops",void 0),h([f({type:String,json:{write:!0}})],Xi.prototype,"field",void 0),h([f({type:Yf,json:{write:!0}})],Xi.prototype,"legendOptions",void 0),h([f({type:Number,json:{write:!0}})],Xi.prototype,"maxDensity",void 0),h([f({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Xi.prototype,"maxPixelIntensity",null),h([f({type:Number,json:{write:!0}})],Xi.prototype,"minDensity",void 0),h([f({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Xi.prototype,"minPixelIntensity",null),h([f({type:Number,cast:ut,json:{write:!0}})],Xi.prototype,"radius",void 0),h([f({type:Number,range:{min:0},json:{default:0,write:!0}})],Xi.prototype,"referenceScale",void 0),h([ke({heatmap:"heatmap"})],Xi.prototype,"type",void 0),h([f({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],Xi.prototype,"valueExpression",void 0),h([f({type:String})],Xi.prototype,"valueExpressionTitle",void 0),h([f({readOnly:!0})],Xi.prototype,"_pixelIntensityToDensity",null),Xi=ek=h([I("esri.renderers.HeatmapRenderer")],Xi);let bd=class extends rt(ae){constructor(){super(...arguments),this.color=new Ne([0,0,0,0]),this.label=null,this.threshold=0}};h([f({type:Ne,json:{write:!0}})],bd.prototype,"color",void 0),h([f({type:String,json:{write:!0}})],bd.prototype,"label",void 0),h([f({type:Number,range:{min:0,max:1},json:{write:!0}})],bd.prototype,"threshold",void 0),bd=h([I("esri.renderers.support.OthersCategory")],bd);const B3e={base:zr,key:"type",typeMap:{size:yt,opacity:Hl}};let As=class extends $g(rt(yn)){constructor(e){super(e),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new Ne([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new bd,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart",this.visualVariables=null}getSymbol(){var e;return new ir({size:this.size?this.size/2+(((e=this.outline)==null?void 0:e.width)||0):0})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(qc)}getAttributeHash(){var e;return((e=this.visualVariables)==null?void 0:e.reduce((i,r)=>i+r.getAttributeHash(),""))??""}getMeshHash(){return this.symbols.reduce((e,i)=>e+JSON.stringify(i),"")}async collectRequiredFields(e,i){await this.collectVVRequiredFields(e,i);for(const r of this.attributes)r.valueExpression&&await Ss(e,i,null,r.valueExpression),r.field&&e.add(r.field)}};h([f({type:[CK],json:{write:!0}})],As.prototype,"attributes",void 0),h([f(E6)],As.prototype,"backgroundFillSymbol",void 0),h([f({type:Ne,json:{write:!0}})],As.prototype,"defaultColor",void 0),h([f({type:String,json:{write:!0}})],As.prototype,"defaultLabel",void 0),h([f({type:Number,range:{min:0,max:1},json:{write:!0}})],As.prototype,"holePercentage",void 0),h([f({type:bd,json:{write:!0}})],As.prototype,"othersCategory",void 0),h([f({type:A6,json:{write:!0}})],As.prototype,"legendOptions",void 0),h([f({type:Pi,json:{default:null,write:!0}})],As.prototype,"outline",void 0),h([f({type:Number,cast:ut,json:{write:!0}})],As.prototype,"size",void 0),h([ke({pieChart:"pie-chart"})],As.prototype,"type",void 0),h([f({types:[B3e]})],As.prototype,"visualVariables",void 0),As=h([I("esri.renderers.PieChartRenderer")],As);const qw={key:"type",base:yn,typeMap:{heatmap:Xi,simple:fs,"unique-value":Nt,"class-breaks":Oi,"dot-density":Es,dictionary:Co,"pie-chart":As},errorContext:"renderer"},G3e={key:"type",base:yn,typeMap:{simple:fs,"unique-value":Nt,"class-breaks":Oi,heatmap:Xi},errorContext:"renderer",validate:H3e};function H3e(t){switch(t.type){case"simple":return W3e(t);case"unique-value":return Z3e(t);case"class-breaks":return Y3e(t);case"heatmap":return t}}function W3e(t){if(t.symbol)return t;se.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene.")}function Z3e(t){const e=t.uniqueValueInfos,i=e==null?void 0:e.filter(({symbol:r,label:s},n)=>(r||se.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${n}] ${s}) without a symbol from web scene.`),!!r));return(i==null?void 0:i.length)!==(e==null?void 0:e.length)&&(t.uniqueValueInfos=i),t}function Y3e(t){const e=t.classBreakInfos,i=e==null?void 0:e.filter(({symbol:r,label:s},n)=>(r||se.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${n}] ${s}) without a symbol from web scene.`),!!r));return(i==null?void 0:i.length)!==(e==null?void 0:e.length)&&(t.classBreakInfos=i),t}function JVe(t,e){return Sx(t,null,e)}const J3e=cg({types:qw});function Sx(t,e,i){return t?t&&(t.styleName||t.styleUrl)&&t.type!=="uniqueValue"?(i!=null&&i.messages&&i.messages.push(new lo("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+t.type+"'",{definition:t,context:i})),null):J3e(t,e,i):null}var tk;let Mr=tk=class extends Ic{constructor(t){super(t),this.type="binning",this.binType="geohash",this.fixedBinLevel=null,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.size=ut("12px"),this.fields=[],this.renderer=null}writeFields(t,e,i){const r=t.filter(s=>s.statisticType!=="avg_angle").map(s=>s.toJSON());bs(i,r,e)}readRenderer(t,e,i){var s;const r=(s=e.drawingInfo)==null?void 0:s.renderer;return r?Sx(r,e,i)??void 0:uK(e,i)}clone(){return new tk({fields:G(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:G(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:G(this.popupTemplate),renderer:G(this.renderer),binType:G(this.binType),size:this.size})}};h([ke({binning:"binning"})],Mr.prototype,"type",void 0),h([ke({geohash:"geohash",square:"square"}),f({type:["geohash","square"]})],Mr.prototype,"binType",void 0),h([f({type:Number,json:{write:!0}})],Mr.prototype,"fixedBinLevel",void 0),h([f({type:[qt],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],Mr.prototype,"labelingInfo",void 0),h([f(DT)],Mr.prototype,"labelsVisible",void 0),h([f({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],Mr.prototype,"maxScale",void 0),h([f(NT)],Mr.prototype,"popupEnabled",void 0),h([f({type:yg,json:{name:"popupInfo",write:!0}})],Mr.prototype,"popupTemplate",void 0),h([f({cast:t=>t==="auto"?t:ds(ut(t))})],Mr.prototype,"size",void 0),h([f({type:[Br],json:{write:!0}})],Mr.prototype,"fields",void 0),h([_e("fields")],Mr.prototype,"writeFields",null),h([f({types:qw,json:{write:{target:"drawingInfo.renderer"}}})],Mr.prototype,"renderer",void 0),h([Ie("renderer",["drawingInfo.renderer"])],Mr.prototype,"readRenderer",null),Mr=tk=h([I("esri.layers.support.FeatureReductionBinning")],Mr);var ik;function Y9(t){var e;return t.type==="simple"&&!((e=t.visualVariables)!=null&&e.length)}let ki=ik=class extends ae{constructor(t){super(t),this.type="cluster",this.clusterRadius=ut("80px"),this.clusterMinSize=ut("12px"),this.clusterMaxSize=ut("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=[]}readRenderer(t,e,i){var s,n;const r=(s=e.drawingInfo)==null?void 0:s.renderer;return(n=r==null?void 0:r.authoringInfo)!=null&&n.isAutoGenerated?null:r?Y9(r)?null:Sx(r,e,i)??void 0:uK(e,i)}readSymbol(t,e,i){var s,n;const r=(s=e.drawingInfo)==null?void 0:s.renderer;if((n=r==null?void 0:r.authoringInfo)!=null&&n.isAutoGenerated)return null;if(r&&Y9(r)){const o=Sx(r,e,i);return o==null?void 0:o.symbol}return null}writeSymbol(t,e,i,r){var n,o;const s=(o=(n=this.renderer)==null?void 0:n.authoringInfo)==null?void 0:o.isAutoGenerated;if(!this.renderer||s){const l=new fs({symbol:t});e.drawingInfo={renderer:l.write({},r)}}}writeFields(t,e,i){const r=t.filter(s=>s.statisticType!=="avg_angle").map(s=>s.toJSON());bs(i,r,e)}readFields(t,e,i){return t.filter(r=>!r.isAutoGenerated).map(r=>Br.fromJSON(r))}clone(){return new ik({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:G(this.labelingInfo),labelsVisible:this.labelsVisible,fields:G(this.fields),maxScale:this.maxScale,renderer:G(this.renderer),symbol:G(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:G(this.popupTemplate)})}};h([f({type:["cluster"],readOnly:!0,json:{write:!0}})],ki.prototype,"type",void 0),h([f({cast:t=>t==="auto"?t:ds(ut(t)),json:{write:!0}})],ki.prototype,"clusterRadius",void 0),h([f({type:Number,cast:ut,json:{write:!0}})],ki.prototype,"clusterMinSize",void 0),h([f({type:Number,cast:ut,json:{write:!0}})],ki.prototype,"clusterMaxSize",void 0),h([f({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],ki.prototype,"maxScale",void 0),h([f(NT)],ki.prototype,"popupEnabled",void 0),h([f({type:yg,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],ki.prototype,"popupTemplate",void 0),h([f({types:qw,json:{write:{target:"drawingInfo.renderer"}}})],ki.prototype,"renderer",void 0),h([Ie("renderer",["drawingInfo.renderer"])],ki.prototype,"readRenderer",null),h([f({types:g_e})],ki.prototype,"symbol",void 0),h([Ie("symbol",["drawingInfo.renderer"])],ki.prototype,"readSymbol",null),h([_e("symbol")],ki.prototype,"writeSymbol",null),h([f({type:[qt],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],ki.prototype,"labelingInfo",void 0),h([f(DT)],ki.prototype,"labelsVisible",void 0),h([f({type:[Br],json:{write:!0}})],ki.prototype,"fields",void 0),h([_e("fields")],ki.prototype,"writeFields",null),h([Ie("fields")],ki.prototype,"readFields",null),ki=ik=h([I("esri.layers.support.FeatureReductionCluster")],ki);var rk;let c1=rk=class extends Ic{constructor(t){super(t),this.type="selection"}clone(){return new rk}};h([f({type:["selection"]})],c1.prototype,"type",void 0),c1=rk=h([I("esri.layers.support.FeatureReductionSelection")],c1);const J9={key:"type",base:Ic,typeMap:{cluster:ki,binning:Mr}},K3e={types:{key:"type",base:Ic,typeMap:{selection:c1,cluster:ki,binning:Mr}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:J9},"portal-item":{types:J9},"web-scene":{types:{key:"type",base:Ic,typeMap:{selection:c1}},name:"layerDefinition.featureReduction",write:{allowNull:!0,layerContainerTypes:ji}}}}},Ef={Base64:0,Hex:1,String:2,Raw:3},Vm=8,HK=(1<<Vm)-1;function Ac(t,e){const i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function X3e(t){const e=[];for(let i=0,r=t.length*Vm;i<r;i+=Vm)e[i>>5]|=(t.charCodeAt(i/Vm)&HK)<<i%32;return e}function Q3e(t){const e=[];for(let i=0,r=32*t.length;i<r;i+=Vm)e.push(String.fromCharCode(t[i>>5]>>>i%32&HK));return e.join("")}function e$e(t){const e="0123456789abcdef",i=[];for(let r=0,s=4*t.length;r<s;r++)i.push(e.charAt(t[r>>2]>>r%4*8+4&15)+e.charAt(t[r>>2]>>r%4*8&15));return i.join("")}function t$e(t){const e="=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=[];for(let s=0,n=4*t.length;s<n;s+=3){const o=(t[s>>2]>>s%4*8&255)<<16|(t[s+1>>2]>>(s+1)%4*8&255)<<8|t[s+2>>2]>>(s+2)%4*8&255;for(let l=0;l<4;l++)8*s+6*l>32*t.length?r.push(e):r.push(i.charAt(o>>6*(3-l)&63))}return r.join("")}function i$e(t,e){return t<<e|t>>>32-e}function HT(t,e,i,r,s,n){return Ac(i$e(Ac(Ac(e,t),Ac(r,n)),s),i)}function jr(t,e,i,r,s,n,o){return HT(e&i|~e&r,t,e,s,n,o)}function Nr(t,e,i,r,s,n,o){return HT(e&r|i&~r,t,e,s,n,o)}function Dr(t,e,i,r,s,n,o){return HT(e^i^r,t,e,s,n,o)}function Lr(t,e,i,r,s,n,o){return HT(i^(e|~r),t,e,s,n,o)}function r$e(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;let i=1732584193,r=-271733879,s=-1732584194,n=271733878;for(let o=0;o<t.length;o+=16){const l=i,c=r,d=s,m=n;i=jr(i,r,s,n,t[o],7,-680876936),n=jr(n,i,r,s,t[o+1],12,-389564586),s=jr(s,n,i,r,t[o+2],17,606105819),r=jr(r,s,n,i,t[o+3],22,-1044525330),i=jr(i,r,s,n,t[o+4],7,-176418897),n=jr(n,i,r,s,t[o+5],12,1200080426),s=jr(s,n,i,r,t[o+6],17,-1473231341),r=jr(r,s,n,i,t[o+7],22,-45705983),i=jr(i,r,s,n,t[o+8],7,1770035416),n=jr(n,i,r,s,t[o+9],12,-1958414417),s=jr(s,n,i,r,t[o+10],17,-42063),r=jr(r,s,n,i,t[o+11],22,-1990404162),i=jr(i,r,s,n,t[o+12],7,1804603682),n=jr(n,i,r,s,t[o+13],12,-40341101),s=jr(s,n,i,r,t[o+14],17,-1502002290),r=jr(r,s,n,i,t[o+15],22,1236535329),i=Nr(i,r,s,n,t[o+1],5,-165796510),n=Nr(n,i,r,s,t[o+6],9,-1069501632),s=Nr(s,n,i,r,t[o+11],14,643717713),r=Nr(r,s,n,i,t[o],20,-373897302),i=Nr(i,r,s,n,t[o+5],5,-701558691),n=Nr(n,i,r,s,t[o+10],9,38016083),s=Nr(s,n,i,r,t[o+15],14,-660478335),r=Nr(r,s,n,i,t[o+4],20,-405537848),i=Nr(i,r,s,n,t[o+9],5,568446438),n=Nr(n,i,r,s,t[o+14],9,-1019803690),s=Nr(s,n,i,r,t[o+3],14,-187363961),r=Nr(r,s,n,i,t[o+8],20,1163531501),i=Nr(i,r,s,n,t[o+13],5,-1444681467),n=Nr(n,i,r,s,t[o+2],9,-51403784),s=Nr(s,n,i,r,t[o+7],14,1735328473),r=Nr(r,s,n,i,t[o+12],20,-1926607734),i=Dr(i,r,s,n,t[o+5],4,-378558),n=Dr(n,i,r,s,t[o+8],11,-2022574463),s=Dr(s,n,i,r,t[o+11],16,1839030562),r=Dr(r,s,n,i,t[o+14],23,-35309556),i=Dr(i,r,s,n,t[o+1],4,-1530992060),n=Dr(n,i,r,s,t[o+4],11,1272893353),s=Dr(s,n,i,r,t[o+7],16,-155497632),r=Dr(r,s,n,i,t[o+10],23,-1094730640),i=Dr(i,r,s,n,t[o+13],4,681279174),n=Dr(n,i,r,s,t[o],11,-358537222),s=Dr(s,n,i,r,t[o+3],16,-722521979),r=Dr(r,s,n,i,t[o+6],23,76029189),i=Dr(i,r,s,n,t[o+9],4,-640364487),n=Dr(n,i,r,s,t[o+12],11,-421815835),s=Dr(s,n,i,r,t[o+15],16,530742520),r=Dr(r,s,n,i,t[o+2],23,-995338651),i=Lr(i,r,s,n,t[o],6,-198630844),n=Lr(n,i,r,s,t[o+7],10,1126891415),s=Lr(s,n,i,r,t[o+14],15,-1416354905),r=Lr(r,s,n,i,t[o+5],21,-57434055),i=Lr(i,r,s,n,t[o+12],6,1700485571),n=Lr(n,i,r,s,t[o+3],10,-1894986606),s=Lr(s,n,i,r,t[o+10],15,-1051523),r=Lr(r,s,n,i,t[o+1],21,-2054922799),i=Lr(i,r,s,n,t[o+8],6,1873313359),n=Lr(n,i,r,s,t[o+15],10,-30611744),s=Lr(s,n,i,r,t[o+6],15,-1560198380),r=Lr(r,s,n,i,t[o+13],21,1309151649),i=Lr(i,r,s,n,t[o+4],6,-145523070),n=Lr(n,i,r,s,t[o+11],10,-1120210379),s=Lr(s,n,i,r,t[o+2],15,718787259),r=Lr(r,s,n,i,t[o+9],21,-343485551),i=Ac(i,l),r=Ac(r,c),s=Ac(s,d),n=Ac(n,m)}return[i,r,s,n]}function j6(t,e=Ef.Hex){const i=e||Ef.Base64,r=r$e(X3e(t),t.length*Vm);switch(i){case Ef.Raw:return r;case Ef.Hex:return e$e(r);case Ef.String:return Q3e(r);case Ef.Base64:return t$e(r)}}const s$e=()=>se.getLogger("esri.views.2d.layers.support.clusterUtils");q.add("esri-cluster-arcade-enabled",!0);const n$e=q("esri-cluster-arcade-enabled"),o$e=new Set(["simple-line","simple-fill","picture-fill"]);function K9(t,e){let i=e.clone();if(!a$e(i))return i;if(e.symbols.some(r=>o$e.has(r.type))&&(i=new fs({symbol:new ir})),i.authoringInfo||(i.authoringInfo=new Yt),i.authoringInfo.isAutoGenerated=!0,"visualVariables"in i){const r=(i.visualVariables||[]).filter(s=>s.valueExpression!=="$view.scale");r.forEach(s=>{s.type==="rotation"?s.field?s.field=Lh(t,s.field,"avg_angle","number"):s.valueExpression&&(s.field=z0(t,s.valueExpression,"avg_angle","number"),s.valueExpression=null):s.normalizationField?(s.field=Lh(t,s.field,"avg_norm","number",s.normalizationField),s.normalizationField=null):s.field?s.field=Lh(t,s.field,"avg","number"):s.valueExpression&&(s.field=z0(t,s.valueExpression,"avg","number"),s.valueExpression=null)}),i.visualVariables=r}switch(i.type){case"simple":break;case"pie-chart":for(const r of i.attributes)r.field?r.field=Lh(t,r.field,"sum","number"):r.valueExpression&&(r.field=z0(t,r.valueExpression,"sum","number"),r.valueExpression=null);break;case"unique-value":i.field?i.field=Lh(t,i.field,"mode","string"):i.valueExpression&&(i.field=z0(t,i.valueExpression,"mode","string"),i.valueExpression=null);break;case"class-breaks":i.normalizationField?(i.field=Lh(t,i.field,"avg_norm","number",i.normalizationField),i.normalizationField=null):i.field?i.field=Lh(t,i.field,"avg","number"):i.valueExpression&&(i.field=z0(t,i.valueExpression,"avg","number"),i.valueExpression=null)}return i}const a$e=t=>{const e=i=>s$e().error(new B("Unsupported-renderer",i,{renderer:t}));if(!t)return!1;switch(t.type){case"unique-value":if(t.field2||t.field3)return e("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(t.normalizationField){const i=t.normalizationType;if(i!=="field")return e(`FeatureReductionCluster does not support a normalizationType of ${i}`),!1}break;case"simple":case"pie-chart":break;default:return e(`FeatureReductionCluster does not support renderers of type ${t.type}`),!1}if(!n$e){if("valueExpression"in t&&t.valueExpression)return e("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in t&&t.visualVariables||[]).some(i=>!(!("valueExpression"in i)||!i.valueExpression)))return e("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function l$e(t,e,i){switch(t){case"sum":return`cluster_sum_${e}`;case"avg":case"avg_angle":return`cluster_avg_${e}`;case"mode":return`cluster_type_${e}`;case"avg_norm":{const r=i,s="field",n=e.toLowerCase()+",norm:"+s+","+r.toLowerCase();return"cluster_avg_"+j6(n)}}}function z0(t,e,i,r){const s=j6(e),n=i==="mode"?`cluster_type_${s}`:i==="sum"?`cluster_sum_${s}`:`cluster_avg_${s}`;return t.some(o=>o.name===n)||t.push(new Br({name:n,isAutoGenerated:!0,onStatisticExpression:new wc({expression:e,returnType:r}),statisticType:i})),n}function Lh(t,e,i,r,s){if(e==="cluster_count"||t.some(o=>o.name===e))return e;const n=l$e(i,e,s);return t.some(o=>o.name===n)||(i==="avg_norm"?t.push(new Br({name:n,isAutoGenerated:!0,onStatisticExpression:new wc({expression:`$feature.${e} / $feature.${s}`,returnType:r}),statisticType:"avg"})):t.push(new Br({name:n,isAutoGenerated:!0,onStatisticField:e,statisticType:i}))),n}const u$e=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.aggregateGraphicOrigin=new _Se(this),this.addHandles(Le(()=>this.renderer,()=>{if(this.featureReduction){const s=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",s)}},Fa))}set featureReduction(r){const s=this._normalizeFeatureReduction(r);this._set("featureReduction",s)}set renderer(r){}_withClusterVariable(r,s,n){const o=r.clone();return"visualVariables"in o&&(o.visualVariables||(o.visualVariables=[]),o.visualVariables.some(l=>l.type==="size")||o.visualVariables.push(new yt({field:"cluster_count",stops:[new Fo({value:1}),new Fo({useMinValue:!0,size:s}),new Fo({useMaxValue:!0,size:n})]}))),o}_normalizeFeatureReduction(r){var w;if((r==null?void 0:r.type)!=="cluster")return r;const s=r.clone(),n=[new Br({name:"cluster_count",alias:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],o=(s.fields??[]).filter(_=>!_.isAutoGenerated),l=r.renderer&&!((w=r.renderer.authoringInfo)!=null&&w.isAutoGenerated),{clusterMinSize:c,clusterMaxSize:d}=s;if(l){s.fields=[...n,...o];const _=this._withClusterVariable(s.renderer,c,d);return s.effectiveFeatureRenderer=_,s.effectiveClusterRenderer=_,s}if(r.symbol){if(s.fields=[...n,...o],s.renderer=null,!this.renderer)return s.effectiveFeatureRenderer=null,s.effectiveClusterRenderer=null,s;const _=K9(n,this.renderer),x=this._withClusterVariable(_,c,d),T="visualVariables"in x&&x.visualVariables?x.visualVariables:[],$=new fs({symbol:r.symbol,visualVariables:T});return s.fields=[...n,...o],s.effectiveFeatureRenderer=x,s.effectiveClusterRenderer=$,s}if(!this.renderer)return r;const m=K9(n,this.renderer);s.fields=[...n,...o],s.renderer=m;const v=this._withClusterVariable(m,c,d);return s.effectiveFeatureRenderer=v,s.effectiveClusterRenderer=v,s}};return h([f({readOnly:!0,clonable:!1})],i.prototype,"aggregateGraphicOrigin",void 0),h([f(K3e)],i.prototype,"featureReduction",null),i=h([I("esri.layers.mixins.FeatureReductionLayer")],i),i},X9={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,ArcGISVideoLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},Q9={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},eV={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},c$e={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GaussianSplatLayer:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,Object3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,Voxel:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap-base-layers":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap-ground-layers":{IntegratedMesh3DTilesLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":X9,"web-map/basemap-base-layers":Q9,"web-map/tables":eV,"link-chart/operational-layers":{...X9,LinkChartLayer:!0},"link-chart/basemap-base-layers":Q9,"link-chart/tables":eV,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0,WCS:!0},"portal-item/tables":{ArcGISFeatureLayer:!0,SubtypeGroupTable:!0}},h$e=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(r,s,n){var o;return((o=n==null?void 0:n.portalItem)==null?void 0:o.type)==="Group Layer"?void 0:r}writeListMode(r,s,n,o){(o&&o.layerContainerType==="ground"||r&&npe(this,n,{},o))&&(s[n]=r)}writeOperationalLayerType(r,s,n){r&&(s[n]=r)}writeTitle(r,s){s.title=r??"Layer"}readVisibilityTimeExtent(r){return r?Ii.fromArray(r):null}writeVisibilityTimeExtent(r,s,n,o){r&&o.layerContainerType!=="tables"&&(r.isEmpty?o!=null&&o.messages&&o.messages.push(new B("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):s[n]=r.toArray())}read(r,s){s&&(s.layer=this),ipe(this,r,n=>super.read(r,n),s)}write(r,s){var l,c;if(!this.persistenceEnabled&&!(s!=null&&s.ignorePersistenceEnabled))return null;if(s!=null&&s.origin){const d=`${s.origin}/${s.layerContainerType||"operational-layers"}`,m=c$e[d];let v=!!(m!=null&&m[this.operationalLayerType]);if(this.operationalLayerType==="ArcGISTiledElevationServiceLayer"&&d==="web-scene/operational-layers"&&(v=!1),this.operationalLayerType==="ArcGISDimensionLayer"&&d==="web-map/operational-layers"&&(v=!1),!v)return(l=s.messages)==null||l.push(new B("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${d}'`,{layer:this})),null}const n=super.write(r,{...s,layer:this}),o=!!s&&!!s.messages&&!!s.messages.filter(d=>d instanceof B&&d.name==="web-document-write:property-required").length;return vg(n==null?void 0:n.url)?((c=s==null?void 0:s.messages)==null||c.push(new B("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&o?null:n}beforeSave(){}};return h([f({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],i.prototype,"id",void 0),h([Ie("id",["id"])],i.prototype,"readId",null),h([f(PSe)],i.prototype,"listMode",void 0),h([_e("listMode")],i.prototype,"writeListMode",null),h([f({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:ji,isRequired:!0}}}}})],i.prototype,"operationalLayerType",void 0),h([_e("operationalLayerType")],i.prototype,"writeOperationalLayerType",null),h([f(gx)],i.prototype,"opacity",void 0),h([f({type:Boolean,readOnly:!1})],i.prototype,"persistenceEnabled",void 0),h([f({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],i.prototype,"title",void 0),h([_e("title"),_e(["web-scene"],"title")],i.prototype,"writeTitle",null),h([f({type:Ii,json:{origins:{"web-scene":{write:{layerContainerTypes:ji}}}}})],i.prototype,"visibilityTimeExtent",void 0),h([Ie("visibilityTimeExtent")],i.prototype,"readVisibilityTimeExtent",null),h([_e(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[ot,nT]]}})],i.prototype,"writeVisibilityTimeExtent",null),h([f({type:Boolean,json:{name:"visibility",write:{layerContainerTypes:ji}}})],i.prototype,"visible",void 0),i=h([I("esri.layers.mixins.OperationalLayer")],i),i};var sk;const F_=new ct({asc:"ascending",desc:"descending"});var my;let _d=(my=class extends ae{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new sk({field:this.field,valueExpression:this.valueExpression,order:this.order})}},sk=my,my);h([f({type:String,json:{write:!0}})],_d.prototype,"field",void 0),h([f({type:String,json:{write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],_d.prototype,"valueExpression",void 0),h([f({type:F_.apiValues,json:{type:F_.jsonValues,read:F_.read,write:F_.write}})],_d.prototype,"order",void 0),_d=sk=h([I("esri.layers.support.OrderByInfo")],_d);function d$e(t,e,i){if(!t)return null;const r=t.find(n=>!!n.field);if(!r)return null;const s=new _d;return s.read(r,i),[s]}function p$e(t,e,i,r){const s=t.find(n=>!!n.field);s&&bs(i,[s.toJSON()],e)}const f$e={type:[_d],json:{origins:{"web-scene":{write:!1,read:!1}},name:"layerDefinition.orderBy",read:{reader:d$e},write:{writer:p$e}}},m$e=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.orderBy=null}};return h([f(f$e)],i.prototype,"orderBy",void 0),i=h([I("esri.layers.mixins.OrderedLayer")],i),i};let xl=class extends $e{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e!=null&&e.portalItem&&e.path?{...e,path:tV(e.path,e.portalItem)}:e}set path(e){e!=null&&Gs(e)?se.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return tV(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",i){const r=this.cdnUrl;if(r==null)throw new B("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(r,{responseType:e,query:{token:this.portalItem.apiKey,_ts:i!=null&&i.cacheBust?Date.now():null},signal:i==null?void 0:i.signal})}async update(e,i){const{addOrUpdateResources:r}=await re(()=>import("./resourceUtils-BaysGedE.js"),[]);return await r(this.portalItem,[{resource:this,content:e,compress:i==null?void 0:i.compress,access:i==null?void 0:i.access}],"update",i),this}hasPath(){return this.path!=null}};function tV(t,e){return t==null?t:(t=t.replace(/^\/+/,""),e!=null&&Gs(t)&&(t=IR(t,e.itemUrl)),t==null?void 0:t.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}h([f()],xl.prototype,"portalItem",void 0),h([f({type:String,value:null})],xl.prototype,"path",null),h([Ot("path")],xl.prototype,"_castPath",null),h([f({type:String,readOnly:!0})],xl.prototype,"url",null),h([f({type:String,readOnly:!0})],xl.prototype,"cdnUrl",null),h([f({type:String,readOnly:!0})],xl.prototype,"itemRelativeUrl",null),xl=h([I("esri.portal.PortalItemResource")],xl);let Cd=class extends $e{constructor(e){super(e),this.created=null,this.rating=null}};h([f({type:Date})],Cd.prototype,"created",void 0),h([f()],Cd.prototype,"rating",void 0),Cd=h([I("esri.portal.PortalRating")],Cd);var cd;const y$e=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Knowledge Graph Layer","Map Service","Media Layer","Scene Service","Stream Service","Video Service","Vector Tile Service","WCS","WFS","WMS","WMTS"]),g$e=new Set(["KML","GeoJson","CSV"]);let qe=cd=class extends th(bg){static from(t){return Tw(cd,t)}constructor(t){super(t),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.classification=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const t=this.type,e=this.typeKeywords||[];let i=t;return t==="Feature Service"||t==="Feature Collection"?i=e.includes("Table")?"Table":e.includes("Route Layer")?"Route Layer":e.includes("Markup")?"Markup":"Feature Layer":t==="Image Service"?i=e.includes("Elevation 3D Layer")?"Elevation Layer":e.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":t==="Scene Service"?i="Scene Layer":t==="Video Service"?i="Video Layer":t==="Scene Package"?i="Scene Layer Package":t==="Stream Service"?i="Feature Layer":t==="Geoprocessing Service"?i=e.includes("Web Tool")?"Tool":"Geoprocessing Service":t==="Geoenrichment Service"?i="GeoEnrichment Service":t==="Geocoding Service"?i="Locator":t==="Microsoft Powerpoint"?i="Microsoft PowerPoint":t==="GeoJson"?i="GeoJSON":t==="Globe Service"?i="Globe Layer":t==="Vector Tile Service"?i="Tile Layer":t==="netCDF"?i="NetCDF":t==="Map Service"?i=e.includes("Spatiotemporal")||!e.includes("Hosted Service")&&!e.includes("Tiled")||e.includes("Relational")?"Map Image Layer":"Tile Layer":t!=null&&t.toLowerCase().includes("add in")?i=t.replaceAll(/(add in)/gi,"Add-In"):t==="datastore catalog service"?i="Big Data File Share":t==="Compact Tile Package"?i="Tile Package (tpkx)":t==="Raster function template"?i="Raster Function Template":t==="OGCFeatureServer"?i="OGC Feature Layer":t==="web mapping application"&&e.includes("configurableApp")?i="Instant App":t==="Insights Page"?i="Insights Report":t==="Excalibur Imagery Project"?i="Excalibur Project":t==="3DTiles Service"?i="3D tiles layer":t==="3DTiles Package"&&(i="3D tiles package"),i}readExtent(t){return t&&t.length?new Ye(t[0][0],t[0][1],t[1][0],t[1][1]):null}get iconUrl(){var _;const t=((_=this.type)==null?void 0:_.toLowerCase())||"",e=this.typeKeywords||[],i="esri/images/portal/",r="16";let s,n=!1,o=!1,l=!1,c=!1,d=!1,m=!1,v=!1,w=!1;return t.indexOf("service")>0||t==="feature collection"||t==="kml"||t==="wms"||t==="wmts"||t==="wfs"?(n=e.includes("Hosted Service"),t==="feature service"||t==="feature collection"||t==="kml"||t==="wfs"?(o=e.includes("Table"),l=e.includes("Route Layer"),c=e.includes("Markup"),d=e.includes("Spatiotemporal"),m=e.includes("UtilityNetwork"),s=d&&o?"spatiotemporaltable":o?"table":l?"routelayer":c?"markup":d?"spatiotemporal":m?"utilitynetwork":n?"featureshosted":"features"):t==="map service"||t==="wms"||t==="wmts"?(d=e.includes("Spatiotemporal"),v=e.includes("Relational"),s=d||v?"mapimages":n||e.includes("Tiled")||t==="wmts"?"maptiles":"mapimages"):s=t==="scene service"?e.includes("Line")?"sceneweblayerline":e.includes("3DObject")?"sceneweblayermultipatch":e.includes("Point")?"sceneweblayerpoint":e.includes("IntegratedMesh")?"sceneweblayermesh":e.includes("PointCloud")?"sceneweblayerpointcloud":e.includes("Polygon")?"sceneweblayerpolygon":e.includes("Building")?"sceneweblayerbuilding":e.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":t==="image service"?e.includes("Elevation 3D Layer")?"elevationlayer":e.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":t==="stream service"?"streamlayer":t==="vector tile service"?"vectortile":t==="datastore catalog service"?"datastorecollection":t==="geocoding service"?"geocodeservice":t==="video service"?e.includes("Live Stream")?"livestreamvideolayer":"videolayer":t==="geoprocessing service"?e.includes("Web Tool")?"tool":"layers":t==="geodata service"?"geodataservice":t==="3dtiles service"?e.includes("3DObject")?"3dobjecttileslayer":e.includes("IntegratedMesh")?"integratedmeshtileslayer":e.includes("GaussianSplat")?"gaussiansplatlayer":"3dtileslayer":"layers"):t==="web map"||t==="cityengine web scene"?s="maps":t==="web scene"?s=e.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":t==="web mapping application"&&e.includes("configurableApp")?s="instantapps":t==="web mapping application"||t==="mobile application"||t==="application"||t==="operation view"||t==="desktop application"?s="apps":t==="map document"||t==="map package"||t==="published map"||t==="scene document"||t==="globe document"||t==="basemap package"||t==="mobile basemap package"||t==="mobile map package"||t==="project package"||t==="project template"||t==="pro map"||t==="layout"||t==="layer"&&e.includes("ArcGIS Pro")||t==="explorer map"&&e.indexOf("Explorer Document")?s="mapsgray":t==="service definition"||t==="shapefile"||t==="cad drawing"||t==="geojson"||t==="netcdf"||t==="administrative report"?s="datafiles":t==="360 vr experience"?s="360vr":t==="explorer add in"||t==="desktop add in"||t==="windows viewer add in"||t==="windows viewer configuration"?s="appsgray":t==="arcgis pro add in"||t==="arcgis pro configuration"?s="addindesktop":t==="pdf"?s="pdf":t==="microsoft word"?s="word":t==="microsoft excel"?s="excel":t==="microsoft powerpoint"?s="ppt":t==="rule package"||t==="file geodatabase"||t==="sqlite geodatabase"||t==="csv collection"||t==="kml collection"||t==="windows mobile package"||t==="map template"||t==="desktop application template"||t==="gml"||t==="arcpad package"||t==="code sample"||t==="document link"||t==="earth configuration"||t==="operations dashboard add in"||t==="rules package"||t==="workflow manager package"||t==="explorer map"&&e.includes("Explorer Mapping Application")||e.includes("Document")?s="datafilesgray":t==="network analysis service"||t==="geoprocessing service"||t==="geodata service"||t==="geometry service"||t==="geoprocessing package"||t==="locator package"||t==="geoprocessing sample"||t==="workflow manager service"?s="toolsgray":t==="layer"||t==="layer package"||t==="explorer layer"?s="layersgray":t==="analysis model"?s="analysismodel":t==="scene package"?s="scenepackage":t==="3dtiles package"?s="3dtileslayerpackage":t==="3dtiles service"?s="3dtileslayer":t==="mobile scene package"?s="mobilescenepackage":t==="tile package"||t==="compact tile package"?s="tilepackage":t==="task file"?s="taskfile":t==="report template"?s="report-template":t==="statistical data collection"?s="statisticaldatacollection":t==="insights workbook"?s="workbook":t==="insights model"?s="insightsmodel":t==="insights page"?s="insightspage":t==="insights theme"?s="insightstheme":t==="hub initiative"?s="hubinitiative":t==="hub page"?s="hubpage":t==="hub site application"?s="hubsite":t==="hub event"?s="hubevent":t==="hub project"?s="hubproject":t==="relational database connection"?s="relationaldatabaseconnection":t==="big data file share"?s="datastorecollection":t==="image collection"?s="imagecollection":t==="desktop style"?s="desktopstyle":t==="style"?s=e.includes("Dictionary")?"dictionarystyle":"style":t==="dashboard"?s="dashboard":t==="raster function template"?s="rasterprocessingtemplate":t==="vector tile package"?s="vectortilepackage":t==="ortho mapping project"?s="orthomappingproject":t==="ortho mapping template"?s="orthomappingtemplate":t==="solution"?s="solutions":t==="geopackage"?s="geopackage":t==="deep learning package"?s="deeplearningpackage":t==="real time analytic"?s="realtimeanalytics":t==="reality mapping project"?s="realitymappingproject":t==="big data analytic"?s="bigdataanalytics":t==="feed"?s="feed":t==="excalibur imagery project"?s="excaliburimageryproject":t==="notebook"?s="notebook":t==="storymap"?s="storymap":t==="survey123 add in"?s="survey123addin":t==="mission"?s="mission":t==="mission report"?s="missionreport":t==="mission template"?s="missiontemplate":t==="quickcapture project"?s="quickcaptureproject":t==="pro report"?s="proreport":t==="pro report template"?s="proreporttemplate":t==="urban model"?s="urbanmodel":t==="urban project"?s="urbanproject":t==="web experience"?s="experiencebuilder":t==="web experience template"?s="webexperiencetemplate":t==="experience builder widget"?s="experiencebuilderwidget":t==="experience builder widget package"?s="experiencebuilderwidgetpackage":t==="workflow"?s="workflow":t==="kernel gateway connection"?s="kernelgatewayconnection":t==="insights script"?s="insightsscript":t==="hub initiative template"?s="hubinitiativetemplate":t==="storymap theme"?s="storymaptheme":t==="knowledge graph"?s="knowledgegraph":t==="knowledge graph layer"?s="knowledgegraphlayer":t==="knowledge studio project"?s="knowledgestudio":t==="native application"?s="nativeapp":t==="native application installer"?s="nativeappinstaller":t==="web link chart"?s="linkchart":t==="knowledge graph web investigation"?s="investigation":t==="ogcfeatureserver"?s="features":t==="pro presentation"?s="propresentation":t==="pro project"?s="proproject":t==="insights workbook package"?s="insightsworkbookpackage":t==="apache parquet"?s="apacheparquet":t==="notebook code snippet library"?s="notebookcodesnippets":t==="suitability model"?s="suitabilitymodel":t==="esri classifier definition"?s="classifierdefinition":t==="esri classification schema"?s="classificationschema":t==="insights data engineering workbook"?s="dataengineeringworkbook":t==="insights data engineering model"?s="dataengineeringmodel":t==="deep learning studio project"?s="deeplearningproject":t==="discussion"?s="discussion":t==="allsource project"?s="allsourceproject":t==="api key"?s="apikey":t==="data pipeline"?s="datapipelines":t==="group layer"?(w=e.includes("Map"),s=w?"layergroup2d":"layergroup"):s=t==="media layer"?"onlinemedialayer":t==="form"?e.includes("Survey123")?"survey":"datafilesgray":t==="csv"?"csv":t==="image"?"image":t==="xr experience"?"xrexperience":"maps",s?bi(i+s+r+".png"):null}get isLayer(){return this.type!=null&&y$e.has(this.type)}get itemCdnUrl(){return LR(this.itemUrl)}get itemPageUrl(){var e;const t=(e=this.portal)==null?void 0:e.itemPageUrl;return t&&this.id?`${t}?id=${this.id}`:null}get itemUrl(){var e;const t=(e=this.portal)==null?void 0:e.restUrl;return t&&this.id?`${t}/content/items/${this.id}`:null}get loaded(){return super.loaded}get thumbnailUrl(){var i;const t=this.itemUrl,e=this.thumbnail;return t&&e?((i=this.portal)==null?void 0:i.normalizeUrl(`${t}/info/${e}?f=json`))??null:null}get userItemUrl(){var i,r,s;const t=(i=this.portal)==null?void 0:i.restUrl;if(!t)return null;const e=this.owner||((s=(r=this.portal)==null?void 0:r.user)==null?void 0:s.id);return e?`${t}/content/users/${this.ownerFolder?`${e}/${this.ownerFolder}`:e}/items/${this.id}`:null}load(t){const e=this.portal??(this.portal=le.getDefault()),i=e.load(t).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?e.request(this.itemUrl,{signal:t!=null?t.signal:null,query:{token:this.apiKey}}):{}).then(r=>{this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(i),Promise.resolve(this)}async addRating(t){const e={method:"post",query:{}},i=t instanceof Cd?t.rating:t;return i==null||isNaN(i)||typeof t!="number"||(e.query.rating=i),this.portal?(await this.portal.request(this.itemUrl+"/addRating",e),new Cd({rating:i,created:new Date})):null}clone(){const t={access:this.access,accessInformation:this.accessInformation,applicationProxies:G(this.applicationProxies),avgRating:this.avgRating,categories:G(this.categories),classification:G(this.classification),created:G(this.created),culture:this.culture,description:this.description,extent:G(this.extent),groupCategories:G(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:G(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:G(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:G(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:G(this.typeKeywords),url:this.url};this.loaded&&(t.loadStatus="loaded");const e=new cd({sourceJSON:this.sourceJSON}).set(t);return e._set("isOrgItem",this.isOrgItem),e}createPostQuery(){var e;const t=this.toJSON();for(const i of["tags","typeKeywords","categories"])t[i]=(e=t[i])==null?void 0:e.join(", ");for(const i of["extent","classification"]){const r=t[i];r&&(t[i]=JSON.stringify(r))}return t}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(t="json",e){return this.portal.request(this.itemUrl+"/data",{responseType:t,...e,query:{token:this.apiKey}})}async fetchRating(t){const e=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...t});return e.rating!=null?(e.created=new Date(e.created),new Cd(e)):null}fetchRelatedItems(t,e){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...t,token:this.apiKey},...e},cd)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(t=>(this.applicationProxies&&!Object.hasOwn(t,"appProxies")&&(this.applicationProxies=null),this.sourceJSON=t,this.read(t),this))}update(t){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const e=t==null?void 0:t.data,i={method:"post"};i.query=this.createPostQuery();for(const r in i.query)i.query[r]===null&&(i.query[r]="");return i.query.clearEmptyFields=!0,e!=null&&(typeof e=="string"?i.query.text=e:typeof e=="object"&&(i.query.text=JSON.stringify(e))),this.portal.request(`${this.userItemUrl}/update`,i).then(()=>this.reload())}):Promise.reject(new B("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(t){if(!this.id)throw new B("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:e,itemUrl:i}=this;await e.signIn();const{copyResources:r,folder:s,tags:n,title:o}=t||{},l={method:"post",query:{copyPrivateResources:r==="all",folder:typeof s=="string"?s:s==null?void 0:s.id,includeResources:!!r,tags:n==null?void 0:n.join(","),title:o}},{itemId:c}=await e.request(`${i}/copy`,l);return new cd({id:c,portal:e})}updateThumbnail(t){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const e=t.thumbnail,i=t.filename,r={method:"post"};if(typeof e=="string")$p(e)?r.query={data:e}:r.query={url:eo(e)},i!=null&&(r.query.filename=i);else{const s=new FormData;i!=null?s.append("file",e,i):s.append("file",e),r.body=s}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,r).then(()=>this.reload())}):Promise.reject(new B("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(t={},e){const{fetchResources:i}=await re(()=>import("./resourceUtils-BaysGedE.js"),[]);return i(this,t,e)}async addResource(t,e,i){const{addOrUpdateResources:r}=await re(()=>import("./resourceUtils-BaysGedE.js"),[]);return t.portalItem=this,await r(this,[{resource:t,content:e,compress:i==null?void 0:i.compress,access:i==null?void 0:i.access}],"add",i),t}async removeResource(t,e){const{removeResource:i}=await re(()=>import("./resourceUtils-BaysGedE.js"),[]);if(t.portalItem&&t.portalItem.itemUrl!==this.itemUrl)throw new B("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return i(this,t,e)}async removeAllResources(t){const{removeAllResources:e}=await re(()=>import("./resourceUtils-BaysGedE.js"),[]);return e(this,t)}resourceFromPath(t){return new xl({portalItem:this,path:t})}toJSON(){var i,r;const t=this.extent,e={accessInformation:this.accessInformation,categories:G(this.categories),classification:G(this.classification),created:(i=this.created)==null?void 0:i.getTime(),description:this.description,extent:t&&[[t.xmin,t.ymin],[t.xmax,t.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:(r=this.modified)==null?void 0:r.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:G(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:G(this.typeKeywords),url:this.url};return Gce(e)}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");return new cd({sourceJSON:t})}_getPostQuery(){const t=this.toJSON();for(const e in t)e==="tags"&&t[e]!==null&&(t[e]=t[e].join(", ")),e==="typeKeywords"&&t[e]!==null&&(t[e]=t[e].join(", ")),e==="extent"&&t[e]&&(t[e]=JSON.stringify(t[e]));return t}};h([f({type:["private","shared","org","public"]})],qe.prototype,"access",void 0),h([f()],qe.prototype,"accessInformation",void 0),h([f({type:String})],qe.prototype,"apiKey",void 0),h([f({json:{read:{source:"appProxies"}}})],qe.prototype,"applicationProxies",void 0),h([f()],qe.prototype,"avgRating",void 0),h([f()],qe.prototype,"categories",void 0),h([f()],qe.prototype,"classification",void 0),h([f({type:Date})],qe.prototype,"created",void 0),h([f()],qe.prototype,"culture",void 0),h([f()],qe.prototype,"description",void 0),h([f({readOnly:!0})],qe.prototype,"displayName",null),h([f({type:Ye})],qe.prototype,"extent",void 0),h([Ie("extent")],qe.prototype,"readExtent",null),h([f()],qe.prototype,"groupCategories",void 0),h([f({readOnly:!0})],qe.prototype,"iconUrl",null),h([f()],qe.prototype,"id",void 0),h([f({readOnly:!0})],qe.prototype,"isLayer",null),h([f({type:Boolean,readOnly:!0})],qe.prototype,"isOrgItem",void 0),h([f()],qe.prototype,"itemControl",void 0),h([f({readOnly:!0})],qe.prototype,"itemPageUrl",null),h([f({readOnly:!0})],qe.prototype,"itemUrl",null),h([f()],qe.prototype,"licenseInfo",void 0),h([f({type:Date})],qe.prototype,"modified",void 0),h([f()],qe.prototype,"name",void 0),h([f()],qe.prototype,"numComments",void 0),h([f()],qe.prototype,"numRatings",void 0),h([f()],qe.prototype,"numViews",void 0),h([f()],qe.prototype,"owner",void 0),h([f()],qe.prototype,"ownerFolder",void 0),h([f({type:le})],qe.prototype,"portal",void 0),h([f()],qe.prototype,"screenshots",void 0),h([f()],qe.prototype,"size",void 0),h([f()],qe.prototype,"snippet",void 0),h([f()],qe.prototype,"sourceJSON",void 0),h([f({type:String})],qe.prototype,"sourceUrl",void 0),h([f({type:String})],qe.prototype,"spatialReference",void 0),h([f()],qe.prototype,"tags",void 0),h([f()],qe.prototype,"thumbnail",void 0),h([f({readOnly:!0})],qe.prototype,"thumbnailUrl",null),h([f()],qe.prototype,"title",void 0),h([f()],qe.prototype,"type",void 0),h([f()],qe.prototype,"typeKeywords",void 0),h([f({type:String,json:{read(t,e){var i;if(g$e.has(e.type)){const r=(i=this.portal)==null?void 0:i.restUrl;t||(t=r&&this.id?`${r}/content/items/${this.id}/data`:null)}return t}}})],qe.prototype,"url",void 0),h([f({readOnly:!0})],qe.prototype,"userItemUrl",null),qe=cd=h([I("esri.portal.PortalItem")],qe);const WK=Object.freeze(Object.defineProperty({__proto__:null,get default(){return qe}},Symbol.toStringTag,{value:"Module"}));var nk;let Jf=nk=class extends $e{constructor(t){super(t),this.isInverse=!1,this.wkt=null,this.wkid=null}getInverse(){return new nk({isInverse:!this.isInverse,wkid:this.wkid,wkt:this.wkt})}};h([f()],Jf.prototype,"isInverse",void 0),h([f()],Jf.prototype,"wkt",void 0),h([f()],Jf.prototype,"wkid",void 0),Jf=nk=h([I("esri.geometry.operators.support.GeographicTransformationStep")],Jf);var ok;let h1=ok=class extends $e{constructor(t){super(t),this.steps=[]}getInverse(){const t=new ok;for(let e=this.steps.length-1;e>=0;e--){const i=this.steps[e];t.steps.push(i.getInverse())}return t}};h([f({type:[Jf],nonNullable:!0})],h1.prototype,"steps",void 0),h1=ok=h([I("esri.geometry.operators.support.GeographicTransformation")],h1);const QVe=Math.PI/180,eFe=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,Wu=hi.radius,$o=hi.eccentricitySquared,v$e={a1:Wu*$o,a2:Wu*$o*Wu*$o,a3:Wu*$o*$o/2,a4:Wu*$o*Wu*$o*2.5,a5:Wu*$o+Wu*$o*$o/2,a6:1-$o},tFe={4267:{a:63782064e-1,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:hi.radius,f:hi.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:Wc.radius,f:Wc.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:ja.radius,f:ja.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:ja.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}},w$e={2:{5:Jt,7:null,9:null,10:Jt,1:p1,6:null,8:null,0:null,3:Fm,11:zm,2:Jt,4:Bm},5:{5:Jt,7:null,9:null,10:Jt,1:p1,6:null,8:null,0:null,3:Fm,11:zm,2:Jt,4:Bm},7:{5:null,7:Jt,9:null,10:Jt,1:null,6:sV,8:null,0:null,3:null,11:null,2:null,4:null},9:{5:null,7:null,9:Jt,10:Jt,1:null,6:null,8:rV,0:null,3:null,11:null,2:null,4:null},3:{5:d1,7:null,9:null,10:d1,1:_$e,6:null,8:null,0:null,3:Jt,11:T$e,2:d1,4:S$e},4:{5:Gm,7:null,9:null,10:Gm,1:I$e,6:null,8:null,0:null,3:P$e,11:$$e,2:Gm,4:Jt},1:{5:qm,7:null,9:null,10:qm,1:Jt,6:null,8:null,0:null,3:k$e,11:M$e,2:qm,4:C$e},6:{5:null,7:oV,9:null,10:oV,1:null,6:Jt,8:null,0:null,3:null,11:null,2:null,4:null},8:{5:null,7:null,9:nV,10:nV,1:null,6:null,8:Jt,0:null,3:null,11:null,2:null,4:null},0:{5:null,7:null,9:null,10:null,1:null,6:null,8:null,0:Jt,3:null,11:null,2:null,4:null},10:{5:Jt,7:Jt,9:Jt,10:Jt,1:p1,6:sV,8:rV,0:null,3:Fm,11:zm,2:Jt,4:Bm},11:{5:Um,7:null,9:null,10:Um,1:E$e,6:null,8:null,0:null,3:A$e,11:Jt,2:Um,4:O$e}};function ZK(t,e){var i;return(i=b$e(t,e))==null?void 0:i.projector}function b$e(t,e){if(t==null||e==null)return null;if(hl.source.spatialReference===t&&hl.dest.spatialReference===e)return hl;const i=iV(t,hl.source),r=iV(e,hl.dest);return i===0&&r===0?vr(t,e)?hl.projector=Jt:hl.projector=null:hl.projector=w$e[i][r],hl}function iV(t,e){return t?e.spatialReference===t?e.spatialReferenceId:(e.spatialReference=t,"metersPerUnit"in e&&(e.metersPerUnit=co(t,1)),hx(t)?e.spatialReferenceId=1:cp(t)?e.spatialReferenceId=2:Va(t)?e.spatialReferenceId=3:x0e(t)?e.spatialReferenceId=11:t.wkt===E0e.wkt?e.spatialReferenceId=4:t.wkid===4490?e.spatialReferenceId=5:t.wkt===qR.wkt?e.spatialReferenceId=6:t.wkt===BR.wkt?e.spatialReferenceId=8:mZ(t)?e.spatialReferenceId=7:yZ(t)?e.spatialReferenceId=9:e.spatialReferenceId=0):0}function Jt(t,e,i,r){t!==i&&(i[r++]=t[e++],i[r++]=t[e++],i[r]=t[e])}function d1(t,e,i,r){i[r]=Hy*(t[e]/Hd),i[r+1]=Hy*(YK-2*Math.atan(Math.exp(-t[e+1]/Hd))),i[r+2]=t[e+2]}function _$e(t,e,i,r){const s=t[e]/Hd,n=YK-2*Math.atan(Math.exp(-t[e+1]/Hd)),o=Hd+t[e+2],l=Math.cos(n)*o;i[r]=Math.cos(s)*l,i[r+1]=Math.sin(s)*l,i[r+2]=Math.sin(n)*o}function S$e(t,e,i,r){d1(t,e,i,r),Bm(i,r,i,r)}function x$e(t,e,i,r,s){const n=.4999999*Math.PI,o=_n(Gy*t[e+1],-n,n),l=Math.sin(o);i[r++]=Gy*t[e]*s.radius,i[r++]=s.halfSemiMajorAxis*Math.log((1+l)/(1-l)),i[r]=t[e+2]}function Fm(t,e,i,r){x$e(t,e,i,r,hi)}function zm(t,e,i,r){i[r]=t[e]*aV,i[r+1]=t[e+1]*aV,i[r+2]=t[e+2]}function Um(t,e,i,r){i[r]=t[e]*lV,i[r+1]=t[e+1]*lV,i[r+2]=t[e+2]}function T$e(t,e,i,r){d1(t,e,i,r),zm(i,r,i,r)}function $$e(t,e,i,r){Gm(t,e,i,r),zm(i,r,i,r)}function M$e(t,e,i,r){qm(t,e,i,r),zm(i,r,i,r)}function E$e(t,e,i,r){Um(t,e,i,r),p1(i,r,i,r)}function A$e(t,e,i,r){Um(t,e,i,r),Fm(i,r,i,r)}function O$e(t,e,i,r){Um(t,e,i,r),Bm(i,r,i,r)}function N6(t,e,i,r,s){const n=s+t[e+2],o=Gy*t[e+1],l=Gy*t[e],c=Math.cos(o)*n;i[r]=Math.cos(l)*c,i[r+1]=Math.sin(l)*c,i[r+2]=Math.sin(o)*n}function rV(t,e,i,r){N6(t,e,i,r,Wc.radius)}function sV(t,e,i,r){N6(t,e,i,r,ja.radius)}function p1(t,e,i,r){N6(t,e,i,r,hi.radius)}function D6(t,e,i,r,s){const n=t[e],o=t[e+1],l=t[e+2],c=Math.sqrt(n*n+o*o+l*l),d=Uye(l/(c===0?1:c)),m=Math.atan2(o,n);i[r++]=Hy*m,i[r++]=Hy*d,i[r]=c-s}function nV(t,e,i,r){D6(t,e,i,r,Wc.radius)}function oV(t,e,i,r){D6(t,e,i,r,ja.radius)}function qm(t,e,i,r){D6(t,e,i,r,hi.radius)}function k$e(t,e,i,r){qm(t,e,i,r),Fm(i,r,i,r)}function C$e(t,e,i,r){qm(t,e,i,r),Bm(i,r,i,r)}function R$e(t,e,i,r,s){const n=Gy*t[e],o=Gy*t[e+1],l=t[e+2],c=Math.sin(o),d=Math.cos(o),m=s.radius/Math.sqrt(1-s.eccentricitySquared*c*c);i[r++]=(m+l)*d*Math.cos(n),i[r++]=(m+l)*d*Math.sin(n),i[r++]=(m*(1-s.eccentricitySquared)+l)*c}function Bm(t,e,i,r){R$e(t,e,i,r,hi)}function Gm(t,e,i,r){const s=v$e,n=t[e],o=t[e+1],l=t[e+2];let c,d,m,v,w,_,x,T,$,O,C,R,N,j,z,ee,Q,J,te,pe,ye;c=Math.abs(l),d=n*n+o*o,m=Math.sqrt(d),v=d+l*l,w=Math.sqrt(v),pe=Math.atan2(o,n),_=l*l/v,x=d/v,j=s.a2/w,z=s.a3-s.a4/w,x>.3?(T=c/w*(1+x*(s.a1+j+_*z)/w),te=Math.asin(T),O=T*T,$=Math.sqrt(1-O)):($=m/w*(1-_*(s.a5-j-x*z)/w),te=Math.acos($),O=1-$*$,T=Math.sqrt(O)),C=1-hi.eccentricitySquared*O,R=hi.radius/Math.sqrt(C),N=s.a6*R,j=m-R*$,z=c-N*T,Q=$*j+T*z,ee=$*z-T*j,J=ee/(N/C+Q),te+=J,ye=Q+ee*J/2,l<0&&(te=-te),i[r++]=Hy*pe,i[r++]=Hy*te,i[r]=ye}function I$e(t,e,i,r){Gm(t,e,i,r),p1(i,r,i,r)}function P$e(t,e,i,r){Gm(t,e,i,r),Fm(i,r,i,r)}const hl={source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:Jt},Gy=kw(1),Hy=mW(1),YK=.5*Math.PI,Hd=hi.radius,aV=Hd*Math.PI/180,lV=180/(Hd*Math.PI);function Bw(t,e,i,r,s,n,o=Math.floor(t.length/3)){const l=ZK(e,s);if(l==null)return!1;if(l===Jt){if(t===r&&i===n)return!0;const d=i+3*o;for(let m=i,v=n;m<d;m++,v++)r[v]=t[m];return!0}const c=i+3*o;for(let d=i,m=n;d<c;d+=3,m+=3)l(t,d,r,m);return!0}const iFe=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:Bw},Symbol.toStringTag,{value:"Module"}));function uV(t,e,i,r,s,n){return z_[0]=t,z_[1]=e,z_[2]=i,Bw(z_,r,0,s,n,0)}const z_=rh();function j$e(t,e,i){if(e==null||i==null||i.vcsWkid||vr(e,i)||Yc(e)||Yc(i))return null;const r=r7(e)/r7(i);if(r===1)return null;switch(t){case"point":case"esriGeometryPoint":return s=>N$e(s,r);case"polyline":case"esriGeometryPolyline":return s=>L$e(s,r);case"polygon":case"esriGeometryPolygon":return s=>D$e(s,r);case"multipoint":case"esriGeometryMultipoint":return s=>V$e(s,r);case"extent":case"esriGeometryEnvelope":return s=>F$e(s,r);default:return null}}function N$e(t,e){(t==null?void 0:t.z)!=null&&(t.z*=e)}function D$e(t,e){if(t)for(const i of t.rings)for(const r of i)r.length>2&&(r[2]*=e)}function L$e(t,e){if(t)for(const i of t.paths)for(const r of i)r.length>2&&(r[2]*=e)}function V$e(t,e){if(t)for(const i of t.points)i.length>2&&(i[2]*=e)}function F$e(t,e){t&&t.zmin!=null&&t.zmax!=null&&(t.zmin*=e,t.zmax*=e)}let f1=null,Wd=null,Zd=null,Pc=null,ak={};const L6=new $w;function pu(){return!!(Wd!=null&&Wd.isLoaded()&&(Zd!=null&&Zd.isLoaded())&&(Pc!=null&&Pc.isLoaded()))}function JK(){return!!pu()||(je(L6),Kc(),!1)}function KK(t,e){return!t||!e||ea(t,e)||JK()}function z$e(t,e){return!ea(t,e)&&!pu()}async function Kc(t){f1==null&&(f1=Promise.all([re(()=>import("./projectOperator-CZY_vixb.js"),__vite__mapDeps([184,185,107])).then(e=>(Wd=e,Wd.load())),re(()=>import("./projectOperator-BRtRWmOh.js"),__vite__mapDeps([186,185,107])).then(e=>(Zd=e,Zd.load())),re(()=>import("./geographicTransformationUtils-Dnb4bCnN.js"),[]).then(e=>(Pc=e,Pc.load()))])),await f1,Gt(t),L6.notify()}function ah(t,e,i){return Array.isArray(t)?t.length===0?[]:(X0e(t),lk(t,t[0].spatialReference,e,i)):(Fy(t),lk([t],t.spatialReference,e,i)[0])}function lk(t,e,i,r){if(e==null||i==null)return t;if(ea(e,i,r))return t.map(s=>cS(s,e,i));if((r==null?void 0:r.geographicTransformation)==null&&hx(e))return t.map(s=>cS(s,e,Se.WGS84)).map(s=>sw(s,i));if((r==null?void 0:r.geographicTransformation)==null&&hx(i))return t.map(s=>sw(s,Se.WGS84)).map(s=>cS(s,Se.WGS84,i));if(!pu())throw new QK;if(!(r!=null&&r.geographicTransformation)){if(r!=null&&r.extendedParams)r={...r,geographicTransformation:Pc.getTransformation(e,i,r.areaOfInterestExtent)||new h1};else if(!(r!=null&&r.areaOfInterestExtent)){const s=U$e(e,i);let n=ak[s];n||(n=Pc.getTransformation(e,i)||new h1,ak[s]=n),r={geographicTransformation:n}}}return t[0].spatialReference||(t[0].spatialReference=e),t[0]instanceof tr?Wd.executeMany(t,i,r):Zd.executeMany(t,i,r)}function U$e(t,e){var i,r,s,n,o,l;return[((i=t.wkid)==null?void 0:i.toString())??"-1",((r=t.wkt)==null?void 0:r.toString())??"",((s=t.wkt2)==null?void 0:s.toString())??"",((n=e.wkid)==null?void 0:n.toString())??"-1",((o=e.wkt)==null?void 0:o.toString())??"",((l=e.wkt2)==null?void 0:l.toString())??""].join()}function q$e(t,e){const i=XK([t],e);return i.pending!=null?{pending:i.pending,geometry:null}:i.geometries!=null?{pending:null,geometry:i.geometries[0]}:{pending:null,geometry:null}}function XK(t,e){if(!pu()){for(const i of t)if(i!=null&&!vr(i.spatialReference,e)&&fn(i.spatialReference)&&fn(e)&&!ea(i.spatialReference,e))return je(L6),{pending:Kc(),geometries:null}}return{pending:null,geometries:t.map(i=>i==null?null:vr(i.spatialReference,e)?i:fn(i.spatialReference)&&fn(e)?sw(i,e):null)}}let QK=class extends B{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}};function B$e(){f1=null,Wd=null,Zd=null,Pc=null,ak={}}const G$e={get loadPromise(){return f1}};function sw(t,e){try{const i=ah(t,e);if(i==null)return null;"xmin"in t&&"xmin"in i&&(i.zmin=t.zmin,i.zmax=t.zmax);const r=j$e(i.type,t.spatialReference,e);return r!=null&&r(i),i}catch(i){if(!(i instanceof QK))throw i;return null}}async function eX(t,e,i){const r=t.spatialReference;return r!=null&&e!=null&&await V6(r,e,null,i),sw(t,e)}function ea(t,e,i){return!(i!=null&&i.areaOfInterestExtent||i!=null&&i.extendedParams||i!=null&&i.geographicTransformation)&&(!!vr(t,e)||fn(t)&&fn(e)&&!!ZK(t,e))}function H$e(t,e){if(vr(t,e))return!0;if(!fn(t)||!fn(e))return!1;const i=cp(t)||Va(t)||t7(t),r=cp(e)||Va(e)||t7(e);return i&&r}async function V6(t,e,i,r){if(pu())return O8(r);if(Array.isArray(t)){for(const{source:s,dest:n,options:o}of t)if(s&&n&&!ea(s,n,o))return Kc(r)}else if(t&&e&&!ea(t,e,i))return Kc(r);return O8(r)}function cS(t,e,i){return t?"x"in t?tX(t,e,new Re,i,0):"xmin"in t?oX(t,e,new Ye,i,0):"rings"in t?nX(t,e,new Qt,i,0):"paths"in t?rX(t,e,new Hi,i,0):"points"in t?iX(t,e,new Do,i,0):null:null}function W$e(t,e,i=e.spatialReference,r=0){return i!=null&&t.spatialReference!=null&&tX(t,t.spatialReference,e,i,r)!=null}function tX(t,e,i,r,s){Gr[0]=t.x,Gr[1]=t.y;const n=t.z;return Gr[2]=n!==void 0?n:s,Bw(Gr,e,0,Gr,r,0)?(i.x=Gr[0],i.y=Gr[1],i.spatialReference=r,n!==void 0||Yc(r)?(i.z=Gr[2],i.hasZ=!0):(i.z=void 0,i.hasZ=!1),t.m===void 0?(i.m=void 0,i.hasM=!1):(i.m=t.m,i.hasM=!0),i):null}function Z$e(t,e,i=e.spatialReference,r=0){return t.spatialReference!=null&&i!=null&&iX(t,t.spatialReference,e,i,r)!=null}function iX(t,e,i,r,s){const{points:n,hasZ:o,hasM:l}=t,c=[],d=n.length,m=[];for(const w of n)m.push(w[0],w[1],o?w[2]:s);if(!Bw(m,e,0,m,r,0,d))return null;const v=o||Yc(r);for(let w=0;w<d;++w){const _=3*w,x=m[_],T=m[_+1];v&&l?c.push([x,T,m[_+2],n[w][3]]):v?c.push([x,T,m[_+2]]):l?c.push([x,T,n[w][2]]):c.push([x,T])}return i.points=c,i.spatialReference=r,i.hasZ=o,i.hasM=l,i}function Y$e(t,e,i=e.spatialReference,r=0){return t.spatialReference!=null&&i!=null&&rX(t,t.spatialReference,e,i,r)!=null}function rX(t,e,i,r,s){const{paths:n,hasZ:o,hasM:l}=t,c=[];if(!aX(n,o??!1,l??!1,e,c,r,s))return null;const d=o||Yc(r);return i.paths=c,i.spatialReference=r,i.hasZ=d,i.hasM=l,i}function sX(t,e,i=e.spatialReference,r=0){return t.spatialReference!=null&&i!=null&&nX(t,t.spatialReference,e,i,r)!=null}function nX(t,e,i,r,s){const{rings:n,hasZ:o,hasM:l}=t,c=[];if(!aX(n,o??!1,l??!1,e,c,r,s))return null;const d=o||Yc(r);return i.rings=c,i.spatialReference=r,i.hasZ=d,i.hasM=l,i}function J$e(t,e,i=e.spatialReference,r=0){return t.spatialReference!=null&&i!=null&&oX(t,t.spatialReference,e,i,r)!=null}function oX(t,e,i,r,s){const{xmin:n,ymin:o,xmax:l,ymax:c,hasZ:d,hasM:m}=t,v=d?t.zmin:s;if(!uV(n,o,v,e,Gr,r))return null;const w=d||Yc(r);i.xmin=Gr[0],i.ymin=Gr[1],w&&(i.zmin=Gr[2]);const _=d?t.zmax:s;return uV(l,c,_,e,Gr,r)?(i.xmax=Gr[0],i.ymax=Gr[1],w&&(i.zmax=Gr[2]),m&&(i.mmin=t.mmin,i.mmax=t.mmax),i.spatialReference=r,i):null}function aX(t,e,i,r,s,n,o=0){const l=new Array;for(const m of t)for(const v of m)l.push(v[0],v[1],e?v[2]:o);if(!Bw(l,r,0,l,n,0))return!1;let c=0;s.length=0;const d=e||Yc(n);for(const m of t){const v=new Array;for(const w of m)d&&i?v.push([l[c++],l[c++],l[c++],w[3]]):d?v.push([l[c++],l[c++],l[c++]]):i?(v.push([l[c++],l[c++],w[2]]),c++):(v.push([l[c++],l[c++]]),c++);s.push(v)}return!0}const Gr=rh(),sFe=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:ea,initializeProjection:V6,isEqualBaseGCS:H$e,isLoaded:pu,isLoadedOrLoad:JK,isLoadedOrLoadFor:KK,load:Kc,project:ah,projectExtent:J$e,projectMany:lk,projectMultipoint:Z$e,projectOrLoad:q$e,projectOrLoadMany:XK,projectPoint:W$e,projectPolygon:sX,projectPolyline:Y$e,projectWithZConversion:eX,projectWithoutEngine:cS,requiresLoad:z$e,test:G$e,tryProjectWithZConversion:sw,unload:B$e},Symbol.toStringTag,{value:"Module"}));async function K$e(t){const e=t.spatialReference;if(e.isWGS84)return t.clone();if(e.isWebMercator)return wm(t);const i=Se.WGS84;return await V6(e,i),ah(t,i)}function X$e(t,e){if(!lX(t,e)){const i=t.typeKeywords;i?i.push(e):t.typeKeywords=[e]}}function lX(t,e){var i;return!!((i=t.typeKeywords)!=null&&i.includes(e))}function nFe(t){return lX(t,eMe.HOSTED_SERVICE)}function Q$e(t,e){const i=t.typeKeywords;if(i){const r=i.indexOf(e);r>-1&&i.splice(r,1)}}function oFe(t,e,i){i?X$e(t,e):Q$e(t,e)}async function aFe(t){const e=t.clone().normalize();let i;if(e.length>1)for(const r of e)i?r.width>i.width&&(i=r):i=r;else i=e[0];return K$e(i)}const eMe={CHARTS:"Charts",DYNAMIC:"Dynamic",GROUP_LAYER_MAP:"Map",HOSTED_SERVICE:"Hosted Service",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer",SINGLE_LAYER:"Singlelayer",SUBTYPE_GROUP_LAYER:"SubtypeGroupLayer",SUBTYPE_GROUP_TABLE:"SubtypeGroupTable",TABLE:"Table",TILED_IMAGERY:"Tiled Imagery"};function tMe(t){var c;const{portal:e,isOrgItem:i,itemControl:r}=t,s=(c=e.user)==null?void 0:c.privileges;let n=!s||s.includes("features:user:edit"),o=!!i&&!!(s!=null&&s.includes("features:user:fullEdit"));const l=r==="update"||r==="admin";return l?o=n=!0:o&&(n=!0),{features:{edit:n,fullEdit:o},content:{updateItem:l}}}const iMe=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=ti(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(r){r!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",r))}readPortalItem(r,s,n){if(s.itemId)return new qe({id:s.itemId,portal:n==null?void 0:n.portal})}writePortalItem(r,s){r!=null&&r.id&&(s.itemId=r.id)}async loadFromPortal(r,s){var n;if((n=this.portalItem)!=null&&n.id)try{const{load:o}=await re(()=>import("./layersLoader-CgUO8Ouo.js"),__vite__mapDeps([187,27,28,26,188,189]));return Gt(s),await o({instance:this,supportedTypes:r.supportedTypes,validateItem:r.validateItem,supportsData:r.supportsData,layerModuleTypeMap:r.layerModuleTypeMap,populateGroupLayer:r.populateGroupLayer},s)}catch(o){throw Cr(o)||se.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})
  ${o}`),o}}async finishLoadEditablePortalLayer(r){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(r).catch(s=>(Aa(s),!0)))}async setUserPrivileges(r,s){if(!dt.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(s);if(this.url)try{const{features:{edit:n,fullEdit:o},content:{updateItem:l}}=await this._fetchUserPrivileges(r,s);this._set("userHasEditingPrivileges",n),this._set("userHasFullEditingPrivileges",o),this._set("userHasUpdateItemPrivileges",l)}catch(n){Aa(n)}}async _fetchUserPrivileges(r,s){let n=this.portalItem;if(!r||!n||!n.loaded||n.sourceUrl)return this._fetchFallbackUserPrivileges(s);const o=!(ze!=null&&ze.findCredential(this.url)),l=r===n.id;if(l&&n.portal.user)return this._getUserPrivileges(n,o);let c,d;if(l)c=n.portal.url;else try{c=await x6(this.url,s)}catch(_){Aa(_)}if(!c||!bge(c,n.portal.url))return this._fetchFallbackUserPrivileges(s);try{const _=s!=null?s.signal:null;d=await(ze==null?void 0:ze.getCredential(`${c}/sharing`,{prompt:!1,signal:_}))}catch(_){Aa(_)}const m=!0,v=!1,w=!1;if(!d)return{features:{edit:m,fullEdit:v},content:{updateItem:w}};try{if(l?await n.reload():(n=new qe({id:r,portal:{url:c}}),await n.load(s)),n.portal.user)return this._getUserPrivileges(n,o)}catch(_){Aa(_)}return{features:{edit:m,fullEdit:v},content:{updateItem:w}}}_getUserPrivileges(r,s){const n=tMe(r);return s&&(n.features.edit=!0),n}async _fetchFallbackUserPrivileges(r){let s=!0;try{s=await this._fetchUserHasEditingPrivileges(r)}catch(n){Aa(n)}return{features:{edit:s,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(r){const s=this.url?ze==null?void 0:ze.findCredential(this.url):null;if(!s)return!0;const n=U_.credential===s?U_.user:await this._fetchEditingUser(r);return U_.credential=s,U_.user=n,(n==null?void 0:n.privileges)==null||n.privileges.includes("features:user:edit")}async _fetchEditingUser(r){var v,w;const s=(w=(v=this.portalItem)==null?void 0:v.portal)==null?void 0:w.user;if(s)return s;const n=ze==null?void 0:ze.findServerInfo(this.url??"");if(!(n!=null&&n.owningSystemUrl))return null;const o=`${n.owningSystemUrl}/sharing/rest`,l=le.getDefault();if(l&&l.loaded&&Yo(l.restUrl)===Yo(o))return l.user;const c=`${o}/community/self`,d=r!=null?r.signal:null,m=await S6(Bt(c,{authMode:"no-prompt",query:{f:"json"},signal:d}));return m.ok?Mt.fromJSON(m.value.data):null}read(r,s){s&&(s.layer=this),super.read(r,s)}write(r,s){var l;const n=s==null?void 0:s.portal,o=((l=this.portalItem)==null?void 0:l.id)&&(this.portalItem.portal||le.getDefault());return n&&o&&!VW(o.restUrl,n.restUrl)?(s.messages&&s.messages.push(new B("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(r,{...s,layer:this})}};return h([f({type:qe})],i.prototype,"portalItem",null),h([Ie("web-document","portalItem",["itemId"])],i.prototype,"readPortalItem",null),h([_e("web-document","portalItem",{itemId:{type:String}})],i.prototype,"writePortalItem",null),h([f({clonable:!1})],i.prototype,"resourceReferences",void 0),h([f({type:Boolean,readOnly:!0})],i.prototype,"userHasEditingPrivileges",void 0),h([f({type:Boolean,readOnly:!0})],i.prototype,"userHasFullEditingPrivileges",void 0),h([f({type:Boolean,readOnly:!0})],i.prototype,"userHasUpdateItemPrivileges",void 0),i=h([I("esri.layers.mixins.PortalLayer")],i),i},U_={credential:null,user:null},Oc=new ge,m1=new WeakMap;function rMe(t){nMe(t)&&Oc.push(new WeakRef(t))}function sMe(t){const e=Oc.find(i=>i.deref()===t);e&&Oc.remove(e)}function nMe(t){return t!=null&&typeof t=="object"&&"refreshInterval"in t&&"refresh"in t}function uX(t,e){return Number.isFinite(t)&&Number.isFinite(e)?e<=0?t:uX(e,t%e):0}let j5=0,q_=0;function oMe(){const t=Date.now();let e=!1;for(const i of Oc){const r=i.deref();r?r.refreshInterval&&t-(m1.get(r)??0)+5>=6e4*r.refreshInterval&&(m1.set(r,t),r.refresh(t)):e=!0}if(e)for(let i=Oc.length-1;i>=0;i--)Oc.at(i).deref()||Oc.removeAt(i)}GB(()=>{const t=Date.now();let e=0;for(const i of Oc){const r=i.deref();r&&(e=uX(Math.round(6e4*r.refreshInterval),e),r.refreshInterval?m1.get(r)||m1.set(r,t):m1.delete(r))}if(e!==q_){if(q_=e,clearInterval(j5),q_===0)return void(j5=0);j5=setInterval(oMe,q_)}},Fa);const cV=.1,aMe=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=JC(()=>this.hasDataChanged()),this.when().then(()=>{this.destroyed||rMe(this)},()=>{})}destroy(){sMe(this)}castRefreshInterval(r){return r>=cV?r:r<=0?0:cV}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(r=Date.now()){j1(this._debounceHasDataChanged()).then(s=>{s&&this._set("refreshTimestamp",r),this.emit("refresh",{dataChanged:s})},s=>{se.getLogger(this).error(s),this.emit("refresh",{dataChanged:!1,error:s})})}async hasDataChanged(){return!0}get test(){}};return h([f({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:ji}}}}})],i.prototype,"refreshInterval",void 0),h([Ot("refreshInterval")],i.prototype,"castRefreshInterval",null),h([f({readOnly:!0})],i.prototype,"refreshTimestamp",void 0),h([f({readOnly:!0})],i.prototype,"refreshParameters",null),i=h([I("esri.layers.mixins.RefreshableLayer")],i),i},lMe=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const r={minScale:this.minScale,maxScale:this.maxScale},s=this.parent;(s==null?void 0:s.effectiveScaleRange)!==void 0&&uMe(r,s.effectiveScaleRange);const n=this._get("effectiveScaleRange");return n&&n.minScale===r.minScale&&n.maxScale===r.maxScale?n:r}};return h([f({type:Number,nonNullable:!0,json:{write:!0}})],i.prototype,"minScale",void 0),h([f({type:Number,nonNullable:!0,json:{write:!0}})],i.prototype,"maxScale",void 0),h([f({readOnly:!0})],i.prototype,"effectiveScaleRange",null),i=h([I("esri.layers.mixins.ScaleRangeLayer")],i),i};function uMe(t,e){return t.minScale=t.minScale>0?e.minScale>0?Math.min(t.minScale,e.minScale):t.minScale:e.minScale,t.maxScale=t.maxScale>0?e.maxScale>0?Math.max(t.maxScale,e.maxScale):t.maxScale:e.maxScale,t}const cX=wr()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});let eu=class extends rt(ae){constructor(e){super(e),this.unit="milliseconds",this.value=0}toMilliseconds(){return vY(this.value,this.unit,"milliseconds")}};h([ke(cX,{nonNullable:!0})],eu.prototype,"unit",void 0),h([f({type:Number,json:{write:!0},nonNullable:!0})],eu.prototype,"value",void 0),eu=h([I("esri.time.TimeInterval")],eu);function hV(t,e){return eu.fromJSON({value:t,unit:e})}let $r=class extends rt(ae){constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0,this.stops=null}readFullTimeExtent(e,i){return i.timeExtent&&Array.isArray(i.timeExtent)&&i.timeExtent.length===2?Ii.fromArray(i.timeExtent):null}writeFullTimeExtent(e,i){(e==null?void 0:e.start)!=null&&e.end!=null?i.timeExtent=e.toArray():i.timeExtent=null}readInterval(e,i){return i.timeInterval&&i.timeIntervalUnits?hV(i.timeInterval,i.timeIntervalUnits):i.defaultTimeInterval&&i.defaultTimeIntervalUnits?hV(i.defaultTimeInterval,i.defaultTimeIntervalUnits):null}writeInterval(e,i){i.timeInterval=(e==null?void 0:e.toJSON().value)??null,i.timeIntervalUnits=(e==null?void 0:e.toJSON().unit)??null}};h([f({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],$r.prototype,"cumulative",void 0),h([f({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],$r.prototype,"endField",void 0),h([f({type:Ii,json:{write:{enabled:!0,allowNull:!0}}})],$r.prototype,"fullTimeExtent",void 0),h([Ie("fullTimeExtent",["timeExtent"])],$r.prototype,"readFullTimeExtent",null),h([_e("fullTimeExtent")],$r.prototype,"writeFullTimeExtent",null),h([f({type:Boolean,json:{write:!0}})],$r.prototype,"hasLiveData",void 0),h([f({type:eu,json:{write:{enabled:!0,allowNull:!0}}})],$r.prototype,"interval",void 0),h([Ie("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],$r.prototype,"readInterval",null),h([_e("interval")],$r.prototype,"writeInterval",null),h([f({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],$r.prototype,"startField",void 0),h([f(BH("timeReference",!0))],$r.prototype,"timeZone",void 0),h([f({type:String,json:{write:{enabled:!0,allowNull:!0}}})],$r.prototype,"trackIdField",void 0),h([f({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],$r.prototype,"useTime",void 0),h([f({type:[Date],json:{read:!1}})],$r.prototype,"stops",void 0),$r=h([I("esri.layers.support.TimeInfo")],$r);const cMe={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:ji}}},hMe=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(r,s){const n=s.timeInfo.exportOptions;if(!n)return null;const o=n.timeOffset,l=cX.fromJSON(n.timeOffsetUnits);return o&&l?new eu({value:o,unit:l}):null}set timeInfo(r){xH(r,this.fieldsIndex),this._set("timeInfo",r)}};return h([f({type:Ii,json:{write:!1}})],i.prototype,"timeExtent",void 0),h([f({type:eu})],i.prototype,"timeOffset",void 0),h([Ie("service","timeOffset",["timeInfo.exportOptions"])],i.prototype,"readOffset",null),h([f({value:null,type:$r,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],i.prototype,"timeInfo",null),h([f(cMe)],i.prototype,"useViewTime",void 0),i=h([I("esri.layers.mixins.TemporalLayer")],i),i};let dMe=class extends K1{constructor(e){super(),this.type="track",this.trackInfoProvider=e}get id(){return this.trackInfoProvider.id}get[Dw](){return this.trackInfoProvider.trackInfo}},Qn=class extends rt(ae){constructor(e){super(e),this.labelingInfo=null,this.labelsVisible=!0,this.renderer=null,this.visible=!0}};h([f({type:[qt],json:{write:!0}})],Qn.prototype,"labelingInfo",void 0),h([f(DT)],Qn.prototype,"labelsVisible",void 0),h([f({types:qw,json:{write:!0}})],Qn.prototype,"renderer",void 0),h([f({type:Boolean,json:{write:!0}})],Qn.prototype,"visible",void 0),Qn=h([I("esri.layers.support.TrackPartInfo")],Qn);let Os=class extends rt(ae){constructor(e){super(e),this.enabled=!0,this.fields=[],this.latestObservations=new Qn({renderer:new fs({symbol:vx.clone()})}),this.maxDisplayDuration=null,this.maxDisplayObservationsPerTrack=0,this.popupEnabled=!0,this.popupTemplate=null,this.previousObservations=new Qn({renderer:new fs({symbol:vx.clone()})}),this.trackLines=new Qn({renderer:new fs({symbol:$6.clone()})}),this.timeField="startTimeField"}writeFields(e,i,r){const s=e.filter(n=>n.statisticType!=="avg_angle").map(n=>n.toJSON());bs(r,s,i)}};h([f({type:Boolean,json:{write:!0}})],Os.prototype,"enabled",void 0),h([f({type:[Br],json:{write:!0}})],Os.prototype,"fields",void 0),h([_e("fields")],Os.prototype,"writeFields",null),h([f({type:Qn,json:{write:!0}})],Os.prototype,"latestObservations",void 0),h([f({type:eu,json:{write:!0}})],Os.prototype,"maxDisplayDuration",void 0),h([f({type:Number,json:{write:!0}})],Os.prototype,"maxDisplayObservationsPerTrack",void 0),h([f(NT)],Os.prototype,"popupEnabled",void 0),h([f({type:yg,json:{name:"popupInfo",write:!0}})],Os.prototype,"popupTemplate",void 0),h([f({type:Qn,json:{write:!0}})],Os.prototype,"previousObservations",void 0),h([f({type:Qn,json:{write:!0}})],Os.prototype,"trackLines",void 0),h([f({type:["timeReceived","startTimeField","endTimeField"],json:{read:!0,write:!0}})],Os.prototype,"timeField",void 0),Os=h([I("esri.layers.support.TrackInfo")],Os);const pMe=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.trackGraphicOrigin=new dMe(this),this.trackInfo=null}};return h([f({readOnly:!0,clonable:!1})],i.prototype,"trackGraphicOrigin",void 0),h([f({type:Os})],i.prototype,"trackInfo",void 0),i=h([I("esri.layers.mixins.TrackableLayer")],i),i},dV=new ct({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let ic=class extends rt(ae){constructor(e){super(e),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};h([f({json:{write:!0}})],ic.prototype,"name",void 0),h([f({json:{write:!0}})],ic.prototype,"description",void 0),h([f({json:{read:dV.read,write:dV.write}})],ic.prototype,"drawingTool",void 0),h([f({json:{write:!0}})],ic.prototype,"prototype",void 0),h([f({json:{write:!0}})],ic.prototype,"thumbnail",void 0),ic=h([I("esri.layers.support.FeatureTemplate")],ic);function fMe(){return{fields:{type:[Qi],value:null,set:function(t){if(t&&q("big-integer-warning-enabled")){const e=t.filter(i=>i.type==="big-integer"||i.type==="oid"&&(i.length||0)>=8);if(e.length){const i=e.map(r=>`'${r.name}'`).join(", ");se.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${i}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`)}}this._set("fields",t)}},fieldsIndex:{readOnly:!0,get(){return _x.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(t){this._userOutFields=t,this.notifyChange("outFields")},get:function(){var e;const t=this._userOutFields;if(!(t!=null&&t.length))return null;if(t.includes("*"))return["*"];if(!this.fields)return t;for(const i of t)((e=this.fieldsIndex)==null?void 0:e.has(i))||se.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${i} found in outFields`,{layer:this,outFields:t});return dT(this.fieldsIndex,t)}}}}const N5=()=>se.getLogger("esri.layers.support.labelingInfo"),mMe=/\[([^[\]]+)\]/gi;function yMe(t,e,i){return t?t.map(r=>{var n;const s=new qt;if(s.read(r,i),s.labelExpression){const o=e.fields||((n=e.layerDefinition)==null?void 0:n.fields)||this.fields;s.labelExpression=s.labelExpression.replaceAll(mMe,(l,c)=>`[${gMe(c,o)}]`)}return s}):null}function gMe(t,e){if(!e)return t;const i=t.toLowerCase();for(let r=0;r<e.length;r++){const s=e[r].name;if(s.toLowerCase()===i)return s}return t}const pV=["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],vMe={esriGeometryPoint:pV,esriGeometryMultiPatch:["always-horizontal"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along","above-along","below-along"],esriGeometryMultipoint:pV,esriGeometryEnvelope:null};function fFe(t,e){const i=[];for(const r of t){const s=r.labelPlacement,n=vMe[e];if(!r.symbol)return N5().warn("No ILabelClass symbol specified."),[];if(!n)return N5().error(new B("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${e}' is not supported`)),[];if(n.includes(s))i.push(r);else{const o=n[0];s&&N5().warn(`Found invalid label placement type ${s} for ${e}. Defaulting to ${o}`);const l=r.clone();l.labelPlacement=o,i.push(l)}}return i}function wMe({displayField:t,editFieldsInfo:e,fields:i,objectIdField:r,title:s},n){if(!i)return null;const o=xMe({editFieldsInfo:e,fields:i,objectIdField:r},n);if(!o.length)return null;const l=MMe({titleBase:s,fields:i,displayField:t}),c=$Me();return new yg({title:l,content:c,fieldInfos:o})}const bMe=(t,e)=>e.visibleFieldNames?e.visibleFieldNames.has(t.name):qme(t,e);function _Me({fields:t,ignoreFieldTypes:e,sortDisabled:i}){const r=t;return e&&(t=t.filter(s=>!e.includes(s.type))),t===r&&(t=t.slice()),i!==!0&&t.sort(SMe),t}function SMe(t,e){return t.type==="oid"?-1:e.type==="oid"?1:fV(t)?-1:fV(e)?1:(t.alias||t.name).toLocaleLowerCase().localeCompare((e.alias||e.name).toLocaleLowerCase())}function xMe(t,e){const i=e==null?void 0:e.visibleFieldNames;return _Me({fields:t.fields??[],ignoreFieldTypes:(e==null?void 0:e.ignoreFieldTypes)||EMe,sortDisabled:e==null?void 0:e.sortDisabled}).map(r=>new _R({fieldName:r.name,isEditable:Ume(r,t),label:r.alias,format:TMe(r),visible:bMe(r,{...t,visibleFieldNames:i})}))}function TMe(t){switch(t.type){case"small-integer":case"integer":return new ru({digitSeparator:!0,places:0});case"single":case"double":return new ru({digitSeparator:!0,places:2});case"string":return hye(t.name)?new ru({digitSeparator:!0,places:0}):void 0;default:return}}function $Me(){return[new Ny,new jy]}function MMe(t){const e=Rme(t),{titleBase:i}=t;return e?`${i}: {${e.trim()}}`:i??""}function fV(t){var i;return(t.name&&t.name.toLowerCase())==="name"?!0:((i=t.alias)==null?void 0:i.toLowerCase())==="name"}const EMe=["geometry","blob","raster","guid","xml"],mV=fMe();let tt=class extends m$e(uSe(Q2e(u$e(bSe(X2e(hMe(pMe(lMe(aMe(h$e(iMe(kW(Kt))))))))))))){constructor(e){super(e),this.attributeTableTemplate=null,this.copyright=null,this.dateFieldsTimeZone=null,this.definitionExpression=null,this.displayField=null,this.editingEnabled=!1,this.elevationInfo=null,this.fields=null,this.fieldsIndex=null,this.fullExtent=null,this.geometryType=null,this.graphicOrigin=new ywe(this),this.hasZ=void 0,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType="GeoJSON",this.outFields=null,this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.source=new rd({layer:this}),this.spatialReference=Se.WGS84,this.templates=null,this.title="GeoJSON",this.type="geojson"}destroy(){var e;(e=this.source)==null||e.destroy()}load(e){const i=this.loadFromPortal({supportedTypes:["GeoJson"],supportsData:!1},e).catch(Aa).then(()=>this.source.load(e)).then(()=>{this.read(this.source.sourceJSON,{origin:"service",url:this.parsedUrl}),this.revert(["objectIdField","fields","timeInfo"],"service"),SL(this.renderer,this.fieldsIndex),xH(this.timeInfo,this.fieldsIndex)});return this.addResolvingPromise(i),Promise.resolve(this)}set portalItem(e){super.portalItem=e}set timeInfo(e){super.timeInfo=e}get capabilities(){return this.source?this.source.capabilities:null}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("capabilities"),(this._get("createQueryVersion")||0)+1}get defaultPopupTemplate(){return this.createPopupTemplate()}get isTable(){return this.loaded&&this.geometryType==null}get parsedUrl(){return Rr(this.url)}set renderer(e){SL(e,this.fieldsIndex),this._set("renderer",e)}set url(e){if(!e)return void this._set("url",e);const i=Rr(e);this._set("url",i.path),i.query&&(this.customParameters={...this.customParameters,...i.query})}async applyEdits(e,i){const{applyEdits:r}=await re(()=>import("./editingSupport-CmVK-rpq.js"),__vite__mapDeps([179,180,181]));await this.load();const s=await r(this,this.source,e,i);return this.read({extent:this.source.sourceJSON.extent,timeInfo:this.source.sourceJSON.timeInfo},{origin:"service",ignoreDefaults:!0}),s}createPopupTemplate(e){return wMe(this,e)}createQuery(){var n;const e=new xe,i=(n=this.capabilities)==null?void 0:n.data;e.returnGeometry=!0,i&&i.supportsZ&&(e.returnZ=!0),e.outFields=["*"],e.where=this.definitionExpression||"1=1";const{timeOffset:r,timeExtent:s}=this;return e.timeExtent=r!=null&&s!=null?s.offset(-r.value,r.unit):s||null,e}getFieldDomain(e,i){var r;return(r=this.getField(e))==null?void 0:r.domain}getField(e){return this.fieldsIndex.get(e)}queryFeatures(e,i){return this.load().then(()=>this.source.queryFeatures(xe.from(e)||this.createQuery(),i)).then(r=>{if(r!=null&&r.features)for(const s of r.features)s.layer=s.sourceLayer=this,s.origin=this.graphicOrigin;return r})}queryObjectIds(e,i){return this.load().then(()=>this.source.queryObjectIds(xe.from(e)||this.createQuery(),i))}queryFeatureCount(e,i){return this.load().then(()=>this.source.queryFeatureCount(xe.from(e)||this.createQuery(),i))}queryExtent(e,i){return this.load().then(()=>this.source.queryExtent(xe.from(e)||this.createQuery(),i))}async queryAttributeBins(e,i){const{source:r,capabilities:s}=await this.load();sTe(e,s,"GeoJSONLayer");const n=await re(()=>import("./AttributeBinsQuery-CsQJ0doN.js"),__vite__mapDeps([190,47,51])),o=await r.queryAttributeBins(n.default.from(e),i);if(o.features)for(const l of o.features)l.layer=l.sourceLayer=this;return o}async hasDataChanged(){try{const{dataChanged:e,updates:i}=await this.source.refresh(this.customParameters);return i!=null&&this.read(i,{origin:"service",url:this.parsedUrl,ignoreDefaults:!0}),e}catch{}return!1}};h([f(jSe)],tt.prototype,"attributeTableTemplate",void 0),h([f({readOnly:!0,json:{read:!1,write:!1}})],tt.prototype,"capabilities",null),h([f({type:String})],tt.prototype,"copyright",void 0),h([f({readOnly:!0})],tt.prototype,"createQueryVersion",null),h([f(BH("dateFieldsTimeReference"))],tt.prototype,"dateFieldsTimeZone",void 0),h([f({readOnly:!0})],tt.prototype,"defaultPopupTemplate",null),h([f({type:String,json:{name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],tt.prototype,"definitionExpression",void 0),h([f({type:String})],tt.prototype,"displayField",void 0),h([f({type:Boolean})],tt.prototype,"editingEnabled",void 0),h([f(RSe)],tt.prototype,"elevationInfo",void 0),h([f({type:[Qi],json:{name:"layerDefinition.fields",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"fields"}}}})],tt.prototype,"fields",void 0),h([f(mV.fieldsIndex)],tt.prototype,"fieldsIndex",void 0),h([f({type:Ye,json:{name:"extent"}})],tt.prototype,"fullExtent",void 0),h([f({type:["point","polygon","polyline","multipoint"],json:{read:{reader:n6.read}}})],tt.prototype,"geometryType",void 0),h([f({readOnly:!0,clonable:!1})],tt.prototype,"graphicOrigin",void 0),h([f({type:Boolean})],tt.prototype,"hasZ",void 0),h([f(ISe)],tt.prototype,"id",void 0),h([f({type:Boolean,readOnly:!0})],tt.prototype,"isTable",null),h([f(DT)],tt.prototype,"labelsVisible",void 0),h([f({type:[qt],json:{name:"layerDefinition.drawingInfo.labelingInfo",read:{reader:yMe},write:!0}})],tt.prototype,"labelingInfo",void 0),h([f(CSe)],tt.prototype,"legendEnabled",void 0),h([f({type:["show","hide"]})],tt.prototype,"listMode",void 0),h([f({type:String,json:{name:"layerDefinition.objectIdField",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"objectIdField"}}}})],tt.prototype,"objectIdField",void 0),h([f(gx)],tt.prototype,"opacity",void 0),h([f({type:["GeoJSON"]})],tt.prototype,"operationalLayerType",void 0),h([f(mV.outFields)],tt.prototype,"outFields",void 0),h([f({readOnly:!0})],tt.prototype,"parsedUrl",null),h([f(NT)],tt.prototype,"popupEnabled",void 0),h([f({type:yg,json:{name:"popupInfo",write:!0}})],tt.prototype,"popupTemplate",void 0),h([f({types:qw,json:{name:"layerDefinition.drawingInfo.renderer",write:!0,origins:{service:{name:"drawingInfo.renderer"},"web-scene":{types:G3e}}}})],tt.prototype,"renderer",null),h([f(OSe)],tt.prototype,"screenSizePerspectiveEnabled",void 0),h([f({readOnly:!0})],tt.prototype,"source",void 0),h([f({type:Se})],tt.prototype,"spatialReference",void 0),h([f({type:[ic]})],tt.prototype,"templates",void 0),h([f()],tt.prototype,"title",void 0),h([f({json:{read:!1},readOnly:!0})],tt.prototype,"type",void 0),h([f(kSe)],tt.prototype,"url",null),tt=h([I("esri.layers.GeoJSONLayer")],tt);const uk=tt,yFe=Object.freeze(Object.defineProperty({__proto__:null,default:uk},Symbol.toStringTag,{value:"Module"}));async function hX(t,e){return await t.load(),AMe(t,e)}async function AMe(t,e){const i=[],r=(...n)=>{for(const o of n)o!=null&&(Array.isArray(o)?r(...o):ge.isCollection(o)?o.forEach(l=>r(l)):a4(o)&&i.push(o))};e(r);let s=null;if(await NSe(i,async n=>{const o=await S6(OMe(n)?n.loadAll():n.load());o.ok!==!1||s||(s=o)}),s)throw s.error;return t}function OMe(t){return"loadAll"in t&&typeof t.loadAll=="function"}async function kMe(t){if(!t)return;const e=t.includes("-vector")?t.slice(0,t.indexOf("-vector")):t.includes("-3d")?t.slice(0,t.indexOf("-3d")):t,i=await EY("esri/t9n/basemaps");return i[t]||i[e]}const ck={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return bi("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return bi("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return bi("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-hillshade",url:"https://services.arcgisonline.com/ArcGIS/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1},{id:"terrain-base",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/33064a20de0c48d2bb61efa8faca93a8/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Terrain Base"},{id:"terrain-reference",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/14fbc125ccc9488888b014db09f35f67/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Reference Reference",isReference:!0}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return bi("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/94329802cbfa44a18f423e6f1a0b875c/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return bi("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return bi("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return bi("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return bi("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return bi("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return bi("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return bi("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return bi("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return bi("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Open3D_Trees_v1/SceneServer",itemId:"9d3d89d42cfe4e2c9d108a2f0d518406",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return bi("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return bi("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return bi("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Open3D_Trees_v1/SceneServer",itemId:"9d3d89d42cfe4e2c9d108a2f0d518406",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Open3D_Buildings_v1/SceneServer",itemId:"cd33b09dde0a419c986ca1a78a5fc06d",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return bi("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]}};let Tl=class extends $e{constructor(e){super(e),this.apiKey=null,this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2",this.worldview=null}get languageParameter(){const e=this.language;let i=e==="local"||e==="global"?e:AY(e??Bs())??"global";return i=i==="no"?"nb":i,i}};h([f()],Tl.prototype,"apiKey",void 0),h([f()],Tl.prototype,"id",void 0),h([f()],Tl.prototype,"language",void 0),h([f()],Tl.prototype,"places",void 0),h([f()],Tl.prototype,"serviceUrl",void 0),h([f()],Tl.prototype,"worldview",void 0),Tl=h([I("esri.support.BasemapStyle")],Tl);const CMe=Tl,RMe=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wcs","wms","wmts"]),IMe=new Set(["integrated-mesh-3dtiles"]),dX=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","video","web-tile","wcs","wfs","wms","wmts"]),PMe=new Set([...dX,"link-chart"]);function jMe(t){switch(t.layerContainerType){case"basemap-base-layers":return RMe;case"basemap-ground-layers":return IMe;case"operational-layers":return t.origin==="link-chart"?PMe:dX;default:return null}}function NMe(t,e){if(e.restrictedWebMapWriting){const i=jMe(e);return i==null||i.has(t.type)&&!VT(t)}return!0}function DMe(t,e){var i;if(e)if(VT(t)){const r=Qx("featureCollection.layers",e),s=(i=r==null?void 0:r[0])==null?void 0:i.layerDefinition;s&&yV(t,s)}else t.type!=="group"&&yV(t,e)}function yV(t,e){"maxScale"in t&&(e.maxScale=QS(t.maxScale)??void 0),"minScale"in t&&(e.minScale=QS(t.minScale)??void 0)}function LMe(t,e){if(DMe(t,e),e&&(e.id=t.id,"blendMode"in t&&(e.blendMode=t.blendMode,e.blendMode==="normal"&&delete e.blendMode),e.opacity=QS(t.opacity)??void 0,e.title=t.title||"Layer",e.visibility=t.visible,"legendEnabled"in t&&t.type!=="wmts"))if(VT(t)){const i=e.featureCollection;i&&(i.showLegend=t.legendEnabled)}else e.showLegend=t.legendEnabled}function D5(t,e,i){if(!t.persistenceEnabled)return null;if(!("write"in t)||!t.write)return i!=null&&i.messages&&i.messages.push(new B("layer:unsupported",`Layers (${t.title}, ${t.id}) of type '${t.declaredClass}' cannot be persisted`,{layer:t})),null;if(VT(t)&&!t.isTable)e=t.resourceInfo;else if(NMe(t,i)){const r={};return t.write(r,i)?r:null}return e!=null&&LMe(t,e=G(e)),e}var gV,Kf,ep;let ks=(ep=class extends th(bg){constructor(e){super(e),this[gV]=!0,this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.type="Basemap",this.id=Date.now().toString(16)+"-basemap-"+Kf.idCounter++,this.baseLayers=new ge,this.referenceLayers=new ge,this.groundLayers=new ge;const i=l=>{var d;const{parent:c}=l;c&&c!==this&&"remove"in c&&((d=c.remove)==null||d.call(c,l)),l.parent=this,l.type!=="elevation"&&l.type!=="integrated-mesh-3dtiles"||se.getLogger(this).error(`Layer '${l.title}, id:${l.id}' of type '${l.type}' is not supported as a basemap layer and will therefore be ignored.`)},r=l=>{var d;const{parent:c}=l;c&&c!==this&&"remove"in c&&((d=c.remove)==null||d.call(c,l)),l.parent=this},s=l=>{const c=l.item;return c.parent===this?(se.getLogger(this).error(`Layer '${c.title}, id:${c.id}' of type '${c.type}' already a ground layer, second add will be ignored.`),void l.preventDefault()):c.type!=="integrated-mesh-3dtiles"&&c.type!=="integrated-mesh"?(se.getLogger(this).error(`Layer '${c.title}, id:${c.id}' of type '${c.type}' is not supported as a ground layer and will therefore be ignored.`),void l.preventDefault()):void 0},n=l=>{l.parent=null},o=l=>{l.parent===this&&(l.parent=null)};this.addHandles([this.baseLayers.on("after-add",l=>i(l.item)),this.baseLayers.on("after-remove",l=>n(l.item)),this.referenceLayers.on("after-add",l=>i(l.item)),this.referenceLayers.on("after-remove",l=>n(l.item)),this.groundLayers.on("before-add",s),this.groundLayers.on("after-add",l=>r(l.item)),this.groundLayers.on("after-remove",l=>o(l.item))])}initialize(){this.when().catch(e=>{se.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.baseLayers.toArray();for(const s of e)s.destroyed||s.destroy();const i=this.groundLayers.toArray();for(const s of i)s.destroyed||s.destroy();const r=this.referenceLayers.toArray();for(const s of r)s.destroyed||s.destroy();this.baseLayers.destroy(),this.groundLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=ti(this.portalItem)}removeChildLayer(e){for(const i of[this.baseLayers,this.referenceLayers,this.groundLayers])i.remove(e)}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",Na(e,this._get("baseLayers")))}_writeBaseLayers(e,i,r){const s=[];e&&(r={...r,layerContainerType:"basemap-base-layers"},this.baseLayers.forEach(n=>{const o=D5(n,r.webmap?r.webmap.getLayerJSONFromResourceInfo(n):null,r);o!=null&&s.push(o)}),this.referenceLayers.forEach(n=>{const o=D5(n,r.webmap?r.webmap.getLayerJSONFromResourceInfo(n):null,r);o!=null&&(n.type!=="scene"&&(o.isReference=!0),s.push(o))})),i.baseMapLayers=s}set groundLayers(e){this._set("groundLayers",Na(e,this._get("groundLayers")))}_writeGroundLayers(e,i,r){const s=[];e&&(r={...r,layerContainerType:"basemap-ground-layers"},this.groundLayers.forEach(n=>{const o=D5(n,r.webmap?r.webmap.getLayerJSONFromResourceInfo(n):null,r);o!=null&&s.push(o)}),s.length>0&&(i.groundLayers=s))}get loaded(){return super.loaded}set referenceLayers(e){this._set("referenceLayers",Na(e,this._get("referenceLayers")))}writeTitle(e,i){i.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return hX(this,e=>{e(this.baseLayers,this.groundLayers,this.referenceLayers)})}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(i=>Yv(i)?i.clone():i),groundLayers:this.groundLayers.map(i=>Yv(i)?i.clone():i),referenceLayers:this.referenceLayers.map(i=>Yv(i)?i.clone():i)};return this.loaded&&(e.loadStatus="loaded"),new Kf({resourceInfo:this.resourceInfo}).set(e)}read(e,i){this.resourceInfo||this._set("resourceInfo",{data:e,context:i}),super.read(e,i)}write(e,i){var r;return e=e||{},i!=null&&i.origin||(i={origin:"web-map",...i}),super.write(e,i),!this.loaded&&((r=this.resourceInfo)!=null&&r.data.baseMapLayers)&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(s=>{const n=G(s);return n.url&&La(n.url)&&(n.url=`https:${n.url}`),n.templateUrl&&La(n.templateUrl)&&(n.templateUrl=`https:${n.templateUrl}`),n})),e}async _loadFromSource(e){const{resourceInfo:i,portalItem:r,style:s}=this;Gt(e);const n=[];if(i){const o=i.context?i.context.url:null;if(n.push(this._loadLayersFromJSON(i.data,o,e)),i.data.id&&!i.data.title){const l=i.data.id;n.push(kMe(l).then(c=>{c&&this.read({title:c},i.context)}))}}else r?n.push(this._loadFromItem(r,e)):s&&n.push(this._loadFromStylesService(s,e));await Promise.all(n)}async _loadLayersFromJSON(e,i,r){var d,m;const s=(d=this.resourceInfo)==null?void 0:d.context,n=((m=this.portalItem)==null?void 0:m.portal)||(s==null?void 0:s.portal)||null,o=FMe[(s==null?void 0:s.origin)||""]??"web-map",{populateOperationalLayers:l}=await re(async()=>{const{populateOperationalLayers:v}=await import("./layersCreator-Ci2s-HvX.js");return{populateOperationalLayers:v}},__vite__mapDeps([191,28,27,26,29,25,189])),c=[];if(Gt(r),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const v={context:{...s,origin:o,url:i,portal:n,layerContainerType:"basemap-base-layers"},defaultLayerType:"DefaultTileLayer"},w=T=>o==="web-scene"&&T.layerType==="ArcGISSceneServiceLayer"||T.isReference,_=l(this.baseLayers,e.baseMapLayers.filter(T=>!w(T)),v);c.push(_);const x=l(this.referenceLayers,e.baseMapLayers.filter(w),v);c.push(x)}if(e.groundLayers&&Array.isArray(e.groundLayers)){const v={context:{...s,origin:o,url:i,portal:n,layerContainerType:"basemap-ground-layers"},defaultLayerType:"IntegratedMesh3DTilesLayer"},w=l(this.groundLayers,e.groundLayers,v);c.push(w)}await Promise.allSettled(c)}async _loadFromItem(e,i){const r=await e.load(i),s=await r.fetchData("json",i),n=Rr(e.itemUrl??"");return this._set("resourceInfo",{data:s.baseMap??{},context:{origin:VMe[e.type||""]??"web-map",portal:e.portal||le.getDefault(),url:n}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:s.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||le.getDefault(),url:n}),this._loadLayersFromJSON(this.resourceInfo.data,n,i)}async _loadFromStylesService(e,i){const r=e.serviceUrl.endsWith("/webmaps")?e.serviceUrl.slice(0,-8):e.serviceUrl,s=`${r}/styles/${e.id}/self`,n=`${r}/webmaps/${e.id}`,o=e.apiKey??dt.apiKeys.basemapStyles,[l,c]=await Promise.all([(await Bt(s,{query:{token:o},signal:i==null?void 0:i.signal})).data,(await Bt(n,{query:{language:e.languageParameter,places:e.places,worldview:e.worldview,token:o},signal:i==null?void 0:i.signal})).data]);this.thumbnailUrl??(this.thumbnailUrl=l.thumbnailUrl);const d=Rr(n);if(this._set("resourceInfo",{data:c.baseMap??{},context:{origin:"web-map",url:d}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:c.spatialReference},this.resourceInfo.context),await this._loadLayersFromJSON(this.resourceInfo.data,d,i),o)for(const m of[...this.baseLayers,...this.groundLayers,...this.referenceLayers])"apiKey"in m&&(m.apiKey=o)}static fromId(e){const i=ck[e];return i?i.itemId?new Kf({portalItem:{id:i.itemId,portal:{url:"https://www.arcgis.com"}}}):Kf.fromJSON(i,i.is3d?{origin:"web-scene",portal:new le({url:"https://www.arcgis.com"})}:{origin:"web-map"}):null}},gV=HJ,Kf=ep,ep.idCounter=0,ep);h([f({json:{read:!1,write:{ignoreOrigin:!0,target:"baseMapLayers",writer(t,e,i,r){this._writeBaseLayers(t,e,r)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:ge}},writer(t,e,i,r){this._writeBaseLayers(t,e,r)}}}}}})],ks.prototype,"baseLayers",null),h([f({json:{read:!1,write:{ignoreOrigin:!0,target:"groundLayers",writer(t,e,i,r){this._writeGroundLayers(t,e,r)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{groundLayers:{type:ge}},writer(t,e,i,r){this._writeGroundLayers(t,e,r)}}}}}})],ks.prototype,"groundLayers",null),h([f({type:String,json:{origins:{"web-scene":{write:!0}}}})],ks.prototype,"id",void 0),h([f({type:qe})],ks.prototype,"portalItem",void 0),h([f()],ks.prototype,"referenceLayers",null),h([f({readOnly:!0})],ks.prototype,"resourceInfo",void 0),h([f({type:Se})],ks.prototype,"spatialReference",void 0),h([f({type:CMe})],ks.prototype,"style",void 0),h([f()],ks.prototype,"thumbnailUrl",void 0),h([f({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],ks.prototype,"title",void 0),h([_e("title")],ks.prototype,"writeTitle",null),ks=Kf=h([I("esri.Basemap")],ks);const VMe={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},FMe={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},y1=ks,zMe=Object.freeze(Object.defineProperty({__proto__:null,default:y1},Symbol.toStringTag,{value:"Module"}));let Bo=class extends ge{constructor(e){super(e),this.getCollections=null}initialize(){this.addHandles(GB(()=>this._refresh(),Fa))}destroy(){this.getCollections=null}_refresh(){var r;const e=(r=this.getCollections)==null?void 0:r.call(this);if(e==null)return void this.removeAll();let i=0;for(const s of e)s!=null&&(i=this._processCollection(i,s));this.splice(i)}_createNewInstance(e){return new ge(e)}_processCollection(e,i){if(!i)return e;const r=this.itemFilterFunction??(s=>!!s);for(const s of i)if(s){if(r(s)){const n=this.indexOf(s,e);n>=0?n!==e&&this.reorder(s,e):this.add(s,e),++e}if(this.getChildrenFunction){const n=this.getChildrenFunction(s);if(Array.isArray(n))for(const o of n)e=this._processCollection(e,o);else e=this._processCollection(e,n)}}return e}};h([f()],Bo.prototype,"getCollections",void 0),h([f()],Bo.prototype,"getChildrenFunction",void 0),h([f()],Bo.prototype,"itemFilterFunction",void 0),Bo=h([I("esri.core.CollectionFlattener")],Bo);var hk;let hS=hk=class extends ae{constructor(t){super(t),this.type="none"}clone(){return new hk({type:this.type})}};h([ke({none:"none",stayAbove:"stay-above"}),f({json:{write:{isRequired:!0}}})],hS.prototype,"type",void 0),hS=hk=h([I("esri.ground.NavigationConstraint")],hS);const pX=Symbol("GroundInstance");function wFe(t){return t!=null&&typeof t=="object"&&pX in t}var vV,dk,Pz;let qn=dk=(Pz=class extends th(bg){constructor(t){super(t),this[vV]=!0,this.parent=null,this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new ge;const e=r=>{var n;const{parent:s}=r;s&&s!==this&&"remove"in s&&((n=s.remove)==null||n.call(s,r)),r.parent=this,r.type!=="elevation"&&r.type!=="base-elevation"&&se.getLogger(this).error(`Layer '${r.title}, id:${r.id}' of type '${r.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},i=r=>{r.parent=null};this.addHandles([this.layers.on("after-add",r=>e(r.item)),this.layers.on("after-remove",r=>i(r.item))]),this.allLayers=new Bo({getCollections:()=>{var r,s;return[this.layers,(s=(r=this.parent)==null?void 0:r.basemap)==null?void 0:s.groundLayers]}})}removeChildLayer(t){this.layers.remove(t)}initialize(){this.when().catch(t=>{Cr(t)||se.getLogger(this).error("#load()","Failed to load ground",t)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}get integratedMeshGround(){var e,i;const t=(i=(e=this.parent)==null?void 0:e.basemap)==null?void 0:i.groundLayers.at(0);return t!=null&&t.replacesTerrain?t:null}destroy(){const t=this.layers.removeAll();for(const e of t)ti(e);this.layers.destroy()}normalizeCtorArgs(t){return t&&"resourceInfo"in t&&(this._set("resourceInfo",t.resourceInfo),delete(t={...t}).resourceInfo),t}get loaded(){return super.loaded}get layers(){return this._get("layers")}set layers(t){this._set("layers",Na(t,this._get("layers")))}writeLayers(t,e,i,r){const s=[];t&&(r={...r,layerContainerType:"ground"},t.forEach(n=>{if("write"in n){const o={};Nce(n)().write(o,r)&&s.push(o)}else r!=null&&r.messages&&r.messages.push(new B("layer:unsupported",`Layers (${n.title}, ${n.id}) of type '${n.declaredClass}' cannot be persisted in the ground`,{layer:n}))})),e.layers=s}load(t){return this.addResolvingPromise(this._loadFromSource(t)),Promise.resolve(this)}loadAll(){return hX(this,t=>{t(this.layers)})}async queryElevation(t,e){await this.load({signal:e==null?void 0:e.signal});const{queryAll:i}=await re(()=>import("./ElevationQuery-qyEmJewh.js"),__vite__mapDeps([192,193]));return Gt(e),i(this.layers.filter(wV).toArray(),t,e)}async createElevationSampler(t,e){await this.load({signal:e==null?void 0:e.signal});const{createSampler:i}=await re(()=>import("./ElevationQuery-qyEmJewh.js"),__vite__mapDeps([192,193]));return Gt(e),i(this.layers.filter(wV).toArray(),t,e)}clone(){const t={opacity:this.opacity,surfaceColor:G(this.surfaceColor),navigationConstraint:G(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(t.loadStatus="loaded"),new dk({resourceInfo:this.resourceInfo}).set(t)}read(t,e){this.resourceInfo||this._set("resourceInfo",{data:t,context:e}),super.read(t,e)}_loadFromSource(t){const e=this.resourceInfo;return e?this._loadLayersFromJSON(e.data,e.context,t):Promise.resolve()}async _loadLayersFromJSON(t,e,i){const r=(e==null?void 0:e.origin)||"web-scene",s=(e==null?void 0:e.portal)||null,n=(e==null?void 0:e.url)||null,{populateOperationalLayers:o}=await re(async()=>{const{populateOperationalLayers:c}=await import("./layersCreator-Ci2s-HvX.js");return{populateOperationalLayers:c}},__vite__mapDeps([191,28,27,26,29,25,189]));Gt(i);const l=[];if(t.layers&&Array.isArray(t.layers)){const c={context:{origin:r,url:n,portal:s,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};l.push(o(this.layers,t.layers,c))}await Promise.allSettled(l)}},vV=pX,Pz);function wV(t){return t&&"createElevationSampler"in t}h([f()],qn.prototype,"parent",void 0),h([f()],qn.prototype,"integratedMeshGround",null),h([f({json:{read:!1,write:{isRequired:!0}}})],qn.prototype,"layers",null),h([f()],qn.prototype,"allLayers",void 0),h([_e("layers")],qn.prototype,"writeLayers",null),h([f({readOnly:!0})],qn.prototype,"resourceInfo",void 0),h([f({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:ot,read:{reader:ew,source:"transparency"},write:{writer:(t,e)=>{e.transparency=h6(t)},target:"transparency"}}})],qn.prototype,"opacity",void 0),h([f({type:Ne,json:{type:[ot],write:(t,e)=>{e.surfaceColor=t.toJSON().slice(0,3)}}})],qn.prototype,"surfaceColor",void 0),h([f({type:hS,json:{write:!0}})],qn.prototype,"navigationConstraint",void 0),qn=dk=h([I("esri.Ground")],qn);const xx=qn;function UMe(t){return t&&"getAtOrigin"in t&&"originOf"in t}function pk(t){return F6[qMe(t)]||GMe}function qMe(t){return t.type==="json"?"application/json":t.type==="blob"?t.blob.type:BMe(t.url)}function BMe(t){const e=qW(t);return fk[e]||fX}const F6={},fX="text/plain",GMe=F6[fX],fk={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const t in fk)F6[fk[t]]=t;function HMe(t){const e=(t==null?void 0:t.origins)??[void 0];return(i,r)=>{const s=WMe(t,i,r);for(const n of e){const o=tR(i,n,r);for(const l in s)o[l]=s[l]}}}function WMe(t,e,i){if((t==null?void 0:t.type)==="resource")return ZMe(t,e,i);switch((t==null?void 0:t.type)??"other"){case"other":return{read:!0,write:!0};case"url":{const{read:r,write:s}=Fge;return{read:r,write:s}}}}function ZMe(t,e,i){var s,n;const r=_w(e,i);return{type:String,read:(o,l,c)=>{const d=wT(o,l,c);return r.type===String?d:typeof r.type=="function"?new r.type({url:d}):void 0},write:{isRequired:(n=(s=r.json)==null?void 0:s.write)==null?void 0:n.isRequired,writer(o,l,c,d){if(!(d!=null&&d.resources))return typeof o=="string"?void(l[c]=ap(o,d)):void(l[c]=o.write({},d));const m=KMe(o),v=ap(m,{...d,verifyItemRelativeUrls:d!=null&&d.verifyItemRelativeUrls?{writtenUrls:d.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},1),w=r.type!==String&&(!UMe(this)||(d==null?void 0:d.origin)&&this.originIdOf(i)>Kl(d.origin)),_={object:this,propertyName:i,value:o,targetUrl:v,dest:l,targetPropertyName:c,context:d,params:t};d!=null&&d.portalItem&&v&&!Gs(v)?w&&(t!=null&&t.contentAddressed)?mk(_):w?YMe(_):JMe(_):d!=null&&d.portalItem&&(v==null||WW(v)!=null||vg(v)||w)?mk(_):l[c]=v}}}}function mk(t){var x;const{targetUrl:e,params:i,value:r,context:s,dest:n,targetPropertyName:o}=t;if(!s.portalItem)return;const l=ZW(e),c=yX(r,e,s);if(i!=null&&i.contentAddressed&&c.type!=="json")return void((x=s.messages)==null?void 0:x.push(new B("persistable:contentAddressingUnsupported",`Property "${o}" is trying to serializing a resource with content of type ${c.type} with content addressing. Content addressing is only supported for json resources.`,{content:c})));const d=i!=null&&i.contentAddressed&&c.type==="json"?j6(c.jsonString):(l==null?void 0:l.filename)??xg(),m=Cw((i==null?void 0:i.prefix)??(l==null?void 0:l.prefix),d),v=`${m}.${pk(c)}`;if(i!=null&&i.contentAddressed&&s.resources&&c.type==="json"){const T=s.resources.toKeep.find(({resource:$})=>$.path===v)??s.resources.toAdd.find(({resource:$})=>$.path===v);if(T)return void(n[o]=T.resource.itemRelativeUrl)}const w=s.portalItem.resourceFromPath(v);vg(e)&&s.resources&&s.resources.pendingOperations.push(Tge(e).then(T=>{w.path=`${m}.${pk({type:"blob",blob:T})}`,n[o]=w.itemRelativeUrl}).catch(()=>{}));const _=(i==null?void 0:i.compress)??!1;s.resources&&mX({...t,resource:w,content:c,compress:_,updates:s.resources.toAdd}),n[o]=w.itemRelativeUrl}function YMe(t){const{context:e,targetUrl:i,params:r,value:s,dest:n,targetPropertyName:o}=t;if(!e.portalItem)return;const l=e.portalItem.resourceFromPath(i),c=yX(s,i,e),d=pk(c),m=qW(l.path),v=(r==null?void 0:r.compress)??!1;d===m?(e.resources&&mX({...t,resource:l,content:c,compress:v,updates:e.resources.toUpdate}),n[o]=i):mk(t)}function JMe({context:t,targetUrl:e,dest:i,targetPropertyName:r}){t.portalItem&&t.resources&&(t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(e),compress:!1}),i[r]=e)}function mX({object:t,propertyName:e,updates:i,resource:r,content:s,compress:n}){const o=l=>{XMe(t,e,l)};i.push({resource:r,content:s,compress:n,finish:o})}function yX(t,e,i){return typeof t=="string"?{type:"url",url:e}:{type:"json",jsonString:JSON.stringify(t.toJSON(i))}}function KMe(t){return t==null?null:typeof t=="string"?t:t.url}function XMe(t,e,i){typeof t[e]=="string"?t[e]=i.url:t[e].url=i.url}let dS=class extends rt(ae){constructor(e){super(e),this.color=null}};h([f({type:Ne,json:{type:[ot],write:!0}})],dS.prototype,"color",void 0),dS=h([I("esri.effects.FocusAreaOutline")],dS);const QMe=dS;var pS;let yk=pS=class extends th(ge.ofType(Qt)){constructor(t){super(t)}clone(){return new pS(this.items.map(t=>t.clone()))}write(t,e){return this.toJSON(e)}toJSON(t){var i;const e=(i=t==null?void 0:t.layer)==null?void 0:i.spatialReference;return e?this.toArray().map(r=>{var n;if(!e.equals(r.spatialReference)){if(!ea(r.spatialReference,e))return(n=t==null?void 0:t.messages)==null||n.push(new lo("scenefilter:unsupported","Scene filters with incompatible spatial references are not supported",{modification:this,spatialReference:t.layer.spatialReference,context:t})),null;const o=new Qt;sX(r,o,e),r=o}const s=r.toJSON(t);return delete s.spatialReference,s}).filter(r=>r!=null):this.toArray().map(r=>r.toJSON(t))}static fromJSON(t,e){const i=new pS;return t.forEach(r=>i.add(Qt.fromJSON(r,e))),i}};yk=pS=h([I("esri.layers.support.PolygonCollection")],yk);const g1=yk;let $l=class extends th(nR){constructor(e){super(e),this.id=`focusarea-${xg()}`,this.title=null,this.enabled=!0,this.outline=null,this.geometries=new g1}readGeometries(e,i,r){var s,n;Array.isArray(e)?this.geometries=g1.fromJSON(e,r):r.origin!=="web-scene"&&r.origin!=="portal-item"||((n=(s=r.hooks)==null?void 0:s.onAfterLoad)==null||n.call(s,()=>this._loadGeometries(Mp(e,r),r)))}async _loadGeometries(e,i){const r=await Bt(e,{responseType:"json"});this.geometries=g1.fromJSON(r.data,i)}};h([f({type:String,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}}),f()],$l.prototype,"id",void 0),h([f({type:String,json:{write:!0}})],$l.prototype,"title",void 0),h([f({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],$l.prototype,"enabled",void 0),h([f({type:QMe,json:{write:!0}})],$l.prototype,"outline",void 0),h([f({type:g1,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}},clonable:t=>new g1(t.items.map(e=>e.clone()))}),HMe({origins:["web-scene","portal-item"],type:"resource",prefix:"geometries",contentAddressed:!0})],$l.prototype,"geometries",void 0),h([Ie(["web-scene","portal-item","service"],"geometries")],$l.prototype,"readGeometries",null),$l=h([I("esri.effects.FocusArea")],$l);const e5e=$l;let Cv=class extends th(nR){constructor(e){super(e),this.areas=new ge,this.style="bright"}};h([f({type:ge.ofType(e5e),nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}},clonable:t=>new ge(t.items.map(e=>e.clone()))})],Cv.prototype,"areas",void 0),h([f({type:["bright","dark"],nonNullable:!0,json:{write:!0}})],Cv.prototype,"style",void 0),Cv=h([I("esri.effects.FocusAreas")],Cv);const gX=Cv;function t5e(t){return typeof t=="object"&&t!=null&&"loaded"in t&&t.loaded===!0&&"type"in t}function i5e(t){var e,i;return!(!t5e(t)||!((i=(e=WSe(t))==null?void 0:e.operations)!=null&&i.supportsEditing)||"editingEnabled"in t&&!YSe(t)||GJ(t))}const L5=()=>se.getLogger("esri.support.basemapUtils");function r5e(){return{}}function s5e(t){for(const e in t){const i=t[e];i&&!i.destroyed&&i.destroy(),delete t[e]}}function n5e(t,e){let i;if(typeof t=="string"){const r=t in ck,s=!r&&t.includes("/");if(!r&&!s){if(HA())L5().warn(`Unable to find basemap definition for: ${t}. See available styles at https://developers.arcgis.com/rest/basemap-styles/`);else{const n=Object.entries(ck).filter(([o,l])=>l.classic||l.is3d).map(([o])=>`"${o}"`).sort().join(", ");L5().warn(`Unable to find basemap definition for: ${t}. Try one of these: ${n}`)}return null}e&&(i=e[t]),i||(i=r?y1.fromId(t):new y1({style:{id:t}}),e&&(e[t]=i))}else i=nr(y1,t);return i!=null&&i.destroyed&&(L5().warn("The provided basemap is already destroyed",{basemap:i}),i=null),i}function o5e(t){return new Bo({getCollections:()=>[t.tables,t.layers],getChildrenFunction:e=>{const i=[];return"tables"in e&&i.push(e.tables),"layers"in e&&i.push(e.layers),i},itemFilterFunction:e=>{const i=e.parent;return!!i&&"tables"in i&&i.tables.includes(e)}})}function V5(t){for(const e of t.values())e==null||e.destroy();t.clear()}const bV={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function a5e(t){let e=null;if(typeof t=="string")if(t in bV){const i=bV[t];e=new xx({resourceInfo:{data:{layers:[i]}}})}else se.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${t}. Try "world-elevation"`);else e=nr(xx,t);return e}function gk(t,e,i){let r,s;if(t)for(let n=0,o=t.length;n<o;n++){if(r=t.at(n),(r==null?void 0:r[e])===i)return r;if((r==null?void 0:r.type)==="group"&&(s=gk(r.layers,e,i),s))return s}}const l5e=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.layers=new ge;const s=l=>{l.parent&&l.removeFromParent()},n=l=>{l.parent=this,this.layerAdded(l),l.type!=="elevation"&&l.type!=="base-elevation"||se.getLogger(this).error(`Layer 'title:${l.title}, id:${l.id}' of type '${l.type}' is not supported as an operational layer and will therefore be ignored.`)},o=l=>{l.parent=null,this.layerRemoved(l)};this.addHandles([this.layers.on("before-add",l=>{if(l.item===this)return l.preventDefault(),void se.getLogger(this).error("#add()","Cannot add layer to itself.");s(l.item)}),this.layers.on("after-add",l=>n(l.item)),this.layers.on("after-remove",l=>o(l.item))])}destroy(){const r=this.layers.toArray();for(const s of r)s.destroy();this.layers.destroy()}removeChildLayer(r){var s;this.layers.remove(r),(s=super.removeChildLayer)==null||s.call(this,r)}set layers(r){this._set("layers",Na(r,this._get("layers")))}add(r,s){const n=this.layers;if(s=n.getNextIndex(s),r instanceof Kt){const o=r;o.parent===this?this.reorder(o,s):n.add(o,s)}else Xr(r)?r.then(o=>{this.destroyed||this.add(o,s)}):se.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(r,s){const n=this.layers;let o=n.getNextIndex(s);r.slice().forEach(l=>{l.parent!==this?(n.add(l,o),o+=1):this.reorder(l,o)})}findLayerById(r){return gk(this.layers,"id",r)}findLayerByUid(r){return gk(this.layers,"uid",r)}remove(r){return this.layers.remove(r)}removeMany(r){return this.layers.removeMany(r)}removeAll(){return this.layers.removeAll()}reorder(r,s){return this.layers.reorder(r,s)}layerAdded(r){}layerRemoved(r){}};return h([f()],i.prototype,"layers",null),i=h([I("esri.support.LayersMixin")],i),i},u5e=new Set(["feature","subtype-group"]);function vk(t,e,i){if(t)for(let r=0,s=t.length;r<s;r++){const n=t.at(r);if(n[e]===i)return n;if((n==null?void 0:n.type)==="group"){const o=vk(n.tables,e,i);if(o)return o}}}const c5e=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.tables=new ge,this.addHandles([this.tables.on("after-add",s=>{const n=s.item;n.parent&&n.parent!==this&&n.removeFromParent(),n.parent=this,u5e.has(n.type)||se.getLogger(this).error(`Layer 'title:${n.title}, id:${n.id}' of type '${n.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",s=>{s.item.parent=null})])}destroy(){const r=this.tables.toArray();for(const s of r)s.destroy();this.tables.destroy()}removeChildLayer(r){var s;this.tables.remove(r),(s=super.removeChildLayer)==null||s.call(this,r)}set tables(r){this._set("tables",Na(r,this._get("tables")))}findTableById(r){return vk(this.tables,"id",r)}findTableByUid(r){return vk(this.tables,"uid",r)}};return h([f()],i.prototype,"tables",null),i=h([I("esri.support.TablesMixin")],i),i};let Bn=class extends c5e(l5e(hg)){constructor(e){super(e),this.allLayers=new Bo({getCollections:()=>{var i,r,s,n;return[(i=this.basemap)==null?void 0:i.baseLayers,(r=this.basemap)==null?void 0:r.groundLayers,(s=this.ground)==null?void 0:s.layers,this.layers,(n=this.basemap)==null?void 0:n.referenceLayers]},getChildrenFunction:i=>"layers"in i?i.layers:null}),this.focusAreas=new gX,this.allTables=o5e(this),this.basemap=null,this.editableLayers=new Bo({getCollections:()=>[this.allLayers],itemFilterFunction:i5e}),this.ground=new xx,this._basemapCache=r5e(),this.addHandles(Sn(()=>this.ground,(i,r)=>{(r==null?void 0:r.parent)===this&&(r.parent=null),i.parent=this},{sync:!0}))}destroy(){s5e(this._basemapCache),this._basemapCache=null,this.focusAreas.destroy(),this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=ti(this.basemap),ti(this.ground),this._set("ground",null)}castBasemap(e){return n5e(e,this._basemapCache)}castGround(e){return a5e(e)??this._get("ground")}findLayerById(e){return this.allLayers.find(i=>i.id===e)}findTableById(e){return this.allTables.find(i=>i.id===e)}};h([f({readOnly:!0,dependsOn:[]})],Bn.prototype,"allLayers",void 0),h([f({type:gX,nonNullable:!0,json:{write:{overridePolicy:t=>({enabled:t.areas.length>0,ignoreOrigin:!0})}}})],Bn.prototype,"focusAreas",void 0),h([f({readOnly:!0})],Bn.prototype,"allTables",void 0),h([f({type:y1,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],Bn.prototype,"basemap",void 0),h([Ot("basemap")],Bn.prototype,"castBasemap",null),h([f({readOnly:!0})],Bn.prototype,"editableLayers",void 0),h([f({type:xx,nonNullable:!0})],Bn.prototype,"ground",void 0),h([Ot("ground")],Bn.prototype,"castGround",null),h([f()],Bn.prototype,"undoRedo",void 0),Bn=h([I("esri.Map")],Bn);const vX=Bn;let hd=class extends nR{constructor(e){super(e),this.row=0,this.column=0,this.rows=1,this.columns=1}equals(e){return e!=null&&this.row===e.row&&this.rows===e.rows&&this.column===e.column&&this.columns===e.columns}};h([f({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],hd.prototype,"row",void 0),h([f({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],hd.prototype,"column",void 0),h([f({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],hd.prototype,"rows",void 0),h([f({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],hd.prototype,"columns",void 0),hd=h([I("esri.CameraLayout")],hd);const wX=hd;let WT=class{constructor(e,i){this.min=e,this.max=i,this.range=i-e}normalize(e,i=0,r=!1){return _V(this.range,this.min,this.max,e,i,r)}clamp(e,i=0){return _n(e-i,this.min,this.max)+i}monotonic(e,i,r){return e<i?i:i+wk(this.range,e-i,r)}minimalMonotonic(e,i,r){return _V(this.range,e,e+this.range,i,r)}center(e,i,r){return i=this.monotonic(e,i,r),this.normalize((e+i)/2,r)}diff(e,i,r){return this.monotonic(e,i,r)-e}shortestSignedDiff(e,i){e=this.normalize(e);const r=(i=this.normalize(i))-e,s=i<e?this.minimalMonotonic(e,i)-e:i-this.minimalMonotonic(i,e);return Math.abs(r)<Math.abs(s)?r:s}contains(e,i,r){return i=this.minimalMonotonic(e,i),(r=this.minimalMonotonic(e,r))>e&&r<i}};function _V(t,e,i,r,s=0,n=!1){return(r-=s)<e?r+=wk(t,e-r):r>i&&(r-=wk(t,r-i)),n&&r===i&&(r=e),r+s}function wk(t,e,i=0){return Math.ceil((e-i)/t)*t+i}const MFe=new WT(0,2*Math.PI),EFe=new WT(-Math.PI,Math.PI),h5e=new WT(0,360);let va=class extends rt(ae){constructor(...e){super(...e),this.position=new Re([0,0,0]),this.heading=0,this.tilt=0,this.fov=55,this.layout=new wX}normalizeCtorArgs(e,i,r,s){if(e&&typeof e=="object"&&("x"in e||Array.isArray(e))){const n={position:e};return i!=null&&(n.heading=i),r!=null&&(n.tilt=r),s!=null&&(n.fov=s),n}return e}writePosition(e,i,r,s){const n=e.clone();n.x=ds(e.x||0),n.y=ds(e.y||0),n.z=e.hasZ?ds(e.z||0):e.z,i[r]=n.write({},s)}readPosition(e,i){const r=new Re;return r.read(e,i),r.x=ds(r.x||0),r.y=ds(r.y||0),r.z=r.hasZ?ds(r.z||0):r.z,r}equals(e){return e!=null&&this.tilt===e.tilt&&this.heading===e.heading&&this.fov===e.fov&&this.position.equals(e.position)&&this.layout.equals(e.layout)}};h([f({type:Re,json:{write:{isRequired:!0}}})],va.prototype,"position",void 0),h([_e("position")],va.prototype,"writePosition",null),h([Ie("position")],va.prototype,"readPosition",null),h([f({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Ot(t=>h5e.normalize(ds(t)))],va.prototype,"heading",void 0),h([f({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Ot(t=>_n(ds(t),-180,180))],va.prototype,"tilt",void 0),h([f({type:Number,nonNullable:!0,json:{default:55,write:!0}}),Ot(t=>_n(ds(t,55),1,170))],va.prototype,"fov",void 0),h([f({type:wX,nonNullable:!0,json:{read:!1,write:!1}})],va.prototype,"layout",void 0),va=h([I("esri.Camera")],va);const d5e=va;var bk;let rc=bk=class extends ae{constructor(t){super(t),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(t){return(t%=360)<0&&(t+=360),t}clone(){return new bk({rotation:this.rotation,scale:this.scale,targetGeometry:this.targetGeometry!=null?this.targetGeometry.clone():null,camera:this.camera!=null?this.camera.clone():null})}};h([f({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:F5}}}}})],rc.prototype,"rotation",void 0),h([Ot("rotation")],rc.prototype,"castRotation",null),h([f({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:F5}}}}})],rc.prototype,"scale",void 0),h([f({types:Nw,json:{read:Jc,write:!0,origins:{"web-scene":{read:Jc,write:{overridePolicy:F5}}}}})],rc.prototype,"targetGeometry",void 0),h([f({type:d5e,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],rc.prototype,"camera",void 0),rc=bk=h([I("esri.Viewpoint")],rc);const Ws=rc;function F5(){return{enabled:!this.camera}}let v1=class extends ge{constructor(e){super(e),this.addHandles([this.on("before-add",i=>{i.item==null&&i.preventDefault()}),this.on("after-add",i=>this._own(i.item)),this.on("after-remove",i=>this._release(i.item))])}get owner(){return this._get("owner")}set owner(e){this.destroyed||e!==this._get("owner")&&(this._releaseAll(),this._set("owner",e),this._ownAll())}_ownAll(){for(const e of this.items)this._own(e)}_releaseAll(){for(const e of this.items)this._release(e)}_createNewInstance(e){return this.itemType?new(ge.ofType(this.itemType.Type))(e):new ge(e)}};function _k(t,e){return{type:t,cast:zY,set(i){const r=Na(i,this._get(e),t);r&&!r.destroyed&&(r.owner=this),this._set(e,r)}}}h([f()],v1.prototype,"owner",null),v1=h([I("esri.core.support.OwningCollection")],v1);var Sk,yy;let kr=(yy=class extends ae{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new Sk({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}},Sk=yy,yy);h([f({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],kr.prototype,"cols",void 0),h([f({type:ot,json:{write:!0}})],kr.prototype,"level",void 0),h([f({type:String,json:{write:!0}})],kr.prototype,"levelValue",void 0),h([f({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],kr.prototype,"origin",void 0),h([f({type:Number,json:{write:!0}})],kr.prototype,"resolution",void 0),h([f({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],kr.prototype,"rows",void 0),h([f({type:Number,json:{write:!0}})],kr.prototype,"scale",void 0),kr=Sk=h([I("esri.layers.support.LOD")],kr);let p5e=class bX{constructor(e,i,r,s=Us()){this._level=e,this._row=i,this._col=r,this.extent=s}get id(){return this._id??(this._id=`${this.level}/${this.row}/${this.col}`),this._id}get level(){return this._level}set level(e){this._level=e,this._id=null}get row(){return this._row}set row(e){this._row=e,this._id=null}get col(){return this._col}set col(e){this._col=e,this._id=null}toJSON(){return{level:this._level,row:this._row,col:this._col,extent:this.extent}}static fromJSON(e){return new bX(e.level,e.row,e.col,e.extent)}};var Xf;const SV=new ct({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});var gy;let ns=(gy=class extends ae{static create(e={}){const{resolutionFactor:i=1,scales:r,size:s=256,spatialReference:n=Se.WebMercator,numLODs:o=24}=e;if(!fn(n)){const w=[];if(r)for(let _=0;_<r.length;_++){const x=r[_];w.push(new kr({level:_,scale:x,resolution:x}))}else{let _=5e-4;for(let x=o-1;x>=0;x--)w.unshift(new kr({level:x,scale:_,resolution:_})),_*=2}return new Xf({dpi:96,lods:w,origin:new Re(0,0,n),size:[s,s],spatialReference:n})}const l=vs(n),c=e.origin?new Re({x:e.origin.x,y:e.origin.y,spatialReference:n}):new Re(l?{x:l.origin[0],y:l.origin[1],spatialReference:n}:{x:0,y:0,spatialReference:n}),d=96,m=1/(co(n)*39.37*d),v=[];if(r)for(let w=0;w<r.length;w++){const _=r[w],x=_*m;v.push(new kr({level:w,scale:_,resolution:x}))}else{let w=wg(n)?512/s*5916575275917094e-7:256/s*591657527591555e-6;const _=Math.ceil(o/i);v.push(new kr({level:0,scale:w,resolution:w*m}));for(let x=1;x<_;x++){const T=w/2**i,$=T*m;v.push(new kr({level:x,scale:T,resolution:$})),w=T}}return new Xf({dpi:d,lods:v,origin:c,size:[s,s],spatialReference:n})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:i}=this;if(e&&i){const r=vs(e);return e.isWrappable&&!!r&&Math.abs(r.origin[0]-i.x)<=r.dx}return!1}readOrigin(e,i){return Re.fromJSON({spatialReference:i.spatialReference,...e})}set lods(e){let i=0,r=0;const s=[],n=this._levelToLOD={};e&&(i=-1/0,r=1/0,e.forEach(o=>{s.push(o.scale),i=o.scale>i?o.scale:i,r=o.scale<r?o.scale:r,n[o.level]=o})),this._set("scales",s),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,i){return[i.cols,i.rows]}writeSize(e,i){i.cols=e[0],i.rows=e[1]}zoomToScale(e){const i=this.scales;if(e<=0)return i[0];if(e>=i.length-1)return i[i.length-1];const r=Math.floor(e),s=r+1;return i[r]/(i[r]/i[s])**(e-r)}scaleToZoom(e){const i=this.scales,r=i.length-1;let s=0;for(;s<r;s++){const n=i[s],o=i[s+1];if(n<=e)return s;if(o===e)return s+1;if(n>e&&o<e)return s+Math.log(n/e)/Math.log(n/o)}return s}tileAt(e,i,r,s){const n=this.lodAt(e);if(!n)return null;let o,l;if(typeof i=="number")o=i,l=r;else if(vr(i.spatialReference,this.spatialReference))o=i.x,l=i.y,s=r;else{const m=TT(i,this.spatialReference);if(m==null)return null;o=m.x,l=m.y,s=r}const c=n.resolution*this.size[0],d=n.resolution*this.size[1];return s??(s=new p5e(0,0,0)),s.level=e,s.row=Math.floor((this.origin.y-l)/d+.001),s.col=Math.floor((o-this.origin.x)/c+.001),this.updateTileInfo(s),s}updateTileInfo(e,i=0){if(!("extent"in e))return!1;let r=this.lodAt(e.level);if(!r&&i===1){const l=this.lods[this.lods.length-1];l.level<e.level&&(r=l)}if(!r)return!1;const s=e.level-r.level,n=r.resolution*this.size[0]/2**s,o=r.resolution*this.size[1]/2**s;return e.extent[0]=this.origin.x+e.col*n,e.extent[1]=this.origin.y-(e.row+1)*o,e.extent[2]=e.extent[0]+n,e.extent[3]=e.extent[1]+o,!0}upsampleTile(e){const i=this._upsampleLevels[e.level];return!(!i||i.parentLevel===-1)&&(e.level=i.parentLevel,e.row=Math.floor(e.row/i.factor+.001),e.col=Math.floor(e.col/i.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,i){const r=this.lodAt(i.level);if(r==null)return null;const{resolution:s}=r,n=s*this.size[0],o=s*this.size[1];return e[0]=this.origin.x+i.col*n,e[1]=this.origin.y-(i.row+1)*o,e[2]=e[0]+n,e[3]=e[1]+o,e}lodAt(e){var i;return((i=this._levelToLOD)==null?void 0:i[e])??null}clone(){return Xf.fromJSON(this.write({}))}getCompatibleForVTL(e){if(this.size[0]!==this.size[1]||this.size[0]===256&&e===512)return null;const i=(this.size[0]===512&&e===256?-1:0)+(this.spatialReference.isGeographic?1:0);if(this.size[0]===e&&i===0)return this;const r=[],s=this.lods.length-i;for(let n=0;n<s;n++){const o=n+i,{scale:l,resolution:c}=o>=0?this.lods[o]:{scale:2*this.lods[0].scale,resolution:2*this.lods[0].resolution};r.push(new kr({level:n,scale:l,resolution:c}))}return new Xf({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:r})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let i=null;for(let r=0;r<e.length;r++){const s=e[r];this._upsampleLevels[s.level]={parentLevel:i?i.level:-1,factor:i?i.resolution/s.resolution:0},i=s}}},Xf=gy,gy);h([f({type:Number,json:{write:!0}})],ns.prototype,"compressionQuality",void 0),h([f({type:Number,json:{write:!0}})],ns.prototype,"dpi",void 0),h([f({type:String,json:{read:SV.read,write:SV.write,origins:{"web-scene":{read:!1,write:!1}}}})],ns.prototype,"format",void 0),h([f({readOnly:!0})],ns.prototype,"isWrappable",null),h([f({type:Re,json:{write:!0}})],ns.prototype,"origin",void 0),h([Ie("origin")],ns.prototype,"readOrigin",null),h([f({type:[kr],value:null,json:{write:!0}})],ns.prototype,"lods",null),h([f({readOnly:!0})],ns.prototype,"scales",void 0),h([f({cast:t=>Array.isArray(t)?t:typeof t=="number"?[t,t]:[256,256]})],ns.prototype,"size",void 0),h([Ie("size",["rows","cols"])],ns.prototype,"readSize",null),h([_e("size",{cols:{type:ot},rows:{type:ot}})],ns.prototype,"writeSize",null),h([f({type:Se,json:{write:!0}})],ns.prototype,"spatialReference",void 0),ns=Xf=h([I("esri.layers.support.TileInfo")],ns);let Wy=class extends v1{constructor(e){super(e),this.addHandles(this.on("before-add",i=>{i.item!=null&&i.item.parent===this.owner&&(se.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),i.preventDefault())}))}_own(e){e.parent=this.owner}_release(e){e.parent=null}};Wy=h([I("esri.support.AnalysesCollection")],Wy);const fS={widthBreakpoint:{getValue(t){const e=t.viewSize[0],i=t.breakpoints,r=this.values;return e<=i.xsmall?r.xsmall:e<=i.small?r.small:e<=i.medium?r.medium:e<=i.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(t){const e=t.viewSize[1],i=t.breakpoints,r=this.values;return e<=i.xsmall?r.xsmall:e<=i.small?r.small:e<=i.medium?r.medium:e<=i.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(t){const e=t.viewSize,i=e[0],r=e[1],s=this.values;return r>=i?s.portrait:s.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},z5={xsmall:544,small:768,medium:992,large:1200};function f5e(t){const e=t;return e&&e.xsmall<e.small&&e.small<e.medium&&e.medium<e.large}function U5(t,e){return e?fS[t].valueToClassName[e].split(" "):[]}const m5e=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=z5}initialize(){this.addHandles(Le(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),Qr))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(r){if(r!==this._get("breakpoints")){if(!f5e(r)){const s=JSON.stringify(z5,null,2);console.warn("provided breakpoints are not valid, using defaults:"+s),r=z5}this._set("breakpoints",{...r})}}_updateClassNames(){if(!this.container)return;const r=hs.acquire(),s=hs.acquire();let n,o=!1;for(n in fS){const l=this[n],c=fS[n].getValue({viewSize:this.size,breakpoints:this.breakpoints});l!==c&&(o=!0,this[n]=c,U5(n,l).forEach(d=>s.push(d)),U5(n,c).forEach(d=>r.push(d)))}o&&(this._applyClassNameChanges(r,s),hs.release(r),hs.release(s))}_applyClassNameChanges(r,s){const n=this.container;n&&(s.forEach(o=>n.classList.remove(o)),r.forEach(o=>n.classList.add(o)))}_removeActiveClassNames(){const r=this.container;if(!r)return;let s;for(s in fS)U5(s,this[s]).forEach(n=>r.classList.remove(n))}};return h([f()],i.prototype,"breakpoints",null),h([f()],i.prototype,"orientation",void 0),h([f()],i.prototype,"widthBreakpoint",void 0),h([f()],i.prototype,"heightBreakpoint",void 0),i=h([I("esri.views.BreakpointsOwner")],i),i};function z6(t){return typeof t=="string"?document.getElementById(t):t??null}function xV(t,e){for(;;){const i=t.firstChild;if(!i)break;e.appendChild(i)}}let Yd=class extends $e{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(e,i,r={}){return this._installWatch(e,i,r,Le)}addWhen(e,i,r={}){return this._installWatch(e,i,r,Sn)}addOnCollectionChange(e,i,{initial:r=!1,final:s=!1}={}){const n=++this._handleId;return this.addHandles([mp(e,"after-changes",this._createSyncUpdatingCallback(),Fa),mp(e,"change",i,{onListenerAdd:r?o=>i({added:o.toArray(),removed:[]}):void 0,onListenerRemove:s?o=>i({added:[],removed:o.toArray()}):void 0})],n),at(()=>this.removeHandles(n))}addPromise(e){if(e==null)return e;const i=++this._handleId;this.addHandles(at(()=>{this._pendingPromises.delete(e)&&(this._pendingPromises.size!==0||this.hasHandles(B_)||this._set("updating",!1))}),i),this._pendingPromises.add(e),this._set("updating",!0);const r=()=>this.removeHandles(i);return e.then(r,r),e}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(e,i,r={},s){const n=++this._handleId;r.sync||this._installSyncUpdatingWatch(e,n);const o=s(e,i,r);return this.addHandles(o,n),at(()=>this.removeHandles(n))}_installSyncUpdatingWatch(e,i){const r=this._createSyncUpdatingCallback(),s=Le(e,r,{sync:!0,equals:()=>!1});return this.addHandles(s,i),s}_createSyncUpdatingCallback(){return()=>{this.removeHandles(B_),++this._scheduleHandleId;const e=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles(lg(()=>{e===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(B_))}),B_)}}};h([f({readOnly:!0})],Yd.prototype,"updating",void 0),Yd=h([I("esri.core.support.UpdatingHandles")],Yd);const B_=-42;/*!
 * @esri/arcgis-html-sanitizer - v4.1.0 - Tue Dec 03 2024 09:13:28 GMT-0500 (Eastern Standard Time)
 * Copyright (c) 2024 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2018 Zongmin Lei() <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Tx=function(){return Tx=Object.assign||function(e){for(var i,r=1,s=arguments.length;r<s;r++){i=arguments[r];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Tx.apply(this,arguments)},xk={exports:{}},di={},Tk={exports:{}},Op={};function _X(){var t={};return t["align-content"]=!1,t["align-items"]=!1,t["align-self"]=!1,t["alignment-adjust"]=!1,t["alignment-baseline"]=!1,t.all=!1,t["anchor-point"]=!1,t.animation=!1,t["animation-delay"]=!1,t["animation-direction"]=!1,t["animation-duration"]=!1,t["animation-fill-mode"]=!1,t["animation-iteration-count"]=!1,t["animation-name"]=!1,t["animation-play-state"]=!1,t["animation-timing-function"]=!1,t.azimuth=!1,t["backface-visibility"]=!1,t.background=!0,t["background-attachment"]=!0,t["background-clip"]=!0,t["background-color"]=!0,t["background-image"]=!0,t["background-origin"]=!0,t["background-position"]=!0,t["background-repeat"]=!0,t["background-size"]=!0,t["baseline-shift"]=!1,t.binding=!1,t.bleed=!1,t["bookmark-label"]=!1,t["bookmark-level"]=!1,t["bookmark-state"]=!1,t.border=!0,t["border-bottom"]=!0,t["border-bottom-color"]=!0,t["border-bottom-left-radius"]=!0,t["border-bottom-right-radius"]=!0,t["border-bottom-style"]=!0,t["border-bottom-width"]=!0,t["border-collapse"]=!0,t["border-color"]=!0,t["border-image"]=!0,t["border-image-outset"]=!0,t["border-image-repeat"]=!0,t["border-image-slice"]=!0,t["border-image-source"]=!0,t["border-image-width"]=!0,t["border-left"]=!0,t["border-left-color"]=!0,t["border-left-style"]=!0,t["border-left-width"]=!0,t["border-radius"]=!0,t["border-right"]=!0,t["border-right-color"]=!0,t["border-right-style"]=!0,t["border-right-width"]=!0,t["border-spacing"]=!0,t["border-style"]=!0,t["border-top"]=!0,t["border-top-color"]=!0,t["border-top-left-radius"]=!0,t["border-top-right-radius"]=!0,t["border-top-style"]=!0,t["border-top-width"]=!0,t["border-width"]=!0,t.bottom=!1,t["box-decoration-break"]=!0,t["box-shadow"]=!0,t["box-sizing"]=!0,t["box-snap"]=!0,t["box-suppress"]=!0,t["break-after"]=!0,t["break-before"]=!0,t["break-inside"]=!0,t["caption-side"]=!1,t.chains=!1,t.clear=!0,t.clip=!1,t["clip-path"]=!1,t["clip-rule"]=!1,t.color=!0,t["color-interpolation-filters"]=!0,t["column-count"]=!1,t["column-fill"]=!1,t["column-gap"]=!1,t["column-rule"]=!1,t["column-rule-color"]=!1,t["column-rule-style"]=!1,t["column-rule-width"]=!1,t["column-span"]=!1,t["column-width"]=!1,t.columns=!1,t.contain=!1,t.content=!1,t["counter-increment"]=!1,t["counter-reset"]=!1,t["counter-set"]=!1,t.crop=!1,t.cue=!1,t["cue-after"]=!1,t["cue-before"]=!1,t.cursor=!1,t.direction=!1,t.display=!0,t["display-inside"]=!0,t["display-list"]=!0,t["display-outside"]=!0,t["dominant-baseline"]=!1,t.elevation=!1,t["empty-cells"]=!1,t.filter=!1,t.flex=!1,t["flex-basis"]=!1,t["flex-direction"]=!1,t["flex-flow"]=!1,t["flex-grow"]=!1,t["flex-shrink"]=!1,t["flex-wrap"]=!1,t.float=!1,t["float-offset"]=!1,t["flood-color"]=!1,t["flood-opacity"]=!1,t["flow-from"]=!1,t["flow-into"]=!1,t.font=!0,t["font-family"]=!0,t["font-feature-settings"]=!0,t["font-kerning"]=!0,t["font-language-override"]=!0,t["font-size"]=!0,t["font-size-adjust"]=!0,t["font-stretch"]=!0,t["font-style"]=!0,t["font-synthesis"]=!0,t["font-variant"]=!0,t["font-variant-alternates"]=!0,t["font-variant-caps"]=!0,t["font-variant-east-asian"]=!0,t["font-variant-ligatures"]=!0,t["font-variant-numeric"]=!0,t["font-variant-position"]=!0,t["font-weight"]=!0,t.grid=!1,t["grid-area"]=!1,t["grid-auto-columns"]=!1,t["grid-auto-flow"]=!1,t["grid-auto-rows"]=!1,t["grid-column"]=!1,t["grid-column-end"]=!1,t["grid-column-start"]=!1,t["grid-row"]=!1,t["grid-row-end"]=!1,t["grid-row-start"]=!1,t["grid-template"]=!1,t["grid-template-areas"]=!1,t["grid-template-columns"]=!1,t["grid-template-rows"]=!1,t["hanging-punctuation"]=!1,t.height=!0,t.hyphens=!1,t.icon=!1,t["image-orientation"]=!1,t["image-resolution"]=!1,t["ime-mode"]=!1,t["initial-letters"]=!1,t["inline-box-align"]=!1,t["justify-content"]=!1,t["justify-items"]=!1,t["justify-self"]=!1,t.left=!1,t["letter-spacing"]=!0,t["lighting-color"]=!0,t["line-box-contain"]=!1,t["line-break"]=!1,t["line-grid"]=!1,t["line-height"]=!1,t["line-snap"]=!1,t["line-stacking"]=!1,t["line-stacking-ruby"]=!1,t["line-stacking-shift"]=!1,t["line-stacking-strategy"]=!1,t["list-style"]=!0,t["list-style-image"]=!0,t["list-style-position"]=!0,t["list-style-type"]=!0,t.margin=!0,t["margin-bottom"]=!0,t["margin-left"]=!0,t["margin-right"]=!0,t["margin-top"]=!0,t["marker-offset"]=!1,t["marker-side"]=!1,t.marks=!1,t.mask=!1,t["mask-box"]=!1,t["mask-box-outset"]=!1,t["mask-box-repeat"]=!1,t["mask-box-slice"]=!1,t["mask-box-source"]=!1,t["mask-box-width"]=!1,t["mask-clip"]=!1,t["mask-image"]=!1,t["mask-origin"]=!1,t["mask-position"]=!1,t["mask-repeat"]=!1,t["mask-size"]=!1,t["mask-source-type"]=!1,t["mask-type"]=!1,t["max-height"]=!0,t["max-lines"]=!1,t["max-width"]=!0,t["min-height"]=!0,t["min-width"]=!0,t["move-to"]=!1,t["nav-down"]=!1,t["nav-index"]=!1,t["nav-left"]=!1,t["nav-right"]=!1,t["nav-up"]=!1,t["object-fit"]=!1,t["object-position"]=!1,t.opacity=!1,t.order=!1,t.orphans=!1,t.outline=!1,t["outline-color"]=!1,t["outline-offset"]=!1,t["outline-style"]=!1,t["outline-width"]=!1,t.overflow=!1,t["overflow-wrap"]=!1,t["overflow-x"]=!1,t["overflow-y"]=!1,t.padding=!0,t["padding-bottom"]=!0,t["padding-left"]=!0,t["padding-right"]=!0,t["padding-top"]=!0,t.page=!1,t["page-break-after"]=!1,t["page-break-before"]=!1,t["page-break-inside"]=!1,t["page-policy"]=!1,t.pause=!1,t["pause-after"]=!1,t["pause-before"]=!1,t.perspective=!1,t["perspective-origin"]=!1,t.pitch=!1,t["pitch-range"]=!1,t["play-during"]=!1,t.position=!1,t["presentation-level"]=!1,t.quotes=!1,t["region-fragment"]=!1,t.resize=!1,t.rest=!1,t["rest-after"]=!1,t["rest-before"]=!1,t.richness=!1,t.right=!1,t.rotation=!1,t["rotation-point"]=!1,t["ruby-align"]=!1,t["ruby-merge"]=!1,t["ruby-position"]=!1,t["shape-image-threshold"]=!1,t["shape-outside"]=!1,t["shape-margin"]=!1,t.size=!1,t.speak=!1,t["speak-as"]=!1,t["speak-header"]=!1,t["speak-numeral"]=!1,t["speak-punctuation"]=!1,t["speech-rate"]=!1,t.stress=!1,t["string-set"]=!1,t["tab-size"]=!1,t["table-layout"]=!1,t["text-align"]=!0,t["text-align-last"]=!0,t["text-combine-upright"]=!0,t["text-decoration"]=!0,t["text-decoration-color"]=!0,t["text-decoration-line"]=!0,t["text-decoration-skip"]=!0,t["text-decoration-style"]=!0,t["text-emphasis"]=!0,t["text-emphasis-color"]=!0,t["text-emphasis-position"]=!0,t["text-emphasis-style"]=!0,t["text-height"]=!0,t["text-indent"]=!0,t["text-justify"]=!0,t["text-orientation"]=!0,t["text-overflow"]=!0,t["text-shadow"]=!0,t["text-space-collapse"]=!0,t["text-transform"]=!0,t["text-underline-position"]=!0,t["text-wrap"]=!0,t.top=!1,t.transform=!1,t["transform-origin"]=!1,t["transform-style"]=!1,t.transition=!1,t["transition-delay"]=!1,t["transition-duration"]=!1,t["transition-property"]=!1,t["transition-timing-function"]=!1,t["unicode-bidi"]=!1,t["vertical-align"]=!1,t.visibility=!1,t["voice-balance"]=!1,t["voice-duration"]=!1,t["voice-family"]=!1,t["voice-pitch"]=!1,t["voice-range"]=!1,t["voice-rate"]=!1,t["voice-stress"]=!1,t["voice-volume"]=!1,t.volume=!1,t["white-space"]=!1,t.widows=!1,t.width=!0,t["will-change"]=!1,t["word-break"]=!0,t["word-spacing"]=!0,t["word-wrap"]=!0,t["wrap-flow"]=!1,t["wrap-through"]=!1,t["writing-mode"]=!1,t["z-index"]=!1,t}function y5e(t,e,i){}function g5e(t,e,i){}var v5e=/javascript\s*\:/img;function w5e(t,e){return v5e.test(e)?"":e}Op.whiteList=_X();Op.getDefaultWhiteList=_X;Op.onAttr=y5e;Op.onIgnoreAttr=g5e;Op.safeAttrValue=w5e;var b5e={indexOf:function(t,e){var i,r;if(Array.prototype.indexOf)return t.indexOf(e);for(i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1},forEach:function(t,e,i){var r,s;if(Array.prototype.forEach)return t.forEach(e,i);for(r=0,s=t.length;r<s;r++)e.call(i,t[r],r,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(t){return String.prototype.trimRight?t.trimRight():t.replace(/(\s*$)/g,"")}},U0=b5e;function _5e(t,e){t=U0.trimRight(t),t[t.length-1]!==";"&&(t+=";");var i=t.length,r=!1,s=0,n=0,o="";function l(){if(!r){var m=U0.trim(t.slice(s,n)),v=m.indexOf(":");if(v!==-1){var w=U0.trim(m.slice(0,v)),_=U0.trim(m.slice(v+1));if(w){var x=e(s,o.length,w,_,m);x&&(o+=x+"; ")}}}s=n+1}for(;n<i;n++){var c=t[n];if(c==="/"&&t[n+1]==="*"){var d=t.indexOf("*/",n+2);if(d===-1)break;n=d+1,s=n+1,r=!1}else c==="("?r=!0:c===")"?r=!1:c===";"?r||l():c===`
`&&l()}return U0.trim(o)}var S5e=_5e,G_=Op,x5e=S5e;function TV(t){return t==null}function T5e(t){var e={};for(var i in t)e[i]=t[i];return e}function SX(t){t=T5e(t||{}),t.whiteList=t.whiteList||G_.whiteList,t.onAttr=t.onAttr||G_.onAttr,t.onIgnoreAttr=t.onIgnoreAttr||G_.onIgnoreAttr,t.safeAttrValue=t.safeAttrValue||G_.safeAttrValue,this.options=t}SX.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,i=e.options,r=i.whiteList,s=i.onAttr,n=i.onIgnoreAttr,o=i.safeAttrValue,l=x5e(t,function(c,d,m,v,w){var _=r[m],x=!1;if(_===!0?x=_:typeof _=="function"?x=_(v):_ instanceof RegExp&&(x=_.test(v)),x!==!0&&(x=!1),v=o(m,v),!!v){var T={position:d,sourcePosition:c,source:w,isWhite:x};if(x){var $=s(m,v,T);return TV($)?m+":"+v:$}else{var $=n(m,v,T);if(!TV($))return $}}});return l};var $5e=SX;(function(t,e){var i=Op,r=$5e;function s(o,l){var c=new r(l);return c.process(o)}e=t.exports=s,e.FilterCSS=r;for(var n in i)e[n]=i[n]})(Tk,Tk.exports);var U6=Tk.exports,q6={indexOf:function(t,e){var i,r;if(Array.prototype.indexOf)return t.indexOf(e);for(i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1},forEach:function(t,e,i){var r,s;if(Array.prototype.forEach)return t.forEach(e,i);for(r=0,s=t.length;r<s;r++)e.call(i,t[r],r,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(t){var e=/\s|\n|\t/,i=e.exec(t);return i?i.index:-1}},M5e=U6.FilterCSS,E5e=U6.getDefaultWhiteList,$x=q6;function xX(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var TX=new M5e;function A5e(t,e,i){}function O5e(t,e,i){}function k5e(t,e,i){}function C5e(t,e,i){}function $X(t){return t.replace(I5e,"&lt;").replace(P5e,"&gt;")}function R5e(t,e,i,r){if(i=CX(i),e==="href"||e==="src"){if(i=$x.trim(i),i==="#")return"#";if(!(i.substr(0,7)==="http://"||i.substr(0,8)==="https://"||i.substr(0,7)==="mailto:"||i.substr(0,4)==="tel:"||i.substr(0,11)==="data:image/"||i.substr(0,6)==="ftp://"||i.substr(0,2)==="./"||i.substr(0,3)==="../"||i[0]==="#"||i[0]==="/"))return""}else if(e==="background"){if(H_.lastIndex=0,H_.test(i))return""}else if(e==="style"){if($V.lastIndex=0,$V.test(i)||(MV.lastIndex=0,MV.test(i)&&(H_.lastIndex=0,H_.test(i))))return"";r!==!1&&(r=r||TX,i=r.process(i))}return i=RX(i),i}var I5e=/</g,P5e=/>/g,j5e=/"/g,N5e=/&quot;/g,D5e=/&#([a-zA-Z0-9]*);?/gim,L5e=/&colon;?/gim,V5e=/&newline;?/gim,H_=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,$V=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,MV=/u\s*r\s*l\s*\(.*/gi;function MX(t){return t.replace(j5e,"&quot;")}function EX(t){return t.replace(N5e,'"')}function AX(t){return t.replace(D5e,function(i,r){return r[0]==="x"||r[0]==="X"?String.fromCharCode(parseInt(r.substr(1),16)):String.fromCharCode(parseInt(r,10))})}function OX(t){return t.replace(L5e,":").replace(V5e," ")}function kX(t){for(var e="",i=0,r=t.length;i<r;i++)e+=t.charCodeAt(i)<32?" ":t.charAt(i);return $x.trim(e)}function CX(t){return t=EX(t),t=AX(t),t=OX(t),t=kX(t),t}function RX(t){return t=MX(t),t=$X(t),t}function F5e(){return""}function z5e(t,e){typeof e!="function"&&(e=function(){});var i=!Array.isArray(t);function r(o){return i?!0:$x.indexOf(t,o)!==-1}var s=[],n=!1;return{onIgnoreTag:function(o,l,c){if(r(o))if(c.isClosing){var d="[/removed]",m=c.position+d.length;return s.push([n!==!1?n:c.position,m]),n=!1,d}else return n||(n=c.position),"[removed]";else return e(o,l,c)},remove:function(o){var l="",c=0;return $x.forEach(s,function(d){l+=o.slice(c,d[0]),c=d[1]}),l+=o.slice(c),l}}}function U5e(t){for(var e="",i=0;i<t.length;){var r=t.indexOf("<!--",i);if(r===-1){e+=t.slice(i);break}e+=t.slice(i,r);var s=t.indexOf("-->",r);if(s===-1)break;i=s+3}return e}function q5e(t){var e=t.split("");return e=e.filter(function(i){var r=i.charCodeAt(0);return r===127?!1:r<=31?r===10||r===13:!0}),e.join("")}di.whiteList=xX();di.getDefaultWhiteList=xX;di.onTag=A5e;di.onIgnoreTag=O5e;di.onTagAttr=k5e;di.onIgnoreTagAttr=C5e;di.safeAttrValue=R5e;di.escapeHtml=$X;di.escapeQuote=MX;di.unescapeQuote=EX;di.escapeHtmlEntities=AX;di.escapeDangerHtml5Entities=OX;di.clearNonPrintableCharacter=kX;di.friendlyAttrValue=CX;di.escapeAttrValue=RX;di.onIgnoreTagStripAll=F5e;di.StripTagBody=z5e;di.stripCommentTag=U5e;di.stripBlankChar=q5e;di.cssFilter=TX;di.getDefaultCSSWhiteList=E5e;var ZT={},yc=q6;function B5e(t){var e=yc.spaceIndex(t),i;return e===-1?i=t.slice(1,-1):i=t.slice(1,e+1),i=yc.trim(i).toLowerCase(),i.slice(0,1)==="/"&&(i=i.slice(1)),i.slice(-1)==="/"&&(i=i.slice(0,-1)),i}function G5e(t){return t.slice(0,2)==="</"}function H5e(t,e,i){var r="",s=0,n=!1,o=!1,l=0,c=t.length,d="",m="";e:for(l=0;l<c;l++){var v=t.charAt(l);if(n===!1){if(v==="<"){n=l;continue}}else if(o===!1){if(v==="<"){r+=i(t.slice(s,l)),n=l,s=l;continue}if(v===">"){r+=i(t.slice(s,n)),m=t.slice(n,l+1),d=B5e(m),r+=e(n,r.length,d,m,G5e(m)),s=l+1,n=!1;continue}if(v==='"'||v==="'")for(var w=1,_=t.charAt(l-w);_.trim()===""||_==="=";){if(_==="="){o=v;continue e}_=t.charAt(l-++w)}}else if(v===o){o=!1;continue}}return s<t.length&&(r+=i(t.substr(s))),r}var W5e=/[^a-zA-Z0-9\\_:.-]/gim;function Z5e(t,e){var i=0,r=0,s=[],n=!1,o=t.length;function l(w,_){if(w=yc.trim(w),w=w.replace(W5e,"").toLowerCase(),!(w.length<1)){var x=e(w,_||"");x&&s.push(x)}}for(var c=0;c<o;c++){var d=t.charAt(c),m,v;if(n===!1&&d==="="){n=t.slice(i,c),i=c+1,r=t.charAt(i)==='"'||t.charAt(i)==="'"?i:J5e(t,c+1);continue}if(n!==!1&&c===r){if(v=t.indexOf(d,c+1),v===-1)break;m=yc.trim(t.slice(r+1,v)),l(n,m),n=!1,c=v,i=c+1;continue}if(/\s|\n|\t/.test(d))if(t=t.replace(/\s|\n|\t/g," "),n===!1)if(v=Y5e(t,c),v===-1){m=yc.trim(t.slice(i,c)),l(m),n=!1,i=c+1;continue}else{c=v-1;continue}else if(v=K5e(t,c-1),v===-1){m=yc.trim(t.slice(i,c)),m=EV(m),l(n,m),n=!1,i=c+1;continue}else continue}return i<t.length&&(n===!1?l(t.slice(i)):l(n,EV(yc.trim(t.slice(i))))),yc.trim(s.join(" "))}function Y5e(t,e){for(;e<t.length;e++){var i=t[e];if(i!==" ")return i==="="?e:-1}}function J5e(t,e){for(;e<t.length;e++){var i=t[e];if(i!==" ")return i==="'"||i==='"'?e:-1}}function K5e(t,e){for(;e>0;e--){var i=t[e];if(i!==" ")return i==="="?e:-1}}function X5e(t){return t[0]==='"'&&t[t.length-1]==='"'||t[0]==="'"&&t[t.length-1]==="'"}function EV(t){return X5e(t)?t.substr(1,t.length-2):t}ZT.parseTag=H5e;ZT.parseAttr=Z5e;var Q5e=U6.FilterCSS,jo=di,IX=ZT,eEe=IX.parseTag,tEe=IX.parseAttr,mS=q6;function W_(t){return t==null}function iEe(t){var e=mS.spaceIndex(t);if(e===-1)return{html:"",closing:t[t.length-2]==="/"};t=mS.trim(t.slice(e+1,-1));var i=t[t.length-1]==="/";return i&&(t=mS.trim(t.slice(0,-1))),{html:t,closing:i}}function rEe(t){var e={};for(var i in t)e[i]=t[i];return e}function sEe(t){var e={};for(var i in t)Array.isArray(t[i])?e[i.toLowerCase()]=t[i].map(function(r){return r.toLowerCase()}):e[i.toLowerCase()]=t[i];return e}function PX(t){t=rEe(t||{}),t.stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=jo.onIgnoreTagStripAll),t.whiteList||t.allowList?t.whiteList=sEe(t.whiteList||t.allowList):t.whiteList=jo.whiteList,t.onTag=t.onTag||jo.onTag,t.onTagAttr=t.onTagAttr||jo.onTagAttr,t.onIgnoreTag=t.onIgnoreTag||jo.onIgnoreTag,t.onIgnoreTagAttr=t.onIgnoreTagAttr||jo.onIgnoreTagAttr,t.safeAttrValue=t.safeAttrValue||jo.safeAttrValue,t.escapeHtml=t.escapeHtml||jo.escapeHtml,this.options=t,t.css===!1?this.cssFilter=!1:(t.css=t.css||{},this.cssFilter=new Q5e(t.css))}PX.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,i=e.options,r=i.whiteList,s=i.onTag,n=i.onIgnoreTag,o=i.onTagAttr,l=i.onIgnoreTagAttr,c=i.safeAttrValue,d=i.escapeHtml,m=e.cssFilter;i.stripBlankChar&&(t=jo.stripBlankChar(t)),i.allowCommentTag||(t=jo.stripCommentTag(t));var v=!1;i.stripIgnoreTagBody&&(v=jo.StripTagBody(i.stripIgnoreTagBody,n),n=v.onIgnoreTag);var w=eEe(t,function(_,x,T,$,O){var C={sourcePosition:_,position:x,isClosing:O,isWhite:Object.prototype.hasOwnProperty.call(r,T)},R=s(T,$,C);if(!W_(R))return R;if(C.isWhite){if(C.isClosing)return"</"+T+">";var N=iEe($),j=r[T],z=tEe(N.html,function(ee,Q){var J=mS.indexOf(j,ee)!==-1,te=o(T,ee,Q,J);return W_(te)?J?(Q=c(T,ee,Q,m),Q?ee+'="'+Q+'"':ee):(te=l(T,ee,Q,J),W_(te)?void 0:te):te});return $="<"+T,z&&($+=" "+z),N.closing&&($+=" /"),$+=">",$}else return R=n(T,$,C),W_(R)?d($):R},d);return v&&(w=v.remove(w)),w};var nEe=PX;(function(t,e){var i=di,r=ZT,s=nEe;function n(l,c){var d=new s(c);return d.process(l)}e=t.exports=n,e.filterXSS=n,e.FilterXSS=s,function(){for(var l in i)e[l]=i[l];for(var c in r)e[c]=r[c]}();function o(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}o()&&(self.filterXSS=t.exports)})(xk,xk.exports);var Af=xk.exports,oEe=function(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},jX=function(){function t(e,i){var r=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],del:["style"],details:["open","style"],div:["align","aria-hidden","aria-label","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["aria-hidden","aria-label","style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=Tx(Tx({},Af.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(n,o,l,c){return n==="a"&&o==="href"||(n==="img"||n==="source")&&o==="src"?r.sanitizeUrl(l):Af.safeAttrValue(n,o,l,c)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"};var s;e&&!i?s=e:e&&i?(s=Object.create(this.arcgisFilterOptions),s.css={whiteList:this.arcgisCSSWhiteList},Object.keys(e).forEach(function(n){if(n==="whiteList")s.whiteList=r._extendObjectOfArrays([r.arcgisWhiteList,e.whiteList||{}]);else if(n==="css"){var o=e.css.whiteList;o!=null&&e.css instanceof Object&&Object.keys(o).forEach(function(l){return s.css.whiteList[l]=o[l]})}else s[n]=e[n]})):(s=Object.create(this.arcgisFilterOptions),s.whiteList=this.arcgisWhiteList,s.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=s,this._xssFilter=new Af.FilterXSS(s)}return t.prototype.sanitize=function(e,i){switch(i===void 0&&(i={}),typeof e){case"number":return isNaN(e)||!isFinite(e)?null:e;case"boolean":return e;case"string":return this._xssFilter.process(e);case"object":return this._iterateOverObject(e,i);default:return i.allowUndefined&&typeof e>"u"?void 0:null}},t.prototype.sanitizeUrl=function(e,i){var r=(i??{}).isProtocolRequired,s=r===void 0?!0:r,n=this._trim(e.substring(0,e.indexOf(":"))),o=e==="/",l=/^#/.test(e),c=n&&this.allowedProtocols.indexOf(n.toLowerCase())>-1;return o||l||c?Af.escapeAttrValue(e):!n&&!s?Af.escapeAttrValue("https://".concat(e)):""},t.prototype.sanitizeHTMLAttribute=function(e,i,r,s){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(e,i,r,s):Af.safeAttrValue(e,i,r,s)},t.prototype.validate=function(e,i){i===void 0&&(i={});var r=this.sanitize(e,i);return{isValid:e===r,sanitized:r}},t.prototype.encodeHTML=function(e){var i=this;return String(e).replace(/[&<>"'\/]/g,function(r){return i._entityMap[r]})},t.prototype.encodeAttrValue=function(e){var i=/^[a-zA-Z0-9]$/;return String(e).replace(/[\x00-\xFF]/g,function(r,s){return i.test(r)?r:"&#x".concat(Number(e.charCodeAt(s)).toString(16),";")})},t.prototype._extendObjectOfArrays=function(e){var i={};return e.forEach(function(r){Object.keys(r).forEach(function(s){Array.isArray(r[s])&&Array.isArray(i[s])?i[s]=i[s].concat(r[s]):i[s]=r[s]})}),i},t.prototype._iterateOverObject=function(e,i){var r=this;i===void 0&&(i={});try{var s=!1,n=void 0;if(Array.isArray(e))n=e.reduce(function(l,c){var d=r.validate(c,i);return d.isValid?l.concat([c]):(s=!0,l.concat([d.sanitized]))},[]);else if(oEe(e)){var o=Object.keys(e);n=o.reduce(function(l,c){var d=e[c],m=r.validate(d,i);return m.isValid?l[c]=d:(s=!0,l[c]=m.sanitized),l},{})}else return i.allowUndefined&&typeof e>"u"?void 0:null;return s?n:e}catch{return null}},t.prototype._trim=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},t}();const aEe=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],lEe=aEe.reduce((t,e)=>(t[e]=[],t),{}),uEe=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],NX=new jX({whiteList:lEe,onTagAttr:(t,e,i)=>{const r=`${e}="${i}"`;if(uEe.includes(e))return r},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0),RFe=new jX({whiteList:{br:[]},stripIgnoreTag:!0,escapeHtml:t=>t},!1),DX="http://www.w3.org/",YT=`${DX}2000/svg`,LX=`${DX}1999/xlink`;let AV=[],B6=(t,e)=>{let i={};return Object.keys(t).forEach(r=>{i[r]=t[r]}),e&&Object.keys(e).forEach(r=>{i[r]=e[r]}),i},G6=(t,e)=>t.vnodeSelector===e.vnodeSelector&&(t.properties&&e.properties?t.properties.key===e.properties.key&&t.properties.bind===e.properties.bind:!t.properties&&!e.properties),VX=t=>{if(typeof t!="string")throw new Error("Style values must be strings")},cEe=(t,e,i)=>{if(e.vnodeSelector!==""){for(let r=i;r<t.length;r++)if(G6(t[r],e))return r}return-1},q5=(t,e,i,r)=>{let s=t[e];if(s.vnodeSelector==="")return;let n=s.properties;if(!(n&&(n.key===void 0?n.bind:n.key))){for(let o=0;o<t.length;o++)if(o!==e){let l=t[o];if(G6(l,s))throw new Error(`${i.vnodeSelector} had a ${s.vnodeSelector} child ${r==="added"?r:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},hEe=t=>{if(t.properties){let e=t.properties.enterAnimation;e&&e(t.domNode,t.properties)}},$k=[],Mk=!1,FX=t=>{(t.children||[]).forEach(FX),t.properties&&t.properties.afterRemoved&&t.properties.afterRemoved.apply(t.properties.bind||t.properties,[t.domNode])},OV=()=>{Mk=!1,$k.forEach(FX),$k.length=0},kV=t=>{$k.push(t),Mk||(Mk=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(OV,{timeout:16}):setTimeout(OV,16))},CV=t=>{let e=t.domNode;if(t.properties){let i=t.properties.exitAnimation;if(i)return e.style.pointerEvents="none",void i(e,()=>{e.parentNode&&(e.parentNode.removeChild(e),kV(t))},t.properties)}e.parentNode&&(e.parentNode.removeChild(e),kV(t))},dEe=(t,e,i)=>{if(!e)return;let r=i.eventHandlerInterceptor,s=Object.keys(e),n=s.length;for(let o=0;o<n;o++){let l=s[o],c=e[l];if(l==="className")throw new Error('Property "className" is not supported, use "class".');if(l==="class")Ak(t,c,!0);else if(l==="classes"){let d=Object.keys(c),m=d.length;for(let v=0;v<m;v++){let w=d[v];c[w]&&t.classList.add(w)}}else if(l==="styles"){let d=Object.keys(c),m=d.length;for(let v=0;v<m;v++){let w=d[v],_=c[w];_&&(VX(_),i.styleApplyer(t,w,_))}}else if(l!=="key"&&c!=null){let d=typeof c;d==="function"?(l.lastIndexOf("on",0)===0&&(r&&(c=r(l,c,t,e)),l==="oninput"&&function(){let m=c;c=function(v){m.apply(this,[v]),v.target["oninput-value"]=v.target.value}}()),t[l]=c):i.namespace===YT?l==="href"?t.setAttributeNS(LX,l,c):t.setAttribute(l,c):d==="string"&&l!=="value"?l==="innerHTML"?t[l]=NX.sanitize(c):Ek(t)&&l in t?t[l]=c:t.setAttribute(l,c):t[l]=c}}};function Ek(t){if(!(t instanceof Element&&t.tagName.includes("-")))return!1;const e=window.customElements.get(t.tagName.toLowerCase());return!!e&&t instanceof e}let Mx,pEe=(t,e,i)=>{if(e)for(let r of e)w1(r,t,void 0,i)},zX=(t,e,i)=>{pEe(t,e.children,i),e.text&&(t.textContent=e.text),dEe(t,e.properties,i),e.properties&&e.properties.afterCreate&&e.properties.afterCreate.apply(e.properties.bind||e.properties,[t,i,e.vnodeSelector,e.properties,e.children])},w1=(t,e,i,r)=>{let s,n=0,o=t.vnodeSelector,l=e.ownerDocument;if(o==="")s=t.domNode=l.createTextNode(t.text),i!==void 0?e.insertBefore(s,i):e.appendChild(s);else{for(let c=0;c<=o.length;++c){let d=o.charAt(c);if(c===o.length||d==="."||d==="#"){let m=o.charAt(n-1),v=o.slice(n,c);m==="."?s.classList.add(v):m==="#"?s.id=v:(v==="svg"&&(r=B6(r,{namespace:YT})),r.namespace!==void 0?s=t.domNode=l.createElementNS(r.namespace,v):(s=t.domNode=t.domNode||l.createElement(v),v==="input"&&t.properties&&t.properties.type!==void 0&&s.setAttribute("type",t.properties.type)),i!==void 0?e.insertBefore(s,i):s.parentNode!==e&&e.appendChild(s)),n=c+1}}zX(s,t,r)}},Ak=(t,e,i)=>{e&&e.split(" ").forEach(r=>{r&&t.classList.toggle(r,i)})},fEe=(t,e,i,r)=>{if(!i)return;let s=!1,n=Object.keys(i),o=n.length;for(let l=0;l<o;l++){let c=n[l],d=i[c],m=e[c];if(c==="class")m!==d&&(Ak(t,m,!1),Ak(t,d,!0));else if(c==="classes"){let v=t.classList,w=Object.keys(d),_=w.length;for(let x=0;x<_;x++){let T=w[x],$=!!d[T];$!==!!m[T]&&(s=!0,$?v.add(T):v.remove(T))}}else if(c==="styles"){let v=Object.keys(d),w=v.length;for(let _=0;_<w;_++){let x=v[_],T=d[x];T!==m[x]&&(s=!0,T?(VX(T),r.styleApplyer(t,x,T)):r.styleApplyer(t,x,""))}}else if(d||typeof m!="string"||(d=""),c!=="value"||Ek(t)){if(d!==m){let v=typeof d;v==="function"&&r.eventHandlerInterceptor||(r.namespace===YT?c==="href"?t.setAttributeNS(LX,c,d):t.setAttribute(c,d):v==="string"?c==="innerHTML"?t[c]=NX.sanitize(d):c==="role"&&d===""?t.removeAttribute(c):Ek(t)&&c in t?t[c]=d:t.setAttribute(c,d):t[c]!==d&&(t[c]=d),s=!0)}}else{let v=t[c];v!==d&&(t["oninput-value"]?v===t["oninput-value"]:d!==m)&&(t[c]=d,t["oninput-value"]=void 0),d!==m&&(s=!0)}}return s},mEe=(t,e,i,r,s)=>{if(i===r)return!1;r=r||AV;let n,o=(i=i||AV).length,l=r.length,c=0,d=0,m=!1;for(;d<l;){let v=c<o?i[c]:void 0,w=r[d];if(v!==void 0&&G6(v,w))m=Mx(v,w,s)||m,c++;else{let _=cEe(i,w,c+1);if(_>=0){for(n=c;n<_;n++)CV(i[n]),q5(i,n,t,"removed");m=Mx(i[_],w,s)||m,c=_+1}else w1(w,e,c<o?i[c].domNode:void 0,s),hEe(w),q5(r,d,t,"added")}d++}if(o>c)for(n=c;n<o;n++)CV(i[n]),q5(i,n,t,"removed");return m};Mx=(t,e,i)=>{let r=t.domNode,s=!1;if(t===e)return!1;let n=!1;if(e.vnodeSelector===""){if(e.text!==t.text){let o=r.ownerDocument.createTextNode(e.text);return r.parentNode.replaceChild(o,r),e.domNode=o,s=!0,s}e.domNode=r}else e.vnodeSelector.lastIndexOf("svg",0)===0&&(i=B6(i,{namespace:YT})),t.text!==e.text&&(n=!0,e.text===void 0?r.removeChild(r.firstChild):r.textContent=e.text),e.domNode=r,n=mEe(e,r,t.children,e.children,i)||n,n=fEe(r,t.properties,e.properties,i)||n,e.properties&&e.properties.afterUpdate&&e.properties.afterUpdate.apply(e.properties.bind||e.properties,[r,i,e.vnodeSelector,e.properties,e.children]);return n&&e.properties&&e.properties.updateAnimation&&e.properties.updateAnimation(r,e.properties,t.properties),s};let Z_=(t,e)=>({getLastRender:()=>t,update:i=>{if(t.vnodeSelector!==i.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let r=t;t=i,Mx(r,i,e)},domNode:t.domNode});const yEe={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(t,e,i)=>{e.charAt(0)==="-"?t.style.setProperty(e,i):t.style[e]=i}};let Rv=t=>B6(yEe,t),kc={append:(t,e,i)=>(i=Rv(i),w1(e,t,void 0,i),Z_(e,i)),insertBefore:(t,e,i)=>(i=Rv(i),w1(e,t.parentNode,t,i),Z_(e,i)),merge:(t,e,i)=>(i=Rv(i),e.domNode=t,zX(t,e,i),Z_(e,i)),replace:(t,e,i)=>(i=Rv(i),w1(e,t.parentNode,t,i),t.parentNode.removeChild(t),Z_(e,i))},UX,gEe=(t,e)=>{let i=[];for(;t&&t!==e;)i.push(t),t=t.parentNode;return i};UX=Array.prototype.find?(t,e)=>t.find(e):(t,e)=>t.filter(e)[0];let vEe=(t,e)=>{let i=t;return e.forEach(r=>{i=i&&i.children?UX(i.children,s=>s.domNode===r):void 0}),i},wEe=(t,e,i)=>{let r=function(s){i("domEvent",s);let n=e(),o=gEe(s.currentTarget,n.domNode);o.reverse();let l,c=vEe(n.getLastRender(),o);return t.scheduleRender(),c&&(l=c.properties[`on${s.type}`].apply(c.properties.bind||this,arguments)),i("domEventProcessed",s),l};return(s,n,o,l)=>r},RV=t=>{let e,i,r=Rv(t),s=r.performanceLogger,n=!0,o=!1,l=[],c=[],d=(v,w,_)=>{let x,T=()=>x;r.eventHandlerInterceptor=wEe(e,T,s),x=v(w,_(),r),l.push(x),c.push(_)},m=()=>{if(i=void 0,n){n=!1,s("renderStart",void 0);for(let v=0;v<l.length;v++){let w=c[v]();s("rendered",void 0),l[v].update(w),s("patched",void 0)}s("renderDone",void 0),n=!0}};return e={renderNow:m,scheduleRender:()=>{i||o||(i=requestAnimationFrame(m))},stop:()=>{i&&(cancelAnimationFrame(i),i=void 0),o=!0},resume:()=>{o=!1,n=!0,e.scheduleRender()},append:(v,w)=>{d(kc.append,v,w)},insertBefore:(v,w)=>{d(kc.insertBefore,v,w)},merge:(v,w)=>{d(kc.merge,v,w)},replace:(v,w)=>{d(kc.replace,v,w)},detach:v=>{for(let w=0;w<c.length;w++)if(c[w]===v)return c.splice(w,1),l.splice(w,1)[0];throw new Error("renderFunction was not found")}},e},sc=class extends $e{constructor(){super(...arguments),this.items=new ge,this._watchUpdatingTracking=new Yd,this._callbacks=new Map,this._projector=RV(),this._hiddenProjector=RV()}get needsRender(){return this.items.length>0}get updating(){var e;return((e=this._watchUpdatingTracking)==null?void 0:e.updating)??!1}initialize(){const e=document.createElement("div");e.className="esri-overlay-surface",this._set("surface",e),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),e.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,i=>{for(const r of i.added){const s=()=>r.render();this._callbacks.set(r,s),this._projector.append(this.surface,s)}for(const r of i.removed){const s=this._projector.detach(this._callbacks.get(r));this.surface.removeChild(s.domNode),this._callbacks.delete(r)}})}addItem(e){this.items.add(e)}removeItem(e){this.items.remove(e)}destroy(){this.items.removeAll(),this._callbacks.forEach(e=>this._projector.detach(e)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(e){const i=this._hiddenSurface,r=this._hiddenProjector;let s;const n=()=>(s=e.render(),s);r.append(i,n),r.renderNow();const o={left:0,top:0,right:0,bottom:0};if(s!=null&&s.domNode){const l=s.domNode.getBoundingClientRect();o.left=l.left,o.top=l.top,o.right=l.right,o.bottom=l.bottom}for(r.detach(n);i.firstChild;)i.removeChild(i.firstChild);return o}overlaps(e,i){const r=this.computeBoundingRect(e),s=this.computeBoundingRect(i);return Math.max(r.left,s.left)<=Math.min(r.right,s.right)&&Math.max(r.top,s.top)<=Math.min(r.bottom,s.bottom)}get hasVisibleItems(){return this.items.some(e=>e.visible)}async prepare(){await document.fonts.load(this._fontString()).catch(()=>{})}renderCanvas(e,i){const r=!!(i!=null&&i.disableDecorations);if(!this.items.some(n=>n.visible&&!(r&&n.isDecoration)))return;const s=e.getContext("2d");s.save(),s.font=this._fontString(),this.items.forEach(n=>{r&&n.isDecoration||(s.save(),n.renderCanvas(s),s.restore())}),s.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};h([f({readOnly:!0})],sc.prototype,"surface",void 0),h([f({readOnly:!0})],sc.prototype,"items",void 0),h([f({readOnly:!0})],sc.prototype,"needsRender",null),h([f({readOnly:!0})],sc.prototype,"_watchUpdatingTracking",void 0),h([f({readOnly:!0})],sc.prototype,"updating",null),sc=h([I("esri.views.overlay.ViewOverlay")],sc);const IV=sc,B5=[0,0];function bEe(t){const e=(t.ownerDocument||window.document).defaultView,i=t.getBoundingClientRect();return B5[0]=i.left+((e==null?void 0:e.pageXOffset)??0),B5[1]=i.top+((e==null?void 0:e.pageYOffset)??0),B5}function PV(t){t&&(t.textContent="",t.parentNode&&t.parentNode.removeChild(t))}function _Ee(t){const e=document.createElement("div");return t.appendChild(e),e}const Of=16,q0=750,SEe=512,xEe=2,TEe=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this._freqInfo={freq:Of,time:q0},this._overlayRenderTaskHandle=null,this.aria={},this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([Le(()=>this.cursor,s=>{const{surface:n}=this;n&&n.setAttribute("data-cursor",s)}),Le(()=>this.navigating,s=>{const{surface:n}=this;n&&n.setAttribute("data-navigating",s.toString())}),Le(()=>[this.aria,this.surface],()=>this._updateAria(),{initial:!0})])}initialize(){const r=this;this.addHandles([Le(()=>this.ui,(s,n)=>this._handleUIChange(s,n),Qr),r.on("focus",()=>this.notifyChange("focused")),r.on("blur",()=>this.notifyChange("focused"))])}destroy(){var r;this.destroyed||((r=this.ui)==null||r.destroy(),this.container=null)}get container(){return this._get("container")??null}set container(r){const s=this._get("container"),n=z6(r);if(n||typeof r!="string"||se.getLogger(this).error("#container",`element with id '${r}' not found`),s===n)return;if(this._stopMeasuring(),s&&(s.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(PV(this.root),this._set("root",null)),this.userContent&&(xV(this.userContent,s),PV(this.userContent),this._set("userContent",null))),!n)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);n.classList.add("esri-view");const o=document.createElement("div");o.className="esri-view-user-storage",xV(n,o),n.appendChild(o),this._set("userContent",o);const l=document.createElement("div");l.className="esri-view-root",n.insertBefore(l,n.firstChild),this._set("root",l);const c=document.createElement("div");c.className="esri-view-surface",c.setAttribute("role","application"),c.tabIndex=0,l.appendChild(c),this._set("surface",c);const d=new IV;l.appendChild(d.surface),this._set("overlay",d),this.addHandles(Le(()=>d.needsRender,m=>{m&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=Ry({render:()=>{var v;return(v=this.overlay)==null?void 0:v.render()}}):this._overlayRenderTaskHandle=Dt(this._overlayRenderTaskHandle)})),this.forceDOMReadyCycle(),this._set("container",n),this._startMeasuring()}get focused(){const r=document.activeElement===this.surface;return document.hasFocus()&&r}get size(){return[this.width,this.height]}set ui(r){const s=this._get("ui");s!==r&&(s==null||s.destroy()),this._set("ui",r)}blur(){var r;(r=this.surface)==null||r.blur()}focus(){var r;(r=this.surface)==null||r.focus()}pageToContainer(r,s,n){const o=this.position;return r-=o?o[0]:0,s-=o?o[1]:0,n?(n[0]=r,n[1]=s):n=[r,s],n}containerToPage(r,s,n){const o=this.position;return r+=o?o[0]:0,s+=o?o[1]:0,n?(n[0]=r,n[1]=s):n=[r,s],n}_updateAria(){const{surface:r,aria:s}=this;r&&(r.ariaLabelledByElements=(s==null?void 0:s.labelledByElements)??null,r.ariaDescribedByElements=(s==null?void 0:s.describedByElements)??null,r.ariaLabel=(s==null?void 0:s.label)??null,r.ariaDescription=(s==null?void 0:s.description)??null)}_handleUIChange(r,s){this.removeHandles("ui"),s&&s!==r&&s.destroy(),r&&(r.view=this,this.addHandles(Le(()=>this.root,n=>{r.container=n?_Ee(n):null},Qr),"ui")),this._set("ui",r)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const r=this._freqInfo;r.freq=Of,r.time=q0;const s=Ry({prepare:l=>{const c=this._measure(),d=this._freqInfo;if(d.time+=l.deltaTime,c&&(d.freq=Of,this._get("resizing")||this._set("resizing",!0)),d.time<d.freq)return;d.time=0;const m=this._position();d.freq=m||c?Of:Math.min(q0,d.freq*xEe),!c&&d.freq>=SEe&&(s.pause(),this._get("resizing")&&this._set("resizing",!1))}}),n=new ResizeObserver(l=>{r.freq=Of,r.time=q0,s.resume()});this.container!=null&&n.observe(this.container);const o=at(()=>n.disconnect());this.addHandles([ag(window,"resize",()=>{r.freq=Of,r.time=q0,s.resume()}),o,s],"measuring"),this._measure(),this._position()}_measure(){const r=this.container,s=r?r.clientWidth:0,n=r?r.clientHeight:0;if(s===0||n===0)return this.suspended||this._set("suspended",!0),!1;const o=this.width,l=this.height;return s===o&&n===l?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",s),this._set("height",n),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:o,oldHeight:l,width:s,height:n}),!0)}_position(){const r=this.container,s=this.position,n=r&&bEe(r);return!!n&&(!s||n[0]!==s[0]||n[1]!==s[1])&&(this._set("position",[n[0],n[1]]),!0)}forceDOMReadyCycle(){}};return h([f()],i.prototype,"aria",void 0),h([f()],i.prototype,"container",null),h([f({readOnly:!0})],i.prototype,"focused",null),h([f({readOnly:!0})],i.prototype,"height",void 0),h([f()],i.prototype,"messagesCommon",void 0),h([f({type:IV})],i.prototype,"overlay",void 0),h([f({readOnly:!0})],i.prototype,"position",void 0),h([f({readOnly:!0})],i.prototype,"resizing",void 0),h([f({readOnly:!0})],i.prototype,"root",void 0),h([f({value:null,readOnly:!0})],i.prototype,"size",null),h([f({readOnly:!0})],i.prototype,"surface",void 0),h([f({readOnly:!0})],i.prototype,"suspended",void 0),h([f({nonNullable:!0})],i.prototype,"ui",null),h([f({readOnly:!0})],i.prototype,"userContent",void 0),h([f({readOnly:!0})],i.prototype,"width",void 0),h([f()],i.prototype,"widthBreakpoint",void 0),i=h([I("esri.views.DOMContainer")],i),i},Y_="popup",jV="manual";function nu(t){return t!=null&&"open"in t&&"declaredClass"in t}function Xc(t){return!!t&&t.tagName.toLowerCase()==="arcgis-popup"&&"open"in t}function $Ee(t,e,i){const[r,s,n]=e;if(i){const[o,l,c]=i;o&&nu(l)&&(l.view=null,o.remove(l,Y_),l!==s&&s&&l.destroy()),o&&c&&Xc(c)&&(c.view=null,o.remove(c,Y_),c!==n&&n&&c.remove())}r&&nu(s)&&(s.view=t,r.add(s,{key:Y_,position:jV,internal:!0})),r&&n&&Xc(n)&&(n.view=t,r.add(n,{key:Y_,position:jV,internal:!0}))}async function MEe(t,e){var s,n;const{popup:i,popupElement:r}=t;if(nu(i)){const o=await i.viewModel.handleViewClick(e);(s=o==null?void 0:o.promises)!=null&&s.length&&i.open(o)}else if(r&&Xc(r)){const o=await r.handleViewClick(e);(n=o==null?void 0:o.promises)!=null&&n.length&&r.open(o)}else e==null||e.defer(async()=>{var c,d;await t.setupPopup();const{popup:o,popupElement:l}=t;if(nu(o)&&!t.destroyed&&t.ready&&t.popupEnabled){const m=await o.viewModel.handleViewClick(e);(c=m==null?void 0:m.promises)!=null&&c.length&&o.open(m)}else if(l&&Xc(l)){const m=await l.handleViewClick(e);(d=m==null?void 0:m.promises)!=null&&d.length&&l.open(m)}})}function EEe(t,e){const{popup:i,popupElement:r}=t;if(nu(i))return i.open(e);r&&Xc(r)&&r.open(e)}function AEe(t,e){nu(t)&&t.close(),e&&Xc(e)&&(e.visible=!1)}const qX=q("mac")?"Meta":"Control",OEe=new Set(["Alt","Control","Meta","Shift","Ctrl","Primary"]),kEe=t=>OEe.has(t);let CEe=class{constructor(e,i=[]){this.eventType=e,this.keyModifiers=i}matches(e){if(e.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;const i=e.modifiers;for(const r of this.keyModifiers)if(!i.has(r))return!1;return!0}},or=class{constructor(e){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=e}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const e in this._incoming){const i=this._incoming[e];for(const r of i)this._incomingEventMatches.push(r.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(e=>e.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(e){this._manager||(e.setEventCallback(i=>this._handleEvent(i)),e.setUninstallCallback(()=>this._onUninstall()),this._manager=e)}onUninstall(){}registerIncoming(e,i,r){let s;typeof i=="function"?(r=i,s=[]):s=i||[];const n=typeof e=="string"?new CEe(e,s):e,o=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},l=m=>{const v=this._incoming[m.match.eventType];if(v){const w=v.indexOf(m);v.splice(w,1),o(),this._manager&&this._manager.updateDependencies()}},c=new REe(n,r,{onPause:l,onRemove:l,onResume:m=>{const v=this._incoming[m.match.eventType];v&&!v.includes(m)&&(v.push(m),o(),this._manager&&this._manager.updateDependencies())}});let d=this._incoming[n.eventType];return d||(d=[],this._incoming[n.eventType]=d),d.push(c),o(),this._manager&&this._manager.updateDependencies(),c}registerOutgoing(e){if(this._outgoing[e])throw new Error("There is already a callback registered for this outgoing InputEvent: "+e);const i=new IEe(e,{onEmit:(r,s,n,o)=>{var l;(l=this._manager)==null||l.emit(r.eventType,s,n,o)},onRemove:r=>{var s;delete this._outgoing[r.eventType],(s=this._manager)==null||s.updateDependencies()}});return this._outgoing[e]=i,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),i}startCapturingPointer(e){var i;(i=this._manager)==null||i.setPointerCapture(e,!0)}stopCapturingPointer(e){var i;(i=this._manager)==null||i.setPointerCapture(e,!1)}refreshHasPendingInputs(){var e;(e=this._manager)==null||e.refreshHasPendingInputs()}_onUninstall(){this._manager&&(this.onUninstall(),this._manager=null)}_handleEvent(e){var r;const i=this._incoming[e.type];if(i){for(const s of i)if(s.match.matches(e)&&((r=s.callback)==null||r.call(s,e),e.shouldStopPropagation()))break}}},REe=class{constructor(e,i,r){this.match=e,this._callback=i,this._handler=r}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}},IEe=class{constructor(e,i){this.eventType=e,this._removed=!1,this._handler=i}emit(e,i,r){this._removed||this._handler.onEmit(this,e,i,r)}remove(){this._removed=!0,this._handler.onRemove(this)}},PEe=class extends or{constructor(e){super(!0),this._onChange=e,this._value="mouse",this._x=null,this._y=null,this._id=null,this.registerIncoming("pointer-move",i=>this._update(i.data))}_update(e){const i=e.native.pointerType==="touch"?"touch":"mouse",{x:r,y:s,native:{pointerId:n}}=e;i===this._value&&this._x===r&&this._y===s&&this._id===n||(this._value=i,this._x=r,this._y=s,this._id=n,this._onChange(n,i,r,s))}},jEe=class{constructor(e,i){this._observable=new $w,this._value=e,this._equalityFunction=i}get value(){return je(this._observable),this._value}set value(e){this._equalityFunction(e,this._value)||(this._value=e,this._observable.notify())}mutate(e){e(this._value),this._observable.notify()}};function Zy(t,e=fB){return new jEe(t,e)}let NEe=class extends or{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=Zy(!1),this._onPointerAdd=({data:e})=>{e.pointerType==="touch"&&(this._activeTouchPointerIds.add(e.native.pointerId),this._update())},this._onPointerRemove=({data:e})=>{e.pointerType==="touch"&&(this._activeTouchPointerIds.delete(e.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}},DEe=class{constructor(e,i){this._owner=i,this._properties={},this._afterDispatchHandle=null;for(const r in e){const s=e[r],n=new IB(s,void 0,void 0,2,2);this._properties[r]={pool:n,acquired:[]}}this._afterDispatchHandle=rde(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const e in this._properties){const i=this._properties[e];for(const r of i.acquired)R8(r)||i.pool.release(r);i.pool.destroy(),i.pool=null,i.acquired=null}this._properties=null,this._owner=null}get(e){const i=this._owner._get(e),r=this._properties[e];let s=r.pool.acquire();for(r.acquired.push(s);s===i;)s=r.pool.acquire(),r.acquired.push(s);return ZB(),s}_release(){for(const e in this._properties){const i=this._properties[e];let r=0;for(const s of i.acquired)R8(s)?i.acquired[r++]=s:i.pool.release(s);i.acquired.length=r}}},LEe=class{constructor(){this.id=0,this.type="mouse",this.location=rr()}},Ro=class extends $e{constructor(e){super(e),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=qX,this._propertiesPool=new DEe({latestPointerInfo:()=>new LEe},this),this._latestPointerInfo=void 0,this._paused=!1,this._testTimestamp=void 0}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const e=Object.keys(this._nameToGroup);for(const i of e)this.uninstallHandlers(i);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(e=>e.handler.hasPendingInputs)}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get latestPointerInfo(){return this._latestPointerInfo}get updating(){return this.hasPendingInputs||this._paused}installHandlers(e,i,r=ou.INTERNAL){if(this._nameToGroup[e]||i.length===0)return;const s={name:e,handlers:i.map(n=>({handler:n,active:!0,removed:!1,priorityIndex:0,groupPriority:r,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[e]=s;for(let n=s.handlers.length-1;n>=0;n--){const o=s.handlers[n];this._handlers.push(o),o.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(l,c,d,m,v)=>{this._emitInputEvent(o.priorityIndex+1,l,c,d,v,m)},setPointerCapture:(l,c)=>{this._setPointerCapture(s,o,l,c)},setEventCallback:l=>{o.eventCallback=l},setUninstallCallback:l=>{o.uninstallCallback=l},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(e){const i=this._nameToGroup[e];i?(i.handlers.forEach(r=>{var s;r.removed=!0,(s=r.uninstallCallback)==null||s.call(r)}),delete this._nameToGroup[e],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):se.getLogger(this).error("There is no InputHandler group registered under the name `"+e+"`")}hasHandlers(e){return this._nameToGroup[e]!==void 0}isModifierKeyDown(e){return this._activeKeyModifiers.has(e)}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const e=new Set,i=new Set;this._handlersPriority=[];for(let r=this._handlers.length-1;r>=0;r--){const s=this._handlers[r];s.priorityIndex=r,this._handlersPriority.push(s)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let r=this._handlersPriority.length-1;r>=0;r--){const s=this._handlersPriority[r];s.priorityIndex=r;let n=s.handler.hasSideEffects;if(!n){for(const o of s.handler.outgoingEventTypes)if(e.has(o)){n=!0;break}}if(n)for(const o of s.handler.incomingEventMatches){e.add(o.eventType);for(const l of o.keyModifiers)kEe(l)||i.add(l)}s.active=n}this._sourceEvents=e,this._keyModifiers=i,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(e,i,r,s){const n=this._latestPointerInfo;if(n==null||n.id!==e||n.type!==i||n.location.x!==r||n.location.y!==s){const o=this._propertiesPool.get("latestPointerInfo");o.id=e,o.type=i,o.location.x=r,o.location.y=s,this._latestPointerInfo=o}}_onEventReceived(e,i){var n,o;if(e==="pointer-capture-lost"){const l=i;this._pointerCaptures.delete(l.native.pointerId)}this._updateKeyModifiers(e,i);const r=this._testTimestamp??((n=i.native)==null?void 0:n.timestamp),s=(o=i.native)==null?void 0:o.cancelable;this._emitInputEventFromSource(e,i,r,s)}_updateKeyModifiers(e,i){if(!i)return;let r=!1;const s=()=>{r||(this._activeKeyModifiers=new Set(this._activeKeyModifiers),r=!0)},n=(l,c)=>{c&&!this._activeKeyModifiers.has(l)?(s(),this._activeKeyModifiers.add(l)):!c&&this._activeKeyModifiers.has(l)&&(s(),this._activeKeyModifiers.delete(l))};if(e==="key-down"||e==="key-up"){const l=i.key;this._keyModifiers.has(l)&&n(l,e==="key-down")}const o=i.native;n("Alt",!!(o!=null&&o.altKey)),n("Control",!!(o!=null&&o.ctrlKey)),n("Ctrl",!!(o!=null&&o.ctrlKey)),n("Shift",!!(o!=null&&o.shiftKey)),n("Meta",!!(o!=null&&o.metaKey)),n("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new PEe((e,i,r,s)=>this._setLatestPointer(e,i,r,s)),this._multiTouchHandler=new NEe,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],ou.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,ou.INTERNAL)}_setPointerCapture(e,i,r,s){const n=e.name+"-"+i.priorityIndex,o=this._pointerCaptures.get(r.pointerId)||new Set;this._pointerCaptures.set(r.pointerId,o),s?(o.add(n),o.size===1&&this.eventSource&&this.eventSource.setPointerCapture(r,!0)):o.has(n)&&(o.delete(n),o.size===0&&(this._pointerCaptures.delete(r.pointerId),this.eventSource&&this.eventSource.setPointerCapture(r,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(e=>!e.removed),this.updateDependencies()}_emitInputEventFromSource(e,i,r,s){this._emitInputEvent(0,e,i,r,s)}_emitInputEvent(e,i,r,s,n,o){var m;const l=s??((m=this._currentPropagation)==null?void 0:m.timestamp)??performance.now(),c=n??!1,d={event:new VEe(i,r,l,o||this._activeKeyModifiers,c),priorityIndex:e};this._currentPropagation?this._currentPropagation.events.push(d):this._doNewPropagation(d)}_doNewPropagation(e){this._currentPropagation={events:new X1,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:e.event.timestamp},this._currentPropagation.events.push(e),this._continuePropagation()}_continuePropagation(){var i,r,s;this._paused=!1;const e=this._currentPropagation;if(e){for(;e.events.length>0;){const{event:n,priorityIndex:o}=e.events.pop(),l=(i=n.data)==null?void 0:i.eventId;if(!(l!=null&&this._stoppedPropagationEventIds.has(l)))for(e.currentHandler=this._handlersPriority[o];e.currentHandler;){if(e.currentHandler.removed)e.needsHandlerGarbageCollect=!0;else{if(e.currentHandler.active&&!n.shouldStopPropagation()&&((s=(r=e.currentHandler).eventCallback)==null||s.call(r,n)),n.shouldStopPropagation()){l!=null&&this._stoppedPropagationEventIds.add(l);break}if(n.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:n,priorityIndex:e.currentHandler.priorityIndex+1})}e.currentHandler=this._handlersPriority[e.currentHandler.priorityIndex+1]}}e.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(e){const i=new X1;i.push(e);const r=this._currentPropagation;if(r){for(;r.events.length;)i.push(r.events.pop());r.events=i,r.currentHandler=null,this._paused=!0}}_compareHandlerPriority(e,i){if(e.handler.hasSideEffects!==i.handler.hasSideEffects)return e.handler.hasSideEffects?1:-1;if(e.groupPriority!==i.groupPriority)return e.groupPriority>i.groupPriority?-1:1;for(const r of e.handler.incomingEventMatches)for(const s of i.handler.incomingEventMatches){if(r.eventType!==s.eventType)continue;const n=r.keyModifiers.filter(o=>s.keyModifiers.includes(o));if(n.length===r.keyModifiers.length!=(n.length===s.keyModifiers.length))return r.keyModifiers.length>s.keyModifiers.length?-1:1}return e.priorityIndex>i.priorityIndex?-1:1}_sortHandlersPriority(e){const i=[];for(const r of e){let s=0;for(;s<i.length&&this._compareHandlerPriority(r,i[s])>=0;)s++;i.splice(s,0,r)}return i}get test(){}};h([f({readOnly:!0})],Ro.prototype,"hasPendingInputs",null),h([f({constructOnly:!0})],Ro.prototype,"eventSource",void 0),h([f({constructOnly:!0})],Ro.prototype,"recognizers",void 0),h([f()],Ro.prototype,"multiTouchActive",null),h([f()],Ro.prototype,"_latestPointerInfo",void 0),h([f()],Ro.prototype,"latestPointerInfo",null),h([f()],Ro.prototype,"_paused",void 0),h([f({readOnly:!0})],Ro.prototype,"updating",null),Ro=h([I("esri.views.input.InputManager")],Ro);let VEe=class{constructor(e,i,r,s,n){this.type=e,this.data=i,this.timestamp=r,this.modifiers=s,this.cancelable=n,this._propagationState=0,this._resumeCallback=null}stopPropagation(){this._propagationState|=1}shouldStopPropagation(){return!!(1&this._propagationState)}defer(e){this._propagationState|=2;const i=(r,s)=>{this._propagationState&=-3;const n=this._resumeCallback;if(this._resumeCallback=null,n&&n(),s)throw r;return r};return(typeof e=="function"?e():e).then(r=>i(r,!1),r=>i(r,!0))}shouldPausePropagation(e){return!!(2&this._propagationState)&&(this._resumeCallback=e,!0)}preventDefault(){this.data.native.preventDefault()}};const ou={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3},FEe=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){this.addHandles([Le(()=>[this.ui,this.popup,this.popupElement],([r,s,n],o)=>{const[l,c,d]=o??[];$Ee(this,[r,s,n],[l,c,d])},qr),this.on("click",r=>{this.popup&&this.popupEnabled&&(r.pointerType!=="mouse"||r.button===0)&&MEe(this,r)},ou.WIDGET)]),c6(()=>this.ready&&this.popupEnabled&&!this.updating).then(()=>re(()=>import("./Popup-DjrvINJV.js").then(r=>r.P),__vite__mapDeps([194,195,24,196,197,198,199,34,200,201,202,77,75,76,12,11,13,78,7,18,19,203,204,205,206,175,180,207,208,209,210,211,181,212,213,214,189,16,215,216,217,218])))}destroy(){this.destroyed||this.closePopup()}async openPopup(r){if(nu(this.popup))return this.popup.open(r);if(this.popupElement&&Xc(this.popupElement))this.popupElement.open(r).catch(()=>{});else try{if(await this.setupPopup(),!this.popup)return void se.getLogger(this).error(new B("view:null-popup","Popup is null and can't be opened"));EEe(this,r)}catch{}}closePopup(){var r;(r=this._popupSetupTask)==null||r.abort(),AEe(this.popup,this.popupElement)}async fetchPopupFeatures(r,s){return await this.when(),this._popupHitsToFeatures(await this._getPopupHits(r,s),s)}async setupPopup(){var r;if((r=this._popupSetupTask)==null||r.abort(),this.popup&&!nu(this.popup))return this._popupSetupTask=LT(async s=>{if(!this.popupEnabled||!Xc(this.popupElement))if(this.dependencies.popup&&typeof this.dependencies.popup=="function")await this.dependencies.popup(),Gt(s),customElements.get("arcgis-popup")||se.getLogger(this).error(new B("view:undefined-popup-element","`arcgis-popup` custom element is undefined and can't be opened")),this.popupElement=document.createElement("arcgis-popup");else{const{default:n}=await re(()=>import("./Popup-DjrvINJV.js").then(l=>l.P),__vite__mapDeps([194,195,24,196,197,198,199,34,200,201,202,77,75,76,12,11,13,78,7,18,19,203,204,205,206,175,180,207,208,209,210,211,181,212,213,214,189,16,215,216,217,218]));if(Gt(s),!this.popup||nu(this.popup))return;const o=this.popup;if("open"in o||"close"in o){const{open:l,close:c,...d}=o;this.popup=new n({...d})}else this.popup=new n(o)}}),this._popupSetupTask.promise}async _popupHitsToFeatures({location:r,hits:s},n){const o=[],l=[];let c=!1;const d=Phe(n,q("popup-view-fetch-timeout")??UEe),m=_=>{const x=new zEe(_);return l.push(x),o.push(x.promise),x},v=_=>{const x=l.at(-1);return x&&x.layerView===_&&!c?x:m(_)};for(const _ of s)"graphic"in _?(v(_.layerView).graphics.push(_.graphic),c=!1):(o.push(_.layerView.fetchPopupFeaturesAtLocation(_.mapPoint,d)),c=!0);l.forEach(_=>_.resolve(d));const w=Ihe(o).then(_=>_.filter(x=>!!x).flat());return{pendingFeatures:o,allGraphicsPromise:w,location:r}}async _getPopupHits(r,s){const{hits:n,location:o}=await this.popupHitTest(r);Gt(s);const l=[];for(const c of n)if("graphic"in c){if(this._isValidPopupGraphic(c.graphic,s)){const d=this._isValidPopupGraphicsLayerView(c.layerView)?c.layerView:void 0;l.push({graphic:c.graphic,layerView:d})}}else this._isValidPopupLocationLayerView(c.layerView)&&l.push({mapPoint:c.mapPoint,layerView:c.layerView});return{hits:l,location:o}}_isValidPopupGraphic(r,s){return r&&!!r.getEffectivePopupTemplate(s==null?void 0:s.defaultPopupTemplateEnabled)}_isValidPopupGraphicsLayerView(r){return!r||(!("layer"in r)||!r.suspended)&&"fetchPopupFeaturesFromGraphics"in r}_isValidPopupLocationLayerView(r){return(!("layer"in r)||!r.suspended)&&"fetchPopupFeaturesAtLocation"in r}};return h([f()],i.prototype,"popup",void 0),h([f()],i.prototype,"popupElement",void 0),h([f()],i.prototype,"popupEnabled",void 0),i=h([I("esri.views.PopupView")],i),i};let zEe=class{constructor(e){this.layerView=e,this._resolver=bn(),this.graphics=[]}get promise(){return this._resolver.promise}resolve(e){const{layerView:i,graphics:r,_resolver:s}=this;if(!i)return s.resolve(r),s.promise;let n;return i.fetchPopupFeaturesFromGraphics(r,e).catch(o=>(n=o,null)).then(o=>{o?s.resolve(o):s.reject(n)}),s.promise}};const UEe=5e3;var Iv;const Ex=wr()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),BX=Ex.jsonValues.slice();GE(BX,"orthometric");const b1=wr()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let Ns=Iv=class extends ae{constructor(t){super(t),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(t,e,i){return Ex.write(t,e,i)}readHeightModel(t,e,i){return Ex.read(t)||(i!=null&&i.messages&&i.messages.push(qEe(t,{context:i})),null)}readHeightUnit(t,e,i){return b1.read(t)||(i!=null&&i.messages&&i.messages.push(NV(t,{context:i})),null)}readHeightUnitService(t,e,i){return GR(t)||b1.read(t)||(i!=null&&i.messages&&i.messages.push(NV(t,{context:i})),null)}readVertCRS(t,e){return e.vertCRS||e.ellipsoid||e.geoid}clone(){return new Iv({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(t){return!!t&&(this===t||this.heightModel===t.heightModel&&this.heightUnit===t.heightUnit&&this.vertCRS===t.vertCRS)}static deriveUnitFromSR(t,e){const i=xZ(e);return new Iv({heightModel:t.heightModel,heightUnit:i??void 0,vertCRS:t.vertCRS})}write(t,e){return e={origin:"web-scene",...e},super.write(t,e)}static fromJSON(t){if(!t)return null;const e=new Iv;return e.read(t,{origin:"web-scene"}),e}};function NV(t,e){return new lo("height-unit:unsupported",`Height unit of value '${t}' is not supported`,e)}function qEe(t,e){return new lo("height-model:unsupported",`Height model of value '${t}' is not supported`,e)}h([f({type:Ex.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:BX,default:"ellipsoidal",write:{isRequired:!0}}}}})],Ns.prototype,"heightModel",void 0),h([_e("web-scene","heightModel")],Ns.prototype,"writeHeightModel",null),h([Ie(["web-scene","service"],"heightModel")],Ns.prototype,"readHeightModel",null),h([f({type:b1.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:b1.jsonValues,write:{writer:b1.write,isRequired:!0}}}}})],Ns.prototype,"heightUnit",void 0),h([Ie("web-scene","heightUnit")],Ns.prototype,"readHeightUnit",null),h([Ie("service","heightUnit")],Ns.prototype,"readHeightUnitService",null),h([f({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],Ns.prototype,"vertCRS",void 0),h([Ie("service","vertCRS",["vertCRS","ellipsoid","geoid"])],Ns.prototype,"readVertCRS",null),Ns=Iv=h([I("esri.geometry.HeightModelInfo")],Ns);let _1=class extends v1{_own(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}_release(e){e.layer===this.owner&&(e.layer=null)}};h([uG({Type:er,ensureType:nr(er)})],_1.prototype,"itemType",void 0),_1=h([I("esri.support.GraphicsCollection")],_1);let Ml=class extends $e{constructor(e){super(e),this.view=null,this.baseLayerViews=new ge,this.groundLayerViews=new ge,this.referenceLayerViews=new ge,this._loadingHandle=Le(()=>{var i,r;return(r=(i=this.view)==null?void 0:i.map)==null?void 0:r.basemap},i=>{i&&i.load().catch(()=>{})},Qr)}destroy(){this._set("view",null),this._loadingHandle=Dt(this._loadingHandle),this.baseLayerViews.destroyAll(),this.groundLayerViews.destroyAll(),this.referenceLayerViews.destroyAll()}get suspended(){var e;return((e=this.view)==null?void 0:e.suspended)??!0}get updating(){var i,r,s;if((i=this.view)!=null&&i.suspended)return!1;const e=(s=(r=this.view)==null?void 0:r.map)==null?void 0:s.basemap;return!!(e!=null&&e.loaded)&&(this.baseLayerViews.some(n=>n.updating)||this.groundLayerViews.some(n=>n.updating)||this.referenceLayerViews.some(n=>n.updating))}};h([f({constructOnly:!0})],Ml.prototype,"view",void 0),h([f({readOnly:!0})],Ml.prototype,"baseLayerViews",void 0),h([f({readOnly:!0})],Ml.prototype,"groundLayerViews",void 0),h([f({readOnly:!0})],Ml.prototype,"referenceLayerViews",void 0),h([f({readOnly:!0})],Ml.prototype,"suspended",null),h([f({type:Boolean,readOnly:!0})],Ml.prototype,"updating",null),Ml=h([I("esri.views.BasemapView")],Ml);const BEe=Ml;let un=class extends $e{constructor(e){super(e),this.factor=1.5,this.offset=rr(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};h([f({type:Number})],un.prototype,"factor",void 0),h([f({nonNullable:!0})],un.prototype,"offset",void 0),h([f()],un.prototype,"position",void 0),h([f({type:Number,range:{min:0}})],un.prototype,"size",void 0),h([f()],un.prototype,"maskUrl",void 0),h([f()],un.prototype,"maskEnabled",void 0),h([f()],un.prototype,"overlayUrl",void 0),h([f()],un.prototype,"overlayEnabled",void 0),h([f({readOnly:!0})],un.prototype,"version",null),h([f({type:Boolean})],un.prototype,"visible",void 0),un=h([I("esri.views.Magnifier")],un);const GX=un;let Hm=class{constructor(e){this._observable=new $w,this._map=new Map(e)}get size(){return je(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(e){const i=this._map.delete(e);return i&&this._observable.notify(),i}entries(){return je(this._observable),this._map.entries()}forEach(e,i){je(this._observable),this._map.forEach((r,s)=>e.call(i,r,s,this),i)}get(e){return je(this._observable),this._map.get(e)}has(e){return je(this._observable),this._map.has(e)}keys(){return je(this._observable),this._map.keys()}set(e,i){return this._map.set(e,i),this._observable.notify(),this}values(){return je(this._observable),this._map.values()}[Symbol.iterator](){return je(this._observable),this._map[Symbol.iterator]()}[Symbol.dispose](){this._observable.destroy()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}};function Zu(t){return!(t==null||typeof t!="object"||!("createQuery"in t)||!t.createQuery)}let Gn=class extends hg{constructor(e){super(e),this._selectionMap=new Hm,this._sources=new ge,this._trashCan=[],this._layerEditHandles=new ge,this._vizTaskId=0,this.view=null,this.showHighlight=!0,this.highlightName="default"}initialize(){this.addHandles([Le(()=>[this.view,this.showHighlight],()=>this._refreshVisualization()),Le(()=>this.view,e=>{e==null||e.when().then(()=>this.syncSources())},Qr),mp(()=>this.sources,"change",e=>{var s;const i=this._selectionMap,r=[];for(const n of e.removed){const o=i.get(n);o&&(i.delete(n),(s=o.highlightHandle)==null||s.remove(),r.push({layer:n,selection:[],added:[],removed:[...o.selection]}))}this._refreshListeners(),r.length&&this._onSelectionChange(r)},{onListenerAdd:()=>this._refreshListeners()})])}destroy(){this.clear(),this._layerEditHandles.drain(Dt)}get selections(){return Array.from(this._selectionMap.entries()).map(e=>{const[i,r]=e;return{layer:i,selection:[...r.selection]}})}get count(){let e=0;for(const i of this._selectionMap.values())e+=i.selection.length;return e}get hasSelection(){return this.count>0}get sources(){return this._sources}set sources(e){Na(e,this._sources)}syncSources(){var s;const e=new Set,i=(s=this.view)==null?void 0:s.map;if(!i)return;const r=n=>{var o,l,c,d,m;GSe(n)?((o=n.layers)==null||o.forEach(r),(l=n.tables)==null||l.forEach(r)):BSe(n)?((c=n.sublayers)==null||c.forEach(r),(d=n.subtables)==null||d.forEach(r)):a9(n)?(m=n.sublayers)==null||m.forEach(r):Zu(n)&&e.add(n)};i.allLayers.forEach(r),i.allTables.forEach(r),this.sources=[...e]}async getSelectedFeatures(e,i={},r="layerView"){const{view:s,selections:n}=this;if(!s&&r==="layerView")return se.getLogger(this).warn("Cannot query layer views without a view."),[];const o=(e!=null&&e.length?n.filter(l=>e.includes(l.layer)):n).map(async l=>{const{layer:c,selection:d}=l;if(!d.length)return;const m=Wf(c)?c.parent:c;if(m!=null){if(s&&r==="layerView"&&!DV(m)&&LV(m)){const v=await s.whenLayerView(m).catch(()=>null);if(v)return VV(v,d,i)}return VV(m,d,i)}}).filter(qc);return(await Promise.all(o)).filter(qc)}updateSelection(e){const i=new Map;for(const[n,o]of this._selectionMap)i.set(n,[...o.selection]);let r=!1;const s=e.current.concat(e.added);for(const n of s){const o=n.sourceLayer,l=n.getObjectId();if(this.sources.includes(o)&&(Zu(o)||Wf(o))&&l!==null){const c=ug(i,o,()=>[]);c.includes(l)||(c.push(l),r=!0)}}for(const n of e.removed){const o=n.sourceLayer,l=n.getObjectId();if(this.sources.includes(o)&&(Zu(o)||Wf(o))&&l!==null){const c=i.get(o),d=c==null?void 0:c.indexOf(l);d!==void 0&&d>=0&&(c==null||c.splice(d,1),r=!0)}}if(r){const{_selectionMap:n,_trashCan:o}=this,l=[];for(const[c,d]of i){const m=n.get(c);m!==void 0&&o.push(m),n.set(c,{selection:d}),l.push({layer:c,selection:d,...m8(m!==void 0?m.selection:[],d)})}this._onSelectionChange(l)}}setSelection(e,i){this._setSelection(e,i)}getSelection(e){const i=this._selectionMap.get(e);return i==null?void 0:i.selection}appendToSelection(e,i){const r=this._selectionMap.get(e),s=r!==void 0?[...r.selection]:[];for(const n of i)s.includes(n)||s.push(n);this._setSelection(e,s)}removeFromSelection(e,i){const r=this._selectionMap.get(e);if(!r)return;const s=[];for(const n of r.selection)i.includes(n)||s.push(n);this._setSelection(e,s)}toggleInSelection(e,i){const r=this._selectionMap.get(e);if(!r||r.selection.length===0)return void this._setSelection(e,i);const s=new Set(r.selection),n=new Set(i),o=Yhe(s,n);this._setSelection(e,Array.from(o))}clear(){const e=this._selectionMap.values();this._trashCan.push(...e);const i=[];for(const[r,s]of this._selectionMap.entries())i.push({layer:r,added:[],removed:[...s.selection],selection:[]});this._selectionMap.clear(),this._onSelectionChange(i)}_onSelectionChange(e){this._refreshVisualization(),this.emit("selection-change",{view:this.view,changes:e})}_refreshVisualization(){var o;for(this._vizTaskId++;this._trashCan.length>0;){const l=this._trashCan.pop();(o=l==null?void 0:l.highlightHandle)==null||o.remove()}if(this.view==null)return;const{sources:e,view:i,_selectionMap:r,showHighlight:s}=this,n=this._vizTaskId;for(const l of e){const c=r.get(l),d=Wf(l)?l.parent:l;if(d!=null&&LV(d)){if(DV(d))continue;i.whenLayerView(d).then(m=>{var v;(v=c==null?void 0:c.highlightHandle)==null||v.remove(),c!=null&&s&&n===this._vizTaskId&&"highlight"in m&&typeof m.highlight=="function"&&c.selection.length>0&&(c.highlightHandle=m.highlight(c.selection,this.highlightName))}).catch(()=>{var m;(m=c==null?void 0:c.highlightHandle)==null||m.remove()})}}}_refreshListeners(){this._layerEditHandles.drain(Dt);const e=new Set(this.sources.map(i=>Wf(i)?i.parent:i));for(const i of e)Zu(i)&&"on"in i&&i.on&&this._layerEditHandles.push(i.on("edits",r=>this._onLayerEdit(r,i)))}_onLayerEdit(e,i){if(a9(i))this._onParentLayerEdit(e,i);else if(e.deletedFeatures.length&&this._selectionMap.has(i)){const r=[];e.deletedFeatures.forEach(({error:s,objectId:n})=>{n!=null&&s==null&&r.push(n)}),this.removeFromSelection(i,r)}}_onParentLayerEdit(e,i){var o;const{deletedFeatures:r,edits:s,updatedFeatures:n}=e;if((o=s==null?void 0:s.updateFeatures)==null||o.forEach(l=>{var v;const c=l.getObjectId()??l.attributes[i.objectIdField];if(c==null||(v=n.find(w=>w.objectId===c))!=null&&v.error)return;const d=i.findSublayerForFeature(l);if(!Zu(d))return;const m=i.sublayers.find(w=>{var _;return!(!Zu(w)||!((_=this.getSelection(w))!=null&&_.includes(c)))});Zu(m)&&m!==d&&(this.removeFromSelection(m,[c]),this.appendToSelection(d,[c]))}),r.length){const l=[];r.forEach(({error:c,objectId:d})=>{d!=null&&c==null&&l.push(d)}),i.sublayers.forEach(c=>{Zu(c)&&this._selectionMap.has(c)&&this.removeFromSelection(c,l)})}}_setSelection(e,i){if(!this.sources.includes(e))throw new Error(`Cannot set selection on layer ${e.title} because it is not in 'sources'`);const r=this._selectionMap.get(e);if(r===void 0||!HEe(r,{selection:i})){r!==void 0&&this._trashCan.push(r),this._selectionMap.set(e,{selection:[...i]});const s={layer:e,selection:[...i],...m8(r!==void 0?r.selection:[],i)};this._onSelectionChange([s])}}};h([f()],Gn.prototype,"_selectionMap",void 0),h([f()],Gn.prototype,"_sources",void 0),h([f({readOnly:!0,nonNullable:!0})],Gn.prototype,"selections",null),h([f({readOnly:!0,nonNullable:!0})],Gn.prototype,"count",null),h([f()],Gn.prototype,"view",void 0),h([f({readOnly:!0,nonNullable:!0})],Gn.prototype,"hasSelection",null),h([f()],Gn.prototype,"showHighlight",void 0),h([f()],Gn.prototype,"sources",null),h([f()],Gn.prototype,"highlightName",void 0),Gn=h([I("esri.views.SelectionManager")],Gn);const DV=t=>{var e;return Wf(t)?((e=t.parent)==null?void 0:e.isTable)===!0:t.isTable},GEe=t=>t.layer!==void 0,LV=t=>(t==null?void 0:t.when)!==void 0,HEe=(t,e)=>{if(t==null&&e==null)return!0;if(t!=null&&e==null||t==null&&e!=null)return!1;if(t!=null&&e!=null&&t.selection!=null&&e.selection!=null){const i=[...t.selection],r=[...e.selection];if(i.length!==r.length)return!1;i.sort(),r.sort();for(let s=0;s<i.length;s++)if(i[s]!==r[s])return!1}return!0},VV=async(t,e,i={})=>{let r;if(GEe(t)){const s=t;r=s===void 0?null:await s.queryFeatures(new xe({...i,objectIds:e})).then(n=>({data:n,layer:t.layer}))}else{const s=t;r=s===void 0?null:await s.queryFeatures(new xe({...i,objectIds:e})).then(n=>({data:n,layer:s}))}return r},WEe=Gn;let Pv=class extends rt($e){constructor(e){super(e),this.accentColor=new Ne([255,127,0]),this.textColor=new Ne([255,255,255])}};h([f({type:Ne,nonNullable:!0})],Pv.prototype,"accentColor",void 0),h([f({type:Ne,nonNullable:!0})],Pv.prototype,"textColor",void 0),Pv=h([I("esri.views.Theme")],Pv);const Ok=Pv,HX=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],WX={};function ZX(t){return!!WX[t]}function ZEe(t){for(const e of t)if(!ZX(e))return!1;return!0}HX.forEach(t=>{WX[t]=!0});let YX=class{constructor(e){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=e,this.inputManager=null}connect(e){e&&this.disconnect(),this.inputManager=e,this._handlers.forEach(({handler:i,priority:r},s)=>{var n;return(n=this.inputManager)==null?void 0:n.installHandlers(s,[i],r)})}disconnect(){this.inputManager&&this._handlers.forEach((e,i)=>{var r;return(r=this.inputManager)==null?void 0:r.uninstallHandlers(i)}),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(e,i,r,s){const n=Array.isArray(e)?e:e.split(",");if(!ZEe(n))return n.some(ZX)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let o,l;Array.isArray(i)?l=i:(o=i,l=[]),typeof r=="function"?o=r:s=r,s=s??ou.DEFAULT;const c=this._createUniqueGroupName(),d=new YEe(this.view,n,l,o);this._handlers.set(c,{handler:d,priority:s});for(const m of n){const v=this._handlerCounts.get(m)||0;this._handlerCounts.set(m,v+1)}return this.inputManager&&this.inputManager.installHandlers(c,[d],s),at(()=>this._removeHandler(c,n))}hasHandler(e){return!!this._handlerCounts.get(e)}_removeHandler(e,i){if(this._handlers.has(e)){this._handlers.delete(e);for(const r of i){const s=this._handlerCounts.get(r);s===void 0||(s===1?this._handlerCounts.delete(r):this._handlerCounts.set(r,s-1))}}this.inputManager&&this.inputManager.uninstallHandlers(e)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}},YEe=class extends or{constructor(e,i,r,s){super(!0),this._latestDragStart=void 0,this.view=e;for(const n of i)switch(n){case"click":this.registerIncoming("click",r,o=>s(XEe(e,o)));break;case"double-click":this.registerIncoming("double-click",r,o=>s(QEe(e,o)));break;case"immediate-click":this.registerIncoming("immediate-click",r,o=>s(eAe(e,o)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",r,o=>s(tAe(e,o)));break;case"hold":this.registerIncoming("hold",r,o=>s(iAe(e,o)));break;case"drag":this.registerIncoming("drag",r,o=>{const l=this._wrapDrag(o);l&&s(l)});break;case"key-down":this.registerIncoming("key-down",r,o=>s(rAe(o)));break;case"key-up":this.registerIncoming("key-up",r,o=>s(sAe(o)));break;case"pointer-down":this.registerIncoming("pointer-down",r,o=>s(B0(o,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",r,o=>s(B0(o,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",r,o=>s(B0(o,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",r,o=>s(nAe(o)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",r,o=>s(oAe(o)));break;case"pointer-enter":this.registerIncoming("pointer-enter",r,o=>s(B0(o,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",r,o=>s(B0(o,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",r,o=>{s(aAe(o))});break;case"focus":this.registerIncoming("focus",r,o=>{s(JEe(o))});break;case"blur":this.registerIncoming("blur",r,o=>{s(KEe(o))})}}_wrapDrag(e){const i=e.data,{x:r,y:s}=i.center,{action:n,pointerType:o,button:l}=i;if(n==="start"&&(this._latestDragStart=i),!this._latestDragStart)return;const c=i.pointer.native,d=i.buttons,{cancelable:m,timestamp:v}=e,w={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return n==="end"&&(this._latestDragStart=void 0),{type:"drag",action:n,x:r,y:s,origin:w,pointerType:o,button:l,buttons:d,radius:i.radius,angle:mW(i.angle),native:c,timestamp:v,cancelable:m,stopPropagation:()=>e.stopPropagation(),defer:_=>e.defer(_),preventDefault:()=>e.preventDefault()}}};function JEe(t){return{type:"focus",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),defer:e=>t.defer(e),preventDefault:()=>t.preventDefault()}}function KEe(t){return{type:"blur",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),defer:e=>t.defer(e),preventDefault:()=>t.preventDefault()}}function XEe(t,e){const{pointerType:i,button:r,buttons:s,x:n,y:o,native:l,eventId:c}=e.data,{cancelable:d,timestamp:m}=e;return{type:"click",pointerType:i,button:r,buttons:s,x:n,y:o,native:l,timestamp:m,screenPoint:rr(n,o),mapPoint:Gw(t,n,o),eventId:c,cancelable:d,stopPropagation:()=>e.stopPropagation(),defer:v=>e.defer(v),preventDefault:()=>e.preventDefault()}}function QEe(t,e){const{pointerType:i,button:r,buttons:s,x:n,y:o,native:l,eventId:c}=e.data,{cancelable:d,timestamp:m}=e;return{type:"double-click",pointerType:i,button:r,buttons:s,x:n,y:o,native:l,timestamp:m,mapPoint:Gw(t,n,o),eventId:c,cancelable:d,stopPropagation:()=>e.stopPropagation(),defer:v=>e.defer(v),preventDefault:()=>e.preventDefault()}}function eAe(t,e){const{pointerType:i,button:r,buttons:s,x:n,y:o,native:l,eventId:c}=e.data,d=l.pointerId,{cancelable:m,timestamp:v}=e;return{type:"immediate-click",pointerId:d,pointerType:i,button:r,buttons:s,x:n,y:o,native:l,timestamp:v,mapPoint:Gw(t,n,o),eventId:c,cancelable:m,stopPropagation:()=>e.stopPropagation(),defer:w=>e.defer(w),preventDefault:()=>e.preventDefault()}}function tAe(t,e){const{pointerType:i,button:r,buttons:s,x:n,y:o,native:l,eventId:c}=e.data,d=l.pointerId,{cancelable:m,timestamp:v}=e;return{type:"immediate-double-click",pointerId:d,pointerType:i,button:r,buttons:s,x:n,y:o,native:l,timestamp:v,mapPoint:Gw(t,n,o),eventId:c,cancelable:m,stopPropagation:()=>e.stopPropagation(),defer:w=>e.defer(w),preventDefault:()=>e.preventDefault()}}function iAe(t,e){const{pointerType:i,button:r,buttons:s,x:n,y:o,native:l}=e.data,{cancelable:c,timestamp:d}=e;return{type:"hold",pointerType:i,button:r,buttons:s,x:n,y:o,native:l,timestamp:d,mapPoint:Gw(t,n,o),cancelable:c,stopPropagation:()=>e.stopPropagation(),defer:m=>e.defer(m),preventDefault:()=>e.preventDefault()}}function Gw(t,e,i){return t.toMap(rr(e,i),{exclude:[]})}function rAe(t){const{key:e,repeat:i,native:r}=t.data,{cancelable:s,timestamp:n}=t;return{type:"key-down",key:e,repeat:i,native:r,timestamp:n,cancelable:s,stopPropagation:()=>t.stopPropagation(),defer:o=>t.defer(o),preventDefault:()=>t.preventDefault()}}function sAe(t){const{key:e,native:i}=t.data,{cancelable:r,timestamp:s}=t;return{type:"key-up",key:e,native:i,timestamp:s,cancelable:r,stopPropagation:()=>t.stopPropagation(),defer:n=>t.defer(n),preventDefault:()=>t.preventDefault()}}function B0(t,e){const{x:i,y:r,button:s,buttons:n,native:o,eventId:l}=t.data,c=o.pointerId,d=o.pointerType,{cancelable:m,timestamp:v}=t;return{type:e,x:i,y:r,pointerId:c,pointerType:d,button:s,buttons:n,native:o,timestamp:v,eventId:l,cancelable:m,stopPropagation:()=>t.stopPropagation(),defer:w=>t.defer(w),preventDefault:()=>t.preventDefault()}}function nAe(t){const{x:e,y:i,buttons:r,native:s,eventId:n}=t.data.currentEvent,{button:o}=t.data.startEvent,l=t.data.startEvent.native.pointerId,c=t.data.startEvent.native.pointerType,d=t.data.action,m={x:t.data.startEvent.x,y:t.data.startEvent.y},{cancelable:v,timestamp:w}=t;return{type:"pointer-drag",x:e,y:i,pointerId:l,pointerType:c,button:o,buttons:r,action:d,origin:m,native:s,timestamp:w,eventId:n,cancelable:v,stopPropagation:()=>t.stopPropagation(),defer:_=>t.defer(_),preventDefault:()=>t.preventDefault()}}function oAe(t){const{cancelable:e,data:i,timestamp:r}=t,{x:s,y:n,deltaY:o,native:l}=i;return{type:"mouse-wheel",x:s,y:n,deltaY:o,native:l,timestamp:r,cancelable:e,stopPropagation:()=>t.stopPropagation(),defer:c=>t.defer(c),preventDefault:()=>t.preventDefault()}}function aAe(t){const{action:e,state:i,device:r}=t.data,{cancelable:s,timestamp:n}=t,{buttons:o,axes:l}=i;return{type:"gamepad",device:r,timestamp:n,action:e,buttons:o,axes:l,cancelable:s,stopPropagation:()=>t.stopPropagation(),defer:c=>t.defer(c),preventDefault:()=>t.preventDefault()}}const lAe="z",uAe="r",JX={cancel:"Escape",complete:"Enter"},eze={...JX,redo:uAe,undo:lAe,center:"Alt",constraint:"Shift",delete:["Backspace","Delete"],vertexAdd:"f",pan:" "},tze={toggle:"Control"},ize={enterInputMode:"Tab",commit:"Enter",discard:"Escape",next:"Tab"},rze={moveUp:{key:"ArrowUp",modifier:"Shift",repeats:!0},moveDown:{key:"ArrowDown",modifier:"Shift",repeats:!0},moveLeft:{key:"ArrowLeft",modifier:"Shift",repeats:!0},moveRight:{key:"ArrowRight",modifier:"Shift",repeats:!0},scaleUp:{key:"+",modifier:"Shift"},scaleDown:{key:"-",modifier:"Shift"},factorModifier:{key:qX,continuePropagation:!0},toggleOpacity:"t",preserveAspectRatio:{key:"Shift",continuePropagation:!0},rotateIncrements:{key:"Shift",continuePropagation:!0}};let sze=class{constructor(){this._bindings=new Map}add(e,i){return this.addToggle(e,r=>{r.type==="key-down"&&i(r)})}addToggle(e,i){const r=cAe.fromDefinition(e,i),s=ug(this._bindings,r.key,()=>[]);return s.push(r),at(()=>zC(s,r))}register(e,i=ou.WIDGET){return Sp([e.on("key-down",r=>this.dispatch(e.inputManager,r),i),e.on("key-up",r=>this.dispatch(e.inputManager,r),i)])}dispatch(e,i){const r=i.key,s=this._bindings.get(r);if(s)for(const n of s)n.process(e,i)}},cAe=class kk{constructor(e,i,r,s,n){this.key=e,this.modifiers=i,this.repeats=r,this.continuePropagation=s,this.callback=n}process(e,i){if(!(i.key!==this.key||"repeat"in i&&i.repeat&&!this.repeats)){for(const r of this.modifiers)if(!e.isModifierKeyDown(r))return;this.continuePropagation||i.stopPropagation(),this.callback(i)}}static fromDefinition(e,i){if(typeof e=="string")return new kk(e,[],!1,!1,i);const{key:r,modifier:s,repeats:n,continuePropagation:o}=e;return new kk(r,s?Array.isArray(s)?s:[s]:[],!!n,!!o,i)}};function hAe(t){return[t.on("before-add",e=>{const i=e.item;if(i==null||t.includes(i))return se.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void e.preventDefault();i.onAdd()}),t.on("after-remove",e=>{const i=e.item;i.active&&(i.view.activeTool=null),i.destroy()})]}function Ck(t){return t.visible&&t.getEditableFlag!=null&&t.getEditableFlag(0)&&t.getEditableFlag(1)}function dAe(t){return t.type==="key-down"&&t.key===JX.cancel}function wa(t){return rr(t.x,t.y)}function KX(t,e){var r;const i=(r=t instanceof HTMLElement?t:t.surface)==null?void 0:r.getBoundingClientRect();return i?rr(e.clientX-i.left,e.clientY-i.top):rr(0,0)}function XX(t,e){return e instanceof Event?KX(t,e):wa(e)}function QX(t){if(t instanceof Event)return!0;if(typeof t=="object"&&"type"in t)switch(t.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}let yS=class extends $e{constructor(){super(...arguments),this._pointerLocations=new Map,this._hoveredManipulators=new Hm,this._grabbedManipulators=new Hm,this._draggedManipulators=new Map,this._stopDrag=!1,this._externallyDragging=!1,this._revertToNullActiveTool=!1}get cursor(){return this._cursorFromMap(this._grabbedManipulators,"grabbing")??this._cursorFromMap(this._hoveredManipulators,"pointer")}get hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(e,i){const r=()=>e.stopPropagation();switch(e.type){case"pointer-move":FV(e.pointerType)&&this._pointerLocations.set(e.pointerId,{x:e.x,y:e.y,pointerType:e.pointerType});break;case"drag":this._grabbedManipulators.size>0?this._stopDrag=!0:e.action==="start"?this._externallyDragging=!0:e.action==="end"&&(this._externallyDragging=!1),this._stopDrag&&(r(),e.action==="end"&&(this._stopDrag=!1));break;case"pointer-down":{if(!zV(e))break;const s=wa(e),n=kf(s,e.pointerType,i.tools);if(n==null)break;const o=n.manipulator,l=n.tool;o==null||l==null||!o.interactive||o.grabbable&&o.grabbableForEvent(e)||!o.grabbing||o.dragging||this._releaseManipulatorBeforeDragging(o,e,i),o!=null&&l!=null&&o.interactive&&o.grabbable&&o.grabbableForEvent(e)&&!o.grabbing&&(this._grabbedManipulators.set(e.pointerId,{manipulator:o,tool:l,start:s,pointerType:e.pointerType}),this._grabbedManipulators.size===1&&i.activeTool==null&&(this._revertToNullActiveTool=!0,i.setActiveTool(n.tool)),o.grabbing=!0,o.events.emit("grab-changed",{action:"start",pointerType:e.pointerType,screenPoint:s}),r());break}case"pointer-up":this._draggedManipulators.has(e.pointerId)||this._handlePointerEnd(e,i);break;case"pointer-drag":{if(!zV(e))break;const s=this._grabbedManipulators.get(e.pointerId),n=s==null?void 0:s.manipulator,o=s==null?void 0:s.tool;if(n==null||o==null)break;const l=wa(e);l.x=_n(l.x,0,i.view.width),l.y=_n(l.y,0,i.view.height);const c=s.start,d=this._draggedManipulators.get(e.pointerId);switch(e.action){case"start":case"update":e.action!=="update"&&this._grabbedManipulators.size!==1||(n.dragging=!0,d?n.events.emit("drag",{action:"update",start:c,screenPoint:l}):n.events.emit("drag",{action:"start",start:c,screenPoint:l,pointerType:e.pointerType}),this._draggedManipulators.set(e.pointerId,{tool:o,manipulator:n,start:c}));break;case"end":n.dragging=!1,d&&n.events.emit("drag",{action:"end",start:c,screenPoint:l}),this._draggedManipulators.delete(e.pointerId),this._handlePointerEnd(e,i)}r();break}case"immediate-click":{const s=wa(e),n=kf(s,e.pointerType,i.tools);if(!pAe(e)){for(const d of i.tools)if((n==null||n.tool!==d||d.automaticManipulatorSelection)&&d.manipulators){let m=!1;d.manipulators.forEach(({manipulator:v})=>{v.selected&&(v.selected=!1,m=!0)}),m&&d.onManipulatorSelectionChanged&&d.onManipulatorSelectionChanged()}}if(n==null)break;const{manipulator:o,tool:l}=n;if(!o.interactive)break;o.selectable&&l.automaticManipulatorSelection&&(o.selected=!o.selected,l.onManipulatorSelectionChanged&&l.onManipulatorSelectionChanged());const c=e.native.shiftKey;o.events.emit("immediate-click",{screenPoint:s,button:e.button,pointerType:e.pointerType,shiftKey:c,stopPropagation:r}),G5(o,r);break}case"click":{const s=wa(e),n=kf(s,e.pointerType,i.tools),o=n==null?void 0:n.manipulator;if(o==null||!o.interactive)break;const l=e.native.shiftKey;o.events.emit(e.type,{screenPoint:s,button:e.button,pointerType:e.pointerType,shiftKey:l}),r();break}case"double-click":{const s=wa(e),n=kf(s,e.pointerType,i.tools),o=n!=null?n.manipulator:null;if(o==null||!o.interactive)break;const l=e.native.shiftKey;o.events.emit("double-click",{screenPoint:s,button:e.button,pointerType:e.pointerType,shiftKey:l,stopPropagation:r}),G5(o,r);break}case"immediate-double-click":{const s=wa(e),n=kf(s,e.pointerType,i.tools),o=n!=null?n.manipulator:null;if(o==null||!o.interactive)break;const l=e.native.shiftKey;o.events.emit("immediate-double-click",{screenPoint:s,button:e.button,pointerType:e.pointerType,shiftKey:l,stopPropagation:r}),e.pointerType==="mouse"&&G5(o,r);break}}this._onFocusChange(i.tools)}_releaseManipulatorBeforeDragging(e,i,r){e.grabbing=!1,e.events.emit("grab-changed",{action:"end",pointerType:i.pointerType,screenPoint:wa(i)}),this._grabbedManipulators.forEach(({manipulator:s},n)=>{s===e&&this._grabbedManipulators.delete(n)}),this._afterManipulatorRelease(r.setActiveTool)}_handlePointerEnd(e,i){var s;const r=(s=this._grabbedManipulators.get(e.pointerId))==null?void 0:s.manipulator;r!=null&&r.grabbing&&(r.grabbing=!1,r.events.emit("grab-changed",{action:"end",pointerType:e.pointerType,screenPoint:wa(e)}),this._grabbedManipulators.delete(e.pointerId),this._afterManipulatorRelease(i.setActiveTool))}_onFocusChange(e){this._updateFocusedManipulatorTools(e)}_updateFocusedManipulatorTools(e){const i=new Set,r=new Set;this._grabbedManipulators.forEach(({tool:s})=>i.add(s)),this._hoveredManipulators.forEach(({tool:s})=>r.add(s));for(const s of e){s.hasGrabbedManipulators=i.has(s),s.hasHoveredManipulators=r.has(s);const n=this._grabbedManipulators.values(),o=jce(n,({tool:l})=>l===s);s.firstGrabbedManipulator=o!=null?o.manipulator:null}}clearPointers(e,{tools:i,setActiveTool:r},s=!0,n){const o=(l,c)=>l===e&&(n==null||n===c);this._grabbedManipulators.forEach(({tool:l,manipulator:c,pointerType:d},m)=>{o(l,c)&&(this._grabbedManipulators.delete(m),c.grabbing=!1,c.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:d}))}),this._draggedManipulators.forEach(({tool:l,manipulator:c},d)=>{o(l,c)&&(this._draggedManipulators.delete(d),c.dragging=!1,c.events.emit("drag",{action:"cancel"}))}),s&&this._hoveredManipulators.forEach(({tool:l,manipulator:c},d)=>{o(l,c)&&(this._hoveredManipulators.delete(d),c.hovering=!1)}),this._afterManipulatorRelease(r),this._onFocusChange(i)}updateHoveredStateFromKnownPointers(e){this._pointerLocations.forEach((i,r)=>{this._updateHoveredStateForPointerAtScreenPosition(rr(i.x,i.y),r,i.pointerType,e)})}handleHoverEvent(e,i){const r=e.type;r!=="pointer-up"&&r!=="immediate-click"&&r!=="pointer-move"||!FV(e.pointerType)||(r!=="pointer-up"&&this._externallyDragging?this._clearHoveredManipulatorStates(e.pointerId):this._updateHoveredStateForPointerAtScreenPosition(wa(e),e.pointerId,e.pointerType,i))}_updateHoveredStateForPointerAtScreenPosition(e,i,r,s){var l;let n=kf(e,r,s);const o=(l=this._hoveredManipulators.get(i))==null?void 0:l.manipulator;n==null||n.manipulator.interactive||(n=null),n!=null&&o===n.manipulator||(o!=null&&(o.hovering=!1),n!=null?(n.manipulator.hovering=!0,this._hoveredManipulators.set(i,n)):this._hoveredManipulators.delete(i),this._onFocusChange(s))}_afterManipulatorRelease(e){this._grabbedManipulators.size===0&&this._revertToNullActiveTool&&(e(null),this._revertToNullActiveTool=!1)}_clearHoveredManipulatorStates(e){this._hoveredManipulators.forEach(({manipulator:i},r)=>{e===r&&(this._hoveredManipulators.delete(e),i.hovering=!1)})}_cursorFromMap(e,i){if(!(e!=null&&e.size))return null;for(const{manipulator:r}of e.values())if(r!=null&&r.interactive){if(r.grabbing&&r.grabCursor)return r.grabCursor;if(r.cursor)return r.cursor}return i}};function kf(t,e,i){for(const r of i){if(r.manipulators==null||!Ck(r))continue;const s=r.manipulators.intersect(t,e);if(s!=null)return{tool:r,manipulator:s}}return null}function FV(t){return t==="mouse"}function zV(t){return t.pointerType!=="mouse"||t.button===0}function pAe(t){return!!t.native.shiftKey}function G5(t,e){t!=null&&t.consumesClicks&&e()}h([f()],yS.prototype,"cursor",null),yS=h([I("esri.views.interactive.ToolViewManagerManipulatorState")],yS);const UV="attached",H5="tools",fAe=1e3;let ba=class extends $e{constructor(e){super(e),this._updatingHandles=new Yd,this._clock=og,this._manipulatorState=new yS,this.tools=new ge,this._interacting=!1,this._interactingTimeout=fAe,this._interactingTimeoutHandle=null}initialize(){this.addHandles([this.view.on(HX,e=>{this._handleInputEvent(e)},ou.TOOL),...hAe(this.tools),this.tools.on("before-add",({item:e})=>{this._updateToolEditableFlag(e)}),this.tools.on("before-remove",({item:e})=>{this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs)}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null,this.tools.drain(e=>e.destroy()),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy(),this._manipulatorState.destroy()}get _manipulatorStateEventArgs(){return{tools:this.tools,activeTool:this.activeTool,setActiveTool:e=>{this.activeTool=e},view:this.view}}set activeTool(e){if(e!=null&&!this.view.ready)return void se.getLogger(this).error("Cannot set active tool while view is not ready.");if(e===this.activeTool)return;const i=this.activeTool;this._set("activeTool",e),i!=null&&i.deactivate(),e!=null&&e.activate(),this._removeIncompleteTools(e);for(const r of this.tools){this._updateToolEditableFlag(r);const s=Ck(r);this.activeTool!=null&&s||this._manipulatorState.clearPointers(r,this._manipulatorStateEventArgs,!s)}}get cursor(){const e=this._manipulatorState.cursor;if(e!=null)return e;for(const i of this.tools)if(i.visible&&i.cursor!=null)return i.cursor;return null}get updating(){return this._updatingHandles.updating||this.tools.some(e=>e.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=Dt(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){this.view.type==="3d"?this.addHandles([Le(()=>{const{state:e}=this.view;return"camera"in e&&e.camera},()=>this._forEachManipulator(e=>e.onViewChange())),this.view.elevationProvider.on("elevation-change",e=>this._forEachManipulator(i=>i.onElevationChange(e)))],UV):this.addHandles(Le(()=>this.view.extent,()=>this._forEachManipulator(e=>e.onViewChange())))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(UV),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(e){for(const i of this.tools)i.manipulators&&i.manipulators.forEach(({manipulator:r})=>e(r,i))}_handleInputEvent(e){let i=!1;const r={...e,stopPropagation:()=>{i=!0,e.stopPropagation()}};if(this.activeTool!=null)this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(r);else for(const s of this.tools)!i&&s.visible&&s.handleInputEvent(r);!i&&dAe(e)&&this.activeTool&&(e.stopPropagation(),e.preventDefault(),this.activeTool.cancel(),this.activeTool=null),this._manipulatorState.handleInputEvent(r,this._manipulatorStateEventArgs),i||this.activeTool==null||this.activeTool.handleInputEventAfter(r),this._manipulatorState.handleHoverEvent(r,this.tools),e.type==="pointer-move"&&(this._manipulatorState.hasFocusedManipulators||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles(H5);for(const e of this.tools){if(e instanceof $e){const i=Le(()=>[e.cursor,e.visible,e.editable],()=>{Ck(e)||this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs)});this.addHandles(i,H5)}e.manipulators&&this.addHandles([e.manipulators.on("after-remove",i=>{this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs,!0,i.item.manipulator)}),e.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this.tools)})],H5)}this._manipulatorState.updateHoveredStateFromKnownPointers(this.tools)}_updateToolEditableFlag(e){var i;(i=e.setEditableFlag)==null||i.call(e,1,this.activeTool==null||e===this.activeTool)}_removeIncompleteTools(e){this.tools.filter(i=>(e==null||i!==e)&&!i.created&&i.removeIncompleteOnCancel).forEach(i=>{this.tools.remove(i)})}get test(){}};h([f({constructOnly:!0,nonNullable:!0})],ba.prototype,"view",void 0),h([f({value:null})],ba.prototype,"activeTool",null),h([f({readOnly:!0,type:ge})],ba.prototype,"tools",void 0),h([f()],ba.prototype,"cursor",null),h([f({readOnly:!0})],ba.prototype,"updating",null),h([f()],ba.prototype,"_interacting",void 0),h([f({readOnly:!0})],ba.prototype,"interacting",null),ba=h([I("esri.views.ToolViewManager")],ba);const mAe=new Ne("cyan"),yAe=1,gAe=.25,vAe=new Ne("black"),wAe=.4,bAe=.2,lze=.25,eQ="default",_Ae="temporary",SAe=new Ne("yellow");var Rk;let cn=Rk=class extends $e{constructor(t){super(t),this.name=eQ,this.color=mAe.clone(),this.haloColor=null,this.haloOpacity=yAe,this.fillOpacity=gAe,this.shadowColor=vAe.clone(),this.shadowOpacity=wAe,this.shadowDifference=bAe,this.haloWidth=2.1,this.haloBlur=.8/this.haloWidth}equals(t){return this.color.equals(t.color)&&(this.haloColor||this.color).equals(t.haloColor||t.color)&&this.haloOpacity===t.haloOpacity&&this.fillOpacity===t.fillOpacity&&this.haloWidth===t.haloWidth&&this.haloBlur===t.haloBlur&&this.shadowColor.equals(t.shadowColor)&&this.shadowOpacity===t.shadowOpacity&&this.shadowDifference===t.shadowDifference}clone(){var t,e;return new Rk({...this,color:this.color.clone(),haloColor:(t=this.haloColor)==null?void 0:t.clone(),shadowColor:(e=this.shadowColor)==null?void 0:e.clone()})}assignFrom(t){var e;this.color=t.color.clone(),this.haloColor=(e=t.haloColor)==null?void 0:e.clone(),this.haloOpacity=t.haloOpacity,this.fillOpacity=t.fillOpacity,this.shadowColor=t.shadowColor.clone(),this.shadowDifference=t.shadowDifference,this.shadowOpacity=t.shadowOpacity,this.haloBlur=t.haloBlur,this.haloWidth=t.haloWidth}};h([f({type:String,constructOnly:!0,nonNullable:!0})],cn.prototype,"name",void 0),h([f({type:Ne,nonNullable:!0})],cn.prototype,"color",void 0),h([f({type:Ne})],cn.prototype,"haloColor",void 0),h([f({nonNullable:!0})],cn.prototype,"haloOpacity",void 0),h([f({nonNullable:!0})],cn.prototype,"fillOpacity",void 0),h([f({type:Ne,nonNullable:!0})],cn.prototype,"shadowColor",void 0),h([f({nonNullable:!0})],cn.prototype,"shadowOpacity",void 0),h([f({nonNullable:!0})],cn.prototype,"shadowDifference",void 0),h([f({nonNullable:!0})],cn.prototype,"haloWidth",void 0),h([f({nonNullable:!0})],cn.prototype,"haloBlur",void 0),cn=Rk=h([I("esri.views.support.HighlightOptions")],cn);const jc=cn;function xAe(){return new(ge.ofType(jc))([new jc({name:eQ}),new jc({name:_Ae,color:SAe})])}let Qf=class extends $e{constructor(e){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",e.mapping==="standard"?this._detectedDeviceType="standard":TAe.test(e.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=e.index}get native(){const e=navigator.getGamepads?navigator.getGamepads():[];return this.nativeIndex!=null&&this.nativeIndex<e.length?e[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return $Ae[this.deviceType]}};h([f({nonNullable:!0,readOnly:!0})],Qf.prototype,"nativeIndex",void 0),h([f({type:String,readOnly:!0})],Qf.prototype,"deviceType",null),h([f({type:Number,readOnly:!0})],Qf.prototype,"axisThreshold",null),Qf=h([I("esri.views.input.gamepad.GamepadInputDevice")],Qf);const H6=Qf,TAe=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),$Ae={standard:.15,spacemouse:.025,unknown:0};let jv=class extends $e{constructor(e){super(e),this.devices=new ge,this.enabledFocusMode="document"}};h([f({type:ge.ofType(H6),readOnly:!0})],jv.prototype,"devices",void 0),h([f({type:["document","view","none"]})],jv.prototype,"enabledFocusMode",void 0),jv=h([I("esri.views.input.gamepad.GamepadSettings")],jv);const MAe=jv;let gS=class extends $e{constructor(){super(...arguments),this.gamepad=new MAe}};h([f({readOnly:!0})],gS.prototype,"gamepad",void 0),gS=h([I("esri.views.input.Input")],gS);const EAe=gS,W5=()=>f({type:["pan","rotate","zoom","none"],nonNullable:!0});let dd=class extends $e{constructor(e){super(e),this.dragPrimary="pan",this.dragSecondary="rotate",this.dragTertiary="zoom",this.mouseWheel="zoom"}};h([W5()],dd.prototype,"dragPrimary",void 0),h([W5()],dd.prototype,"dragSecondary",void 0),h([W5()],dd.prototype,"dragTertiary",void 0),h([f({type:["zoom","none"],nonNullable:!0})],dd.prototype,"mouseWheel",void 0),dd=h([I("esri.views.navigation.NavigationActionMap")],dd);const W6=dd;let nc=class extends $e{constructor(e){super(e),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};h([f({type:Boolean,nonNullable:!0})],nc.prototype,"enabled",void 0),h([f({type:H6})],nc.prototype,"device",void 0),h([f({type:["pan","zoom"],nonNullable:!0})],nc.prototype,"mode",void 0),h([f({type:["forward-down","forward-up"],nonNullable:!0})],nc.prototype,"tiltDirection",void 0),h([f({type:Number,nonNullable:!0})],nc.prototype,"velocityFactor",void 0),nc=h([I("esri.views.navigation.gamepad.GamepadSettings")],nc);const tQ=nc;let oc=class extends $e{constructor(e){super(e),this.actionMap=new W6,this.browserTouchPanEnabled=!0,this.gamepad=new tQ,this.momentumEnabled=!0}get mouseWheelZoomEnabled(){return this.actionMap.mouseWheel==="zoom"}set mouseWheelZoomEnabled(e){qE(se.getLogger(this),"mouseWheelZoomEnabled",{replacement:"actionMap.mouseWheel",version:"4.32",warnOnce:!0}),this.actionMap.mouseWheel=e?"zoom":"none"}};h([f({type:W6,nonNullable:!0})],oc.prototype,"actionMap",void 0),h([f({type:Boolean})],oc.prototype,"browserTouchPanEnabled",void 0),h([f({type:tQ,nonNullable:!0})],oc.prototype,"gamepad",void 0),h([f({type:Boolean})],oc.prototype,"momentumEnabled",void 0),h([f({type:Boolean})],oc.prototype,"mouseWheelZoomEnabled",null),oc=h([I("esri.views.navigation.Navigation")],oc);const JT=oc;function mze(t,e,i){const r=iQ(t),s=e,n=AAe(r,s,i);if(r){const o=Ns.deriveUnitFromSR(r,t.spatialReference).heightUnit;if(!i&&o!==r.heightUnit){const l=new B("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${o})`,{horizontalUnit:o});return new B("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:r,error:l})}}if(!OAe(t)||n===4)return new B("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:r});switch(n){case 1:{const o=(r==null?void 0:r.heightUnit)||"unknown",l=(s==null?void 0:s.heightUnit)||"unknown",c=new B("layerview:incompatible-height-unit",`The vertical units of the layer (${o}) must match the vertical units of the scene (${l})`,{layerUnit:o,sceneUnit:l});return new B("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:s,error:c})}case 2:{const o=(r==null?void 0:r.heightModel)||"unknown",l=(s==null?void 0:s.heightModel)||"unknown",c=new B("layerview:incompatible-height-model",`The height model of the layer (${o}) must match the height model of the scene (${l})`,{layerHeightModel:o,sceneHeightModel:l});return new B("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:s,error:c})}case 3:{const o=(r==null?void 0:r.vertCRS)||"unknown",l=(s==null?void 0:s.vertCRS)||"unknown",c=new B("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${o}) must match the vertical datum of the scene (${l})`,{layerDatum:o,sceneDatum:l});return new B("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:s,error:c})}}return null}function AAe(t,e,i){if(!qV(t)||!qV(e))return 4;if(t==null||e==null)return 0;if(!i&&t.heightUnit!==e.heightUnit)return 1;if(t.heightModel!==e.heightModel)return 2;switch(t.heightModel){case"gravity-related-height":return 0;case"ellipsoidal":return t.vertCRS===e.vertCRS?0:3;default:return 4}}function qV(t){return t==null||t.heightModel!=null&&t.heightUnit!=null}function OAe(t){return"heightModelInfo"in t&&t.heightModelInfo!=null||t.spatialReference!=null||!nQ(t)}function iQ(t){var r;if(t.type==="integrated-mesh-3dtiles"||t.type==="gaussian-splat")return null;const e=t.url?Rw(t.url):void 0;return!(((r=t.spatialReference)==null?void 0:r.vcsWkid)==null&&e!=null&&e.serverType==="ImageServer")&&rQ(t)&&t.heightModelInfo?t.heightModelInfo:nQ(t)?Ns.deriveUnitFromSR(CAe,t.spatialReference):null}function rQ(t){return"heightModelInfo"in t}function sQ(t){if(t.type==="unknown"||!("capabilities"in t))return!1;switch(t.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function nQ(t){return sQ(t)?!!(t.capabilities&&t.capabilities.data&&t.capabilities.data.supportsZ):oQ(t)}function kAe(t){return t.layers!=null||oQ(t)||sQ(t)||rQ(t)}function oQ(t){switch(t.type){case"building-scene":case"elevation":case"integrated-mesh":case"integrated-mesh-3dtiles":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"catalog":case"catalog-footprint":case"catalog-dynamic-group":case"csv":case"dimension":case"gaussian-splat":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"parquet":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"video":case"viewshed":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}const CAe=new Ns({heightModel:"gravity-related-height"});let Ik,Z5=null;async function RAe(t){Z5||(Z5=re(()=>import("./geometryServiceUtils-CekgOBYB.js"),__vite__mapDeps([219,220])).then(e=>Ik=e)),await Z5,Gt(t)}async function aQ(t,e,i,r){if(!t)return null;const s=t.spatialReference;return pu()||ea(s,e)?ah(t,e):Ik?Ik.projectGeometry(t,e,i,r):(await Promise.race([RAe(r),Kc(r)]),aQ(t,e,i,r))}async function yze(t,e){try{return t!=null&&t.spatialReference?await eX(t,e):null}catch{return null}}let It=class extends $e{constructor(e){super(e),this.required={extent:!1,heightModelInfo:!1,tileInfo:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=sp(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference??this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return this.userSpatialReference==null||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){var r,s,n,o,l;const e=(r=this.map)==null?void 0:r.call(this),i=[];return this.priorityCollection!=null&&i.push(this.priorityCollection),i.push({parent:e==null?void 0:e.basemap,layers:(s=e==null?void 0:e.basemap)==null?void 0:s.baseLayers},{parent:e==null?void 0:e.basemap,layers:(n=e==null?void 0:e.basemap)==null?void 0:n.groundLayers},{layers:e==null?void 0:e.layers},{parent:e==null?void 0:e.ground,layers:(o=e==null?void 0:e.ground)==null?void 0:o.layers},{parent:e==null?void 0:e.basemap,layers:(l=e==null?void 0:e.basemap)==null?void 0:l.referenceLayers}),i}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};let e;if(this._collectLayers(this.mapCollections,r=>{const s=this._getSupportedSpatialReferences(r);if(s.length>0){const n=this._narrowDownSpatialReferenceCandidates(e,s);n!=null&&(e=n)}return(e==null?void 0:e.length)===1})&&(e==null?void 0:e.length)!==1)return{updating:!0};const i=this._pickSpatialReferenceCandidate(e);return{spatialReference:(i==null?void 0:i.spatialReference)??null,viewingMode:(i==null?void 0:i.viewingMode)??null,updating:!1}}get _tileInfoTask(){var n,o,l;if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};const e=(n=this.map)==null?void 0:n.call(this),i=this.spatialReference;if(!i)return{updating:this._spatialReferenceTask.updating};let r;const s=this._collectLayers([{parent:e==null?void 0:e.basemap,layers:(o=e==null?void 0:e.basemap)==null?void 0:o.baseLayers},{parent:e==null?void 0:e.basemap,layers:(l=e==null?void 0:e.basemap)==null?void 0:l.groundLayers},{layers:e==null?void 0:e.layers}],c=>{var d;return!(!("tileInfo"in c)||!((d=c.tileInfo)!=null&&d.spatialReference.equals(i)))&&(r=c,!0)},c=>"tileInfo"in c);return r?{tileInfo:r.tileInfo,updating:!1}:{updating:s}}get _heightModelInfoTask(){var r;if(!this.required.heightModelInfo||this.suspended&&((r=this._get("_heightModelInfoTask"))!=null&&r.heightModelInfo))return this._get("_heightModelInfoTask")??{updating:!1};let e={};const i=this._collectLayers(this.mapCollections,s=>{var o,l;const n=iQ(s);return!!n&&(e={heightModelInfo:n,vcsWkid:(o=s.spatialReference)==null?void 0:o.vcsWkid,latestVcsWkid:(l=s.spatialReference)==null?void 0:l.latestVcsWkid},!0)},s=>kAe(s));return{...e,updating:i}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const e=[],i=this._collectLayers(this.mapCollections,r=>{const s="fullExtents"in r&&r.fullExtents||(r.fullExtent!=null?[r.fullExtent]:[]),n=this.requiresExtentInSpatialReference?null:s[0],o=s.find(l=>l.spatialReference.equals(this.spatialReference))??n;if(o)return e.push({extent:o,layer:r}),!0;if(this._getSupportedSpatialReferences(r).length>0)for(const l of s)e.push({extent:l,layer:r});return!1});return{candidates:e,updating:i}}get _extentTask(){const{candidates:e,updating:i}=this._extentCandidatesTask;if(i)return{updating:i};if(e==null||e.length===0)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const r=this._pickExtentCandidate(e),s=this.spatialReference;return r.extent.equals(this._projectExtentTask.input)&&s.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:this._projectExtentTask.task!=null&&!this._projectExtentTask.task.finished}:(this._projectExtentTask.task!=null&&(this._projectExtentTask.task=sp(this._projectExtentTask.task)),this._projectExtentTask={input:r.extent.clone(),output:null,spatialReference:s.clone(),task:LT(async n=>{try{const o=await aQ(r.extent,s,"portalItem"in r.layer?r.layer.portalItem:void 0,n);this._projectExtentTask={...this._projectExtentTask,task:null,output:o}}catch{if(Kr(n))return;this._projectExtentTask={...this._projectExtentTask,task:null}}})},{updating:!0})}_narrowDownSpatialReferenceCandidates(e,i){if(e==null)return i;const r=new Array;for(const s of e)for(const n of i){if(!s.spatialReference.equals(n.spatialReference))continue;const o=PAe(s.viewingMode,n.viewingMode);if(o!==!1){r.push({spatialReference:s.spatialReference,viewingMode:o});break}}return r.length>0?r:null}_pickSpatialReferenceCandidate(e){const i=this.defaultSpatialReference;return e==null||e.length<1?i?{spatialReference:i,viewingMode:null}:null:(i!=null&&e.length>1&&e.some(({spatialReference:r})=>r.equals(i))&&(e=e.filter(({spatialReference:r})=>r.equals(i))),e.length>1&&e.some(({viewingMode:r})=>r!==2)&&(e=e.filter(({viewingMode:r})=>r!==2)),e[0])}_getSupportedSpatialReferences(e){const i="supportedSpatialReferences"in e&&e.supportedSpatialReferences||(e.spatialReference?[e.spatialReference]:[]);if(i.length===0)return[];const r=[];for(const s of i){const n=this.getSpatialReferenceSupport(s,e);if(n!=null){const o=n.constraints??[{spatialReference:s,viewingMode:null}];for(const{spatialReference:l,viewingMode:c}of o)this.requiresExtentInSpatialReference&&this.userSpatialReference!=null&&!l.equals(this.userSpatialReference)||r.push({spatialReference:l,viewingMode:c})}}return r}_pickExtentCandidate(e){const i=this.spatialReference;return e.find(({extent:r})=>i.equals(r.spatialReference))||e[0]}_collectLayers(e,i,r=()=>!0){var n;switch(this._loadMaybe((n=this.map)==null?void 0:n.call(this))){case"loading":return!0;case"failed":return!1}const s=new IAe(r,i);for(const o of e)if(this._collectCollection(o,s),s.done||s.preloading===this.sourcePreloadCount)break;return s.updating}_collectCollection(e,i){if(e.layers){switch(this._loadMaybe(e.parent)){case"loading":return i.updating=!0,void++i.preloading;case"failed":return}for(const r of e.layers)if((r.type!=="graphics"||!r.internal)&&i.layerFilter(r)){switch(this._loadMaybe(r)){case"failed":continue;case"loading":i.updating=!0,++i.preloading;break;case"loaded":if(i.updating||(i.done=i.pushLayer(r)),i.done||i.preloading===this.sourcePreloadCount)break;"layers"in r&&this._collectCollection({layers:r.layers},i)}if(i.done||i.preloading===this.sourcePreloadCount)break}}}_loadMaybe(e){return e&&"loadStatus"in e&&e.loadStatus!=null?e.loadStatus==="not-loaded"?(e.load().catch(i=>{Cr(i)}),"loading"):e.loadStatus:"loaded"}};h([f()],It.prototype,"required",void 0),h([f({constructOnly:!0})],It.prototype,"map",void 0),h([f({constructOnly:!0})],It.prototype,"getSpatialReferenceSupport",void 0),h([f()],It.prototype,"defaultSpatialReference",void 0),h([f()],It.prototype,"userSpatialReference",void 0),h([f()],It.prototype,"sourcePreloadCount",void 0),h([f()],It.prototype,"priorityCollection",void 0),h([f()],It.prototype,"requiresExtentInSpatialReference",void 0),h([f()],It.prototype,"suspended",void 0),h([f({readOnly:!0})],It.prototype,"ready",null),h([f({readOnly:!0})],It.prototype,"heightModelInfoReady",null),h([f({readOnly:!0})],It.prototype,"spatialReference",null),h([f({readOnly:!0})],It.prototype,"extent",null),h([f({readOnly:!0})],It.prototype,"heightModelInfo",null),h([f({readOnly:!0})],It.prototype,"vcsWkid",null),h([f({readOnly:!0})],It.prototype,"latestVcsWkid",null),h([f({readOnly:!0})],It.prototype,"viewingMode",null),h([f({readOnly:!0})],It.prototype,"tileInfo",null),h([f({readOnly:!0})],It.prototype,"mapCollections",null),h([f({readOnly:!0})],It.prototype,"_spatialReferenceTask",null),h([f({readOnly:!0})],It.prototype,"_tileInfoTask",null),h([f({readOnly:!0})],It.prototype,"_heightModelInfoTask",null),h([f({readOnly:!0})],It.prototype,"_extentCandidatesTask",null),h([f()],It.prototype,"_extentTask",null),h([f()],It.prototype,"_projectExtentTask",void 0),It=h([I("esri.views.support.DefaultsFromMap")],It);let IAe=class{constructor(e,i){this.layerFilter=e,this.pushLayer=i,this.preloading=-1,this.updating=!1,this.done=!1}};function PAe(t,e){return t!=null?e!=null?t===e&&t:t:e}function jAe(t){return"tryRecycleWith"in t}let NAe=class{constructor(e,i,r){this.layer=e,this.view=i,this.layerViewImporter=r,this._controller=new AbortController,this._started=!1,this.done=!1,this._deferred=bn(),this.promise=this._deferred.promise,ao(this._controller.signal,()=>{var n,o;(n=this._recycleController)==null||n.abort();const s=new B("cancelled:layerview-create","layerview creation cancelled",{layer:e});(o=this._deferred)==null||o.reject(s)})}tryRecycle(e){var s;if(!this.done||!this.layerView||!jAe(this.layerView))return null;(s=this._recycleController)==null||s.abort(),this._recycleController=new AbortController;const i=this.layer.type,r=this._recycleController.signal;for(let n=0;n<e.length;n++){const o=e[n];if(o.type!==i)continue;const l=this.layerView.tryRecycleWith(o,{signal:r});if(l){e.splice(n,1),this.layer=o;const c=this.layerView,d=c.view;return this.promise=l.then(()=>(Gt(r),o.emit("layerview-destroy",{view:d,layerView:c}),d.emit("layerview-destroy",{view:d,layerView:c}),o.emit("layerview-create",{view:d,layerView:c}),d.emit("layerview-create",{view:d,layerView:c}),c)),this.promise}}return null}destroy(){this._controller.abort();const{layerView:e}=this;if(e){const{layer:i,view:r}=this;i.emit("layerview-destroy",{view:r,layerView:e}),r.emit("layerview-destroy",{layer:i,layerView:e})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null,this.promise=null,this._deferred=null}async start(){var s,n,o,l,c;const{view:e}=this;if(this._started||!e.map)return;this._started=!0;const{_controller:{signal:i},layer:r}=this;this._map=e.map;try{let d,m;if(await r.load({signal:i}),r.prefetchResources&&await r.prefetchResources({signal:i}),DAe(r))d=await r.createLayerView(e,{signal:i});else{if(!this.layerViewImporter.hasLayerViewModule(r))throw new B("layer:view-not-supported","No layerview implementation was found");const _=await this.layerViewImporter.importLayerView(r);Gt(i),d="default"in _?new _.default({layer:r,view:e}):new _({layer:r,view:e})}const v=()=>{m=Dt(m),d.destroyed||d.destroy(),this.done=!0};m=ao(i,v),Gt(i);try{await d.when()}catch(_){throw v(),_}if(!((n=(s=this._map)==null?void 0:s.allLayers)==null?void 0:n.includes(r)))return v(),void((o=this._deferred)==null?void 0:o.reject(new B("view:no-layerview-for-layer","The layer has been removed from the map",{layer:r})));this.layerView=d,r.emit("layerview-create",{view:e,layerView:d}),e.emit("layerview-create",{layer:r,layerView:d}),this.done=!0,(l=this._deferred)==null||l.resolve(d)}catch(d){r.emit("layerview-create-error",{view:e,error:d}),e.emit("layerview-create-error",{layer:r,error:d}),this.done=!0,(c=this._deferred)==null||c.reject(new B("layerview:create-error","layerview creation failed",{layer:r,error:d}))}}};function DAe(t){return t.createLayerView!==Kt.prototype.createLayerView}function LAe(t){return t!=null&&typeof t=="object"&&"layerViews"in t}let Cs=class extends $e{constructor(e){super(e),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new Yd,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var r,s;const i=(r=this.view.map)==null?void 0:r.allLayers;if(i)for(const n of i)((s=this.layerViewFilter)==null?void 0:s.call(this,n))!==!1&&this.layerViewImporter.hasLayerViewModule(n)&&this.layerViewImporter.importLayerView(n)},this._reschedule=()=>this.destroyed?Promise.reject():(this._workPromise==null&&(this._workPromise=bn(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles(lg(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var m,v,w,_;if(this.destroyed)return;const{map:i}=this.view;if(!i)return void this.clear();if(this._map!==i&&(this.clear(),this._map=i),this._workPromise==null)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const r=new Set,s=[],n=this.view.ready,o=x=>{var T;if(x!=null){for(const $ of x)if($){if(((T=this.layerViewFilter)==null?void 0:T.call(this,$))===!1)continue;r.add($);const O=this._layerLayerViewInfoMap.get($);O&&n?O.start():O||this._recyclingInfoMap.has($)||s.push($),"layers"in $&&$.layers&&o($.layers)}}};for(const x of this._rootCollectionNames)o(Go(this,x));const l=new Array,c=x=>{const T=x.tryRecycle(s);T?(this._recyclingInfoMap.set(x.layer,x),this.notifyChange("updating"),T.then(()=>{this._recyclingInfoMap.delete(x.layer),this._layerLayerViewInfoMap.set(x.layer,x),this._reschedule(),this.notifyChange("updating")}).catch($=>{Cr($)||(this._recyclingInfoMap.delete(x.layer),x.destroy(),this._reschedule(),this.notifyChange("updating"))})):l.push(x)};for(const x of this._layerLayerViewInfoMap.values())r.has(x.layer)||(this._layerLayerViewInfoMap.delete(x.layer),c(x));for(const x of this._recyclingInfoMap.values())r.has(x.layer)||(this._recyclingInfoMap.delete(x.layer),c(x));for(const x of s)this._createLayerView(x);this._refreshCollections(),l.forEach(x=>x.destroy());const d=[(m=i==null?void 0:i.ground)==null?void 0:m.layers,(v=i==null?void 0:i.basemap)==null?void 0:v.baseLayers,(w=i==null?void 0:i.basemap)==null?void 0:w.groundLayers,(_=i==null?void 0:i.basemap)==null?void 0:_.referenceLayers,i==null?void 0:i.layers].filter(x=>!!x);r.forEach(x=>"layers"in x&&d.push(x.layers)),this.addHandles(d.map(x=>this._watchUpdatingTracking.addOnCollectionChange(()=>x,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null},this._layersToLayerViews=new Map(e.layerviewMapping)}initialize(){this.addHandles([mp(()=>{var e,i;return(i=(e=this.view)==null?void 0:e.map)==null?void 0:i.allLayers},"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),Le(()=>{const e=this.view,i=e==null?void 0:e.map;return[i==null?void 0:i.basemap,i==null?void 0:i.ground,i==null?void 0:i.layers,e==null?void 0:e.ready]},()=>this._reschedule(),qr)]),this._preloadLayerViewModules(),this._reschedule()}clearHandles(){this._watchUpdatingTracking.removeAll()}destroy(){this.clear(),V5(this._recyclingInfoMap),V5(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,this._workPromise!=null&&(this._workPromise.reject($t()),this._workPromise=null)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return this._workPromise!=null||this._watchUpdatingTracking.updating||cde(this._layerLayerViewInfoMap,e=>!e.done)||this._recyclingInfoMap.size>0}get updatingRemaining(){let e=0;for(const i of this._layerLayerViewInfoMap.values())i.done||++e;return e}clear(){this.destroyed||(this._clearCollections(),V5(this._layerLayerViewInfoMap))}async whenLayerView(e){var r,s;await this._reschedule();const i=(r=this._layerLayerViewInfoMap.get(e))==null?void 0:r.promise;if(!i){const n=(s=this._recyclingInfoMap.get(e))==null?void 0:s.promise;if(!n)throw new B("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:e});return n}return i}isCreatingLayerViewsForLayer(e,i){var n;this.commitProperty("updatingRemaining");const r=this._layerLayerViewInfoMap.get(e);if(!(r!=null&&r.done))return!0;const s=r.layerView;return!(!s||!i||s.parent===i)||!!(r.done&&s&&"layers"in e&&((n=e.layers)!=null&&n.length))&&e.layers.some(o=>this.isCreatingLayerViewsForLayer(o,s))}_refreshCollections(){for(const[e,i]of this._layersToLayerViews)this._populateLayerViewsOwners(Go(this,e),Go(this,i),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_clearCollections(){var e;for(const i of this._layersToLayerViews.values())(e=Go(this,i))==null||e.removeAll()}_populateLayerViewsOwners(e,i,r){if(!e||!i)return void(i==null?void 0:i.removeAll());let s=0;for(const n of e){const o=this._layerLayerViewInfoMap.get(n);if(!(o!=null&&o.layerView))continue;const{layerView:l}=o;l.layer=n,l.parent=r,i.at(s)!==l&&i.splice(s,0,l),"layers"in n&&LAe(l)&&this._populateLayerViewsOwners(n.layers,l.layerViews,l),++s}s<i.length&&i.splice(s)}_createLayerView(e){var r;e.load().catch(s=>{se.getLogger("LayerViewManager").error(`Error loading layer "${e.title}"`,s)}),this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e);const i=new NAe(e,this.view,this.layerViewImporter);(r=i.promise)==null||r.then(()=>this._refreshCollections(),s=>{s&&(Cr(s)||s.name==="cancelled:layerview-create")||se.getLogger(this).error(`Failed to create layerview for layer title:'${e.title??"no title"}', id:'${e.id??"no id"}' of type '${e.type}'.`,{layer:e,error:s}),this.destroyed||this._refreshCollections()}),this._layerLayerViewInfoMap.set(e,i),this.view.ready&&i.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};h([f()],Cs.prototype,"_workPromise",void 0),h([f({readOnly:!0})],Cs.prototype,"_watchUpdatingTracking",void 0),h([f({readOnly:!0})],Cs.prototype,"_layersToLayerViews",void 0),h([f({constructOnly:!0})],Cs.prototype,"layerviewMapping",void 0),h([f({readOnly:!0})],Cs.prototype,"_rootCollectionNames",null),h([f({constructOnly:!0})],Cs.prototype,"layerViewFilter",void 0),h([f()],Cs.prototype,"layerViewImporter",void 0),h([f()],Cs.prototype,"supportsGround",void 0),h([f({readOnly:!0})],Cs.prototype,"updating",null),h([f({readOnly:!0})],Cs.prototype,"updatingRemaining",null),h([f({constructOnly:!0})],Cs.prototype,"view",void 0),Cs=h([I("esri.views.support.LayerViewManager")],Cs);const VAe=Cs;let em=class extends $e{constructor(e){super(e),this.featureTitleFields=!1,this.utilityNetworkFields=!1,this.globalIdField=!1}};h([f()],em.prototype,"featureTitleFields",void 0),h([f()],em.prototype,"utilityNetworkFields",void 0),h([f()],em.prototype,"globalIdField",void 0),em=h([I("esri.views.support.RequiredFieldsOptions")],em);const FAe=em;var tm,Vc;let Me=(Vc=class extends oT(a6){constructor(e){super(e),this._userSpatialReference=null,this.handles=new rg,this.updatingHandles=new Yd,this.allLayerViews=new Bo({getCollections:()=>this.layerviewCollections,getChildrenFunction:UAe}),this.analyses=new Wy,this.basemapView=null,this.dependencies={popup:void 0},this.displayFilterEnabled=!0,this.fatalError=null,this.graphics=new _1,this.typeSpecificPreconditionsReady=!0,this.layerViews=new ge,this.magnifier=new GX,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this._readyStateWaitingTask=null,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this._lowPriorityCursorHandles=new ge,this._highPriorityCursorHandles=new ge,this.input=new EAe,this.navigation=new JT,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new YX(this),this.persistableViewModels=new ge,this.requiredFieldsOptions=new FAe,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this._userTimeExtent=null,this._lockedTimeExtent=null,this.theme=null,this.handles.add(Le(()=>this.preconditionsReady,i=>{var s,n,o,l;const r=this.ready;if(i?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,this._lockedTimeExtent=this.timeExtent,tm.views.add(this)):(this._lockedSpatialReference=null,tm.views.remove(this)),this.notifyChange("spatialReference"),!i&&r)(s=this.toolViewManager)==null||s.detach(),(n=this.analysisViewManager)==null||n.detach(),(o=this.layerViewManager)==null||o.clear(),this._teardown();else if(i&&!r){try{this._startup()}catch(c){return void queueMicrotask(()=>{this.fatalError=new B("view:startup-error","View._startup failed",c)})}(l=this.analysisViewManager)==null||l.attach(),this.toolViewManager.attach()}},Fa))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this._validateWithErrorDisplay()]).then(()=>(this._isValid=!0,c6(()=>this.ready)))),this.basemapView=new BEe({view:this}),this.layerViewManager=new VAe({view:this,layerViewFilter:e=>{var i;return((i=this.layerViewFilter)==null?void 0:i.call(this,e))??!0},layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},layerviewMapping:this._layerToLayerviewMapping}),this.toolViewManager=new ba({view:this}),this.selectionManager=new WEe({view:this}),this.addHandles([Sn(()=>this.readyState==="map-content-error"&&!this.spatialReference,()=>{se.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),Le(()=>this.initialExtentRequired,e=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:e},qr),Le(()=>this.ready,e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)},Fa),Le(()=>this._userSpatialReference,e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)},qr)])}get _layerToLayerviewMapping(){return tm._layerToLayerview}destroy(){var e;this.destroyed||(tm.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=ti(this.graphics),this.analyses=ti(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),this.analysisViewManager=ti(this.analysisViewManager),this.toolViewManager=ti(this.toolViewManager),this.layerViewManager=ti(this.layerViewManager),this.selectionManager=ti(this.selectionManager),this.basemapView=ti(this.basemapView),(e=this.layerViews)==null||e.forEach(i=>i.destroy()),this.layerViews.length=0,this.invalidate(),this.handles.destroy(),this.map=ti(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return se.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){var e;return(e=this.toolViewManager)==null?void 0:e.activeTool}set activeTool(e){this.toolViewManager&&(this.toolViewManager.activeTool=e)}get layerviewCollections(){var e,i,r;return[(e=this.basemapView)==null?void 0:e.baseLayerViews,(i=this.basemapView)==null?void 0:i.groundLayerViews,this.layerViews,(r=this.basemapView)==null?void 0:r.referenceLayerViews]}get animation(){return this._get("animation")}set animation(e){this._set("animation",e)}get center(){return null}get defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new It({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:(e,i)=>this.getSpatialReferenceSupport(e,i),...this.defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(e){this._set("extent",e)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get highlights(){return this._get("highlights")??xAe()}set highlights(e){this._set("highlights",Na(e,this._get("highlights"),ge.ofType(jc)))}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){var e;return!this.destroying&&!this.destroyed&&!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||a4(this.map)&&!this.map.loaded||this.width===0||this.height===0||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!((e=this.defaultsFromMap)!=null&&e.ready)||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(e){e!==this._get("map")&&(e!=null&&e.destroyed&&(se.getLogger(this).warn("#map","The provided map is already destroyed",{map:e}),e=null),a4(e)&&e.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",e))}get readyState(){var e,i,r,s;if(this.destroyed)return this._get("readyState");if(!this.map)return"missing-map";if("container"in this&&!this.container)return"missing-container";if(this.fatalError)return"rendering-error";if((((e=this.defaultsFromMap)==null?void 0:e.ready)??!1)&&!this.spatialReference){const n=!("loaded"in this.map)||this.map.loaded,o=this.map.ground.loaded,l=((i=this.map.basemap)==null?void 0:i.loaded)??!0;return n&&l&&o&&!((r=this.map)!=null&&r.allLayers.length)?"empty-map":(this._readyStateWaitingTask||(this._readyStateWaitingTask=LT(c=>LB(q("view-readyState-waiting-delay"),null,c)),this.addHandles(this._readyStateWaitingTask),this.addHandles(this._readyStateWaitingTask,"ready-state-task")),(s=this._readyStateWaitingTask)!=null&&s.finished?"map-content-error":"loading")}return this._readyStateWaitingTask=sp(this._readyStateWaitingTask),this.removeHandles("ready-state-task"),this.ready?"ready":"loading"}get spatialReference(){var i,r;const e=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;if(e&&((r=(i=this.defaultsFromMap)==null?void 0:i.required)!=null&&r.heightModelInfo)){const s=e.clone();return s.vcsWkid=this.defaultsFromMap.vcsWkid,s.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,s}return e}set spatialReference(e){const i=!vr(e,this._get("spatialReference"));this._set("_userSpatialReference",e),i&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeExtent(){return this._userTimeExtent??this._lockedTimeExtent??this.getDefaultTimeExtent()??null}set timeExtent(e){this._userTimeExtent=e}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??Qo}set timeZone(e){this._userTimeZone=e,Mye(e)||se.getLogger(this).warn("#timeZone",`the parsed value '${e}' may not be a valid IANA time zone`)}get tools(){var e;return(e=this.toolViewManager)==null?void 0:e.tools}get initialExtent(){var e;return(e=this.defaultsFromMap)==null?void 0:e.extent}get cursor(){var e,i,r;return((e=this.toolViewManager)==null?void 0:e.cursor)??((i=this._highPriorityCursorHandles.at(-1))==null?void 0:i.cursor)??((r=this._lowPriorityCursorHandles.at(-1))==null?void 0:r.cursor)??"default"}acquireCursor(e,i="low"){const r=i==="high"?this._highPriorityCursorHandles:this._lowPriorityCursorHandles,s={cursor:e},n=at(()=>r.remove(s));return r.add(s),this.addHandles(n),n}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new Ok}whenLayerView(e){var i;return((i=this.layerViewManager)==null?void 0:i.whenLayerView(e))??Promise.reject()}getDefaultSpatialReference(){var e;return(e=this.defaultsFromMap)==null?void 0:e.spatialReference}getDefaultHeightModelInfo(){var e;return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??((e=this.defaultsFromMap)==null?void 0:e.heightModelInfo)??null}getDefaultTimeZone(){return null}getDefaultTimeExtent(){return null}getSurface(){return null}importLayerView(e){throw new B("view:importLayerView-missing","importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(e){return this.getSpatialReferenceSupport(e)!=null}when(e,i){return this.isResolved()&&!this.ready&&se.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,i)}forceReadyCycle(){this.ready&&(Sn(()=>this.destroyed||this.preconditionsReady===!1,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}on(e,i){return super.on(e,i)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}async _validateWithErrorDisplay(){try{await this.validate()}catch(e){const i=document.createElement("div");i.setAttribute("style","display: flex; flex-direction: column; gap: 8px; padding: 20px; height: 100%; justify-content: center; color: black; background: white; font-family: sans-serif;");const r=document.createElement("div");r.innerHTML="Unable to display map. WebGL2 support is required.",r.setAttribute("style","font-size: 24px; font-weight: bold;");const s=document.createElement("div");s.innerHTML="Ensure that your browser and hardware meet the minimum requirements.",s.setAttribute("style","font-size: 18px;");const n=document.createElement("a");n.innerHTML="https://esriurl.com/webgl-faq",n.target="_blank",n.setAttribute("style","font-size: 18px;"),n.href="https://esriurl.com/webgl-faq",i.appendChild(r),i.appendChild(s),i.appendChild(n);const o=this.getSurface();throw o&&o.appendChild(i),e}}},tm=Vc,Vc._layerToLayerview=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.basemap.groundLayers","view.basemapView.groundLayerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"],["view.map.layers","view.layerViews"]],Vc.views=new ge,Vc);h([f()],Me.prototype,"_userSpatialReference",void 0),h([f()],Me.prototype,"activeTool",null),h([f({readOnly:!0})],Me.prototype,"allLayerViews",void 0),h([f({readOnly:!0})],Me.prototype,"layerviewCollections",null),h([f(_k(Wy,"analyses"))],Me.prototype,"analyses",void 0),h([f()],Me.prototype,"animation",null),h([f()],Me.prototype,"basemapView",void 0),h([f()],Me.prototype,"center",null),h([f()],Me.prototype,"defaultsFromMapSettings",null),h([f()],Me.prototype,"defaultsFromMap",null),h([f()],Me.prototype,"dependencies",void 0),h([f()],Me.prototype,"displayFilterEnabled",void 0),h([f({type:Ye})],Me.prototype,"extent",null),h([f()],Me.prototype,"fatalError",void 0),h([f(_k(_1,"graphics"))],Me.prototype,"graphics",void 0),h([f({readOnly:!0,type:Ns})],Me.prototype,"heightModelInfo",null),h([f({type:ge.ofType(jc)})],Me.prototype,"highlights",null),h([f({readOnly:!0})],Me.prototype,"interacting",null),h([f({constructOnly:!0})],Me.prototype,"layerViewFilter",void 0),h([f({readOnly:!0})],Me.prototype,"navigating",null),h([f({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_lockedSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],Me.prototype,"preconditionsReady",null),h([f({readOnly:!0})],Me.prototype,"typeSpecificPreconditionsReady",void 0),h([f({type:ge,readOnly:!0})],Me.prototype,"layerViews",void 0),h([f()],Me.prototype,"resolution",null),h([f({type:GX})],Me.prototype,"magnifier",void 0),h([f({value:null,type:vX})],Me.prototype,"map",null),h([f()],Me.prototype,"padding",void 0),h([f({readOnly:!0})],Me.prototype,"ready",void 0),h([f()],Me.prototype,"_readyStateWaitingTask",void 0),h([f({readOnly:!0})],Me.prototype,"readyState",null),h([f({type:Se})],Me.prototype,"spatialReference",null),h([f()],Me.prototype,"stationary",null),h([f({type:Ii})],Me.prototype,"timeExtent",null),h([f({type:String,nonNullable:!0})],Me.prototype,"timeZone",null),h([f()],Me.prototype,"tools",null),h([f()],Me.prototype,"toolViewManager",void 0),h([f({readOnly:!0})],Me.prototype,"type",void 0),h([f({type:Number})],Me.prototype,"scale",void 0),h([f({readOnly:!0})],Me.prototype,"updating",void 0),h([f({readOnly:!0})],Me.prototype,"initialExtentRequired",void 0),h([f({readOnly:!0})],Me.prototype,"initialExtent",null),h([f()],Me.prototype,"cursor",null),h([f({readOnly:!0})],Me.prototype,"input",void 0),h([f({type:JT,nonNullable:!0})],Me.prototype,"navigation",void 0),h([f()],Me.prototype,"layerViewManager",void 0),h([f()],Me.prototype,"analysisViewManager",void 0),h([f()],Me.prototype,"selectionManager",void 0),h([f()],Me.prototype,"width",void 0),h([f()],Me.prototype,"height",void 0),h([f({readOnly:!0})],Me.prototype,"resizing",void 0),h([f({value:null,readOnly:!0})],Me.prototype,"size",null),h([f({readOnly:!0})],Me.prototype,"suspended",void 0),h([f({readOnly:!0})],Me.prototype,"viewEvents",void 0),h([f({readOnly:!0})],Me.prototype,"persistableViewModels",void 0),h([f()],Me.prototype,"_isValid",void 0),h([f()],Me.prototype,"_readyCycleForced",void 0),h([f()],Me.prototype,"_lockedSpatialReference",void 0),h([f()],Me.prototype,"_userTimeZone",void 0),h([f()],Me.prototype,"_lockedTimeZone",void 0),h([f()],Me.prototype,"_userTimeExtent",void 0),h([f()],Me.prototype,"_lockedTimeExtent",void 0),h([f({type:Ok})],Me.prototype,"theme",void 0),h([f({readOnly:!0,type:Ok})],Me.prototype,"effectiveTheme",null),Me=tm=h([I("esri.views.View")],Me);const Y5=globalThis.$arcgis;Y5&&!Y5.views&&Object.defineProperty(Y5,"views",{configurable:!1,enumerable:!0,writable:!1,value:Me.views});const zAe=Me;function UAe(t){return t.layerViews}function ci(){return[0,0]}function qAe(t){return[t[0],t[1]]}function Hw(t,e){return[t,e]}function BAe(t,e){return[t,e]}function GAe(t,e=ci()){const i=Math.min(2,t.length);for(let r=0;r<i;++r)e[r]=t[r];return e}function lQ(){return ci()}function uQ(){return Hw(1,1)}function cQ(){return Hw(1,0)}function hQ(){return Hw(0,1)}const HAe=lQ(),WAe=uQ(),ZAe=cQ(),YAe=hQ();Object.freeze(Object.defineProperty({__proto__:null,ONES:WAe,UNIT_X:ZAe,UNIT_Y:YAe,ZEROS:HAe,clone:qAe,create:ci,freeze:BAe,fromArray:GAe,fromValues:Hw,ones:uQ,unitX:cQ,unitY:hQ,zeros:lQ},Symbol.toStringTag,{value:"Module"}));function JAe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function dQ(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function KAe(t,e,i,r,s,n,o){return t[0]=e,t[1]=i,t[2]=r,t[3]=s,t[4]=n,t[5]=o,t}function Z6(t,e){const i=e[0],r=e[1],s=e[2],n=e[3],o=e[4],l=e[5];let c=i*n-r*s;return c?(c=1/c,t[0]=n*c,t[1]=-r*c,t[2]=-s*c,t[3]=i*c,t[4]=(s*l-n*o)*c,t[5]=(r*o-i*l)*c,t):null}function XAe(t){return t[0]*t[3]-t[1]*t[2]}function pQ(t,e,i){const r=e[0],s=e[1],n=e[2],o=e[3],l=e[4],c=e[5],d=i[0],m=i[1],v=i[2],w=i[3],_=i[4],x=i[5];return t[0]=r*d+n*m,t[1]=s*d+o*m,t[2]=r*v+n*w,t[3]=s*v+o*w,t[4]=r*_+n*x+l,t[5]=s*_+o*x+c,t}function Ww(t,e,i){const r=e[0],s=e[1],n=e[2],o=e[3],l=e[4],c=e[5],d=Math.sin(i),m=Math.cos(i);return t[0]=r*m+n*d,t[1]=s*m+o*d,t[2]=r*-d+n*m,t[3]=s*-d+o*m,t[4]=l,t[5]=c,t}function KT(t,e,i){const r=e[0],s=e[1],n=e[2],o=e[3],l=e[4],c=e[5],d=i[0],m=i[1];return t[0]=r*d,t[1]=s*d,t[2]=n*m,t[3]=o*m,t[4]=l,t[5]=c,t}function Yy(t,e,i){const r=e[0],s=e[1],n=e[2],o=e[3],l=e[4],c=e[5],d=i[0],m=i[1];return t[0]=r,t[1]=s,t[2]=n,t[3]=o,t[4]=r*d+n*m+l,t[5]=s*d+o*m+c,t}function fQ(t,e){const i=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=i,t[2]=-i,t[3]=r,t[4]=0,t[5]=0,t}function mQ(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function Y6(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function QAe(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function e4e(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+1)}function t4e(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t}function yQ(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t}function i4e(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t}function r4e(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t[3]=e[3]+i[3]*r,t[4]=e[4]+i[4]*r,t[5]=e[5]+i[5]*r,t}function s4e(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function n4e(t,e){const i=t[0],r=t[1],s=t[2],n=t[3],o=t[4],l=t[5],c=e[0],d=e[1],m=e[2],v=e[3],w=e[4],_=e[5],x=ws();return Math.abs(i-c)<=x*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(r-d)<=x*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(s-m)<=x*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(n-v)<=x*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(o-w)<=x*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(l-_)<=x*Math.max(1,Math.abs(l),Math.abs(_))}const o4e=pQ,a4e=yQ;Object.freeze(Object.defineProperty({__proto__:null,add:t4e,copy:JAe,determinant:XAe,equals:n4e,exactEquals:s4e,frob:e4e,fromRotation:fQ,fromScaling:mQ,fromTranslation:Y6,identity:dQ,invert:Z6,mul:o4e,multiply:pQ,multiplyScalar:i4e,multiplyScalarAndAdd:r4e,rotate:Ww,scale:KT,set:KAe,str:QAe,sub:a4e,subtract:yQ,translate:Yy},Symbol.toStringTag,{value:"Module"}));function Da(){return[1,0,0,1,0,0]}function l4e(t){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function u4e(t,e,i,r,s,n){return[t,e,i,r,s,n]}const c4e=Da();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:c4e,clone:l4e,create:Da,fromValues:u4e},Symbol.toStringTag,{value:"Module"}));const J_={102100:{maxX:20037508342788905e-9,minX:-20037508342788905e-9,plus180Line:new Hi({paths:[[[20037508342788905e-9,-20037508342788905e-9],[20037508342788905e-9,20037508342788905e-9]]],spatialReference:Se.WebMercator}),minus180Line:new Hi({paths:[[[-20037508342788905e-9,-20037508342788905e-9],[-20037508342788905e-9,20037508342788905e-9]]],spatialReference:Se.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new Hi({paths:[[[180,-180],[180,180]]],spatialReference:Se.WGS84}),minus180Line:new Hi({paths:[[[-180,-180],[-180,180]]],spatialReference:Se.WGS84})}};function Rd(t,e){return Math.ceil((t-e)/(2*e))}function gQ(t,e){const i=S1(t);for(const r of i)for(const s of r)s[0]+=e;return t}function S1(t){return Dm(t)?t.rings:t.paths}function Sze(t,e){return e?{...e,query:{...t,...e.query}}:{query:t}}function h4e(t){return typeof t=="string"?Rr(t):G(t)}function d4e(t,e,i){const r={};for(const s in t){if(s==="declaredClass")continue;const n=t[s];if(n!=null&&typeof n!="function")if(Array.isArray(n))r[s]=n.map(o=>d4e(o));else if(typeof n=="object")if(n.toJSON){const o=n.toJSON(i==null?void 0:i[s]);r[s]=e?o:JSON.stringify(o)}else r[s]=e?n:JSON.stringify(n);else r[s]=n}return r}function p4e(t,e){var i;return t?e&&FR(t)?e:VR(t)??((i=ze==null?void 0:ze.findCredential(t))==null?void 0:i.token):null}async function xze(t,e,i){const r=p4e(t,e);if(r)return r;!ze&&dt.request.useIdentity&&await re(()=>import("./IdentityManager-DzYwMU7A.js"),__vite__mapDeps([23,24]));const s=await ze.getCredential(t,i);return s==null?void 0:s.token}async function f4e(t,e,i,r){const s=h4e(t),n=e[0].spatialReference,o={...r,responseType:"json",query:{...s.query,f:"json",sr:fZ(n),target:JSON.stringify({geometryType:CT(e[0]),geometries:e}),cutter:JSON.stringify(i)}},l=await Bt(s.path+"/cut",o),{cutIndexes:c,geometries:d=[]}=l.data;return{cutIndexes:c,geometries:d.map(m=>{const v=Jc(m);return v.spatialReference=n,v})}}function m4e(t){return{geometryType:CT(t[0]),geometries:t.map(e=>e.toJSON())}}function y4e(t,e,i){const r=mbe(e);return t.map(s=>{const n=r.fromJSON(s);return n.spatialReference=i,n})}async function g4e(t,e,i){const r=typeof t=="string"?Rr(t):t,s=e[0].spatialReference,n=CT(e[0]),o={...i,query:{...r.query,f:"json",sr:fZ(s),geometries:JSON.stringify(m4e(e))}},{data:l}=await Bt(r.path+"/simplify",o);return y4e(l.geometries,n,s)}const vQ=()=>se.getLogger("esri.geometry.support.normalizeUtils");function v4e(t){return t.type==="polygon"}function w4e(t){return t[0].type==="polygon"}function b4e(t){return t[0].type==="polyline"}function BV(t){const e=[];let i=0,r=0;for(let s=0;s<t.length;s++){const n=t[s];let o=null;for(let l=0;l<n.length;l++)o=n[l],e.push(o),l===0?(i=o[0],r=i):(i=Math.min(i,o[0]),r=Math.max(r,o[0]));o&&e.push([(i+r)/2,0])}return e}function _4e(t,e){if(!(t instanceof Hi||t instanceof Qt)){const s="straightLineDensify: the input geometry is neither polyline nor polygon";throw vQ().error(s),new B("internal:geometry",s)}const i=S1(t),r=[];for(const s of i){const n=[];r.push(n),n.push([s[0][0],s[0][1]]);for(let o=0;o<s.length-1;o++){const l=s[o][0],c=s[o][1],d=s[o+1][0],m=s[o+1][1],v=Math.sqrt((d-l)*(d-l)+(m-c)*(m-c)),w=(m-c)/v,_=(d-l)/v,x=v/e;if(x>1){for(let C=1;C<=x-1;C++){const R=C*e,N=_*R+l,j=w*R+c;n.push([N,j])}const T=(v+Math.floor(x-1)*e)/2,$=_*T+l,O=w*T+c;n.push([$,O])}n.push([d,m])}}return v4e(t)?new Qt({rings:r,spatialReference:t.spatialReference}):new Hi({paths:r,spatialReference:t.spatialReference})}function GV(t,e,i){if(e){const r=_4e(t,1e6);t=wm(r,!0)}return i&&(t=gQ(t,i)),t}function HV(t,e,i){if(Array.isArray(t)){const r=t[0];if(r>e){const s=Rd(r,e);t[0]=r+s*(-2*e)}else if(r<i){const s=Rd(r,i);t[0]=r+s*(-2*i)}}else{const r=t.x;if(r>e){const s=Rd(r,e);t=t.clone().offset(s*(-2*e),0)}else if(r<i){const s=Rd(r,i);t=t.clone().offset(s*(-2*i),0)}}return t}function S4e(t,e){let i=-1;for(let r=0;r<e.cutIndexes.length;r++){const s=e.cutIndexes[r],n=e.geometries[r],o=S1(n);for(let l=0;l<o.length;l++){const c=o[l];c.some(d=>{if(d[0]<180)return!0;{let m=0;for(let w=0;w<c.length;w++){const _=c[w][0];m=_>m?_:m}m=Number(m.toFixed(9));const v=-360*Rd(m,180);for(let w=0;w<c.length;w++){const _=n.getPoint(l,w);n.setPoint(l,w,_.clone().offset(v,0))}return!0}})}if(s===i){if(w4e(t))for(const l of S1(n))t[s]=t[s].addRing(l);else if(b4e(t))for(const l of S1(n))t[s]=t[s].addPath(l)}else i=s,t[s]=n}return t}async function x4e(t,e,i){if(!Array.isArray(t))return x4e([t],e);e&&typeof e!="string"&&vQ().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const r=typeof e=="string"?e:(e==null?void 0:e.url)??dt.geometryServiceUrl;let s,n,o,l,c,d,m,v,w=0;const _=[],x=[];for(const N of t)if(N!=null)if(s||(s=N.spatialReference,n=vs(s),o=s.isWebMercator,d=o?102100:4326,l=J_[d].maxX,c=J_[d].minX,m=J_[d].plus180Line,v=J_[d].minus180Line),n)if(N.type==="mesh")x.push(N);else if(N.type==="point")x.push(HV(N.clone(),l,c));else if(N.type==="multipoint"){const j=N.clone();j.points=j.points.map(z=>HV(z,l,c)),x.push(j)}else if(N.type==="extent"){const j=N.clone()._normalize(!1,!1,n);x.push(j.rings?new Qt(j):j)}else if(N.extent){const j=N.extent,z=Rd(j.xmin,c)*(2*l);let ee=z===0?N.clone():gQ(N.clone(),z);j.offset(z,0);let{xmin:Q,xmax:J}=j;Q=Number(Q.toFixed(9)),J=Number(J.toFixed(9)),j.intersects(m)&&J!==l?(w=J>w?J:w,ee=GV(ee,o),_.push(ee),x.push("cut")):j.intersects(v)&&Q!==c?(w=J*(2*l)>w?J*(2*l):w,ee=GV(ee,o,360),_.push(ee),x.push("cut")):x.push(ee)}else x.push(N.clone());else x.push(N);else x.push(N);let T=Rd(w,l),$=-90;const O=T,C=new Hi;for(;T>0;){const N=360*T-180;C.addPath([[N,$],[N,-1*$]]),$*=-1,T--}if(_.length>0&&O>0){const N=S4e(_,await f4e(r,_,C,i)),j=[],z=[];for(let J=0;J<x.length;J++){const te=x[J];if(te!=="cut")z.push(te);else{const pe=N.shift(),ye=t[J];ye!=null&&ye.type==="polygon"&&ye.rings&&ye.rings.length>1&&pe.rings.length>=ye.rings.length?(j.push(pe),z.push("simplify")):z.push(o?Bd(pe):pe)}}if(!j.length)return z;const ee=await g4e(r,j,i),Q=[];for(let J=0;J<z.length;J++){const te=z[J];te!=="simplify"?Q.push(te):Q.push(o?Bd(ee.shift()):ee.shift())}return Q}const R=[];for(let N=0;N<x.length;N++){const j=x[N];if(j!=="cut")R.push(j);else{const z=_.shift();R.push(o===!0?Bd(z):z)}}return R}function T4e(t){if(!t)return null;const e=t.extent;if(!e)return null;const i=t.spatialReference&&vs(t.spatialReference);if(!i)return e;const[r,s]=i.valid,n=2*s,{width:o}=e;let l,{xmin:c,xmax:d}=e;if([c,d]=[d,c],t.type==="extent"||o===0||o<=s||o>n||c<r||d>s)return e;switch(t.type){case"polygon":if(!(t.rings.length>1))return e;l=BV(t.rings);break;case"polyline":if(!(t.paths.length>1))return e;l=BV(t.paths);break;case"multipoint":l=t.points}const m=e.clone();for(let v=0;v<l.length;v++){let w=l[v][0];w<0?(w+=s,d=Math.max(w,d)):(w-=s,c=Math.min(w,c))}return m.xmin=c,m.xmax=d,m.width<o?(m.xmin-=s,m.xmax-=s,m):e}function J6(t,e,i){const r=vs(i);if(r==null)return t;const[s,n]=r.valid,o=2*n;let l=0,c=0;e>n?l=Math.ceil(Math.abs(e-n)/o):e<s&&(l=-Math.ceil(Math.abs(e-s)/o)),t>n?c=Math.ceil(Math.abs(t-n)/o):t<s&&(c=-Math.ceil(Math.abs(t-s)/o));let d=t+(l-c)*o;const m=d-e;return m>n?d-=o:m<s&&(d+=o),d}function Tze(t,e){const i=K6(e);return(i==null?void 0:i.normalize(t))??t}function K6(t){const e=vs(t);if(e==null)return null;const[i,r]=e.valid;return new WT(i,r)}const $ze=K6(Se.WGS84);K6(Se.WebMercator);const wQ=96,bQ=39.37,$4e=180/Math.PI;function _Q(t){return t.wkid?t:t.spatialReference||Se.WGS84}function X6(t,e){return e.type?gr(t,e.x,e.y):Pm(t,e)}function SQ(t){return co(t)}function XT(t,e,i=0){let r=t.width,s=t.height;if(i!==0){const l=kw(i),c=Math.abs(Math.cos(l)),d=Math.abs(Math.sin(l));r=t.width*c+t.height*d,s=t.width*d+t.height*c}const n=Math.max(1,e[0]),o=Math.max(1,e[1]);return Math.max(r/n,s/o)*I4e(t.spatialReference)}async function Nv(t,e,i,r){var l,c,d;let s,n;if(!t||Array.isArray(t)&&!t.length)return null;if(ge.isCollection(t)&&(t=t.toArray()),Array.isArray(t)&&t.length&&typeof t[0]=="object"){const m=t.every(_=>"attributes"in _),v=t.some(_=>!_.geometry);let w=t;if(m&&v&&e&&e.allLayerViews){const _=new Map;for(const O of t){const C=O.layer,R=_.get(C)||[],N=O.attributes[C.objectIdField];N!=null&&R.push(N),_.set(C,R)}const x=[];_.forEach((O,C)=>{var N;const R=(N=e.allLayerViews)==null?void 0:N.find(j=>j.layer.id===C.id);if(R&&"queryFeatures"in R){const j=C.createQuery();j.objectIds=O,j.returnGeometry=!0,x.push(R.queryFeatures(j))}});const T=await Promise.all(x),$=[];for(const O of T)if(O&&O.features&&O.features.length)for(const C of O.features)C.geometry!=null&&$.push(C.geometry);w=$}for(const _ of w)r=await Nv(_,e,i,r);return r}if(Array.isArray(t)&&t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number")s=new Re(t);else if(t instanceof tr)s=t;else if("geometry"in t){if(t.geometry)s=t.geometry;else if(t.layer){const m=t.layer,v=(l=e.allLayerViews)==null?void 0:l.find(w=>w.layer.id===m.id);if(v&&"queryFeatures"in v){const w=m.createQuery();w.objectIds=[t.attributes[m.objectIdField]],w.returnGeometry=!0;const _=await v.queryFeatures(w);s=(d=(c=_==null?void 0:_.features)==null?void 0:c[0])==null?void 0:d.geometry}}}if(s==null)return null;switch(s.type){case"point":n=new Ye({xmin:s.x,ymin:s.y,xmax:s.x,ymax:s.y,spatialReference:s.spatialReference});break;case"extent":case"multipoint":case"polygon":case"polyline":n=T4e(s);break;default:n=s.extent}if(!n)return null;pu()||ea(n.spatialReference,i)||await Kc();const o=ah(n,i);if(!o)return null;if(r){const m=o.center,v=m.clone();v.x=J6(m.x,r.center.x,i),v.x!==m.x&&o.centerAt(v),r=r.union(o)}else r=o;return r}function M4e(t){var e;if(t&&(!Array.isArray(t)||typeof t[0]!="number")&&(typeof t=="object"||Array.isArray(t)&&typeof t[0]=="object")){if("layer"in t&&((e=t.layer)==null?void 0:e.minScale)!=null&&t.layer.maxScale!=null){const i=t.layer;return{min:i.minScale,max:i.maxScale}}if(Array.isArray(t)&&t.length&&t.every(i=>"layer"in i)){let i=0,r=0;for(const s of t){const n=s.layer;n!=null&&n.minScale&&n.maxScale&&(i=n.minScale<i?n.minScale:i,r=n.maxScale>r?n.maxScale:r)}return i&&r?{min:i,max:r}:null}}}function WV(t,e){const i=_Q(t);return vr(i,e)||i.imageCoordinateSystem||e.imageCoordinateSystem?t:ah(t,e)}async function E4e(t,e){var $;if(!t||!e)return new Ws({targetGeometry:new Re,scale:0,rotation:0});let i=e.spatialReference;const{constraints:r,padding:s,viewpoint:n,size:o}=e,l=[s?o[0]-s.left-s.right:o[0],s?o[1]-s.top-s.bottom:o[1]];let c=null;t instanceof Ws?c=t:t.viewpoint?c=t.viewpoint:t.target&&t.target.declaredClass==="esri.Viewpoint"&&(c=t.target);let d=null;c!=null&&c.targetGeometry?d=c.targetGeometry:t instanceof Ye?d=t:t instanceof tr?d=await Nv(t,e,i):t&&(d=await Nv(t.center,e,i)||await Nv(t.target,e,i)||await Nv(t,e,i)),!d&&(n!=null&&n.targetGeometry)?d=n.targetGeometry:!d&&e.extent&&(d=e.extent),i||(i=_Q(e.spatialReference||e.extent||d)),pu()||vr(d.spatialReference,i)||ea(d.spatialReference,i)||await Kc();const m=WV(d,i),v="center"in m?m.center:m;e.pickClosestTarget!==!1&&v.type==="point"&&(($=n.targetGeometry)==null?void 0:$.type)==="point"&&(v.x=J6(v.x,n.targetGeometry.x,v.spatialReference));let w=0;c?w=c.rotation:t.hasOwnProperty("rotation")?w=t.rotation:n&&(w=n.rotation);let _=0;_=(c==null?void 0:c.targetGeometry)!=null&&c.targetGeometry.type==="point"?c.scale:"scale"in t&&t.scale?t.scale:"zoom"in t&&t.zoom!==-1&&r&&r.effectiveLODs?r.zoomToScale(t.zoom):Array.isArray(d)||d.type==="point"||d.type==="extent"&&d.width===0&&d.height===0?n.scale:XT(WV(d.extent,i),l,w);const x=M4e(t.target??t);x&&(x.min&&x.min<_?_=x.min:x.max&&x.max>_&&(_=x.max));let T=new Ws({targetGeometry:v,scale:_,rotation:w});return r&&(T=r.fit(T),r.constrainByGeometry(T),r.rotationEnabled||(T.rotation=n.rotation)),T}function Jr(t,e){const i=t.targetGeometry,r=e.targetGeometry;return i.x=r.x,i.y=r.y,i.spatialReference=r.spatialReference,t.scale=e.scale,t.rotation=e.rotation,t}function A4e(t,e,i){return i?gr(t,.5*(e[0]-i.right+i.left),.5*(e[1]-i.bottom+i.top)):Pw(t,e,.5)}const O4e=function(){const t=ci();return function(e,i,r){const s=i.targetGeometry;X6(t,s);const n=.5*Eg(i);return e.xmin=t[0]-n*r[0],e.ymin=t[1]-n*r[1],e.xmax=t[0]+n*r[0],e.ymax=t[1]+n*r[1],e.spatialReference=s.spatialReference,e}}();function k4e(t,e,i,r,s){var n;return Pk(t,e,i.center),t.scale=XT(i,r),(n=s==null?void 0:s.constraints)==null||n.constrain(t),t}function C4e(t,e,i,r){return tI(t,e,i,r),Z6(t,t)}const xQ=function(){const t=ci();return function(e,i,r){return XR(e,P4e(e,i),A4e(t,i,r))}}(),R4e=function(){const t=Da(),e=ci();return function(i,r,s,n){const o=Eg(r),l=Q6(r);return gr(e,o,o),mQ(t,e),Ww(t,t,l),Yy(t,t,xQ(e,s,n)),Yy(t,t,[0,n.top-n.bottom]),gr(i,t[4],t[5])}}();function Eg(t){var e;return t.scale*TQ((e=t.targetGeometry)==null?void 0:e.spatialReference)}function TQ(t){return fn(t)?1/(SQ(t)*bQ*wQ):1}function Q6(t){return KR(t.rotation)||0}function I4e(t){return fn(t)?SQ(t)*bQ*wQ:1}function P4e(t,e){return Pw(t,e,.5)}const eI=function(){const t=ci(),e=ci(),i=ci();return function(r,s,n,o,l,c){return DZ(t,s),Pw(e,n,.5*c),gr(i,1/o*c,-1/o*c),Y6(r,e),l&&Ww(r,r,l),KT(r,r,i),Yy(r,r,t),r}}(),tI=function(){const t=ci();return function(e,i,r,s){const n=Eg(i),o=Q6(i);return X6(t,i.targetGeometry),eI(e,t,r,n,o,s)}}(),j4e=function(){const t=ci();return function(e,i,r,s){const n=Eg(i);return X6(t,i.targetGeometry),eI(e,t,r,n,0,s)}}();function $Q(t){const e=vs(t);return e?e.valid[1]-e.valid[0]:0}function N4e(t,e){return Math.round($Q(t)/e)}const D4e=function(){const t=ci(),e=ci(),i=[0,0,0];return function(r,s,n){W1(t,r,s),i4(t,t),W1(e,r,n),i4(e,e),VZ(i,t,e);let o=Math.acos(LZ(t,e)/(px(t)*px(e)))*$4e;return i[2]<0&&(o=-o),isNaN(o)&&(o=0),o}}(),L4e=function(){const t=ci();return function(e,i,r,s){const n=e.targetGeometry;return Jr(e,i),R4e(t,i,r,s),n.x+=t[0],n.y+=t[1],e}}(),Pk=function(t,e,i){Jr(t,e);const r=t.targetGeometry;return r.x=i.x,r.y=i.y,r.spatialReference=i.spatialReference,t},V4e=function(){const t=ci();return function(e,i,r,s,n){n||(n="center"),XR(t,r,s),Pw(t,t,.5);const o=t[0],l=t[1];switch(n){case"center":gr(t,0,0);break;case"left":gr(t,-o,0);break;case"top":gr(t,0,l);break;case"right":gr(t,o,0);break;case"bottom":gr(t,0,-l);break;case"top-left":gr(t,-o,l);break;case"bottom-left":gr(t,-o,-l);break;case"top-right":gr(t,o,l);break;case"bottom-right":gr(t,o,-l)}return QT(e,i,t),e}}();function Mze(t,e,i){return Jr(t,e),t.rotation+=i,t}function F4e(t,e,i){return Jr(t,e),t.rotation=i,t}const z4e=function(){const t=ci();return function(e,i,r,s,n){return Jr(e,i),isNaN(r)||r===0||(EQ(t,s,i,n),e.scale=i.scale*r,AQ(t,t,e,n),QT(e,e,gr(t,t[0]-s[0],s[1]-t[1]))),e}}();function ZV(t,e,i){return Jr(t,e),t.scale=i,t}const MQ=function(){const t=ci();return function(e,i,r,s,n,o){return Jr(e,i),isNaN(r)||r===0||(EQ(t,n,i,o),e.scale=i.scale*r,e.rotation+=s,AQ(t,t,e,o),QT(e,e,gr(t,t[0]-n[0],n[1]-t[1]))),e}}(),Eze=function(){const t=ci(),e=ci();return function(i,r,s,n,o,l,c){return xQ(e,l,c),IZ(t,o,e),n?MQ(i,r,s,n,t,l):z4e(i,r,s,t,l)}}(),EQ=function(){const t=Da();return function(e,i,r,s){return Oa(e,i,C4e(t,r,s,1))}}(),AQ=function(){const t=Da();return function(e,i,r,s){return Oa(e,i,tI(t,r,s,1))}}(),QT=function(){const t=ci(),e=Da();return function(i,r,s){Jr(i,r);const n=Eg(r),o=i.targetGeometry;return fQ(e,Q6(r)),KT(e,e,Hw(n,n)),Oa(t,s,e),o.x+=t[0],o.y+=t[1],i}}();function OQ(){const t=new Float32Array(6);return t[0]=1,t[3]=1,t}function U4e(t){const e=new Float32Array(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function q4e(t,e,i,r,s,n){const o=new Float32Array(6);return o[0]=t,o[1]=e,o[2]=i,o[3]=r,o[4]=s,o[5]=n,o}function kQ(t,e,i,r){const s=e[r],n=e[r+1];t[r]=i[0]*s+i[2]*n+i[4],t[r+1]=i[1]*s+i[3]*n+i[5]}function B4e(t,e,i,r=0,s=0,n=2){const o=s||e.length/n;for(let l=r;l<o;l++)kQ(t,e,i,l*n)}Object.freeze(Object.defineProperty({__proto__:null,clone:U4e,create:OQ,fromValues:q4e,transform:kQ,transformMany:B4e},Symbol.toStringTag,{value:"Module"}));function vS(){const t=new Float32Array(9);return t[0]=1,t[4]=1,t[8]=1,t}function G4e(t){const e=new Float32Array(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function H4e(t,e,i,r,s,n,o,l,c){const d=new Float32Array(9);return d[0]=t,d[1]=e,d[2]=i,d[3]=r,d[4]=s,d[5]=n,d[6]=o,d[7]=l,d[8]=c,d}Object.freeze(Object.defineProperty({__proto__:null,clone:G4e,create:vS,fromValues:H4e},Symbol.toStringTag,{value:"Module"}));function CQ(){return new Float32Array(2)}function W4e(t){const e=new Float32Array(2);return e[0]=t[0],e[1]=t[1],e}function Jy(t,e){const i=new Float32Array(2);return i[0]=t,i[1]=e,i}function RQ(){return CQ()}function IQ(){return Jy(1,1)}function PQ(){return Jy(1,0)}function jQ(){return Jy(0,1)}const Z4e=RQ(),Y4e=IQ(),J4e=PQ(),K4e=jQ();Object.freeze(Object.defineProperty({__proto__:null,ONES:Y4e,UNIT_X:J4e,UNIT_Y:K4e,ZEROS:Z4e,clone:W4e,create:CQ,fromValues:Jy,ones:IQ,unitX:PQ,unitY:jQ,zeros:RQ},Symbol.toStringTag,{value:"Module"}));function X4e(t){return t instanceof Float32Array&&t.length>=2}function Q4e(t){return Array.isArray(t)&&t.length>=2}function J5(t){return X4e(t)||Q4e(t)}var jk;const dl=[0,0];let El=jk=class extends ae{constructor(t){super(t),this._viewpoint2D={center:ci(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new Ye,this.id=0,this.inverseTransform=Da(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=Da(),this.transformNoRotation=Da(),this.displayMat3=vS(),this.displayViewMat3=vS(),this.viewMat3=vS(),this.viewMat2d=OQ(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(t){this._set("pixelRatio",t),this._update()}set size(t){this._set("size",t),this._update()}set viewpoint(t){if(t){const e=this._viewpoint2D,i=t.targetGeometry;e.center[0]=i.x,e.center[1]=i.y,e.rotation=t.rotation,e.scale=t.scale,e.spatialReference=i.spatialReference}this._update()}get visibleArea(){const[t,e]=this.size;return[this.toMap([0,0],0,0),this.toMap([0,0],0,e),this.toMap([0,0],t,e),this.toMap([0,0],t,0)]}copy(t){const e=this.size,i=this.viewpoint;return i&&e?(this.viewpoint=Jr(i,t.viewpoint),this._set("size",Pm(e,t.size))):(this.viewpoint=t.viewpoint.clone(),this._set("size",[t.size[0],t.size[1]])),this._set("pixelRatio",t.pixelRatio),this}clone(){return new jk({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(t,e,i){return J5(e)?Oa(t,e,this.inverseTransform):(dl[0]=e,dl[1]=i,Oa(t,dl,this.inverseTransform))}toScreen(t,e,i){return J5(e)?Oa(t,e,this.transform):(dl[0]=e,dl[1]=i,Oa(t,dl,this.transform))}toScreenNoRotation(t,e,i){return J5(e)?Oa(t,e,this.transformNoRotation):(dl[0]=e,dl[1]=i,Oa(t,dl,this.transformNoRotation))}wrapMapCoordinate(t,e){Pm(t,e);const[i]=e,[r]=this.center,{extent:s,spatialReference:n}=this;let{xmin:o,xmax:l}=s;if(n.isWrappable){const c=$Q(n)/2;o=Math.max(o,r-c),l=Math.min(l,r+c)}return(i<o||i>l)&&(t[0]=J6(i,r,n)),t}getScreenTransform(t,e){const{center:i}=this._viewpoint2D,r=this._get("pixelRatio")||1,s=this._get("size");return eI(t,i,s,e,0,r),t}_update(){const{center:t,spatialReference:e,scale:i,rotation:r}=this._viewpoint2D,s=this._get("pixelRatio")||1,n=this._get("size"),o=new Ws({targetGeometry:new Re(t[0],t[1],e),scale:i,rotation:r});if(this._set("viewpoint",o),!n||!e||!i)return;this.resolution=Eg(o),this.rotation=r,this.scale=i,this.spatialReference=e,Pm(this.center,t);const l=n[0]!==0?2/n[0]:0,c=n[1]!==0?-2/n[1]:0;jm(this.displayMat3,l,0,0,0,c,0,-1,1,1);const d=GZ(this.viewMat3),m=Jy(n[0]/2,n[1]/2),v=Jy(-n[0]/2,-n[1]/2),w=KR(r);s4(d,d,m),ZZ(d,d,w),s4(d,d,v),Y1(this.displayViewMat3,this.displayMat3,d);const _=Y6(this.viewMat2d,m);return Ww(_,_,w),Yy(_,_,v),O4e(this.extent,o,n),tI(this.transform,o,n,s),Z6(this.inverseTransform,this.transform),j4e(this.transformNoRotation,o,n,s),this.worldScreenWidth=N4e(this.spatialReference,this.resolution),this._set("id",this.id+1),this.notifyChange("visibleArea"),this}};h([f({readOnly:!0})],El.prototype,"id",void 0),h([f({value:1,json:{write:!0}})],El.prototype,"pixelRatio",null),h([f({json:{write:!0}})],El.prototype,"size",null),h([f()],El.prototype,"spatialReference",void 0),h([f({type:Ws,json:{write:!0}})],El.prototype,"viewpoint",null),h([f({readOnly:!0})],El.prototype,"visibleArea",null),El=jk=h([I("esri.views.2d.ViewState")],El);const YV=El;var Nk,Dk;let Wl=Nk=class extends $e{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new Nk({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};h([f()],Wl.prototype,"left",void 0),h([f()],Wl.prototype,"top",void 0),h([f()],Wl.prototype,"right",void 0),h([f()],Wl.prototype,"bottom",void 0),Wl=Nk=h([I("esri.views.2d.PaddedViewState.Padding")],Wl);let im=Dk=class extends YV{constructor(...t){super(...t),this.paddedViewState=new YV,this._updateContent=(()=>{const e=ci();return()=>{const i=this._get("size"),r=this._get("padding");if(!i||!r)return;const s=this.paddedViewState;gr(e,r.left+r.right,r.top+r.bottom),W1(e,i,e),Pm(s.size,e);const n=s.viewpoint;n&&(this.viewpoint=n)}})(),this.addHandles(Le(()=>[this.size,this.padding],()=>this._updateContent(),Fa)),this.padding=new Wl,this.size=[0,0]}set padding(t){this._set("padding",t||new Wl)}set viewpoint(t){if(t){this.paddedViewState.viewpoint=t;let e=t;const i=this._get("padding");i&&(e=L4e(t.clone(),t,this._get("size"),i));const{targetGeometry:r,rotation:s,scale:n}=e,{x:o,y:l,spatialReference:c}=r,d=this._viewpoint2D;d.center[0]=o,d.center[1]=l,d.rotation=s,d.scale=n,d.spatialReference=c,this._update()}}clone(){return new Dk({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};h([f()],im.prototype,"paddedViewState",void 0),h([f({type:Wl})],im.prototype,"padding",null),h([f()],im.prototype,"viewpoint",null),im=Dk=h([I("esri.views.2d.PaddedViewState")],im);const iI=im;let Dv=class extends $e{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};h([f()],Dv.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),h([f()],Dv.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),Dv=h([I("esri.views.support.debugFlags")],Dv);const eOe=new Dv,NQ=Symbol("Yield");let tOe=class{constructor(){this._tasks=new Array,this._numPendingTasks=Zy(0),this._readyToRun=Zy(!1)}get length(){return this._tasks.length}get updating(){return this._numPendingTasks.value>0}get readyToRun(){return this._readyToRun.value}_updateReadyToRun(){this._readyToRun.value=this._tasks.length>0}destroy(){this.cancelAll()}runTask(e){if(this.length===0)return NQ;for(;!e.done&&this._process(e);)e.madeProgress()}push(e,i,r){return this._addTask((s,n)=>new KV(s,n,e,i,r),Array.prototype.push)}unshift(e,i,r){return this._addTask((s,n)=>new KV(s,n,e,i,r),Array.prototype.unshift)}pushGenerator(e,i,r){return this._addTask((s,n)=>new iOe(s,n,e,i,r),Array.prototype.push)}_process(e){if(this._tasks.length===0)return!1;const i=this._tasks.shift();this._updateReadyToRun();try{if(Kr(i.signal))this._cancelTask(i,$t());else switch(i.type){case 0:this._processSimple(i,e);break;case 1:this._processGenerator(i,e);break;case 2:this._processIterator(i,e);break;default:}}catch(r){i.reject(r)}return!0}cancelAll(){const e=$t();for(const i of this._tasks)this._cancelTask(i,e);this._tasks.length=0,this._updateReadyToRun()}_cancelTask(e,i){if(e.abortCallback){const r=e.abortCallback(i);e.type===2&&e.iterator.return&&JV(e.iterator.return()),Xr(r)?r.then(e.resolve,e.reject):e.resolve(r)}else e.type===2&&e.iterator.throw&&JV(e.iterator.throw(i)),e.reject(i)}_onIteratorResult(e,i){i.done?e.resolve(i.value):(this._tasks.unshift(e),this._updateReadyToRun())}_processSimple(e,i){const r=e.callback(i);Xr(r)?r.then(e.resolve,e.reject):e.resolve(r)}_processGenerator(e,i){const r=e.generatorFunction(i),s=new rOe(e.resolve,e.reject,r,e.signal,e.abortCallback);this._processIterator(s,i)}_processIterator(e,i){const r=e.iterator.next(i);Xr(r)?r.then(s=>this._onIteratorResult(e,s),e.reject):this._onIteratorResult(e,r)}_addTask(e,i){return new Promise((r,s)=>{const n=e(r,s);i.call(this._tasks,n),++this._numPendingTasks.value,this._updateReadyToRun()}).finally(()=>--this._numPendingTasks.value)}};function JV(t){Xr(t)?t.then(K5,K5):K5(t)}function K5(t){Cr(t)||t instanceof Error||t instanceof B||t!=null&&typeof t=="object"&&"done"in t&&t.done||se.getLogger("esri.layers.support.PromiseQueue").warn("Generator iterator was aborted, but it is not done.")}let rI=class{constructor(e,i,r=void 0,s=void 0){this.resolve=e,this.reject=i,this.signal=r,this.abortCallback=s}},KV=class extends rI{constructor(e,i,r,s,n){super(e,i,s,n),this.callback=r,this.type=0}},iOe=class extends rI{constructor(e,i,r,s,n){super(e,i,s,n),this.generatorFunction=r,this.type=1}},rOe=class extends rI{constructor(e,i,r,s,n){super(e,i,s,n),this.iterator=r,this.type=2}};function sOe(){return new uOe}const Ke={RESOURCE_CONTROLLER_IMMEDIATE:"immediate",RESOURCE_CONTROLLER:"schedule",SLIDE:"slide",STREAM_DATA_LOADER:"stream loader",ELEVATION_QUERY:"elevation query",TERRAIN_SURFACE:"terrain",SURFACE_GEOMETRY_UPDATES:"surface geometry updates",LOD_RENDERER:"LoD renderer",GRAPHICS_CORE:"Graphics3D",I3S_CONTROLLER:"I3S",POINT_CLOUD_LAYER:"point cloud",FEATURE_TILE_FETCHER:"feature fetcher",STREAM_CONTROLLER:"stream controller",OVERLAY:"overlay",OVERLAY_RENDERER:"overlay renderer",STAGE:"stage",GRAPHICS_DECONFLICTOR:"graphics deconflictor",FILTER_VISIBILITY:"Graphics3D filter visibility",SCALE_VISIBILITY:"Graphics3D scale visibility",FRUSTUM_VISIBILITY:"Graphics3D frustum visibility",POINT_OF_INTEREST_FREQUENT:"POI frequent",POINT_OF_INTEREST_INFREQUENT:"POI infrequent",LABELER:"labeler",FEATURE_QUERY_ENGINE:"feature query",FEATURE_TILE_TREE:"feature tile tree",FEATURE_TILE_TREE_ACTIVE:"fast feature tile tree",ELEVATION_ALIGNMENT:"elevation alignment",ELEVATION_ALIGNMENT_SCENE:"elevation alignment scene",TEXT_TEXTURE_ATLAS:"text texture atlas",TEXTURE_UNLOAD:"texture unload",LINE_OF_SIGHT_TOOL:"line of sight tool",LINE_OF_SIGHT_TOOL_INTERACTIVE:"interactive line of sight tool",ELEVATION_PROFILE:"elevation profile",SNAPPING:"snapping",SHADOW_ACCUMULATOR:"shadow accumulator",CLOUDS_GENERATOR:"clouds generator",FLOW_GENERATOR:"flow generator",MAPVIEW_FETCH_QUEUE:"mapview fetch queue",MAPVIEW_LAYERVIEW_UPDATE:"mapview layerview update",MAPVIEW_VECTOR_TILE_PARSING_QUEUE:"mapview vector tile parsing queue",NONE:0,TEST_PRIO:1},Zn=0,XV=new Map([[Ke.RESOURCE_CONTROLLER_IMMEDIATE,Zn],[Ke.RESOURCE_CONTROLLER,4],[Ke.SLIDE,Zn],[Ke.STREAM_DATA_LOADER,Zn],[Ke.ELEVATION_QUERY,Zn],[Ke.TERRAIN_SURFACE,1],[Ke.SURFACE_GEOMETRY_UPDATES,1],[Ke.LOD_RENDERER,2],[Ke.GRAPHICS_CORE,2],[Ke.I3S_CONTROLLER,2],[Ke.POINT_CLOUD_LAYER,2],[Ke.FEATURE_TILE_FETCHER,2],[Ke.STREAM_CONTROLLER,2],[Ke.CLOUDS_GENERATOR,2],[Ke.OVERLAY,4],[Ke.OVERLAY_RENDERER,4],[Ke.STAGE,4],[Ke.GRAPHICS_DECONFLICTOR,4],[Ke.FILTER_VISIBILITY,4],[Ke.SCALE_VISIBILITY,4],[Ke.FRUSTUM_VISIBILITY,4],[Ke.POINT_OF_INTEREST_FREQUENT,6],[Ke.POINT_OF_INTEREST_INFREQUENT,30],[Ke.LABELER,8],[Ke.FEATURE_QUERY_ENGINE,8],[Ke.FEATURE_TILE_TREE,16],[Ke.FEATURE_TILE_TREE_ACTIVE,Zn],[Ke.ELEVATION_ALIGNMENT,12],[Ke.ELEVATION_ALIGNMENT_SCENE,14],[Ke.TEXT_TEXTURE_ATLAS,12],[Ke.TEXTURE_UNLOAD,12],[Ke.LINE_OF_SIGHT_TOOL,16],[Ke.LINE_OF_SIGHT_TOOL_INTERACTIVE,Zn],[Ke.SNAPPING,Zn],[Ke.SHADOW_ACCUMULATOR,30],[Ke.FLOW_GENERATOR,12],[Ke.MAPVIEW_FETCH_QUEUE,Zn],[Ke.MAPVIEW_LAYERVIEW_UPDATE,2],[Ke.MAPVIEW_VECTOR_TILE_PARSING_QUEUE,Zn]]);function QV(t){return XV.has(t)?XV.get(t):typeof t=="number"?t:1}const nOe=6.5,eF=1,oOe=30,aOe=1e3/30,lOe=100,tF=.9;let uOe=class{get updating(){return this._updating.value}_updatingChanged(){this._updating.value=this._tasks.some(e=>e.needsUpdate)}constructor(){this._updating=Zy(!0),this._microTaskQueued=!1,this._frameNumber=0,this.performanceInfo={total:new Kv("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new DQ,this.state=1,this._tasks=new Array,this._runQueue=new Array,this._load=0,this._forceTask=!1,this._debug=!1,this._debugHandle=Le(()=>eOe.SCHEDULER_LOG_SLOW_TASKS,e=>this._debug=e,Qr);for(const e of Object.keys(Ke))this.performanceInfo.tasks.set(Ke[e],new Kv(String(Ke[e])))}destroy(){this._tasks.forEach(e=>e.remove()),this._tasks.length=0,this._runQueue.length=0,Dt(this._debugHandle),this._microTaskQueued=!1,this._updatingChanged()}taskRunningChanged(e){this._updatingChanged(),e&&this._budget.remaining>0&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.remaining>0&&this._schedule()&&this._runFrame())}))}registerTask(e,i){const r=new cOe(this,e,i);return this._tasks.push(r),this._updatingChanged(),this.performanceInfo.tasks.has(e)||this.performanceInfo.tasks.set(e,new Kv(e)),r}get load(){return this._load}frame(e){if(this._startFrameTaskTimes(),this._updateBudget(e)){const i=this._budget.now();return this._runFrame(),this._recordFrameTaskTimes(this._budget.now()-i),!0}return this._recordFrameTaskTimes(0),!1}_updateBudget(e){this._test&&(this._test.usedBudget=0),++this._frameNumber;let i=nOe,r=e.frameDuration,s=eF;switch(this.state){case 2:i=0,r=Math.max(lOe,e.frameDuration),s=oOe;break;case 1:r=Math.max(aOe,e.frameDuration)}return r=r-e.elapsedFrameTime-i,this.state!==2&&r<eF&&!this._forceTask?(this._forceTask=!0,!1):(r=Math.max(r,s),this._budget.reset(r),this._updateLoad(),this._schedule())}_runFrame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case 2:this._runIdle();break;case 1:this._runInteracting();break;default:this._runAnimating()}this._test&&(this._test.usedBudget=this._budget.elapsed)}stopFrame(){this._budget.reset(0),this._budget.madeProgress()}removeTask(e){GE(this._tasks,e),GE(this._runQueue,e),this._updatingChanged()}_updateTask(e){this._tasks.forEach(i=>{i.name===e&&i.setPriority(e)})}_getState(e){if(this._runQueue.some(r=>r.name===e))return"s";let i="i";return this._tasks.forEach(r=>{r.name===e&&r.needsUpdate&&(r.schedulePriority<=1?i="r":i!=="r"&&(i="w"))}),i}_getRuntime(e){let i=0;return this._tasks.forEach(r=>{r.name===e&&(i+=r.runtime)}),i}_resetRuntimes(){this._tasks.forEach(e=>e.runtime=0)}_getRunning(){const e=new Map;if(this._tasks.forEach(r=>{r.needsUpdate&&e.set(r.name,(e.get(r.name)||0)+1)}),e.size===0)return null;let i="";return e.forEach((r,s)=>{i+=r>1?` ${r}x ${s}`:` ${s}`}),i}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const e=this._tasks.reduce((i,r)=>r.needsUpdate?++i:i,0);this._load=this._load*tF+e*(1-tF)}_schedule(){for(Uce(this._runQueue,e=>!!e.needsUpdate||(e.schedulePriority=e.basePriority,!1)),this._tasks.forEach(e=>{e.basePriority===Zn&&e.needsUpdate&&!this._runQueue.includes(e)&&e.blockFrame!==this._frameNumber&&this._runQueue.unshift(e)});this._runQueue.length===0;){let e=!1,i=0;if(this._tasks.forEach(r=>{r.needsUpdate&&r.schedulePriority!==0&&r.basePriority!==Zn&&r.blockFrame!==this._frameNumber&&(e=!0,i=Math.max(i,r.basePriority),r.schedulePriority===1?(r.schedulePriority=0,this._runQueue.push(r)):--r.schedulePriority)}),!e)return this._updatingChanged(),!1}return this._updatingChanged(),!0}_run(){do for(;this._runQueue.length>0;){const e=this._budget.now(),i=this._runQueue.pop();this._budget.resetProgress();try{i.task.runTask(this._budget)===NQ&&(i.blockFrame=this._frameNumber)}catch(s){se.getLogger("esri.views.support.Scheduler").error(`Exception in task "${i.name}"`,s),i.blockFrame=this._frameNumber}!this._budget.hasProgressed&&i.blockFrame!==this._frameNumber&&i.needsUpdate&&(i.name,i.blockFrame=this._frameNumber),i.schedulePriority=i.basePriority;const r=this._budget.now()-e;if(i.runtime+=r,this._frameTaskTimes.set(i.priority,this._frameTaskTimes.get(i.priority)+r),this._budget.remaining<=0)return void this._updatingChanged()}while(this._schedule());this._updatingChanged()}_startFrameTaskTimes(){for(const e of Object.keys(Ke))this._frameTaskTimes.set(Ke[e],0)}_recordFrameTaskTimes(e){this._frameTaskTimes.forEach((i,r)=>this.performanceInfo.tasks.get(r).push(i)),this.performanceInfo.total.push(e)}get test(){return this._test}},cOe=class{get task(){return this._task.value}get readyToRun(){return this._queue.readyToRun}get updating(){return this._queue.updating}constructor(e,i,r){this._scheduler=e,this.name=i,this.blockFrame=0,this.runtime=0,this._queue=new tOe,this._handles=new rg,this._basePriority=QV(i),this.schedulePriority=this._basePriority,this._task=Zy(r??this._queue),this._handles.add(Sn(()=>this.task.readyToRun,s=>e.taskRunningChanged(s)))}remove(){this.processQueue(x1),this._scheduler.removeTask(this),this.schedule=X5.schedule,this.reschedule=X5.reschedule,this.scheduleGenerator=X5.scheduleGenerator,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(e){if(this.name===e)return;this.name=e;const i=QV(e);this._basePriority!==Zn&&this.schedulePriority===0||(this.schedulePriority=i),this._basePriority=i}get priority(){return this.name}set priority(e){this.setPriority(e)}get needsUpdate(){return this.readyToRun||!this.task.destroyed&&this.task.readyToRun}schedule(e,i,r){return this._queue.push(e,i,r)}reschedule(e,i,r){return this._queue.unshift(e,i,r)}scheduleGenerator(e,i,r){return this._queue.pushGenerator(e,i,r)}processQueue(e){return this._queue.runTask(e)}},DQ=class{constructor(){this._begin=(performance==null?void 0:performance.now())??0,this._budget=0,this._done=!1,this._progressed=!1,this._enabled=!0}run(e){return!this.done&&(e()===!0&&this.madeProgress(),!0)}get done(){return this._done}get budget(){return this._budget}madeProgress(){return this._progressed=!0,this._done=this.elapsed>=this._budget&&this._enabled,this._done}get enabled(){return this._enabled}set enabled(e){this._enabled=e}reset(e){this._begin=this.now(),this._budget=e,this.resetProgress()}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return this.now()-this._begin}resetProgress(){this._progressed=!1,this._done=!1}get hasProgressed(){return this._progressed}};const x1=new DQ;x1.enabled=!1;let hOe=class{remove(){}processQueue(){}schedule(e,i,r){try{if(Kr(i)){const s=$t();return r?Promise.resolve(r(s)):Promise.reject(s)}return ZE(e(x1))}catch(s){return Promise.reject(s)}}reschedule(e,i,r){return this.schedule(e,i,r)}async scheduleGenerator(e,i,r){if(Kr(i)){const n=$t();if(r)return r(n);throw n}const s=e(x1);for(;;){const n=s.next(x1),o=Xr(n)?await n:n;if(Kr(i)){const l=$t();if(r){const d=r(l),m=s.return(null);return Xr(m)&&await j1(m),d}const c=s.throw(l);throw Xr(c)&&await j1(c),l}if(o.done)return o.value}}};const X5=new hOe;let dOe=class{constructor(e){this.view=e,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this._scheduler=sOe(),this._schedulerHandle=Sn(()=>this._scheduler.updating,()=>this.requestFrame()),this.stationary=!0,this.prepare=()=>{var i;this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions,this._updateParameters.targetState.copy(this.view.state),((i=this.view.animation)==null?void 0:i.target)==null||Xr(this.view.animation.target)||(this._updateParameters.targetState.viewpoint=this.view.animation.target))},this.update=i=>{var l,c,d;if(this._updateRequested=!1,(l=this.view)==null?void 0:l.destroyed)return;const{allLayerViews:r,graphicsView:s,labelManager:n,state:{id:o}}=this.view;r==null||r.forEach(this._updateLayerView,this),n!=null&&(n.lastUpdateId!==o&&(n.viewChange(),n.lastUpdateId=o),n.updateRequested&&n.processUpdate(this._updateParameters)),s!=null&&(s.lastUpdateId!==o&&(s.viewChange(),s.lastUpdateId=o),s.updateRequested&&s.processUpdate(this._updateParameters)),(c=this.view.graphicsTileStore)==null||c.setViewState(this._updateParameters.state),this.view.animation?this._scheduler.state=0:this.view.interacting?this._scheduler.state=1:this._scheduler.state=2,this._scheduler.frame(i)||this._updateRequested||this._scheduler.state!==2||((d=this._frameTaskHandle)==null||d.pause())}}destroy(){this.stop(),this._schedulerHandle.remove(),this._scheduler.destroy()}get scheduler(){return this._scheduler}start(){if(this._frameTaskHandle)return;const e=this.view;this.stationary=e.stationary,this._updateParameters={state:e.state,targetState:new iI,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:e.renderingOptions},this._stationaryHandle=Le(()=>e.stationary,i=>{this.stationary=i,this.requestFrame()}),this._frameTaskHandle=Ry(this),this.requestUpdate()}stop(){var e;this._frameTaskHandle&&(this._updateRequested=!1,(e=this._stationaryHandle)==null||e.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(e){var s;if(!e.attached)return void this.requestUpdate();const i=this.view.state,r=e.lastUpdateId;r!=null&&(this.stationary||e.moving)||(e.moving=!0),r!==i.id&&e.viewChange(),this.stationary&&e.moving&&(e.moving=!1,e.moveEnd()),e.lastUpdateId=i.id,e.updateRequested&&e.processUpdate(this._updateParameters),"layerViews"in e&&((s=e.layerViews)==null||s.forEach(this._updateLayerView,this))}};function pOe(t,e){const{spatialReference:i}=e,r=[e.x,e.y];let s,n,o,l;const c=[0,0],d=fOe(t);for(let w=0;w<d.length;w++){const _=d[w];for(let x=0;x<_.length-1;x++){G1e(c,r,_,x);const T=ET(r,c);(s==null||T<s)&&(s=T,n=[...c],o=w,l=x)}}if(s==null||!n||o==null||l==null)throw new B("nearest-coordinate:failed","Failed to find the nearest coordinate");const[m,v]=n;return{coordinate:new Re({x:m,y:v,spatialReference:i}),distance:s}}function fOe(t){switch(t.type){case"extent":return[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]];case"polygon":return t.rings;case"polyline":return t.paths}}var Lk;let Sd=Lk=class extends MR($e){constructor(t){super(t),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(this.geometry==null||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return ah(this.geometry,this.spatialReference)}catch(t){return se.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:t}),null}return this.geometry}constrain(t,e){if(this.normalizedGeometry==null)return t;const i=t.targetGeometry;if(this.normalizedGeometry.type==="extent"?Iw(this.normalizedGeometry,i):HR(this.normalizedGeometry,i))return t;const{coordinate:r}=pOe(this.normalizedGeometry,i);return r&&(t.targetGeometry=r),t}clone(){var t,e;return new Lk({geometry:(t=this.geometry)==null?void 0:t.clone(),spatialReference:(e=this.spatialReference)==null?void 0:e.clone()})}};h([f({constructOnly:!0})],Sd.prototype,"geometry",void 0),h([f({readOnly:!0})],Sd.prototype,"normalizedGeometry",null),h([f({constructOnly:!0})],Sd.prototype,"spatialReference",void 0),Sd=Lk=h([I("esri.views.2d.constraints.GeometryConstraint")],Sd);var Vk;let Lv=Vk=class extends MR($e){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(t,e){return this.enabled&&e&&(this.rotationEnabled||(t.rotation=e.rotation)),t}clone(){return new Vk({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};h([f()],Lv.prototype,"enabled",void 0),h([f()],Lv.prototype,"rotationEnabled",void 0),Lv=Vk=h([I("esri.views.2d.constraints.RotationConstraint")],Lv);const LQ=Lv;var Fk;let Rs=Fk=class extends MR($e){constructor(t){super(t),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let t,{lods:e,minScale:i,maxScale:r,minZoom:s,maxZoom:n}=this,o=-1,l=-1,c=!1,d=!1;if(i!==0&&r!==0&&i<r&&([i,r]=[r,i]),!(e!=null&&e.length))return this._set("effectiveMinScale",i),void this._set("effectiveMaxScale",r);e=e.map(m=>m.clone()),e.sort((m,v)=>v.scale-m.scale),e.forEach((m,v)=>m.level=v);for(const m of e)!c&&i>0&&i>=m.scale&&(o=m.level,c=!0),!d&&r>0&&r>=m.scale&&(l=t?t.level:-1,d=!0),t=m;s===-1&&(s=i===0?0:o),n===-1&&(n=r===0?e.length-1:l),s=Math.max(s,0),s=Math.min(s,e.length-1),n=Math.max(n,0),n=Math.min(n,e.length-1),s>n&&([s,n]=[n,s]),i=e[s].scale,r=e[n].scale,e.splice(0,s),e.splice(n-s+1),e.forEach((m,v)=>{this._lodByScale[m.scale]=m,this._scales[v]=m.scale}),this._set("effectiveLODs",e),this._set("effectiveMinZoom",s),this._set("effectiveMaxZoom",n),this._set("effectiveMinScale",i),this._set("effectiveMaxScale",r)}constrain(t,e){if(e&&t.scale===e.scale)return t;const i=this.effectiveMinScale,r=this.effectiveMaxScale,s=t.targetGeometry,n=e&&e.targetGeometry,o=r!==0&&t.scale<r,l=i!==0&&t.scale>i;if(o||l){const c=l?i:r;if(e&&n){const d=(c-e.scale)/(t.scale-e.scale);s.x=n.x+(s.x-n.x)*d,s.y=n.y+(s.y-n.y)*d}t.scale=c}return this.snapToZoom&&this.effectiveLODs&&(t.scale=this._getClosestScale(t.scale)),t}fit(t){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(t,null);const e=this.scaleToZoom(t.scale),i=Math.abs(e-Math.floor(e));return t.scale=this.zoomToScale(i>.99?Math.round(e):Math.floor(e)),t}zoomToScale(t){if(!this.effectiveLODs)return 0;t-=this.effectiveMinZoom,t=Math.max(0,t);const e=this._scales;if(t<=0)return e[0];if(t>=e.length)return e[e.length-1];const i=Math.floor(t),r=Math.ceil(t);return e[i]+(t-i)*(e[r]-e[i])}scaleToZoom(t){if(!this.effectiveLODs)return-1;const e=this._scales;let i,r;if(t>=e[0])return this.effectiveMinZoom;if(t<=e[e.length-1])return this.effectiveMaxZoom;for(let s=0;s<e.length-1;s++){if(i=e[s],r=e[s+1],r===t)return s+this.effectiveMinZoom+1;if(i>t&&r<t)return s+this.effectiveMinZoom+1-(t-r)/(i-r)}return-1}snapToClosestScale(t){if(!this.effectiveLODs)return t;const e=this.scaleToZoom(t);return this.zoomToScale(Math.round(e))}snapToNextScale(t,e=.5){if(!this.effectiveLODs)return t*e;const i=Math.round(this.scaleToZoom(t));return this.zoomToScale(i+1)}snapToPreviousScale(t,e=2){if(!this.effectiveLODs)return t*e;const i=Math.round(this.scaleToZoom(t));return this.zoomToScale(i-1)}clone(){return new Fk({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(t){return this._lodByScale[t]||(t=this._scales.reduce((e,i)=>Math.abs(i-t)<=Math.abs(e-t)?i:e,this._scales[0])),this._lodByScale[t].scale}};h([f({readOnly:!0})],Rs.prototype,"effectiveLODs",void 0),h([f({readOnly:!0})],Rs.prototype,"effectiveMinZoom",void 0),h([f({readOnly:!0})],Rs.prototype,"effectiveMaxZoom",void 0),h([f({readOnly:!0})],Rs.prototype,"effectiveMinScale",void 0),h([f({readOnly:!0})],Rs.prototype,"effectiveMaxScale",void 0),h([f()],Rs.prototype,"lods",void 0),h([f()],Rs.prototype,"minZoom",void 0),h([f()],Rs.prototype,"maxZoom",void 0),h([f()],Rs.prototype,"minScale",void 0),h([f()],Rs.prototype,"maxScale",void 0),h([f()],Rs.prototype,"snapToZoom",void 0),Rs=Fk=h([I("esri.views.2d.constraints.ZoomConstraint")],Rs);const VQ=Rs,mOe={base:null,key:"type",typeMap:{extent:Ye,polygon:Qt}};let gi=class extends $e{constructor(e){super(e),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new ge}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(e){e?this._set("geometry",e):this._set("geometry",null)}get version(){var e,i,r;return`${(e=this._zoom)==null?void 0:e.uid}/${(i=this._rotation)==null?void 0:i.uid}/${(r=this._geometry)==null?void 0:r.uid}`}get _geometry(){var i,r;const e=this._get("_geometry");return e&&this.geometry===e.geometry&&((i=this.view)==null?void 0:i.constraintsInfo.spatialReference)===e.spatialReference?e:new Sd({geometry:this.geometry,spatialReference:(r=this.view)==null?void 0:r.constraintsInfo.spatialReference})}get _rotation(){return new LQ({rotationEnabled:this.rotationEnabled})}get _zoom(){var c;const e=this._get("_zoom"),i=this.lods||((c=this.view)==null?void 0:c.constraintsInfo.lods),r=this.minZoom,s=this.maxZoom,n=this.minScale,o=this.maxScale,l=this.snapToZoom;return e&&e.lods===i&&e.minZoom===r&&e.maxZoom===s&&e.minScale===n&&e.maxScale===o&&e.snapToZoom===l?e:new VQ({lods:i,minZoom:r,maxZoom:s,minScale:n,maxScale:o,snapToZoom:l})}canZoomInTo(e){const i=this.effectiveMaxScale;return i===0||e>=i}canZoomOutTo(e){const i=this.effectiveMinScale;return i===0||e<=i}constrain(e,i){return this._zoom.constrain(e,i),this._rotation.constrain(e,i),this._geometry.constrain(e,i),this.customConstraints.forEach(r=>r.constrain(e,i)),e}constrainByGeometry(e){return this._geometry.constrain(e),this.customConstraints.forEach(i=>{var r;return(r=i.applyPanConstraint)==null?void 0:r.call(i,e)}),e}fit(e){return this._zoom.fit(e)}zoomToScale(e){return this._zoom.zoomToScale(e)}scaleToZoom(e){return this._zoom.scaleToZoom(e)}snapScale(e){return this._zoom.snapToClosestScale(e)}snapToNextScale(e){return this._zoom.snapToNextScale(e)}snapToPreviousScale(e){return this._zoom.snapToPreviousScale(e)}};h([f({readOnly:!0})],gi.prototype,"effectiveLODs",null),h([f({readOnly:!0})],gi.prototype,"effectiveMinScale",null),h([f({readOnly:!0})],gi.prototype,"effectiveMaxScale",null),h([f({readOnly:!0})],gi.prototype,"effectiveMinZoom",null),h([f({readOnly:!0})],gi.prototype,"effectiveMaxZoom",null),h([f({types:mOe,value:null})],gi.prototype,"geometry",null),h([f({type:[kr]})],gi.prototype,"lods",void 0),h([f()],gi.prototype,"minScale",void 0),h([f()],gi.prototype,"maxScale",void 0),h([f()],gi.prototype,"minZoom",void 0),h([f()],gi.prototype,"maxZoom",void 0),h([f()],gi.prototype,"rotationEnabled",void 0),h([f()],gi.prototype,"snapToZoom",void 0),h([f({type:ge})],gi.prototype,"customConstraints",void 0),h([f()],gi.prototype,"view",void 0),h([f({readOnly:!0})],gi.prototype,"version",null),h([f({type:Sd,readOnly:!0})],gi.prototype,"_geometry",null),h([f({type:LQ})],gi.prototype,"_rotation",null),h([f({readOnly:!0,type:VQ})],gi.prototype,"_zoom",null),gi=h([I("esri.views.2d.MapViewConstraints")],gi);const iF=gi;let Vr=class extends $e{constructor(e){super(e),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([Le(()=>{var i;return(i=this.constraints)==null?void 0:i.version},i=>{this.constraints&&i&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))},Fa)])}get center(){if(!this.ready)return this._get("center");const{center:e,spatialReference:i}=this.state.paddedViewState;return this.state.commitProperty("id"),new Re({x:e[0],y:e[1],spatialReference:i})}set center(e){if(e==null)return;if(!this.ready)return void this._set("center",e);let i;try{i=this._project(e,this.state.spatialReference)}catch(s){return void se.getLogger(this).error(new B("mapview:invalid-center","could not project the value in the view's spatial reference",{input:e,error:s}))}const r=this.viewpoint;Pk(r,r,i),this.viewpoint=r}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(e){if(e==null)return;if(!e.width||!e.height)return void se.getLogger(this).error(new B("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",e),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);let i;try{i=this._project(e,this.state.spatialReference)}catch(s){return void se.getLogger(this).error(new B("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:s}))}const r=this.viewpoint;k4e(r,r,i,this.state.size,{constraints:this.constraints}),this.viewpoint=r}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(e){this.ready?(this.state.padding=e,this._set("padding",this.state.padding)):this._set("padding",e)}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(e){if(isNaN(e))return;if(!this.ready)return void this._set("rotation",e);const i=this.viewpoint;F4e(i,i,e),this.viewpoint=i}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(e){if(!e||isNaN(e))return;if(!this.ready){this._set("scale",e),this._set("zoom",void 0);const r=this._get("extent");return void(r&&(this._set("extent",void 0),this._set("center",r.center)))}const i=this.viewpoint;ZV(i,i,e),this.viewpoint=i}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")}set viewpoint(e){var n;if(e==null)return;if(!this.ready)return this._set("viewpoint",e),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);let i,r;try{i=this._project(e,this.state.spatialReference),!e.scale||isNaN(e.scale)?r=new B("mapview:invalid-viewpoint",`invalid scale value of ${e.scale}`):e.targetGeometry==null&&(r=new B("mapview:invalid-viewpoint","geometry not defined"))}catch(o){r=new B("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:o})}if(r)return void se.getLogger(this).error(r);this._scaleBeforeChangingSpatialReference=null;const s=new Ws({targetGeometry:new Re,scale:0,rotation:0});Jr(s,i),(n=this.constraints)==null||n.constrain(s,this.state.paddedViewState.viewpoint),this.state.viewpoint=s,this._set("viewpoint",s)}get visibleArea(){return this.ready?this.state.visibleArea:null}get zoom(){var e;return this.ready?((e=this.constraints)==null?void 0:e.scaleToZoom(this.scale))??-1:this._get("zoom")}set zoom(e){var s,n;if(!(e>=0))return;if(!this.ready){this._set("zoom",e),this._set("scale",void 0);const o=this._get("extent");return void(o&&(this._set("extent",void 0),this._set("center",o.center)))}const i=((s=this.constraints)==null?void 0:s.zoomToScale(e))??0;if(!i)return void this._set("zoom",-1);const r=this.viewpoint;ZV(r,r,i),this.viewpoint=r,this._set("zoom",((n=this.constraints)==null?void 0:n.scaleToZoom(this.scale))??-1)}getUserStartupOptions(e){if(!e[0]&&!e[1])return{center:void 0,rotation:void 0,scale:void 0};const{padding:i,constraints:r}=this,s=this._get("center"),n=this._get("extent"),o=this._get("scale"),l=this._get("rotation"),c=this._get("viewpoint"),d=this._get("zoom"),m=d!=null&&r!=null&&r.zoomToScale(d)||void 0;let v,w,_;const x=c==null?void 0:c.rotation,T=c==null?void 0:c.targetGeometry;(T==null?void 0:T.type)==="extent"?v=T:(T==null?void 0:T.type)==="point"&&(w=T,_=c==null?void 0:c.scale);const $=n??v;return{center:s??w??($==null?void 0:$.center),rotation:l??x,scale:(o??m??_??($&&XT($,[e[0]-i.left-i.right,e[1]-i.top-i.bottom])))||void 0}}startup(e,i,r,s){var o;const n=e.targetGeometry;try{this._project(e,r)}catch(l){se.getLogger(this).warn(new lo("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:n.toJSON(),spatialReference:r,error:l})),e.targetGeometry=s||new Re({x:0,y:0,spatialReference:r})}(o=this.constraints)==null||o.fit(e),this._set("state",new iI({padding:this.padding,size:i,viewpoint:e})),this._set("ready",!0)}teardown(){this._set("ready",!1);const{center:[e,i],spatialReference:r,rotation:s,scale:n}=this.state.paddedViewState,o=new Re({x:e,y:i,spatialReference:r});this._set("viewpoint",null),this._set("extent",null),this._set("center",o),this._set("zoom",-1),this._set("rotation",s),this._set("scale",n),this._set("state",null)}changeSpatialReference(e){var c;const i=this.state.paddedViewState.clone();if(this._scaleBeforeChangingSpatialReference==null)this._scaleBeforeChangingSpatialReference=i.scale;else{const d=i.viewpoint.clone();d.scale=this._scaleBeforeChangingSpatialReference,i.viewpoint=d}const r=i.clone(),[s,n]=i.center;let o=null;try{o=this._project(new Re({x:s,y:n,spatialReference:i.spatialReference}),e)}catch(d){nZ()||se.getLogger(this).warn(new lo("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:o==null?void 0:o.toJSON(),spatialReference:e,error:d}))}o||(o=new Re({x:0,y:0,spatialReference:e}));const l=Pk(new Ws({targetGeometry:new Re,scale:0,rotation:0}),i.viewpoint,o);r.viewpoint=l;try{const m=[i.size[0]/2,i.size[1]/2],v=[m[0]+20,m[1]],w=i.toMap([0,0],v),{x:_,y:x}=this._project(new Re({x:w[0],y:w[1],spatialReference:i.spatialReference}),e);w[0]=_,w[1]=x,r.toScreen(w,w);const T=D4e(m,w,v),$=Math.hypot(w[0]-m[0],w[1]-m[1])/20;!Number.isFinite($)||Math.abs($)>4?(l.rotation=0,l.targetGeometry=new Re({x:0,y:0,spatialReference:e})):(l.scale*=$,l.scale>q("mapview-srswitch-adjust-rotation-scale-threshold")?l.rotation=0:l.rotation+=Number.isFinite(T)?T:0)}catch{}(c=this._get("constraints"))==null||c.constrain(l,void 0),this._get("state").viewpoint=l}resize(e,i){var o;if(!this.ready)return;const r=this.state;let s=this.state.paddedViewState.viewpoint;const n=this.state.paddedViewState.size.slice();r.size=[e,i],V4e(s,s,n,this.state.paddedViewState.size,this.resizeAlign),s=((o=this.constraints)==null?void 0:o.constrain(s,void 0))??s,this.state.viewpoint=s}toMap(e){if(!this.ready)return null;const i=[0,0],[r,s]=this.state.toMap(i,[e.x,e.y]),n=this.state.spatialReference;return new Re({x:r,y:s,spatialReference:n})}toScreen(e,i){if(!this.ready)return null;const r=this._project(e,this.state.spatialReference),s=[r.x,r.y];return(i==null?void 0:i.pickClosestTarget)===!1||this.state.paddedViewState.wrapMapCoordinate(s,s),this.state.toScreen(s,s),rr(s[0],s[1])}_project(e,i){var n;const r=(e==null?void 0:e.targetGeometry)||e;if(!i)return e;if(!r)return null;if(i.imageCoordinateSystem||(n=r.spatialReference)!=null&&n.imageCoordinateSystem||vr(i,r.spatialReference))return e;const s=ah(r,i);if(!s)throw new B("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:r,spatialReference:i});return yOe(e)?(e.targetGeometry=s,e):s}};function yOe(t){return(t==null?void 0:t.declaredClass)==="esri.Viewpoint"}h([f({type:Re})],Vr.prototype,"center",null),h([f()],Vr.prototype,"constraints",void 0),h([f({type:Ye})],Vr.prototype,"extent",null),h([f({value:{top:0,right:0,bottom:0,left:0},cast:t=>({top:0,right:0,bottom:0,left:0,...t})})],Vr.prototype,"padding",null),h([f()],Vr.prototype,"ready",void 0),h([f()],Vr.prototype,"resizeAlign",void 0),h([f({readOnly:!0})],Vr.prototype,"resolution",null),h([f({type:Number})],Vr.prototype,"rotation",null),h([f({type:Number})],Vr.prototype,"scale",null),h([f({readOnly:!0})],Vr.prototype,"state",void 0),h([f({type:Ws})],Vr.prototype,"viewpoint",null),h([f({readOnly:!0})],Vr.prototype,"visibleArea",null),h([f()],Vr.prototype,"zoom",null),Vr=h([I("esri.views.2d.ViewStateManager")],Vr);const rF=160;let Vv=class extends $e{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),this._timer==null&&(this._timer=setInterval(()=>{performance.now()-this._timestamp>=rF&&this.clear()},rF))}clear(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}};h([f()],Vv.prototype,"_timer",void 0),h([f()],Vv.prototype,"stationary",null),Vv=h([I("esri.views.2d.support.StationaryManager")],Vv);const gOe=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.fullOpacity=1,this.stateManager=new Vr({constraints:new iF({view:this})}),this.stationaryManager=new Vv,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!1,labelsAnimationTime:0,labelCollisionsEnabled:!1},this.frameTask=new dOe(this),this.viewEvents=new YX(this),this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([Le(()=>this.viewpoint,()=>this.stationaryManager.flip(),Fa)])}get constraintsInfo(){return{lods:null,spatialReference:null}}get extent(){var r;return((r=this.stateManager)==null?void 0:r.extent)??null}set extent(r){this.stateManager.extent=r}get state(){return this.stateManager.state}get interacting(){return!1}get stationary(){return!this.animation&&this.stationaryManager.stationary}set animation(r){const s=this._get("animation");if(r===s)return;if(s&&s.stop(),r!==this.animationManager.animation&&this.animationManager.stop(),!r||r.isFulfilled())return void this._set("animation",null);this._set("animation",r);const n=()=>{var o;this.destroyed||r===this._get("animation")&&(this._set("animation",null),(o=this.frameTask)==null||o.requestFrame())};r.when(n,n)}get constraints(){var r;return(r=this.stateManager)==null?void 0:r.constraints}set constraints(r){r.view=this;const s=this.stateManager.constraints;this.stateManager.constraints=r,s==null||s.destroy()}get padding(){var r;return(r=this.stateManager)==null?void 0:r.padding}set padding(r){this.stateManager&&(this.stateManager.padding=r)}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(r){this.stateManager.resizeAlign=r}get rotation(){return this.stateManager.rotation??0}set rotation(r){const{rotationEnabled:s}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=r,this.constraints.rotationEnabled=s}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(r){this.stateManager.viewpoint=r,this.frameTask.requestFrame()}};return h([f({readOnly:!0})],i.prototype,"animationManager",void 0),h([f({readOnly:!0})],i.prototype,"fullOpacity",void 0),h([f()],i.prototype,"stateManager",void 0),h([f()],i.prototype,"constraintsInfo",null),h([f()],i.prototype,"extent",null),h([f({readOnly:!0})],i.prototype,"state",null),h([f({readOnly:!0})],i.prototype,"mapViewNavigation",void 0),h([f()],i.prototype,"renderingOptions",void 0),h([f({readOnly:!0})],i.prototype,"interacting",null),h([f()],i.prototype,"stationary",null),h([f()],i.prototype,"animation",null),h([f({type:iF})],i.prototype,"constraints",null),h([f()],i.prototype,"padding",null),h([f()],i.prototype,"resizeAlign",null),h([f()],i.prototype,"rotation",null),h([f({readOnly:!0})],i.prototype,"viewEvents",void 0),h([f({type:Ws})],i.prototype,"viewpoint",null),i=h([I("esri.views.Viewport2DBaseMixin")],i),i},vOe=()=>dt.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;var vy;let rm=(vy=class extends a6{constructor(e){super(e),this.state="running",this.target=null,this._resolver=null}initialize(){this._resolver=bn(),this.addResolvingPromise(this._resolver.promise)}get done(){return this.state==="finished"||this.state==="stopped"}stop(){var e;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","stopped"),(e=this._resolver)==null||e.reject(new B("view:animation-stopped","ViewAnimation stopped")))}finish(){var e;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","finished"),(e=this._resolver)==null||e.resolve())}update(e,i){i||(i=Xr(e)?"waiting-for-target":"running"),this._set("target",e),this._set("state",i)}},vy.state={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"},vy);h([f({readOnly:!0})],rm.prototype,"done",null),h([f({readOnly:!0,type:String})],rm.prototype,"state",void 0),h([f()],rm.prototype,"target",void 0),rm=h([I("esri.views.ViewAnimation")],rm);const zk=rm;let wS=class extends $e{constructor(e){super(e),this._gotoTask=null}destroy(){this._gotoTask=null}async goTo(e,i){if(!e)return void se.getLogger(this).error("#goTo()","target cannot be null or undefined");const r=new zk;this.view.animation=r,await c6(()=>this.view.ready,i);const s={...i,animate:(i==null?void 0:i.animate)??(!vOe()&&this.view.animationsEnabled),animationMode:(i==null?void 0:i.animationMode)??"auto"},{extent:n,spatialReference:o,size:l,viewpoint:c,constraints:d,padding:m,allLayerViews:v}=this.view,w=E4e(e,{extent:n,spatialReference:o,size:l,viewpoint:c,constraints:d,padding:m,allLayerViews:v,pickClosestTarget:(i==null?void 0:i.pickClosestTarget)??!0});return r==null||r.update(w),this._gotoTask={},s.animate?this._gotoAnimated(w,s):this._gotoImmediate(w,s)}_gotoImmediate(e,i){const r=this._gotoTask,s=this.view.animation,n=e.then(o=>{if(Gt(i),r!==this._gotoTask)throw new B("view:goto-interrupted","Goto was interrupted");this.view.viewpoint=s.target=o,s.finish()});return this._cancellableGoTo(r,s,n,i)}_gotoAnimated(e,i){const r=this._gotoTask,s=this.view.animation;if(!s)return Promise.resolve();const n=e.then(o=>{if(Gt(i),r!==this._gotoTask)throw new B("view:goto-interrupted","Goto was interrupted");return s.update(o),this.view.animationManager.animate(s,this.view.viewpoint,i),s.when().then(()=>{},()=>{})});return this._cancellableGoTo(r,s,n,i)}_cancellableGoTo(e,i,r,s){const n=()=>e===this._gotoTask;return Rhe(r,s).finally(()=>{n()&&(i.done||i.stop())})}};h([f({constructOnly:!0})],wS.prototype,"view",void 0),wS=h([I("esri.views.2d.GoToManager")],wS);function FQ(t,e){switch(e){case"primary":return t.pointerType==="touch"||t.button===0;case"secondary":return t.pointerType!=="touch"&&t.button===2;case"tertiary":return t.pointerType!=="touch"&&t.button===1}}function zQ(t,e){return e.some(i=>FQ(t,i))}function sF(t,{dragPrimary:e,dragSecondary:i,dragTertiary:r}){return[{key:"primary",value:e},{key:"secondary",value:i},{key:"tertiary",value:r}].filter(s=>s.value===t).map(s=>s.key)}let nF=class extends or{constructor(e,i){super(!0),this._view=e,this.registerIncoming("double-click",i,r=>this._handleDoubleClick(r,i))}_handleDoubleClick(e,i){FQ(e.data,"primary")&&(e.stopPropagation(),i?this._view.mapViewNavigation.zoomOut([e.data.x,e.data.y]):this._view.mapViewNavigation.zoomIn([e.data.x,e.data.y]))}},wOe=class extends or{constructor(e,i,r){super(!0),this.view=e,this.pointerType=i,this.registerIncoming("double-tap-drag",r,s=>this._handleDoubleTapDrag(s))}_handleDoubleTapDrag(e){const{data:i}=e,{pointerType:r}=i;if(r!==this.pointerType)return;e.stopPropagation();const{action:s,delta:n}=i,{view:o}=this,{mapViewNavigation:l}=o;switch(s){case"begin":{const{scale:c}=o;this._startScale=c,this._currentScale=c,this._previousDelta=n,l.begin();break}case"update":{if(this._previousDelta.y===n.y)return;this._previousDelta=n;const c=1.015**n.y,d=this._startScale*c,m=d/this._currentScale;l.setViewpointImmediate(m),this._currentScale=d;break}case"end":{const{constraints:c}=o,{effectiveLODs:d,snapToZoom:m}=c;if(!m||!d)return void l.end();const v=c.snapScale(this._currentScale),w=(n.y>0?Math.max(v,c.snapToPreviousScale(this._startScale)):Math.min(v,c.snapToNextScale(this._startScale)))/this._currentScale;l.zoom(w).then(()=>{l.end()});break}}}},e3=class{constructor(e){this._callbacks=e,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(e){const i=e.data,r=i.pointers.size;switch(i.action){case"start":this._currentCount=r,this._emitStart(e);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=r,this._emitStart(e);break;case"update":this._emitUpdate(e);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=r,this._emitStart(e);break;case"end":this._emitEnd(e),this._currentCount=0}this._previousEvent=e}_emitStart(e){var i,r;this._startEvent=e,(r=(i=this._callbacks).condition)!=null&&r.call(i,this._currentCount,e)&&this._callbacks.start(this._currentCount,e,this._startEvent)}_emitUpdate(e){var i,r;(r=(i=this._callbacks).condition)!=null&&r.call(i,this._currentCount,e)&&this._callbacks.update(this._currentCount,e,this._startEvent)}_emitEnd(e){var i,r;(r=(i=this._callbacks).condition)!=null&&r.call(i,this._currentCount,e)&&this._callbacks.end(this._currentCount,e,this._startEvent),this._startEvent=null}},bOe=class extends or{constructor(e,i,r){super(!0),this.view=e,this.pointerActions=i,this.registerIncoming("drag",r,s=>this._handleDrag(s)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(e){super.onInstall(e),this._dragEventSeparator=new e3({start:(i,r)=>{this.view.mapViewNavigation.pan.begin(this.view,r.data),r.stopPropagation()},update:(i,r)=>{this.view.mapViewNavigation.pan.update(this.view,r.data),r.stopPropagation()},end:(i,r)=>{this.view.mapViewNavigation.pan.end(this.view,r.data),r.stopPropagation()},condition:(i,r)=>i===1&&zQ(r.data,this.pointerActions)})}_handleDrag(e){const i=this.view.mapViewNavigation;i.pinch.zoomMomentum||i.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(e)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}},_Oe=class extends or{constructor(e,i,r){super(!0),this._view=e,this.pointerActions=i;const s=this._view.mapViewNavigation;this._dragEventSeparator=new e3({start:(n,o)=>{s.rotate.begin(this._view,o.data),o.stopPropagation()},update:(n,o)=>{s.rotate.update(this._view,o.data),o.stopPropagation()},end:(n,o)=>{s.rotate.end(),o.stopPropagation()},condition:(n,o)=>n===1&&zQ(o.data,this.pointerActions)}),this.registerIncoming("drag",r,n=>this._dragEventSeparator.handle(n))}};function UQ(t){const e=t[0],i=t[1],r=t[2];return Math.sqrt(e*e+i*i+r*r)}function SOe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function xOe(t,e,i,r){return t[0]=e,t[1]=i,t[2]=r,t}function TOe(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t}function qQ(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t}function BQ(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t}function GQ(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t}function $Oe(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function MOe(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function EOe(t,e){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t}function AOe(t,e){return t[0]=Math.sign(e[0]),t[1]=Math.sign(e[1]),t[2]=Math.sign(e[2]),t}function OOe(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t}function kOe(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t}function COe(t,e=0,i=1){return t[0]=Math.min(Math.max(t[0],e),i),t[1]=Math.min(Math.max(t[1],e),i),t[2]=Math.min(Math.max(t[2],e),i),t}function ROe(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function HQ(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function IOe(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t}function WQ(t,e){const i=e[0]-t[0],r=e[1]-t[1],s=e[2]-t[2];return Math.sqrt(i*i+r*r+s*s)}function ZQ(t,e){const i=e[0]-t[0],r=e[1]-t[1],s=e[2]-t[2];return i*i+r*r+s*s}function YQ(t){const e=t[0],i=t[1],r=t[2];return e*e+i*i+r*r}function POe(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function jOe(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function Uk(t,e){const i=e[0],r=e[1],s=e[2];let n=i*i+r*r+s*s;return n>0&&(n=1/Math.sqrt(n),t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n),t}function JQ(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function NOe(t,e,i){const r=e[0],s=e[1],n=e[2],o=i[0],l=i[1],c=i[2];return t[0]=s*c-n*l,t[1]=n*o-r*c,t[2]=r*l-s*o,t}function DOe(t,e,i){const r=e[0],s=e[1],n=e[2],o=i[0],l=i[1],c=i[2],d=s*c-n*l,m=n*o-r*c,v=r*l-s*o,w=Math.sqrt(d*d+m*m+v*v);return t[0]=d/w,t[1]=m/w,t[2]=v/w,t}function LOe(t,e,i,r){const s=e[0],n=e[1],o=e[2];return t[0]=s+r*(i[0]-s),t[1]=n+r*(i[1]-n),t[2]=o+r*(i[2]-o),t}function VOe(t,e,i,r,s,n){const o=n*n,l=o*(2*n-3)+1,c=o*(n-2)+n,d=o*(n-1),m=o*(3-2*n);return t[0]=e[0]*l+i[0]*c+r[0]*d+s[0]*m,t[1]=e[1]*l+i[1]*c+r[1]*d+s[1]*m,t[2]=e[2]*l+i[2]*c+r[2]*d+s[2]*m,t}function FOe(t,e,i,r,s,n){const o=1-n,l=o*o,c=n*n,d=l*o,m=3*n*l,v=3*c*o,w=c*n;return t[0]=e[0]*d+i[0]*m+r[0]*v+s[0]*w,t[1]=e[1]*d+i[1]*m+r[1]*v+s[1]*w,t[2]=e[2]*d+i[2]*m+r[2]*v+s[2]*w,t}function zOe(t,e=1){const i=MT,r=2*i()*Math.PI,s=2*i()-1,n=Math.sqrt(1-s*s)*e;return t[0]=Math.cos(r)*n,t[1]=Math.sin(r)*n,t[2]=s*e,t}function UOe(t,e,i){const r=e[0],s=e[1],n=e[2];return t[0]=i[0]*r+i[4]*s+i[8]*n+i[12],t[1]=i[1]*r+i[5]*s+i[9]*n+i[13],t[2]=i[2]*r+i[6]*s+i[10]*n+i[14],t}function qOe(t,e,i){const r=e[0],s=e[1],n=e[2];return t[0]=r*i[0]+s*i[3]+n*i[6],t[1]=r*i[1]+s*i[4]+n*i[7],t[2]=r*i[2]+s*i[5]+n*i[8],t}function BOe(t,e,i){const r=i[0],s=i[1],n=i[2],o=i[3],l=e[0],c=e[1],d=e[2],m=s*d-n*c,v=n*l-r*d,w=r*c-s*l,_=s*w-n*v,x=n*m-r*w,T=r*v-s*m,$=2*o;return t[0]=l+m*$+2*_,t[1]=c+v*$+2*x,t[2]=d+w*$+2*T,t}function GOe(t,e,i,r){const s=[],n=[];return s[0]=e[0]-i[0],s[1]=e[1]-i[1],s[2]=e[2]-i[2],n[0]=s[0],n[1]=s[1]*Math.cos(r)-s[2]*Math.sin(r),n[2]=s[1]*Math.sin(r)+s[2]*Math.cos(r),t[0]=n[0]+i[0],t[1]=n[1]+i[1],t[2]=n[2]+i[2],t}function HOe(t,e,i,r){const s=[],n=[];return s[0]=e[0]-i[0],s[1]=e[1]-i[1],s[2]=e[2]-i[2],n[0]=s[2]*Math.sin(r)+s[0]*Math.cos(r),n[1]=s[1],n[2]=s[2]*Math.cos(r)-s[0]*Math.sin(r),t[0]=n[0]+i[0],t[1]=n[1]+i[1],t[2]=n[2]+i[2],t}function WOe(t,e,i,r){const s=[],n=[];return s[0]=e[0]-i[0],s[1]=e[1]-i[1],s[2]=e[2]-i[2],n[0]=s[0]*Math.cos(r)-s[1]*Math.sin(r),n[1]=s[0]*Math.sin(r)+s[1]*Math.cos(r),n[2]=s[2],t[0]=n[0]+i[0],t[1]=n[1]+i[1],t[2]=n[2]+i[2],t}function ZOe(t,e){Uk(oF,t),Uk(aF,e);const i=JQ(oF,aF);return i>1?0:i<-1?Math.PI:Math.acos(i)}const oF=rh(),aF=rh();function YOe(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function JOe(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function KOe(t,e){if(t===e)return!0;const i=t[0],r=t[1],s=t[2],n=e[0],o=e[1],l=e[2],c=ws();return Math.abs(i-n)<=c*Math.max(1,Math.abs(i),Math.abs(n))&&Math.abs(r-o)<=c*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(s-l)<=c*Math.max(1,Math.abs(s),Math.abs(l))}function XOe(t,e,i){const r=i[0]-e[0],s=i[1]-e[1],n=i[2]-e[2];let o=r*r+s*s+n*n;return o>0?(o=1/Math.sqrt(o),t[0]=r*o,t[1]=s*o,t[2]=n*o,t):(t[0]=0,t[1]=0,t[2]=0,t)}const QOe=qQ,eke=BQ,tke=GQ,ike=WQ,rke=ZQ,ske=UQ,nke=YQ;Object.freeze(Object.defineProperty({__proto__:null,abs:EOe,add:TOe,angle:ZOe,bezier:FOe,ceil:$Oe,clamp:COe,copy:SOe,cross:NOe,crossAndNormalize:DOe,direction:XOe,dist:ike,distance:WQ,div:tke,divide:GQ,dot:JQ,equals:KOe,exactEquals:JOe,floor:MOe,hermite:VOe,inverse:jOe,len:ske,length:UQ,lerp:LOe,max:kOe,min:OOe,mul:eke,multiply:BQ,negate:POe,normalize:Uk,random:zOe,rotateX:GOe,rotateY:HOe,rotateZ:WOe,round:ROe,scale:HQ,scaleAndAdd:IOe,set:xOe,sign:AOe,sqrDist:rke,sqrLen:nke,squaredDistance:ZQ,squaredLength:YQ,str:YOe,sub:QOe,subtract:qQ,transformMat3:qOe,transformMat4:UOe,transformQuat:BOe},Symbol.toStringTag,{value:"Module"}));function Mo(t){let e=t*t;return t<0&&(e*=-1),e}function oke(t){return t.translation[0]=0,t.translation[1]=0,t.translation[2]=0,t.heading=0,t.tilt=0,t}function ake(t,e,i){const r=i,s=t.state,n=t.device,o=e.tiltDirection==="forward-down"?1:-1,l=1;return n.deviceType==="standard"?(r.translation[0]=Mo(s.axes[0]),r.translation[1]=Mo(s.axes[1]),r.translation[2]=Mo(s.buttons[7])-Mo(s.buttons[6]),r.heading=Mo(s.axes[2]),r.tilt=Mo(s.axes[3])):n.deviceType==="spacemouse"&&(r.translation[0]=1.2*Mo(s.axes[0]),r.translation[1]=1.2*Mo(s.axes[1]),r.translation[2]=2*-Mo(s.axes[2]),r.heading=1.2*Mo(s.axes[5]),r.tilt=1.2*Mo(s.axes[3])),r.tilt*=o,HQ(r.translation,r.translation,l),r}function lke(t){return t.translation[0]===0&&t.translation[1]===0&&t.translation[2]===0&&t.heading===0&&t.tilt===0&&t.zoom===0}let uke=class extends or{constructor(e){super(!0),this._view=e,this._frameTask=null,this._watchHandles=new rg,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",i=>this._handleGamePadEvent(i)),this._handle.pause()}onInstall(e){super.onInstall(e),this._watchHandles.add([Le(()=>{var i;return(i=this._view.navigation.gamepad)==null?void 0:i.enabled},i=>{i?(this._handle.resume(),this._frameTask||(this._frameTask=Ry({update:r=>this._frameUpdate(r.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},Qr)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(e){var r;const i=this._view.navigation.gamepad.device;i&&e.data.device!==i||this._currentDevice&&this._currentDevice!==e.data.device||(e.data.action==="end"?(this._currentDevice=null,oke(this._transformation)):(this._currentDevice=e.data.device,ake(e.data,this._view.navigation.gamepad,this._transformation)),(r=this._frameTask)==null||r.resume())}_frameUpdate(e){var v;const i=this._transformation;if(lke(i))return void((v=this._frameTask)==null?void 0:v.pause());const r=this._view.viewpoint.clone(),s=this._view.navigation.gamepad.velocityFactor,n=hke*s*e;QT(r,r,[i.translation[0]*n,-i.translation[1]*n]);const o=1+i.translation[2]*dke*e,l=this._view.constraints.rotationEnabled?-i.heading*cke*e:0,c=this._view.size,d=[c[0]/2,c[1]];MQ(r,r,o,l,d,c);const m=this._view.constraints.constrain(r,this._view.viewpoint);this._view.viewpoint=m}};const cke=.06,hke=.7,dke=6e-4;function KQ(t){const e=()=>t(document.visibilityState==="visible");return document.addEventListener("visibilitychange",e),at(()=>document.removeEventListener("visibilitychange",e))}let pke=class extends or{constructor(e,i,r){super(!0),this.view=e,this.keys=i,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=s=>{const n=this._keyMap[s.data.key];if(s.modifiers.has("Meta")||s.modifiers.has("Control"))return void this._stopMovement();if(n==null)return;s.stopPropagation(),s.preventDefault();const o=s.type==="key-down";if(this._pressedKeys[o?"add":"delete"](n),o){if(this._direction===n)return;this._direction=n,this._isSticky=!1,this._setTimeout(()=>{this._isSticky&&this._handlePopKey()})}else{const l=this._timeout===void 0,c=this._pressedKeys.size>0;l||c?this._handlePopKey():this._isSticky=!0}},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),this._direction==null&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[i.left]:"left",[i.right]:"right",[i.up]:"up",[i.down]:"down"},this.registerIncoming("key-down",r,this._handleKey),this.registerIncoming("key-up",r,this._handleKey),this.registerIncoming("blur",r,this._stopMovement),this._visibilityHandle=KQ(s=>s?null:this._stopMovement())}onUninstall(){var e;this._stopMovement(),(e=this._visibilityHandle)==null||e.remove()}get _direction(){return this._currentDirection}set _direction(e){const i=this._currentDirection!=null;if(e!=null){if(i||this.view.mapViewNavigation.begin(),this._currentDirection!==e)switch(e){case"left":this.view.mapViewNavigation.continuousPanLeft();break;case"right":this.view.mapViewNavigation.continuousPanRight();break;case"up":this.view.mapViewNavigation.continuousPanUp();break;case"down":this.view.mapViewNavigation.continuousPanDown()}}else i&&this.view.mapViewNavigation.stop();this._currentDirection=e}_setTimeout(e){clearTimeout(this._timeout),this._timeout=e===void 0?void 0:setTimeout(()=>{this._timeout=void 0,e()},this._stickyKeyDuration)}},fke=class extends or{constructor(e,i,r){super(!0),this.view=e,this.keys=i,this._keyToDirection=new Map,this._pressed=!1,this._addKeysMapping(i),this.registerIncoming("key-down",r,s=>this._handleKeyDown(s)),this.registerIncoming("key-up",r,s=>this._handleKeyUp(s)),this.registerIncoming("blur",r,()=>this._handleStop()),this._visibilityHandle=KQ(s=>s?null:this._handleStop())}onUninstall(){var e;(e=this._visibilityHandle)==null||e.remove(),this._handleStop()}_addKeysMapping(e){this._addKeyMapping(e.clockwise,"clockwise"),this._addKeyMapping(e.counterClockwise,"counterClockwise"),this._addKeyMapping(e.reset,"reset")}_addKeyMapping(e,i){for(const r of e)this._keyToDirection.set(r,i)}_handleKeyDown(e){e.data.repeat||this._handleKey(e,!0)}_handleKeyUp(e){this._handleKey(e,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(e,i){const r=e.modifiers;if(r.size>0&&!r.has("Shift")||!this.view.constraints.rotationEnabled)return;const s=this._keyToDirection.get(e.data.key);if(this._pressed=s!=null,this._pressed){if(e.preventDefault(),i)switch(this.view.mapViewNavigation.begin(),s){case"clockwise":this.view.mapViewNavigation.continuousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continuousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();e.stopPropagation()}}},mke=class extends or{constructor(e,i,r){super(!0),this.view=e,this.keys=i,this._keysToZoomAction={},this.registerIncoming("key-down",r,s=>this._handleKeyDown(s)),i.zoomIn.forEach(s=>this._keysToZoomAction[s]=0),i.zoomOut.forEach(s=>this._keysToZoomAction[s]=1)}_handleKeyDown(e){this._handleKey(e)}_handleKey(e){const i=e.modifiers;if(i.size>0&&!i.has("Shift"))return;const{key:r}=e.data;if(!(r in this._keysToZoomAction))return;const s=this._keysToZoomAction[r],{mapViewNavigation:n}=this.view;let o=null;switch(s){case 0:o=n.zoomIn();break;case 1:o=n.zoomOut();break;default:return}n.begin(),o.then(()=>n.end()),e.stopPropagation()}};const yke=.6;let gke=class extends or{constructor(e,i){super(!0),this._view=e,this._canZoom=!0,this.registerIncoming("mouse-wheel",i,r=>this._handleMouseWheel(r))}_handleMouseWheel(e){if(this._view.navigation.actionMap.mouseWheel!=="zoom"||(e.preventDefault(),e.stopPropagation(),!this._canZoom))return;const i=this._view.mapViewNavigation,{x:r,y:s,deltaY:n}=e.data,o=1/yke**(1/60*n),l=i.zoom(o,[r,s]);this._canZoom=!1,l.catch(()=>{}).then(()=>{this._canZoom=!0,i.end()})}},vke=class extends or{constructor(e){super(!0),this.view=e,this.registerIncoming("drag",r=>this._handleDrag(r)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const i=this.view.mapViewNavigation;this._dragEventSeparator=new e3({start:(r,s)=>{i.pinch.begin(this.view,s.data),s.stopPropagation()},update:(r,s)=>{i.pinch.update(this.view,s.data),s.stopPropagation()},end:(r,s)=>{i.pinch.end(this.view),s.stopPropagation()},condition:r=>r>=2})}_handleDrag(e){this._dragEventSeparator.handle(e)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}};function lF(t){const e=t.native;return e?{buttons:e.buttons.map(i=>i.pressed?i.value||1:0),axes:e.axes.map(i=>_ke(i,t.axisThreshold))}:{buttons:[],axes:[]}}function wke(t,e){if(t.axes.length!==e.axes.length||t.buttons.length!==e.buttons.length)return!1;for(let i=0;i<t.axes.length;i++)if(t.axes[i]!==e.axes[i])return!1;for(let i=0;i<t.buttons.length;i++)if(t.buttons[i]!==e.buttons[i])return!1;return!0}function bke(t){for(let e=0;e<t.axes.length;e++)if(t.axes[e]!==0)return!1;for(let e=0;e<t.buttons.length;e++)if(t.buttons[e]!==0)return!1;return!0}function _ke(t,e){const i=Math.abs(t);return i<e?0:Math.sign(t)*(i-e)/(1-e)}let Ske=class{constructor(e,i){this._element=e,this._input=i,this._hasEventListeners=!1,this._onConnectGamepad=n=>{this._connectGamepad(n.gamepad)},this._onDisconnectGamepad=n=>{const o=n.gamepad,l=o.index,c=this._inputDevices[l];c&&(this._emitGamepadEvent(o,lF(c),!1),this._inputDevices.splice(l,1),this._latestUpdate.splice(l,1),this._input.gamepad.devices.remove(c),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const r="getGamepads"in window.navigator,s=window.isSecureContext;this.supported=r&&s,this.supported&&(uF(n=>this._connectGamepad(n)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(e){this._hasEventListeners!==e&&(this._hasEventListeners=e,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(e){this._callback=e}_connectGamepad(e){const i=new H6(e);i.deviceType!=="unknown"&&(this._inputDevices[e.index]=i,this._input.gamepad.devices.add(i)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){this._frameTask==null&&(this._frameTask=Ry({update:()=>this._readGamepadState()}))}_stopPolling(){this._frameTask!=null&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const e=document.hasFocus(),i=this._element.contains(document.activeElement),r=this._input.gamepad.enabledFocusMode==="document"&&!e||this._input.gamepad.enabledFocusMode==="view"&&!i;uF(s=>{const n=this._inputDevices[s.index];if(!n)return;const o=this._latestUpdate[s.index],l=lF(n),c=r||bke(l);o&&(o.timestamp===s.timestamp||!o.active&&c||wke(o.state,l))||this._emitGamepadEvent(s,l,!c)})}_emitGamepadEvent(e,i,r){const s=this._latestUpdate[e.index],n=s&&s.active;if(!n&&!r)return;const o=!n&&r?"start":n&&r?"update":"end";this._latestUpdate[e.index]={timestamp:e.timestamp,state:i,active:r},this._callback&&this._callback({device:this._inputDevices[e.index],state:i,action:o})}};function xke(t){if(!t||!t.connected)return!1;for(let e=0;e<t.axes.length;e++)if(isNaN(t.axes[e]))return!1;return!0}function uF(t){for(const e of navigator.getGamepads())xke(e)&&t(e)}const cF=q("edge"),Tke=q("chrome"),$ke=q("ff"),Mke=q("safari"),hF="esri-view-surface",Cf={touchNone:`${hF}--touch-none`,touchPan:`${hF}--touch-pan`};var tp;let Eke=(tp=class{constructor(e,i){this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=e,e.getAttribute("tabindex")||e.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new Ske(e,i),this._gamepadSource.onEvent=r=>this._callback("gamepad",r)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(e=>this._releasePointerCaptureSafe(e)),this._activePointerCaptures.clear(),this._gamepadSource=ti(this._gamepadSource),this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(e){this._browserTouchPanningEnabled=e,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(e){this._callback=e}set activeEvents(e){for(const i in this._active)if(!e||!e.has(i)){const r=this._active[i];this._element.removeEventListener(Q5[i],r),delete this._active[i]}e&&e.forEach(i=>{if(!this._active[i]&&Q5[i]){const r=(this._eventHandlers[i]||this._handleDefault).bind(this,i);this._element.addEventListener(Q5[i],r),this._active[i]=r}}),this._gamepadSource&&(this._gamepadSource.hasEventListeners=(e==null?void 0:e.has("gamepad"))??!1)}setPointerCapture(e,i){i?this._setPointerCaptureSafe(e.pointerId):(this._releasePointerCaptureSafe(e.pointerId),this._activePointerCaptures.delete(e.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?Cf.touchNone:Cf.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?Cf.touchPan:Cf.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(Cf.touchNone),this._element.classList.remove(Cf.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_setPointerCaptureSafe(e){try{this._element.setPointerCapture(e),this._activePointerCaptures.add(e)}catch{}}_releasePointerCaptureSafe(e){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(e))return;this._element.releasePointerCapture(e)}catch{}}_updateNormalizedPointerLikeEvent(e,i){const r=KX(this._element,e);return tp.test.disableSubpixelCoordinates&&(r.x=Math.round(r.x),r.y=Math.round(r.y)),i.x=r.x,i.y=r.y,i}_handleKey(e,i){const{key:r}=i;r&&e==="key-up"&&this._keyDownState.delete(r);const s={native:i,key:r,repeat:!!r&&this._keyDownState.has(r)};r&&e==="key-down"&&this._keyDownState.add(s.key),this._callback(e,s)}_handlePointer(e,i){const r=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});this._callback(e,r)}_handlePointerPreventDefault(e,i){const r=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});i.preventDefault(),this._callback(e,r)}_getDeltaFromTrackpadOrMouseWheel(e){return e.shiftKey&&q("mac")&&e.deltaY===0?e.deltaX:e.deltaY}_handleMouseWheel(e,i){let r=this._getDeltaFromTrackpadOrMouseWheel(i);switch(i.deltaMode){case 0:cF&&(r=r/document.documentElement.clientHeight*600);break;case 1:r*=30;break;case 2:r*=900}cF?r*=.7:Tke||Mke?r*=.6:$ke&&(r*=1.375);const s=100,n=Math.abs(r);n>s&&(r=r/n*200/(1+Math.exp(-.02*(n-s))));const o=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,deltaY:r});this._callback(e,o)}_handlePointerCaptureLost(e,i){this._activePointerCaptures.delete(i.pointerId),this._handleDefault(e,i)}_handleDefault(e,i){const r={native:i};i.preventDefault(),this._callback(e,r)}_preventAltKeyDefault(e){e.key==="Alt"&&e.preventDefault()}_preventMultiTouchPanning(e){e.touches.length>1&&e.preventDefault()}},tp.test={disableSubpixelCoordinates:!1},tp);const Q5={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};let Ake=class extends or{constructor(){super(!0),this.registerIncoming("context-menu",e=>e.data.native.preventDefault())}};const XQ=()=>({maximumClickDelay:300}),Oke=(t={})=>({...XQ(),movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500,...t}),sI=(t={})=>({...XQ(),maximumDoubleClickDistance:10,maximumDoubleTouchDistance:35,maximumDoubleClickDelay:250,maximumDoubleTouchDelay:350,...t});function Ax(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)}function kke(t,e){const i=e.x-t.x,r=e.y-t.y;return Math.sqrt(i*i+r*r)}function Cke(t,e){if(e?(e.radius=0,e.center.x=0,e.center.y=0):e={radius:0,center:rr()},t.length===0)return e;if(t.length===1)return e.center.x=t[0].x,e.center.y=t[0].y,e;if(t.length===2){const[R,N]=t,[j,z]=[N.x-R.x,N.y-R.y];return e.radius=Math.sqrt(j*j+z*z)/2,e.center.x=(R.x+N.x)/2,e.center.y=(R.y+N.y)/2,e}let i=0,r=0;for(let R=0;R<t.length;R++)i+=t[R].x,r+=t[R].y;i/=t.length,r/=t.length;const s=t.map(R=>R.x-i),n=t.map(R=>R.y-r);let o=0,l=0,c=0,d=0,m=0,v=0,w=0;for(let R=0;R<s.length;R++){const N=s[R],j=n[R],z=N*N,ee=j*j;o+=z,l+=ee,c+=N*j,d+=z*N,m+=ee*j,v+=N*ee,w+=j*z}const _=.5*(d+v),x=.5*(m+w),T=o*l-c*c,$=(_*l-x*c)/T,O=(o*x-c*_)/T,C=rr($+i,O+r);return{radius:Math.sqrt($*$+O*O+(o+l)/t.length),center:C}}function Jd(t){const{native:e}=t,{pointerId:i,button:r,pointerType:s}=e;return s==="mouse"?`${i}:${r}`:`${s}`}let Rke=class extends or{constructor(e={},i=og){super(!1),this._clock=i,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=rr(0,0),this._pointerState=new Map,this._parameters=sI(e),this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new e3({start:(r,s)=>this._dragStart(r,s),update:(r,s)=>this._dragUpdate(s),end:(r,s)=>this._dragEnd(s)}),this.registerIncoming("drag",r=>this._dragEventSeparator.handle(r)),this.registerIncoming("pointer-down",r=>this._handlePointerDown(r)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(e=>{e.doubleTapTimeout=Dt(e.doubleTapTimeout)})}get hasPendingInputs(){for(const e of this._pointerState.values())if(e.doubleTapTimeout!=null)return!0;return!1}_clearPointerDown(e){const i=this._pointerState.get(e);i&&(i.doubleTapTimeout=Dt(i.doubleTapTimeout),this._pointerState.delete(e),this.refreshHasPendingInputs())}_dragStart(e,i){if(!this._doubleTapDragReady||e!==1)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:r,modifiers:s}=i,{center:n}=r;this._dragStartCenter=n;const o=eE("begin",rr(0,0),r);this._doubleTapDrag.emit(o,void 0,s),i.stopPropagation()}_dragUpdate(e){if(!this._doubleTapDragActive)return;const{data:i,modifiers:r}=e,{center:s}=i,n=eE("update",rr(s.x-this._dragStartCenter.x,s.y-this._dragStartCenter.y),i);this._doubleTapDrag.emit(n,void 0,r),e.stopPropagation()}_dragEnd(e){if(!this._doubleTapDragActive)return;const{data:i,modifiers:r}=e,{center:s}=i,n=eE("end",rr(s.x-this._dragStartCenter.x,s.y-this._dragStartCenter.y),i);this._doubleTapDrag.emit(n,void 0,r),this._doubleTapDragActive=!1,e.stopPropagation()}_handlePointerDown(e){const{data:i}=e,r=Jd(i),s=this._pointerState.get(r),{pointerType:n}=i.native;if(s){const o=n==="touch"?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;this._clearPointerDown(r),Ax(s.event.data,i)>o?this._storePointerDown(e):this._doubleTapDragReady=!0}else this._storePointerDown(e)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(e){const{data:i}=e,{pointerType:r}=i.native,s=Jd(i),n=r==="touch"?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay,o=this._clock.setTimeout(()=>this._clearPointerDown(s),n);this._pointerState.set(s,{event:e,doubleTapTimeout:o}),this.refreshHasPendingInputs()}};function eE(t,e,i){const{button:r,buttons:s,pointer:n,pointers:o,pointerType:l,timestamp:c}=i;return{action:t,delta:e,button:r,buttons:s,pointer:n,pointers:o,pointerType:l,timestamp:c}}let Ike=class extends or{constructor(e){super(!1),this._navigationTouch=e,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(e,i,r,s){return{action:e,pointerType:this._pointerType,button:this._mouseButton,buttons:i.buttons,timestamp:s,pointers:Pke(this._activePointerMap),pointer:i,angle:r.angle,radius:r.radius,center:r.center}}_addPointer(e){const i=e.native.pointerId,r=K_(this._activePointerMap).angle,s={event:e,initialAngle:0,lastAngle:0};this._activePointerMap.set(i,s);const n=bS(s,QQ(this._activePointerMap));s.initialAngle=n,s.lastAngle=n,this._updatePointerAngles(r)}_updatePointer(e){if(e&&e.x==null&&e.y==null)return;const i=e.native.pointerId,r=this._activePointerMap.get(i);r?r.event=e:this._addPointer(e)}_removePointer(e){const i=K_(this._activePointerMap).angle;this._activePointerMap.delete(e),this._updatePointerAngles(i)}_updatePointerAngles(e){const i=K_(this._activePointerMap);this._activePointerMap.forEach(r=>{r.initialAngle=bS(r,i)-e,r.lastAngle=bS(r,i)-e})}_emitEvent(e,i,r){const s=K_(this._activePointerMap);this._drag.emit(this._createPayload(e,i,s,r),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(e){const i=e.data.native.pointerId,r=e.timestamp;this._activePointerMap.get(i)&&(this._activePointerMap.size===1?(this._updatePointer(e.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",e.data,r),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(i)):(this._removePointer(i),this._emitEvent("removed",e.data,e.timestamp)))}_handlePointerDrag(e){const i=e.data,r=i.currentEvent,s=e.timestamp;switch(i.action){case"start":case"update":this._isDragging?this._activePointerMap.has(r.native.pointerId)?(this._updatePointer(r),!this._isCurrentDragSuppressed&&this._emitEvent("update",r,s)):(this._addPointer(r),this._emitEvent("added",r,s),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(r),this._pointerType=e.data.startEvent.pointerType,this._mouseButton=e.data.startEvent.button,this._startStateModifiers=e.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",r,s))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&this._pointerType==="touch"&&this._activePointerMap.size===1}};function QQ(t){const e=[];return t.forEach(i=>{e.push(rr(i.event.x,i.event.y))}),Cke(e)}function K_(t){const e=QQ(t);let i=0;return t.forEach(r=>{let s=bS(r,e),n=s-r.lastAngle;for(;n>Math.PI;)n-=2*Math.PI;for(;n<-Math.PI;)n+=2*Math.PI;s=r.lastAngle+n,r.lastAngle=s;const o=s-r.initialAngle;i+=o}),i/=t.size||1,{angle:i,radius:e.radius,center:e.center}}function Pke(t){const e=new Map;return t.forEach((i,r)=>e.set(r,i.event)),e}function bS(t,e){const i=t.event,r=i.x-e.center.x,s=i.y-e.center.y;return Math.atan2(s,r)}let jke=class extends or{constructor(e={},i=og){super(!1),this._clock=i,this._pointerState=new Map,this._parameters=sI(e),this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(e=>{e.immediateDoubleClick&&e.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(e){const i=e.data,r=Jd(i);if(!this._pointerState.has(r)){const s={downButton:i.native.button,x:i.x,y:i.y,immediateDoubleClick:null};this._pointerState.set(r,s),this.startCapturingPointer(i.native)}}_handlePointerUp(e){const i=e.data,r=Jd(i),s=this._pointerState.get(r);if(s&&s.downButton===i.native.button){const n=s.immediateDoubleClick,o=e.data.native.pointerType==="touch"?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;n?(n.timeoutHandle.remove(),Ax(n,e.data)>o?this._startImmediateDoubleClick(e,s):(this._immediateDoubleClick.emit(e.data,void 0,n.modifiers),this._removeState(i))):Ax(s,e.data)>o?this._removeState(i):this._startImmediateDoubleClick(e,s)}}_startImmediateDoubleClick(e,i){const r=e.data.native.pointerType==="touch"?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay;i.immediateDoubleClick={x:e.data.x,y:e.data.y,modifiers:e.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(e.data),r)}}_removeState(e){const i=Jd(e);this._pointerState.delete(i),this.stopCapturingPointer(e.native),this.refreshHasPendingInputs()}},Nke=class extends or{constructor(e={},i=og){super(!1),this._clock=i,this._pointerState=new Map,this._parameters=Oke(e),this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",r=>this._handlePointerDown(r)),this.registerIncoming("pointer-up",r=>this._handlePointerLoss(r,"pointer-up")),this.registerIncoming("pointer-capture-lost",r=>this._handlePointerLoss(r,"pointer-capture-lost")),this.registerIncoming("pointer-cancel",r=>this._handlePointerLoss(r,"pointer-cancel")),this._moveHandle=this.registerIncoming("pointer-move",r=>this._handlePointerMove(r)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(e=>{e.holdTimeout=Dt(e.holdTimeout)}),super.onUninstall()}_handlePointerDown(e){const i=e.data,r=i.native.pointerId;let s=null;this._pointerState.size===0&&(s=this._clock.setTimeout(()=>{const o=this._pointerState.get(r);if(o){if(!o.isDragging){const l=o.previousEvent;this._pointerHold.emit(l,void 0,e.modifiers),o.holdEmitted=!0}o.holdTimeout=null}},this._parameters.holdDelay));const n={startEvent:i,previousEvent:i,startTimestamp:e.timestamp,isDragging:!1,downButton:i.native.button,holdTimeout:s,modifiers:new Set};this._pointerState.set(r,n),this.startCapturingPointer(i.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(e)}_handlePointerMove(e){const i=e.data,r=i.native.pointerId,s=this._pointerState.get(r);s&&(s.isDragging?this._pointerDrag.emit(X_("update",s,i),void 0,s.modifiers):kke(i,s.startEvent)>this._getDragThreshold(i.native.pointerType)&&this._startDragging(e),s.previousEvent=i)}_getDragThreshold(e){switch(e){case"touch":return this._parameters.movementUntilTouchDrag;case"pen":return this._parameters.movementUntilPenDrag;default:return this._parameters.movementUntilMouseDrag}}_startDragging(e){const i=e.data,r=i.native.pointerId;this._pointerState.forEach(s=>{s.holdTimeout!=null&&(s.holdTimeout.remove(),s.holdTimeout=null),s.isDragging||(s.modifiers=e.modifiers,s.isDragging=!0,r===s.startEvent.native.pointerId?this._pointerDrag.emit(X_("start",s,i)):this._pointerDrag.emit(X_("start",s,s.previousEvent),e.timestamp))})}_handlePointerLoss(e,i){const r=e.data,s=r.native.pointerId,n=this._pointerState.get(s);n&&(n.holdTimeout!=null&&(n.holdTimeout.remove(),n.holdTimeout=null),n.isDragging?this._pointerDrag.emit(X_("end",n,i==="pointer-up"?r:n.previousEvent),void 0,n.modifiers):i==="pointer-up"&&n.downButton===r.native.button&&e.timestamp-n.startTimestamp<=this._parameters.maximumClickDelay&&!n.holdEmitted&&this._immediateClick.emit(r),this._pointerState.delete(s),this.stopCapturingPointer(r.native),this._pointerState.size===0&&this._moveHandle.pause())}};function X_(t,e,i){return{action:t,startEvent:e.startEvent,previousEvent:e.previousEvent,currentEvent:i}}let Dke=class extends or{constructor(e={},i=og){super(!1),this._clock=i,this._pointerState=new Map,this._parameters=sI(e),this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",r=>this._handleImmediateClick(r)),this.registerIncoming("pointer-down",r=>this._handlePointerDown(r))}onUninstall(){this._pointerState.forEach(e=>e.doubleClickTimer=Dt(e.doubleClickTimer))}get hasPendingInputs(){for(const e of this._pointerState.values())if(e.doubleClickTimer!=null)return!0;return!1}_clearDoubleClickTimer(e,i){const r=this._pointerState.get(e);r&&(r.doubleClickTimer=Dt(r.doubleClickTimer),i&&this._click.emit(r.event.data,void 0,r.event.modifiers),this._pointerState.delete(e),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(e){const i=this._pointerState.get(e);i.pointerDownCount===1&&this._click.emit(i.event.data,void 0,i.event.modifiers),i.doubleClickTimer=null,this._pointerState.delete(e),this.refreshHasPendingInputs()}_handleImmediateClick(e){const i=e.data,{pointerType:r}=i.native,s=Lke(i);if(!this._pointerState.has(s))return void this._startClick(e);const n=this._pointerState.get(s),{data:o,modifiers:l}=n.event,c=r==="touch"?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;Ax(o,i)>c?(this._clearDoubleClickTimer(s,!0),this._startClick(e)):(this._clearDoubleClickTimer(s,!1),n.pointerDownCount===2&&this._doubleClick.emit(o,void 0,l))}_handlePointerDown(e){const i=Jd(e.data),r=this._pointerState.get(i);r&&(r.pointerDownCount+=1)}_startClick(e){const{data:i}=e,{native:{pointerType:r}}=i,s=Jd(i),n=r==="touch"?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay,o=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(s),n);this._pointerState.set(s,{event:e,doubleClickTimer:o,pointerDownCount:1}),this.refreshHasPendingInputs()}};function Lke(t){const{pointerId:e,pointerType:i,button:r}=t.native;return i==="mouse"?`${e}:${r}`:`${i}`}const Q_={counter:"Control",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwise:["a","A"],counterClockwise:["d","D"],reset:["n","N"]}},dF=Symbol("handles");let sm=class extends $e{initialize(){const e=()=>{var i;return(i=this.view)==null?void 0:i.ready};this.addHandles([Sn(()=>!e(),()=>this._disconnect()),Sn(e,()=>this._connect())])}destroy(){this._disconnect()}get latestPointerInfo(){var e;return(e=this._inputManager)==null?void 0:e.latestPointerInfo}get multiTouchActive(){var e;return((e=this._inputManager)==null?void 0:e.multiTouchActive)??!1}isModifierKeyDown(e){var i;return((i=this._inputManager)==null?void 0:i.isModifierKeyDown(e))??!1}_disconnect(){this.view.viewEvents.disconnect(),this.removeHandles(dF),this._inputManager=ti(this._inputManager)}_connect(){const e=this.view.surface,i=new Eke(e,this.view.input),r=[new jke,new Nke,new Dke,new Ike(this.view.navigation),new Rke],s=new Ro({eventSource:i,recognizers:r}),n=new bOe(this.view,["primary"]),o=new _Oe(this.view,["secondary"]);s.installHandlers("prevent-context-menu",[new Ake],ou.INTERNAL),s.installHandlers("navigation",[new vke(this.view),new uke(this.view),new gke(this.view),new nF(this.view),new nF(this.view,[Q_.counter]),n,new pke(this.view,Q_.pan),new mke(this.view,Q_.zoom),new fke(this.view,Q_.rotate),o,new wOe(this.view,"touch")],ou.INTERNAL),this.view.viewEvents.connect(s),this._source=i,this._inputManager=s,this.addHandles([Le(()=>{var l,c;return(c=(l=this.view)==null?void 0:l.navigation)==null?void 0:c.browserTouchPanEnabled},l=>{this._source&&(this._source.browserTouchPanningEnabled=!l)},Qr),Le(()=>{const{actionMap:l}=this.view.navigation;return{panActions:sF("pan",l),rotateActions:sF("rotate",l)}},({panActions:l,rotateActions:c})=>{n.pointerActions=l,o.pointerActions=c},qr)],dF)}get test(){}};h([f()],sm.prototype,"view",void 0),h([f()],sm.prototype,"latestPointerInfo",null),h([f()],sm.prototype,"multiTouchActive",null),sm=h([I("esri.views.2d.input.MapViewInputManager")],sm);const Vke=sm,Fke=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.goToManager=new wS({view:this}),this.animationsEnabled=!0,this.inputManager=new Vke({view:this}),this.addHandles([this.on("resize",s=>this.stateManager.resize(s.width,s.height))])}get interacting(){return this.navigating}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}on(r,s,n,o){return this.viewEvents.on(r,s,n,o)||super.on(r,s)}hasEventListener(r){return super.hasEventListener(r)||this.viewEvents.hasHandler(r)}goTo(r,s){return this.goToManager.goTo(r,s)}toMap(r){if(!this.ready)return null;const s=QX(r)?XX(this,r):r;return this.stateManager.toMap(s)}};return h([f()],i.prototype,"goToManager",void 0),h([f({readOnly:!0})],i.prototype,"interacting",null),h([f()],i.prototype,"stationary",null),h([f()],i.prototype,"animationsEnabled",void 0),h([f({readOnly:!0})],i.prototype,"inputManager",void 0),i=h([I("esri.views.Viewport2DMixin")],i),i};let pF=class{constructor(e){this._view=e,this.viewpoint=new Ws({targetGeometry:new Re,scale:0,rotation:0})}get view(){return this._view}get size(){const[e,i]=this._view.size;return Math.sqrt(e*e+i*i)}get scale(){return this.viewpoint.scale}get rotation(){return this.viewpoint.rotation}get center(){return this.viewpoint.targetGeometry}get scaleToResolutionFactor(){return TQ(this.center.spatialReference)}pixelsPerPanAtZoom(e){return 1/(e*this.scaleToResolutionFactor)}zoomAtPixelsPerPan(e){return 1/(e*this.scaleToResolutionFactor)}pixelsPerRotate(){return this.size/2}compareTo(e,i){i.pan=EZ(this.center,e.center);let r=Math.abs(e.rotation-this.rotation);r=r>=180?360-r:r,i.rotate=kw(r),i.sourceZoom=this.scale,i.targetZoom=e.scale}interpolate(e,i,r){const{pan:s,rotate:n,zoom:o,zoomOffset:l}=r,{center:c}=this;c.spatialReference=e.center.spatialReference,c.x=lv(e.center.x,i.center.x,s),c.y=lv(e.center.y,i.center.y,s),this.viewpoint.scale=lv(e.scale,i.scale+l,o);let d=e.rotation;const m=i.rotation;Math.abs(m-d)>=180&&(d+=360*(d<m?1:-1)),this.viewpoint.rotation=lv(d,m,n)}copyFrom(e){Jr(this.viewpoint,e.viewpoint),this._view=e.view}};function G0(t,e,i,r){const s=3*t,n=3*(i-t)-s,o=1-s-n,l=3*e,c=3*(r-e)-l,d=1-l-c;function m(x){return((o*x+n)*x+s)*x}function v(x){return((d*x+c)*x+l)*x}function w(x){return(3*o*x+2*n)*x+s}function _(x,T){let $,O,C,R,N,j;for(C=x,j=0;j<8;j++){if(R=m(C)-x,Math.abs(R)<T)return C;if(N=w(C),Math.abs(N)<1e-6)break;C-=R/N}if($=0,O=1,C=x,C<$)return $;if(C>O)return O;for(;$<O;){if(R=m(C),Math.abs(R-x)<T)return C;x>R?$=C:O=C,C=.5*(O-$)+$}return C}return function(x,T=1e-6){return v(_(x,T))}}const Jn={};Jn.ease=G0(.25,.1,.25,1),Jn.linear=G0(0,0,1,1),Jn.easeIn=Jn["ease-in"]=G0(.42,0,1,1),Jn.easeOut=Jn["ease-out"]=G0(0,0,.58,1),Jn.easeInOut=Jn["ease-in-out"]=G0(.42,0,.58,1);const zke=t=>t,nw=t=>t*t,Ox=t=>1-nw(1-t),fF=t=>t<.5?nw(2*t)/2:(Ox(2*(t-.5))+1)/2,kx=t=>t*t*t,qk=t=>1-kx(1-t),mF=t=>t<.5?kx(2*t)/2:(qk(2*(t-.5))+1)/2,Cx=t=>t*t*t*t,Bk=t=>1-Cx(1-t),yF=t=>t<.5?Cx(2*t)/2:(Bk(2*(t-.5))+1)/2,Rx=t=>t*t*t*t*t,Gk=t=>1-Rx(1-t),gF=t=>t<.5?Rx(2*t)/2:(Gk(2*(t-.5))+1)/2,Ix=t=>1-Math.cos(t*Math.PI/2),Hk=t=>1-Ix(1-t),vF=t=>t<.5?Ix(2*t)/2:(Hk(2*(t-.5))+1)/2,Px=t=>2**(10*(t-1)),jx=t=>1-Px(1-t),wF=t=>t<.5?Px(2*t)/2:(jx(2*(t-.5))+1)/2,Nx=t=>-(Math.sqrt(1-t*t)-1),Wk=t=>1-Nx(1-t),bF=t=>t<.5?Nx(2*t)/2:(Wk(2*(t-.5))+1)/2;function ho(t){const e=2*(t-Math.sqrt((t-1)*t)),i=e/2/t;return r=>r<i?t*r*r:e*r-e+1}function po(t,e){return(i,r)=>i<e?e*t(i/e,r):1-t((1-i)/(1-e),r)*(1-e)}const _F=po(ho(1),1),SF=po(ho(1),0),Dx=po(ho(1),.5),xF=po(ho(2),1),TF=po(ho(2),0),$F=po(ho(2),.5),MF=po(ho(3),1),EF=po(ho(3),0),AF=po(ho(3),.5),OF=po(ho(4),1),kF=po(ho(4),0),CF=po(ho(4),.5),RF={linear:zke,"in-quad":nw,"out-quad":Ox,"in-out-quad":fF,"in-coast-quad":_F,"out-coast-quad":SF,"in-out-coast-quad":Dx,"in-cubic":kx,"out-cubic":qk,"in-out-cubic":mF,"in-coast-cubic":xF,"out-coast-cubic":TF,"in-out-coast-cubic":$F,"in-quart":Cx,"out-quart":Bk,"in-out-quart":yF,"in-coast-quart":MF,"out-coast-quart":EF,"in-out-coast-quart":AF,"in-quint":Rx,"out-quint":Gk,"in-out-quint":gF,"in-coast-quint":OF,"out-coast-quint":kF,"in-out-coast-quint":CF,"in-sine":Ix,"out-sine":Hk,"in-out-sine":vF,"in-expo":Px,"out-expo":jx,"in-out-expo":wF,"in-circ":Nx,"out-circ":Wk,"in-out-circ":bF,"quad-in":nw,"quad-out":Ox,"quad-in-out":fF,"quad-in-coast":_F,"quad-out-coast":SF,"quad-in-out-coast":Dx,"cubic-in":kx,"cubic-out":qk,"cubic-in-out":mF,"cubic-in-coast":xF,"cubic-out-coast":TF,"cubic-in-out-coast":$F,"quart-in":Cx,"quart-out":Bk,"quart-in-out":yF,"quart-in-coast":MF,"quart-out-coast":EF,"quart-in-out-coast":AF,"quint-in":Rx,"quint-out":Gk,"quint-in-out":gF,"quint-in-coast":OF,"quint-out-coast":kF,"quint-in-out-coast":CF,"sine-in":Ix,"sine-out":Hk,"sine-in-out":vF,"expo-in":Px,"expo-out":jx,"expo-in-out":wF,"circ-in":Nx,"circ-out":Wk,"circ-in-out":bF,ease:t=>Jn.ease(t),"ease-in":t=>Jn.easeIn(t),"ease-out":t=>Jn.easeOut(t),"ease-in-out":t=>Jn.easeInOut(t)};let Uke=class{constructor(){this.pan=0,this.rotate=0,this.fov=0,this.sourceZoom=0,this.targetZoom=0}};const Lx={desiredScreenFlow:2,minDuration:500,maxDuration:8e3},eee={maxDuration:4e3};let qke=class tee{constructor(e){this._createCamera=e,this.compared=new Uke,this.segmentStart=0,this.segmentEnd=1,this.settings={desiredScreenFlow:Lx.desiredScreenFlow},this.source=e(),this.target=e()}clone(){const e=new tee(this._createCamera);return e.copyFrom(this),e}copyFrom(e){this.update(e.source,e.target,e.settings)}update(e,i,r){this.source!==e&&this.source.copyFrom(e),this.target!==i&&this.target.copyFrom(i),this.source.compareTo(this.target,this.compared),this.settings.desiredScreenFlow=r.desiredScreenFlow??Lx.desiredScreenFlow,this.desiredPixelFlow=this.settings.desiredScreenFlow*this.target.size,this.halfWindowSize=this.target.size/2}halfWindowPanAtZoom(e){const i=this.target.pixelsPerPanAtZoom(e);return this.halfWindowSize/i}get hasZoom(){return Math.abs(this.compared.sourceZoom-this.compared.targetZoom)>1e-5}get hasPan(){return this.compared.pan>ws()}get hasFov(){return Math.abs(this.compared.fov)>ws()}get hasRotate(){return this.compared.rotate>ws()}},Bke=class{constructor(){this.pan=0,this.rotate=0,this.zoom=0,this.fov=0,this.zoomOffset=0}},Gke=class{constructor(){this.segments=new Array}get time(){return this.segments.reduce((e,i)=>e+i.time,0)}interpolateComponentsAt(e,i){e=Math.min(Math.max(e,0),1),e*=this.time;let r=0,s=0;const n=this.definition,o=this.segments.reduce((l,c)=>l||c.definition.hasZoom,!1);for(let l=0;l<this.segments.length;l++){const c=this.segments[l],d=c.definition;if(e<=c.time||l===this.segments.length-1){if(this.segmentInterpolateComponentsAt(c,c.time===0?0:e/c.time,i),n.hasPan&&!isNaN(i.pan)&&isFinite(n.compared.pan)?i.pan=(r+d.compared.pan*i.pan)/n.compared.pan:i.pan=1,n.hasRotate&&!isNaN(i.rotate)&&isFinite(n.compared.rotate)?i.rotate=(s+d.compared.rotate*i.rotate)/n.compared.rotate:i.rotate=1,o&&!isNaN(i.zoom)&&isFinite(d.compared.targetZoom)){const{sourceZoom:m,targetZoom:v}=d.compared,w=i.zoom*(v-m)+m,_=this.segments[0].definition.compared.sourceZoom,x=this.segments[this.segments.length-1].definition.compared.targetZoom,T=Math.abs(v-_)>Math.abs(m-_)?v:m;i.zoomOffset=T-x,i.zoom=(w-_)/(T-_)}else i.zoom=1;return i}e-=c.time,r+=d.compared.pan,s+=d.compared.rotate}}segmentInterpolateComponentsAt(e,i,r){e.interpolateComponentsAt(i,r)}},tE=class{get time(){return this._time}constructor(e){e&&this.update(e)}update(e){e&&(this.definition?this.definition.copyFrom(e):this.definition=e.clone()),this._updatePrecomputedVariables(),this._updatePixelFlow()}_updatePrecomputedVariables(){const e=this.definition,i=e.compared,r=i.sourceZoom,s=i.targetZoom;this._zoomSign=r>s?1:-1,this._panPixelsAtSource=i.pan*e.source.pixelsPerPanAtZoom(r);const n=(e.source.pixelsPerRotate()+e.target.pixelsPerRotate())/2;this._rotatePixels=i.rotate*n}_updatePixelFlow(){const e=this.definition.compared.sourceZoom,i=this.definition.compared.targetZoom,{hasZoom:r,hasPan:s,hasRotate:n}=this.definition;let o=0,l=0;r&&(s&&(o=(i/e-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),n&&(l=this._zoomSign*(Math.log(e/i)/Math.LN2)*this.definition.halfWindowSize/this._rotatePixels)),this._zoomPixelFlow=0,this._panPixelFlow=0,this._rotatePixelFlow=0;const c=this.definition.desiredPixelFlow;if(r&&s&&n){const d=o+l+o*l;this._zoomPixelFlow=o*l/d*c,this._panPixelFlow=l/d*c,this._rotatePixelFlow=o/d*c}else if(r&&s){const d=1+o;this._zoomPixelFlow=o/d*c,this._panPixelFlow=1/d*c}else if(r&&n){const d=1+l;this._zoomPixelFlow=l/d*c,this._rotatePixelFlow=1/d*c}else if(s&&n){const d=this._panPixelsAtSource/this._rotatePixels,m=1+d;this._panPixelFlow=d/m*c,this._rotatePixelFlow=1/m*c}else s?this._panPixelFlow=c:r?this._zoomPixelFlow=c:n&&(this._rotatePixelFlow=c);if(this._time=Math.max(this.rotateTime,this.zoomTime,this.panTime),this.fovTime>this._time){const d=this.fovTime/this._time;this._time=this.fovTime,this._zoomPixelFlow/=d,this._panPixelFlow/=d,this._rotatePixelFlow/=d}}get rotateTime(){return this.definition.hasRotate?this._rotatePixels/this._rotatePixelFlow:0}get zoomTime(){return this.definition.hasZoom?this._zoomSign*(Math.log(this.definition.compared.sourceZoom/this.definition.compared.targetZoom)/Math.LN2)*this.definition.halfWindowSize/this._zoomPixelFlow:0}get fovTime(){return this.definition.hasFov?Math.abs(this.definition.compared.fov)/Hke:0}get panTime(){if(!this.definition.hasPan)return 0;if(this.definition.hasZoom){const e=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2,i=e*this._panPixelsAtSource;return Math.log(i*(this._zoomPixelFlow/this._panPixelFlow)+1)/(e*this._zoomPixelFlow)}return this._panPixelsAtSource/this._panPixelFlow}_interpolateComponentsZoom(e){if(e===0||e===1)return e;if(this.definition.hasZoom){const i=this.definition.compared.sourceZoom,r=this.definition.compared.targetZoom;return(i*(i/r)**-e-i)/(r-i)}return e}_interpolateComponentsFov(e){if(e===0)return this.definition.segmentStart;if(e===1)return this.definition.segmentEnd;if(this.definition.hasFov){const{segmentStart:i,segmentEnd:r}=this.definition;return i+e*(r-i)}return this.definition.segmentStart}_interpolateComponentsPan(e){if(e===0||e===1)return e;if(this.definition.hasPan&&this.definition.hasZoom){const i=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*(this._panPixelFlow*(2**(i*e*this._time)-1))/(i*Math.LN2)}return e}_interpolateComponentsRotate(e){return e}interpolateComponentsAt(e,i){e=Math.min(Math.max(e,0),1),i.zoom=this._interpolateComponentsZoom(e),i.pan=this._interpolateComponentsPan(e),i.rotate=this._interpolateComponentsRotate(e),i.zoomOffset=0,i.fov=this._interpolateComponentsFov(e)}};const Hke=kw(45);function Wke(t,e,i){const r=e-t.compared.sourceZoom,s=t.halfWindowPanAtZoom(r);return-t.halfWindowSize*(i.ascensionFactor*Math.LN2*t.compared.pan+s)*Math.log(t.compared.sourceZoom/e)/(t.desiredPixelFlow*Math.LN2*s)}function Zke(t,e,i){const r=1/e,s=Math.log(t.compared.sourceZoom*r),n=1/t.desiredPixelFlow,o=1/Math.LN2,l=e-t.compared.sourceZoom,c=1/l,d=(i.ascensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(l))/t.halfWindowPanAtZoom(1);return t.halfWindowSize*r*n*o*c*d-t.halfWindowSize*s*n*o*c+t.halfWindowSize*s*n*o*d/(l*l)}function Yke(t,e,i){const r=e-t.compared.sourceZoom,s=1/r,n=1/e,o=Math.log(t.compared.sourceZoom*n),l=(i.ascensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(r))/t.halfWindowPanAtZoom(1);return t.halfWindowSize*s*(-2*s*n*l+2*s*o+2*n-2*o*l/(r*r)-l/(e*e))/(t.desiredPixelFlow*Math.LN2)}function Jke(t,e){return-t.halfWindowSize*Math.log(t.compared.sourceZoom/e)/(t.desiredPixelFlow*Math.LN2)}function Kke(t,e){return t.halfWindowSize/(e*t.desiredPixelFlow*Math.LN2)}function Xke(t,e){return-t.halfWindowSize/(e*e*t.desiredPixelFlow*Math.LN2)}function Qke(t,e,i){return-t.compared.pan*t.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(t.desiredPixelFlow*t.halfWindowPanAtZoom(e))}function eCe(t,e,i){return t.compared.pan*t.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(t.desiredPixelFlow*t.halfWindowPanAtZoom(e*e))}function tCe(t,e,i){return-2*t.compared.pan*t.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(t.desiredPixelFlow*t.halfWindowPanAtZoom(e*e*e))}function iCe(t,e,i){return t.halfWindowSize*(-t.halfWindowPanAtZoom(e)-i.descensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(t.compared.targetZoom))*Math.log(e/t.compared.targetZoom)/(t.desiredPixelFlow*Math.LN2*t.halfWindowPanAtZoom(-e+t.compared.targetZoom))}function rCe(t,e,i){const r=Math.log(e/t.compared.targetZoom),s=1/t.desiredPixelFlow,n=1/Math.LN2,o=-e+t.compared.targetZoom,l=1/o,c=(-t.halfWindowPanAtZoom(e)-i.descensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(t.compared.targetZoom))/t.halfWindowPanAtZoom(1);return-t.halfWindowSize*r*s*n*l+t.halfWindowSize*r*s*n*c/(o*o)+t.halfWindowSize*s*n*l*c/e}function sCe(t,e,i){const r=e-t.compared.targetZoom,s=1/r,n=1/e,o=Math.log(e/t.compared.targetZoom),l=(t.halfWindowPanAtZoom(e)+i.descensionFactor*Math.LN2*t.compared.pan-t.halfWindowPanAtZoom(t.compared.targetZoom))/t.halfWindowPanAtZoom(1);return t.halfWindowSize*s*(-2*s*n*l-2*s*o+2*n+2*o*l/(r*r)-l/(e*e))/(t.desiredPixelFlow*Math.LN2)}function nCe(t,e){return t.halfWindowSize*Math.log(e/t.compared.targetZoom)/(t.desiredPixelFlow*Math.LN2)}function oCe(t,e){return t.halfWindowSize/(e*t.desiredPixelFlow*Math.LN2)}function aCe(t,e){return-t.halfWindowSize/(e*e*t.desiredPixelFlow*Math.LN2)}function lCe(t){const e=t.compared.sourceZoom-t.compared.targetZoom;if(e===0)return t.compared.pan*t.halfWindowSize/(t.desiredPixelFlow*t.halfWindowPanAtZoom(t.compared.sourceZoom));const i=Math.LN2*t.compared.pan,r=e,s=t.halfWindowPanAtZoom(r),n=t.halfWindowSize*Math.log(t.compared.sourceZoom/t.compared.targetZoom)/(t.desiredPixelFlow*Math.LN2*s);return t.compared.sourceZoom<=t.compared.targetZoom?n*(i-s):n*(i+s)}function uCe(t,e){let i=cCe(t,e);const r={ascensionFactor:e.ascensionFactor!=null?e.ascensionFactor:.5,descensionFactor:e.descensionFactor!=null?e.descensionFactor:.5},s=r.ascensionFactor===0,n=r.descensionFactor===0,o=s?Jke:Wke,l=s?Kke:Zke,c=s?Xke:Yke,d=n?nCe:iCe,m=n?oCe:rCe,v=n?aCe:sCe,w=j=>o(t,j,r)+Qke(t,j,r)+d(t,j,r),_=j=>l(t,j,r)+eCe(t,j,r)+m(t,j,r),x=j=>c(t,j,r)+tCe(t,j,r)+v(t,j,r);let T=w(i);const $=lCe(t);let O;const C=e.maximumIterations||20,R=e.maximumDistance!=null?e.maximumDistance:1/0;for(O=0;O<C;O++){const j=e.desiredSlope??1e-6;let z=_(i);Math.abs(z)>j&&(z+=j);const ee=z/x(i);if(isNaN(ee)||i>=R&&ee<0){if(!isFinite(R))return null;i=R,T=w(i);break}if(i-=ee,i<=t.compared.sourceZoom||i<=t.compared.targetZoom)return null;const Q=w(i);if(Math.abs(Q-T)/T<=.005)break;T=Q}return isNaN(T)||T>$*(1-.3)||i<=t.compared.sourceZoom||i<=t.compared.targetZoom?null:i}function cCe(t,e){const i=Math.max(t.compared.sourceZoom,t.compared.targetZoom),r=t.source.zoomAtPixelsPerPan(t.desiredPixelFlow/t.compared.pan)/2;return r<i?e.maximumDistance!=null?i+(e.maximumDistance-i)/2:1.5*i:e.maximumDistance?Math.min(e.maximumDistance,r):r}let hCe=class extends Gke{constructor(e,i){super(),this._preallocSegments=[new tE,new tE,new tE],this._ascensionSegment=null,this._descensionSegment=null,this.update(e,i)}update(e,i){if(!e)return;this.definition?this.definition.copyFrom(e):this.definition=e.clone();const r=i!=null&&i.apex?uCe(e,i.apex):null;this.segments.length=0,this._ascensionSegment=null,this._descensionSegment=null,r?this._updateWithApex(r,i==null?void 0:i.apex):this._updateWithoutApex()}segmentInterpolateComponentsAt(e,i,r){e.interpolateComponentsAt(i,r),e===this._ascensionSegment?r.zoom=Ox(r.zoom):e===this._descensionSegment&&(r.zoom=nw(r.zoom))}_updateWithApex(e,i){const[r,s,n]=this._preallocSegments,o=(i==null?void 0:i.ascensionFactor)??.5,l=Math.min(1-o,(i==null?void 0:i.ascensionFactor)!=null&&i.descensionFactor!=null?i.descensionFactor:.5),c=1-o-l;r.definition?r.definition.copyFrom(this.definition):r.definition=this.definition.clone(),r.definition.compared.targetZoom=e,r.definition.compared.pan=this.definition.compared.pan*o,r.definition.compared.rotate=this.definition.compared.rotate*o,r.definition.segmentEnd=o,r.update(),this._ascensionSegment=r,this.segments.push(r),c>0&&(s.definition?s.definition.copyFrom(this.definition):s.definition=this.definition.clone(),s.definition.copyFrom(this.definition),s.definition.compared.sourceZoom=e,s.definition.compared.targetZoom=e,s.definition.compared.pan=this.definition.compared.pan*c,s.definition.compared.rotate=this.definition.compared.rotate*c,s.definition.segmentStart=r.definition.segmentEnd,s.definition.segmentEnd=r.definition.segmentEnd+c,s.update(),this.segments.push(s)),n.definition?n.definition.copyFrom(this.definition):n.definition=this.definition.clone(),n.definition.compared.sourceZoom=e,n.definition.compared.pan=this.definition.compared.pan*l,n.definition.compared.rotate=this.definition.compared.rotate*l,n.definition.segmentStart=o+c,n.update(),this._descensionSegment=n,this.segments.push(n)}_updateWithoutApex(){const[e]=this._preallocSegments;e.update(this.definition),this.segments.push(e)}};const dCe=new Bke;let pCe=class{get time(){return this._time}get isLinear(){return this.path.segments.length===1}constructor(e){this._time=0,this._easing=Dx,this.definition=new qke(e),this.path=new hCe}update(e,i,r){this.definition.update(e,i,r),this.path.update(this.definition,r),this._time=this._applyTimeSettings(jhe(isFinite(this.path.time)?this.path.time:0),r),this._easing=r.easing??(this._time>=1e3?Dx:jx)}cameraAt(e,i){e=Math.min(Math.max(0,e),1),e=this._normalizedEasing(e);const r=this.path.interpolateComponentsAt(e,dCe);i.interpolate(this.definition.source,this.definition.target,r)}_normalizedEasing(e){const i=this._easing(0,this._time),r=this._easing(1,this._time);return(this._easing(e,this._time)-i)/(r-i)}_applyTimeSettings(e,i){const r=i.speedFactor!=null?i.speedFactor:1,s=i.minDuration??Lx.minDuration/r,n=i.maxDuration??Lx.maxDuration/r;return e=i.duration!=null?i.duration:Math.min(Math.max(e/r,s),n)}};const fCe=2e3,mCe=64;let yCe=class{constructor(e){this._view=e,this._animation=new pCe(()=>new pF(this._view)),this._current=new pF(this._view)}get _source(){return this._animation.definition.source}get _target(){return this._animation.definition.target}get duration(){return this._animation.time}get animation(){return this._animation}update(e,i,r={}){Jr(this._current.viewpoint,e),Jr(this._source.viewpoint,e),Jr(this._target.viewpoint,i),this._animation.update(this._source,this._target,r)}applyRatio(e,i){this._animation.cameraAt(i,this._current),Jr(e,this._current.viewpoint)}},nm=class extends $e{constructor(e){super(e),this._animation=null,this._destinationViewState=new iI,this.updateFunction=null,this.easing=RF.ease,this.viewpoint=new Ws({targetGeometry:new Re,scale:0,rotation:0}),this._updateTask=Ry({postRender:this._postRender.bind(this)}),this._updateTask.pause(),this._transition=new yCe(e.view)}destroy(){this._updateTask=Dt(this._updateTask)}get animation(){return this._animation}set animation(e){this._animation=e,this.view.animation=e}animate(e,i,r){this.stop();const s=this.viewpoint;Jr(s,i);const n=e.target;this._transition.update(this.viewpoint,n,{apex:{maximumDistance:Math.min(Math.min(i.scale,n.scale)*mCe,this.view.constraints.effectiveMinScale),desiredSlope:5e-8},duration:r==null?void 0:r.duration,maxDuration:(r==null?void 0:r.animationMode)==="auto"?1/0:(r==null?void 0:r.maxDuration)??eee.maxDuration,speedFactor:r==null?void 0:r.speedFactor,easing:(typeof(r==null?void 0:r.easing)=="string"?RF[r.easing]:r==null?void 0:r.easing)||this.easing}),(r==null?void 0:r.animationMode)==="auto"&&(this._destinationViewState.copy(this.view.state),this._destinationViewState.viewpoint=n,gCe(this._transition.animation,r,this.view.state,this._destinationViewState)||this._transition.update(this.viewpoint,n,{duration:0}));const o=()=>{this.animation===e&&this._updateTask&&(e.state==="finished"&&(this._transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return e.when(o,o),this._startTime=performance.now(),this._updateTask.resume(),this.animation=e,e}animateContinuous(e,i){this.stop(),this.updateFunction=i,this.viewpoint=e;const r=new zk({target:e.clone()}),s=()=>{this.animation===r&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return r.when(s,s),this._startTime=performance.now(),this._updateTask.resume(),this.animation=r,r}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(e){var r,s;const i=this.animation;if(i&&i.state!==zk.state.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,e.deltaTime),(r=this.animation)==null||r.update(this.viewpoint);else{const n=performance.now()-this._startTime,o=this._transition.duration,l=o>0?n/o:1,c=l>=1;this._transition.applyRatio(this.viewpoint,l),c&&((s=this.animation)==null||s.finish())}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};function gCe(t,e,i,r){if((e==null?void 0:e.duration)!=null)return!0;const{time:s,isLinear:n}=t,o=(e==null?void 0:e.speedFactor)||1;if(s>((e==null?void 0:e.maxDuration)??eee.maxDuration/o))return!1;if(n){const c=ci(),d=rr(...r.toScreen(c,...i.center)),m=rr(...i.toScreen(c,...r.center)),v=m!=null&&m.x>-1*i.size[0]&&m.x<(1.5+.5)*i.size[0]&&m.y>-1*i.size[1]&&m.y<(1.5+.5)*i.size[1],w=d!=null&&d.x>-1*r.size[0]&&d.x<(1.5+.5)*r.size[0]&&d.y>-1*r.size[1]&&d.y<(1.5+.5)*r.size[1];if(s>fCe/o&&!v&&!w)return!1}return!0}h([f()],nm.prototype,"easing",void 0),h([f()],nm.prototype,"view",void 0),h([f()],nm.prototype,"viewpoint",void 0),nm=h([I("esri.views.2d.AnimationManager")],nm);const vCe=nm;function zt(){return Promise.all([re(()=>import("./webglDeps-DVLgK6Cn.js"),__vite__mapDeps([221,165,222,223,224,12,59])),re(()=>import("./mapViewDeps-Cb5Jf8Du.js"),__vite__mapDeps([225,127,96,97,92,11,12,98,95,99,89,226,227,165,222,223,156,90,228,93,224,59,164,58,229,88,117,230,145,148,10,13,16,22,231,100,101,182,183,33,221,232,112,233,234,144,235,154,155,236,76,87,91,47,46,237,102,238,94,184,185,107,239,103,109,85,240,241,242,243,161,244,245]))])}const H0=()=>zt().then(()=>re(()=>import("./TileLayerView2D-ZaRq_6Hd.js"),__vite__mapDeps([246,95,96,97,92,11,12,98,99,89,182,127,183,33,230,229,88,58,223,224,59,164,165,117,145,148,10,13,232,227,222,156,228,93,112,233,234,144,76,226,90,16,22,100,101,154,155,239,87,91,47,46,103,109,85,247,248,249,243,250,218,251,241,242,252,253,254,255,256,257,258,259]))),Vh=()=>zt().then(()=>re(()=>import("./FeatureLayerView2D-ZiZr76S6.js").then(t=>t.F),__vite__mapDeps([260,226,96,97,92,11,12,98,95,99,89,227,165,222,223,156,90,228,93,224,59,164,58,229,88,117,230,145,148,10,13,16,22,261,262,190,47,51,250,218,242,243,112,77,75,76,78,110,103,231,263,169,52,105,255,258,252,253,259]))),IF={"base-dynamic":()=>zt().then(()=>re(()=>import("./BaseDynamicLayerView2D-Chfy0W7n.js"),__vite__mapDeps([264,265,229,88,89,58,223,224,12,59,164,165,117,230,145,148,10,11,13,248,227,222,156,249,250,218,266,252,253]))),"base-tile":H0,"bing-maps":H0,catalog:()=>zt().then(()=>re(()=>import("./CatalogLayerView2D-DQn5okCS.js"),__vite__mapDeps([267,250,230,218,252]))),"catalog-dynamic-group":()=>zt().then(()=>re(()=>import("./CatalogDynamicGroupLayerView2D-Cs3l_e8R.js"),__vite__mapDeps([268,250,230,218,252]))),"catalog-footprint":()=>zt().then(()=>re(()=>import("./CatalogFootprintLayerView2D-RJbN6pmq.js"),__vite__mapDeps([269,260,226,96,97,92,11,12,98,95,99,89,227,165,222,223,156,90,228,93,224,59,164,58,229,88,117,230,145,148,10,13,16,22,261,262,190,47,51,250,218,242,243,112,77,75,76,78,110,103,231,263,169,52,105,255,258,252,253,259]))),csv:Vh,"geo-rss":()=>zt().then(()=>re(()=>import("./GeoRSSLayerView2D-BZyEd-w8.js"),__vite__mapDeps([270,250,230,218,240,241,242,12,90,88,89,58,222,165,243,229,223,224,59,164,117,145,148,10,11,13,226,96,97,92,98,95,99,227,156,228,93,16,22,239,182,127,183,33,87,91,47,46,103,109,85,252]))),feature:Vh,geojson:Vh,parquet:Vh,graphics:()=>zt().then(()=>re(()=>import("./GraphicsLayerView2D-B55DTKr8.js"),__vite__mapDeps([271,250,230,218,240,241,242,12,90,88,89,58,222,165,243,229,223,224,59,164,117,145,148,10,11,13,226,96,97,92,98,95,99,227,156,228,93,16,22,239,182,127,183,33,87,91,47,46,103,109,85,252,259]))),group:()=>zt().then(()=>re(()=>import("./GroupLayerView2D-FM0228ad.js"),__vite__mapDeps([272,250,230,218,252]))),imagery:()=>zt().then(()=>re(()=>import("./ImageryLayerView2D-DK-J6u9B.js"),__vite__mapDeps([273,274,224,12,59,164,165,58,132,229,88,89,223,117,230,145,148,10,11,13,126,124,250,218,239,96,97,92,98,95,99,182,127,183,33,87,90,91,93,47,46,226,227,222,156,228,16,22,103,109,85,251,241,242,243,265,248,249,266,130,20,261,258,252,253,259]))),"imagery-tile":()=>zt().then(()=>re(()=>import("./ImageryTileLayerView2D-CYsvtf7n.js"),__vite__mapDeps([275,276,274,224,12,59,164,165,58,132,229,88,89,223,117,230,145,148,10,11,13,126,124,250,218,129,277,243,227,222,156,238,228,93,249,278,130,259,20,261,258,252,253]))),kml:()=>zt().then(()=>re(()=>import("./KMLLayerView2D-D9IevSnd.js"),__vite__mapDeps([279,280,248,230,227,165,222,223,156,249,265,229,88,89,58,224,12,59,164,117,145,148,10,11,13,250,218,240,241,242,90,243,226,96,97,92,98,95,99,228,93,16,22,239,182,127,183,33,87,91,47,46,103,109,85,252,184,185,107,130,235,221,154,155,233,277]))),"knowledge-graph":()=>zt().then(()=>re(()=>import("./KnowledgeGraphLayerView2D-Cg8CM1vf.js"),__vite__mapDeps([281,250,230,218,252]))),"link-chart":()=>zt().then(()=>re(()=>import("./KnowledgeGraphLayerView2D-Cg8CM1vf.js"),__vite__mapDeps([281,250,230,218,252]))),"knowledge-graph-sublayer":Vh,"map-image":()=>zt().then(()=>re(()=>import("./MapImageLayerView2D-KviH8plu.js"),__vite__mapDeps([282,265,229,88,89,58,223,224,12,59,164,165,117,230,145,148,10,11,13,248,227,222,156,249,250,218,239,96,97,92,98,95,99,182,127,183,33,87,90,91,93,47,46,226,228,16,22,103,109,85,251,241,242,243,266,252,283,255,257,261,253,254,256,258,259]))),"map-notes":()=>zt().then(()=>re(()=>import("./MapNotesLayerView2D-DifDUFNf.js"),__vite__mapDeps([284,250,230,218,240,241,242,12,90,88,89,58,222,165,243,229,223,224,59,164,117,145,148,10,11,13,226,96,97,92,98,95,99,227,156,228,93,16,22,239,182,127,183,33,87,91,47,46,103,109,85,252,259]))),media:()=>zt().then(()=>re(()=>import("./MediaLayerView2D-0n1ub5gM.js"),__vite__mapDeps([285,286,109,95,96,97,92,11,12,98,99,89,182,127,183,33,230,229,88,58,223,224,59,164,165,117,145,148,10,13,232,227,222,156,228,93,112,233,234,144,76,226,90,16,22,100,101,154,155,239,87,91,47,46,103,85,237,102,287,238,250,218,252]))),"ogc-feature":()=>zt().then(()=>re(()=>import("./OGCFeatureLayerView2D-CueFD4-q.js"),__vite__mapDeps([288,260,226,96,97,92,11,12,98,95,99,89,227,165,222,223,156,90,228,93,224,59,164,58,229,88,117,230,145,148,10,13,16,22,261,262,190,47,51,250,218,242,243,112,77,75,76,78,110,103,231,263,169,52,105,255,258,252,253,259]))),"open-street-map":H0,"oriented-imagery":Vh,route:()=>zt().then(()=>re(()=>import("./RouteLayerView2D-IbGPazZ1.js"),__vite__mapDeps([289,290,291,250,230,218,240,241,242,12,90,88,89,58,222,165,243,229,223,224,59,164,117,145,148,10,11,13,226,96,97,92,98,95,99,227,156,228,93,16,22,239,182,127,183,33,87,91,47,46,103,109,85,252,259]))),stream:()=>zt().then(()=>re(()=>import("./StreamLayerView2D-CtqgDjyh.js"),__vite__mapDeps([292,260,226,96,97,92,11,12,98,95,99,89,227,165,222,223,156,90,228,93,224,59,164,58,229,88,117,230,145,148,10,13,16,22,261,262,190,47,51,250,218,242,243,112,77,75,76,78,110,103,231,263,169,52,105,255,258,252,253,259]))),"subtype-group":()=>zt().then(()=>re(()=>import("./SubtypeGroupLayerView2D-BDwPPtqs.js"),__vite__mapDeps([293,260,226,96,97,92,11,12,98,95,99,89,227,165,222,223,156,90,228,93,224,59,164,58,229,88,117,230,145,148,10,13,16,22,261,262,190,47,51,250,218,242,243,112,77,75,76,78,110,103,231,263,169,52,105,255,258,252,253,259]))),tile:H0,"vector-tile":()=>zt().then(()=>re(()=>import("./VectorTileLayerView2D-Dk2flrRO.js"),__vite__mapDeps([294,99,76,12,95,144,234,145,98,165,224,59,164,229,88,89,58,223,117,230,148,10,11,13,243,45,146,147,127,250,218,252,253]))),video:()=>zt().then(()=>re(()=>import("./VideoLayerView2D-BgvKiRhG.js"),__vite__mapDeps([295,296,297,201,200,287,117,229,88,89,58,223,224,12,59,164,165,230,145,148,10,11,13,226,96,97,92,98,95,99,227,222,156,90,228,93,16,22,238,298,250,218,240,241,242,243,239,182,127,183,33,87,91,47,46,103,109,85,252]))),wcs:()=>zt().then(()=>re(()=>import("./ImageryTileLayerView2D-CYsvtf7n.js"),__vite__mapDeps([275,276,274,224,12,59,164,165,58,132,229,88,89,223,117,230,145,148,10,11,13,126,124,250,218,129,277,243,227,222,156,238,228,93,249,278,130,259,20,261,258,252,253]))),"web-tile":H0,wfs:Vh,wms:()=>zt().then(()=>re(()=>import("./WMSLayerView2D-BFqt9qJo.js"),__vite__mapDeps([299,265,229,88,89,58,223,224,12,59,164,165,117,230,145,148,10,11,13,248,227,222,156,249,250,218,266,252,253,300,261]))),wmts:()=>zt().then(()=>re(()=>import("./WMTSLayerView2D-Bam0ZGAZ.js"),__vite__mapDeps([301,247,248,230,227,165,222,223,156,249,229,88,89,58,224,12,59,164,117,145,148,10,11,13,243,250,218,252,253]))),"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"gaussian-splat":null,"integrated-mesh-3dtiles":null,"integrated-mesh":null,"line-of-sight":null,"point-cloud":null,scene:null,unknown:null,unsupported:null,viewshed:null,voxel:null};function wCe(t){const e=t.declaredClass?t.declaredClass.slice(t.declaredClass.lastIndexOf(".")+1):"Unknown",i=e.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new B(`${i}:view-not-supported`,`${e} is not supported in 2D`)}const PF={hasLayerViewModule:t=>IF[t.type]!=null,importLayerView:t=>{const e=IF[t.type];if(e==null)throw wCe(t);return e(t)}};var hn;let Ag=(hn=class{static getId(e,i,r,s){return typeof e=="object"?`${e.level}/${e.row}/${e.col}/${e.world}`:`${e}/${i}/${r}/${s}`}constructor(e,i,r,s){this.set(e,i,r,s)}get key(){return this}get id(){return this.toString()}get normalizedId(){return`${this.level}/${this.row}/${this.col}`}set id(e){this.set(e)}get hash(){const e=4095&this.row,i=4095&this.col,r=63&this.level;return(3&this.world)<<30|i<<22|e<<8|r}acquire(e,i,r,s){this.set(e,i,r,s)}contains(e){const i=e.level-this.level;return i>=0&&this.row===e.row>>i&&this.col===e.col>>i&&this.world===e.world}containsChild(e){const i=e.level-this.level;return i>0&&this.row===e.row>>i&&this.col===e.col>>i&&this.world===e.world}equals(e){return this.level===e.level&&this.row===e.row&&this.col===e.col&&this.world===e.world}clone(){return new hn(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(e,i,r,s){if(e==null)this.level=0,this.row=0,this.col=0,this.world=0;else if(typeof e=="object")this.level=e.level||0,this.row=e.row||0,this.col=e.col||0,this.world=e.world||0;else if(typeof e=="string"){const[n,o,l,c]=e.split("/");this.level=parseFloat(n),this.row=parseFloat(o),this.col=parseFloat(l),this.world=parseFloat(c)}else this.level=+e,this.row=+i,this.col=+r,this.world=+s||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new hn(this.level-1,this.row>>1,this.col>>1,this.world)}getNormalizedNeighbor(e,i,r){const s=this.clone();return s.col+=e,s.row+=i,r.normalizeKey(s),s}getChildKeys(){const e=this.level+1,i=this.row<<1,r=this.col<<1,s=this.world;return[new hn(e,i,r,s),new hn(e,i,r+1,s),new hn(e,i+1,r,s),new hn(e,i+1,r+1,s)]}compareRowMajor(e){return this.row<e.row?-1:this.row>e.row?1:this.col<e.col?-1:this.col>e.col?1:0}},hn.pool=new ng(()=>new hn(""),null,null,25,50),hn);function Rf(t,e){return[t,e]}function Fh(t,e,i){return t[0]=e,t[1]=i,t}function bCe(t,e,i,r,s){return t[0]=e,t[1]=i,t[2]=r,t[3]=s,t}const Eo=new Ag("0/0/0/0");let _Ce=class iee{static create(e,i,r=null){const s=vs(e.spatialReference),n=i.origin||Rf(e.origin.x,e.origin.y),o=Rf(e.size[0]*i.resolution,e.size[1]*i.resolution),l=Rf(-1/0,-1/0),c=Rf(1/0,1/0),d=Rf(1/0,1/0);r!=null&&(Fh(l,Math.max(0,Math.floor((r.xmin-n[0])/o[0])),Math.max(0,Math.floor((n[1]-r.ymax)/o[1]))),Fh(c,Math.max(0,Math.floor((r.xmax-n[0])/o[0])),Math.max(0,Math.floor((n[1]-r.ymin)/o[1]))),Fh(d,c[0]-l[0]+1,c[1]-l[1]+1));const{cols:m,rows:v}=i;let w,_,x,T;return!r&&m&&v&&(Fh(l,m[0],v[0]),Fh(c,m[1],v[1]),Fh(d,m[1]-m[0]+1,v[1]-v[0]+1)),e.isWrappable?(w=Rf(Math.ceil(Math.round((s.valid[1]-s.valid[0])/i.resolution)/e.size[0]),d[1]),_=!0,x=s.origin,T=s.valid):(w=d,_=!1),new iee(i.level,i.resolution,i.scale,n,l,c,d,o,w,_,x,T)}constructor(e,i,r,s,n,o,l,c,d,m,v,w){this.level=e,this.resolution=i,this.scale=r,this.origin=s,this.first=n,this.last=o,this.size=l,this.norm=c,this.worldSize=d,this.wrap=m,this._spatialReferenceOrigin=v,this._spatialReferenceValid=w}normalizeCol(e){if(!this.wrap)return e;const i=this.worldSize[0];return e<0?i-1-Math.abs((e+1)%i):e%i}normalizeKey(e){if(!this.wrap)return;const i=this.worldSize[0],r=e.col;r<0?(e.col=r+i,e.world-=1):r>=i&&(e.col=r-i,e.world+=1)}denormalizeCol(e,i){return this.wrap?this.worldSize[0]*i+e:e}getWorldForColumn(e){return this.wrap?Math.floor(e/this.worldSize[0]):0}getFirstColumnForWorld(e){return e*this.worldSize[0]+this.first[0]}getLastColumnForWorld(e){return e*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(e){return(e-this.origin[0])/this.norm[0]}getXForColumn(e){const i=this.origin[0]+e*this.norm[0],r=this._spatialReferenceOrigin,s=this._spatialReferenceValid;return this.wrap&&r&&s?i===r[0]?s[0]:this.origin[0]===r[0]&&e===this.worldSize[0]?s[1]:i:i}getRowForY(e){return(this.origin[1]-e)/this.norm[1]}getYForRow(e){return this.origin[1]-e*this.norm[1]}getTileBounds(e,i,r=!1){Eo.set(i);const s=r?Eo.col:this.denormalizeCol(Eo.col,Eo.world),n=Eo.row;return bCe(e,this.getXForColumn(s),this.getYForRow(n+1),this.getXForColumn(s+1),this.getYForRow(n)),e}getTileCoords(e,i,r=!1){Eo.set(i);const s=r?Eo.col:this.denormalizeCol(Eo.col,Eo.world);return Array.isArray(e)?Fh(e,this.getXForColumn(s),this.getYForRow(Eo.row)):(e.x=this.getXForColumn(s),e.y=this.getYForRow(Eo.row)),e}};var ip;let nI=(ip=class{constructor(){this.spans=[]}acquire(e){this.lodInfo=e}release(){this.lodInfo=null,this.spans.length=0}*keys(){const e=this.lodInfo;for(const{row:i,colFrom:r,colTo:s}of this.spans)for(let n=r;n<=s;n++){const o=e.getWorldForColumn(n);yield new Ag(e.level,i,e.normalizeCol(n),o)}}forEach(e,i){const{spans:r,lodInfo:s}=this,{level:n}=s;if(r.length!==0)for(const{row:o,colFrom:l,colTo:c}of r)for(let d=l;d<=c;d++)e.call(i,n,o,s.normalizeCol(d),s.getWorldForColumn(d))}},ip.pool=new ng(()=>new ip),ip),iE=class{constructor(e,i,r){this.row=e,this.colFrom=i,this.colTo=r}};const Zt=new Ag("0/0/0/0");let SCe=class ree{static create(e,i){e[1]>i[1]&&([e,i]=[i,e]);const[r,s]=e,[n,o]=i,l=n-r,c=o-s,d=c!==0?l/c:0,m=(Math.ceil(s)-s)*d,v=(Math.floor(s)-s)*d;return new ree(r,Math.floor(s),Math.ceil(o),d,l<0?m:v,l<0?v:m,l<0?n:r,l<0?r:n)}constructor(e,i,r,s,n,o,l,c){this.x=e,this.ymin=i,this.ymax=r,this.invM=s,this.leftAdjust=n,this.rightAdjust=o,this.leftBound=l,this.rightBound=c}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}};const sn=[[0,0],[0,0],[0,0],[0,0]],xCe=1e-6;let TCe=class{constructor(e,i=null,r=e.lods[0].level,s=e.lods[e.lods.length-1].level){this.tileInfo=e,this.fullExtent=i,this.scales=[],this._infoByScale={},this._infoByLevel={};const n=e.lods.filter(l=>l.level>=r&&l.level<=s);this.minScale=n[0].scale,this.maxScale=n[n.length-1].scale;const o=this._lodInfos=n.map(l=>_Ce.create(e,l,i));n.forEach((l,c)=>{this._infoByLevel[l.level]=o[c],this._infoByScale[l.scale]=o[c],this.scales[c]=l.scale},this),this._wrap=e.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(e){return this._infoByLevel[typeof e=="number"?e:e.level]}getTileBounds(e,i,r=!1){Zt.set(i);const s=this._infoByLevel[Zt.level];return s?s.getTileBounds(e,Zt,r):e}getTileCoords(e,i,r=!1){Zt.set(i);const s=this._infoByLevel[Zt.level];return s?s.getTileCoords(e,Zt,r):e}getTileCoverage(e,i=192,r=!0,s="closest"){if(!r&&(e.scale>this.minScale||e.scale<this.maxScale))return null;const n=s==="closest"?this.getClosestInfoForScale(e.scale):this.getSmallestInfoForScale(e.scale),o=nI.pool.acquire(n),l=this._wrap;let c,d,m,v=1/0,w=-1/0;const _=o.spans;sn[0][0]=sn[0][1]=sn[1][1]=sn[3][0]=-i,sn[1][0]=sn[2][0]=e.size[0]+i,sn[2][1]=sn[3][1]=e.size[1]+i;for(const O of sn)e.toMap(O,O),O[0]=n.getColumnForX(O[0]),O[1]=n.getRowForY(O[1]);const x=[];let T=3;for(let O=0;O<4;O++){if(sn[O][1]===sn[T][1]){T=O;continue}const C=SCe.create(sn[O],sn[T]);v=Math.min(C.ymin,v),w=Math.max(C.ymax,w),x[C.ymin]===void 0&&(x[C.ymin]=[]),x[C.ymin].push(C),T=O}if(v==null||w==null||w-v>100)return null;let $=[];for(c=v;c<w;){x[c]!=null&&($=$.concat(x[c])),d=1/0,m=-1/0;for(let O=$.length-1;O>=0;O--){const C=$[O];d=Math.min(d,C.getLeftCol()),m=Math.max(m,C.getRightCol())}if(d=Math.floor(d),m=Math.floor(m),c>=n.first[1]&&c<=n.last[1])if(l)if(n.size[0]<n.worldSize[0]){const O=Math.floor(m/n.worldSize[0]);for(let C=Math.floor(d/n.worldSize[0]);C<=O;C++)_.push(new iE(c,Math.max(n.getFirstColumnForWorld(C),d),Math.min(n.getLastColumnForWorld(C),m)))}else _.push(new iE(c,d,m));else d>n.last[0]||m<n.first[0]||(d=Math.max(d,n.first[0]),m=Math.min(m,n.last[0]),_.push(new iE(c,d,m)));c+=1;for(let O=$.length-1;O>=0;O--){const C=$[O];C.ymax>=c?C.incrRow():$.splice(O,1)}}return o}getTileParentId(e){Zt.set(e);const i=this._infoByLevel[Zt.level],r=this._lodInfos.indexOf(i)-1;return r<0?null:(this._getTileIdAtLOD(Zt,this._lodInfos[r],Zt),Zt.id)}getTileResolution(e){const i=this._infoByLevel[typeof e=="object"?e.level:e];return i?i.resolution:-1}getTileScale(e){const i=this._infoByLevel[e.level];return i?i.scale:-1}intersects(e,i){Zt.set(i);const r=this._infoByLevel[Zt.level],s=e.lodInfo;if(s.resolution>r.resolution){this._getTileIdAtLOD(Zt,s,Zt);const o=s.denormalizeCol(Zt.col,Zt.world);for(const l of e.spans)if(l.row===Zt.row&&l.colFrom<=o&&l.colTo>=o)return!0}if(s.resolution<r.resolution){const[o,l,c,d]=e.spans.reduce((T,$)=>(T[0]=Math.min(T[0],$.row),T[1]=Math.max(T[1],$.row),T[2]=Math.min(T[2],$.colFrom),T[3]=Math.max(T[3],$.colTo),T),[1/0,-1/0,1/0,-1/0]),m=r.denormalizeCol(Zt.col,Zt.world),v=s.getColumnForX(r.getXForColumn(m)),w=s.getRowForY(r.getYForRow(Zt.row)),_=s.getColumnForX(r.getXForColumn(m+1))-1,x=s.getRowForY(r.getYForRow(Zt.row+1))-1;return!(v>d||_<c||w>l||x<o)}const n=s.denormalizeCol(Zt.col,Zt.world);return e.spans.some(o=>o.row===Zt.row&&o.colFrom<=n&&o.colTo>=n)}normalizeBounds(e,i,r){if(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],this._wrap){const s=vs(this.tileInfo.spatialReference),n=-r*(s.valid[1]-s.valid[0]);e[0]+=n,e[2]+=n}return e}getSmallestInfoForScale(e){const i=this.scales;if(this._infoByScale[e])return this._infoByScale[e];if(e>i[0])return this._infoByScale[i[0]];for(let r=1;r<i.length-1;r++)if(e>i[r]+xCe)return this._infoByScale[i[r-1]];return this._infoByScale[i[i.length-1]]}getClosestInfoForScale(e){const i=this.scales;return this._infoByScale[e]||(e=i.reduce((r,s)=>Math.abs(s-e)<Math.abs(r-e)?s:r,i[0])),this._infoByScale[e]}scaleToLevel(e){const i=this.scales;if(this._infoByScale[e])return this._infoByScale[e].level;for(let r=i.length-1;r>=0;r--)if(e<i[r])return r===i.length-1?this._infoByScale[i[i.length-1]].level:this._infoByScale[i[r]].level+(i[r]-e)/(i[r]-i[r+1]);return this._infoByScale[i[0]].level}scaleToZoom(e){return this.tileInfo.scaleToZoom(e)}zoomToScale(e){return this.tileInfo.zoomToScale(e)}_getTileIdAtLOD(e,i,r){const s=this._infoByLevel[r.level];return e.set(r),i.resolution<s.resolution?null:(i.resolution===s.resolution||(e.level=i.level,e.col=Math.floor(r.col*s.resolution/i.resolution+.01),e.row=Math.floor(r.row*s.resolution/i.resolution+.01)),e)}},$Ce=class{constructor(e,i){this.item=e,this.controller=i,this.promise=null}},MCe=class{constructor(e){this._schedule=null,this._task=null,this._deferreds=new Hm,this._controllers=new Hm,this._processingItems=new Hm,this._pausedSignal=Zy(!1),this.concurrency=1,e.concurrency&&(this.concurrency=e.concurrency),this._queue=new X1(e.peeker),this.process=e.process;const i=e.scheduler;e.priority&&i&&(this._task=i.registerTask(e.priority,this))}destroy(){this.clear(),this._schedule=Dt(this._schedule),this._task=Dt(this._task)}get updating(){var e;return!!((e=this._task)!=null&&e.updating)||this.readyToRun}get length(){return this._processingItems.size+this._queue.length}abort(e){const i=this._controllers.get(e);i&&i.abort()}clear(){this._queue.clear();const e=[];this._controllers.forEach(i=>e.push(i)),this._controllers.clear(),e.forEach(i=>i.abort()),this._processingItems.clear(),this._cancelNext()}forEach(e){this._deferreds.forEach((i,r)=>e(r))}get(e){const i=this._deferreds.get(e);return i?i.promise:void 0}isOngoing(e){return this._processingItems.has(e)}has(e){return this._deferreds.has(e)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(e,i){const r=this.get(e);if(r)return r;const s=new AbortController;let n=null;i&&(n=ao(i,()=>s.abort()));const o=()=>{const m=this._processingItems.get(e);m&&m.controller.abort(),l(),d.reject($t())},l=()=>{c.remove(),n!=null&&n.remove(),this._removeItem(e),this._queue.remove(e),this._scheduleNext()},c=ZC(s.signal,o),d=bn();return this._deferreds.set(e,d),this._controllers.set(e,s),d.promise.then(l,l),this._queue.push(e),this._scheduleNext(),d.promise}last(){return this._queue.last()}lastPromise(){const e=this.last();return e?this.get(e):null}peek(){return this._queue.peek()}popLast(){var i;const e=this._queue.popLast();return e&&((i=this._deferreds.get(e))==null||i.reject($t()),this._removeItem(e)),e}reset(){const e=Array.from(this._processingItems.values());this._processingItems.clear();for(const i of e)this._queue.push(i.item),i.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const e=[];for(;this._queue.length;)e.push(this._queue.pop());return this.clear(),e}get readyToRun(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(e){for(;!e.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),e.madeProgress()}_removeItem(e){this._deferreds.delete(e),this._controllers.delete(e),this._processingItems.delete(e)}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=lg(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(e,i){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).resolve(i))}_processError(e,i){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).reject(i))}_canProcessFulfillment(e){return!!this._deferreds.get(e.item)&&this._processingItems.get(e.item)===e}_process(e){if(e==null)return;let i;const r=new AbortController,s=new $Ce(e,r);this._processingItems.set(e,s);try{i=this.process(e,r.signal)}catch(n){this._processError(s,n)}Xr(i)?(s.promise=i,i.then(n=>this._processResult(s,n),n=>this._processError(s,n))):this._processResult(s,i)}get test(){}};const jF=[0,0];let Al=class extends $e{constructor(e){super(e),this._keyToItem=new Map,this._tilesByScale=new Map,this.concurrency=6}initialize(){const{concurrency:e,process:i,scheduler:r,priority:s}=this;this._queue=new MCe({concurrency:e,scheduler:r,priority:s,process:(n,o)=>{const l=this._keyToItem.get(n);return i(l,{signal:o})},peeker:n=>this._peek(n)})}destroy(){this.clear(),this._queue=ti(this._queue)}get length(){return this._queue?this._queue.length:0}abort(e){const i=typeof e=="string"?e:e.id;this._queue.abort(i)}clear(){this._queue.clear(),this._keyToItem.clear(),this._tilesByScale.clear()}has(e){return typeof e=="string"?this._keyToItem.has(e):this._keyToItem.has(e.id)}pause(){this._queue.pause()}push(e){const i=e.key.id;if(this._queue.has(i))return this._queue.get(i);const r=this._queue.push(i),s=this.tileInfoView.getTileScale(e.key),n=ug(this._tilesByScale,s,()=>new Set),o=()=>{n.delete(e.key),n.size===0&&this._tilesByScale.delete(s),this._keyToItem.delete(i)};return n.add(e.key),this._keyToItem.set(i,e),r.then(o,o),r}reset(){this._queue.reset()}resume(){this._queue.resume()}_peek(e){if(!this.state)return e.values().next().value;const i=new Set;for(const o of e)i.add(this._keyToItem.get(o).key);const r=this.state.scale;let s,n=Number.POSITIVE_INFINITY;for(const[o,l]of this._tilesByScale)if(UB(l,c=>i.has(c))){const c=Math.abs(o-r);c<n&&(s=l,n=c)}return this._getClosestTileKey(s,e).id}_getClosestTileKey(e,i){const r=this.tileInfoView,s=this.state.center;let n,o=Number.POSITIVE_INFINITY;for(const l of e)if(i.has(l.id)){r.getTileCoords(jF,l);const c=ET(jF,s);c<o&&(o=c,n=l)}return n}};h([f({constructOnly:!0})],Al.prototype,"concurrency",void 0),h([f({constructOnly:!0})],Al.prototype,"priority",void 0),h([f({constructOnly:!0})],Al.prototype,"process",void 0),h([f({constructOnly:!0})],Al.prototype,"scheduler",void 0),h([f()],Al.prototype,"state",void 0),h([f({constructOnly:!0})],Al.prototype,"tileInfoView",void 0),Al=h([I("esri.views.2d.tiling.TileQueue")],Al);const SUe=Al;let ECe=class{constructor(e,i,r){this.maxSize=e,this._tileInfoView=i,this._removedFunc=r,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(e){return this._tilePerId.has(e)}get(e){return this._tilePerId.get(e)}pop(e){const i=this._tilePerId.get(e);if(!i)return;const r=i.key.level,s=this._tileKeysPerLevel[r];NF(this._tilePerId,e);for(let n=0;n<s.length;n++)if(s[n].id===e){s.splice(n,1);break}return i.visible=!0,i}add(e){e.visible=!1;const i=e.key,r=i.id;if(this._tilePerId.has(r))return;this._tilePerId.set(r,e);const s=i.level;this._tileKeysPerLevel[s]||(this._tileKeysPerLevel[s]=[]),this._tileKeysPerLevel[s].push(i)}prune(e,i,r){let s=this._tilePerId.size;if(s<=this.maxSize)return;let n=this._tileKeysPerLevel.length-1;for(;s>this.maxSize&&n>=0;)n!==e&&(s=this._pruneAroundCenterTile(s,i,r,n)),n--;s>this.maxSize&&(s=this._pruneAroundCenterTile(s,i,r,e))}_pruneAroundCenterTile(e,i,r,s){const n=this._tileKeysPerLevel[s];if(!n||n.length===0)return e;const{size:o,origin:l}=this._tileInfoView.tileInfo,c=r*o[0],d=r*o[1],m=[0,0],v=[0,0];for(n.sort((w,_)=>(m[0]=l.x+c*(w.col+.5),m[1]=l.y-d*(w.row+.5),v[0]=l.x+c*(_.col+.5),v[1]=l.y-d*(_.row+.5),Z1(m,i)-Z1(v,i)));n.length>0;){const w=n.pop();if(this._removeTile(w.id),--e===this.maxSize)break}return e}_removeTile(e){const i=this._tilePerId.get(e);this._removedFunc&&i&&this._removedFunc(i),NF(this._tilePerId,e)}};function NF(t,e){t.delete(e)}const zh=new Ag(0,0,0,0),pl=new Map,W0=[],rE=[];let TUe=class{constructor(e){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=e.acquireTile,this.releaseTile=e.releaseTile,this.tileInfoView=e.tileInfoView,e.resampling!=null&&(this.resampling=e.resampling),e.cachePolicy&&(this.cachePolicy=e.cachePolicy),e.coveragePolicy&&(this.coveragePolicy=e.coveragePolicy),e.buffer!=null&&(this.buffer=e.buffer),e.cacheSize&&(this._tileCache=new ECe(e.cacheSize,this.tileInfoView,i=>{this.releaseTile(i)}))}destroy(){this.tileIndex.clear()}update(e){var O,C;const{resampling:i,tileIndex:r}=this,{scale:s,center:n,resolution:o}=e.state,{minScale:l,maxScale:c}=this.tileInfoView,d=!e.stationary&&s>this._previousScale;if(this._previousScale=s,!i&&(s>l||s<c))return this.tiles.length=0,void this.clear();const m=this.tileInfoView.getTileCoverage(e.state,this.buffer,this.resampling,this.coveragePolicy);if(!m)return this.tiles.length=0,void this.clear();const{spans:v,lodInfo:w}=m,{level:_}=w;this.tiles.length=0,r.forEach(R=>R.visible=!0);let x=0,T=0;if(v.length>0)for(const{row:R,colFrom:N,colTo:j}of v)for(let z=N;z<=j;z++){x++;const ee=zh.set(_,R,w.normalizeCol(z),w.getWorldForColumn(z)).id;let Q=r.get(ee);if(Q)Q.isReady?(pl.set(ee,Q),T++):d||this._addParentTile(ee,pl);else{if((O=this._tileCache)!=null&&O.has(ee)){if(Q=this._tileCache.pop(ee),this.tileIndex.set(ee,Q),Q.isReady){pl.set(ee,Q),T++;continue}}else Q=this.acquireTile(zh),this.tileIndex.set(ee,Q);d||this._addParentTile(ee,pl)}}const $=T===x;for(const[R,N]of r){if(pl.has(R))continue;zh.set(R);const j=this.tileInfoView.intersects(m,zh),z=this.cachePolicy==="purge"?zh.level!==_:zh.level>_;!j||!d&&$?!z&&j||W0.push(N):N.isReady?z&&this.cachePolicy==="purge"&&this._hasReadyAncestor(zh,_)?W0.push(N):rE.push(N):z&&W0.push(N)}for(const R of rE)R.isReady&&pl.set(R.key.id,R);for(const R of W0)this._tileCache?this._tileCache.add(R):this.releaseTile(R),r.delete(R.key.id);for(const R of pl.values())this.tiles.push(R);for(const R of r.values())pl.has(R.key.id)||(R.visible=!1);(C=this._tileCache)==null||C.prune(_,n,o),nI.pool.release(m),rE.length=0,W0.length=0,pl.clear()}clear(){const{tileIndex:e}=this;for(const i of e.values())this.releaseTile(i);e.clear()}refresh(e){var i;for(const r of this.tileIndex.values())e(r);(i=this._tileCache)==null||i.clear()}updateCacheSize(e){this._tileCache&&(this._tileCache.maxSize=e)}_addParentTile(e,i){var n;let r=e,s=null;for(;r=this.tileInfoView.getTileParentId(r),r;)if(this.tileIndex.has(r)){if(s=this.tileIndex.get(r),s==null?void 0:s.isReady){i.has(s.key.id)||i.set(s.key.id,s);break}}else if((n=this._tileCache)!=null&&n.has(r)&&(s=this._tileCache.pop(r),this.tileIndex.set(r,s),s==null?void 0:s.isReady)){i.has(s.key.id)||i.set(s.key.id,s);break}}_hasReadyAncestor(e,i){const r=Us();this.tileInfoView.getTileBounds(r,e,!0);for(const s of this.tileIndex.values())if(s.isReady&&s.key.level>=i&&s.key.level<e.level){const n=Us();if(this.tileInfoView.getTileBounds(n,s.key,!0),_ve(n,r))return!0}return!1}};const ACe={"area-measurement":null,dimension:null,"direct-line-measurement":null,"elevation-profile":()=>re(()=>import("./ElevationProfileAnalysisView2D-DjlFPuul.js"),__vite__mapDeps([302,127,195,296,303,245,304,305,306,307,308,309,107,310,311,312,313,314,115,116,315,316,317,193,318,319,139,69,121,122,135,197,67,320,108,148,153,134])),"line-of-sight":null,slice:null,viewshed:null,"volume-measurement":null};function OCe(t){const e=ACe[t.type];if(!e)throw new B("analysis-view-module-import-utils:analysis-not-supported",`Analysis "${t.type}" is not supported`);return e()}let kCe=class{constructor(e,i={}){this.events=new Gde,this._hasMajorPerformanceCaveat=!1,this._lastRenderFrameCounter=0,e!=null?(this._canvas=document.createElement("canvas"),this._canvas.setAttribute("style","width: 100%; height:100%; display:block; willChange:transform"),e.contains(this._canvas)||e.appendChild(this._canvas)):i.canvas!=null&&(this._canvas=i.canvas);const r={failIfMajorPerformanceCaveat:!0,alpha:!0,antialias:!1,depth:!0,stencil:!0,powerPreference:"high-performance"};let s=this._canvas.getContext("webgl2",r);s||(s=this._canvas.getContext("webgl2",{...r,failIfMajorPerformanceCaveat:!1}),this._hasMajorPerformanceCaveat=!0),this._gl=s,this._handles=Sp([ag(this._canvas,"webglcontextlost",n=>this.events.emit("webgl-context-lost",n))])}destroy(){this._canvas.remove(),this._canvas=null,this._handles.remove(),this._gl=null}get gl(){return this._gl}get canvas(){return this._canvas}render(e,i){if(this._hasMajorPerformanceCaveat||q("esri-force-performance-mode")){if(++this._lastRenderFrameCounter>=q("esri-performance-mode-frames-between-render")&&(i(),this._lastRenderViewState=e.state.clone(),this._lastRenderFrameCounter=0),this._lastRenderViewState){const[r,s,n,o,l,c]=this._computeViewTransform(this._lastRenderViewState,e.state);this._canvas.style.transform=`matrix(${r}, ${s}, ${n}, ${o}, ${l}, ${c})`}}else i()}resize(e){const i=this._canvas,r=i.style,{state:{size:s},pixelRatio:n}=e,o=s[0],l=s[1],c=Math.round(o*n),d=Math.round(l*n);i.width===c&&i.height===d||(i.width=c,i.height=d),r.width=o+"px",r.height=l+"px"}_computeViewTransform(e,i){const[r,s]=e.center,[n,o]=i.center,[l,c]=e.toScreen([0,0],n,o),[d,m]=e.toScreen([0,0],r,s),v=d-l,w=m-c,_=e.scale/i.scale,x=i.rotation-e.rotation,T=Da();return dQ(T),KT(T,T,[_,_]),Ww(T,T,kw(x)),Yy(T,T,[v,w]),T}};function CCe(t,e,i,r,s){see(t,e,i||0,r||t.length-1,s||RCe)}function see(t,e,i,r,s){for(;r>i;){if(r-i>600){var n=r-i+1,o=e-i+1,l=Math.log(n),c=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*c*(n-c)/n)*(o-n/2<0?-1:1);see(t,e,Math.max(i,Math.floor(e-o*c/n+d)),Math.min(r,Math.floor(e+(n-o)*c/n+d)),s)}var m=t[e],v=i,w=r;for(Z0(t,i,e),s(t[r],m)>0&&Z0(t,i,r);v<w;){for(Z0(t,v,w),v++,w--;s(t[v],m)<0;)v++;for(;s(t[w],m)>0;)w--}s(t[i],m)===0?Z0(t,i,w):Z0(t,++w,r),w<=e&&(i=w+1),e<=w&&(r=w-1)}}function Z0(t,e,i){var r=t[e];t[e]=t[i],t[i]=r}function RCe(t,e){return t<e?-1:t>e?1:0}function Vx(t,e){if(!(this instanceof Vx))return new Vx(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&(typeof e=="function"?this.toBBox=e:this._initFormat(e)),this.clear()}function ICe(t,e,i){if(!i)return e.indexOf(t);for(var r=0;r<e.length;r++)if(i(t,e[r]))return r;return-1}function If(t,e){Fv(t,0,t.children.length,e,t)}function Fv(t,e,i,r,s){s||(s=om(null)),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(var n,o=e;o<i;o++)n=t.children[o],zv(s,t.leaf?r(n):n);return s}function zv(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function DF(t,e){return t.minX-e.minX}function LF(t,e){return t.minY-e.minY}function sE(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function e2(t){return t.maxX-t.minX+(t.maxY-t.minY)}function PCe(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function jCe(t,e){var i=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),s=Math.min(t.maxX,e.maxX),n=Math.min(t.maxY,e.maxY);return Math.max(0,s-i)*Math.max(0,n-r)}function nE(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function t2(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function om(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function VF(t,e,i,r,s){for(var n,o=[e,i];o.length;)(i=o.pop())-(e=o.pop())<=r||(n=e+Math.ceil((i-e)/r/2)*r,CCe(t,n,e,i,s),o.push(e,n,n,i))}Vx.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,i=[],r=this.toBBox;if(!t2(t,e))return i;for(var s,n,o,l,c=[];e;){for(s=0,n=e.children.length;s<n;s++)o=e.children[s],t2(t,l=e.leaf?r(o):o)&&(e.leaf?i.push(o):nE(t,l)?this._all(o,i):c.push(o));e=c.pop()}return i},collides:function(t){var e=this.data,i=this.toBBox;if(!t2(t,e))return!1;for(var r,s,n,o,l=[];e;){for(r=0,s=e.children.length;r<s;r++)if(n=e.children[r],t2(t,o=e.leaf?i(n):n)){if(e.leaf||nE(t,o))return!0;l.push(n)}e=l.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,i=t.length;e<i;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var s=this.data;this.data=r,r=s}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t!=null&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=om([]),this},remove:function(t,e){if(t==null)return this;for(var i,r,s,n,o=this.data,l=this.toBBox(t),c=[],d=[];o||c.length;){if(o||(o=c.pop(),r=c[c.length-1],i=d.pop(),n=!0),o.leaf&&(s=ICe(t,o.children,e))!==-1)return o.children.splice(s,1),c.push(o),this._condense(c),this;n||o.leaf||!nE(o,l)?r?(i++,o=r.children[i],n=!1):o=null:(c.push(o),d.push(i),i=0,r=o,o=o.children[0])}return this},toBBox:function(t){return t},compareMinX:DF,compareMinY:LF,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},_build:function(t,e,i,r){var s,n=i-e+1,o=this._maxEntries;if(n<=o)return If(s=om(t.slice(e,i+1)),this.toBBox),s;r||(r=Math.ceil(Math.log(n)/Math.log(o)),o=Math.ceil(n/Math.pow(o,r-1))),(s=om([])).leaf=!1,s.height=r;var l,c,d,m,v=Math.ceil(n/o),w=v*Math.ceil(Math.sqrt(o));for(VF(t,e,i,w,this.compareMinX),l=e;l<=i;l+=w)for(VF(t,l,d=Math.min(l+w-1,i),v,this.compareMinY),c=l;c<=d;c+=v)m=Math.min(c+v-1,d),s.children.push(this._build(t,c,m,r-1));return If(s,this.toBBox),s},_chooseSubtree:function(t,e,i,r){for(var s,n,o,l,c,d,m,v;r.push(e),!e.leaf&&r.length-1!==i;){for(m=v=1/0,s=0,n=e.children.length;s<n;s++)c=sE(o=e.children[s]),(d=PCe(t,o)-c)<v?(v=d,m=c<m?c:m,l=o):d===v&&c<m&&(m=c,l=o);e=l||e.children[0]}return e},_insert:function(t,e,i){var r=this.toBBox,s=i?t:r(t),n=[],o=this._chooseSubtree(s,this.data,e,n);for(o.children.push(t),zv(o,s);e>=0&&n[e].children.length>this._maxEntries;)this._split(n,e),e--;this._adjustParentBBoxes(s,n,e)},_split:function(t,e){var i=t[e],r=i.children.length,s=this._minEntries;this._chooseSplitAxis(i,s,r);var n=this._chooseSplitIndex(i,s,r),o=om(i.children.splice(n,i.children.length-n));o.height=i.height,o.leaf=i.leaf,If(i,this.toBBox),If(o,this.toBBox),e?t[e-1].children.push(o):this._splitRoot(i,o)},_splitRoot:function(t,e){this.data=om([t,e]),this.data.height=t.height+1,this.data.leaf=!1,If(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var r,s,n,o,l,c,d,m;for(c=d=1/0,r=e;r<=i-e;r++)o=jCe(s=Fv(t,0,r,this.toBBox),n=Fv(t,r,i,this.toBBox)),l=sE(s)+sE(n),o<c?(c=o,m=r,d=l<d?l:d):o===c&&l<d&&(d=l,m=r);return m},_chooseSplitAxis:function(t,e,i){var r=t.leaf?this.compareMinX:DF,s=t.leaf?this.compareMinY:LF;this._allDistMargin(t,e,i,r)<this._allDistMargin(t,e,i,s)&&t.children.sort(r)},_allDistMargin:function(t,e,i,r){t.children.sort(r);var s,n,o=this.toBBox,l=Fv(t,0,e,o),c=Fv(t,i-e,i,o),d=e2(l)+e2(c);for(s=e;s<i-e;s++)n=t.children[s],zv(l,t.leaf?o(n):n),d+=e2(l);for(s=i-e-1;s>=e;s--)n=t.children[s],zv(c,t.leaf?o(n):n),d+=e2(c);return d},_adjustParentBBoxes:function(t,e,i){for(var r=i;r>=0;r--)zv(e[r],t)},_condense:function(t){for(var e,i=t.length-1;i>=0;i--)t[i].children.length===0?i>0?(e=t[i-1].children).splice(e.indexOf(t[i]),1):this.clear():If(t[i],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};function NCe(t,{timeZone:e,timeExtent:i}){return{$view:{scale:t,timeZone:e,timeProperties:{currentStart:i==null?void 0:i.start,currentEnd:i==null?void 0:i.end}}}}let FF=class nee{constructor(e,i){this.key=new Ag(0,0,0,0),this.bounds=Us(),this.objectIds=new Set,this.key.set(i);const r=e.getLODInfoAt(this.key);this.tileInfoView=e,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=r.resolution,this.level=r.level,this.scale=r.scale,this.minScale=e.zoomToScale(r.level-1),this.maxScale=e.zoomToScale(r.level+1)}get lod(){return this.tileInfoView.getLODInfoAt(this.key)}get id(){return this.key.id}get extent(){return vve(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createArcadeEvaluationOptions(e){return NCe(this.scale,e)}createChildTiles(){const e=this.key.getChildKeys(),i=hs.acquire();for(let r=0;r<e.length;r++)i[r]=new nee(this.tileInfoView,e[r]);return i}getQuantizationParameters(){return dc.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}};const Uh={added:[],removed:[]},oE=new Set,DCe=new Ag(0,0,0,0);function LCe(t,e){const i=vs(e);if(!i)return null;const[r,s]=i.valid;return t[2]>s?[Us([t[0],t[1],s,t[3]]),Us([r,t[1],r+t[2]-s,t[3]])]:t[0]<r?[Us([r,t[1],t[2],t[3]]),Us([s-(r-t[0]),t[1],s,t[3]])]:null}let VCe=class extends lG{constructor(e){super(),this._tiles=new Map,this._index=Vx(9,q("esri-csp-restrictions")?i=>({minX:i.bounds[0],minY:i.bounds[1],maxX:i.bounds[2],maxY:i.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=e}destroy(){super.destroy(),this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(e){return this._tiles.has(e)}get(e){return this._tiles.get(e)}getIntersectingTiles(e){if(!e||ZR(e)===0||YR(e)===0)return[];const i=LCe(e,this.tileScheme.spatialReference);return i!=null?[...new Set([...this.boundsIntersections(i[0]),...this.boundsIntersections(i[1])])]:this.boundsIntersections(e)}boundsIntersections(e){return this._index.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]})}updateTiles(e){const i={added:[],removed:[]};for(const r of e.added)if(!this.has(r)){const s=new FF(this.tileScheme,r);this._tiles.set(r,s),this._index.insert(s),i.added.push(s)}for(const r of e.removed)if(this.has(r)){const s=this.get(r);this._tiles.delete(r),this._index.remove(s),i.removed.push(s)}this.tiles.length=0,this._tiles.forEach(r=>this.tiles.push(r)),(i.added.length||i.removed.length)&&this.emit("update",i)}setViewState(e){const i=this.tileScheme.getTileCoverage(e,0);if(!i)return;const{spans:r,lodInfo:s}=i,{level:n}=s;if(r.length>0)for(const{row:o,colFrom:l,colTo:c}of r)for(let d=l;d<=c;d++){const m=DCe.set(n,o,s.normalizeCol(d),s.getWorldForColumn(d)).id;if(oE.add(m),!this.has(m)){const v=new FF(this.tileScheme,m);this._tiles.set(m,v),this._index.insert(v),this.tiles.push(v),Uh.added.push(v)}}for(let o=this.tiles.length-1;o>=0;o--){const l=this.tiles[o];oE.has(l.id)||(this._tiles.delete(l.id),this.tiles.splice(o,1),this._index.remove(l),Uh.removed.push(l))}(Uh.added.length||Uh.removed.length)&&this.emit("update",Uh),nI.pool.release(i),oE.clear(),Uh.added.length=0,Uh.removed.length=0}};const AUe=1e-30,zF=512,i2=16777216,OUe=8,kUe=29,CUe=24,RUe=4,IUe=0,PUe=0,jUe=0,NUe=1,DUe=2,LUe=3,VUe=4,FUe=5,zUe=6,UUe=12,qUe=13,BUe=5,FCe=6,GUe=5,HUe=6,oee=6,zCe=1<<oee,WUe=zCe<<1,ZUe=1.05,YUe=3,JUe=1,KUe=3,XUe=3,QUe=5,eqe=6,tqe=1.15,UCe=4,iqe=128,qCe=256,rqe=qCe-2*UCe,sqe=2,nqe=128,oqe=1,aqe=10,lqe=1024,uqe=128,cqe=4,hqe=1,dqe=1<<20,pqe=.75,fqe=10,mqe=.75,yqe=256,gqe=32,vqe=512,wqe=0,bqe=1,BCe=1,_qe=[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],Sqe=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Y0=256,GCe=()=>se.getLogger("esri.views.webgl.checkWebGLError");function aee(t){switch(t.getError()){case t.NO_ERROR:return null;case t.INVALID_ENUM:return"Invalid Enum. An unacceptable value has been specified for an enumerated argument.";case t.INVALID_VALUE:return"Invalid Value. A numeric argument is out of range.";case t.INVALID_OPERATION:return"Invalid Operation. The specified command is not allowed for the current state.";case t.INVALID_FRAMEBUFFER_OPERATION:return"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.";case t.OUT_OF_MEMORY:return"Out of memory. Not enough memory is left to execute the command.";case t.CONTEXT_LOST_WEBGL:return"WebGL context has been lost";default:return"Unknown error"}}const lee=!!q("enable-feature:webgl-debug");function uee(){return lee}function xqe(){return lee}function qh(t,e=uee()){if(e){const i=aee(t);if(i){const r=new Error().stack;GCe().error(new B("webgl-error","WebGL error occurred",{message:i,stack:r}))}}}const Tqe={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Bh={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,HALF_FLOAT:5131},Oe={RGBA4:32854,R16F:33325,RG16F:33327,RGB32F:34837,RGBA16F:34842,R32F:33326,RG32F:33328,RGBA32F:34836,R11F_G11F_B10F:35898,RGB8:32849,RGBA8:32856,RGB5_A1:32855,R8:33321,RG8:33323,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,RGB16F:34843,RGB9_E5:35901,SRGB8:35905,SRGB8_ALPHA8:35907,RGB565:36194,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,RGB10_A2:32857,RGB10_A2UI:36975},HCe=Object.values(Oe),Fx={DEPTH24_STENCIL8:35056,DEPTH32F_STENCIL8:36013},T1={DEPTH_COMPONENT16:33189,DEPTH_COMPONENT24:33190,DEPTH_COMPONENT32F:36012},Zk={FLOAT:Bh.FLOAT,UNSIGNED_BYTE:Bh.UNSIGNED_BYTE,UNSIGNED_INT_24_8:34042,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,BYTE:Bh.BYTE,UNSIGNED_SHORT:Bh.UNSIGNED_SHORT,SHORT:Bh.SHORT,UNSIGNED_INT:Bh.UNSIGNED_INT,INT:Bh.INT,HALF_FLOAT:5131,UNSIGNED_INT_2_10_10_10_REV:33640,UNSIGNED_INT_10F_11F_11F_REV:35899,UNSIGNED_INT_5_9_9_9_REV:35902,FLOAT_32_UNSIGNED_INT_24_8_REV:36269},$qe=33984,UF={Texture:0,TileTexture:1,BufferObject:2,VertexArrayObject:3,Shader:4,Program:5,FramebufferObject:6,Renderbuffer:7,TransformFeedback:8,Sync:9,UNCOUNTED:10,LinesOfCode:10,Uniform:11,COUNT:12},Mqe=1029,Eqe=0,Aqe=36064,Oqe=36065,kqe=36066,Cqe=36067,Rqe=33306,Iqe=36096,Pqe=36128,Fr={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_SRGB8_ETC2:37493,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37494,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37495,COMPRESSED_RGBA8_ETC2_EAC:37496,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37497};function jqe(t,e,i,r=0){const s=t.gl;t.bindBuffer(i);for(const n of i.layout){const o=e.get(n.name);if(o==null){console.warn(`There is no location for vertex attribute '${n.name}' defined.`);continue}const l=r*n.stride;if(n.count<=4)s.vertexAttribPointer(o,n.count,n.type,n.normalized,n.stride,n.offset+l),s.enableVertexAttribArray(o),n.divisor>0&&s.vertexAttribDivisor(o,n.divisor);else if(n.count===9)for(let c=0;c<3;c++)s.vertexAttribPointer(o+c,3,n.type,n.normalized,n.stride,n.offset+12*c+l),s.enableVertexAttribArray(o+c),n.divisor>0&&s.vertexAttribDivisor(o+c,n.divisor);else if(n.count===16)for(let c=0;c<4;c++)s.vertexAttribPointer(o+c,4,n.type,n.normalized,n.stride,n.offset+16*c+l),s.enableVertexAttribArray(o+c),n.divisor>0&&s.vertexAttribDivisor(o+c,n.divisor);else console.error("Unsupported vertex attribute element count: "+n.count);if(uee()){const c=aee(t.gl);c&&console.error(`Unable to bind vertex attribute "${n.name}" with baseInstanceOffset ${l}:`,c,n)}}}function Nqe(t){switch(t){case 6406:case 6409:case 6403:case 36244:case 6402:case 34041:return 1;case 6410:case 33319:case 33320:return 2;case 6407:case 36248:return 3;case 6408:case 36249:return 4}return 0}function WCe(t){switch(t){case 6406:case 6409:case 6403:case 36244:case Oe.R8:case Oe.R8I:case Oe.R8UI:case Oe.R8_SNORM:case 36168:return 1;case 6410:case 33319:case 33320:case Oe.RGBA4:case Oe.R16F:case Oe.R16I:case Oe.R16UI:case Oe.RG8:case Oe.RG8I:case Oe.RG8UI:case Oe.RG8_SNORM:case Oe.RGB565:case Oe.RGB5_A1:case T1.DEPTH_COMPONENT16:return 2;case 6407:case 36248:case Oe.RGB8:case Oe.RGB8I:case Oe.RGB8UI:case Oe.RGB8_SNORM:case Oe.SRGB8:case T1.DEPTH_COMPONENT24:return 3;case 6408:case 36249:case Oe.RGBA8:case Oe.R32F:case Oe.R11F_G11F_B10F:case Oe.RG16F:case Oe.R32I:case Oe.R32UI:case Oe.RG16I:case Oe.RG16UI:case Oe.RGBA8I:case Oe.RGBA8UI:case Oe.RGBA8_SNORM:case Oe.SRGB8_ALPHA8:case Oe.RGB9_E5:case Oe.RGB10_A2UI:case Oe.RGB10_A2:case T1.DEPTH_COMPONENT32F:case Fx.DEPTH24_STENCIL8:return 4;case Fx.DEPTH32F_STENCIL8:return 5;case Oe.RGB16F:case Oe.RGB16I:case Oe.RGB16UI:return 6;case Oe.RG32F:case Oe.RG32I:case Oe.RG32UI:case Oe.RGBA16F:case Oe.RGBA16I:case Oe.RGBA16UI:return 8;case Oe.RGB32F:case Oe.RGB32I:case Oe.RGB32UI:return 12;case Oe.RGBA32F:case Oe.RGBA32I:case Oe.RGBA32UI:return 16;case Fr.COMPRESSED_RGB_S3TC_DXT1_EXT:case Fr.COMPRESSED_RGBA_S3TC_DXT1_EXT:return .5;case Fr.COMPRESSED_RGBA_S3TC_DXT3_EXT:case Fr.COMPRESSED_RGBA_S3TC_DXT5_EXT:return 1;case Fr.COMPRESSED_R11_EAC:case Fr.COMPRESSED_SIGNED_R11_EAC:case Fr.COMPRESSED_RGB8_ETC2:case Fr.COMPRESSED_SRGB8_ETC2:case Fr.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:case Fr.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:return .5;case Fr.COMPRESSED_RG11_EAC:case Fr.COMPRESSED_SIGNED_RG11_EAC:case Fr.COMPRESSED_RGBA8_ETC2_EAC:case Fr.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:return 1}return 0}let cee=class{constructor(e=0,i=e){this.width=e,this.height=i,this.type=0,this.target=3553,this.pixelFormat=6408,this.dataType=Zk.UNSIGNED_BYTE,this.samplingMode=9729,this.wrapMode=10497,this.maxAnisotropy=1,this.flipped=!1,this.hasMipmap=!1,this.isOpaque=!1,this.unpackAlignment=4,this.preMultiplyAlpha=!1,this.compareEnabled=!1,this.linearFilterDepth=!1,this.depth=1,this.isImmutable=!1}};function ZCe(t){return t.width<=0||t.height<=0||t.depth<=0?0:Math.round(t.width*t.height*t.depth*(t.hasMipmap?4/3:1)*(t.internalFormat==null?4:WCe(t.internalFormat))*(t.target===34067?6:1))}const J0=()=>se.getLogger("esri/views/webgl/textureUtils");function K0(t){const{width:e,height:i,depth:r}=t;(e!=null&&e<0||i!=null&&i<0||r!=null&&r<0)&&J0().error("Negative dimension parameters are not allowed!");const{internalFormat:s}=t;if(s&&(hee(s)||dee(s))){const{linearFilterDepth:n,compareEnabled:o,samplingMode:l,hasMipmap:c}=t;c&&J0().error("Depth textures cannot have mipmaps"),n?l!==9729&&l!==9728&&J0().error("Depth textures cannot sample mipmaps"):(l!==9728&&J0().error("Depth textures without filtering must use NEAREST filtering"),o&&J0().error("Depth textures without filtering cannot use compare function"))}}function YCe(t){return HCe.includes(t)}function hee(t){return eT(T1,t)}function dee(t){return eT(Fx,t)}function JCe(t){return t!=null&&eT(Fr,t)}function am(t){return t!=null&&"type"in t&&t.type==="compressed"}function KCe(t){return t!=null&&"byteLength"in t}function qF(t){return t!=null&&!am(t)&&!KCe(t)}function Pf(t){return t===32879||t===35866}function BF(t,e,i,r=1){let s=Math.max(e,i);return t===32879&&(s=Math.max(s,r)),Math.floor(Math.log2(s))+1}function r2(t){if(t.internalFormat!=null)return t.internalFormat;switch(t.dataType){case Zk.FLOAT:switch(t.pixelFormat){case 6408:return Oe.RGBA32F;case 6407:return Oe.RGB32F;default:throw new B("texture:unknown-format","Unable to derive format")}case Zk.UNSIGNED_BYTE:switch(t.pixelFormat){case 6408:return Oe.RGBA8;case 6407:return Oe.RGB8}}const{pixelFormat:e}=t;return t.internalFormat=e===34041?Fx.DEPTH24_STENCIL8:e===6402?T1.DEPTH_COMPONENT24:e,t.internalFormat}function XCe(t){let e="width"in t?t.width:t.codedWidth,i="height"in t?t.height:t.codedHeight;return t instanceof HTMLVideoElement&&(e=t.videoWidth,i=t.videoHeight),{width:e,height:i,depth:1}}let QCe=class pee extends cee{constructor(e,i){switch(super(),this.context=e,Object.assign(this,i),this.internalFormat){case Oe.R16F:case Oe.R32F:case Oe.R8_SNORM:case Oe.R8:this.pixelFormat=6403;break;case Oe.R8I:case Oe.R8UI:case Oe.R16I:case Oe.R16UI:case Oe.R32I:case Oe.R32UI:this.pixelFormat=36244}}static validate(e,i){return new pee(e,i)}};const eRe=!!q("esri-tests-disable-gpu-memory-measurements"),fl=()=>se.getLogger("esri/views/webgl/Texture");var Ui;let tRe=(Ui=class{constructor(e,i=null,r=null){if(this.type=1,this._glName=null,this._samplingModeDirty=!1,this._wrapModeDirty=!1,this._shadowFilterDirty=!1,this._wasImmutablyAllocated=!1,"context"in e)this._descriptor=e,r=i;else{const s=QCe.validate(e,i);if(!s)throw new B("texture:invalid-descriptor","Texture descriptor invalid");this._descriptor=s}this._descriptor.target===34067?this._setDataCubeMap(r):this.setData(r)}get glName(){return this._glName}get descriptor(){return this._descriptor}get usedMemory(){return eRe?0:ZCe(this._descriptor)}get isDirty(){return this._samplingModeDirty||this._wrapModeDirty||this._shadowFilterDirty}get hasWebGLTextureObject(){return!!this._glName}dispose(){var e;this.abortCompression(),this.hasWebGLTextureObject&&((e=this._descriptor.context)!=null&&e.gl)&&(this._descriptor.context.instanceCounter.decrement(UF.Texture,this),this._descriptor.context.unbindTexture(this),this._descriptor.context.gl.deleteTexture(this._glName),this._glName=null,this._descriptor=null)}release(){this.dispose()}[Symbol.dispose](){this.dispose()}resize(e,i){const r=this._descriptor;if(r.width!==e||r.height!==i){if(this._wasImmutablyAllocated)throw new B("texture:immutable-resize","Immutable textures can't be resized!");r.width=e,r.height=i,this._descriptor.target===34067?this._setDataCubeMap(null):this.setData(null)}}enableCompression(e){this._descriptor.compress=e}disableCompression(){this._descriptor.compress=void 0}setData(e){this.abortCompression(),!am(e)&&this._descriptor.internalFormat&&eT(Fr,this._descriptor.internalFormat)&&(this._descriptor.internalFormat=void 0),this._setData(e),!am(e)&&this._descriptor.compress&&this._compressOnWorker(e)}updateData(e,i,r,s,n,o,l=0){o||fl().error("An attempt to use uninitialized data!"),this.hasWebGLTextureObject||fl().error("An attempt to update uninitialized texture!");const c=this._descriptor;c.internalFormat=r2(c);const{context:d,pixelFormat:m,dataType:v,target:w,isImmutable:_}=c;if(_&&!this._wasImmutablyAllocated)throw new B("texture:uninitialized","Cannot update immutable texture before allocation!");const x=d.bindTexture(this,Ui.TEXTURE_UNIT_FOR_UPDATES,!0);(i<0||r<0||i+s>c.width||r+n>c.height)&&fl().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:T}=d;l&&(s&&n||fl().warn("Must pass width and height if `UNPACK_SKIP_ROWS` is used"),T.pixelStorei(T.UNPACK_SKIP_ROWS,l)),qF(o)?T.texSubImage2D(w,e,i,r,s,n,m,v,o):am(o)?T.compressedTexSubImage2D(w,e,i,r,s,n,c.internalFormat,o.levels[e]):T.texSubImage2D(w,e,i,r,s,n,m,v,o),l&&T.pixelStorei(T.UNPACK_SKIP_ROWS,0),d.bindTexture(x,Ui.TEXTURE_UNIT_FOR_UPDATES)}updateData3D(e,i,r,s,n,o,l,c){c||fl().error("An attempt to use uninitialized data!"),this.hasWebGLTextureObject||fl().error("An attempt to update an uninitialized texture!");const d=this._descriptor;d.internalFormat=r2(d);const{context:m,pixelFormat:v,dataType:w,isImmutable:_,target:x}=d;if(_&&!this._wasImmutablyAllocated)throw new B("texture:uninitialized","Cannot update immutable texture before allocation!");Pf(x)||fl().warn("Attempting to set 3D texture data on a non-3D texture");const T=m.bindTexture(this,Ui.TEXTURE_UNIT_FOR_UPDATES);m.setActiveTexture(Ui.TEXTURE_UNIT_FOR_UPDATES),(i<0||r<0||s<0||i+n>d.width||r+o>d.height||s+l>d.depth)&&fl().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:$}=m;if(am(c))c=c.levels[e],$.compressedTexSubImage3D(x,e,i,r,s,n,o,l,d.internalFormat,c);else{const O=c;$.texSubImage3D(x,e,i,r,s,n,o,l,v,w,O)}m.bindTexture(T,Ui.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){const e=this._descriptor;if(e.width===0||e.height===0)return;if(!e.hasMipmap){if(this._wasImmutablyAllocated)throw new B("texture:immutable-change","Cannot add mipmaps to immutable texture after allocation");e.hasMipmap=!0,this._samplingModeDirty=!0,K0(e)}e.samplingMode===9729?(this._samplingModeDirty=!0,e.samplingMode=9985):e.samplingMode===9728&&(this._samplingModeDirty=!0,e.samplingMode=9984);const i=this._descriptor.context.bindTexture(this,Ui.TEXTURE_UNIT_FOR_UPDATES);this._descriptor.context.setActiveTexture(Ui.TEXTURE_UNIT_FOR_UPDATES),this._descriptor.context.gl.generateMipmap(e.target),this._descriptor.context.bindTexture(i,Ui.TEXTURE_UNIT_FOR_UPDATES)}clearMipmap(){const e=this._descriptor;if(e.hasMipmap){if(this._wasImmutablyAllocated)throw new B("texture:immutable-change","Cannot delete mipmaps to immutable texture after allocation");e.hasMipmap=!1,this._samplingModeDirty=!0,K0(e)}e.samplingMode===9985?(this._samplingModeDirty=!0,e.samplingMode=9729):e.samplingMode===9984&&(this._samplingModeDirty=!0,e.samplingMode=9728)}setSamplingMode(e){e!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=e,this._samplingModeDirty=!0)}setWrapMode(e){e!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=e,K0(this._descriptor),this._wrapModeDirty=!0)}setShadowFiltering(e){e!==this._descriptor.linearFilterDepth&&(this._descriptor.linearFilterDepth=this._descriptor.compareEnabled=e,this.setSamplingMode(e?9729:9728),K0(this._descriptor),this._shadowFilterDirty=!0)}applyChanges(){this._samplingModeDirty&&(this._applySamplingMode(),this._samplingModeDirty=!1),this._wrapModeDirty&&(this._applyWrapMode(),this._wrapModeDirty=!1),this._shadowFilterDirty&&(this._applyShadowMode(),this._shadowFilterDirty=!1)}abortCompression(){this._compressionAbortController=sp(this._compressionAbortController)}_setData(e,i){var c;const r=this._descriptor,s=(c=r.context)==null?void 0:c.gl;if(!s)return;qh(s),this.hasWebGLTextureObject||(this._glName=s.createTexture(),r.context.instanceCounter.increment(UF.Texture,this)),K0(r);const n=r.context.bindTexture(this,Ui.TEXTURE_UNIT_FOR_UPDATES);r.context.setActiveTexture(Ui.TEXTURE_UNIT_FOR_UPDATES),this._configurePixelStorage(),qh(s);const o=i??r.target,l=Pf(o);if(qF(e))this._setDataFromTexImageSource(e,o);else{const{width:d,height:m,depth:v}=r;if(d==null||m==null)throw new B("texture:missing-size","Width and height must be specified!");if(l&&v==null)throw new B("texture:missing-depth","Depth must be specified!");if(r.internalFormat=r2(r),r.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(o,r.internalFormat,r.hasMipmap,d,m,v),am(e)){if(!JCe(r.internalFormat))throw new B("texture:format-mismatch","Attempting to use compressed data with an uncompressed format!");this._setDataFromCompressedSource(e,r.internalFormat,o)}else this._texImage(o,0,r.internalFormat,d,m,v,e),qh(s),r.hasMipmap&&this.generateMipmap()}this._applySamplingMode(),this._applyWrapMode(),this._applyAnisotropicFilteringParameters(),this._applyShadowMode(),qh(s),r.context.bindTexture(n,Ui.TEXTURE_UNIT_FOR_UPDATES)}_setDataCubeMap(e=null){for(let i=34069;i<=34074;i++)this._setData(e,i)}_configurePixelStorage(){const e=this._descriptor.context.gl,{unpackAlignment:i,flipped:r,preMultiplyAlpha:s}=this._descriptor;e.pixelStorei(e.UNPACK_ALIGNMENT,i),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,r?1:0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s?1:0)}_setDataFromTexImageSource(e,i){const{gl:r}=this._descriptor.context,s=this._descriptor;s.internalFormat=r2(s);const n=Pf(i),{width:o,height:l,depth:c}=XCe(e);s.width&&s.height,s.width||(s.width=o),s.height||(s.height=l),n&&s.depth,n&&(s.depth=c),s.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(i,s.internalFormat,s.hasMipmap,o,l,c),this._texImage(i,0,s.internalFormat,o,l,c,e),qh(r),s.hasMipmap&&(this.generateMipmap(),qh(r))}_setDataFromCompressedSource(e,i,r){const s=this._descriptor,{width:n,height:o,depth:l}=s,c=e.levels,d=BF(r,n,o,l),m=Math.min(d,c.length)-1;this._descriptor.context.gl.texParameteri(s.target,33085,m),this._forEachMipmapLevel((v,w,_,x)=>{const T=c[Math.min(v,c.length-1)];this._compressedTexImage(r,v,i,w,_,x,T)},m)}_texStorage(e,i,r,s,n,o){const{gl:l}=this._descriptor.context;if(!YCe(i)&&!hee(i)&&!dee(i))throw new B("texture:missing-format","Immutable textures must have a sized internal format");if(!this._descriptor.isImmutable)return;const c=r?BF(e,s,n,o):1;if(Pf(e)){if(o==null)throw new B("texture:missing-depth","Missing depth dimension for 3D texture upload");l.texStorage3D(e,c,i,s,n,o)}else l.texStorage2D(e,c,i,s,n);this._wasImmutablyAllocated=!0}_texImage(e,i,r,s,n,o,l){const c=this._descriptor.context.gl,d=Pf(e),{isImmutable:m,pixelFormat:v,dataType:w}=this._descriptor;if(m){if(l!=null){const _=l;if(d){if(o==null)throw new B("texture:missing-depth","Missing depth dimension for 3D texture upload");c.texSubImage3D(e,i,0,0,0,s,n,o,v,w,_)}else c.texSubImage2D(e,i,0,0,s,n,v,w,_)}}else{const _=l;if(d){if(o==null)throw new B("texture:missing-depth","Missing depth dimension for 3D texture upload");c.texImage3D(e,i,r,s,n,o,0,v,w,_)}else c.texImage2D(e,i,r,s,n,0,v,w,_)}}_compressedTexImage(e,i,r,s,n,o,l){const c=this._descriptor.context.gl,d=Pf(e);if(this._descriptor.isImmutable){if(l!=null)if(d){if(o==null)throw new B("texture:missing-depth","Missing depth dimension for 3D texture upload");c.compressedTexSubImage3D(e,i,0,0,0,s,n,o,r,l)}else c.compressedTexSubImage2D(e,i,0,0,s,n,r,l)}else if(d){if(o==null)throw new B("texture:missing-depth","Missing depth dimension for 3D texture upload");c.compressedTexImage3D(e,i,r,s,n,o,0,l)}else c.compressedTexImage2D(e,i,r,s,n,0,l)}async _compressOnWorker(e){var x,T,$,O;const{width:i,height:r,context:s,flipped:n,preMultiplyAlpha:o,hasMipmap:l}=this._descriptor,c=(x=this._descriptor.compress)==null?void 0:x.compressionTracker,d=(T=this._descriptor.compress)==null?void 0:T.compressionCallback,{compressedTextureETC:m,compressedTextureS3TC:v}=s.capabilities;if(!(($=Ui.compressionWorkerHandle)!=null&&$.isCompressible(e,this._descriptor))||!m&&!v)return;this.abortCompression();const w=new AbortController;let _;this._compressionAbortController=w,c==null||c.increment();try{e instanceof Uint8Array?_=e.buffer:(_=await createImageBitmap(e,{imageOrientation:n?"flipY":"none"}),Gt(w));const C={data:_,width:i,height:r,needsFlip:e instanceof Uint8Array&&this.descriptor.flipped,components:this._descriptor.pixelFormat===6408?4:3,preMultiplyAlpha:o,hasMipmap:l,hasETC:!!m,hasS3TC:!!v},R=await Ui.compressionWorkerHandle.invoke(C,w.signal,"low");if(Gt(w),R.compressedTexture&&this.hasWebGLTextureObject){const N=this.usedMemory;this._descriptor.internalFormat=R.internalFormat,this._setData(R.compressedTexture),d==null||d(N-this.usedMemory)}}catch(C){Cr(C)||fl().error("Texture compression failed!")}finally{c==null||c.decrement(),(O=this._compressionAbortController)!=null&&O.signal.aborted&&(this._compressionAbortController=null),_ instanceof ImageBitmap&&_.close()}}_forEachMipmapLevel(e,i=1/0){let{width:r,height:s,depth:n,hasMipmap:o,target:l}=this._descriptor;const c=l===32879;if(r==null||s==null||c&&n==null)throw new B("texture:missing-size","Missing texture dimensions for mipmap calculation");for(let d=0;e(d,r,s,n),o&&(r!==1||s!==1||c&&n!==1)&&!(d>=i);++d)r=Math.max(1,r>>1),s=Math.max(1,s>>1),c&&(n=Math.max(1,n>>1))}_applySamplingMode(){var n;const e=this._descriptor,i=(n=e.context)==null?void 0:n.gl;let r=e.samplingMode,s=e.samplingMode;r===9985||r===9987?(r=9729,e.hasMipmap||(s=9729)):r!==9984&&r!==9986||(r=9728,e.hasMipmap||(s=9728)),i.texParameteri(e.target,i.TEXTURE_MAG_FILTER,r),i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,s)}_applyWrapMode(){var r;const e=this._descriptor,i=(r=e.context)==null?void 0:r.gl;typeof e.wrapMode=="number"?(i.texParameteri(e.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(e.target,i.TEXTURE_WRAP_T,e.wrapMode)):(i.texParameteri(e.target,i.TEXTURE_WRAP_S,e.wrapMode.s),i.texParameteri(e.target,i.TEXTURE_WRAP_T,e.wrapMode.t))}_applyShadowMode(){var s;const e=this._descriptor,i=(s=e.context)==null?void 0:s.gl,r=e.compareEnabled?i.COMPARE_REF_TO_TEXTURE:i.NONE;i.texParameteri(e.target,i.TEXTURE_COMPARE_MODE,r),e.compareEnabled&&i.texParameteri(e.target,i.TEXTURE_COMPARE_FUNC,i.GREATER),qh(i)}_applyAnisotropicFilteringParameters(){const e=this._descriptor,i=e.context.capabilities.textureFilterAnisotropic;i&&e.context.gl.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY,e.maxAnisotropy??1)}},Ui.TEXTURE_UNIT_FOR_UPDATES=0,Ui.compressionWorkerHandle=null,Ui);const aE=()=>se.getLogger("esri.views.2d.engine.webgl.painter.highlight.HighlightGradient");function iRe(t,e){e.fillColor[0]=t.color.r/255,e.fillColor[1]=t.color.g/255,e.fillColor[2]=t.color.b/255,e.fillColor[3]=t.color.a,t.haloColor?(e.outlineColor[0]=t.haloColor.r/255,e.outlineColor[1]=t.haloColor.g/255,e.outlineColor[2]=t.haloColor.b/255,e.outlineColor[3]=t.haloColor.a):(e.outlineColor[0]=e.fillColor[0],e.outlineColor[1]=e.fillColor[1],e.outlineColor[2]=e.fillColor[2],e.outlineColor[3]=e.fillColor[3]),e.fillColor[3]*=t.fillOpacity,e.outlineColor[3]*=t.haloOpacity,e.fillColor[0]*=e.fillColor[3],e.fillColor[1]*=e.fillColor[3],e.fillColor[2]*=e.fillColor[3],e.outlineColor[0]*=e.outlineColor[3],e.outlineColor[1]*=e.outlineColor[3],e.outlineColor[2]*=e.outlineColor[3],e.outlineWidth=(1-t.haloBlur)*t.haloWidth,e.outerHaloWidth=t.haloBlur*t.haloWidth/2,e.innerHaloWidth=t.haloBlur*t.haloWidth/2,e.outlinePosition=0}const rRe=[0,0,0,0];let fee=class{constructor(){this.type="single",this._highlightOptions=new jc,this._convertedHighlightOptions={fillColor:[0,0,0,0],outlineColor:[0,0,0,0],outlinePosition:0,outlineWidth:0,innerHaloWidth:0,outerHaloWidth:0},this._optionsShadeTexKey="",this._texelData=new Uint8Array(4*Y0),this._minMaxDistance=[0,0]}setHighlightOptions(e){this._highlightOptions=e}applyHighlightOptions(e,i){this._updateGradientTexture(e),e.bindTexture(this._shadeTex,FCe),i.setUniform2fv("u_minMaxDistance",this._minMaxDistance)}destroy(){var e;(e=this._shadeTex)==null||e.dispose(),this._shadeTex=null}getReasonsWithGradients(){return[{activeReasons:(1<<oee)-1,activeGradient:this}]}_updateGradientTexture(e){const i=sRe(this._highlightOptions);if(i===this._optionsShadeTexKey)return;this._optionsShadeTexKey=i,iRe(this._highlightOptions,this._convertedHighlightOptions);const r=this._convertedHighlightOptions,s=r.outlinePosition-r.outlineWidth/2-r.outerHaloWidth,n=r.outlinePosition-r.outlineWidth/2,o=r.outlinePosition+r.outlineWidth/2,l=r.outlinePosition+r.outlineWidth/2+r.innerHaloWidth,c=Math.sqrt(Math.PI/2)*BCe,d=Math.abs(s)>c?Math.round(10*(Math.abs(s)-c))/10:0,m=Math.abs(l)>c?Math.round(10*(Math.abs(l)-c))/10:0;let v;d&&!m?aE().error("The outer rim of the highlight is "+d+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards positive values (inwards)."):!d&&m?aE().error("The inner rim of the highlight is "+m+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards negative values (outwards)."):d&&m&&aE().error("The highlight is "+Math.max(d,m)+"px away from the edge of the feature; consider reducing some width values.");const w=[void 0,void 0,void 0,void 0];function _(T,$,O){w[0]=(1-O)*T[0]+O*$[0],w[1]=(1-O)*T[1]+O*$[1],w[2]=(1-O)*T[2]+O*$[2],w[3]=(1-O)*T[3]+O*$[3]}const{_texelData:x}=this;for(let T=0;T<Y0;++T)v=s+T/(Y0-1)*(l-s),v<s?(w[0]=0,w[1]=0,w[2]=0,w[3]=0):v<n?_(rRe,r.outlineColor,(v-s)/(n-s)):v<o?[w[0],w[1],w[2],w[3]]=r.outlineColor:v<l?_(r.outlineColor,r.fillColor,(v-o)/(l-o)):[w[0],w[1],w[2],w[3]]=r.fillColor,x[4*T]=255*w[0],x[4*T+1]=255*w[1],x[4*T+2]=255*w[2],x[4*T+3]=255*w[3];if(this._minMaxDistance[0]=s,this._minMaxDistance[1]=l,!this._shadeTex){const T=new cee(Y0,1);T.wrapMode=33071,this._shadeTex=new tRe(e,T)}this._shadeTex.updateData(0,0,0,Y0,1,this._texelData)}};function sRe(t){return`${t.color};${t.haloColor};${t.haloOpacity};${t.fillOpacity};${t.haloWidth};${t.haloBlur}`}let nRe=class{constructor(){this.type="multi",this.gradients=[]}setHighlightOptions(e){for(let i=0;i<e.length;i++)this.gradients[i]||(this.gradients[i]=new fee),this.gradients[i].setHighlightOptions(e[i]);for(let i=e.length+1;i<this.gradients.length;i++)this.gradients[i].destroy();this.gradients.length=e.length}destroy(){for(const e of this.gradients)e.destroy()}getReasonsWithGradients(){let e=1;const i=[];for(let r=0;r<this.gradients.length;r++){const s=this.gradients[r];i.push({activeReasons:e,activeGradient:s}),e<<=1}return i}};const mee={color:{write:[!0,!0,!0,!0],blendMode:"composite"},depth:!1,stencil:{write:!1,test:{compare:514,mask:255,op:{fail:7680,zFail:7680,zPass:7681}}}},oRe={color:{write:[!0,!0,!0,!0],blendMode:"additive"},depth:!1,stencil:!1},aRe={...mee,color:{write:[!0,!0,!0,!0],blendMode:"delete"}};function lRe({pixelRatio:t,state:e,displayLevel:i,requiredLevel:r},s){const n=1/2**(i-s.key.level),o=1/2**(r-s.key.level);return{displayMat3:e.displayMat3,displayViewMat3:e.displayViewMat3,displayViewScreenMat3:s.transforms.displayViewScreenMat3,viewMat3:e.viewMat3,tileMat3:s.transforms.tileMat3,displayZoomFactor:n,requiredZoomFactor:o,tileOffset:[s.x,s.y],currentScale:e.scale,currentZoom:i,metersPerSRUnit:co(e.spatialReference),rotation:e.rotation,pixelRatio:t}}function yee(t){var e;return((e=t.passOptions)==null?void 0:e.type)==="highlight"}function gee(t){var e;return((e=t.passOptions)==null?void 0:e.type)==="hittest"}function uRe(t){if(!gee(t))return null;const{position:e,distance:i,smallSymbolDistance:r,smallSymbolSizeThreshold:s}=t.passOptions;return{position:e,distance:i,smallSymbolDistance:r,smallSymbolSizeThreshold:s}}function cRe(t){if(!yee(t))return null;const{activeReasons:e,highlightAll:i}=t.passOptions;return{activeReasons:e,highlightAll:i?1:0}}function Fqe(t,e,i){const r={};for(const s in i)typeof i[s]!="function"?r[s]=i[s]:r[s]=i[s](t,e);return r}function zqe(t,e){const{attributeView:i,context:r}=t;return{storage:i.getUniforms(r),view:lRe(t,e),hittestRequest:uRe(t),highlight:cRe(t)}}function Uqe(t){return{inside:t.selection===2,outside:t.selection===3}}function hRe(t){return gee(t)?oRe:yee(t)&&t.passOptions.stepType==="clear"?aRe:mee}function qqe(t){const{row:e,col:i}=t.key,r=i*zF,s=e*zF;return{tileOffsetFromLocalOrigin:[r%i2,s%i2],maxIntsToLocalOrigin:[Math.floor(r/i2),Math.floor(s/i2)]}}const dRe=new ct({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch",mesh:"mesh"});function Bqe(t){return dRe.toJSON(t)}function Gqe(t){const{bandCount:e,attributeTable:i,colormap:r,pixelType:s}=t.raster.rasterInfo;return e===1&&(i!=null||r!=null||s==="u8"||s==="s8")}function pRe(t,e){return e==null?(t==null||t.destroy(),null):((t==null?void 0:t.type)==="single"&&Array.isArray(e)&&(t.destroy(),t=null),(t==null?void 0:t.type)!=="multi"||Array.isArray(e)||(t.destroy(),t=null),t||(t=Array.isArray(e)?new nRe:new fee),Array.isArray(e)?t.type==="multi"&&t.setHighlightOptions(e):t.type==="single"&&t.setHighlightOptions(e),t)}function Hqe(t,e,i,r){const{painter:s,highlightGradient:n}=t,{highlight:o}=s.effects;if(!n)return;const l=t.passOptions,c=n.getReasonsWithGradients();for(let d=0;d<c.length;d++){const m={...t,passOptions:{type:"highlight",activeGradient:c[d].activeGradient,activeReasons:c[d].activeReasons,stepType:"burn",highlightAll:e}};if(o.bind(m),i(m),d<c.length-1){let w=0;for(let _=d+1;_<c.length;_++)w|=c[_].activeReasons;i({...t,passOptions:{type:"highlight",activeGradient:c[d].activeGradient,activeReasons:w,stepType:"clear",highlightAll:e}})}const v={...t,passOptions:{type:"highlight",activeGradient:c[d].activeGradient,activeReasons:c[d].activeReasons,stepType:"draw",highlightAll:e}};s.setPipelineState(hRe(t)),s.updatePipelineState(t.context),o.draw(v),o.unbind()}t.passOptions=l}const s2=t=>parseFloat(t)/100;function fRe(t,e,i){const r=typeof t.left=="string"?s2(t.left)*e:t.left,s=typeof t.right=="string"?s2(t.right)*e:t.right,n=typeof t.top=="string"?s2(t.top)*i:t.top,o=typeof t.bottom=="string"?s2(t.bottom)*i:t.bottom,l=n;return{xmin:r,xmax:Math.max(e-s,r),ymin:l,ymax:Math.max(i-o,n)}}function vee(t,e,i,r){switch(e.type){case"rect":{const{width:s,height:n}=t,{xmin:o,xmax:l,ymin:c,ymax:d}=fRe(e,s,n),{x:m,y:v}=i;return m>o&&m<l&&v>c&&v<d}case"path":return e.path.length===0||!Array.isArray(e.path[0][0])||WR(e.path,[i.x,i.y]);case"geometry":return e.geometry==null||(e.geometry.type==="polygon"?HR(e.geometry,r):Iw(e.geometry,r))}}function mRe(t){if(!t.highlights)return null;const e=t.highlights.findIndex(i=>i.name==="default");return e===-1?null:t.highlights.items[e]}function yRe(t,e){if(!t.highlights){if(!e)return;t.highlights=new ge([new jc])}const i=t.highlights.findIndex(r=>r.name==="default");e?t.highlights.items[i].assignFrom(e):(t.highlights.removeAt(i),t.highlights.length===0&&(t.highlights=null))}async function gRe(t,e,i){const r=QX(e)?XX(t,e):e;if(!t.ready||isNaN(r.x)||isNaN(r.y))return{screenPoint:r,results:[]};let s=new Set;const n=new Set;let o=!1,l=null,c=null;i!=null&&i.include?HF(i.include,GF(t,w=>{s.add(w),lE(w,_=>n.add(_))},(w,_)=>{n.add(w),s.add(_)},w=>{l||(l=new Set),l.add(w)},w=>s.add(w),()=>o=!0)):(o=!0,s=new Set(t.allLayerViews),s.forEach(w=>{lE(w,_=>n.add(_))})),i!=null&&i.exclude&&HF(i.exclude,GF(t,w=>{s.delete(w),lE(w,_=>n.delete(_))},w=>n.delete(w),w=>{c||(c=new Set),c.add(w)}));const d=t.toMap(r),m=t.allLayerViews.filter(w=>!w.suspended&&s.has(w)&&w.clips.every(_=>vee(t,_,r,d))).reverse();let v=[...o?t.graphicsView.hitTest(d).map(w=>({type:"graphic",graphic:w,layer:null,mapPoint:d})):[],...await Promise.all(m.map(w=>w.hitTest(d,r)).toArray())].filter(qc).flat().filter(qc);return v=v.filter(w=>{var _;return w.type!=="graphic"||((_=w.layer)==null?void 0:_.type)!=="subtype-group"||n.has(w.graphic.layer)}),l&&(v=v.filter(w=>!("graphic"in w)||!w.graphic||(l==null?void 0:l.has(Yk(w.graphic))))),c&&(v=v.filter(w=>!("graphic"in w)||!w.graphic||!(c!=null&&c.has(Yk(w.graphic))))),{screenPoint:r,results:v}}function GF(t,e,i,r,s,n){return o=>{if(o instanceof er){if(o.layer===t)n==null||n();else{const l=t.allLayerViews.find(c=>c.layer===o.layer);l&&(s==null||s(l))}r(Yk(o))}else if(!("layer"in o&&"element"in o))if(o.type==="subtype-sublayer"){const l=t.allLayerViews.find(c=>c.layer===o.parent);l&&i(o,l)}else{const l=t.allLayerViews.find(c=>c.layer===o);l&&e(l)}}}function HF(t,e){if(t)if(LS(t))for(const i of t)if(LS(i))for(const r of i)e(r);else e(i);else e(t)}function Yk(t){var i,r;const e=t.getObjectId();return e?`${((i=t.layer)==null?void 0:i.uid)??((r=t.sourceLayer)==null?void 0:r.uid)??"MapView"}/${e}`:`"MapView/${t.uid}`}function lE(t,e){const i=t.layer;(i==null?void 0:i.type)==="subtype-group"&&i.sublayers.forEach(r=>{e(r)})}let X0=null,zx=!0;function vRe(t,e,i){if(!t||!e)throw new Error("Cannot construct image data without dimensions");if(zx)try{return new ImageData(t,e)}catch{zx=!1}return wee(t,e,i)}function Wqe(t,e,i,r){if(!e||!i)throw new Error("Cannot construct image data without dimensions");if(zx)try{return new ImageData(t,e,i)}catch{zx=!1}const s=wee(e,i,r);return s.data.set(t,0),s}function wRe(){return X0||(X0=document.createElement("canvas"),X0.width=1,X0.height=1),X0}function wee(t,e,i){return i||(i=wRe()),i.getContext("2d").createImageData(t,e)}async function bRe(t,e){const i=window.URL.createObjectURL(t);try{const{data:r}=await Bt(i,{...e,responseType:"image"});return r}catch(r){throw Cr(r)?r:new B("invalid-image",`Could not fetch requested image at ${i}`)}finally{window.URL.revokeObjectURL(i)}}async function Zqe(t,e){const{arrayBuffer:i,mediaType:r}=await _Re(t,e),s=r==="image/png";if(r==="image/gif"){const{isAnimatedGIF:n,parseGif:o}=await re(()=>import("./gif-3H_XQEwg.js"),[]);if(n(i))return o(i,e)}if(s){const{isAnimatedPNG:n,parseApng:o}=await re(()=>import("./apng-CFgISpGz.js"),__vite__mapDeps([321,40]));if(n(i))return o(i,e)}return bRe(new Blob([i],{type:r}),e)}async function _Re(t,e){var s;const i=Dy(t);if(i!=null&&i.isBase64)return{arrayBuffer:IW(i.data),mediaType:i.mediaType};const r=await Bt(t,{responseType:"array-buffer",...e});return{arrayBuffer:r.data,mediaType:((s=r.getHeader)==null?void 0:s.call(r,"Content-Type"))??""}}function bee(t,e,i){const{ctx:r,canvas:s}=See(t,i),n=r.getImageData(0,0,t.width,t.height),o=Tee(s,e);return xee(s),{dataUrl:o,data:n}}function _ee(t,e){const{ctx:i,canvas:r}=See(t,e),s=i.getImageData(0,0,t.width,t.height);return xee(r),s}function See(t,e){const i=SRe();e.premultipliedAlpha&&MRe(t),i.width=t.width,i.height=t.height;const r=i.getContext("2d",{willReadFrequently:!0});return r.putImageData(t,0,0),e.flipY&&$Re(r),{ctx:r,canvas:i}}function xee(t){t.width=0,t.height=0}function SRe(){return uE==null&&(uE=document.createElement("canvas")),uE}let uE=null;function Tee(t,e){const i=ERe[e.format],r=e.quality/100;return t.toDataURL(i,r)}function $ee(t,e){const i=TRe(t),r=ORe[i];return{format:i,quality:_n(e??r,0,100)}}function Mee(t,e){return e/Math.max(t[0],t[1])}function xRe(t,e,i,r=0,s=0,n=t.width-r,o=t.height-s,l=!1){const{data:c}=t,{width:d,height:m,data:v}=e,w=n/d,_=o/m,x=Math.ceil(w/2),T=Math.ceil(_/2),$=t.width;for(let O=0;O<m;O++)for(let C=0;C<d;C++){const R=4*(C+(l?m-O-1:O)*d);let N=0,j=0,z=0,ee=0,Q=0,J=0;const te=(O+.5)*_;for(let pe=Math.floor(O*_);pe<(O+1)*_;pe++){const ye=Math.abs(te-(pe+.5))/T,Xe=(C+.5)*w,Ce=ye*ye;for(let pt=Math.floor(C*w);pt<(C+1)*w;pt++){const fe=Math.abs(Xe-(pt+.5))/x,ve=Math.sqrt(Ce+fe*fe);if(ve>=1)continue;let de=2*ve*ve*ve-3*ve*ve+1;const We=4*(r+pt+(s+pe)*$);J+=de*c[We+3],j+=de,!i&&c[We+3]<255&&(de=de*c[We+3]/255),z+=de*c[We],ee+=de*c[We+1],Q+=de*c[We+2],N+=de}}v[R]=z/N,v[R+1]=ee/N,v[R+2]=Q/N,v[R+3]=J/j}return e}function TRe(t){switch(t){case"png":case"jpg":case"jpeg":return t;default:return ARe}}function $Re(t){t.save(),t.globalCompositeOperation="copy",t.scale(1,-1),t.translate(0,-t.canvas.height),t.drawImage(t.canvas,0,0),t.restore()}function MRe(t){const e=t.data,i=e.length;for(let r=0;r<i;r+=4){const s=e[r+3];if(s!==255&&s>0){const n=255/s;e[r]=e[r]*n,e[r+1]=e[r+1]*n,e[r+2]=e[r+2]*n}}}const ERe={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},WF=98,ARe="png",ORe={png:100,jpg:WF,jpeg:WF},Yqe=Object.freeze(Object.defineProperty({__proto__:null,createEmptyImageData:vRe,encode:bee,encodeData:_ee,getFormatAndQuality:$ee,getMaximumResolutionScale:Mee,resampleHermite:xRe,toDataUrl:Tee},Symbol.toStringTag,{value:"Module"})),Eee={flipY:!0,premultipliedAlpha:!0};async function kRe(t,e){const i=await Aee(t,e),{format:r,quality:s}=$ee(e==null?void 0:e.format,e==null?void 0:e.quality);return bee(i,{format:r,quality:s},Eee)}async function CRe(t,e){const i=await Aee(t,e);return _ee(i,Eee)}function Aee(t,e){const i=PRe(e||{},IRe(t.stage,t.size),t.size,t.padding),r=RRe(e,t.allLayerViews);return t.stage.takeScreenshot(i,r,t.backgroundColor,e==null?void 0:e.rotation)}function RRe(t={},e){if(!t.layers)return;const i=[];return t.layers.forEach(r=>{const s=e.find(n=>n.layer.id===r.id);s!=null&&s.container&&i.push(s.container)}),i}function IRe(t,e){return Math.min(4,Mee(e,Math.min(4096,t.context.parameters.maxTextureSize)))}function PRe(t,e,i,r){t.ignorePadding&&(r={left:0,right:0,top:0,bottom:0});let s=null;t.width!=null&&t.height!=null?s=[t.width,t.height]:t.width==null&&t.height!=null?s=[t.height,t.height]:t.width!=null&&t.height==null?s=[t.width,t.width]:t.width==null&&t.height==null&&(s=null);const n=i[0]-(r.left+r.right),o=i[1]-(r.top+r.bottom);let l,c,d=t.area||{x:0,y:0,width:n,height:o};if(s){const m=n/o,v=s[0]/s[1];if(v>m){const w=d.width/v;d={x:d.x,y:Math.round(d.y+(d.height-w)/2),width:d.width,height:Math.round(w)}}else{const w=d.height*v;d={x:Math.round(d.x+(d.width-w)/2),y:d.y,width:Math.round(w),height:d.height}}}else s=[d.width,d.height];return s[0]>d.width?(l=Math.min(s[0]/d.width,e),c=s[0]/d.width/l):(l=1,c=s[0]/d.width),{cropArea:{x:Math.round((d.x+r.left)*l),y:Math.round((d.y+r.top)*l),width:Math.round(d.width*l),height:Math.round(d.height*l)},outputScale:c,resolutionScale:l}}const jRe=t=>t.includes("Brush");let Oee=class{constructor(){this._names=new Map}begin(e){this._names.has(e)||(this._names.set(e,!1),jRe(e)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${e}.Start`))}end(e){this._names.has(e)&&!this._names.get(e)&&(this._names.set(e,!0),performance.mark(`Esri.${e}.End`))}record(e){this._names.has(e)||(this._names.set(e,!0),performance.mark(`Esri.${e}`))}};const ZF=Symbol("analyses-owner-handles");let ac=class extends $e{constructor(e){super(e),this._allAnalysisViews=new ge,this._creatingViewCount=0,this._attachedToViewResolver=YF(),this._items=new Map,this._moduleMap=new Map,this._scheduledUpdateHandle=null,this._emitOnView=(i,r)=>this.view.emit(i,r)}destroy(){this._disconnectOwners(),this._attachedToViewResolver.reject($t("AnalysisViewManager was destroyed")),this._set("view",null)}attach(){this._connectOwners(),this._attachedToViewResolver.resolve()}detach(){this._disconnectOwners(),this._attachedToViewResolver.reject($t()),this._attachedToViewResolver=YF()}get updating(){return!this.view.ready||this._creatingViewCount!==0||this._allAnalysisViews.some(e=>e.updating)}get testInfo(){}async whenAnalysisView(e){await this._attachedToViewResolver.promise;const i=this._items.get(e);if(i==null||i.state.list===1)throw new B("AnalysisViewManager:no-analysis-view-for-analysis","The analysis does not exist in view.analyses",{analysis:e});return i.createAnalysisViewTask.promise}_connectOwners(){this.addHandles(this._connectAnalysesCollection(this.view.analyses),ZF)}_disconnectOwners(){this.removeHandles(ZF),this._update(),this._creatingViewCount=0}_connectAnalysesCollection(e){for(const s of e)this._addAnalysis(s);const i=e.on("after-add",s=>this._addAnalysis(s.item)),r=e.on("after-remove",s=>this._removeAnalysis(s.item));return at(()=>{i.remove(),r.remove();for(const s of e)this._removeAnalysis(s)})}_addAnalysis(e){const i=this._items.get(e);if(i==null){const r={state:{view:0,list:0},analysis:e,view:null,createAnalysisViewTask:null};this._items.set(e,r),r.createAnalysisViewTask=LT(s=>this._createAnalysisViewPromise(r,s).then(n=>(this._emitOnView("analysis-view-create",{analysis:e,analysisView:n}),n),n=>{throw this._emitOnView("analysis-view-create-error",{analysis:e,error:n}),n}))}else i.state.list=0}_removeAnalysis(e){const i=this._items.get(e);i!=null?(i.state.list=1,this._scheduleUpdate()):se.getLogger(this).error("Trying to remove analysis which was not added")}_scheduleUpdate(){this._scheduledUpdateHandle==null&&(this._scheduledUpdateHandle=lg(()=>this._update()))}_update(){this._scheduledUpdateHandle=Dt(this._scheduledUpdateHandle),this._items.forEach(e=>{if(e.state.list!==1)return;const{analysis:i,view:r}=e;switch(this._items.delete(i),e.state.view){case 0:e.createAnalysisViewTask=sp(e.createAnalysisViewTask);break;case 1:r!=null&&(this._allAnalysisViews.remove(r),e.view=ti(r),e.createAnalysisViewTask=null,this._emitOnView("analysis-view-destroy",{analysis:i,analysisView:r}))}})}async _createAnalysisViewPromise(e,i){const{analysis:r}=e;if(this._creatingViewCount+=1,!this._moduleMap.has(r.type))try{this._moduleMap.set(r.type,await this.importAnalysisViewModule(r))}catch{throw this._creatingViewCount-=1,new B("AnalysisViewManager:no-analysis-view-for-analysis",`Analysis of type "${r.type}" is not supported`)}if(Kr(i))throw this._creatingViewCount-=1,$t("AnalysisView creation aborted");const s=new(this._moduleMap.get(r.type)).default({analysis:r,view:this.view});let n=!0;ao(i,()=>{n&&this._destroyAnalysisView(r,s)});try{await s.when()}catch(o){throw n=!1,this._destroyAnalysisView(r,s),o}if(Kr(i))throw $t();return n=!1,e.view=s,e.state.view=1,this._allAnalysisViews.add(s),this._creatingViewCount-=1,s}_destroyAnalysisView(e,i){i.destroyed||(this._creatingViewCount-=1,i.destroy(),this._emitOnView("analysis-view-destroy",{analysis:e,analysisView:i}))}};h([f()],ac.prototype,"updating",null),h([f({constructOnly:!0})],ac.prototype,"importAnalysisViewModule",void 0),h([f({constructOnly:!0})],ac.prototype,"view",void 0),h([f()],ac.prototype,"_allAnalysisViews",void 0),h([f()],ac.prototype,"_creatingViewCount",void 0),ac=h([I("esri.views.support.AnalysisViewManager")],ac);const NRe=ac;function YF(){const t=bn();return t.promise.catch(()=>{}),t}let DRe=class{constructor(e){this.getUnmaskedRenderer=e}};function LRe(t){const e=t.getExtension("WEBGL_debug_renderer_info");return e?new DRe(()=>t.getParameter(e.UNMASKED_RENDERER_WEBGL)):null}let JF;function VRe(){return JF??(JF=URe()),JF}let FRe=class{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1,this.unmaskedRenderer="unloaded"}};function zRe(t){var s;if(typeof WebGL2RenderingContext>"u")return null;const e=document.createElement("canvas");if(!e)return null;let i=e.getContext("webgl2",{failIfMajorPerformanceCaveat:!0});if(i==null&&(i=e.getContext("webgl2"),i!=null&&(t.majorPerformanceCaveat=!0,t.unmaskedRenderer=((s=LRe(i))==null?void 0:s.getUnmaskedRenderer())??"unknown")),i==null)return i;t.available=!0,t.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),t.supportsVertexShaderSamplers=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const r=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT);return r&&(t.supportsHighPrecisionFragment=r.precision>0),i}function URe(){const t=new FRe,e=zRe(t);return e==null||(t.supportsColorBufferFloat=e.getExtension("EXT_color_buffer_float")!==null,t.supportsColorBufferFloatBlend=e.getExtension("EXT_float_blend")!==null,t.supportsColorBufferHalfFloat=t.supportsColorBufferFloat||e.getExtension("EXT_color_buffer_half_float")!==null),t}function qRe(t){const e=VRe();return e.available?t==="3d"&&e.majorPerformanceCaveat?new B("webgl:major-performance-caveat-detected",`Your WebGL implementation (${e.unmaskedRenderer}) doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.`):e.supportsHighPrecisionFragment?e.supportsVertexShaderSamplers?null:new B("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new B("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new B("webgl:required","WebGL2 is required but not supported.",new Error().stack)}function BRe(t){return t&&"nodeType"in t}function GRe(t){return t&&typeof t.render=="function"}const KF={component:"esri-component"};let pd=class extends $e{constructor(){super(...arguments),this.widget=null}destroy(){var e;this.node=null,(e=this.widget)==null||e.destroy()}get id(){var e,i;return this._get("id")??((e=this.widget)==null?void 0:e.id)??((i=this.node)==null?void 0:i.id)}set id(e){this._set("id",e)}set node(e){const i=this._get("node");e!==i&&(e&&e.classList.add(KF.component),i&&i.classList.remove(KF.component),this._set("node",e))}castNode(e){var i;return(i=this.widget)==null||i.destroy(),e?typeof e=="string"||BRe(e)?(this._set("widget",null),z6(e)):(GRe(e)&&!e.domNode&&(e.domNode=document.createElement("div")),this._set("widget",e),e.domNode):(this._set("widget",null),null)}};h([f()],pd.prototype,"id",null),h([f()],pd.prototype,"node",null),h([Ot("node")],pd.prototype,"castNode",null),h([f({readOnly:!0})],pd.prototype,"widget",void 0),pd=h([I("esri.views.ui.Component")],pd);const _S=pd,HRe=(t,e)=>{let i=t;for(;i;){if(i===e)return!0;if(!i.parentNode)return!1;i.parentNode instanceof ShadowRoot?i=i.parentNode.host:i=i.parentNode}return!1},tBe=(t,e,i)=>{const r=WRe(e).subscribe;return r(s=>{s.some(o=>HRe(t,o.target))&&i()})},cE={},WRe=t=>{const e=t.join(","),i=cE[e];if(i!==void 0)return i;const r=new Set,s=new MutationObserver(o=>r.forEach(l=>l(o)));globalThis.document&&s.observe(document.documentElement,{attributes:!0,attributeFilter:t,subtree:!0});const n={subscribe:o=>(r.add(o),()=>{r.delete(o),r.size===0&&(s.disconnect(),cE[e]=void 0)})};return cE[e]=n,n},kee=(t,e)=>{var r,s;let i=t;for(;i;){const n=(r=i.closest)==null?void 0:r.call(i,e);if(n)return n;const o=(s=i.getRootNode)==null?void 0:s.call(i);if(o===globalThis.document)return;i=o.host}};function ZRe(t){const e=kee(t,".calcite-mode-dark, .calcite-mode-light, .calcite-mode-auto");return e!=null&&e.classList.contains("calcite-mode-dark")||e!=null&&e.classList.contains("calcite-mode-auto")&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}const iBe=(t,e,i)=>{const r=kee(t,`[${e}]`);return(r==null?void 0:r.getAttribute(e))??i},YRe="--esri-calcite-mode-name";function JRe(){const t=getComputedStyle(document.body).getPropertyValue(YRe).replaceAll(/\W/g,"").toLowerCase();return t==="dark"||t==="light"?t:void 0}const Cee="calcite-mode-";function Ree(t){return JRe()??ZRe(t??document.body)}function rBe(t){return Ree(t)==="dark"}function KRe(t){return`${Cee}${Ree(t)}`}function XRe(t){const e=KRe(t);QRe(t),t.classList.add(e)}function QRe(t){Array.from(t.classList).forEach(e=>{e.startsWith(Cee)&&t.classList.remove(e)})}const t3=new Map;function Iee(){t3.clear()}function e6e(t){return t3.get(t)}function t6e(t,e){t3.set(t,e)}function hE(t){t3.delete(t)}function i6e(...t){const e=hs.acquire();for(let r=0;r<t.length;r++){const s=t[r],n=typeof s;if(n==="string")e.push(s);else if(Array.isArray(s))e.push.apply(e,s);else if(n==="object")for(const o in s)s[o]&&e.push(o)}const i=e.join(" ");return hs.release(e),i}(()=>{const t=new Map,e=new ResizeObserver(r=>{var s;Iee();for(const n of r)(s=t.get(n.target))==null||s(n)}),i=(r,s,n)=>(t.set(r,s),e.observe(r,n),at(()=>{e.unobserve(r),t.delete(r)}));return(r,s,n)=>{let o=null;return Sp([Le(()=>typeof r=="function"?r():r,l=>{o==null||o.remove(),l&&(o=i(l,s,n))},qr),at(()=>o==null?void 0:o.remove())])}})();function r6e(t){const e=t==null?void 0:t.closest("[dir]");return e!==null&&e instanceof HTMLElement&&e.dir==="rtl"||document.dir==="rtl"}function sBe(t){const e="data-node-ref";this[t.getAttribute(e)]=null}function nBe(t){const e="data-node-ref";this[t.getAttribute(e)]=t}function s6e(t){return t==="Enter"||t===" "}async function n6e(t,e){await Bhe(Sw(e));const i=typeof t=="function"?t():t;i&&("setFocus"in i&&typeof i.setFocus=="function"?await i.setFocus():i instanceof HTMLElement&&i.focus())}const o6e={left:0,top:0,bottom:0,right:0},Pee={bottom:30,top:15,right:15,left:15},ml="esri-ui",Ms={ui:ml,corner:`${ml}-corner`,innerContainer:`${ml}-inner-container`,manualContainer:`${ml}-manual-container`,cornerContainer:`${ml}-corner-container`,topLeft:`${ml}-top-left`,topRight:`${ml}-top-right`,bottomLeft:`${ml}-bottom-left`,bottomRight:`${ml}-bottom-right`};function a6e(t){return t&&!t._started&&typeof t.postMixInProperties=="function"&&typeof t.buildRendering=="function"&&typeof t.postCreate=="function"&&typeof t.startup=="function"}function n2(t){return t===0?"0":`${t}px`}function dE(t){const e=typeof t=="object"&&t!==null&&Object.getPrototypeOf(t);return(e===null||e===Object.prototype)&&("component"in t||"index"in t||"position"in t)?t:null}function pE(t,{top:e,bottom:i,left:r,right:s}){t.style.top=e,t.style.bottom=i,t.style.left=r,t.style.right=s}let _a=class extends hg{constructor(e){super(e),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentMap=new Map,this._removeWidgetHandleKey=Symbol("componentOnRemoveSymbol"),this._locale=Bs(),this.view=null,this._applyViewPadding=()=>{const i=this.container;i&&pE(i,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const i=this._innerContainer;i&&pE(i,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([Le(()=>{var e;return[(e=this.view)==null?void 0:e.padding,this.container]},this._applyViewPadding,Qr),Le(()=>this.padding,this._applyUIPadding,Qr),Le(()=>[this.container,this._locale],([e,i])=>{e&&e.setAttribute("lang",i)},Qr),qH(e=>{this._locale=e})])}destroy(){this.removeAllHandles(),this.container=null;for(const e of this._components)e.destroy();this._components.length=0,this._componentMap.clear(),this.view=null,this._set("view",null)}set container(e){const i=this._get("container");e!==i&&(e&&(e.classList.add(Ms.ui),XRe(e),this._attachContainers(e)),i&&(i.classList.remove(Ms.ui),pE(i,{top:"",bottom:"",left:"",right:""}),i.textContent=""),this._set("container",e))}get height(){var n;const e=((n=this.view)==null?void 0:n.height)??0;if(e===0)return e;const i=this._getViewPadding(),{top:r,bottom:s}=i;return Math.max(e-r-s,0)}get padding(){return this._get("padding")}set padding(e){this._overrideIfSome("padding",e)}castPadding(e){return typeof e=="number"?{bottom:e,top:e,right:e,left:e}:{...Pee,...e}}get width(){var n;const e=((n=this.view)==null?void 0:n.width)??0;if(e===0)return e;const i=this._getViewPadding(),{left:r,right:s}=i;return Math.max(e-r-s,0)}add(e,i){let r,s,n;if(Array.isArray(e))return void e.forEach(l=>this.add(l,i));const o=dE(e);o&&({index:r,position:i,component:e,key:s}=o),i&&typeof i=="object"&&({index:r,key:s,position:i,internal:n}=i),!e||i&&!this._isValidPosition(i)||this._add(e,i,r??this._getNumComponentsAtPosition(i),s,n)}remove(e,i){var s;if(!e)return;if(Array.isArray(e))return e.map(n=>this.remove(n,i));const r=this._find(e);if(r){const n=this._componentMap.get(r);if(!n||n.key!==i)return;const o=this._components.indexOf(r),l=r.node.parentNode;return l==null||l.removeChild(r.node),this._componentMap.delete(r),(s=r.widget)==null||s.removeHandlesReference(this._removeWidgetHandleKey),this._components.forEach(c=>{const d=this._componentMap.get(c);d&&d.position===n.position&&d.index>n.index&&d.index--}),this._components.splice(o,1)[0]}}empty(e,i={removeInternal:!1}){if(Array.isArray(e)){for(const n of e)this.empty(n,i);return}const r=this._positionNameToContainerLookup[e??"manual"],s=Array.prototype.slice.call(r.children).map(n=>this._findByNode(n)).filter(n=>{var o;return n==null?!1:!(((o=this._componentMap.get(n))==null?void 0:o.internal)??!1)||i.removeInternal});for(const n of s)this.remove(n)}move(e,i){if(Array.isArray(e)&&e.forEach(o=>this.move(o,i)),!e)return;let r;const s=dE(e)||dE(i);if(s&&(r=s.index,i=s.position,e=s.component||e),i&&!this._isValidPosition(i))return;const n=this.remove(e);n&&this.add(n,{position:i,index:r})}find(e){if(!e)return null;const i=this._findById(e);return i&&(i.widget||i.node)}getComponents(e,i={includeInternal:!1}){return e?Array.isArray(e)?e.flatMap(r=>this._getComponentsAtPosition(r,i)):this._getComponentsAtPosition(e,i):this._components.filter(r=>{var s;return i.includeInternal||!((s=this._componentMap.get(r))!=null&&s.internal)}).map(({widget:r,node:s})=>r??s)}getPosition(e){for(const i in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[i].contains(e))return i;return null}_add(e,i,r,s,n){e instanceof _S||(e=new _S({node:e}));const{widget:o}=e;o!=null&&o instanceof $e&&o.addHandles(at(()=>{queueMicrotask(()=>this.remove(e))}),this._removeWidgetHandleKey),this._components.some(l=>{var c,d;return((c=this._componentMap.get(l))==null?void 0:c.position)===i&&((d=this._componentMap.get(l))==null?void 0:d.index)===r})&&this._components.forEach(l=>{const c=this._componentMap.get(l);c&&c.position===i&&c.index>=r&&c.index++}),this._place({component:e,position:i,index:r}),this._components.push(e),this._componentMap.set(e,{key:s,position:i,internal:n,index:r})}_find(e){return e?e instanceof _S?this._findByComponent(e):typeof e=="string"?this._findById(e):"domNode"in e?this._findByNode(e.domNode):this._findByNode(e):null}_getViewPadding(){var e;return((e=this.view)==null?void 0:e.padding)??o6e}_attachContainers(e){e.appendChild(this._innerContainer),e.appendChild(this._manualContainer)}_initContainers(){const e=document.createElement("div");e.classList.add(Ms.innerContainer,Ms.cornerContainer);const i=document.createElement("div");i.classList.add(Ms.innerContainer,Ms.manualContainer);const r=document.createElement("div");r.classList.add(Ms.topLeft,Ms.corner),e.appendChild(r);const s=document.createElement("div");s.classList.add(Ms.topRight,Ms.corner),e.appendChild(s);const n=document.createElement("div");n.classList.add(Ms.bottomLeft,Ms.corner),e.appendChild(n);const o=document.createElement("div");o.classList.add(Ms.bottomRight,Ms.corner),e.appendChild(o),this._innerContainer=e,this._manualContainer=i;const l=r6e();this._cornerNameToContainerLookup={"top-left":r,"top-right":s,"bottom-left":n,"bottom-right":o,"top-leading":l?s:r,"top-trailing":l?r:s,"bottom-leading":l?o:n,"bottom-trailing":l?n:o},this._positionNameToContainerLookup={manual:i,...this._cornerNameToContainerLookup}}_isValidPosition(e){return!!this._positionNameToContainerLookup[e]}_place(e){var c,d;const i=e.position??"manual",{component:r,index:s}=e,n=this._positionNameToContainerLookup[i],o=s!=null&&s>-1;if(a6e(r.widget)&&r.widget.startup(),!o)return void n.appendChild(r.node);const l=Array.from(n.children);if(l.length!==0){for(const m of l){const v=this._findByNode(m);if(v&&s<(((c=this._componentMap.get(v))==null?void 0:c.index)??0))return void((d=m.parentNode)==null?void 0:d.insertBefore(r.node,m))}n.appendChild(r.node)}else n.appendChild(r.node)}_toPixelPosition(e){return{top:n2(e.top),left:n2(e.left),right:n2(e.right),bottom:n2(e.bottom)}}_findByComponent(e){return this._components.find(i=>i===e)??null}_findById(e){return this._components.find(({id:i})=>i===e)??null}_findByNode(e){return e?this._components.find(({node:i})=>i===e):null}_getComponentsAtPosition(e,i){const r=this._positionNameToContainerLookup[e];return Array.prototype.slice.call(r.children).map(s=>this._findByNode(s)).filter(qc).filter(s=>{var n;return i.includeInternal||!((n=this._componentMap.get(s))!=null&&n.internal)}).map(({widget:s,node:n})=>s??n)}_getNumComponentsAtPosition(e){const i=this._positionNameToContainerLookup[e];return(i==null?void 0:i.children.length)??0}};h([f()],_a.prototype,"_locale",void 0),h([f()],_a.prototype,"container",null),h([f()],_a.prototype,"height",null),h([f({value:Pee})],_a.prototype,"padding",null),h([Ot("padding")],_a.prototype,"castPadding",null),h([f()],_a.prototype,"view",void 0),h([f()],_a.prototype,"width",null),_a=h([I("esri.views.ui.UI")],_a);const l6e=_a,u6e={handleInterceptedEvent:(t,e,i,r)=>(t.scheduleRender(),e.properties[`on${r.type}`].apply(e.properties.bind||i,[r]))},c6e={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(t,e,i)=>{e.startsWith("-")?t.style.setProperty(e,i):t.style[e]=i}},h6e=t=>({...c6e,...t}),d6e=(t,e)=>{const i=[];for(;t&&t!==e;)i.push(t),t=t.parentNode;return i},p6e=(t,e)=>t.find(e),XF=(t,e,i=!1)=>{let r=t;return e.forEach((s,n)=>{const o=r!=null&&r.children?p6e(r.children,l=>l.domNode===s):void 0;i&&!o&&n!==e.length-1||(r=o)}),r},f6e=t=>{let e;const i={...u6e,...t},r=h6e(i),s=r.performanceLogger;let n,o=!0,l=!1;const c=[],d=[],m=(w,_,x)=>{var O;let T;r.eventHandlerInterceptor=(C,R,N,j)=>function(z){let ee;s("domEvent",z);const Q=d6e(z.currentTarget,T.domNode),J=Q.some(pe=>{var ye;return customElements.get((ye=pe==null?void 0:pe.tagName)==null?void 0:ye.toLowerCase())});if(z.eventPhase===Event.CAPTURING_PHASE||!J)Q.reverse(),ee=XF(T.getLastRender(),Q);else{const pe=z.composedPath(),ye=pe.slice(pe.indexOf(z.currentTarget),pe.indexOf(T.domNode)).reverse();ee=XF(T.getLastRender(),ye,!0)}let te;return ee&&(te=i.handleInterceptedEvent(e,ee,this,z)),s("domEventProcessed",z),te},(O=i.postProcessProjectionOptions)==null||O.call(i,r);const $=x();T=w(_,$,r),r.eventHandlerInterceptor=void 0,c.push(T),d.push(x),i.afterFirstVNodeRendered&&i.afterFirstVNodeRendered(T,$)};let v=()=>{if(n=void 0,o){o=!1,s("renderStart",void 0);for(let w=0;w<c.length;w++){const _=d[w]();s("rendered",void 0);try{c[w].update(_)}catch(x){console.error(x)}s("patched",void 0)}s("renderDone",void 0),o=!0}};return i.modifyDoRenderImplementation&&(v=i.modifyDoRenderImplementation(v,c,d)),e={renderNow:v,scheduleRender:()=>{n||l||(n=requestAnimationFrame(v))},stop:()=>{n&&(cancelAnimationFrame(n),n=void 0),l=!0},resume:()=>{l=!1,o=!0,e.scheduleRender()},append:(w,_)=>{m(kc.append,w,_)},insertBefore:(w,_)=>{m(kc.insertBefore,w,_)},merge:(w,_)=>{m(kc.merge,w,_)},replace:(w,_)=>{m(kc.replace,w,_)},detach:w=>{for(let _=0;_<d.length;_++)if(d[_]===w)return d.splice(_,1),c.splice(_,1)[0];throw new Error("renderFunction was not found")}},e},oi=(t,e,...i)=>{try{return t==null?void 0:t.call(e,...i)}catch(r){console.error(r,t)}},Jk=async(t,e,...i)=>{try{return await(t==null?void 0:t.call(e,...i))}catch(r){console.error(r,t)}},oI=Symbol.for("controller"),m6e=t=>typeof t=="object"&&t!==null&&(oI in t||"hostConnected"in t||"hostDisconnected"in t||"hostUpdate"in t||"hostUpdated"in t),aBe=t=>typeof(t==null?void 0:t.then)=="function";let Uv;const qv=t=>{Uv!==t&&(Uv=t,queueMicrotask(()=>Uv===t?Uv=void 0:0))},i3=t=>Uv;let fd=[];const y6e=t=>{if(t===void 0){fd=[];return}const e=fd.indexOf(t);fd=e===-1?[...fd,t]:fd.slice(0,e+1),queueMicrotask(()=>fd=[])},g6e=()=>fd;let Em;const lBe=t=>{Em!==t&&(Em=t,queueMicrotask(()=>Em===t?Em=void 0:0))},v6e=()=>{const t=Em;return Em=void 0,t},w6e=async(t,e)=>{const i=aI(t);if(i===void 0)return t;if(await i.ready,typeof e=="function"){const r=i.watchExports(s=>e(s,r))}return i.exports},b6e=async t=>{const e=aI(t);return await e.ready,e},aI=t=>{const i=i3().manager.X(t);if(i!==void 0)return i;if(m6e(t))return t;const r=v6e();if(r!==void 0)return r};let Kk=!1;const uBe=t=>{Kk=!0;try{return t()}finally{Kk=!1}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const SS=globalThis,lI=SS.ShadowRoot&&(SS.ShadyCSS===void 0||SS.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,uI=Symbol(),QF=new WeakMap;let jee=class{constructor(e,i,r){if(this._$cssResult$=!0,r!==uI)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=i}get styleSheet(){let e=this.o;const i=this.t;if(lI&&e===void 0){const r=i!==void 0&&i.length===1;r&&(e=QF.get(i)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&QF.set(i,e))}return e}toString(){return this.cssText}};const _6e=t=>new jee(typeof t=="string"?t:t+"",void 0,uI),hBe=(t,...e)=>{const i=t.length===1?t[0]:e.reduce((r,s,n)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[n+1],t[0]);return new jee(i,t,uI)},S6e=(t,e)=>{if(lI)t.adoptedStyleSheets=e.map(i=>i instanceof CSSStyleSheet?i:i.styleSheet);else for(const i of e){const r=document.createElement("style"),s=SS.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=i.cssText,t.appendChild(r)}},ez=lI?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let i="";for(const r of e.cssRules)i+=r.cssText;return _6e(i)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:x6e,defineProperty:T6e,getOwnPropertyDescriptor:$6e,getOwnPropertyNames:M6e,getOwnPropertySymbols:E6e,getPrototypeOf:A6e}=Object,Nc=globalThis,tz=Nc.trustedTypes,O6e=tz?tz.emptyScript:"",fE=Nc.reactiveElementPolyfillSupport,$1=(t,e)=>t,Xk={toAttribute(t,e){switch(e){case Boolean:t=t?O6e:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let i=t;switch(e){case Boolean:i=t!==null;break;case Number:i=t===null?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch{i=null}}return i}},cI=(t,e)=>!x6e(t,e),iz={attribute:!0,type:String,converter:Xk,reflect:!1,useDefault:!1,hasChanged:cI};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Nc.litPropertyMetadata??(Nc.litPropertyMetadata=new WeakMap);let lm=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,i=iz){if(i.state&&(i.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((i=Object.create(i)).wrapped=!0),this.elementProperties.set(e,i),!i.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(e,r,i);s!==void 0&&T6e(this.prototype,e,s)}}static getPropertyDescriptor(e,i,r){const{get:s,set:n}=$6e(this.prototype,e)??{get(){return this[i]},set(o){this[i]=o}};return{get:s,set(o){const l=s==null?void 0:s.call(this);n==null||n.call(this,o),this.requestUpdate(e,l,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??iz}static _$Ei(){if(this.hasOwnProperty($1("elementProperties")))return;const e=A6e(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty($1("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty($1("properties"))){const i=this.properties,r=[...M6e(i),...E6e(i)];for(const s of r)this.createProperty(s,i[s])}const e=this[Symbol.metadata];if(e!==null){const i=litPropertyMetadata.get(e);if(i!==void 0)for(const[r,s]of i)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[i,r]of this.elementProperties){const s=this._$Eu(i,r);s!==void 0&&this._$Eh.set(s,i)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const i=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const s of r)i.unshift(ez(s))}else e!==void 0&&i.push(ez(e));return i}static _$Eu(e,i){const r=i.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(i=>this.enableUpdating=i),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(i=>i(this))}addController(e){var i;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((i=e.hostConnected)==null||i.call(e))}removeController(e){var i;(i=this._$EO)==null||i.delete(e)}_$E_(){const e=new Map,i=this.constructor.elementProperties;for(const r of i.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return S6e(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(i=>{var r;return(r=i.hostConnected)==null?void 0:r.call(i)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(i=>{var r;return(r=i.hostDisconnected)==null?void 0:r.call(i)})}attributeChangedCallback(e,i,r){this._$AK(e,r)}_$ET(e,i){var n;const r=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,r);if(s!==void 0&&r.reflect===!0){const o=(((n=r.converter)==null?void 0:n.toAttribute)!==void 0?r.converter:Xk).toAttribute(i,r.type);this._$Em=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(e,i){var n,o;const r=this.constructor,s=r._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const l=r.getPropertyOptions(s),c=typeof l.converter=="function"?{fromAttribute:l.converter}:((n=l.converter)==null?void 0:n.fromAttribute)!==void 0?l.converter:Xk;this._$Em=s;const d=c.fromAttribute(i,l.type);this[s]=d??((o=this._$Ej)==null?void 0:o.get(s))??d,this._$Em=null}}requestUpdate(e,i,r){var s;if(e!==void 0){const n=this.constructor,o=this[e];if(r??(r=n.getPropertyOptions(e)),!((r.hasChanged??cI)(o,i)||r.useDefault&&r.reflect&&o===((s=this._$Ej)==null?void 0:s.get(e))&&!this.hasAttribute(n._$Eu(e,r))))return;this.C(e,i,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,i,{useDefault:r,reflect:s,wrapped:n},o){r&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??i??this[e]),n!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(i=void 0),this._$AL.set(e,i)),s===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(i){Promise.reject(i)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[n,o]of this._$Ep)this[n]=o;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[n,o]of s){const{wrapped:l}=o,c=this[n];l!==!0||this._$AL.has(n)||c===void 0||this.C(n,void 0,o,c)}}let e=!1;const i=this._$AL;try{e=this.shouldUpdate(i),e?(this.willUpdate(i),(r=this._$EO)==null||r.forEach(s=>{var n;return(n=s.hostUpdate)==null?void 0:n.call(s)}),this.update(i)):this._$EM()}catch(s){throw e=!1,this._$EM(),s}e&&this._$AE(i)}willUpdate(e){}_$AE(e){var i;(i=this._$EO)==null||i.forEach(r=>{var s;return(s=r.hostUpdated)==null?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(i=>this._$ET(i,this[i]))),this._$EM()}updated(e){}firstUpdated(e){}};lm.elementStyles=[],lm.shadowRootOptions={mode:"open"},lm[$1("elementProperties")]=new Map,lm[$1("finalized")]=new Map,fE==null||fE({ReactiveElement:lm}),(Nc.reactiveElementVersions??(Nc.reactiveElementVersions=[])).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const M1=globalThis,Ux=M1.trustedTypes,rz=Ux?Ux.createPolicy("lit-html",{createHTML:t=>t}):void 0,Nee="$lit$",bc=`lit$${Math.random().toFixed(9).slice(2)}$`,Dee="?"+bc,k6e=`<${Dee}>`,gp=document,ow=()=>gp.createComment(""),aw=t=>t===null||typeof t!="object"&&typeof t!="function",hI=Array.isArray,C6e=t=>hI(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",mE=`[ 	
\f\r]`,Q0=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,sz=/-->/g,nz=/>/g,Gh=RegExp(`>|${mE}(?:([^\\s"'>=/]+)(${mE}*=${mE}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),oz=/'/g,az=/"/g,Lee=/^(?:script|style|textarea|title)$/i,Vee=t=>(e,...i)=>({_$litType$:t,strings:e,values:i}),pBe=Vee(1),fBe=Vee(2),Qc=Symbol.for("lit-noChange"),$i=Symbol.for("lit-nothing"),lz=new WeakMap,Id=gp.createTreeWalker(gp,129);function Fee(t,e){if(!hI(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return rz!==void 0?rz.createHTML(e):e}const R6e=(t,e)=>{const i=t.length-1,r=[];let s,n=e===2?"<svg>":e===3?"<math>":"",o=Q0;for(let l=0;l<i;l++){const c=t[l];let d,m,v=-1,w=0;for(;w<c.length&&(o.lastIndex=w,m=o.exec(c),m!==null);)w=o.lastIndex,o===Q0?m[1]==="!--"?o=sz:m[1]!==void 0?o=nz:m[2]!==void 0?(Lee.test(m[2])&&(s=RegExp("</"+m[2],"g")),o=Gh):m[3]!==void 0&&(o=Gh):o===Gh?m[0]===">"?(o=s??Q0,v=-1):m[1]===void 0?v=-2:(v=o.lastIndex-m[2].length,d=m[1],o=m[3]===void 0?Gh:m[3]==='"'?az:oz):o===az||o===oz?o=Gh:o===sz||o===nz?o=Q0:(o=Gh,s=void 0);const _=o===Gh&&t[l+1].startsWith("/>")?" ":"";n+=o===Q0?c+k6e:v>=0?(r.push(d),c.slice(0,v)+Nee+c.slice(v)+bc+_):c+bc+(v===-2?l:_)}return[Fee(t,n+(t[i]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class lw{constructor({strings:e,_$litType$:i},r){let s;this.parts=[];let n=0,o=0;const l=e.length-1,c=this.parts,[d,m]=R6e(e,i);if(this.el=lw.createElement(d,r),Id.currentNode=this.el.content,i===2||i===3){const v=this.el.content.firstChild;v.replaceWith(...v.childNodes)}for(;(s=Id.nextNode())!==null&&c.length<l;){if(s.nodeType===1){if(s.hasAttributes())for(const v of s.getAttributeNames())if(v.endsWith(Nee)){const w=m[o++],_=s.getAttribute(v).split(bc),x=/([.?@])?(.*)/.exec(w);c.push({type:1,index:n,name:x[2],strings:_,ctor:x[1]==="."?P6e:x[1]==="?"?j6e:x[1]==="@"?N6e:r3}),s.removeAttribute(v)}else v.startsWith(bc)&&(c.push({type:6,index:n}),s.removeAttribute(v));if(Lee.test(s.tagName)){const v=s.textContent.split(bc),w=v.length-1;if(w>0){s.textContent=Ux?Ux.emptyScript:"";for(let _=0;_<w;_++)s.append(v[_],ow()),Id.nextNode(),c.push({type:2,index:++n});s.append(v[w],ow())}}}else if(s.nodeType===8)if(s.data===Dee)c.push({type:2,index:n});else{let v=-1;for(;(v=s.data.indexOf(bc,v+1))!==-1;)c.push({type:7,index:n}),v+=bc.length-1}n++}}static createElement(e,i){const r=gp.createElement("template");return r.innerHTML=e,r}}function Ky(t,e,i=t,r){var o,l;if(e===Qc)return e;let s=r!==void 0?(o=i._$Co)==null?void 0:o[r]:i._$Cl;const n=aw(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==n&&((l=s==null?void 0:s._$AO)==null||l.call(s,!1),n===void 0?s=void 0:(s=new n(t),s._$AT(t,i,r)),r!==void 0?(i._$Co??(i._$Co=[]))[r]=s:i._$Cl=s),s!==void 0&&(e=Ky(t,s._$AS(t,e.values),s,r)),e}class I6e{constructor(e,i){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:i},parts:r}=this._$AD,s=((e==null?void 0:e.creationScope)??gp).importNode(i,!0);Id.currentNode=s;let n=Id.nextNode(),o=0,l=0,c=r[0];for(;c!==void 0;){if(o===c.index){let d;c.type===2?d=new Zw(n,n.nextSibling,this,e):c.type===1?d=new c.ctor(n,c.name,c.strings,this,e):c.type===6&&(d=new D6e(n,this,e)),this._$AV.push(d),c=r[++l]}o!==(c==null?void 0:c.index)&&(n=Id.nextNode(),o++)}return Id.currentNode=gp,s}p(e){let i=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,i),i+=r.strings.length-2):r._$AI(e[i])),i++}}class Zw{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,i,r,s){this.type=2,this._$AH=$i,this._$AN=void 0,this._$AA=e,this._$AB=i,this._$AM=r,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const i=this._$AM;return i!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=i.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,i=this){e=Ky(this,e,i),aw(e)?e===$i||e==null||e===""?(this._$AH!==$i&&this._$AR(),this._$AH=$i):e!==this._$AH&&e!==Qc&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):C6e(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==$i&&aw(this._$AH)?this._$AA.nextSibling.data=e:this.T(gp.createTextNode(e)),this._$AH=e}$(e){var n;const{values:i,_$litType$:r}=e,s=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=lw.createElement(Fee(r.h,r.h[0]),this.options)),r);if(((n=this._$AH)==null?void 0:n._$AD)===s)this._$AH.p(i);else{const o=new I6e(s,this),l=o.u(this.options);o.p(i),this.T(l),this._$AH=o}}_$AC(e){let i=lz.get(e.strings);return i===void 0&&lz.set(e.strings,i=new lw(e)),i}k(e){hI(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let r,s=0;for(const n of e)s===i.length?i.push(r=new Zw(this.O(ow()),this.O(ow()),this,this.options)):r=i[s],r._$AI(n),s++;s<i.length&&(this._$AR(r&&r._$AB.nextSibling,s),i.length=s)}_$AR(e=this._$AA.nextSibling,i){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,i);e!==this._$AB;){const s=e.nextSibling;e.remove(),e=s}}setConnected(e){var i;this._$AM===void 0&&(this._$Cv=e,(i=this._$AP)==null||i.call(this,e))}}class r3{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,i,r,s,n){this.type=1,this._$AH=$i,this._$AN=void 0,this.element=e,this.name=i,this._$AM=s,this.options=n,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=$i}_$AI(e,i=this,r,s){const n=this.strings;let o=!1;if(n===void 0)e=Ky(this,e,i,0),o=!aw(e)||e!==this._$AH&&e!==Qc,o&&(this._$AH=e);else{const l=e;let c,d;for(e=n[0],c=0;c<n.length-1;c++)d=Ky(this,l[r+c],i,c),d===Qc&&(d=this._$AH[c]),o||(o=!aw(d)||d!==this._$AH[c]),d===$i?e=$i:e!==$i&&(e+=(d??"")+n[c+1]),this._$AH[c]=d}o&&!s&&this.j(e)}j(e){e===$i?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class P6e extends r3{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===$i?void 0:e}}class j6e extends r3{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==$i)}}class N6e extends r3{constructor(e,i,r,s,n){super(e,i,r,s,n),this.type=5}_$AI(e,i=this){if((e=Ky(this,e,i,0)??$i)===Qc)return;const r=this._$AH,s=e===$i&&r!==$i||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,n=e!==$i&&(r===$i||s);s&&this.element.removeEventListener(this.name,this,r),n&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var i;typeof this._$AH=="function"?this._$AH.call(((i=this.options)==null?void 0:i.host)??this.element,e):this._$AH.handleEvent(e)}}let D6e=class{constructor(e,i,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=i,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Ky(this,e)}};const yE=M1.litHtmlPolyfillSupport;yE==null||yE(lw,Zw),(M1.litHtmlVersions??(M1.litHtmlVersions=[])).push("3.3.1");const L6e=(t,e,i)=>{const r=(i==null?void 0:i.renderBefore)??e;let s=r._$litPart$;if(s===void 0){const n=(i==null?void 0:i.renderBefore)??null;r._$litPart$=s=new Zw(e.insertBefore(ow(),n),n,void 0,i??{})}return s._$AI(t),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Kd=globalThis;let Wm=class extends lm{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var i;const e=super.createRenderRoot();return(i=this.renderOptions).renderBefore??(i.renderBefore=e.firstChild),e}update(e){const i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=L6e(i,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return Qc}};var jz;Wm._$litElement$=!0,Wm.finalized=!0,(jz=Kd.litElementHydrateSupport)==null||jz.call(Kd,{LitElement:Wm});const gE=Kd.litElementPolyfillSupport;gE==null||gE({LitElement:Wm});(Kd.litElementVersions??(Kd.litElementVersions=[])).push("4.2.1");class uw{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}const V6e=(t,e)=>{const i=e/F6e;let r=0;const s=setInterval(()=>{r+=i,r>=e&&(clearInterval(s),t())},i);return s},F6e=4,z6e=(t,e,i)=>{const r=Object.keys(t),s=r.length;Cc===void 0&&queueMicrotask(s3),Cc??(Cc=new Map);let n=Cc.get(t);return n===void 0&&(n={callbacks:[],keyCount:s},Cc.set(t,n)),n.keyCount!==s&&(n.callbacks.forEach(o=>o(r)),n.callbacks=[],n.keyCount=s),n.callbacks.push(o=>{const l=d=>oi(e,null,d),c=o[s];c===void 0?l(void 0):t[c]===i?l(c):l(void 0)}),i};let Cc;const s3=()=>{Cc==null||Cc.forEach(({callbacks:t},e)=>{const i=Object.keys(e);t.forEach(r=>r(i))}),Cc=void 0},U6e=(t,e,i)=>{const r=t.manager;return r.V!==$i&&r.V!==i&&r.S(void 0,void 0),r.T.length===0&&queueMicrotask(()=>r.S(void 0,void 0)),r.V=i,r.T.push((s,n)=>oi(e,void 0,i===n?s:void 0)),i},q6e=(t=[i3(),...g6e()],e,i)=>{const r=Array.isArray(t)?t:[t];let s=r.length+1;const n=o=>{s-=1,o!==void 0&&(s=Math.min(s,0)),s===0&&e(o)};r.forEach(o=>z6e(o,l=>n(l===void 0?void 0:{key:l,host:o,isReactive:!1}),i));for(const o of r)if("manager"in o&&o.manager.component===o){U6e(o,l=>n(l===void 0?void 0:{key:l,host:o,isReactive:!0}),i);break}return i},B6e=(t="",e={},i=i3())=>{const r={emit:s=>{t===""&&s3();const n=new CustomEvent(t,{detail:s,cancelable:!0,bubbles:!0,composed:!0,...e});return i.el.dispatchEvent(n),n}};return t===""&&q6e(void 0,s=>t=s.key,r),r},gBe=B6e.bind(null,"");var zee;zee=oI;var wy,by,Pd,_y,Sy,xy,Ty,$y,_c,jd,Ps,$a,Zl,My,xS;class G6e{constructor(e){Rt(this,My);Rt(this,wy);Rt(this,by);Rt(this,Pd);Rt(this,_y);Rt(this,Sy);Rt(this,xy);Rt(this,Ty);Rt(this,$y);Rt(this,_c);Rt(this,jd);Rt(this,Ps);Rt(this,$a);Rt(this,Zl);xt(this,wy,[]),xt(this,by,[]),xt(this,Pd,[]),xt(this,_y,[]),xt(this,Sy,[]),xt(this,xy,[]),xt(this,Ty,[]),xt(this,$y,[]),xt(this,_c,[]),xt(this,jd,!1),this.P=new uw,this.connectedCalled=!1,this.loadedCalled=!1,this[zee]=!0,xt(this,Zl,[]);const i=this,r=e??i3();xt(i,Ps,r),i.ready=i.P.promise,xt(i,$a,cz(i)),i.component=r,me(i,Ps).addController(i),me(i,Ps).manager===void 0||(y6e(i),queueMicrotask(()=>i.catchUpLifecycle()))}catchUpLifecycle(){const{manager:e}=me(this,Ps);e.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),me(e,jd)&&this.triggerLoad().then(()=>e.loadedCalled&&this.triggerLoaded()).catch(console.error)}get exports(){return me(this,$a)}set exports(e){const i=me(this,$a);i!==e&&(xt(this,$a,e),me(this,Zl).forEach(oi),this.connectedCalled&&this.O!==!1&&me(this,Ps).requestUpdate(this.O,i)),this.P.resolve(e)}setProvisionalExports(e,i=!0){xt(this,$a,i?cz(e):e),me(this,Zl).forEach(oi)}watchExports(e){const i=()=>e(me(this,$a));return me(this,Zl).push(i),()=>void me(this,Zl).splice(me(this,Zl).indexOf(i),1)}get use(){return qv(me(this,Ps)),w6e}get useRef(){return qv(me(this,Ps)),b6e}get useRefSync(){return qv(me(this,Ps)),aI}controllerRemoved(){me(this,Ps).el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(e){me(this,wy).push(e)}onDisconnected(e){me(this,by).push(e)}onLoad(e){me(this,Pd).push(e)}onLoaded(e){me(this,_y).push(e)}onUpdate(e){me(this,Sy).push(e)}onUpdated(e){me(this,xy).push(e)}onDestroy(e){me(this,Ty).push(e)}onLifecycle(e){me(this,$y).push(e),this.connectedCalled&&me(this,Ps).el.isConnected&&Vu(this,My,xS).call(this,e)}triggerConnected(){const e=this;e.hostConnected&&oi(e.hostConnected,e),me(e,wy).forEach(oi),e.triggerLifecycle(),e.connectedCalled=!0}triggerDisconnected(){const e=this;e.hostDisconnected&&oi(e.hostDisconnected,e),me(e,by).forEach(oi),me(e,_c).forEach(oi),xt(e,_c,[])}async triggerLoad(){if(me(this,jd))return;xt(this,jd,!0);const e=this;e.hostLoad&&await Jk(e.hostLoad,e),me(this,Pd).length>0&&await Promise.allSettled(me(this,Pd).map(Jk)),this.P.resolve(me(this,$a))}triggerLoaded(){this.loadedCalled||(this.hostLoaded&&oi(this.hostLoaded,this),me(this,_y).forEach(oi),this.loadedCalled=!0)}triggerUpdate(e){this.hostUpdate&&oi(this.hostUpdate,this,e),me(this,Sy).forEach(uz,e)}triggerUpdated(e){this.hostUpdated&&oi(this.hostUpdated,this,e),me(this,xy).forEach(uz,e)}triggerDestroy(){this.hostDestroy&&oi(this.hostDestroy,this),me(this,Ty).forEach(oi)}triggerLifecycle(){this.hostLifecycle&&Vu(this,My,xS).call(this,()=>this.hostLifecycle()),me(this,$y).forEach(Vu(this,My,xS),this)}}wy=new WeakMap,by=new WeakMap,Pd=new WeakMap,_y=new WeakMap,Sy=new WeakMap,xy=new WeakMap,Ty=new WeakMap,$y=new WeakMap,_c=new WeakMap,jd=new WeakMap,Ps=new WeakMap,$a=new WeakMap,Zl=new WeakMap,My=new WeakSet,xS=function(e){qv(me(this,Ps));const i=oi(e);(Array.isArray(i)?i:[i]).forEach(s=>{typeof s=="function"?me(this,_c).push(s):typeof s=="object"&&typeof s.remove=="function"&&me(this,_c).push(s.remove)})};function uz(t){oi(t,void 0,this)}const H6e=G6e,cz=t=>{if(typeof t!="object"&&typeof t!="function"||t===null)return t;const e={get(r,s,n){if(!((s==="exports"||s==="_exports")&&s in r&&r[s]===i)&&(s in r||s in Promise.prototype||typeof s=="symbol"))return typeof r=="function"?r[s]:Reflect.get(r,s,n)}},i=new Proxy(t,e);return i},W6e=t=>t.replace(Z6e,(e,i)=>`${i===0?"":"-"}${e.toLowerCase()}`),Z6e=/[A-Z]+(?![a-z])|[A-Z]/gu,Y6e=1,J6e=2,K6e=4,X6e=8,Q6e=16,eIe=32,tIe=64,Uee=t=>{var i,r;let e=t;for(;e=e.parentNode??e.host;)if((i=e==null?void 0:e.constructor)!=null&&i.lumina){const s=e;return(r=s.manager)!=null&&r.loadedCalled||(s.J??s._offspring).push(t),(s.I??s._postLoad).promise}return!1},hz={};function qee(){}const TS=Object.defineProperty,iIe=globalThis.HTMLElement??qee;var js,Yl,Ey,cw,Qk;const dI=class dI extends iIe{constructor(){var s,n;super();Rt(this,cw);Rt(this,js);Rt(this,Yl);Rt(this,Ey);xt(this,Yl,{}),xt(this,Ey,[]),this.I=new uw,this.H=new uw,this.J=[];const i=this,r=i.constructor;i._offspring=i.J,i._postLoad=i.I,(s=r.C)==null||s.forEach(o=>{Object.hasOwn(i,o)&&(me(i,Yl)[o]=i[o],delete i[o])}),r.A?Vu(n=i,cw,Qk).call(n,{a:r.A}):r.B.then(async o=>{var l,c;await r.K.p,Vu(c=i,cw,Qk).call(c,await(((l=o.default)==null?void 0:l.then(d=>typeof d=="function"?{a:d}:d))??o))}).catch(o=>{i.H.reject(o),setTimeout(()=>{throw o})})}static F(){for(const i of this.C??[])TS(this.prototype,i,{configurable:!0,enumerable:!0,get(){return me(this,Yl)[i]},set(r){me(this,Yl)[i]=r}});for(const i of this.E??[])TS(this.prototype,i,{async value(...r){return me(this,js)||await this.H.promise,await me(this,js)[i](...r)},configurable:!0});for(const i of this.D??[])TS(this.prototype,i,{value(...r){return me(this,js)[i](...r)},configurable:!0})}get manager(){var i;return(i=me(this,js))==null?void 0:i.manager}attributeChangedCallback(i,r,s){var n;(n=me(this,js))==null||n.attributeChangedCallback(i,r,s),me(this,js)||me(this,Ey).push(i)}connectedCallback(){var i,r;me(this,js)?(r=(i=me(this,js)).connectedCallback)==null||r.call(i):queueMicrotask(()=>this.G=Uee(this))}disconnectedCallback(){var i,r;(r=(i=me(this,js))==null?void 0:i.disconnectedCallback)==null||r.call(i)}async componentOnReady(){return await this.H.promise,this}addController(){}requestUpdate(){var i;(i=me(this,js))==null||i.requestUpdate()}};js=new WeakMap,Yl=new WeakMap,Ey=new WeakMap,cw=new WeakSet,Qk=function(i){var w;const r=this.constructor,s=r.L,n=me(this,Yl),o=Object.values(i).find(_=>_.L===s),l=`${s}--lazy`;let c=o;for(;c&&!Object.hasOwn(c,"lumina");)c=Object.getPrototypeOf(c);sIe(c),!r.A&&(r.A=o,customElements.define(l,o)),o.N=this;const m=document.createElement(l);o.N=void 0,xt(this,js,m),xt(this,Yl,m),me(this,Ey).forEach(_=>m.attributeChangedCallback(_,null,this.getAttribute(_))),Object.entries(n).forEach(rIe,m);const v=this.isConnected;(v||this.G)&&((w=m.connectedCallback)==null||w.call(m),v||m.disconnectedCallback())},dI.lumina=!0;let dz=dI;function rIe([t,e]){this[t]=e}const sIe=t=>{const e=t.prototype,i=Element.prototype;Object.hasOwn(e,"isConnected")||(e.setAttribute=function(s,n){i.setAttribute.call(this.el,s,n)},e.removeAttribute=function(s){i.removeAttribute.call(this.el,s)},TS(e,"isConnected",{get(){return Reflect.get(i,"isConnected",this.el)}}))};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Bee={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4},Gee=t=>(...e)=>({_$litDirective$:t,values:e});let Hee=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,i,r){this._$Ct=e,this._$AM=i,this._$Ci=r}_$AS(e,i){return this.update(e,i)}update(e,i){return this.render(...i)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const nIe=Gee(class extends Hee{constructor(t){var e;if(super(t),t.type!==Bee.ATTRIBUTE||t.name!=="class"||((e=t.strings)==null?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){var r,s;if(this.st===void 0){this.st=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(n=>n!=="")));for(const n in e)e[n]&&!((r=this.nt)!=null&&r.has(n))&&this.st.add(n);return this.render(e)}const i=t.element.classList;for(const n of this.st)n in e||(i.remove(n),this.st.delete(n));for(const n in e){const o=!!e[n];o===this.st.has(n)||(s=this.nt)!=null&&s.has(n)||(o?(i.add(n),this.st.add(n)):(i.remove(n),this.st.delete(n)))}return Qc}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Wee="important",oIe=" !"+Wee,aIe=Gee(class extends Hee{constructor(t){var e;if(super(t),t.type!==Bee.ATTRIBUTE||t.name!=="style"||((e=t.strings)==null?void 0:e.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce((e,i)=>{const r=t[i];return r==null?e:e+`${i=i.includes("-")?i:i.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(t,[e]){const{style:i}=t.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(e)),this.render(e);for(const r of this.ft)e[r]==null&&(this.ft.delete(r),r.includes("-")?i.removeProperty(r):i[r]=null);for(const r in e){const s=e[r];if(s!=null){this.ft.add(r);const n=typeof s=="string"&&s.endsWith(oIe);r.includes("-")||n?i.setProperty(r,n?s.slice(0,-11):s,n?Wee:""):i[r]=s}}return Qc}});var Jl,No,Ay;class lIe extends H6e{constructor(i){super(i);Rt(this,Jl);Rt(this,No);Rt(this,Ay);this.destroyed=!1,this.R=!1,this.V=$i,this.T=[],xt(this,Ay,new WeakMap),xt(this,No,i),this.exports=void 0,this.hasDestroy=eC in i&&typeof i.destroy=="function",Wm.prototype.addController.call(i,{hostConnected:()=>{if(this.destroyed){const r=i.el.localName;throw i.el.remove(),new Error(`The ${r} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${eC} prop.`)}me(this,Jl)!==void 0&&clearTimeout(me(this,Jl)),s3();for(const r of i.M)"triggerConnected"in r?r.triggerConnected():oi(r.hostConnected,r)},hostDisconnected:()=>{for(const r of i.M)"triggerDisconnected"in r?r.triggerDisconnected():oi(r.hostDisconnected,r);this.hasDestroy&&!this.destroyed&&this.U()},hostUpdate:()=>{for(const r of i.M)"triggerUpdate"in r?r.triggerUpdate(this.Q):oi(r.hostUpdate,r,this.Q)},hostUpdated:()=>{for(const r of i.M)"triggerUpdated"in r?r.triggerUpdated(this.Q):oi(r.hostUpdated,r,this.Q);this.Q=void 0}}),queueMicrotask(()=>this.R=!0),qv(i)}async destroy(){if(!this.destroyed){me(this,No).el.isConnected&&(this.hasDestroy=!1,me(this,No).el.remove()),xt(this,Jl,void 0),this.destroyed=!0;for(const i of me(this,No).M)"triggerDestroy"in i?i.triggerDestroy():oi(i.hostDestroy,i);me(this,No).M.splice(0)}}U(){me(this,Jl)!==void 0&&clearTimeout(me(this,Jl)),!me(this,No).el.isConnected&&!me(this,No).autoDestroyDisabled&&xt(this,Jl,V6e(()=>void me(this,No).destroy(),uIe))}S(i,r){const s=this.T;this.V=$i,this.T=[],s.forEach(n=>n(i,r))}W(i,r){(typeof r=="object"&&r!==null||typeof r=="function")&&me(this,Ay).set(r,i)}X(i){if(typeof i=="object"&&i!==null||typeof i=="function")return me(this,Ay).get(i)}}Jl=new WeakMap,No=new WeakMap,Ay=new WeakMap;let uIe=1e3;const eC="autoDestroyDisabled";var Nd,hw,dw,Dd,Ma,Xy,Zee,Yee;const E1=class E1 extends Wm{constructor(){super();Rt(this,Xy);Rt(this,Nd);Rt(this,hw);Rt(this,dw);Rt(this,Dd);Rt(this,Ma);this.M=[],this.manager=new lIe(this);const i=this,r=i.constructor,s=r.N,n=r.K.o,o=E1.prototype.shouldUpdate;xt(i,Dd,(s==null?void 0:s.H)??new uw),i.I=(s==null?void 0:s.I)??new uw,i.J=(s==null?void 0:s.J)??[],i._offspring=i.J,i._postLoad=i.I,i.el=s??i,xt(i,dw,i.enableUpdating),i.enableUpdating=qee,i.shouldUpdate!==o&&(xt(i,hw,i.shouldUpdate),i.shouldUpdate=o),n&&(xt(i,Nd,new Map),r.elementProperties.forEach((l,c)=>me(i,Nd).set(c,n())))}static finalizeStyles(i){var n;const r=super.finalizeStyles(i),s=this.shadowRootOptions===hz;return((n=this.K)==null?void 0:n.commonStyles)===void 0||s?r:[this.K.commonStyles,...r]}static createProperty(i,r){const s=typeof r=="number"?r:Array.isArray(r)?r[0]:0,n=Array.isArray(r)?r[1]:void 0,o=(n==null?void 0:n.hasChanged)??cI,l={attribute:s&Y6e&&typeof i=="string"?W6e(i):!1,reflect:!!(s&J6e),type:s&K6e?Boolean:s&X6e?Number:void 0,state:!!(s&Q6e),readOnly:!!(s&eIe),noAccessor:!!(s&tIe),c:!1,...n,hasChanged(c,d){const m=o(c,d);return l.c=m,m}};super.createProperty(i,l)}static getPropertyDescriptor(i,r,s){const n=this.K,o=super.getPropertyDescriptor(i,r,s);return s.d=o,{...o,get(){var l,c;return(l=n.t)==null||l.call(n,me(this,Nd).get(i)),(c=o.get)==null?void 0:c.call(this)},set(l){var d,m;const c=this.manager;if(s.readOnly&&!Kk&&(c.R||c.connectedCalled))throw Error(`Cannot assign to read-only property "${i}" of ${this.el.localName}. Trying to assign "${l}"`);o.set.call(this,l??void 0),s.c&&((m=(d=me(this,Nd))==null?void 0:d.get(i))==null||m.notify()),c.T.length>0&&(s3(),c==null||c.S(i,l))}}}connectedCallback(){var s,n;if(this.el.hasAttribute("defer-hydration"))return;const i=(n=(s=this.constructor.K).c)==null?void 0:n.call(s,()=>this.requestUpdate());xt(this,Ma,i);const r=!this.manager.connectedCalled;super.connectedCallback(),r?queueMicrotask(()=>Vu(this,Xy,Yee).call(this).catch(o=>{me(this,Dd).reject(o),setTimeout(()=>{throw o})})):i&&this.requestUpdate()}disconnectedCallback(){var i;super.disconnectedCallback(),(i=me(this,Ma))==null||i.destroy(),xt(this,Ma,void 0)}createRenderRoot(){const i=this.el.shadowRoot,r=this.constructor,s=r.shadowRootOptions,o=i??(s===hz?this.el:this.el.attachShadow(s));if(this.isConnected){const l=o.getRootNode();l.adoptedStyleSheets=[...l.adoptedStyleSheets,...r.elementStyles.map(c=>"styleSheet"in c?c.styleSheet:c)]}return o}shouldUpdate(i){var r;return this.manager.Q=i,((r=me(this,hw))==null?void 0:r.call(this,i))??!0}update(i){me(this,Ma)?Vu(this,Xy,Zee).call(this,i):super.update(i)}listen(i,r,s){const n=(r==null?void 0:r.bind(this))??r;this.manager.onLifecycle(()=>(this.el.addEventListener(i,n,s),()=>this.el.removeEventListener(i,n,s)))}listenOn(i,r,s,n){const o=(s==null?void 0:s.bind(this))??s;this.manager.onLifecycle(()=>(i.addEventListener(r,o,n),()=>i.removeEventListener(r,o,n)))}async componentOnReady(){return await me(this,Dd).promise,this}addController(i){var r;this.M.push(i),!(oI in i)&&this.renderRoot&&this.el.isConnected&&((r=i.hostConnected)==null||r.call(i))}removeController(i){var r;this.M.splice(this.M.indexOf(i),1),(r=i.controllerRemoved)==null||r.call(i)}};Nd=new WeakMap,hw=new WeakMap,dw=new WeakMap,Dd=new WeakMap,Ma=new WeakMap,Xy=new WeakSet,Zee=function(i){try{me(this,Ma).clear(),this.constructor.K.r(me(this,Ma),()=>jN(E1.prototype,this,"update").call(this,i))}catch(r){throw me(this,Ma).clear(),r}},Yee=async function(){var n,o;const i=this.el.G??Uee(this.el);i&&await i;const r=[];for(const l of this.M)"triggerLoad"in l?r.push(l.triggerLoad()):r.push(Jk(l.hostLoad,l));await Promise.all(r),await((n=this.load)==null?void 0:n.call(this)),this.manager.hasDestroy&&this.manager.onUpdate(l=>l.has(eC)&&this.manager.U()),me(this,dw).call(this,!0),this.performUpdate(),this.I.resolve(),await Promise.resolve();const s=this.J.filter(l=>{var c;return!((c=l.manager)!=null&&c.loadedCalled)});s.length&&await Promise.allSettled(s.map(async l=>await l.componentOnReady())),this.J.length=0,this.el.setAttribute(this.constructor.K.hydratedAttribute,"");for(const l of this.M)"triggerLoaded"in l?l.triggerLoaded():oi(l.hostLoaded,l);(o=this.loaded)==null||o.call(this),me(this,Dd).resolve()},E1.lumina=!0;let pz=E1;const cIe=t=>{let e;const i=s=>{var n;e=new URL(s,((n=globalThis.location)==null?void 0:n.href)||void 0).href},r={...t,getAssetPath(s){var o;const n=new URL(s,e);return n.origin!==((o=globalThis.location)==null?void 0:o.origin)?n.href:n.pathname},setAssetPath:i,customElement(s,n){n.K=r,n.L=s,customElements.get(s)||customElements.define(s,n)}};return i(t.defaultAssetPath),r},wBe=t=>typeof t=="object"&&t!=null?nIe(t):t,bBe=t=>typeof t=="object"&&t!=null?aIe(t):t,_Be=$i;function SBe(t,e,i){i==null?t.removeAttribute(e):t.setAttribute(e,i)}const xBe={toAttribute:t=>t===!0?"":t===!1?null:t},hIe="calcite-mode-auto",dIe="calcite-mode-dark",TBe={rtl:"calcite--rtl"},$Be={filter:250,nextTick:0,resize:150,reposition:100},MBe=25;function fz(){const{classList:t}=document.body,e=window.matchMedia("(prefers-color-scheme: dark)").matches,i=()=>t.contains(dIe)||t.contains(hIe)&&e?"dark":"light",r=o=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:o}})),s=o=>{n!==o&&r(o),n=o};let n=i();r(n),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",o=>s(o.matches?"dark":"light")),new MutationObserver(()=>s(i())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}const au=globalThis.calciteConfig,EBe=(au==null?void 0:au.focusTrapStack)||[],ABe=(au==null?void 0:au.logLevel)||"info",mz="3.3.3",pIe="2025-10-08",fIe="7391af08e";function mIe(){if(au&&au.version)return;console.info(`Using Calcite Components ${mz} [Date: ${pIe}, Revision: ${fIe}]`);const t=au||globalThis.calciteConfig||{};Object.defineProperty(t,"version",{value:mz,writable:!1}),globalThis.calciteConfig=t}document.readyState==="interactive"?fz():document.addEventListener("DOMContentLoaded",fz,{once:!0});queueMicrotask(mIe);const yIe=cIe({defaultAssetPath:"https://js.arcgis.com/calcite-components/3.3.3/",hydratedAttribute:"calcite-hydrated"}),{customElement:OBe,getAssetPath:kBe,setAssetPath:gIe}=yIe;/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */let Jee=!1;const vIe=t=>{Jee=!0,gIe(t)};let Kee;function wIe(){Jee||vIe(eo(bi(Kee)))}function Yw(t){var i;const e=[];for(const r of Object.keys(t))customElements.get(`calcite-${r}`)||e.push((i=t[r])==null?void 0:i.call(t));return e.length>0?Promise.all(e):null}Kee="components/assets";const Xee=Symbol("widget"),Qee=Symbol("widget-test-data"),bIe=[],_Ie={},qx=new WeakMap;function ete(t,e){let i=e.children;if(i!=null&&i.length)for(let s=0;s<i.length;++s)i[s]=ete(t,i[s]);else i=bIe;const r=e.vnodeSelector;if(Bx(r)){const s=e.properties||_Ie,n=s.key||r,o={key:n,afterCreate:SIe,afterUpdate:xIe,afterRemoved:tte,parentWidget:t,widgetConstructor:r,widgetProperties:{...s,key:n,children:i}};return{vnodeSelector:r.vnodeSelector,properties:o,children:void 0,text:void 0,domNode:null}}return e}function SIe(t,e,i,{parentWidget:r,widgetConstructor:s,widgetProperties:n}){var l;const o=new s(n);o.container=t,qx.set(t,o),(l=o.afterCreate)==null||l.call(o,o,t),r.addHandles(at(()=>tte(t))),queueMicrotask(()=>{var c;(c=o[Qee].projector)==null||c.renderNow()})}function xIe(t,e,i,{widgetProperties:r}){var n;const s=qx.get(t);s&&(s.set(r),(n=s.afterUpdate)==null||n.call(s,s,t))}function tte(t){var i;const e=qx.get(t);e&&((i=e.afterRemoved)==null||i.call(e,e,t),e.destroy(),qx.delete(t))}function Bx(t){return typeof t=="function"&&t[Xee]}const yz=new Set;function TIe(t){yz.add(t),t.finally(()=>yz.delete(t))}function $Ie(t){return at()}var gz;let MIe=0;function ite(t,e){const i=Object.prototype.hasOwnProperty;for(const r in e)i.call(e,r)&&i.call(t,r)&&(t[r]!=null&&e[r]!=null&&typeof t[r]=="object"&&typeof e[r]=="object"?ite(t[r],e[r]):t[r]=e[r]);return t}const EIe=f6e({postProcessProjectionOptions(t){const e=t.eventHandlerInterceptor,i=/capture$/i;t.eventHandlerInterceptor=(r,s,n,o)=>{const l=e==null?void 0:e(r,s,n,o),c=i.test(r);if(!((r=r.replace(i,"")).toLowerCase()in n)||c){const d=r[2].toLowerCase()+r.slice(3),m=_=>l==null?void 0:l.call(n,_);n.addEventListener(d,m,c);const v=()=>n.removeEventListener(d,m,c),w=o.afterRemoved;o.afterRemoved=_=>{w==null||w(_),v()}}return l}},handleInterceptedEvent(t,e,i,r){const{eventPhase:s,type:n}=r,o=s===Event.CAPTURING_PHASE;let l=`on${n}${o?"capture":""}`;const c=e.properties;(c&&l in c||(l=`on${n[0].toUpperCase()}${n.slice(1)}${o?"Capture":""}`,c&&l in c))&&(Iee(),t.scheduleRender(),c[l].call(c.bind||i,r))}});let vE=!1;var rp;let fr=(rp=class extends gY(hg){constructor(e,i){super(e,i),this._attached=!1,this._projector=EIe,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=JC(async()=>{var c;if((c=this._messageBundleProps)!=null&&c.length){const d=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:m,propertyName:v})=>{if(this.destroyed)return;let w=await EY(m);this.destroyed||(this.uiStrings&&Object.keys(this.uiStrings)&&(w=ite(G(w),this.uiStrings)),this[v]=w)}));if(this.destroyed)return;for(const m of d)m.status==="rejected"&&se.getLogger(this).error("widget-intl:locale-error",this.declaredClass,m.reason)}await this.loadLocale()}),this.addHandles($Ie()),wIe();const r="esri-widget-uid-"+xg(),s=this.render.bind(this);this._trackingTarget=new rT(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const n=()=>({vnodeSelector:"div",properties:{key:`${r}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),o=()=>{var v,w;if(!this._readyForTrueRender||this.destroyed)return null;const c=s()??n(),d=c.properties??(c.properties={});if(d.key??(d.key=r),Bx(c.vnodeSelector)){if(!this.visible)return n()}else this.visible?d.styles||(d.styles={}):(d.class="",d.styles={display:"none"}),(v=d.styles).display??(v.display="");let m=0;return(w=c.children)==null||w.forEach(_=>{var x;Bx(_.vnodeSelector)||(_.properties??(_.properties={}),(x=_.properties).key??(x.key=`${this.id}--${m++}`))}),ete(this,c)};this.render=()=>{if(vE)return o();let c=e6e(this)??null;if(c)return c;this._trackingTarget.clear(),vE=!0;try{c=hu(this._trackingTarget,o)}catch(d){throw se.getLogger(this).error(d),d}finally{vE=!1}return c&&t6e(this,c),c};const l=this.beforeFirstRender();l?this._resourcesFetch=l.then(()=>{this.destroyed||(this._readyForTrueRender=!0,this._postInitialize())}):(this._resourcesFetch=Promise.resolve().then(()=>{this.destroyed||this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),TIe(this._resourcesFetch)}normalizeCtorArgs(e,i){const r={...e};return i&&(r.container=i),r}postInitialize(){}beforeFirstRender(){var i;const e=this.loadDependencies();return(i=this._messageBundleProps)!=null&&i.length||e?Promise.all([e,this._loadLocale()]).then(()=>{}).catch(A8):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(ti(this._trackingTarget),ti(this.viewModel),this._detach(this.container),this._set("container",null),this.render=()=>null,this._projector=null,hE(this))}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return z6(e)}get destroyed(){return super.destroyed}get domNode(){return this.container}set domNode(e){this.container=e}get icon(){return null}set icon(e){this._overrideIfSome("icon",e)}get id(){var e;return this._get("id")||((e=this.container)==null?void 0:e.id)||Date.now().toString(16)+"-widget-"+MIe++}set id(e){e&&this._set("id",e)}get label(){return this.declaredClass.split(".").pop()}set label(e){this._overrideIfSome("label",e)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(e){this._set("visible",e)}get[(gz=Xee,Qee)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(hE(this),this._projector.scheduleRender())}classes(...e){return i6e.apply(this,e)}renderNow(){hE(this),this._projector.renderNow()}_postInitialize(){var i;if(this.destroyed)return;this.scheduleRender(),(i=this._delegatedEventNames)!=null&&i.length&&this.addHandles(Le(()=>this.viewModel,(r,s)=>{s&&this.removeHandles("delegated-events"),r&&iT(r)&&this.addHandles(this._delegatedEventNames.map(n=>ag(r,n,o=>{this.emit(n,o)})),"delegated-events")},qr)),this.postInitialize();const e=async()=>{await this._loadLocale().catch(A8),this.scheduleRender()};this.addHandles([qH(e),Le(()=>this.uiStrings,e)]),this.addHandles(Sn(()=>this.container,r=>{this.destroyed||this._attach(r)},{initial:!0,once:!0}))}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){var i;this._attached&&(this._projector.detach(this.render),this._attached=!1),(i=e==null?void 0:e.parentNode)==null||i.removeChild(e)}},rp[gz]=!0,rp.vnodeSelector="div",rp);h([f()],fr.prototype,"_readyForTrueRender",void 0),h([f({value:null})],fr.prototype,"container",null),h([Ot("container")],fr.prototype,"castContainer",null),h([f()],fr.prototype,"icon",null),h([f()],fr.prototype,"id",null),h([f()],fr.prototype,"label",null),h([f()],fr.prototype,"renderable",null),h([f()],fr.prototype,"uiStrings",void 0),h([f()],fr.prototype,"viewModel",void 0),h([f({value:!0})],fr.prototype,"visible",null),h([f()],fr.prototype,"key",void 0),h([f()],fr.prototype,"children",void 0),h([f()],fr.prototype,"afterCreate",void 0),h([f()],fr.prototype,"afterUpdate",void 0),h([f()],fr.prototype,"afterRemoved",void 0),fr=h([I("esri.widgets.Widget")],fr);const Og=fr,AIe=new Map;function OIe(t){return AIe.get(t)}function vz(t,e){return t&&"copyright"in t&&(!e||typeof t.originOf=="function"&&t.originOf("copyright")==="user")}function kIe(t,e){return t.length!==e.length||t.some((i,r)=>i.text!==e[r].text)}function o2(t,e,i){!i||!e||t.find(r=>r.layerView===e&&r.text===i)||t.push({text:i,layerView:e})}function CIe(t){return t.type==="bing-maps"}const ha=[];let um=class extends $e{constructor(t){super(t),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new ge,this.view=null,this._allLayerViewsChange=e=>{var r;this.removeHandles("suspension"),this.removeHandles("visible-geometry-changed");const i=(r=this.view)==null?void 0:r.allLayerViews;i&&(this.addHandles(i.map(s=>Le(()=>{var n;return[s.suspended,(n=s.layer)==null?void 0:n.attributionVisible]},()=>this._updateAttributionItems())).toArray(),"suspension"),i.forEach(s=>{s.declaredClass==="esri.views.3d.layers.IntegratedMesh3DTilesLayerView3D"&&this.addHandles(s.on("visible-geometry-changed",()=>this._updateAttributionItems()),"visible-geometry-changed")})),e!=null&&e.removed&&e.removed.forEach(s=>{this._pendingAttributions.delete(s),this._fetchedAttributionData.delete(s)}),this._updateAttributionItems()},this.addHandles([mp(()=>{var e;return(e=this.view)==null?void 0:e.allLayerViews},"change",e=>this._allLayerViewsChange(e),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),Sn(()=>{var e;return((e=this.view)==null?void 0:e.stationary)===!0},()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){var t;return(t=this.view)!=null&&t.ready?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const t=this.view,e=t==null?void 0:t.allLayerViews;ha.length=0;let i=!1,r=null;if(!t||!e)return void this._clear();e.forEach(n=>{var c,d;if(n.suspended||!((c=n.layer)!=null&&c.attributionVisible))return;const o=n.layer;if(vz(o,"user"))return void o2(ha,n,o.copyright);if(o.type==="integrated-mesh-3dtiles"&&o.hasGoogleUrl&&(i=!0,r=n),o.hasAttributionData){if(this._fetchedAttributionData.has(n)){const m=this._fetchedAttributionData.get(n);return void(m?o2(ha,n,this._getDynamicAttribution(m,t,o)):vz(o)&&o2(ha,n,o.copyright))}return void this._fetchAttributionData(n)}const l="portalItem"in o?(d=o.portalItem)==null?void 0:d.accessInformation:void 0;o2(ha,n,l||o.copyright)});const s=e.find(n=>{var o;return((o=n.layer)==null?void 0:o.type)==="integrated-mesh-3dtiles"});if(this.view&&s){const n=OIe(this.view);if(n){const o=n.getAttributionText();for(let l=o.length-1;l>-1;--l)ha.unshift({text:o[l],layerView:s})}}i&&r&&ha.unshift({text:"Google Maps",layerView:r}),kIe(this.items,ha)&&(this.items.removeAll(),this.items.addMany(ha)),ha.length=0,this.notifyChange("state")}async _fetchAttributionData(t){if(this._pendingAttributions.has(t))return;this._pendingAttributions.add(t);const e=await S6(t.layer.fetchAttributionData());if(this._pendingAttributions.has(t)){const i=e.ok?this._createContributionIndex(e.value,CIe(t.layer)):null;this._pendingAttributions.delete(t),this._fetchedAttributionData.set(t,i)}this._updateAttributionItems()}_createContributionIndex(t,e){const i=t.contributors,r={};if(!i)return r;for(let s=0;s<i.length;s++){const n=i[s],o=n.coverageAreas;if(!o)return;for(const l of o){const c=l.bbox,d=l.zoomMin-(e&&l.zoomMin?1:0),m=l.zoomMax-(e&&l.zoomMax?1:0),v=new Ye({xmin:c[1],ymin:c[0],xmax:c[3],ymax:c[2],spatialReference:Se.WGS84}),w={extent:Bd(v),attribution:n.attribution||"",score:l.score!=null?l.score:100,id:s};for(let _=d;_<=m;_++)r[_]??(r[_]=[]),r[_].push(w)}}return r.maxKey=Math.max.apply(null,Object.keys(r)),r}_getDynamicAttribution(t,e,i){var d;const{extent:r,scale:s}=e;let n=((d=i.tileInfo)==null?void 0:d.scaleToZoom(s))??0;if(n=Math.min(t.maxKey??0,Math.round(n)),!r||n==null||n<=-1)return"";const o=t[n],l=TT(r.center.clone().normalize(),Se.WebMercator),c=new Set;return o?o.filter(m=>{const v=m.id,w=!c.has(v)&&l&&m.extent&&Iw(m.extent,l);return w&&c.add(v),w}).sort((m,v)=>v.score-m.score||m.objectId-v.objectId).map(m=>m.attribution).join(", "):""}};h([f({readOnly:!0,type:ge})],um.prototype,"items",void 0),h([f({readOnly:!0})],um.prototype,"state",null),h([f()],um.prototype,"view",void 0),um=h([I("esri.widgets.Attribution.AttributionViewModel")],um);const rte=um,Zs={button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",empty:"esri-widget__content--empty",heading:"esri-widget__heading",interactive:"esri-interactive",panel:"esri-widget--panel",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button"};function RIe(){return function(t,e){if(!t[e])throw new TypeError(`Cannot auto bind undefined function '${String(e)}'`);return{value:PIe(t[e])}}}function IIe(t){const e=t==null?void 0:t.type;return t instanceof KeyboardEvent||e==="keyup"||e==="keydown"||e==="keypress"}function PIe(t){return function(e,...i){IIe(e)?s6e(e.key)&&(e.preventDefault(),e.stopPropagation(),e.target.click()):t.call(this,e,...i)}}function vp(t){return(e,i)=>{e.hasOwnProperty("_messageBundleProps")||(e._messageBundleProps=e._messageBundleProps?e._messageBundleProps.slice():[]),e._messageBundleProps.push({bundlePath:t,propertyName:i})}}var jIe=function(t){return{vnodeSelector:"",properties:void 0,children:void 0,text:t.toString(),domNode:null}},ste=function(t,e){for(var i=0,r=t.length;i<r;i++){var s=t[i];Array.isArray(s)?ste(s,e):s!=null&&s!==!1&&(s.hasOwnProperty("vnodeSelector")||(s=jIe(s)),e.push(s))}},NIe=function(t,e){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(i.length===1&&typeof i[0]=="string")return{vnodeSelector:t,properties:e||void 0,children:void 0,text:i[0],domNode:null};var s=[];return ste(i,s),{vnodeSelector:t,properties:e||void 0,children:s,text:void 0,domNode:null}};function sr(t,e,...i){return typeof t!="function"||Bx(t)?NIe(t,e??null,...i):t(e,...i)}function CBe(...t){return t}const jf="esri-attribution",Nf={base:jf,poweredBy:`${jf}__powered-by`,sources:`${jf}__sources`,open:`${jf}--open`,sourcesOpen:`${jf}__sources--open`,link:`${jf}__link`};let os=class extends Og{constructor(e,i){super(e,i),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(r=>r.forEach(({target:s})=>this._checkSourceTextOverflow(s))),this.itemDelimiter=" | ",this.messages=null,this.viewModel=new rte}initialize(){this.addHandles(mp(()=>{var e;return(e=this.viewModel)==null?void 0:e.items},"change",()=>this.scheduleRender()))}destroy(){var e;(e=this._resizeObserver)==null||e.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((e,i)=>(e.includes(i.text)||e.push(i.text),e),[]).join(this.itemDelimiter)}get icon(){return"description"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const e={[Nf.open]:this._isOpen};return sr("div",{bind:this,class:this.classes(Nf.base,Zs.widget,e),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return sr("div",{class:Nf.poweredBy},"Powered by"," ",sr("a",{class:Nf.link,href:"https://www.esri.com/",rel:"noreferrer",target:"_blank"},"Esri"))}_renderSourcesNode(){const e=this._isOpen,i=this._isInteractive,r=i?0:void 0,{attributionText:s}=this,n={[Nf.sourcesOpen]:e,[Zs.interactive]:i};return sr("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(Nf.sources,n),innerHTML:s,tabIndex:r})}_afterSourcesNodeCreate(e){this._prevSourceNodeHeight=e.clientWidth,this._resizeObserver.observe(e)}_checkSourceTextOverflow(e){let i=!1;const{clientHeight:r,clientWidth:s,scrollWidth:n}=e,o=n>s,l=this._attributionTextOverflowed!==o;if(this._attributionTextOverflowed=o,l&&(i=!0),this._isOpen){const c=r<this._prevSourceNodeHeight;this._prevSourceNodeHeight=r,c&&(this._isOpen=!1,i=!0)}i&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};h([f()],os.prototype,"_isOpen",void 0),h([f()],os.prototype,"_isInteractive",null),h([f()],os.prototype,"_attributionTextOverflowed",void 0),h([f()],os.prototype,"_prevSourceNodeHeight",void 0),h([f({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],os.prototype,"attributionText",null),h([f()],os.prototype,"icon",null),h([f()],os.prototype,"itemDelimiter",void 0),h([f()],os.prototype,"label",null),h([f(),vp("esri/widgets/Attribution/t9n/Attribution")],os.prototype,"messages",void 0),h([f()],os.prototype,"view",null),h([f({type:rte})],os.prototype,"viewModel",void 0),h([RIe()],os.prototype,"_toggleState",null),os=h([I("esri.widgets.Attribution")],os);const DIe=os;function LIe(){const t=q("mapview-essential-goto-duration");return t==null?t:t}function VIe(t){var e,i;return((e=t==null?void 0:t.spatialReference)==null?void 0:e.isWebMercator)||((i=t==null?void 0:t.spatialReference)==null?void 0:i.isGeographic)||!1}function FIe(t,e,i){return t.goTo(e,i)}const nte=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.goToOverride=null,this.view=null}callGoTo(r){const{view:s}=this;return vB(s),this.goToOverride?this.goToOverride(s,r):FIe(s,r.target,r.options)}};return h([f()],i.prototype,"goToOverride",void 0),h([f()],i.prototype,"view",void 0),i=h([I("esri.widgets.support.GoTo")],i),i};let md=class extends nte($e){constructor(e){super(e),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._watchForView(Qr)}destroy(){this.view=null}get canShowNorth(){return VIe(this.view)}get state(){var e;return!((e=this.view)!=null&&e.ready)||this.view.type==="2d"&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){var e,i;(e=this.view)!=null&&e.ready&&(((i=this.view)==null?void 0:i.type)==="2d"?this.callGoTo({target:{rotation:0},options:{animationMode:"always",duration:LIe()}}):this.callGoTo({target:{heading:0}}))}_updateForRotation(e){e!=null&&this._set("orientation",{z:e})}_updateForCamera(e){if(!e)return;const i=-e.heading;this._set("orientation",{x:0,y:0,z:i})}_updateRotationWatcher(e){this.removeAllHandles(),this._watchForView(),e&&this.addHandles(e.type==="2d"?Le(()=>e==null?void 0:e.rotation,this._updateForRotation,Qr):Le(()=>e==null?void 0:e.camera,this._updateForCamera,Qr))}_watchForView(e){this.addHandles(Le(()=>this.view,this._updateRotationWatcher,e))}};h([f({readOnly:!0})],md.prototype,"canShowNorth",null),h([f({readOnly:!0})],md.prototype,"orientation",void 0),h([f({readOnly:!0})],md.prototype,"state",null),h([f()],md.prototype,"view",void 0),md=h([I("esri.widgets.Compass.CompassViewModel")],md);const ote=md,wz="esri-compass",bz={base:wz,iconContainer:`${wz}__icon-container`};let Ol=class extends Og{constructor(e,i){super(e,i),this.messages=null,this.viewModel=new ote,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=r=>({transform:`rotateZ(${r.z}deg)`})}loadDependencies(){return Yw({button:()=>re(()=>import("./index-3kA0jplO.js"),__vite__mapDeps([322,323,324,325,326,327,328,329,330,331,332,333,334,335])),icon:()=>re(()=>import("./index-ByXCr-AF.js").then(e=>e.i),__vite__mapDeps([327,328,329]))})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get icon(){return this.viewModel.state==="rotation"?"arrow-up":"compass-needle"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}reset(){return this.viewModel.reset()}render(){const{orientation:e,state:i}=this.viewModel,{messages:r}=this;return sr("div",{class:this.classes(bz.base,Zs.widget)},sr("calcite-button",{class:Zs.widgetButton,disabled:i==="disabled",kind:"neutral",label:r.reset,onclick:this._reset,round:!0,scale:"s",title:r.reset},sr("div",{"aria-hidden":"true",class:bz.iconContainer,title:r.reset},sr("calcite-icon",{icon:this.icon,styles:this._toRotationTransform(e)}))))}};h([f()],Ol.prototype,"goToOverride",null),h([f()],Ol.prototype,"icon",null),h([f()],Ol.prototype,"label",null),h([f(),vp("esri/widgets/Compass/t9n/Compass")],Ol.prototype,"messages",void 0),h([f()],Ol.prototype,"view",null),h([f({type:ote})],Ol.prototype,"viewModel",void 0),Ol=h([I("esri.widgets.Compass")],Ol);const zIe=Ol,_z="esri-navigation-toggle",Sz={base:_z,isLayoutHorizontal:`${_z}--horizontal`};let cm=class extends $e{constructor(t){super(t),this._navigationMode="pan",this.view=null,t!=null&&t.isDefaultViewModel||Rce(se.getLogger(this),"Navigation Toggle","arcgis-navigation-toggle",{version:"4.33"})}normalizeCtorArgs(t={}){const{isDefaultViewModel:e,...i}=t;return i}initialize(){this.addHandles(Sn(()=>{var t,e;return(e=(t=this.view)==null?void 0:t.navigation)==null?void 0:e.actionMap},()=>this._updateNavigationActionMap()))}destroy(){this.view=null}get state(){var t,e;return(t=this.view)!=null&&t.ready&&((e=this.view)==null?void 0:e.type)==="3d"?"ready":"disabled"}get navigationMode(){return this._navigationMode}set navigationMode(t){this._navigationMode=t,this._updateNavigationActionMap()}toggle(){this.state!=="disabled"&&(this.navigationMode=this.navigationMode!=="pan"?"pan":"rotate")}_updateNavigationActionMap(){var i,r;const t=(r=(i=this.view)==null?void 0:i.navigation)==null?void 0:r.actionMap;if(!t)return;const e=this._navigationMode==="pan";t.dragPrimary=e?"pan":"rotate",t.dragSecondary=e?"rotate":"pan"}};h([f({readOnly:!0})],cm.prototype,"state",null),h([f()],cm.prototype,"_navigationMode",void 0),h([f()],cm.prototype,"view",void 0),cm=h([I("esri.widgets.NavigationToggle.NavigationToggleViewModel")],cm);const ate=cm;let kl=class extends Og{constructor(e,i){super(e,i),this.messages=null,this.viewModel=new ate({isDefaultViewModel:!0}),this.toggle=()=>this.viewModel.toggle(),this._panButton=null,this._rotateButton=null,this._toggle=()=>{var s;const r=((s=this.viewModel)==null?void 0:s.navigationMode)==="pan"?this._rotateButton:this._panButton;n6e(r),this.toggle()},e!=null&&e.isDefaultUI||FC(se.getLogger(this),"Navigation Toggle","arcgis-navigation-toggle",{version:"4.32"})}normalizeCtorArgs(e={}){const{isDefaultUI:i,...r}=e;return r}loadDependencies(){return Yw({button:()=>re(()=>import("./index-3kA0jplO.js"),__vite__mapDeps([322,323,324,325,326,327,328,329,330,331,332,333,334,335]))})}get icon(){return"move"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}set layout(e){e!=="horizontal"&&(e="vertical"),this._set("layout",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){var s,n;const e=((s=this.viewModel)==null?void 0:s.state)==="disabled",i=((n=this.viewModel)==null?void 0:n.navigationMode)==="pan",r=this.messages.toggle;return sr("div",{class:this.classes(Sz.base,Zs.widget,{[Sz.isLayoutHorizontal]:this.layout==="horizontal"})},sr("calcite-button",{afterCreate:o=>{this._panButton=o},appearance:i?"outline-fill":"solid",class:Zs.widgetButton,disabled:e,iconStart:"move",kind:"neutral",label:r,onclick:this._toggle,tabIndex:i?void 0:-1,title:r}),sr("calcite-button",{afterCreate:o=>{this._rotateButton=o},appearance:i?"solid":"outline-fill",class:Zs.widgetButton,disabled:e,iconStart:"rotate",kind:"neutral",label:r,onclick:this._toggle,tabIndex:i?-1:void 0,title:r}))}};h([f()],kl.prototype,"icon",null),h([f()],kl.prototype,"label",null),h([f({value:"vertical"})],kl.prototype,"layout",null),h([f(),vp("esri/widgets/NavigationToggle/t9n/NavigationToggle")],kl.prototype,"messages",void 0),h([f()],kl.prototype,"view",null),h([f({type:ate})],kl.prototype,"viewModel",void 0),kl=h([I("esri.widgets.NavigationToggle")],kl);const UIe=kl;let yd=class extends $e{get canZoomIn(){var r,s,n;if(!((r=this.view)==null?void 0:r.ready))return!1;const i=(n=(s=this.view)==null?void 0:s.constraints)==null?void 0:n.effectiveMaxScale;return i===0||this._scale>i}get canZoomOut(){var s;const{view:e}=this;if(!(e==null?void 0:e.ready))return!1;const r=(s=e.constraints)==null?void 0:s.effectiveMinScale;return r===0||this._scale<r}get _scale(){var i,r,s;const e=(r=(i=this.view)==null?void 0:i.animation)==null?void 0:r.target;return(e&&"then"in e||e==null?void 0:e.scale)??((s=this.view)==null?void 0:s.scale)??0}};h([f({readOnly:!0})],yd.prototype,"canZoomIn",null),h([f({readOnly:!0})],yd.prototype,"canZoomOut",null),h([f()],yd.prototype,"view",void 0),h([f()],yd.prototype,"_scale",null),yd=h([I("esri.widgets.Zoom.ZoomConditions2D")],yd);const qIe=yd;let hm=class extends $e{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};h([f({readOnly:!0})],hm.prototype,"canZoomIn",null),h([f({readOnly:!0})],hm.prototype,"canZoomOut",null),h([f()],hm.prototype,"view",void 0),hm=h([I("esri.widgets.Zoom.ZoomConditions3D")],hm);const BIe=hm;let lc=class extends $e{constructor(e){super(e)}destroy(){this.view=null}get canZoomIn(){return this._zoomConditions!=null&&this._zoomConditions.canZoomIn}get canZoomOut(){var e;return this._zoomConditions!=null&&((e=this._zoomConditions)==null?void 0:e.canZoomOut)}get state(){var e;return(e=this.view)!=null&&e.ready?"ready":"disabled"}set view(e){e?e.type==="2d"?this._zoomConditions=new qIe({view:e}):e.type==="3d"&&(this._zoomConditions=new BIe({view:e})):this._zoomConditions=null,this._set("view",e)}zoomIn(){const e=this.view;this.canZoomIn&&e&&(e.type==="2d"?e.mapViewNavigation.zoomIn():j1(e.goTo({zoomFactor:2})))}zoomOut(){const e=this.view;this.canZoomOut&&e&&(e.type==="2d"?e.mapViewNavigation.zoomOut():j1(e.goTo({zoomFactor:.5})))}};h([f()],lc.prototype,"_zoomConditions",void 0),h([f()],lc.prototype,"canZoomIn",null),h([f()],lc.prototype,"canZoomOut",null),h([f({readOnly:!0})],lc.prototype,"state",null),h([f()],lc.prototype,"view",null),lc=h([I("esri.widgets.Zoom.ZoomViewModel")],lc);const lte=lc,xz={base:"esri-zoom",horizontalLayout:"esri-zoom--horizontal"};let Cl=class extends Og{constructor(e,i){super(e,i),this.messages=null,this.viewModel=new lte,this.zoomIn=()=>this.viewModel.zoomIn(),this.zoomOut=()=>this.viewModel.zoomOut()}loadDependencies(){return Yw({button:()=>re(()=>import("./index-3kA0jplO.js"),__vite__mapDeps([322,323,324,325,326,327,328,329,330,331,332,333,334,335]))})}get icon(){return"magnifying-glass-plus"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}set layout(e){e!=="horizontal"&&(e="vertical"),this._set("layout",e)}set view(e){this.viewModel.view=e}get view(){return this.viewModel.view}render(){const e={[xz.horizontalLayout]:this.layout==="horizontal"},{canZoomIn:i,canZoomOut:r}=this.viewModel,{zoomIn:s,zoomOut:n}=this.messages;return sr("div",{class:this.classes(xz.base,Zs.widget,e)},sr("calcite-button",{class:Zs.widgetButton,disabled:!i,iconStart:"plus",kind:"neutral",label:s,onclick:this.zoomIn,title:s}),sr("calcite-button",{class:Zs.widgetButton,disabled:!r,iconStart:"minus",kind:"neutral",label:n,onclick:this.zoomOut,title:n}))}};h([f()],Cl.prototype,"icon",null),h([f()],Cl.prototype,"label",null),h([f({value:"vertical"})],Cl.prototype,"layout",null),h([f(),vp("esri/widgets/Zoom/t9n/Zoom")],Cl.prototype,"messages",void 0),h([f()],Cl.prototype,"view",null),h([f({type:lte})],Cl.prototype,"viewModel",void 0),Cl=h([I("esri.widgets.Zoom")],Cl);const GIe=Cl;function HIe(t){return(t==null?void 0:t.view)!==void 0}let $S=class extends l6e{constructor(t){super(t),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=e=>{this.components.forEach(i=>{const r=this._find(i),s=r==null?void 0:r.widget;HIe(s)&&(s.view=e)})},this._componentsWatcher=(e,i)=>{this._removeComponents(i),this._addComponents(e),this._adjustPadding(e)}}initialize(){this.addHandles([Le(()=>this.components,this._componentsWatcher,Qr),Le(()=>this.view,this._updateViewAwareWidgets,Qr)])}_add(t,e,i,r,s){let n=t;if(typeof t=="string"&&this._defaultPositionLookup[t]){if(this._find(t))return;n=this._createComponent(t)}super._add(n,e,i,r,s)}_removeComponents(t){t.forEach(e=>{const i=this._find(e);i&&(this.remove(i),i.destroy())})}_adjustPadding(t){if(!t.includes("attribution")&&!this._isOverridden("padding")){const{top:e}=this.padding;this.padding=e}}_addComponents(t){this.constructed&&t.forEach(e=>this.add(this._createComponent(e),this._defaultPositionLookup[e]))}_createComponent(t){const e=this._createWidget(t);return new _S({id:t,node:e})}_createWidget(t){const e=this.view;switch(t){case"attribution":return new DIe({view:e});case"compass":return new zIe({view:e});case"navigation-toggle":return new UIe({view:e,isDefaultUI:!0});case"zoom":return new GIe({view:e})}}};h([f()],$S.prototype,"components",void 0),$S=h([I("esri.views.ui.DefaultUI")],$S);const ute=$S;let MS=class extends ute{constructor(e){super(e),this.components=["attribution","zoom"]}};h([f()],MS.prototype,"components",void 0),MS=h([I("esri.views.ui.2d.DefaultUI2D")],MS);const cte=MS;let WIe=class{constructor(e={},i={},r=8,s=1/0){this.disabledExtensions=e,this.debugWebGLExtensions=i,this.maxAnisotropy=r,this.maxPreferredTexturePixels=s}};class ZIe extends mK{constructor(e,i){super(e,i,"webmap")}}function wE(t){return t!=null&&typeof t=="object"&&"declaredClass"in t&&t.declaredClass==="esri.WebMap"}new ZIe(2,35);var tC;let ES=tC=class extends ae{constructor(t){super(t),this.color=new Ne([0,0,0,1])}clone(){return new tC(G({color:this.color}))}};h([f({type:Ne,json:{write:!0}})],ES.prototype,"color",void 0),ES=tC=h([I("esri.webmap.background.ColorBackground")],ES);const YIe=ES;let hte,dte,pte,fte,mte,yte,gte;async function JIe(){const[,{GraphicsView2D:t,GraphicContainer:e,LabelManager:i,MapViewNavigation:r,MagnifierView2D:s,GridView2D:n,Stage:o}]=await Promise.all([re(()=>import("./webglDeps-DVLgK6Cn.js"),__vite__mapDeps([221,165,222,223,224,12,59])),re(()=>import("./mapViewDeps-Cb5Jf8Du.js"),__vite__mapDeps([225,127,96,97,92,11,12,98,95,99,89,226,227,165,222,223,156,90,228,93,224,59,164,58,229,88,117,230,145,148,10,13,16,22,231,100,101,182,183,33,221,232,112,233,234,144,235,154,155,236,76,87,91,47,46,237,102,238,94,184,185,107,239,103,109,85,240,241,242,243,161,244,245]))]);dte=t,pte=e,fte=i,mte=r,yte=s,gte=n,hte=o}var Oy;let it=(Oy=class extends Fke(gOe(m5e(FEe(TEe(zAe))))){get timeZone(){return super.timeZone}set timeZone(e){super.timeZone=e}constructor(e){super(e),this._magnifierView=null,this._gridView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new Bo({getCollections:()=>{var i,r;return[(i=this.basemapView)==null?void 0:i.baseLayerViews,this.layerViews,(r=this.basemapView)==null?void 0:r.referenceLayerViews]},getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.graphicsView=null,this.labelManager=null,this.navigation=new JT({actionMap:new W6({dragTertiary:"none"})}),this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.analyses=new Wy,this.analysisViewManager=new NRe({importAnalysisViewModule:i=>OCe(i),view:this}),this.floors=new ge,this.grid=null,this.map=null,this.timeline=new Oee,this.type="2d",this.view2dType=null,this.ui=new cte,this.animationsEnabled=!0,this.test={takeScreenshot:async i=>CRe(this._getScreenshotView(i),i)},this.padding={top:0,right:0,bottom:0,left:0},tbe()}destroy(){this.layerViewManager.clear(),this._set("preconditionsReady",!1),this.frameTask=ti(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new VCe(this.featuresTilingScheme)}get constraintsInfo(){var r,s;const e=(r=this.defaultsFromMap)==null?void 0:r.tileInfo,i=this.spatialReference;return{lods:(s=e==null?void 0:e.spatialReference)!=null&&s.equals(i)?e.lods:null,spatialReference:i}}get initialExtentRequired(){var l;if(!this.stateManager)return!1;const{scale:e,constraints:i,center:r,viewpoint:s,extent:n}=this;let o=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&((l=this.map.initialViewProperties)!=null&&l.viewpoint))&&!n&&(i!=null&&i.effectiveLODs||(o=-1),(!r||e===0&&o===-1)&&((s==null?void 0:s.targetGeometry)==null||s.targetGeometry.type!=="extent"&&!s.scale))}get defaultsFromMapSettings(){return{required:{extent:!1,heightModelInfo:!1,tileInfo:!0},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get scheduler(){return this.frameTask.scheduler}get typeSpecificPreconditionsReady(){const e=this._getDefaultViewpoint();if(!e)return!1;const i=e.targetGeometry,r=this.spatialReference;return KK(i.spatialReference,r)}get background(){return wE(this.map)?this.map.initialViewProperties.background:null}set background(e){this._override("background",e)}get center(){var e;return((e=this.stateManager)==null?void 0:e.center)??null}set center(e){this.stateManager.center=e}get constraints(){return super.constraints}set constraints(e){super.constraints=e}get highlightOptions(){return mRe(this)}set highlightOptions(e){yRe(this,e)}get padding(){var e;return(e=this.stateManager)==null?void 0:e.padding}set padding(e){this.stateManager&&(this.stateManager.padding=e)}get rendering(){var e;return((e=this.stage)==null?void 0:e.renderRequested)??!1}get resizeAlign(){return super.resizeAlign}set resizeAlign(e){super.resizeAlign=e}get resolution(){return this.stateManager.resolution??0}get rotation(){return super.rotation}set rotation(e){super.rotation=e}get scale(){var e;return((e=this.stateManager)==null?void 0:e.scale)??0}set scale(e){this.stateManager&&(this.stateManager.scale=e)}get spatialReference(){return super.spatialReference}set spatialReference(e){super.spatialReference=e}get spatialReferenceLocked(){return this._get("spatialReferenceLocked")}set spatialReferenceLocked(e){this.stage&&se.getLogger(this).warn("spatialReferenceLocked cannot be changed after the view has become ready"),this._set("spatialReferenceLocked",e)}get tileInfo(){var e;return(e=this.featuresTilingScheme)==null?void 0:e.tileInfo}get updating(){var r,s,n,o;const e=!(!this.magnifier.visible||this.magnifier.position===null||!((r=this._magnifierView)!=null&&r.updatingHandles.updating)),i=!this.destroyed&&(!this.analysisViewManager||!this.layerViewManager||!this.labelManager||!this.graphicsView||this.analysisViewManager.updating===!0||this.layerViewManager.updating===!0||this.labelManager.updating===!0||this.graphicsView.updating===!0||this.allLayerViews.some(l=>!l.destroyed&&!("layerViews"in l)&&l.updating===!0)||e);if(q("esri-2d-log-updating")){const l=this.allLayerViews.reduce((c,d)=>({...c,[`${d.layer.id}(${d.layer.type})`]:!d.destroyed&&!("layerViews"in d)&&d.updating}),{});console.log(`Updating MapView: ${i}
-> Null LayerViewManager: ${!this.layerViewManager}
-> Null LabelManager: ${!this.labelManager}
-> Null GraphicsView: ${!this.graphicsView}
-> layerViewManager.updating: ${(s=this.layerViewManager)==null?void 0:s.updating}
-> labelManager.updating: ${(n=this.labelManager)==null?void 0:n.updating}
-> graphicsView.updating: ${(o=this.graphicsView)==null?void 0:o.updating}
-> allLayerViews: ${JSON.stringify(l)}
-> updatingMagnifier: ${e}
`)}return i}get viewpoint(){return super.viewpoint}set viewpoint(e){super.viewpoint=e}get visibleArea(){const e=this.stateManager.visibleArea;return e&&new Qt({rings:[e.map(i=>[i[0],i[1]])],spatialReference:this.spatialReference})}get zoom(){return this.stateManager.zoom??-1}set zoom(e){this.stateManager.zoom=e}get navigating(){var e;return((e=this.mapViewNavigation)==null?void 0:e.interacting)??!1}async hitTest(e,i){return gRe(this,e,i)}async takeScreenshot(e){return kRe(this._getScreenshotView(e),e)}toScreen(e,i){return this.stateManager.toScreen(e,i)}async whenAnalysisView(e){if(e.parent==null)throw new B("view:no-analysisview-for-analysis","The analysis does not exist in view.analyses",{analysis:e});return this.analysisViewManager.whenAnalysisView(e)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){this.graphicsView&&this.graphicsView.graphicUpdateHandler(e)}whenReady(){return new Promise(e=>{this.ready?e(this):this._resolveWhenReady.push(e)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){var e;return this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties.spatialReference||((e=this.defaultsFromMap)==null?void 0:e.spatialReference)||null}getDefaultTimeZone(){return wE(this.map)?this.map.initialViewProperties.timeZone:null}getDefaultTimeExtent(){return wE(this.map)?this.map.initialViewProperties.timeExtent:null}getSurface(){return this.surface}hasLayerViewModule(e){return PF.hasLayerViewModule(e)}importLayerView(e){return PF.importLayerView(e)}pixelSizeAt(){return this.ready?this.resolution:(se.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}async popupHitTest(e){var d;const i=this.toMap(e),r=await this.hitTest(e),s=this.allLayerViews.toArray().filter(m=>m.clips.every(v=>vee(this,v,e,i))).reverse(),n=new globalThis.Map(s.map(m=>[m.layer.uid,m])),o=[];let l=0,c=0;for(;l<r.results.length||c<s.length;){const m=r.results.at(l);if(m&&m.type!=="graphic"){++l;continue}const v=n.get((d=(m==null?void 0:m.layer)??(m==null?void 0:m.graphic.layer))==null?void 0:d.uid);if((!m||v)&&c<s.length&&s.at(c)!==v){const w=s.at(c);"fetchPopupFeaturesAtLocation"in w&&o.push({mapPoint:i,layerView:w}),++c}else m&&(o.push({graphic:m.graphic,layerView:v}),++l)}return{hits:o,location:i}}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}async validate(){let e=qRe(this.type);if(q("safari")&&q("safari")<9&&(e=new B("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:q("safari")})),e!=null)throw se.getLogger(this).warn("#validate()",e.message),e}loadAsyncDependencies(){return JIe()}_getDefaultViewpoint(){var $;const{constraints:e,initialExtent:i,map:r,padding:s,size:n}=this;if(!e)return null;const o=r&&"initialViewProperties"in r?r.initialViewProperties:void 0,l=this.stateManager.getUserStartupOptions(this.size),c=o==null?void 0:o.viewpoint,d=(($=c==null?void 0:c.targetGeometry)==null?void 0:$.extent)??i,m=d==null?void 0:d.center,v=(c==null?void 0:c.rotation)??0,w=(c==null?void 0:c.scale)||d&&XT(d,[n[0]-s.left-s.right,n[1]-s.top-s.bottom]),_=l.center??m,x=l.rotation??v,T=l.scale??w;return _&&T?new Ws({targetGeometry:_,scale:T,rotation:x}):null}_startup(){var c;this.timeline.begin("MapView Startup");const e=this._getDefaultViewpoint();this.stateManager.startup(e,this.size,this.spatialReference,(c=this.defaultsFromMap.extent)==null?void 0:c.center),this.graphics.owner=this;const i=new kCe(this.surface),r=new hte(this.surface,{canvas:this.renderCanvas,contextOptions:new WIe(this.deactivatedWebGLExtensions,this.debugWebGLExtensions),renderingOptions:this.renderingOptions,timeline:this.timeline},i);this.stage=r,this._magnifierView=new yte,this._magnifierView.magnifier=this.magnifier,this._gridView=new gte;const s=new fte({view:this});this._set("labelManager",s);const n=new vCe({view:this});this._set("animationManager",n);const o=new mte({view:this,animationManager:n});this._set("mapViewNavigation",o),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",()=>this._updateStageChildren()),r.on("webgl-error",d=>this.fatalError=d.error),Le(()=>this.stationary,d=>r.stationary=d,qr),Le(()=>this.background,d=>{r.backgroundColor=d==null?void 0:d.color,this._magnifierView.backgroundColor=d==null?void 0:d.color},qr),Le(()=>this.magnifier,d=>this._magnifierView.magnifier=d,qr),Le(()=>this.grid,d=>this._gridView.grid=d,qr),Le(()=>this.renderingOptions,d=>r.renderingOptions=d,qr),Le(()=>this.highlights.items.map(d=>({name:d.name,options:{fillColor:d.color,haloColor:d.haloColor,fillOpacity:d.fillOpacity,haloOpacity:d.haloOpacity,haloWidth:d.haloWidth,haloBlur:d.haloBlur}})),()=>{r.highlightGradient=pRe(r.highlightGradient,this.highlights.items)},qr),Le(()=>this.state.id,()=>r.state=this.state,qr),Le(()=>this.animationsEnabled,d=>{this.stage.animationsEnabled=d},qr)],"map-view"),this._updateStageChildren();const l=this._resolveWhenReady;this._resolveWhenReady=[],l.forEach(d=>d(this)),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animation=null,this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._gridView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._gridView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown()}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach(i=>{this.stage.addChild(i.container)});const e=this.graphicsView;this.stage.addChild(e.container),this.stage.addChild(this._magnifierView),this.stage.addChild(this._gridView)}_setupSpatialReferenceDependentProperties(){const e=new TCe(ns.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",e);const i=new dte({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new pte(e)});this._set("graphicsView",i)}_destroySpatialReferenceDependentProperties(){const e=this.graphicsView;this._set("graphicsView",null),e.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(e){var o;const{allLayerViews:i,padding:r,size:s,stage:n}=this;return{allLayerViews:i,backgroundColor:e!=null&&e.ignoreBackground?null:(o=this.background)==null?void 0:o.color,padding:r,size:s,stage:n}}_spatialReferenceChanged(e){if(this.ready){this.frameTask.stop();for(const i of this.allLayerViews)i.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(e),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const i of this.allLayerViews)i.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}},Oy.type="2d",Oy);h([f({constructOnly:!0})],it.prototype,"deactivatedWebGLExtensions",void 0),h([f({constructOnly:!0})],it.prototype,"debugWebGLExtensions",void 0),h([f({readOnly:!0})],it.prototype,"featuresTilingScheme",void 0),h([f({readOnly:!0})],it.prototype,"graphicsTileStore",null),h([f()],it.prototype,"graphicsView",void 0),h([f()],it.prototype,"constraintsInfo",null),h([f()],it.prototype,"initialExtentRequired",null),h([f()],it.prototype,"labelManager",void 0),h([f({type:JT,nonNullable:!0})],it.prototype,"navigation",void 0),h([f({constructOnly:!0})],it.prototype,"renderCanvas",void 0),h([f()],it.prototype,"renderingOptions",void 0),h([f({constructOnly:!0})],it.prototype,"supersampleScreenshotsEnabled",void 0),h([f()],it.prototype,"defaultsFromMapSettings",null),h([f({readOnly:!0})],it.prototype,"typeSpecificPreconditionsReady",null),h([f(_k(Wy,"analyses"))],it.prototype,"analyses",void 0),h([f()],it.prototype,"analysisViewManager",void 0),h([f({type:YIe})],it.prototype,"background",null),h([f()],it.prototype,"center",null),h([f({type:ge})],it.prototype,"floors",void 0),h([f()],it.prototype,"grid",void 0),h([f({type:jc})],it.prototype,"highlightOptions",null),h([f()],it.prototype,"map",void 0),h([f()],it.prototype,"padding",null),h([f({readOnly:!0})],it.prototype,"rendering",null),h([f({readOnly:!0})],it.prototype,"resolution",null),h([f()],it.prototype,"scale",null),h([f({type:Boolean,value:!1})],it.prototype,"spatialReferenceLocked",null),h([f({readOnly:!0})],it.prototype,"tileInfo",null),h([f({type:Oee,readOnly:!0})],it.prototype,"timeline",void 0),h([f({readOnly:!0})],it.prototype,"type",void 0),h([f({readOnly:!0})],it.prototype,"updating",null),h([f({readOnly:!0})],it.prototype,"view2dType",void 0),h([f({readOnly:!0})],it.prototype,"visibleArea",null),h([f()],it.prototype,"zoom",null),h([f({readOnly:!0})],it.prototype,"navigating",null),h([f(),Ot(t=>t instanceof ute?t:Tw(cte,t))],it.prototype,"ui",void 0),h([f()],it.prototype,"animationsEnabled",void 0),it=h([I("esri.views.View2D")],it);const KIe=it;let AS=class extends KIe{constructor(e){super(e),this.view2dType="map"}};h([f({readOnly:!0})],AS.prototype,"view2dType",void 0),AS=h([I("esri.views.MapView")],AS);const XIe=AS;let Rl=class extends $e{constructor(t){super(t),this._vendorInfo=null,this._fullscreenStyle="width: 100%; height: 100%;",this.view=null,this._errorHandler=this._errorHandler.bind(this),this._stateHandler=this._stateHandler.bind(this),t!=null&&t.isDefaultViewModel||Ice(se.getLogger("esri.widgets.Fullscreen.FullscreenViewModel"),"esri.widgets.Fullscreen.FullscreenViewModel",{replacement:"Fullscreen API",version:"4.33",see:"https://developer.mozilla.org/en-US/docs/Web/API/Fullscreen_API",warnOnce:!0})}normalizeCtorArgs(t={}){const{isDefaultViewModel:e,...i}=t;return i}destroy(){this._removeFullscreenListeners(),this.view=null}get element(){var t;return((t=this.view)==null?void 0:t.container)??null}set element(t){this._override("element",t)}get state(){return this.element?this._isSupported()?this._isActive()?"active":"ready":"feature-unsupported":"disabled"}enter(){this._enterFullscreen()}exit(){this._exitFullscreen()}toggle(){this._isActive()?this._exitFullscreen():this._enterFullscreen()}_isSupported(){this._removeFullscreenListeners();const t=this._getVendorInfo(this.element);return this._addFullscreenListeners(t),this._vendorInfo=t,!!t}_isActive(){return!!this._vendorInfo&&!!document[this._vendorInfo.propertyName]}_stateHandler(){this.notifyChange("state"),this.state==="active"?this._addStyle():this._removeStyle()}_errorHandler(t){se.getLogger(this).error("fullscreen request failed",t)}_getVendorInfo(t){if(t)return t.requestFullscreen?{enterName:"requestFullscreen",exitName:"exitFullscreen",errorEventName:"fullscreenerror",changeEventName:"fullscreenchange",propertyName:"fullscreen"}:t.webkitRequestFullScreen?{enterName:"webkitRequestFullscreen",exitName:"webkitCancelFullScreen",errorEventName:"webkitfullscreenerror",changeEventName:"webkitfullscreenchange",propertyName:"webkitIsFullScreen"}:t.mozRequestFullScreen?{enterName:"mozRequestFullScreen",exitName:"mozCancelFullScreen",errorEventName:"mozfullscreenerror",changeEventName:"mozfullscreenchange",propertyName:"mozFullScreen"}:void 0}_enterFullscreen(){if(this.state==="feature-unsupported")return void se.getLogger(this).warn("The fullscreen API is not supported in this browser.");const{element:t}=this;t&&(this._vendorInfo&&t[this._vendorInfo.enterName].call(t),this.notifyChange("state"))}_addStyle(){const{element:t}=this;t&&t.setAttribute("style",this._fullscreenStyle)}_removeStyle(){const{element:t}=this;t&&t.removeAttribute("style")}_exitFullscreen(){if(this.state==="feature-unsupported")return;const{element:t}=this;t&&(this._vendorInfo&&document[this._vendorInfo.exitName].call(document),this.notifyChange("state"))}_addFullscreenListeners(t){t&&(document.addEventListener(t.changeEventName,this._stateHandler),document.addEventListener(t.errorEventName,this._errorHandler))}_removeFullscreenListeners(){const{_vendorInfo:t}=this;t&&(document.removeEventListener(t.changeEventName,this._stateHandler),document.removeEventListener(t.errorEventName,this._errorHandler))}};h([f()],Rl.prototype,"element",null),h([f({readOnly:!0})],Rl.prototype,"state",null),h([f()],Rl.prototype,"view",void 0),h([f()],Rl.prototype,"enter",null),h([f()],Rl.prototype,"exit",null),h([f()],Rl.prototype,"toggle",null),Rl=h([I("esri.widgets.Fullscreen.FullscreenViewModel")],Rl);const vte=Rl,QIe={base:"esri-fullscreen"};let Sa=class extends Og{constructor(e,i){super(e,i),this.messages=null,this.viewModel=new vte({isDefaultViewModel:!0}),this._toggle=()=>{this.viewModel.toggle()},FC(se.getLogger(this),"Fullscreen","arcgis-fullscreen",{version:"4.32"})}loadDependencies(){return Yw({button:()=>re(()=>import("./index-3kA0jplO.js"),__vite__mapDeps([322,323,324,325,326,327,328,329,330,331,332,333,334,335]))})}get element(){return this.viewModel.element}set element(e){this.viewModel.element=e}get fullscreenTitle(){var i;const e=(i=this.viewModel)==null?void 0:i.state;return e==="active"?this.messages.exit:e==="ready"?this.messages.enter:""}get icon(){var i;const e=(i=this.viewModel)==null?void 0:i.state;return e==="ready"||e==="disabled"||e==="feature-unsupported"?"zoom-out-fixed":"zoom-in-fixed"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){var n;const{fullscreenTitle:e,icon:i}=this,r=(n=this.viewModel)==null?void 0:n.state,s=r==="feature-unsupported";return sr("div",{class:this.classes(QIe.base,Zs.widget)},!s&&sr("calcite-button",{class:Zs.widgetButton,disabled:r==="disabled",iconStart:i,kind:"neutral",label:e,onclick:this._toggle,title:e}))}};h([f()],Sa.prototype,"element",null),h([f({readOnly:!0})],Sa.prototype,"fullscreenTitle",null),h([f()],Sa.prototype,"icon",null),h([f()],Sa.prototype,"label",null),h([f(),vp("esri/widgets/Fullscreen/t9n/Fullscreen")],Sa.prototype,"messages",void 0),h([f()],Sa.prototype,"view",null),h([f({type:vte})],Sa.prototype,"viewModel",void 0),Sa=h([I("esri.widgets.Fullscreen")],Sa);const ePe=Sa;let Il=class extends nte(hg){constructor(t){super(t),this._initialViewpoint=null,this._goingHomeController=null,this.go=this.go.bind(this)}destroy(){this._cancelGo(),this.view=null}get state(){var t;return(t=this.view)!=null&&t.ready?this._goingHomeController?"going-home":"ready":"disabled"}set view(t){this._initialViewpoint=null,this._set("view",t),t&&t.when().then(()=>{this.view===t&&(this._initialViewpoint=t.viewpoint.clone(),this.notifyChange("viewpoint"))})}get viewpoint(){return this._get("viewpoint")||this._initialViewpoint}set viewpoint(t){this._set("viewpoint",t)}async go(){var e,i;if(!((e=this.view)!=null&&e.ready))throw new B("home:disabled-state","Cannot go when disabled.");this._cancelGo(),this.emit("go");const t=new AbortController;this._goingHomeController=t;try{await((i=this.view)==null?void 0:i.when()),await this.callGoTo({target:this.viewpoint,options:{signal:t.signal}})}catch{}this._goingHomeController=null}cancelGo(){this._cancelGo()}_cancelGo(){const{_goingHomeController:t}=this;t&&t.abort(),this._goingHomeController=null}};h([f()],Il.prototype,"_goingHomeController",void 0),h([f({readOnly:!0})],Il.prototype,"state",null),h([f()],Il.prototype,"view",null),h([f({type:Ws})],Il.prototype,"viewpoint",null),h([f()],Il.prototype,"go",null),h([f()],Il.prototype,"cancelGo",null),Il=h([I("esri.widgets.Home.HomeViewModel")],Il);const wte=Il;function tPe(t){return e=>{e.hasOwnProperty("_delegatedEventNames")||(e._delegatedEventNames=e._delegatedEventNames?e._delegatedEventNames.slice():[]);const i=e._delegatedEventNames;t=Array.isArray(t)?t:iPe(t),i.push(...t)}}function iPe(t){return t.split(",").map(e=>e.trim())}const rPe={base:"esri-home"};let Hn=class extends Og{constructor(t,e){super(t,e),this.messages=null,this.messagesCommon=null,this.uiStrings=void 0,this.viewModel=new wte,this._go=()=>{const{viewModel:i}=this;i.state==="going-home"?i.cancelGo():i.go()},FC(se.getLogger(this),"Home","arcgis-home",{version:"4.32"})}loadDependencies(){return Yw({button:()=>re(()=>import("./index-3kA0jplO.js"),__vite__mapDeps([322,323,324,325,326,327,328,329,330,331,332,333,334,335])),loader:()=>re(()=>import("./index-BPAPJRES.js"),__vite__mapDeps([323,324,325,326]))})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get icon(){return"home"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}get viewpoint(){return this.viewModel.viewpoint}set viewpoint(t){this.viewModel.viewpoint=t}cancelGo(){this.viewModel.cancelGo()}go(){return this.viewModel.go()}render(){var n;const{messagesCommon:t,messages:e,icon:i}=this,r=(n=this.viewModel)==null?void 0:n.state,s=r==="going-home";return sr("div",{class:this.classes(rPe.base,Zs.widget)},sr("calcite-button",{class:Zs.widgetButton,disabled:r==="disabled",iconStart:s?void 0:i,kind:"neutral",label:e.widgetLabel,onclick:this._go,scale:s?"s":"m",title:r==="going-home"?t.cancel:e.title},s?sr("calcite-loader",{inline:!0,label:""}):null))}};h([f()],Hn.prototype,"goToOverride",null),h([f()],Hn.prototype,"icon",null),h([f()],Hn.prototype,"label",null),h([f(),vp("esri/widgets/Home/t9n/Home")],Hn.prototype,"messages",void 0),h([f(),vp("esri/t9n/common")],Hn.prototype,"messagesCommon",void 0),h([f()],Hn.prototype,"uiStrings",void 0),h([f()],Hn.prototype,"view",null),h([f({type:wte}),tPe("go")],Hn.prototype,"viewModel",void 0),h([f({type:Ws})],Hn.prototype,"viewpoint",null),Hn=h([I("esri.widgets.Home")],Hn);const sPe=Hn,nPe={type:"unique-value",field:"taxon_class",uniqueValueInfos:[{value:"Plantae",symbol:{type:"simple-marker",color:[34,139,34],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Plantae (Plants)"},{value:"Animalia",symbol:{type:"simple-marker",color:[255,99,71],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Animalia (Animals)"},{value:"Mollusca",symbol:{type:"simple-marker",color:[238,130,238],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Mollusca (Mollusks)"},{value:"Arthropoda",symbol:{type:"simple-marker",color:[255,215,0],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Arthropoda (Arthropods)"},{value:"Chordata",symbol:{type:"simple-marker",color:[70,130,180],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Chordata (Chordates)"},{value:"Fungi",symbol:{type:"simple-marker",color:[128,0,128],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Fungi (Fungi)"},{value:"Cnidaria",symbol:{type:"simple-marker",color:[255,182,193],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Cnidaria (Cnidarians)"},{value:"Annelida",symbol:{type:"simple-marker",color:[255,69,0],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Annelida (Annelids)"},{value:"Echinodermata",symbol:{type:"simple-marker",color:[0,191,255],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Echinodermata (Echinoderms)"},{value:"Platyhelminthes",symbol:{type:"simple-marker",color:[255,105,180],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Platyhelminthes (Flatworms)"},{value:"Nematoda",symbol:{type:"simple-marker",color:[0,255,0],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Nematoda (Nematodes)"},{value:"Aves",symbol:{type:"simple-marker",color:[135,206,235],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Aves (Birds)"},{value:"Mammalia",symbol:{type:"simple-marker",color:[139,69,19],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Mammalia (Mammals)"},{value:"Reptilia",symbol:{type:"simple-marker",color:[34,139,34],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Reptilia (Reptiles)"},{value:"Amphibia",symbol:{type:"simple-marker",color:[0,255,0],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Amphibia (Amphibians)"},{value:"Chondrichthyes",symbol:{type:"simple-marker",color:[70,130,180],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Chondrichthyes (Cartilaginous Fish)"},{value:"Actinopterygii",symbol:{type:"simple-marker",color:[0,191,255],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Actinopterygii (Ray-Finned Fish)"}]},oPe={labelExpressionInfo:{expression:"$feature.common_name"},symbol:{type:"text",color:"black",haloColor:"white",haloSize:"1px",font:{size:8,family:"Arial",weight:"bold"}},labelPlacement:"above-center"},aPe={title:"{common_name} - {taxon_class}",overwriteActions:!0,content:`
        <div style="text-align: center;">
            <img src="{image_url}" alt="{scientific_name}" style="display:block; margin-left: auto; margin-right: auto; width:400px; height:auto" />
        </div>
    `},lPe={type:"simple",symbol:{type:"simple-line",color:"black",width:1,style:"solid"},effect:"bloom(1.5, 0.5px, 0)"},uPe=async(t,e,i,r,s)=>{window.scrollTo(0,0);const o=await(await fetch(t)).json();i(o);const l=await new uk({url:t,renderer:nPe,labelsVisible:!0,labelingInfo:oPe,popupTemplate:aPe}).load(),c=await new uk({url:e,renderer:lPe}).load(),d=c.createQuery();d.where="1=1",r((await c.queryFeatures(d)).features[0].attributes);const m=await c.queryExtent(),v=new vX({basemap:"topo-vector",layers:[c,l]}),w=new XIe({map:v,container:s.current,extent:m.extent.expand(1.7),popupEnabled:!0,popup:{dockEnabled:!0,dockOptions:{buttonEnabled:!1,breakpoint:!1}}}),_=new ePe({view:w});let x=new sPe({view:w});w.ui.add([_,x],"top-right")};function cPe(t){return Js({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1.22 5.222a.75.75 0 0 1 1.06 0L7 9.942l3.768-3.769a.75.75 0 0 1 1.113.058 20.908 20.908 0 0 1 3.813 7.254l1.574-2.727a.75.75 0 0 1 1.3.75l-2.475 4.286a.75.75 0 0 1-1.025.275l-4.287-2.475a.75.75 0 0 1 .75-1.3l2.71 1.565a19.422 19.422 0 0 0-3.013-6.024L7.53 11.533a.75.75 0 0 1-1.06 0l-5.25-5.25a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"},child:[]}]})(t)}function bte(t){return Js({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.577 4.878a.75.75 0 0 1 .919-.53l4.78 1.281a.75.75 0 0 1 .531.919l-1.281 4.78a.75.75 0 0 1-1.449-.387l.81-3.022a19.407 19.407 0 0 0-5.594 5.203.75.75 0 0 1-1.139.093L7 10.06l-4.72 4.72a.75.75 0 0 1-1.06-1.061l5.25-5.25a.75.75 0 0 1 1.06 0l3.074 3.073a20.923 20.923 0 0 1 5.545-4.931l-3.042-.815a.75.75 0 0 1-.53-.919Z",clipRule:"evenodd"},child:[]}]})(t)}function hPe(t){return Js({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M5.25 12a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H6a.75.75 0 0 1-.75-.75V12ZM6 13.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V14a.75.75 0 0 0-.75-.75H6ZM7.25 12a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H8a.75.75 0 0 1-.75-.75V12ZM8 13.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V14a.75.75 0 0 0-.75-.75H8ZM9.25 10a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H10a.75.75 0 0 1-.75-.75V10ZM10 11.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V12a.75.75 0 0 0-.75-.75H10ZM9.25 14a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H10a.75.75 0 0 1-.75-.75V14ZM12 9.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V10a.75.75 0 0 0-.75-.75H12ZM11.25 12a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H12a.75.75 0 0 1-.75-.75V12ZM12 13.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V14a.75.75 0 0 0-.75-.75H12ZM13.25 10a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H14a.75.75 0 0 1-.75-.75V10ZM14 11.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V12a.75.75 0 0 0-.75-.75H14Z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M5.75 2a.75.75 0 0 1 .75.75V4h7V2.75a.75.75 0 0 1 1.5 0V4h.25A2.75 2.75 0 0 1 18 6.75v8.5A2.75 2.75 0 0 1 15.25 18H4.75A2.75 2.75 0 0 1 2 15.25v-8.5A2.75 2.75 0 0 1 4.75 4H5V2.75A.75.75 0 0 1 5.75 2Zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75Z",clipRule:"evenodd"},child:[]}]})(t)}function dPe(t){return Js({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10.75 10.818v2.614A3.13 3.13 0 0 0 11.888 13c.482-.315.612-.648.612-.875 0-.227-.13-.56-.612-.875a3.13 3.13 0 0 0-1.138-.432ZM8.33 8.62c.053.055.115.11.184.164.208.16.46.284.736.363V6.603a2.45 2.45 0 0 0-.35.13c-.14.065-.27.143-.386.233-.377.292-.514.627-.514.909 0 .184.058.39.202.592.037.051.08.102.128.152Z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-8-6a.75.75 0 0 1 .75.75v.316a3.78 3.78 0 0 1 1.653.713c.426.33.744.74.925 1.2a.75.75 0 0 1-1.395.55 1.35 1.35 0 0 0-.447-.563 2.187 2.187 0 0 0-.736-.363V9.3c.698.093 1.383.32 1.959.696.787.514 1.29 1.27 1.29 2.13 0 .86-.504 1.616-1.29 2.13-.576.377-1.261.603-1.96.696v.299a.75.75 0 1 1-1.5 0v-.3c-.697-.092-1.382-.318-1.958-.695-.482-.315-.857-.717-1.078-1.188a.75.75 0 1 1 1.359-.636c.08.173.245.376.54.569.313.205.706.353 1.138.432v-2.748a3.782 3.782 0 0 1-1.653-.713C6.9 9.433 6.5 8.681 6.5 7.875c0-.805.4-1.558 1.097-2.096a3.78 3.78 0 0 1 1.653-.713V4.75A.75.75 0 0 1 10 4Z",clipRule:"evenodd"},child:[]}]})(t)}function pPe(t){return Js({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"m9.69 18.933.003.001C9.89 19.02 10 19 10 19s.11.02.308-.066l.002-.001.006-.003.018-.008a5.741 5.741 0 0 0 .281-.14c.186-.096.446-.24.757-.433.62-.384 1.445-.966 2.274-1.765C15.302 14.988 17 12.493 17 9A7 7 0 1 0 3 9c0 3.492 1.698 5.988 3.355 7.584a13.731 13.731 0 0 0 2.273 1.765 11.842 11.842 0 0 0 .976.544l.062.029.018.008.006.003ZM10 11.25a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5Z",clipRule:"evenodd"},child:[]}]})(t)}function fPe(t){return Js({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 2a.75.75 0 0 1 .75.75v.258a33.186 33.186 0 0 1 6.668.83.75.75 0 0 1-.336 1.461 31.28 31.28 0 0 0-1.103-.232l1.702 7.545a.75.75 0 0 1-.387.832A4.981 4.981 0 0 1 15 14c-.825 0-1.606-.2-2.294-.556a.75.75 0 0 1-.387-.832l1.77-7.849a31.743 31.743 0 0 0-3.339-.254v11.505a20.01 20.01 0 0 1 3.78.501.75.75 0 1 1-.339 1.462A18.558 18.558 0 0 0 10 17.5c-1.442 0-2.845.165-4.191.477a.75.75 0 0 1-.338-1.462 20.01 20.01 0 0 1 3.779-.501V4.509c-1.129.026-2.243.112-3.34.254l1.771 7.85a.75.75 0 0 1-.387.83A4.98 4.98 0 0 1 5 14a4.98 4.98 0 0 1-2.294-.556.75.75 0 0 1-.387-.832L4.02 5.067c-.37.07-.738.148-1.103.232a.75.75 0 0 1-.336-1.462 32.845 32.845 0 0 1 6.668-.829V2.75A.75.75 0 0 1 10 2ZM5 7.543 3.92 12.33a3.499 3.499 0 0 0 2.16 0L5 7.543Zm10 0-1.08 4.787a3.498 3.498 0 0 0 2.16 0L15 7.543Z",clipRule:"evenodd"},child:[]}]})(t)}function mPe(t){return Js({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401Z",clipRule:"evenodd"},child:[]}]})(t)}function yPe(t){return Js({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32c12.5 0 24.1 6.4 30.8 17L503.4 394.4c5.6 8.9 8.6 19.2 8.6 29.7c0 30.9-25 55.9-55.9 55.9L55.9 480C25 480 0 455 0 424.1c0-10.5 3-20.8 8.6-29.7L225.2 49c6.6-10.6 18.3-17 30.8-17zm65 192L256 120.4 176.9 246.5l18.3 24.4c6.4 8.5 19.2 8.5 25.6 0l25.6-34.1c6-8.1 15.5-12.8 25.6-12.8l49 0z"},child:[]}]})(t)}const gPe=({blogTexts:t,hikeData:e,togglePhotos:i})=>E.jsxs("div",{className:"w-full",children:[E.jsxs("div",{className:"border-b-2 border-orange-300 mb-4 pb-4",children:[E.jsx("p",{className:"select-none cursor-pointer self-center text-4xl pb-2 mt-6 md:mt-6 mb-3 hover:bg-orange-200 hover:p-1",children:t.title}),E.jsx(_te,{togglePhotos:i})]}),E.jsxs("div",{className:"flex flex-col flex-wrap justify-end pb-8 text-gray-700 space-y-1 w-full",children:[E.jsxs("div",{className:"flex flex-row items-center gap-3",children:[E.jsx(pPe,{className:"text-gray-600 text-xl"}),E.jsx("p",{children:t.address})]}),E.jsxs("div",{className:"flex flex-row items-center gap-3",children:[E.jsx(dPe,{className:"text-gray-600 text-xl"}),E.jsx("p",{children:t.cost})]}),E.jsxs("div",{className:"flex flex-row items-center gap-3",children:[E.jsx(bte,{className:"text-gray-600 text-xl"}),E.jsxs("p",{children:[e==null?void 0:e.distance.toFixed(2)," km"]})]}),E.jsxs("div",{className:"flex flex-row items-center gap-3",children:[E.jsx(yPe,{className:"text-gray-600 text-xl"}),E.jsxs("p",{children:[e==null?void 0:e.totalElevationGain.toFixed(2)," m"]})]}),E.jsxs("div",{className:"flex flex-row items-center gap-3",children:[E.jsx(hPe,{className:"text-gray-600 text-xl"}),E.jsx("p",{children:t.date})]})]})]}),_te=({togglePhotos:t})=>E.jsx("div",{className:"",children:E.jsx("button",{onClick:t,className:"select-none bg-orange-200 cursor-pointer transition hover:bg-orange-300 font-semibold rounded-lg p-3 hover:shadow-lg",children:"INaturalist Photos"})}),vPe=({mapRef:t})=>E.jsx("div",{className:"flex flex-row flex-wrap justify-center h-max",children:E.jsx("div",{style:{margin:0,padding:0},className:"md:h-[60vh] md:w-[100VW] w-[100VW] h-[50VH]",ref:t})}),wPe=({blogTexts:t,hikeData:e})=>E.jsxs("div",{className:"flex flex-col gap-3 flex-wrap pt-4 w-full md:flex-row justify-between text-gray-700",children:[E.jsxs("div",{className:"flex flex-row items-center gap-3",children:[E.jsx(bte,{className:"text-gray-600 text-xl"}),E.jsxs("p",{children:["Max Elevation: ",e==null?void 0:e.maxElevation.toFixed(2)," m"]})]}),E.jsxs("div",{className:"flex flex-row items-center gap-3",children:[E.jsx(cPe,{className:"text-gray-600 text-xl"}),E.jsxs("p",{children:["Minimum Elevation: ",e==null?void 0:e.minElevation.toFixed(2)," m"]})]}),E.jsxs("div",{className:"flex flex-row items-center gap-3",children:[E.jsx(fPe,{className:"text-gray-600 text-xl"}),E.jsxs("p",{children:["Difficulty: ",t.difficulty]})]}),E.jsxs("div",{className:"flex flex-row items-center gap-3",children:[E.jsx(mPe,{className:"text-gray-600 text-xl"}),E.jsxs("p",{children:["Rating: ",t.rating]})]})]});function bPe({features:t,togglePhotos:e,open:i}){return i?E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",onClick:e,children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-5xl w-full mx-4 overflow-hidden relative",onClick:r=>r.stopPropagation(),children:[E.jsxs("div",{className:"flex justify-between items-center p-4 border-b bg-gradient-to-r from-orange-500 to-amber-500 text-white",children:[E.jsx("h2",{className:"text-lg font-semibold",children:"iNaturalist Photos"}),E.jsx("button",{onClick:e,className:"text-white hover:text-amber-200 transition p-2",children:""})]}),E.jsx("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 overflow-y-auto max-h-[80vh]",children:t.map((r,s)=>E.jsxs("div",{className:"flex flex-col text-center",children:[E.jsx("img",{src:r.properties.image_url,alt:`Image ${s+1}`,className:"rounded-xl shadow-md object-cover w-full h-48 hover:scale-105 transition-transform"},s),E.jsx("p",{className:"mt-2 text-center font-medium ",children:r.properties.common_name||"Unknown"}),"            "]}))})]})}):null}const _Pe=()=>{const{slug:t}=fse(),[e,i]=W.useState(null),r=W.useRef(null),[s,n]=W.useState(null),[o,l]=W.useState(void 0),[c,d]=W.useState();if(W.useEffect(()=>{const w=Object.assign({"./blogs/ampersand-mountain/index.tsx":()=>re(()=>Promise.resolve().then(()=>sce),void 0),"./blogs/bell-canyon/index.tsx":()=>re(()=>Promise.resolve().then(()=>nce),void 0),"./blogs/blue-mountain/index.tsx":()=>re(()=>Promise.resolve().then(()=>oce),void 0),"./blogs/bruce-peninsula/index.tsx":()=>re(()=>Promise.resolve().then(()=>ace),void 0),"./blogs/buggy-ride/index.tsx":()=>re(()=>Promise.resolve().then(()=>lce),void 0),"./blogs/coney-mountain/index.tsx":()=>re(()=>Promise.resolve().then(()=>uce),void 0),"./blogs/findlay-drainage/index.tsx":()=>re(()=>Promise.resolve().then(()=>cce),void 0),"./blogs/hidden-falls/index.tsx":()=>re(()=>Promise.resolve().then(()=>hce),void 0),"./blogs/hitchcock/index.tsx":()=>re(()=>Promise.resolve().then(()=>dce),void 0),"./blogs/holiday-beach/index.tsx":()=>re(()=>Promise.resolve().then(()=>pce),void 0),"./blogs/idaho-foothills/index.tsx":()=>re(()=>Promise.resolve().then(()=>fce),void 0),"./blogs/jacks-peak/index.tsx":()=>re(()=>Promise.resolve().then(()=>mce),void 0),"./blogs/king-mountain/index.tsx":()=>re(()=>Promise.resolve().then(()=>yce),void 0),"./blogs/mer-bleu/index.tsx":()=>re(()=>Promise.resolve().then(()=>gce),void 0),"./blogs/pine-grove/index.tsx":()=>re(()=>Promise.resolve().then(()=>vce),void 0),"./blogs/point-pelee/index.tsx":()=>re(()=>Promise.resolve().then(()=>wce),void 0),"./blogs/salish-trail/index.tsx":()=>re(()=>Promise.resolve().then(()=>bce),void 0),"./blogs/salt-lake/index.tsx":()=>re(()=>Promise.resolve().then(()=>_ce),void 0),"./blogs/slc-foothills/index.tsx":()=>re(()=>Promise.resolve().then(()=>Sce),void 0),"./blogs/table-rock/index.tsx":()=>re(()=>Promise.resolve().then(()=>xce),void 0),"./blogs/terra-nova/index.tsx":()=>re(()=>Promise.resolve().then(()=>Tce),void 0),"./blogs/top-trail/index.tsx":()=>re(()=>Promise.resolve().then(()=>$ce),void 0),"./blogs/wolf-trail/index.tsx":()=>re(()=>Promise.resolve().then(()=>Mce),void 0)}),_=`./blogs/${t}/index.tsx`;w[_]&&w[_]().then(x=>i(x.default))},[t]),W.useEffect(()=>{e&&uPe(e.iNatTrailPath,e.geojsonTrailPath,n,d,r)},[e]),console.log(e),console.log(s),!e||s===null)return E.jsx("p",{className:"p-10 text-center",children:"Loading..."});const m={title:e.title,address:e.address,cost:e.cost,date:e.date,difficulty:e.difficulty,rating:e.rating},v=()=>l(o?void 0:!0);return E.jsxs("div",{className:"flex flex-col font-mono min-h-screen overflow-x-hidden",children:[E.jsxs("div",{className:"flex flex-col p-2 bg-gray-50 flex-grow px-7 md:px-32",children:[E.jsx(gPe,{blogTexts:m,hikeData:c,togglePhotos:v}),E.jsx("div",{className:"pb-4",children:e.content()}),E.jsx("div",{className:"pb-2",children:E.jsx(_te,{togglePhotos:v})}),E.jsx(vPe,{mapRef:r}),E.jsx(wPe,{blogTexts:m,hikeData:c})]}),E.jsx(bPe,{features:s.features,togglePhotos:v,open:o})]})};function SPe(){return E.jsx(Xse,{children:E.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900",children:[E.jsx(lne,{}),E.jsxs(Ose,{children:[E.jsx(ev,{path:"/",element:E.jsx(ice,{})}),E.jsx(ev,{path:"/about",element:E.jsx(rce,{})}),E.jsx(ev,{path:"/adventure-blog",element:E.jsx(Ece,{})}),E.jsx(ev,{path:"/adventure-blog/:slug",element:E.jsx(_Pe,{})})]})]})})}Dre.createRoot(document.getElementById("root")).render(E.jsx(SPe,{}));export{bn as $,f as A,ke as B,Va as C,Se as D,$i as E,Jc as F,WSe as G,Nw as H,Rr as I,ko as J,JSe as K,pz as L,le as M,ySe as N,ge as O,x4e as P,X7e as Q,KSe as R,Ii as S,vr as T,I as U,nr as V,Q7e as W,kBe as X,qe as Y,Aa as Z,re as _,wBe as a,Zqe as a$,Bt as a0,ze as a1,S6 as a2,Gt as a3,lo as a4,V6 as a5,Do as a6,ah as a7,Hi as a8,Re as a9,DY as aA,iqe as aB,UCe as aC,VY as aD,Dm as aE,FY as aF,LY as aG,vB as aH,sLe as aI,q7 as aJ,GLe as aK,gve as aL,Hm as aM,Zy as aN,X1 as aO,Dt as aP,ao as aQ,ZC as aR,$t as aS,lg as aT,Xr as aU,_i as aV,tFe as aW,QVe as aX,eFe as aY,Tw as aZ,Qt as a_,UF as aa,qh as ab,Bh as ac,oB as ad,lB as ae,uB as af,q as ag,LPe as ah,RPe as ai,ije as aj,jqe as ak,Bce as al,Hqe as am,NVe as an,VVe as ao,LVe as ap,RVe as aq,_x as ar,oVe as as,hVe as at,pVe as au,BT as av,Ne as aw,Mg as ax,UPe as ay,nB as az,B as b,MNe as b$,Jy as b0,CQ as b1,gB as b2,h0e as b3,gDe as b4,nZ as b5,vs as b6,L1 as b7,J_ as b8,y8e as b9,Ql as bA,VTe as bB,Bs as bC,XPe as bD,Sje as bE,ug as bF,h1 as bG,Jf as bH,$w as bI,je as bJ,SNe as bK,xNe as bL,K7e as bM,hye as bN,Z8e as bO,W8e as bP,ONe as bQ,fNe as bR,IH as bS,Py as bT,mVe as bU,gVe as bV,yVe as bW,YTe as bX,ZTe as bY,TNe as bZ,ENe as b_,gQ as ba,Us as bb,Rd as bc,W1e as bd,ng as be,xje as bf,oee as bg,_p as bh,Qx as bi,Y8e as bj,wR as bk,Ie as bl,ns as bm,dDe as bn,O8 as bo,Cr as bp,ibe as bq,at as br,zC as bs,Cw as bt,qW as bu,$Te as bv,jTe as bw,Qi as bx,be as by,FTe as bz,OBe as c,d5 as c$,$Ne as c0,RH as c1,tye as c2,iye as c3,Hc as c4,pr as c5,h4e as c6,xe as c7,h5e as c8,z0e as c9,Ag as cA,$R as cB,gY as cC,hg as cD,Yd as cE,ti as cF,mp as cG,eQ as cH,aNe as cI,dT as cJ,Ome as cK,Sn as cL,Dce as cM,BNe as cN,Ye as cO,kw as cP,co as cQ,Ff as cR,li as cS,cZ as cT,cS as cU,I2 as cV,p0e as cW,Oe as cX,cee as cY,Zk as cZ,tRe as c_,q0e as ca,U0e as cb,B0e as cc,MDe as cd,EDe as ce,_n as cf,$_e as cg,_e as ch,ic as ci,$e as cj,LT as ck,RFe as cl,qc as cm,dye as cn,BL as co,KA as cp,r7 as cq,j$e as cr,kSe as cs,fDe as ct,pDe as cu,_1 as cv,TCe as cw,SUe as cx,Ke as cy,TUe as cz,lX as d,TOe as d$,dt as d0,Lw as d1,x4 as d2,v8e as d3,ELe as d4,WLe as d5,JVe as d6,yg as d7,Na as d8,zY as d9,NOe as dA,Ibe as dB,EPe as dC,APe as dD,x3e as dE,o3e as dF,ws as dG,JQ as dH,g3e as dI,_g as dJ,ske as dK,Uk as dL,LK as dM,p3e as dN,VK as dO,DK as dP,T3e as dQ,v3e as dR,s3e as dS,a3e as dT,Ap as dU,MT as dV,ea as dW,Bw as dX,sw as dY,SOe as dZ,YQ as d_,Gje as da,v7e as db,Le as dc,Qr as dd,Bo as de,qr as df,wr as dg,jB as dh,BE as di,CCe as dj,rB as dk,X2e as dl,lMe as dm,Kt as dn,_l as dp,_k as dq,nR as dr,aje as ds,Kr as dt,j1 as du,oje as dv,RDe as dw,qQ as dx,rh as dy,UQ as dz,G as e,bje as e$,HQ as e0,ZQ as e1,E0e as e2,qR as e3,BR as e4,M0e as e5,ST as e6,xT as e7,T0e as e8,WVe as e9,TT as eA,LOe as eB,Wje as eC,jce as eD,cDe as eE,OPe as eF,$ge as eG,op as eH,jR as eI,n6 as eJ,I3e as eK,wJ as eL,p6 as eM,nh as eN,UOe as eO,U_e as eP,xOe as eQ,WQ as eR,XOe as eS,FNe as eT,Kx as eU,Xx as eV,DB as eW,Sze as eX,d4e as eY,UMe as eZ,xg as e_,b7 as ea,HVe as eb,xbe as ec,Gde as ed,BLe as ee,JDe as ef,jNe as eg,cB as eh,JOe as ei,fW as ej,gZ as ek,M_e as el,Bme as em,cNe as en,iLe as eo,tLe as ep,eLe as eq,CT as er,mR as es,rye as et,pNe as eu,fn as ev,dNe as ew,CH as ex,UNe as ey,eo as ez,er as f,pu as f$,YC as f0,Jx as f1,jbe as f2,K_e as f3,h2e as f4,Lbe as f5,Vbe as f6,Fbe as f7,mW as f8,J_e as f9,hMe as fA,JC as fB,y7e as fC,fZ as fD,wZ as fE,hX as fF,BH as fG,ot as fH,kr as fI,B1 as fJ,Ot as fK,_De as fL,bDe as fM,Gee as fN,Hee as fO,fBe as fP,gBe as fQ,Kje as fR,Yje as fS,Q9e as fT,Mw as fU,tr as fV,Jje as fW,rVe as fX,wm as fY,Kc as fZ,Xje as f_,ZOe as fa,h$e as fb,iMe as fc,kW as fd,Q2e as fe,RSe as ff,OOe as fg,kOe as fh,QOe as fi,Ns as fj,aMe as fk,ISe as fl,CSe as fm,Pi as fn,Mi as fo,ir as fp,ls as fq,pn as fr,Mp as fs,Fa as ft,G7e as fu,HMe as fv,zS as fw,Kl as fx,ap as fy,Gs as fz,YSe as g,mJ as g$,Bd as g0,PLe as g1,YLe as g2,Uc as g3,aFe as g4,oFe as g5,eMe as g6,Q$e as g7,m8 as g8,J7e as g9,uDe as gA,SBe as gB,Rhe as gC,Ihe as gD,GE as gE,PVe as gF,b7e as gG,j2 as gH,lk as gI,vm as gJ,$T as gK,w8e as gL,Ep as gM,_4e as gN,S8e as gO,b8e as gP,g8e as gQ,N1e as gR,O8e as gS,H1e as gT,QA as gU,bi as gV,ZUe as gW,ULe as gX,kLe as gY,zDe as gZ,ds as g_,X$e as ga,ou as gb,the as gc,W1 as gd,ci as ge,VZ as gf,Hr as gg,uo as gh,_8e as gi,Uy as gj,BDe as gk,_5 as gl,a8e as gm,OT as gn,QR as go,e6 as gp,o8e as gq,m8e as gr,WT as gs,Fve as gt,YAe as gu,KK as gv,J6 as gw,g7e as gx,WOe as gy,eDe as gz,qge as h,_s as h$,u7e as h0,mn as h1,q7e as h2,Dbe as h3,S5 as h4,x7e as h5,vve as h6,Sp as h7,DL as h8,vSe as h9,hi as hA,zNe as hB,j_e as hC,vJ as hD,qbe as hE,POe as hF,bJ as hG,ADe as hH,S0e as hI,b$e as hJ,F_e as hK,w$e as hL,IT as hM,CPe as hN,y2 as hO,BPe as hP,BOe as hQ,IOe as hR,b3e as hS,KY as hT,ALe as hU,fR as hV,y4e as hW,c5e as hX,l5e as hY,o5e as hZ,D5 as h_,rg as ha,ag as hb,rr as hc,Ad as hd,k7e as he,kDe as hf,H0e as hg,R0e as hh,MZ as hi,kge as hj,Gxe as hk,g9e as hl,d9e as hm,o1 as hn,Bl as ho,Bxe as hp,v9e as hq,w9e as hr,f1e as hs,qNe as ht,r1e as hu,qOe as hv,DDe as hw,t7 as hx,mZ as hy,yZ as hz,hBe as i,Uhe as i$,p5e as i0,Ice as i1,hDe as i2,eZ as i3,P3e as i4,H$e as i5,oDe as i6,bg as i7,U9e as i8,LB as i9,q6e as iA,uBe as iB,iBe as iC,tBe as iD,G6e as iE,qv as iF,aBe as iG,WCe as iH,Aqe as iI,uee as iJ,Pqe as iK,Fx as iL,Rqe as iM,T1 as iN,Iqe as iO,vS as iP,Tqe as iQ,Tze as iR,GZ as iS,Y1 as iT,s4 as iU,o1e as iV,ZZ as iW,WO as iX,DNe as iY,oqe as iZ,rje as i_,bs as ia,th as ib,sX as ic,X1e as id,Im as ie,Cge as ig,La as ih,Yo as ii,sVe as ij,$Be as ik,_Le as il,bLe as im,Bbe as io,fY as ip,Vve as iq,a9 as ir,qSe as is,Z1 as it,Fy as iu,Ut as iv,Bee as iw,y6e as ix,g6e as iy,lBe as iz,se as j,cLe as j$,lS as j0,A as j1,RV as j2,vg as j3,K1 as j4,fwe as j5,fs as j6,Vje as j7,WIe as j8,sp as j9,d1e as jA,ZK as jB,x0e as jC,AOe as jD,BQ as jE,xLe as jF,SLe as jG,Fr as jH,YR as jI,e4 as jJ,ZR as jK,Et as jL,FDe as jM,KDe as jN,u7 as jO,Xce as jP,XK as jQ,KNe as jR,Wi as jS,mDe as jT,NX as jU,npe as jV,MBe as jW,dc as jX,T1e as jY,a9e as jZ,mLe as j_,kR as ja,Lge as jb,VDe as jc,q$e as jd,gr as je,HZ as jf,n1e as jg,jm as jh,$Pe as ji,$Q as jj,KR as jk,G0e as jl,k0e as jm,Da as jn,l4e as jo,Z6 as jp,Y1e as jq,M8e as jr,qS as js,GT as jt,E1e as ju,Nbe as jv,Pbe as jw,EOe as jx,rke as jy,nke as jz,wg as k,uK as k$,wa as k0,HPe as k1,WPe as k2,GPe as k3,Sge as k4,$p as k5,PJ as k6,$2e as k7,M2e as k8,lG as k9,lp as kA,wT as kB,xa as kC,oT as kD,c6 as kE,QPe as kF,f6 as kG,OLe as kH,MLe as kI,C8e as kJ,uSe as kK,u$e as kL,bSe as kM,m$e as kN,pMe as kO,SL as kP,wMe as kQ,xH as kR,fMe as kS,yMe as kT,qt as kU,DT as kV,NT as kW,G3e as kX,qw as kY,OSe as kZ,Sx as k_,zUe as ka,FUe as kb,VUe as kc,LUe as kd,qUe as ke,UUe as kf,DUe as kg,NUe as kh,a1e as ki,A8 as kj,jUe as kk,WR as kl,hve as km,Uye as kn,qC as ko,ZPe as kp,BC as kq,YPe as kr,Hw as ks,Pm as kt,HAe as ku,Hge as kv,Nqe as kw,Dw as kx,o6 as ky,dbe as kz,cp as l,Yxe as l$,U7e as l0,z7e as l1,sTe as l2,V7e as l3,jhe as l4,Tje as l5,Z4e as l6,Y4e as l7,mK as l8,GQ as l9,WDe as lA,qDe as lB,_d as lC,cde as lD,gx as lE,jSe as lF,$9e as lG,tTe as lH,j9e as lI,RW as lJ,VW as lK,ut as lL,cg as lM,Oi as lN,Nt as lO,yn as lP,N9e as lQ,Jxe as lR,rK as lS,$6 as lT,vx as lU,ASe as lV,B9e as lW,x9e as lX,T9e as lY,E9e as lZ,A9e as l_,PNe as la,WAe as lb,xqe as lc,lve as ld,mve as le,Iw as lf,LDe as lg,IDe as lh,PDe as li,ji as lj,S9e as lk,E9 as ll,G9e as lm,iTe as ln,D9e as lo,L9e as lp,V9e as lq,sDe as lr,jge as ls,VSe as lt,XC as lu,Cje as lv,kje as lw,sSe as lx,Zhe as ly,Whe as lz,mSe as m,F1 as m$,O9e as m0,k9e as m1,C9e as m2,R9e as m3,I9e as m4,P9e as m5,$r as m6,wDe as m7,Og as m8,Yw as m9,R8e as mA,eze as mB,Gd as mC,Wqe as mD,NPe as mE,_ve as mF,zF as mG,Q1e as mH,K1e as mI,Vx as mJ,RZ as mK,KUe as mL,YUe as mM,JUe as mN,zCe as mO,u9e as mP,c9e as mQ,l9e as mR,Qo as mS,Gc as mT,KRe as mU,n6e as mV,Gce as mW,tDe as mX,CW as mY,vT as mZ,lDe as m_,sr as ma,vp as mb,CBe as mc,Zs as md,Oje as me,Wf as mf,W7e as mg,KZ as mh,JZ as mi,R1e as mj,L2 as mk,pY as ml,QDe as mm,t6 as mn,Uf as mo,I8e as mp,P8e as mq,j8e as mr,d8e as ms,c8e as mt,n8e as mu,e1e as mv,u8e as mw,k1e as mx,rLe as my,$8e as mz,rt as n,eTe as n$,mAe as n0,cY as n1,A8e as n2,rbe as n3,X5 as n4,Sw as n5,yDe as n6,qE as n7,K2e as n8,wx as n9,Iye as nA,mT as nB,M2 as nC,Nye as nD,_R as nE,Ume as nF,M9e as nG,F9e as nH,h6 as nI,PSe as nJ,EBe as nK,lv as nL,ps as nM,Nl as nN,vc as nO,qi as nP,h_e as nQ,eOe as nR,KPe as nS,q_e as nT,zbe as nU,P_e as nV,N_e as nW,RUe as nX,eu as nY,g1 as nZ,eNe as n_,ET as na,EFe as nb,MFe as nc,LZ as nd,NZ as ne,Ive as nf,jve as ng,Zje as nh,Ta as ni,jc as nj,pRe as nk,mRe as nl,yRe as nm,tB as nn,nFe as no,eR as np,Bf as nq,Ki as nr,fFe as ns,d$e as nt,tVe as nu,b9e as nv,G4e as nw,WUe as nx,_we as ny,uG as nz,Dy as o,yqe as o$,eX as o0,c1 as o1,Ic as o2,ew as o3,cMe as o4,aB as o5,QNe as o6,zW as o7,vZ as o8,zL as o9,Z_e as oA,Zbe as oB,A6 as oC,axe as oD,gR as oE,vDe as oF,j6 as oG,Ef as oH,Fce as oI,a4 as oJ,Mqe as oK,LRe as oL,Eqe as oM,$qe as oN,aee as oO,nI as oP,Vxe as oQ,p9e as oR,hs as oS,l1e as oT,G0 as oU,RNe as oV,NCe as oW,gG as oX,Qje as oY,uTe as oZ,dVe as o_,YW as oa,VRe as ob,Y9e as oc,Tp as od,ka as oe,OTe as of,GNe as og,WZ as oh,LNe as oi,MR as oj,WW as ok,iDe as ol,pk as om,Xye as on,MPe as oo,qX as op,i4 as oq,sze as or,rze as os,ZAe as ot,$Le as ou,TLe as ov,IR as ow,X_e as ox,Y_e as oy,jOe as oz,Rw as p,yr as p$,nVe as p0,aqe as p1,V9 as p2,L7e as p3,AMe as p4,BY as p5,F7e as p6,sbe as p7,zl as p8,By as p9,XR as pA,IZ as pB,Pw as pC,dQ as pD,Ww as pE,$g as pF,Yt as pG,rxe as pH,ixe as pI,yt as pJ,mc as pK,Sxe as pL,eK as pM,zo as pN,Vl as pO,Uo as pP,tze as pQ,wE as pR,z8e as pS,px as pT,vn as pU,KOe as pV,Uve as pW,hx as pX,ODe as pY,Mve as pZ,F8e as p_,J2e as pa,cSe as pb,hSe as pc,wSe as pd,K3e as pe,f$e as pf,c7e as pg,h7e as ph,d7e as pi,Go as pj,Od as pk,Mc as pl,bR as pm,_je as pn,zPe as po,TQ as pp,jVe as pq,vqe as pr,gqe as ps,kUe as pt,CUe as pu,Nje as pv,fQ as pw,OQ as px,Yy as py,Oa as pz,rDe as q,qs as q$,mr as q0,j3e as q1,JLe as q2,QLe as q3,ZLe as q4,N3e as q5,qhe as q6,lje as q7,sh as q8,AZ as q9,MCe as qA,J1e as qB,VPe as qC,jPe as qD,fB as qE,$De as qF,TDe as qG,wFe as qH,bB as qI,dAe as qJ,KAe as qK,pQ as qL,gee as qM,JPe as qN,dqe as qO,pqe as qP,fqe as qQ,mqe as qR,QUe as qS,tqe as qT,eqe as qU,fRe as qV,Bc as qW,T_e as qX,$W as qY,Yye as qZ,Ss as q_,GAe as qa,qve as qb,Bve as qc,D2 as qd,E8e as qe,GB as qf,kve as qg,Cve as qh,LIe as qi,Ws as qj,QT as qk,vOe as ql,$je as qm,xQ as qn,MQ as qo,A4e as qp,Mze as qq,D4e as qr,Eze as qs,i5e as qt,H7e as qu,CDe as qv,Xl as qw,cs as qx,Y7e as qy,sje as qz,w7e as r,cVe as r$,k8 as r0,y0e as r1,J8e as r2,ize as r3,xDe as r4,SDe as r5,F0e as r6,i6e as r7,Bhe as r8,r6e as r9,k8e as rA,e7e as rB,B4e as rC,vVe as rD,DVe as rE,wVe as rF,IVe as rG,to as rH,UVe as rI,GDe as rJ,XUe as rK,AVe as rL,EVe as rM,kVe as rN,CVe as rO,z9 as rP,U9 as rQ,q9 as rR,MVe as rS,$Ve as rT,Yn as rU,lqe as rV,jDe as rW,fde as rX,FVe as rY,zVe as rZ,bVe as r_,XRe as ra,uLe as rb,jT as rc,GVe as rd,OUe as re,ad as rf,S7e as rg,dpe as rh,Hje as ri,z9e as rj,pwe as rk,uNe as rl,iNe as rm,nNe as rn,rNe as ro,oNe as rp,sNe as rq,lNe as rr,Bqe as rs,q9e as rt,v8 as ru,tNe as rv,B1e as rw,TVe as rx,x8e as ry,twe as rz,xBe as s,ER as s$,OVe as s0,SVe as s1,XTe as s2,_Ve as s3,ZO as s4,nqe as s5,KTe as s6,e3e as s7,sqe as s8,fVe as s9,UB as sA,x1 as sB,Pje as sC,r2e as sD,B8e as sE,qTe as sF,ZDe as sG,Pwe as sH,FF as sI,Lce as sJ,PPe as sK,IPe as sL,A1e as sM,fye as sN,sBe as sO,nBe as sP,Ec as sQ,Hye as sR,rBe as sS,z1 as sT,q1 as sU,Ny as sV,yye as sW,eje as sX,FSe as sY,ege as sZ,tge as s_,QCe as sa,rqe as sb,IUe as sc,PUe as sd,uqe as se,cqe as sf,wqe as sg,bqe as sh,BUe as si,_qe as sj,Sqe as sk,FCe as sl,BCe as sm,Oee as sn,Ry as so,hqe as sp,kCe as sq,nDe as sr,u1e as ss,x$e as st,Zve as su,YDe as sv,lze as sw,s2e as sx,DZ as sy,WY as sz,ae as t,Vw as t$,nte as t0,tPe as t1,kqe as t2,Cqe as t3,NNe as t4,Oqe as t5,Gqe as t6,Uqe as t7,qqe as t8,zqe as t9,e2e as tA,d2e as tB,NK as tC,hLe as tD,qAe as tE,G_e as tF,$ze as tG,bBe as tH,xze as tI,ABe as tJ,Qc as tK,TBe as tL,_Be as tM,K9e as tN,i1e as tO,e8e as tP,r8e as tQ,p8e as tR,t8e as tS,s8e as tT,f8e as tU,C1e as tV,X9e as tW,eVe as tX,R3e as tY,W$e as tZ,T8e as t_,Fqe as ta,hRe as tb,yee as tc,HUe as td,GUe as te,lRe as tf,AUe as tg,l8e as th,Ul as ti,r4 as tj,XDe as tk,gs as tl,qce as tm,ike as tn,DPe as to,FLe as tp,zLe as tq,p1e as tr,f2e as ts,p2e as tt,HY as tu,zK as tv,mpe as tw,V_e as tx,D_e as ty,L_e as tz,Mye as u,Fw as u0,zw as u1,O7e as u2,kAe as u3,mze as u4,_xe as u5,xf as u6,jxe as u7,HLe as u8,ILe as u9,INe as uA,yLe as uB,RLe as uC,VNe as uD,Dve as uE,Gbe as uF,qH as uG,EY as uH,fLe as uI,LLe as uJ,pLe as uK,dLe as uL,HDe as uM,D6 as uN,nje as uO,VLe as uP,z_e as uQ,Ube as uR,Q_e as uS,n9e as uT,_9e as uU,iFe as uV,sFe as uW,yFe as uX,Yqe as uY,DLe as ua,jLe as ub,tje as uc,n7e as ud,s7e as ue,qPe as uf,CLe as ug,UDe as uh,qLe as ui,DEe as uj,tOe as uk,NQ as ul,jje as um,j_ as un,uV as uo,N8e as up,Lo as uq,h9e as ur,Or as us,GO as ut,yze as uu,NLe as uv,C_e as uw,uVe as ux,Sm as uy,Hbe as uz,hNe as v,Z7e as w,pBe as x,ct as y,h as z};
