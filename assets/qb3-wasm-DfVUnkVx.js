var Pt=Object.defineProperty;var It=(l,s,p)=>s in l?Pt(l,s,{enumerable:!0,configurable:!0,writable:!0,value:p}):l[s]=p;var J=(l,s,p)=>It(l,typeof s!="symbol"?s+"":s,p);var H,K,xt=(H=typeof document<"u"?(K=document.currentScript)==null?void 0:K.src:void 0,async function(l={}){var s,p,r=l,Q=new Promise((t,e)=>{s=t,p=e}),V=typeof window=="object",E=typeof WorkerGlobalScope<"u";typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type;var j,S,C=Object.assign({},r),F=(t,e)=>{throw e},c="";function Y(t){return r.locateFile?r.locateFile(t,c):c+t}(V||E)&&(E?c=self.location.href:typeof document<"u"&&document.currentScript&&(c=document.currentScript.src),H&&(c=H),c=c.startsWith("blob:")?"":c.slice(0,c.replace(/[?#].*/,"").lastIndexOf("/")+1),E&&(S=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),j=async t=>{var e=await fetch(t,{credentials:"same-origin"});if(e.ok)return e.arrayBuffer();throw new Error(e.status+" : "+e.url)}),r.print||console.log.bind(console);var g=r.printErr||console.error.bind(console);Object.assign(r,C),C=null,r.arguments&&r.arguments,r.thisProgram&&r.thisProgram;var v,A,m,P,h,b=r.wasmBinary,R=!1;function W(){var t=v.buffer;r.HEAP8=m=new Int8Array(t),r.HEAP16=new Int16Array(t),r.HEAPU8=P=new Uint8Array(t),r.HEAPU16=new Uint16Array(t),r.HEAP32=new Int32Array(t),r.HEAPU32=h=new Uint32Array(t),r.HEAPF32=new Float32Array(t),r.HEAPF64=new Float64Array(t),r.HEAP64=new BigInt64Array(t),r.HEAPU64=new BigUint64Array(t)}function Z(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)lt(r.preRun.shift());B(D)}function tt(){u.i()}function et(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)pt(r.postRun.shift());B(M)}var I,d=0,y=null;function rt(t){var e;d++,(e=r.monitorRunDependencies)==null||e.call(r,d)}function nt(t){var n;if(d--,(n=r.monitorRunDependencies)==null||n.call(r,d),d==0&&y){var e=y;y=null,e()}}function U(t){var n;(n=r.onAbort)==null||n.call(r,t),g(t="Aborted("+t+")"),R=!0,t+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(t);throw p(e),e}function it(){return r.locateFile?Y("qb3-wasm.wasm"):new URL("qb3-wasm.wasm","").href}function at(t){if(t==I&&b)return new Uint8Array(b);if(S)return S(t);throw"both async and sync fetching of the wasm failed"}async function ot(t){if(!b)try{var e=await j(t);return new Uint8Array(e)}catch{}return at(t)}async function st(t,e){try{var n=await ot(t);return await WebAssembly.instantiate(n,e)}catch(i){g(`failed to asynchronously prepare wasm: ${i}`),U(i)}}async function ut(t,e,n){if(!t&&typeof WebAssembly.instantiateStreaming=="function")try{var i=fetch(e,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(i,n)}catch(a){g(`wasm streaming compile failed: ${a}`),g("falling back to ArrayBuffer instantiation")}return st(e,n)}function ft(){return{a:Et}}async function ct(){function t(i,a){return u=i.exports,v=u.h,W(),nt(),u}function e(i){return t(i.instance)}rt();var n=ft();if(r.instantiateWasm)return new Promise((i,a)=>{r.instantiateWasm(n,(f,o)=>{t(f),i(f.exports)})});I??(I=it());try{return e(await ut(b,I,n))}catch(i){return p(i),Promise.reject(i)}}class k{constructor(e){J(this,"name","ExitStatus");this.message=`Program terminated with exit(${e})`,this.status=e}}var B=t=>{for(;t.length>0;)t.shift()(r)},M=[],pt=t=>M.unshift(t),D=[],lt=t=>D.unshift(t),O=r.noExitRuntime||!0,$=typeof TextDecoder<"u"?new TextDecoder:void 0,ht=(t,e=0,n=NaN)=>{for(var i=e+n,a=e;t[a]&&!(a>=i);)++a;if(a-e>16&&t.buffer&&$)return $.decode(t.subarray(e,a));for(var f="";e<a;){var o=t[e++];if(128&o){var T=63&t[e++];if((224&o)!=192){var z=63&t[e++];if((o=(240&o)==224?(15&o)<<12|T<<6|z:(7&o)<<18|T<<12|z<<6|63&t[e++])<65536)f+=String.fromCharCode(o);else{var X=o-65536;f+=String.fromCharCode(55296|X>>10,56320|1023&X)}}else f+=String.fromCharCode((31&o)<<6|T)}else f+=String.fromCharCode(o)}return f},_=(t,e)=>t?ht(P,t,e):"",dt=(t,e,n,i)=>U(`Assertion failed: ${_(t)}, at: `+[e?_(e):"unknown filename",n,i?_(i):"unknown function"]);class mt{constructor(e){this.excPtr=e,this.ptr=e-24}set_type(e){h[this.ptr+4>>2]=e}get_type(){return h[this.ptr+4>>2]}set_destructor(e){h[this.ptr+8>>2]=e}get_destructor(){return h[this.ptr+8>>2]}set_caught(e){e=e?1:0,m[this.ptr+12]=e}get_caught(){return m[this.ptr+12]!=0}set_rethrown(e){e=e?1:0,m[this.ptr+13]=e}get_rethrown(){return m[this.ptr+13]!=0}init(e,n){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(n)}set_adjusted_ptr(e){h[this.ptr+16>>2]=e}get_adjusted_ptr(){return h[this.ptr+16>>2]}}var q=0,w={},G=t=>{if(t instanceof k||t=="unwind")return A;F(1,t)},L=()=>O||q>0,N=t=>{var e;A=t,L()||((e=r.onExit)==null||e.call(r,t),R=!0),F(t,new k(t))},yt=(t,e)=>{A=t,N(t)},wt=()=>{if(!L())try{yt(A)}catch(t){G(t)}},gt=t=>{if(!R)try{t(),wt()}catch(e){G(e)}},vt=()=>performance.now(),At=()=>2147483648,bt=(t,e)=>Math.ceil(t/e)*e,Rt=t=>{var e=(t-v.buffer.byteLength+65535)/65536|0;try{return v.grow(e),W(),1}catch{}},_t=(t,e)=>{m.set(t,e)},Et={a:dt,b:(t,e,n)=>{throw new mt(t).init(e,n),t},f:()=>U(""),d:()=>{O=!1,q=0},e:(t,e)=>{if(w[t]&&(clearTimeout(w[t].id),delete w[t]),!e)return 0;var n=setTimeout(()=>{delete w[t],gt(()=>St(t,vt()))},e);return w[t]={id:n,timeout_ms:e},0},g:t=>{var e=P.length;t>>>=0;var n=At();if(t>n)return!1;for(var i=1;i<=4;i*=2){var a=e*(1+.2/i);a=Math.min(a,t+100663296);var f=Math.min(n,bt(Math.max(t,a),65536));if(Rt(f))return!0}return!1},c:N},u=await ct();u.i,r._GetInfo=u.j,r._decode=u.k;var St=u.m;function x(){function t(){var e;r.calledRun=!0,R||(tt(),s(r),(e=r.onRuntimeInitialized)==null||e.call(r),et())}d>0?y=x:(Z(),d>0?y=x:r.setStatus?(r.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>r.setStatus(""),1),t()},1)):t())}if(r._malloc=u.n,r._free=u.o,r.UTF8ToString=_,r.writeArrayToMemory=_t,r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return x(),Q});export{xt as default};
