import{N as v,cO as E,f8 as N,dJ as c,dx as ee,d$ as m,eO as k,dZ as P,dX as G,e2 as W,fg as Q,fh as Y,dy as R,fi as l,fj as w}from"./index-DalZQxea.js";function $(n,_){if(!Array.isArray(n)||n.length<_)return!1;for(const h of n)if(typeof h!="number")return!1;return!0}const X=7645211,te={xmin:-180,ymin:-90,zmin:-450,xmax:180,ymax:90,zmax:8850};new w({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"EGM96_Geoid"}),new w({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"EGM2008_Geoid"}),new w({heightModel:"ellipsoidal",heightUnit:"meters",vertCRS:"WGS_1984"}),new w({heightModel:"ellipsoidal",heightUnit:"meters",vertCRS:"ETRS_1989"}),new w({heightModel:"gravity-related-height",heightUnit:"us-feet",vertCRS:"NAVD88_height_(ftUS)"}),new w({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"DHHN2016_(height) "});function re(n){var _,h,r,f,d,S,b,p,y,M,A,U,V,I;return!(!((h=(_=n.extensions)==null?void 0:_.ESRI_crs)!=null&&h.wkid||(f=(r=n.extensions)==null?void 0:r.ESRI_crs)!=null&&f.latestWkid||(S=(d=n.extensions)==null?void 0:d.ESRI_crs)!=null&&S.wkt)||!((M=(y=(p=(b=n.root)==null?void 0:b.extensions)==null?void 0:p.ESRI_crs)==null?void 0:y.boundingVolume)!=null&&M.box)&&!((I=(V=(U=(A=n.root)==null?void 0:A.extensions)==null?void 0:U.ESRI_crs)==null?void 0:V.boundingVolume)!=null&&I.sphere))}function se(n,_=!1){var b,p,y,M,A,U,V,I,C,L,D,H,O,j,q,J,T,Z,B,F,K;let h=new v({wkid:4326,vcsWkid:115700}),r=(b=n.root)==null?void 0:b.boundingVolume,f=!1,d=(p=n==null?void 0:n.root)==null?void 0:p.transform;if(_&&((M=(y=n.extensions)==null?void 0:y.ESRI_crs)!=null&&M.wkid||(U=(A=n.extensions)==null?void 0:A.ESRI_crs)!=null&&U.latestWkid||(I=(V=n.extensions)==null?void 0:V.ESRI_crs)!=null&&I.wkt)&&((H=(D=(L=(C=n.root)==null?void 0:C.extensions)==null?void 0:L.ESRI_crs)==null?void 0:D.boundingVolume)!=null&&H.box||(J=(q=(j=(O=n.root)==null?void 0:O.extensions)==null?void 0:j.ESRI_crs)==null?void 0:q.boundingVolume)!=null&&J.sphere))h=new v((T=n.extensions)==null?void 0:T.ESRI_crs),r=(F=(B=(Z=n.root)==null?void 0:Z.extensions)==null?void 0:B.ESRI_crs)==null?void 0:F.boundingVolume,d=(K=n.root)==null?void 0:K.transform,f=!0;else if(!r)return new E(-180,-90,180,90,h);if(r.box){const t=r==null?void 0:r.box;if(t[3]>X&&t[7]>X&&t[11]>X)return new E({...te,spatialReference:h})}const S=R();if(!f&&r.region&&$(r.region,6)){const t=r.region,a=N(t[0]),o=N(t[1]),s=t[4],i=N(t[2]),e=N(t[3]),x=t[5];return new E({xmin:a,ymin:o,zmin:s,xmax:i,ymax:e,zmax:x,spatialReference:h})}if(r.sphere&&$(r.sphere,4)){const t=r.sphere,a=c(t[0],t[1],t[2]),o=t[3]/Math.sqrt(3),s=R();ee(s,a,c(o,o,o));const i=R();if(m(i,a,c(o,o,o)),d&&$(d,16)){const g=d;k(S,s,g),P(s,S),k(S,i,g),P(i,S)}f||(G(s,W,0,s,v.WGS84,0),G(i,W,0,i,v.WGS84,0));const e=R(),x=R();return Q(e,s,i),Y(x,s,i),new E({xmin:e[0],ymin:e[1],zmin:e[2],xmax:x[0],ymax:x[1],zmax:x[2],spatialReference:h})}if(r.box&&$(r.box,12)){const t=r.box,a=c(t[0],t[1],t[2]),o=c(t[3],t[4],t[5]),s=c(t[6],t[7],t[8]),i=c(t[9],t[10],t[11]),e=[];for(let u=0;u<8;++u)e.push(R());if(m(e[0],a,o),m(e[0],e[0],s),m(e[0],e[0],i),l(e[1],a,o),m(e[1],e[1],s),m(e[1],e[1],i),m(e[2],a,o),l(e[2],e[2],s),m(e[2],e[2],i),l(e[3],a,o),l(e[3],e[3],s),m(e[3],e[3],i),m(e[4],a,o),m(e[4],e[4],s),l(e[4],e[4],i),l(e[5],a,o),m(e[5],e[5],s),l(e[5],e[5],i),m(e[6],a,o),l(e[6],e[6],s),l(e[6],e[6],i),l(e[7],a,o),l(e[7],e[7],s),l(e[7],e[7],i),d&&$(d,16)){const u=d;for(let z=0;z<8;++z)k(e[z],e[z],u)}const x=c(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),g=c(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE);for(let u=0;u<8;++u)f||G(e[u],W,0,e[u],v.WGS84,0),Q(g,g,e[u]),Y(x,x,e[u]);return new E({xmin:g[0],ymin:g[1],zmin:g[2],xmax:x[0],ymax:x[1],zmax:x[2],spatialReference:h})}return new E(-180,-90,180,90,h)}export{se as E,re as R};
