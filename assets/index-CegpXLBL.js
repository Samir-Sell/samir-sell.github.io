const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/WhereClauseCache-C-gKJZht.js","assets/WhereClause-B-M8V6oG.js","assets/arcadeUtils-vqoq0LIh.js","assets/arcade-CHBumvTm.js","assets/arcadeEnvironment-CuCVN48K.js","assets/Dictionary-BoHwZPY0.js","assets/ImmutableArray-BPVd6ESQ.js","assets/shared-CnIgJbdW.js","assets/number-u2J_vhW4.js","assets/Feature-BCADFtwk.js","assets/featureConversionUtils-C7MkOpa3.js","assets/OptimizedFeature-CFRsejVj.js","assets/memoryEstimations-D_r7WiA-.js","assets/OptimizedFeatureSet-BR8EEvDc.js","assets/aiServices-hCBlM7qs.js","assets/commonProperties-DHiB1uzW.js","assets/streamLayerUtils-DFlbJ4P1.js","assets/unitConversion-BLc5rJbu.js","assets/isImageryGraphicOrigin-Ccuhb4eK.js","assets/isImageryTileGraphicOrigin-ZR-gBf9D.js","assets/rasterFieldUtils-DckUsmX9.js","assets/batchExec-Dy3lQLHc.js","assets/QueueProcessor-DmOOu75G.js","assets/IdentityManager-iM417jI8.js","assets/substitute-xTHs35X2.js","assets/portalLayers-DY6VyXm4.js","assets/associatedFeatureServiceUtils-bC1w-VYe.js","assets/fetchService-Dtzv-jHv.js","assets/loadUtils-BOiHN46X.js","assets/lazyLayerLoader-C9llUvdN.js","assets/arcgisLayers-Dg3Fmh8u.js","assets/statsWorker-ZkiN6wLU.js","assets/utils-Cajvyeib.js","assets/quantizationUtils-CQPEvndo.js","assets/utils-BjZXIonI.js","assets/utils-pQoZohY5.js","assets/ClassBreaksDefinition-CRWZypqC.js","assets/geometryEngineWorker-O9xIBdBG.js","assets/geometryEngineJSON-CVa9W4jg.js","assets/geometryEngineBase-DawRHyLc.js","assets/_commonjsHelpers-DCkdB7M8.js","assets/CSVSourceWorker-uWQVCuUm.js","assets/date-Ctp1FiBW.js","assets/FeatureStore-BGTuha55.js","assets/BoundsStore-6L25sw1w.js","assets/PooledRBush-Dh-OHZon.js","assets/timeSupport-D90OyzKH.js","assets/queryUtils-Cog7fiIX.js","assets/optimizedFeatureQueryEngineAdapter-CFqLXney.js","assets/QueryEngine-DT8vikP_.js","assets/SnappingCandidate-DGkpYqI6.js","assets/FixedIntervalBinParameters-CZPEZJB_.js","assets/locationUtils-D-2CQnmm.js","assets/EdgeProcessingWorker-CnpgWvt9.js","assets/workerHelper-ExVaAnOZ.js","assets/InterleavedLayout-Cb26IT4W.js","assets/BufferView-Cl8-AcBs.js","assets/types-BKo2foNY.js","assets/VertexElementDescriptor-BLyltQyJ.js","assets/VertexAttributeLocations-BfZbt_DV.js","assets/edgeProcessing-DUc-5Zl9.js","assets/deduplicate-DP0riChn.js","assets/Indices-CrDl2ZLU.js","assets/Normals-e9ilZhnN.js","assets/ElevationSamplerWorker-B0MIyQ2C.js","assets/MeshLocalVertexSpace-Dl8LOiHz.js","assets/vertexSpaceConversion-BDys5ttw.js","assets/spatialReferenceEllipsoidUtils-BDgqD2YD.js","assets/computeTranslationToOriginAndRotation-DJiTCABk.js","assets/projectPointToVector-CSwWauIl.js","assets/meshVertexSpaceUtils-DTpd9Lds.js","assets/vec3-B_TAUG5I.js","assets/vec4-OkzdspTM.js","assets/FeatureServiceSnappingSourceWorker-Ccm6vppq.js","assets/symbologySnappingCandidates-BoUeOfSj.js","assets/pbfQueryUtils-CEe9JM9_.js","assets/pbf-C9cRbj-3.js","assets/query-BGuquViQ.js","assets/queryZScale-BQ6EXPb7.js","assets/GeoJSONSourceWorker-Dy1xZ560.js","assets/geojson-CC6ESMAv.js","assets/sourceUtils-Zy4UC_BB.js","assets/MemorySourceWorker-C_cKDqGu.js","assets/objectIdUtils-4dd1rf9p.js","assets/PBFDecoderWorker-xW3_FDhF.js","assets/dehydratedFeatures-MV00TUR-.js","assets/FeaturePipelineWorker-j_1Du7NI.js","assets/AttributeStore-BeUQnpXu.js","assets/Utils-Cg9Xf1XT.js","assets/BoundingBox-_kabJ8Uq.js","assets/UpdateTracking2D-OoRWd1Yz.js","assets/FeatureStoreQueryAdapter-Cp_7F_Sj.js","assets/labelPoint-BXgV4UPH.js","assets/constants-BBnGEY1d.js","assets/MeshWriterRegistry-BHkm5sYS.js","assets/rasterizingUtils-BvFVRWvC.js","assets/CIMSymbolHelper-CcRLXJeL.js","assets/BidiEngine-BvER9tXK.js","assets/GeometryUtils-DmhE5hCD.js","assets/Rect-CUzevAry.js","assets/TexturedLineMeshWriter-BdPEMruo.js","assets/TurboLine-BYZ1WLfl.js","assets/grouping-C-Dzc9C3.js","assets/FeatureMetadata-BQWS7M-I.js","assets/SourceChunkStore-DIcfMWXG.js","assets/parquet-Bfm_hXEE.js","assets/operatorGeodeticDensify-DqXFo1QN.js","assets/SimpleGeometryCursor-B92kdZ15.js","assets/geodeticCurveType-CirnHLSB.js","assets/normalizeUtilsSync-CGCTa_s6.js","assets/FeatureIdInfo-CQzo42cX.js","assets/ogcFeatureUtils-DmYp0c9X.js","assets/CircularArray-CujHzHWW.js","assets/createConnection-C_2rP5pr.js","assets/PointCloudWorker-BUobiq3H.js","assets/quat-DSJ4ypfH.js","assets/quatf64-aQ5IuZRd.js","assets/vec3f32-WCVSSNPR.js","assets/PointCloudUniqueValueRenderer-LDpoCywV.js","assets/I3SBinaryReader-D7wePc9w.js","assets/orientedBoundingBox-CReQhoTl.js","assets/plane-HEMh57ws.js","assets/vectorStacks-DlLAsNR2.js","assets/RasterWorker-BWF8fFvm.js","assets/PixelBlock-DpseXwOp.js","assets/RasterSymbolizer-BXqGbEnY.js","assets/vectorFieldUtils-CXH3l78m.js","assets/colorUtils-Czp5UFqE.js","assets/rasterFunctionHelper-B_TomKbm.js","assets/clipUtils-BNEwJXeX.js","assets/rasterProjectionHelper-BQLzLmPc.js","assets/PolynomialTransform-BFJpPBVN.js","assets/dataUtils-C9Kc2aIa.js","assets/SceneLayerSnappingSourceWorker-BgxtQzdb.js","assets/lineSegment-CyvTnDgU.js","assets/sphere-BjEzL5dN.js","assets/Octree-B6ExWcrc.js","assets/frustum-DLKMOe9s.js","assets/SceneLayerWorker-C68tAeeO.js","assets/projectVectorToVector-JtaKRY7U.js","assets/WFSSourceWorker-BwJIA5d4.js","assets/wfsUtils-BXYmxDxq.js","assets/xmlUtils-CtUoQO7q.js","assets/WorkerTileHandler-mXgAvzU5.js","assets/constants-BHYAGdRm.js","assets/config-BOD8--da.js","assets/SourceLayerData-U9lXSXF0.js","assets/StyleRepository-B_RqIXUb.js","assets/earcut-D9gy186-.js","assets/Feature3DPipelineWorker-xc0M9yWU.js","assets/HUDMaterial.glsl-CxBBa4dJ.js","assets/hydratedFeatures-CGzLgOZ9.js","assets/OutputColorHighlightOID.glsl-CDXuOxjT.js","assets/triangle-CVLpfB4v.js","assets/renderState-CKc66y4x.js","assets/glsl-B5bJgrnA.js","assets/ShaderBuilder-rHiHdkz5.js","assets/placementUtils-CSwcgQc1.js","assets/sdfPrimitives-SvEBak1Y.js","assets/Texture-DpVIe6C_.js","assets/videoUtils-CxfsaZk-.js","assets/requestImageUtils-DEsxnc2w.js","assets/RealisticTree.glsl-Y1vCCbS8.js","assets/DefaultMaterial-Diko9XBB.js","assets/VertexBuffer-CH7sMi7T.js","assets/BufferObject-BE8I3iIj.js","assets/boundedPlane-D0BigFfW.js","assets/FlowWorker-CHZRhnqN.js","assets/ParquetSourceWorker-BF1AjR1L.js","assets/parquetUtils-BhGu02gO.js","assets/PanoramicMeshWorker-DVZ35_oX.js","assets/ElevationLayer-BqixqIQE.js","assets/ArcGISCachedService-BBh-hWXB.js","assets/TileInfoTilemapCache-Cr5N7X09.js","assets/TilemapCache-ItKjzL7c.js","assets/ArcGISService-B8R-YK4o.js","assets/WorkerHandle-DB7mZVNB.js","assets/webStyleSymbolUtils-kle_gY8U.js","assets/devEnvironmentUtils-CnNDiFMM.js","assets/editingSupport-hz_HjTg_.js","assets/EditBusLayer-CO6TwWzT.js","assets/infoFor3D-dHKPbXlj.js","assets/OverrideHelper-CRvnOItt.js","assets/callExpressionWithFeature-COu6jNYy.js","assets/projectOperator-BISr2UKm.js","assets/operatorProject-Bgo6LWjL.js","assets/projectOperator-BAJefTM6.js","assets/layersLoader-CHs5ojrh.js","assets/jsonContext-B8bSmaW9.js","assets/styleUtils-Bqx7PO8m.js","assets/AttributeBinsQuery-B7kw3cLN.js","assets/layersCreator-Br3tleiZ.js","assets/ElevationQuery-AKJcT54b.js","assets/GeometryDescriptor-BkCkg8js.js","assets/Popup-ChgBAmCo.js","assets/throttle-CkmV1Tbd.js","assets/unitFormatUtils-D1UbWs1X.js","assets/quantityUtils-ByWXiYOm.js","assets/AttachmentInfo-DqNTrxfG.js","assets/featureUtils-DaZjGwbq.js","assets/utils-CpB5_9Gs.js","assets/cimSymbolUtils-1FROGh5r.js","assets/executeQueryJSON-h4ozVTIQ.js","assets/FeatureLayer-DC2HIQYP.js","assets/FormTemplate-Cs7R5gX7.js","assets/editsZScale-y_wLdPkv.js","assets/APIKeyMixin-CwnMg6j4.js","assets/FeatureLayerBase-D17ia9q9.js","assets/LayerFloorInfo-Cx_IusOB.js","assets/multiLayerServiceUtils-Boo50nB-.js","assets/Relationship-CN9DuuaW.js","assets/serviceCapabilitiesUtils-DAvxAsE6.js","assets/FeatureType-BF_gQpVA.js","assets/TitleCreator-DbgWQ1Mx.js","assets/versionUtils-CNp-xr7E.js","assets/NetworkElement-CFb0cguJ.js","assets/ReactiveSet-DriKV2M8.js","assets/symbolUtils-DtIu4Yle.js","assets/layerViewUtils-DPLvJyF6.js","assets/geometryServiceUtils-CJ_TGwU8.js","assets/project-DiB91p4O.js","assets/webglDeps-CNhsypSh.js","assets/FramebufferObject-8ZIX2Pl8.js","assets/ProgramTemplate-BUpJmKG1.js","assets/VertexArrayObject-CF_ynAGF.js","assets/mapViewDeps-CYPr_Hwl.js","assets/FeatureCommandQueue-C-rm9o3m.js","assets/GraphShaderModule-Bie_WAkR.js","assets/utils-ChpD980z.js","assets/WGLContainer-PfXiCAh0.js","assets/Container-BPVenAaK.js","assets/SDFHelper-CFEMs3xj.js","assets/GridShader-D7vLU3F4.js","assets/testSVGPremultipliedAlpha-BCtuOJth.js","assets/SymbolFader--aqxmSl2.js","assets/RenderingContext-B2mBdstj.js","assets/CIMResourceManager-BnZsJTAA.js","assets/utils-CVlPH-tu.js","assets/utils-DDjZAYSk.js","assets/GraphicsView2D-Dnyg0FQ8.js","assets/GraphicContainer-DqPie4Mm.js","assets/AGraphicContainer-CIWXqrHe.js","assets/TechniqueInstance-B93_QeOr.js","assets/TileContainer-BsbfCW0m.js","assets/gridUtils-LwkyDYnW.js","assets/geodesicUtils-BKsC2zQu.js","assets/TileLayerView2D-BJLbX0d0.js","assets/imageUtils-aKMf6nZd.js","assets/BitmapTechnique-CNUsKX8w.js","assets/bitmapUtils-Tw-a7Ugh.js","assets/LayerView2D-BW7qn8y3.js","assets/HighlightGraphicContainer-Xgzp7b6H.js","assets/LayerView-DwfNT2-1.js","assets/RefreshableLayerView-B0bNJ49o.js","assets/MapServiceLayerViewHelper-C3vZasIu.js","assets/floorFilterUtils-DZ5C6FQv.js","assets/drapedUtils-MW4leeAv.js","assets/sublayerUtils-CLrdRyiA.js","assets/popupUtils-D-Bjoraa.js","assets/highlightOptionsUtils-reYL_-sU.js","assets/FeatureLayerView2D-DqILKZsm.js","assets/timeSupport-qOIMw16N.js","assets/AttributeBinsFeatureSet-mRxqotOO.js","assets/constants-SxxbBSOD.js","assets/BaseDynamicLayerView2D-BJCS-3Xj.js","assets/BitmapContainer-z9npUDkE.js","assets/ExportStrategy-D5bMGS6w.js","assets/CatalogLayerView2D-D1I1sMQU.js","assets/CatalogDynamicGroupLayerView2D-roLvxJkt.js","assets/CatalogFootprintLayerView2D-BgLD0LhK.js","assets/GeoRSSLayerView2D-BwV2bi2q.js","assets/GraphicsLayerView2D-DEu-2col.js","assets/GroupLayerView2D-BA0wP1Mb.js","assets/ImageryLayerView2D-849d6jHh.js","assets/RasterVFDisplayObject-DnJDrjht.js","assets/ImageryTileLayerView2D-BMiwEE5j.js","assets/datasetUtils-DgRFShyD.js","assets/rasterUtils-C-6mPkJP.js","assets/RawBlockCache-BAxGxi2W.js","assets/KMLLayerView2D-_CUXo_gd.js","assets/kmlUtils-2SoGH-_g.js","assets/KnowledgeGraphLayerView2D-C4l42y4i.js","assets/MapImageLayerView2D-CZr0QeOp.js","assets/ExportImageParameters-Dz9nQ_Ru.js","assets/MapNotesLayerView2D-BXiZHzvf.js","assets/MediaLayerView2D-DJjgFrbv.js","assets/mediaLayerUtils-CzYpy7K0.js","assets/OverlayContainer-Du6ekO6g.js","assets/OGCFeatureLayerView2D-D_Qcx4K9.js","assets/RouteLayerView2D-DbYhiFed.js","assets/Stop-ybDuIqNt.js","assets/networkEnums-CJ-CFHwA.js","assets/StreamLayerView2D-DbFATAB_.js","assets/SubtypeGroupLayerView2D-DG6HxezV.js","assets/VectorTileLayerView2D-DektJ4hd.js","assets/VideoLayerView2D-Bq7CN4_O.js","assets/GraphicsLayer-CxwaoEs-.js","assets/videoUtils-CK_1Enu2.js","assets/ControlPoint-1qXKE5CP.js","assets/WMSLayerView2D-CR2ckGHI.js","assets/ExportWMSImageParameters-Ck8wGGJG.js","assets/WMTSLayerView2D-DVeijdNA.js","assets/ElevationProfileAnalysisView2D-MDNO12Qx.js","assets/createUtils-Dt9rdBsz.js","assets/distanceOperator-DZbdTk_x.js","assets/Point2D-AUu76-L_.js","assets/Distance2DCalculator-CXhBP-8I-CAsWLxr-.js","assets/ProjectionTransformation-BdnTI0bU.js","assets/Envelope2D-DXBkavsi.js","assets/Transformation2D-481oZy9q.js","assets/OperatorDefinitions-DP7_WWTp.js","assets/apiConverter-CKA6-JWA.js","assets/jsonConverter-DaY28c7c.js","assets/simplifyOperator-OyRFPy9a.js","assets/operatorSimplify-CMFD8POc.js","assets/mapCollectionUtils-wL1caOVd.js","assets/elevationInfoUtils-BwpurVK4.js","assets/getDefaultUnitForView-DpnKm67M.js","assets/SketchViewModel-C6Kss4vr.js","assets/hitTestSelectUtils-DLjjKAX5.js","assets/geodeticLengthOperator-DrzDh6J8.js","assets/apng-C_02Pvbv.js","assets/index-D8LWW49C.js","assets/index-CnzO4xjI.js","assets/guid-DlHjpvET.js","assets/useT9n-C6VRCHz_.js","assets/index-lHJoJS7_.js","assets/index-CHzmsJS-.js","assets/dom-D5dtJcTT.js","assets/observers-DHKWaAru.js","assets/ref-DepUTglv.js","assets/static-BJI0eiFg.js","assets/form-CMO42a_s.js","assets/interactive-CG605riC.js","assets/label-6XhKO5Qn.js","assets/useSetFocus-DaR-Yd5M.js"])))=>i.map(i=>d[i]);
var Rre=Object.getPrototypeOf;var Ire=Reflect.get;var jN=t=>{throw TypeError(t)};var bM=(t,e,i)=>e.has(t)||jN("Cannot "+i);var me=(t,e,i)=>(bM(t,e,"read from private field"),i?i.call(t):e.get(t)),Rt=(t,e,i)=>e.has(t)?jN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),xt=(t,e,i,r)=>(bM(t,e,"write to private field"),r?r.call(t,i):e.set(t,i),i),Vu=(t,e,i)=>(bM(t,e,"access private method"),i);var NN=(t,e,i)=>Ire(Rre(t),i,e);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function i(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=i(s);fetch(s.href,n)}})();function Pre(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _M={exports:{}},M0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DN;function jre(){if(DN)return M0;DN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,s,n){var o=null;if(n!==void 0&&(o=""+n),s.key!==void 0&&(o=""+s.key),"key"in s){n={};for(var l in s)l!=="key"&&(n[l]=s[l])}else n=s;return s=n.ref,{$$typeof:t,type:r,key:o,ref:s!==void 0?s:null,props:n}}return M0.Fragment=e,M0.jsx=i,M0.jsxs=i,M0}var LN;function Nre(){return LN||(LN=1,_M.exports=jre()),_M.exports}var $=Nre(),SM={exports:{}},E0={},xM={exports:{}},TM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VN;function Dre(){return VN||(VN=1,function(t){function e(pe,ve){var de=pe.length;pe.push(ve);e:for(;0<de;){var We=de-1>>>1,L=pe[We];if(0<s(L,ve))pe[We]=ve,pe[de]=L,de=We;else break e}}function i(pe){return pe.length===0?null:pe[0]}function r(pe){if(pe.length===0)return null;var ve=pe[0],de=pe.pop();if(de!==ve){pe[0]=de;e:for(var We=0,L=pe.length,he=L>>>1;We<he;){var Ue=2*(We+1)-1,Fe=pe[Ue],Te=Ue+1,ht=pe[Te];if(0>s(Fe,de))Te<L&&0>s(ht,Fe)?(pe[We]=ht,pe[Te]=de,We=Te):(pe[We]=Fe,pe[Ue]=de,We=Ue);else if(Te<L&&0>s(ht,de))pe[We]=ht,pe[Te]=de,We=Te;else break e}}return ve}function s(pe,ve){var de=pe.sortIndex-ve.sortIndex;return de!==0?de:pe.id-ve.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var n=performance;t.unstable_now=function(){return n.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],m=1,v=null,w=3,_=!1,x=!1,T=!1,M=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function R(pe){for(var ve=i(d);ve!==null;){if(ve.callback===null)r(d);else if(ve.startTime<=pe)r(d),ve.sortIndex=ve.expirationTime,e(c,ve);else break;ve=i(d)}}function N(pe){if(T=!1,R(pe),!x)if(i(c)!==null)x=!0,Ce();else{var ve=i(d);ve!==null&&pt(N,ve.startTime-pe)}}var j=!1,F=-1,ee=5,X=-1;function J(){return!(t.unstable_now()-X<ee)}function re(){if(j){var pe=t.unstable_now();X=pe;var ve=!0;try{e:{x=!1,T&&(T=!1,O(F),F=-1),_=!0;var de=w;try{t:{for(R(pe),v=i(c);v!==null&&!(v.expirationTime>pe&&J());){var We=v.callback;if(typeof We=="function"){v.callback=null,w=v.priorityLevel;var L=We(v.expirationTime<=pe);if(pe=t.unstable_now(),typeof L=="function"){v.callback=L,R(pe),ve=!0;break t}v===i(c)&&r(c),R(pe)}else r(c);v=i(c)}if(v!==null)ve=!0;else{var he=i(d);he!==null&&pt(N,he.startTime-pe),ve=!1}}break e}finally{v=null,w=de,_=!1}ve=void 0}}finally{ve?fe():j=!1}}}var fe;if(typeof C=="function")fe=function(){C(re)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Xe=ye.port2;ye.port1.onmessage=re,fe=function(){Xe.postMessage(null)}}else fe=function(){M(re,0)};function Ce(){j||(j=!0,fe())}function pt(pe,ve){F=M(function(){pe(t.unstable_now())},ve)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(pe){pe.callback=null},t.unstable_continueExecution=function(){x||_||(x=!0,Ce())},t.unstable_forceFrameRate=function(pe){0>pe||125<pe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<pe?Math.floor(1e3/pe):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(pe){switch(w){case 1:case 2:case 3:var ve=3;break;default:ve=w}var de=w;w=ve;try{return pe()}finally{w=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(pe,ve){switch(pe){case 1:case 2:case 3:case 4:case 5:break;default:pe=3}var de=w;w=pe;try{return ve()}finally{w=de}},t.unstable_scheduleCallback=function(pe,ve,de){var We=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?We+de:We):de=We,pe){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=de+L,pe={id:m++,callback:ve,priorityLevel:pe,startTime:de,expirationTime:L,sortIndex:-1},de>We?(pe.sortIndex=de,e(d,pe),i(c)===null&&pe===i(d)&&(T?(O(F),F=-1):T=!0,pt(N,de-We))):(pe.sortIndex=L,e(c,pe),x||_||(x=!0,Ce())),pe},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(pe){var ve=w;return function(){var de=w;w=ve;try{return pe.apply(this,arguments)}finally{w=de}}}}(TM)),TM}var FN;function Lre(){return FN||(FN=1,xM.exports=Dre()),xM.exports}var $M={exports:{}},et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zN;function Vre(){if(zN)return et;zN=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),n=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function w(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,T={};function M(L,he,Ue){this.props=L,this.context=he,this.refs=T,this.updater=Ue||_}M.prototype.isReactComponent={},M.prototype.setState=function(L,he){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,he,"setState")},M.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function O(){}O.prototype=M.prototype;function C(L,he,Ue){this.props=L,this.context=he,this.refs=T,this.updater=Ue||_}var R=C.prototype=new O;R.constructor=C,x(R,M.prototype),R.isPureReactComponent=!0;var N=Array.isArray,j={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function ee(L,he,Ue,Fe,Te,ht){return Ue=ht.ref,{$$typeof:t,type:L,key:he,ref:Ue!==void 0?Ue:null,props:ht}}function X(L,he){return ee(L.type,he,void 0,void 0,void 0,L.props)}function J(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function re(L){var he={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(Ue){return he[Ue]})}var fe=/\/+/g;function ye(L,he){return typeof L=="object"&&L!==null&&L.key!=null?re(""+L.key):he.toString(36)}function Xe(){}function Ce(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(Xe,Xe):(L.status="pending",L.then(function(he){L.status==="pending"&&(L.status="fulfilled",L.value=he)},function(he){L.status==="pending"&&(L.status="rejected",L.reason=he)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function pt(L,he,Ue,Fe,Te){var ht=typeof L;(ht==="undefined"||ht==="boolean")&&(L=null);var Qe=!1;if(L===null)Qe=!0;else switch(ht){case"bigint":case"string":case"number":Qe=!0;break;case"object":switch(L.$$typeof){case t:case e:Qe=!0;break;case m:return Qe=L._init,pt(Qe(L._payload),he,Ue,Fe,Te)}}if(Qe)return Te=Te(L),Qe=Fe===""?"."+ye(L,0):Fe,N(Te)?(Ue="",Qe!=null&&(Ue=Qe.replace(fe,"$&/")+"/"),pt(Te,he,Ue,"",function(pi){return pi})):Te!=null&&(J(Te)&&(Te=X(Te,Ue+(Te.key==null||L&&L.key===Te.key?"":(""+Te.key).replace(fe,"$&/")+"/")+Qe)),he.push(Te)),1;Qe=0;var br=Fe===""?".":Fe+":";if(N(L))for(var bt=0;bt<L.length;bt++)Fe=L[bt],ht=br+ye(Fe,bt),Qe+=pt(Fe,he,Ue,ht,Te);else if(bt=w(L),typeof bt=="function")for(L=bt.call(L),bt=0;!(Fe=L.next()).done;)Fe=Fe.value,ht=br+ye(Fe,bt++),Qe+=pt(Fe,he,Ue,ht,Te);else if(ht==="object"){if(typeof L.then=="function")return pt(Ce(L),he,Ue,Fe,Te);throw he=String(L),Error("Objects are not valid as a React child (found: "+(he==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":he)+"). If you meant to render a collection of children, use an array instead.")}return Qe}function pe(L,he,Ue){if(L==null)return L;var Fe=[],Te=0;return pt(L,Fe,"","",function(ht){return he.call(Ue,ht,Te++)}),Fe}function ve(L){if(L._status===-1){var he=L._result;he=he(),he.then(function(Ue){(L._status===0||L._status===-1)&&(L._status=1,L._result=Ue)},function(Ue){(L._status===0||L._status===-1)&&(L._status=2,L._result=Ue)}),L._status===-1&&(L._status=0,L._result=he)}if(L._status===1)return L._result.default;throw L._result}var de=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var he=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(he))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function We(){}return et.Children={map:pe,forEach:function(L,he,Ue){pe(L,function(){he.apply(this,arguments)},Ue)},count:function(L){var he=0;return pe(L,function(){he++}),he},toArray:function(L){return pe(L,function(he){return he})||[]},only:function(L){if(!J(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},et.Component=M,et.Fragment=i,et.Profiler=s,et.PureComponent=C,et.StrictMode=r,et.Suspense=c,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,et.act=function(){throw Error("act(...) is not supported in production builds of React.")},et.cache=function(L){return function(){return L.apply(null,arguments)}},et.cloneElement=function(L,he,Ue){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var Fe=x({},L.props),Te=L.key,ht=void 0;if(he!=null)for(Qe in he.ref!==void 0&&(ht=void 0),he.key!==void 0&&(Te=""+he.key),he)!F.call(he,Qe)||Qe==="key"||Qe==="__self"||Qe==="__source"||Qe==="ref"&&he.ref===void 0||(Fe[Qe]=he[Qe]);var Qe=arguments.length-2;if(Qe===1)Fe.children=Ue;else if(1<Qe){for(var br=Array(Qe),bt=0;bt<Qe;bt++)br[bt]=arguments[bt+2];Fe.children=br}return ee(L.type,Te,void 0,void 0,ht,Fe)},et.createContext=function(L){return L={$$typeof:o,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:n,_context:L},L},et.createElement=function(L,he,Ue){var Fe,Te={},ht=null;if(he!=null)for(Fe in he.key!==void 0&&(ht=""+he.key),he)F.call(he,Fe)&&Fe!=="key"&&Fe!=="__self"&&Fe!=="__source"&&(Te[Fe]=he[Fe]);var Qe=arguments.length-2;if(Qe===1)Te.children=Ue;else if(1<Qe){for(var br=Array(Qe),bt=0;bt<Qe;bt++)br[bt]=arguments[bt+2];Te.children=br}if(L&&L.defaultProps)for(Fe in Qe=L.defaultProps,Qe)Te[Fe]===void 0&&(Te[Fe]=Qe[Fe]);return ee(L,ht,void 0,void 0,null,Te)},et.createRef=function(){return{current:null}},et.forwardRef=function(L){return{$$typeof:l,render:L}},et.isValidElement=J,et.lazy=function(L){return{$$typeof:m,_payload:{_status:-1,_result:L},_init:ve}},et.memo=function(L,he){return{$$typeof:d,type:L,compare:he===void 0?null:he}},et.startTransition=function(L){var he=j.T,Ue={};j.T=Ue;try{var Fe=L(),Te=j.S;Te!==null&&Te(Ue,Fe),typeof Fe=="object"&&Fe!==null&&typeof Fe.then=="function"&&Fe.then(We,de)}catch(ht){de(ht)}finally{j.T=he}},et.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},et.use=function(L){return j.H.use(L)},et.useActionState=function(L,he,Ue){return j.H.useActionState(L,he,Ue)},et.useCallback=function(L,he){return j.H.useCallback(L,he)},et.useContext=function(L){return j.H.useContext(L)},et.useDebugValue=function(){},et.useDeferredValue=function(L,he){return j.H.useDeferredValue(L,he)},et.useEffect=function(L,he){return j.H.useEffect(L,he)},et.useId=function(){return j.H.useId()},et.useImperativeHandle=function(L,he,Ue){return j.H.useImperativeHandle(L,he,Ue)},et.useInsertionEffect=function(L,he){return j.H.useInsertionEffect(L,he)},et.useLayoutEffect=function(L,he){return j.H.useLayoutEffect(L,he)},et.useMemo=function(L,he){return j.H.useMemo(L,he)},et.useOptimistic=function(L,he){return j.H.useOptimistic(L,he)},et.useReducer=function(L,he,Ue){return j.H.useReducer(L,he,Ue)},et.useRef=function(L){return j.H.useRef(L)},et.useState=function(L){return j.H.useState(L)},et.useSyncExternalStore=function(L,he,Ue){return j.H.useSyncExternalStore(L,he,Ue)},et.useTransition=function(){return j.H.useTransition()},et.version="19.0.0",et}var UN;function rC(){return UN||(UN=1,$M.exports=Vre()),$M.exports}var MM={exports:{}},Pr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qN;function Fre(){if(qN)return Pr;qN=1;var t=rC();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");function n(c,d,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:c,containerInfo:d,implementation:m}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Pr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Pr.createPortal=function(c,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return n(c,d,null,m)},Pr.flushSync=function(c){var d=o.T,m=r.p;try{if(o.T=null,r.p=2,c)return c()}finally{o.T=d,r.p=m,r.d.f()}},Pr.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},Pr.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Pr.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var m=d.as,v=l(m,d.crossOrigin),w=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:_}):m==="script"&&r.d.X(c,{crossOrigin:v,integrity:w,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Pr.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=l(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},Pr.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,v=l(m,d.crossOrigin);r.d.L(c,m,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Pr.preloadModule=function(c,d){if(typeof c=="string")if(d){var m=l(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},Pr.requestFormReset=function(c){r.d.r(c)},Pr.unstable_batchedUpdates=function(c,d){return c(d)},Pr.useFormState=function(c,d,m){return o.H.useFormState(c,d,m)},Pr.useFormStatus=function(){return o.H.useHostTransitionStatus()},Pr.version="19.0.0",Pr}var BN;function zre(){if(BN)return MM.exports;BN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),MM.exports=Fre(),MM.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GN;function Ure(){if(GN)return E0;GN=1;var t=Lre(),e=rC(),i=zre();function r(a){var u="https://react.dev/errors/"+a;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}var n=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),_=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),N=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function F(a){return a===null||typeof a!="object"?null:(a=j&&a[j]||a["@@iterator"],typeof a=="function"?a:null)}var ee=Symbol.for("react.client.reference");function X(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ee?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case c:return"Fragment";case l:return"Portal";case m:return"Profiler";case d:return"StrictMode";case T:return"Suspense";case M:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case _:return(a.displayName||"Context")+".Provider";case w:return(a._context.displayName||"Context")+".Consumer";case x:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case O:return u=a.displayName||null,u!==null?u:X(a.type)||"Memo";case C:u=a._payload,a=a._init;try{return X(a(u))}catch{}}return null}var J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=Object.assign,fe,ye;function Xe(a){if(fe===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);fe=u&&u[1]||"",ye=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+a+ye}var Ce=!1;function pt(a,u){if(!a||Ce)return"";Ce=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(u){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ie){var K=ie}Reflect.construct(a,[],ue)}else{try{ue.call()}catch(ie){K=ie}a.call(ue.prototype)}}else{try{throw Error()}catch(ie){K=ie}(ue=a())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ie){if(ie&&K&&typeof ie.stack=="string")return[ie.stack,K.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=g.DetermineComponentFrameRoot(),E=S[0],k=S[1];if(E&&k){var D=E.split(`
`),U=k.split(`
`);for(b=g=0;g<D.length&&!D[g].includes("DetermineComponentFrameRoot");)g++;for(;b<U.length&&!U[b].includes("DetermineComponentFrameRoot");)b++;if(g===D.length||b===U.length)for(g=D.length-1,b=U.length-1;1<=g&&0<=b&&D[g]!==U[b];)b--;for(;1<=g&&0<=b;g--,b--)if(D[g]!==U[b]){if(g!==1||b!==1)do if(g--,b--,0>b||D[g]!==U[b]){var ne=`
`+D[g].replace(" at new "," at ");return a.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",a.displayName)),ne}while(1<=g&&0<=b);break}}}finally{Ce=!1,Error.prepareStackTrace=p}return(p=a?a.displayName||a.name:"")?Xe(p):""}function pe(a){switch(a.tag){case 26:case 27:case 5:return Xe(a.type);case 16:return Xe("Lazy");case 13:return Xe("Suspense");case 19:return Xe("SuspenseList");case 0:case 15:return a=pt(a.type,!1),a;case 11:return a=pt(a.type.render,!1),a;case 1:return a=pt(a.type,!0),a;default:return""}}function ve(a){try{var u="";do u+=pe(a),a=a.return;while(a);return u}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function de(a){var u=a,p=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(p=u.return),a=u.return;while(a)}return u.tag===3?p:null}function We(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function L(a){if(de(a)!==a)throw Error(r(188))}function he(a){var u=a.alternate;if(!u){if(u=de(a),u===null)throw Error(r(188));return u!==a?null:a}for(var p=a,g=u;;){var b=p.return;if(b===null)break;var S=b.alternate;if(S===null){if(g=b.return,g!==null){p=g;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===p)return L(b),a;if(S===g)return L(b),u;S=S.sibling}throw Error(r(188))}if(p.return!==g.return)p=b,g=S;else{for(var E=!1,k=b.child;k;){if(k===p){E=!0,p=b,g=S;break}if(k===g){E=!0,g=b,p=S;break}k=k.sibling}if(!E){for(k=S.child;k;){if(k===p){E=!0,p=S,g=b;break}if(k===g){E=!0,g=S,p=b;break}k=k.sibling}if(!E)throw Error(r(189))}}if(p.alternate!==g)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?a:u}function Ue(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a;for(a=a.child;a!==null;){if(u=Ue(a),u!==null)return u;a=a.sibling}return null}var Fe=Array.isArray,Te=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Qe=[],br=-1;function bt(a){return{current:a}}function pi(a){0>br||(a.current=Qe[br],Qe[br]=null,br--)}function Lt(a,u){br++,Qe[br]=a.current,a.current=u}var xn=bt(null),lh=bt(null),ia=bt(null),Cp=bt(null);function Rp(a,u){switch(Lt(ia,u),Lt(lh,a),Lt(xn,null),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)&&(u=u.namespaceURI)?cN(u):0;break;default:if(a=a===8?u.parentNode:u,u=a.tagName,a=a.namespaceURI)a=cN(a),u=hN(a,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}pi(xn),Lt(xn,u)}function fu(){pi(xn),pi(lh),pi(ia)}function Cg(a){a.memoizedState!==null&&Lt(Cp,a);var u=xn.current,p=hN(u,a.type);u!==p&&(Lt(lh,a),Lt(xn,p))}function Ip(a){lh.current===a&&(pi(xn),pi(lh)),Cp.current===a&&(pi(Cp),_0._currentValue=ht)}var Pp=Object.prototype.hasOwnProperty,jp=t.unstable_scheduleCallback,Tn=t.unstable_cancelCallback,n3=t.unstable_shouldYield,o3=t.unstable_requestPaint,$n=t.unstable_now,a3=t.unstable_getCurrentPriorityLevel,Jw=t.unstable_ImmediatePriority,Kw=t.unstable_UserBlockingPriority,Np=t.unstable_NormalPriority,fI=t.unstable_LowPriority,Xw=t.unstable_IdlePriority,l3=t.log,u3=t.unstable_setDisableYieldValue,uh=null,es=null;function c3(a){if(es&&typeof es.onCommitFiberRoot=="function")try{es.onCommitFiberRoot(uh,a,void 0,(a.current.flags&128)===128)}catch{}}function ra(a){if(typeof l3=="function"&&u3(a),es&&typeof es.setStrictMode=="function")try{es.setStrictMode(uh,a)}catch{}}var ts=Math.clz32?Math.clz32:p3,h3=Math.log,d3=Math.LN2;function p3(a){return a>>>=0,a===0?32:31-(h3(a)/d3|0)|0}var Dp=128,Lp=4194304;function Ba(a){var u=a&42;if(u!==0)return u;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Vp(a,u){var p=a.pendingLanes;if(p===0)return 0;var g=0,b=a.suspendedLanes,S=a.pingedLanes,E=a.warmLanes;a=a.finishedLanes!==0;var k=p&134217727;return k!==0?(p=k&~b,p!==0?g=Ba(p):(S&=k,S!==0?g=Ba(S):a||(E=k&~E,E!==0&&(g=Ba(E))))):(k=p&~b,k!==0?g=Ba(k):S!==0?g=Ba(S):a||(E=p&~E,E!==0&&(g=Ba(E)))),g===0?0:u!==0&&u!==g&&(u&b)===0&&(b=g&-g,E=u&-u,b>=E||b===32&&(E&4194176)!==0)?u:g}function ch(a,u){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&u)===0}function f3(a,u){switch(a){case 1:case 2:case 4:case 8:return u+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q(){var a=Dp;return Dp<<=1,(Dp&4194176)===0&&(Dp=128),a}function Pt(){var a=Lp;return Lp<<=1,(Lp&62914560)===0&&(Lp=4194304),a}function sa(a){for(var u=[],p=0;31>p;p++)u.push(a);return u}function mo(a,u){a.pendingLanes|=u,u!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Ks(a,u,p,g,b,S){var E=a.pendingLanes;a.pendingLanes=p,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=p,a.entangledLanes&=p,a.errorRecoveryDisabledLanes&=p,a.shellSuspendCounter=0;var k=a.entanglements,D=a.expirationTimes,U=a.hiddenUpdates;for(p=E&~p;0<p;){var ne=31-ts(p),ue=1<<ne;k[ne]=0,D[ne]=-1;var K=U[ne];if(K!==null)for(U[ne]=null,ne=0;ne<K.length;ne++){var ie=K[ne];ie!==null&&(ie.lane&=-536870913)}p&=~ue}g!==0&&hh(a,g,0),S!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=S&~(E&~u))}function hh(a,u,p){a.pendingLanes|=u,a.suspendedLanes&=~u;var g=31-ts(u);a.entangledLanes|=u,a.entanglements[g]=a.entanglements[g]|1073741824|p&4194218}function Ee(a,u){var p=a.entangledLanes|=u;for(a=a.entanglements;p;){var g=31-ts(p),b=1<<g;b&u|a[g]&u&&(a[g]|=u),p&=~b}}function dh(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Qw(){var a=Te.p;return a!==0?a:(a=window.event,a===void 0?32:ON(a.type))}function Ni(a,u){var p=Te.p;try{return Te.p=a,u()}finally{Te.p=p}}var xs=Math.random().toString(36).slice(2),ar="__reactFiber$"+xs,ri="__reactProps$"+xs,Ga="__reactContainer$"+xs,Fp="__reactEvents$"+xs,Ze="__reactListeners$"+xs,m3="__reactHandles$"+xs,Rg="__reactResources$"+xs,ph="__reactMarker$"+xs;function Ig(a){delete a[ar],delete a[ri],delete a[Fp],delete a[Ze],delete a[m3]}function yo(a){var u=a[ar];if(u)return u;for(var p=a.parentNode;p;){if(u=p[Ga]||p[ar]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(a=fN(a);a!==null;){if(p=a[ar])return p;a=fN(a)}return u}a=p,p=a.parentNode}return null}function mu(a){if(a=a[ar]||a[Ga]){var u=a.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return a}return null}function Ha(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a.stateNode;throw Error(r(33))}function Ht(a){var u=a[Rg];return u||(u=a[Rg]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Di(a){a[ph]=!0}var Pg=new Set,eb={};function Wa(a,u){yu(a,u),yu(a+"Capture",u)}function yu(a,u){for(eb[a]=u,a=0;a<u.length;a++)Pg.add(u[a])}var go=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y3=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),is={},tb={};function g3(a){return Pp.call(tb,a)?!0:Pp.call(is,a)?!1:y3.test(a)?tb[a]=!0:(is[a]=!0,!1)}function gu(a,u,p){if(g3(u))if(p===null)a.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":a.removeAttribute(u);return;case"boolean":var g=u.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(u);return}}a.setAttribute(u,""+p)}}function fh(a,u,p){if(p===null)a.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttribute(u,""+p)}}function P(a,u,p,g){if(g===null)a.removeAttribute(p);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(p);return}a.setAttributeNS(u,p,""+g)}}function Z(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ce(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ve(a){var u=ce(a)?"checked":"value",p=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),g=""+a[u];if(!a.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,S=p.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return b.call(this)},set:function(E){g=""+E,S.call(this,E)}}),Object.defineProperty(a,u,{enumerable:p.enumerable}),{getValue:function(){return g},setValue:function(E){g=""+E},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function ft(a){a._valueTracker||(a._valueTracker=Ve(a))}function Wt(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var p=u.getValue(),g="";return a&&(g=ce(a)?a.checked?"true":"false":a.value),a=g,a!==p?(u.setValue(a),!0):!1}function ei(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var lr=/[\n"\\]/g;function Mn(a){return a.replace(lr,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function v3(a,u,p,g,b,S,E,k){a.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?a.type=E:a.removeAttribute("type"),u!=null?E==="number"?(u===0&&a.value===""||a.value!=u)&&(a.value=""+Z(u)):a.value!==""+Z(u)&&(a.value=""+Z(u)):E!=="submit"&&E!=="reset"||a.removeAttribute("value"),u!=null?w3(a,E,Z(u)):p!=null?w3(a,E,Z(p)):g!=null&&a.removeAttribute("value"),b==null&&S!=null&&(a.defaultChecked=!!S),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.name=""+Z(k):a.removeAttribute("name")}function mI(a,u,p,g,b,S,E,k){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.type=S),u!=null||p!=null){if(!(S!=="submit"&&S!=="reset"||u!=null))return;p=p!=null?""+Z(p):"",u=u!=null?""+Z(u):p,k||u===a.value||(a.value=u),a.defaultValue=u}g=g??b,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=k?a.checked:!!g,a.defaultChecked=!!g,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(a.name=E)}function w3(a,u,p){u==="number"&&ei(a.ownerDocument)===a||a.defaultValue===""+p||(a.defaultValue=""+p)}function zp(a,u,p,g){if(a=a.options,u){u={};for(var b=0;b<p.length;b++)u["$"+p[b]]=!0;for(p=0;p<a.length;p++)b=u.hasOwnProperty("$"+a[p].value),a[p].selected!==b&&(a[p].selected=b),b&&g&&(a[p].defaultSelected=!0)}else{for(p=""+Z(p),u=null,b=0;b<a.length;b++){if(a[b].value===p){a[b].selected=!0,g&&(a[b].defaultSelected=!0);return}u!==null||a[b].disabled||(u=a[b])}u!==null&&(u.selected=!0)}}function yI(a,u,p){if(u!=null&&(u=""+Z(u),u!==a.value&&(a.value=u),p==null)){a.defaultValue!==u&&(a.defaultValue=u);return}a.defaultValue=p!=null?""+Z(p):""}function gI(a,u,p,g){if(u==null){if(g!=null){if(p!=null)throw Error(r(92));if(Fe(g)){if(1<g.length)throw Error(r(93));g=g[0]}p=g}p==null&&(p=""),u=p}p=Z(u),a.defaultValue=p,g=a.textContent,g===p&&g!==""&&g!==null&&(a.value=g)}function Up(a,u){if(u){var p=a.firstChild;if(p&&p===a.lastChild&&p.nodeType===3){p.nodeValue=u;return}}a.textContent=u}var Ote=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vI(a,u,p){var g=u.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?g?a.setProperty(u,""):u==="float"?a.cssFloat="":a[u]="":g?a.setProperty(u,p):typeof p!="number"||p===0||Ote.has(u)?u==="float"?a.cssFloat=p:a[u]=(""+p).trim():a[u]=p+"px"}function wI(a,u,p){if(u!=null&&typeof u!="object")throw Error(r(62));if(a=a.style,p!=null){for(var g in p)!p.hasOwnProperty(g)||u!=null&&u.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var b in u)g=u[b],u.hasOwnProperty(b)&&p[b]!==g&&vI(a,b,g)}else for(var S in u)u.hasOwnProperty(S)&&vI(a,S,u[S])}function b3(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kte=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cte=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ib(a){return Cte.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var _3=null;function S3(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var qp=null,Bp=null;function bI(a){var u=mu(a);if(u&&(a=u.stateNode)){var p=a[ri]||null;e:switch(a=u.stateNode,u.type){case"input":if(v3(a,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),u=p.name,p.type==="radio"&&u!=null){for(p=a;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+Mn(""+u)+'"][type="radio"]'),u=0;u<p.length;u++){var g=p[u];if(g!==a&&g.form===a.form){var b=g[ri]||null;if(!b)throw Error(r(90));v3(g,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(u=0;u<p.length;u++)g=p[u],g.form===a.form&&Wt(g)}break e;case"textarea":yI(a,p.value,p.defaultValue);break e;case"select":u=p.value,u!=null&&zp(a,!!p.multiple,u,!1)}}}var x3=!1;function _I(a,u,p){if(x3)return a(u,p);x3=!0;try{var g=a(u);return g}finally{if(x3=!1,(qp!==null||Bp!==null)&&(Vb(),qp&&(u=qp,a=Bp,Bp=qp=null,bI(u),a)))for(u=0;u<a.length;u++)bI(a[u])}}function jg(a,u){var p=a.stateNode;if(p===null)return null;var g=p[ri]||null;if(g===null)return null;p=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(p&&typeof p!="function")throw Error(r(231,u,typeof p));return p}var T3=!1;if(go)try{var Ng={};Object.defineProperty(Ng,"passive",{get:function(){T3=!0}}),window.addEventListener("test",Ng,Ng),window.removeEventListener("test",Ng,Ng)}catch{T3=!1}var vu=null,$3=null,rb=null;function SI(){if(rb)return rb;var a,u=$3,p=u.length,g,b="value"in vu?vu.value:vu.textContent,S=b.length;for(a=0;a<p&&u[a]===b[a];a++);var E=p-a;for(g=1;g<=E&&u[p-g]===b[S-g];g++);return rb=b.slice(a,1<g?1-g:void 0)}function sb(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function nb(){return!0}function xI(){return!1}function Ts(a){function u(p,g,b,S,E){this._reactName=p,this._targetInst=b,this.type=g,this.nativeEvent=S,this.target=E,this.currentTarget=null;for(var k in a)a.hasOwnProperty(k)&&(p=a[k],this[k]=p?p(S):S[k]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?nb:xI,this.isPropagationStopped=xI,this}return re(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=nb)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=nb)},persist:function(){},isPersistent:nb}),u}var mh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ob=Ts(mh),Dg=re({},mh,{view:0,detail:0}),Rte=Ts(Dg),M3,E3,Lg,ab=re({},Dg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:O3,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Lg&&(Lg&&a.type==="mousemove"?(M3=a.screenX-Lg.screenX,E3=a.screenY-Lg.screenY):E3=M3=0,Lg=a),M3)},movementY:function(a){return"movementY"in a?a.movementY:E3}}),TI=Ts(ab),Ite=re({},ab,{dataTransfer:0}),Pte=Ts(Ite),jte=re({},Dg,{relatedTarget:0}),A3=Ts(jte),Nte=re({},mh,{animationName:0,elapsedTime:0,pseudoElement:0}),Dte=Ts(Nte),Lte=re({},mh,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Vte=Ts(Lte),Fte=re({},mh,{data:0}),$I=Ts(Fte),zte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ute={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bte(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=qte[a])?!!u[a]:!1}function O3(){return Bte}var Gte=re({},Dg,{key:function(a){if(a.key){var u=zte[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=sb(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Ute[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:O3,charCode:function(a){return a.type==="keypress"?sb(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?sb(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Hte=Ts(Gte),Wte=re({},ab,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),MI=Ts(Wte),Zte=re({},Dg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:O3}),Yte=Ts(Zte),Jte=re({},mh,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kte=Ts(Jte),Xte=re({},ab,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Qte=Ts(Xte),eie=re({},mh,{newState:0,oldState:0}),tie=Ts(eie),iie=[9,13,27,32],k3=go&&"CompositionEvent"in window,Vg=null;go&&"documentMode"in document&&(Vg=document.documentMode);var rie=go&&"TextEvent"in window&&!Vg,EI=go&&(!k3||Vg&&8<Vg&&11>=Vg),AI=" ",OI=!1;function kI(a,u){switch(a){case"keyup":return iie.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CI(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Gp=!1;function sie(a,u){switch(a){case"compositionend":return CI(u);case"keypress":return u.which!==32?null:(OI=!0,AI);case"textInput":return a=u.data,a===AI&&OI?null:a;default:return null}}function nie(a,u){if(Gp)return a==="compositionend"||!k3&&kI(a,u)?(a=SI(),rb=$3=vu=null,Gp=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return EI&&u.locale!=="ko"?null:u.data;default:return null}}var oie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RI(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!oie[a.type]:u==="textarea"}function II(a,u,p,g){qp?Bp?Bp.push(g):Bp=[g]:qp=g,u=Bb(u,"onChange"),0<u.length&&(p=new ob("onChange","change",null,p,g),a.push({event:p,listeners:u}))}var Fg=null,zg=null;function aie(a){nN(a,0)}function lb(a){var u=Ha(a);if(Wt(u))return a}function PI(a,u){if(a==="change")return u}var jI=!1;if(go){var C3;if(go){var R3="oninput"in document;if(!R3){var NI=document.createElement("div");NI.setAttribute("oninput","return;"),R3=typeof NI.oninput=="function"}C3=R3}else C3=!1;jI=C3&&(!document.documentMode||9<document.documentMode)}function DI(){Fg&&(Fg.detachEvent("onpropertychange",LI),zg=Fg=null)}function LI(a){if(a.propertyName==="value"&&lb(zg)){var u=[];II(u,zg,a,S3(a)),_I(aie,u)}}function lie(a,u,p){a==="focusin"?(DI(),Fg=u,zg=p,Fg.attachEvent("onpropertychange",LI)):a==="focusout"&&DI()}function uie(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return lb(zg)}function cie(a,u){if(a==="click")return lb(u)}function hie(a,u){if(a==="input"||a==="change")return lb(u)}function die(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var Xs=typeof Object.is=="function"?Object.is:die;function Ug(a,u){if(Xs(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var p=Object.keys(a),g=Object.keys(u);if(p.length!==g.length)return!1;for(g=0;g<p.length;g++){var b=p[g];if(!Pp.call(u,b)||!Xs(a[b],u[b]))return!1}return!0}function VI(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function FI(a,u){var p=VI(a);a=0;for(var g;p;){if(p.nodeType===3){if(g=a+p.textContent.length,a<=u&&g>=u)return{node:p,offset:u-a};a=g}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=VI(p)}}function zI(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?zI(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function UI(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var u=ei(a.document);u instanceof a.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)a=u.contentWindow;else break;u=ei(a.document)}return u}function I3(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function pie(a,u){var p=UI(u);u=a.focusedElem;var g=a.selectionRange;if(p!==u&&u&&u.ownerDocument&&zI(u.ownerDocument.documentElement,u)){if(g!==null&&I3(u)){if(a=g.start,p=g.end,p===void 0&&(p=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(p,u.value.length);else if(p=(a=u.ownerDocument||document)&&a.defaultView||window,p.getSelection){p=p.getSelection();var b=u.textContent.length,S=Math.min(g.start,b);g=g.end===void 0?S:Math.min(g.end,b),!p.extend&&S>g&&(b=g,g=S,S=b),b=FI(u,S);var E=FI(u,g);b&&E&&(p.rangeCount!==1||p.anchorNode!==b.node||p.anchorOffset!==b.offset||p.focusNode!==E.node||p.focusOffset!==E.offset)&&(a=a.createRange(),a.setStart(b.node,b.offset),p.removeAllRanges(),S>g?(p.addRange(a),p.extend(E.node,E.offset)):(a.setEnd(E.node,E.offset),p.addRange(a)))}}for(a=[],p=u;p=p.parentNode;)p.nodeType===1&&a.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)p=a[u],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}var fie=go&&"documentMode"in document&&11>=document.documentMode,Hp=null,P3=null,qg=null,j3=!1;function qI(a,u,p){var g=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;j3||Hp==null||Hp!==ei(g)||(g=Hp,"selectionStart"in g&&I3(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),qg&&Ug(qg,g)||(qg=g,g=Bb(P3,"onSelect"),0<g.length&&(u=new ob("onSelect","select",null,u,p),a.push({event:u,listeners:g}),u.target=Hp)))}function yh(a,u){var p={};return p[a.toLowerCase()]=u.toLowerCase(),p["Webkit"+a]="webkit"+u,p["Moz"+a]="moz"+u,p}var Wp={animationend:yh("Animation","AnimationEnd"),animationiteration:yh("Animation","AnimationIteration"),animationstart:yh("Animation","AnimationStart"),transitionrun:yh("Transition","TransitionRun"),transitionstart:yh("Transition","TransitionStart"),transitioncancel:yh("Transition","TransitionCancel"),transitionend:yh("Transition","TransitionEnd")},N3={},BI={};go&&(BI=document.createElement("div").style,"AnimationEvent"in window||(delete Wp.animationend.animation,delete Wp.animationiteration.animation,delete Wp.animationstart.animation),"TransitionEvent"in window||delete Wp.transitionend.transition);function gh(a){if(N3[a])return N3[a];if(!Wp[a])return a;var u=Wp[a],p;for(p in u)if(u.hasOwnProperty(p)&&p in BI)return N3[a]=u[p];return a}var GI=gh("animationend"),HI=gh("animationiteration"),WI=gh("animationstart"),mie=gh("transitionrun"),yie=gh("transitionstart"),gie=gh("transitioncancel"),ZI=gh("transitionend"),YI=new Map,JI="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function vo(a,u){YI.set(a,u),Wa(u,[a])}var En=[],Zp=0,D3=0;function ub(){for(var a=Zp,u=D3=Zp=0;u<a;){var p=En[u];En[u++]=null;var g=En[u];En[u++]=null;var b=En[u];En[u++]=null;var S=En[u];if(En[u++]=null,g!==null&&b!==null){var E=g.pending;E===null?b.next=b:(b.next=E.next,E.next=b),g.pending=b}S!==0&&KI(p,b,S)}}function cb(a,u,p,g){En[Zp++]=a,En[Zp++]=u,En[Zp++]=p,En[Zp++]=g,D3|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function L3(a,u,p,g){return cb(a,u,p,g),hb(a)}function wu(a,u){return cb(a,null,null,u),hb(a)}function KI(a,u,p){a.lanes|=p;var g=a.alternate;g!==null&&(g.lanes|=p);for(var b=!1,S=a.return;S!==null;)S.childLanes|=p,g=S.alternate,g!==null&&(g.childLanes|=p),S.tag===22&&(a=S.stateNode,a===null||a._visibility&1||(b=!0)),a=S,S=S.return;b&&u!==null&&a.tag===3&&(S=a.stateNode,b=31-ts(p),S=S.hiddenUpdates,a=S[b],a===null?S[b]=[u]:a.push(u),u.lane=p|536870912)}function hb(a){if(50<f0)throw f0=0,B$=null,Error(r(185));for(var u=a.return;u!==null;)a=u,u=a.return;return a.tag===3?a.stateNode:null}var Yp={},XI=new WeakMap;function An(a,u){if(typeof a=="object"&&a!==null){var p=XI.get(a);return p!==void 0?p:(u={value:a,source:u,stack:ve(u)},XI.set(a,u),u)}return{value:a,source:u,stack:ve(u)}}var Jp=[],Kp=0,db=null,pb=0,On=[],kn=0,vh=null,Za=1,Ya="";function wh(a,u){Jp[Kp++]=pb,Jp[Kp++]=db,db=a,pb=u}function QI(a,u,p){On[kn++]=Za,On[kn++]=Ya,On[kn++]=vh,vh=a;var g=Za;a=Ya;var b=32-ts(g)-1;g&=~(1<<b),p+=1;var S=32-ts(u)+b;if(30<S){var E=b-b%5;S=(g&(1<<E)-1).toString(32),g>>=E,b-=E,Za=1<<32-ts(u)+b|p<<b|g,Ya=S+a}else Za=1<<S|p<<b|g,Ya=a}function V3(a){a.return!==null&&(wh(a,1),QI(a,1,0))}function F3(a){for(;a===db;)db=Jp[--Kp],Jp[Kp]=null,pb=Jp[--Kp],Jp[Kp]=null;for(;a===vh;)vh=On[--kn],On[kn]=null,Ya=On[--kn],On[kn]=null,Za=On[--kn],On[kn]=null}var rs=null,_r=null,_t=!1,wo=null,na=!1,z3=Error(r(519));function bh(a){var u=Error(r(418,""));throw Hg(An(u,a)),z3}function eP(a){var u=a.stateNode,p=a.type,g=a.memoizedProps;switch(u[ar]=a,u[ri]=g,p){case"dialog":mt("cancel",u),mt("close",u);break;case"iframe":case"object":case"embed":mt("load",u);break;case"video":case"audio":for(p=0;p<y0.length;p++)mt(y0[p],u);break;case"source":mt("error",u);break;case"img":case"image":case"link":mt("error",u),mt("load",u);break;case"details":mt("toggle",u);break;case"input":mt("invalid",u),mI(u,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),ft(u);break;case"select":mt("invalid",u);break;case"textarea":mt("invalid",u),gI(u,g.value,g.defaultValue,g.children),ft(u)}p=g.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||u.textContent===""+p||g.suppressHydrationWarning===!0||uN(u.textContent,p)?(g.popover!=null&&(mt("beforetoggle",u),mt("toggle",u)),g.onScroll!=null&&mt("scroll",u),g.onScrollEnd!=null&&mt("scrollend",u),g.onClick!=null&&(u.onclick=Gb),u=!0):u=!1,u||bh(a)}function tP(a){for(rs=a.return;rs;)switch(rs.tag){case 3:case 27:na=!0;return;case 5:case 13:na=!1;return;default:rs=rs.return}}function Bg(a){if(a!==rs)return!1;if(!_t)return tP(a),_t=!0,!1;var u=!1,p;if((p=a.tag!==3&&a.tag!==27)&&((p=a.tag===5)&&(p=a.type,p=!(p!=="form"&&p!=="button")||aM(a.type,a.memoizedProps)),p=!p),p&&(u=!0),u&&_r&&bh(a),tP(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8)if(p=a.data,p==="/$"){if(u===0){_r=_o(a.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++;a=a.nextSibling}_r=null}}else _r=rs?_o(a.stateNode.nextSibling):null;return!0}function Gg(){_r=rs=null,_t=!1}function Hg(a){wo===null?wo=[a]:wo.push(a)}var Wg=Error(r(460)),iP=Error(r(474)),U3={then:function(){}};function rP(a){return a=a.status,a==="fulfilled"||a==="rejected"}function fb(){}function sP(a,u,p){switch(p=a[p],p===void 0?a.push(u):p!==u&&(u.then(fb,fb),u=p),u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,a===Wg?Error(r(483)):a;default:if(typeof u.status=="string")u.then(fb,fb);else{if(a=Vt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=u,a.status="pending",a.then(function(g){if(u.status==="pending"){var b=u;b.status="fulfilled",b.value=g}},function(g){if(u.status==="pending"){var b=u;b.status="rejected",b.reason=g}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,a===Wg?Error(r(483)):a}throw Zg=u,Wg}}var Zg=null;function nP(){if(Zg===null)throw Error(r(459));var a=Zg;return Zg=null,a}var Xp=null,Yg=0;function mb(a){var u=Yg;return Yg+=1,Xp===null&&(Xp=[]),sP(Xp,a,u)}function Jg(a,u){u=u.props.ref,a.ref=u!==void 0?u:null}function yb(a,u){throw u.$$typeof===n?Error(r(525)):(a=Object.prototype.toString.call(u),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a)))}function oP(a){var u=a._init;return u(a._payload)}function aP(a){function u(W,z){if(a){var Y=W.deletions;Y===null?(W.deletions=[z],W.flags|=16):Y.push(z)}}function p(W,z){if(!a)return null;for(;z!==null;)u(W,z),z=z.sibling;return null}function g(W){for(var z=new Map;W!==null;)W.key!==null?z.set(W.key,W):z.set(W.index,W),W=W.sibling;return z}function b(W,z){return W=Cu(W,z),W.index=0,W.sibling=null,W}function S(W,z,Y){return W.index=Y,a?(Y=W.alternate,Y!==null?(Y=Y.index,Y<z?(W.flags|=33554434,z):Y):(W.flags|=33554434,z)):(W.flags|=1048576,z)}function E(W){return a&&W.alternate===null&&(W.flags|=33554434),W}function k(W,z,Y,oe){return z===null||z.tag!==6?(z=N$(Y,W.mode,oe),z.return=W,z):(z=b(z,Y),z.return=W,z)}function D(W,z,Y,oe){var Ae=Y.type;return Ae===c?ne(W,z,Y.props.children,oe,Y.key):z!==null&&(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===C&&oP(Ae)===z.type)?(z=b(z,Y.props),Jg(z,Y),z.return=W,z):(z=Pb(Y.type,Y.key,Y.props,null,W.mode,oe),Jg(z,Y),z.return=W,z)}function U(W,z,Y,oe){return z===null||z.tag!==4||z.stateNode.containerInfo!==Y.containerInfo||z.stateNode.implementation!==Y.implementation?(z=D$(Y,W.mode,oe),z.return=W,z):(z=b(z,Y.children||[]),z.return=W,z)}function ne(W,z,Y,oe,Ae){return z===null||z.tag!==7?(z=kh(Y,W.mode,oe,Ae),z.return=W,z):(z=b(z,Y),z.return=W,z)}function ue(W,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=N$(""+z,W.mode,Y),z.return=W,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case o:return Y=Pb(z.type,z.key,z.props,null,W.mode,Y),Jg(Y,z),Y.return=W,Y;case l:return z=D$(z,W.mode,Y),z.return=W,z;case C:var oe=z._init;return z=oe(z._payload),ue(W,z,Y)}if(Fe(z)||F(z))return z=kh(z,W.mode,Y,null),z.return=W,z;if(typeof z.then=="function")return ue(W,mb(z),Y);if(z.$$typeof===_)return ue(W,Cb(W,z),Y);yb(W,z)}return null}function K(W,z,Y,oe){var Ae=z!==null?z.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Ae!==null?null:k(W,z,""+Y,oe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case o:return Y.key===Ae?D(W,z,Y,oe):null;case l:return Y.key===Ae?U(W,z,Y,oe):null;case C:return Ae=Y._init,Y=Ae(Y._payload),K(W,z,Y,oe)}if(Fe(Y)||F(Y))return Ae!==null?null:ne(W,z,Y,oe,null);if(typeof Y.then=="function")return K(W,z,mb(Y),oe);if(Y.$$typeof===_)return K(W,z,Cb(W,Y),oe);yb(W,Y)}return null}function ie(W,z,Y,oe,Ae){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return W=W.get(Y)||null,k(z,W,""+oe,Ae);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case o:return W=W.get(oe.key===null?Y:oe.key)||null,D(z,W,oe,Ae);case l:return W=W.get(oe.key===null?Y:oe.key)||null,U(z,W,oe,Ae);case C:var nt=oe._init;return oe=nt(oe._payload),ie(W,z,Y,oe,Ae)}if(Fe(oe)||F(oe))return W=W.get(Y)||null,ne(z,W,oe,Ae,null);if(typeof oe.then=="function")return ie(W,z,Y,mb(oe),Ae);if(oe.$$typeof===_)return ie(W,z,Y,Cb(z,oe),Ae);yb(z,oe)}return null}function Pe(W,z,Y,oe){for(var Ae=null,nt=null,De=z,Be=z=0,hr=null;De!==null&&Be<Y.length;Be++){De.index>Be?(hr=De,De=null):hr=De.sibling;var St=K(W,De,Y[Be],oe);if(St===null){De===null&&(De=hr);break}a&&De&&St.alternate===null&&u(W,De),z=S(St,z,Be),nt===null?Ae=St:nt.sibling=St,nt=St,De=hr}if(Be===Y.length)return p(W,De),_t&&wh(W,Be),Ae;if(De===null){for(;Be<Y.length;Be++)De=ue(W,Y[Be],oe),De!==null&&(z=S(De,z,Be),nt===null?Ae=De:nt.sibling=De,nt=De);return _t&&wh(W,Be),Ae}for(De=g(De);Be<Y.length;Be++)hr=ie(De,W,Be,Y[Be],oe),hr!==null&&(a&&hr.alternate!==null&&De.delete(hr.key===null?Be:hr.key),z=S(hr,z,Be),nt===null?Ae=hr:nt.sibling=hr,nt=hr);return a&&De.forEach(function(Lu){return u(W,Lu)}),_t&&wh(W,Be),Ae}function Je(W,z,Y,oe){if(Y==null)throw Error(r(151));for(var Ae=null,nt=null,De=z,Be=z=0,hr=null,St=Y.next();De!==null&&!St.done;Be++,St=Y.next()){De.index>Be?(hr=De,De=null):hr=De.sibling;var Lu=K(W,De,St.value,oe);if(Lu===null){De===null&&(De=hr);break}a&&De&&Lu.alternate===null&&u(W,De),z=S(Lu,z,Be),nt===null?Ae=Lu:nt.sibling=Lu,nt=Lu,De=hr}if(St.done)return p(W,De),_t&&wh(W,Be),Ae;if(De===null){for(;!St.done;Be++,St=Y.next())St=ue(W,St.value,oe),St!==null&&(z=S(St,z,Be),nt===null?Ae=St:nt.sibling=St,nt=St);return _t&&wh(W,Be),Ae}for(De=g(De);!St.done;Be++,St=Y.next())St=ie(De,W,Be,St.value,oe),St!==null&&(a&&St.alternate!==null&&De.delete(St.key===null?Be:St.key),z=S(St,z,Be),nt===null?Ae=St:nt.sibling=St,nt=St);return a&&De.forEach(function(Cre){return u(W,Cre)}),_t&&wh(W,Be),Ae}function yi(W,z,Y,oe){if(typeof Y=="object"&&Y!==null&&Y.type===c&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case o:e:{for(var Ae=Y.key;z!==null;){if(z.key===Ae){if(Ae=Y.type,Ae===c){if(z.tag===7){p(W,z.sibling),oe=b(z,Y.props.children),oe.return=W,W=oe;break e}}else if(z.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===C&&oP(Ae)===z.type){p(W,z.sibling),oe=b(z,Y.props),Jg(oe,Y),oe.return=W,W=oe;break e}p(W,z);break}else u(W,z);z=z.sibling}Y.type===c?(oe=kh(Y.props.children,W.mode,oe,Y.key),oe.return=W,W=oe):(oe=Pb(Y.type,Y.key,Y.props,null,W.mode,oe),Jg(oe,Y),oe.return=W,W=oe)}return E(W);case l:e:{for(Ae=Y.key;z!==null;){if(z.key===Ae)if(z.tag===4&&z.stateNode.containerInfo===Y.containerInfo&&z.stateNode.implementation===Y.implementation){p(W,z.sibling),oe=b(z,Y.children||[]),oe.return=W,W=oe;break e}else{p(W,z);break}else u(W,z);z=z.sibling}oe=D$(Y,W.mode,oe),oe.return=W,W=oe}return E(W);case C:return Ae=Y._init,Y=Ae(Y._payload),yi(W,z,Y,oe)}if(Fe(Y))return Pe(W,z,Y,oe);if(F(Y)){if(Ae=F(Y),typeof Ae!="function")throw Error(r(150));return Y=Ae.call(Y),Je(W,z,Y,oe)}if(typeof Y.then=="function")return yi(W,z,mb(Y),oe);if(Y.$$typeof===_)return yi(W,z,Cb(W,Y),oe);yb(W,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,z!==null&&z.tag===6?(p(W,z.sibling),oe=b(z,Y),oe.return=W,W=oe):(p(W,z),oe=N$(Y,W.mode,oe),oe.return=W,W=oe),E(W)):p(W,z)}return function(W,z,Y,oe){try{Yg=0;var Ae=yi(W,z,Y,oe);return Xp=null,Ae}catch(De){if(De===Wg)throw De;var nt=Pn(29,De,null,W.mode);return nt.lanes=oe,nt.return=W,nt}finally{}}}var _h=aP(!0),lP=aP(!1),Qp=bt(null),gb=bt(0);function uP(a,u){a=ol,Lt(gb,a),Lt(Qp,u),ol=a|u.baseLanes}function q3(){Lt(gb,ol),Lt(Qp,Qp.current)}function B3(){ol=gb.current,pi(Qp),pi(gb)}var Cn=bt(null),oa=null;function bu(a){var u=a.alternate;Lt(Zi,Zi.current&1),Lt(Cn,a),oa===null&&(u===null||Qp.current!==null||u.memoizedState!==null)&&(oa=a)}function cP(a){if(a.tag===22){if(Lt(Zi,Zi.current),Lt(Cn,a),oa===null){var u=a.alternate;u!==null&&u.memoizedState!==null&&(oa=a)}}else _u()}function _u(){Lt(Zi,Zi.current),Lt(Cn,Cn.current)}function Ja(a){pi(Cn),oa===a&&(oa=null),pi(Zi)}var Zi=bt(0);function vb(a){for(var u=a;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var vie=typeof AbortController<"u"?AbortController:function(){var a=[],u=this.signal={aborted:!1,addEventListener:function(p,g){a.push(g)}};this.abort=function(){u.aborted=!0,a.forEach(function(p){return p()})}},wie=t.unstable_scheduleCallback,bie=t.unstable_NormalPriority,Yi={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function G3(){return{controller:new vie,data:new Map,refCount:0}}function Kg(a){a.refCount--,a.refCount===0&&wie(bie,function(){a.controller.abort()})}var Xg=null,H3=0,ef=0,tf=null;function _ie(a,u){if(Xg===null){var p=Xg=[];H3=0,ef=X$(),tf={status:"pending",value:void 0,then:function(g){p.push(g)}}}return H3++,u.then(hP,hP),u}function hP(){if(--H3===0&&Xg!==null){tf!==null&&(tf.status="fulfilled");var a=Xg;Xg=null,ef=0,tf=null;for(var u=0;u<a.length;u++)(0,a[u])()}}function Sie(a,u){var p=[],g={status:"pending",value:null,reason:null,then:function(b){p.push(b)}};return a.then(function(){g.status="fulfilled",g.value=u;for(var b=0;b<p.length;b++)(0,p[b])(u)},function(b){for(g.status="rejected",g.reason=b,b=0;b<p.length;b++)(0,p[b])(void 0)}),g}var dP=J.S;J.S=function(a,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&_ie(a,u),dP!==null&&dP(a,u)};var Sh=bt(null);function W3(){var a=Sh.current;return a!==null?a:Vt.pooledCache}function wb(a,u){u===null?Lt(Sh,Sh.current):Lt(Sh,u.pool)}function pP(){var a=W3();return a===null?null:{parent:Yi._currentValue,pool:a}}var Su=0,st=null,kt=null,Li=null,bb=!1,rf=!1,xh=!1,_b=0,Qg=0,sf=null,xie=0;function Ei(){throw Error(r(321))}function Z3(a,u){if(u===null)return!1;for(var p=0;p<u.length&&p<a.length;p++)if(!Xs(a[p],u[p]))return!1;return!0}function Y3(a,u,p,g,b,S){return Su=S,st=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,J.H=a===null||a.memoizedState===null?Th:xu,xh=!1,S=p(g,b),xh=!1,rf&&(S=mP(u,p,g,b)),fP(a),S}function fP(a){J.H=aa;var u=kt!==null&&kt.next!==null;if(Su=0,Li=kt=st=null,bb=!1,Qg=0,sf=null,u)throw Error(r(300));a===null||ur||(a=a.dependencies,a!==null&&kb(a)&&(ur=!0))}function mP(a,u,p,g){st=a;var b=0;do{if(rf&&(sf=null),Qg=0,rf=!1,25<=b)throw Error(r(301));if(b+=1,Li=kt=null,a.updateQueue!=null){var S=a.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}J.H=$h,S=u(p,g)}while(rf);return S}function Tie(){var a=J.H,u=a.useState()[0];return u=typeof u.then=="function"?e0(u):u,a=a.useState()[0],(kt!==null?kt.memoizedState:null)!==a&&(st.flags|=1024),u}function J3(){var a=_b!==0;return _b=0,a}function K3(a,u,p){u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~p}function X3(a){if(bb){for(a=a.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}bb=!1}Su=0,Li=kt=st=null,rf=!1,Qg=_b=0,sf=null}function $s(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Li===null?st.memoizedState=Li=a:Li=Li.next=a,Li}function Vi(){if(kt===null){var a=st.alternate;a=a!==null?a.memoizedState:null}else a=kt.next;var u=Li===null?st.memoizedState:Li.next;if(u!==null)Li=u,kt=a;else{if(a===null)throw st.alternate===null?Error(r(467)):Error(r(310));kt=a,a={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Li===null?st.memoizedState=Li=a:Li=Li.next=a}return Li}var Sb;Sb=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function e0(a){var u=Qg;return Qg+=1,sf===null&&(sf=[]),a=sP(sf,a,u),u=st,(Li===null?u.memoizedState:Li.next)===null&&(u=u.alternate,J.H=u===null||u.memoizedState===null?Th:xu),a}function xb(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return e0(a);if(a.$$typeof===_)return Ir(a)}throw Error(r(438,String(a)))}function Q3(a){var u=null,p=st.updateQueue;if(p!==null&&(u=p.memoCache),u==null){var g=st.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(u={data:g.data.map(function(b){return b.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),p===null&&(p=Sb(),st.updateQueue=p),p.memoCache=u,p=u.data[u.index],p===void 0)for(p=u.data[u.index]=Array(a),g=0;g<a;g++)p[g]=N;return u.index++,p}function Ka(a,u){return typeof u=="function"?u(a):u}function Tb(a){var u=Vi();return e$(u,kt,a)}function e$(a,u,p){var g=a.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=p;var b=a.baseQueue,S=g.pending;if(S!==null){if(b!==null){var E=b.next;b.next=S.next,S.next=E}u.baseQueue=b=S,g.pending=null}if(S=a.baseState,b===null)a.memoizedState=S;else{u=b.next;var k=E=null,D=null,U=u,ne=!1;do{var ue=U.lane&-536870913;if(ue!==U.lane?(gt&ue)===ue:(Su&ue)===ue){var K=U.revertLane;if(K===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),ue===ef&&(ne=!0);else if((Su&K)===K){U=U.next,K===ef&&(ne=!0);continue}else ue={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},D===null?(k=D=ue,E=S):D=D.next=ue,st.lanes|=K,Ru|=K;ue=U.action,xh&&p(S,ue),S=U.hasEagerState?U.eagerState:p(S,ue)}else K={lane:ue,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},D===null?(k=D=K,E=S):D=D.next=K,st.lanes|=ue,Ru|=ue;U=U.next}while(U!==null&&U!==u);if(D===null?E=S:D.next=k,!Xs(S,a.memoizedState)&&(ur=!0,ne&&(p=tf,p!==null)))throw p;a.memoizedState=S,a.baseState=E,a.baseQueue=D,g.lastRenderedState=S}return b===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function t$(a){var u=Vi(),p=u.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=a;var g=p.dispatch,b=p.pending,S=u.memoizedState;if(b!==null){p.pending=null;var E=b=b.next;do S=a(S,E.action),E=E.next;while(E!==b);Xs(S,u.memoizedState)||(ur=!0),u.memoizedState=S,u.baseQueue===null&&(u.baseState=S),p.lastRenderedState=S}return[S,g]}function yP(a,u,p){var g=st,b=Vi(),S=_t;if(S){if(p===void 0)throw Error(r(407));p=p()}else p=u();var E=!Xs((kt||b).memoizedState,p);if(E&&(b.memoizedState=p,ur=!0),b=b.queue,s$(wP.bind(null,g,b,a),[a]),b.getSnapshot!==u||E||Li!==null&&Li.memoizedState.tag&1){if(g.flags|=2048,nf(9,vP.bind(null,g,b,p,u),{destroy:void 0},null),Vt===null)throw Error(r(349));S||(Su&60)!==0||gP(g,u,p)}return p}function gP(a,u,p){a.flags|=16384,a={getSnapshot:u,value:p},u=st.updateQueue,u===null?(u=Sb(),st.updateQueue=u,u.stores=[a]):(p=u.stores,p===null?u.stores=[a]:p.push(a))}function vP(a,u,p,g){u.value=p,u.getSnapshot=g,bP(u)&&_P(a)}function wP(a,u,p){return p(function(){bP(u)&&_P(a)})}function bP(a){var u=a.getSnapshot;a=a.value;try{var p=u();return!Xs(a,p)}catch{return!0}}function _P(a){var u=wu(a,2);u!==null&&ss(u,a,2)}function i$(a){var u=$s();if(typeof a=="function"){var p=a;if(a=p(),xh){ra(!0);try{p()}finally{ra(!1)}}}return u.memoizedState=u.baseState=a,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:a},u}function SP(a,u,p,g){return a.baseState=p,e$(a,kt,typeof g=="function"?g:Ka)}function $ie(a,u,p,g,b){if(Eb(a))throw Error(r(485));if(a=u.action,a!==null){var S={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){S.listeners.push(E)}};J.T!==null?p(!0):S.isTransition=!1,g(S),p=u.pending,p===null?(S.next=u.pending=S,xP(u,S)):(S.next=p.next,u.pending=p.next=S)}}function xP(a,u){var p=u.action,g=u.payload,b=a.state;if(u.isTransition){var S=J.T,E={};J.T=E;try{var k=p(b,g),D=J.S;D!==null&&D(E,k),TP(a,u,k)}catch(U){r$(a,u,U)}finally{J.T=S}}else try{S=p(b,g),TP(a,u,S)}catch(U){r$(a,u,U)}}function TP(a,u,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(g){$P(a,u,g)},function(g){return r$(a,u,g)}):$P(a,u,p)}function $P(a,u,p){u.status="fulfilled",u.value=p,MP(u),a.state=p,u=a.pending,u!==null&&(p=u.next,p===u?a.pending=null:(p=p.next,u.next=p,xP(a,p)))}function r$(a,u,p){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do u.status="rejected",u.reason=p,MP(u),u=u.next;while(u!==g)}a.action=null}function MP(a){a=a.listeners;for(var u=0;u<a.length;u++)(0,a[u])()}function EP(a,u){return u}function AP(a,u){if(_t){var p=Vt.formState;if(p!==null){e:{var g=st;if(_t){if(_r){t:{for(var b=_r,S=na;b.nodeType!==8;){if(!S){b=null;break t}if(b=_o(b.nextSibling),b===null){b=null;break t}}S=b.data,b=S==="F!"||S==="F"?b:null}if(b){_r=_o(b.nextSibling),g=b.data==="F!";break e}}bh(g)}g=!1}g&&(u=p[0])}}return p=$s(),p.memoizedState=p.baseState=u,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:EP,lastRenderedState:u},p.queue=g,p=HP.bind(null,st,g),g.dispatch=p,g=i$(!1),S=u$.bind(null,st,!1,g.queue),g=$s(),b={state:u,dispatch:null,action:a,pending:null},g.queue=b,p=$ie.bind(null,st,b,S,p),b.dispatch=p,g.memoizedState=a,[u,p,!1]}function OP(a){var u=Vi();return kP(u,kt,a)}function kP(a,u,p){u=e$(a,u,EP)[0],a=Tb(Ka)[0],u=typeof u=="object"&&u!==null&&typeof u.then=="function"?e0(u):u;var g=Vi(),b=g.queue,S=b.dispatch;return p!==g.memoizedState&&(st.flags|=2048,nf(9,Mie.bind(null,b,p),{destroy:void 0},null)),[u,S,a]}function Mie(a,u){a.action=u}function CP(a){var u=Vi(),p=kt;if(p!==null)return kP(u,p,a);Vi(),u=u.memoizedState,p=Vi();var g=p.queue.dispatch;return p.memoizedState=a,[u,g,!1]}function nf(a,u,p,g){return a={tag:a,create:u,inst:p,deps:g,next:null},u=st.updateQueue,u===null&&(u=Sb(),st.updateQueue=u),p=u.lastEffect,p===null?u.lastEffect=a.next=a:(g=p.next,p.next=a,a.next=g,u.lastEffect=a),a}function RP(){return Vi().memoizedState}function $b(a,u,p,g){var b=$s();st.flags|=a,b.memoizedState=nf(1|u,p,{destroy:void 0},g===void 0?null:g)}function Mb(a,u,p,g){var b=Vi();g=g===void 0?null:g;var S=b.memoizedState.inst;kt!==null&&g!==null&&Z3(g,kt.memoizedState.deps)?b.memoizedState=nf(u,p,S,g):(st.flags|=a,b.memoizedState=nf(1|u,p,S,g))}function IP(a,u){$b(8390656,8,a,u)}function s$(a,u){Mb(2048,8,a,u)}function PP(a,u){return Mb(4,2,a,u)}function jP(a,u){return Mb(4,4,a,u)}function NP(a,u){if(typeof u=="function"){a=a();var p=u(a);return function(){typeof p=="function"?p():u(null)}}if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function DP(a,u,p){p=p!=null?p.concat([a]):null,Mb(4,4,NP.bind(null,u,a),p)}function n$(){}function LP(a,u){var p=Vi();u=u===void 0?null:u;var g=p.memoizedState;return u!==null&&Z3(u,g[1])?g[0]:(p.memoizedState=[a,u],a)}function VP(a,u){var p=Vi();u=u===void 0?null:u;var g=p.memoizedState;if(u!==null&&Z3(u,g[1]))return g[0];if(g=a(),xh){ra(!0);try{a()}finally{ra(!1)}}return p.memoizedState=[g,u],g}function o$(a,u,p){return p===void 0||(Su&1073741824)!==0?a.memoizedState=u:(a.memoizedState=p,a=zj(),st.lanes|=a,Ru|=a,p)}function FP(a,u,p,g){return Xs(p,u)?p:Qp.current!==null?(a=o$(a,p,g),Xs(a,u)||(ur=!0),a):(Su&42)===0?(ur=!0,a.memoizedState=p):(a=zj(),st.lanes|=a,Ru|=a,u)}function zP(a,u,p,g,b){var S=Te.p;Te.p=S!==0&&8>S?S:8;var E=J.T,k={};J.T=k,u$(a,!1,u,p);try{var D=b(),U=J.S;if(U!==null&&U(k,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var ne=Sie(D,g);t0(a,u,ne,rn(a))}else t0(a,u,g,rn(a))}catch(ue){t0(a,u,{then:function(){},status:"rejected",reason:ue},rn())}finally{Te.p=S,J.T=E}}function Eie(){}function a$(a,u,p,g){if(a.tag!==5)throw Error(r(476));var b=UP(a).queue;zP(a,b,u,ht,p===null?Eie:function(){return qP(a),p(g)})}function UP(a){var u=a.memoizedState;if(u!==null)return u;u={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:ht},next:null};var p={};return u.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:p},next:null},a.memoizedState=u,a=a.alternate,a!==null&&(a.memoizedState=u),u}function qP(a){var u=UP(a).next.queue;t0(a,u,{},rn())}function l$(){return Ir(_0)}function BP(){return Vi().memoizedState}function GP(){return Vi().memoizedState}function Aie(a){for(var u=a.return;u!==null;){switch(u.tag){case 24:case 3:var p=rn();a=Mu(p);var g=Eu(u,a,p);g!==null&&(ss(g,u,p),s0(g,u,p)),u={cache:G3()},a.payload=u;return}u=u.return}}function Oie(a,u,p){var g=rn();p={lane:g,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},Eb(a)?WP(u,p):(p=L3(a,u,p,g),p!==null&&(ss(p,a,g),ZP(p,u,g)))}function HP(a,u,p){var g=rn();t0(a,u,p,g)}function t0(a,u,p,g){var b={lane:g,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(Eb(a))WP(u,b);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=u.lastRenderedReducer,S!==null))try{var E=u.lastRenderedState,k=S(E,p);if(b.hasEagerState=!0,b.eagerState=k,Xs(k,E))return cb(a,u,b,0),Vt===null&&ub(),!1}catch{}finally{}if(p=L3(a,u,b,g),p!==null)return ss(p,a,g),ZP(p,u,g),!0}return!1}function u$(a,u,p,g){if(g={lane:2,revertLane:X$(),action:g,hasEagerState:!1,eagerState:null,next:null},Eb(a)){if(u)throw Error(r(479))}else u=L3(a,p,g,2),u!==null&&ss(u,a,2)}function Eb(a){var u=a.alternate;return a===st||u!==null&&u===st}function WP(a,u){rf=bb=!0;var p=a.pending;p===null?u.next=u:(u.next=p.next,p.next=u),a.pending=u}function ZP(a,u,p){if((p&4194176)!==0){var g=u.lanes;g&=a.pendingLanes,p|=g,u.lanes=p,Ee(a,p)}}var aa={readContext:Ir,use:xb,useCallback:Ei,useContext:Ei,useEffect:Ei,useImperativeHandle:Ei,useLayoutEffect:Ei,useInsertionEffect:Ei,useMemo:Ei,useReducer:Ei,useRef:Ei,useState:Ei,useDebugValue:Ei,useDeferredValue:Ei,useTransition:Ei,useSyncExternalStore:Ei,useId:Ei};aa.useCacheRefresh=Ei,aa.useMemoCache=Ei,aa.useHostTransitionStatus=Ei,aa.useFormState=Ei,aa.useActionState=Ei,aa.useOptimistic=Ei;var Th={readContext:Ir,use:xb,useCallback:function(a,u){return $s().memoizedState=[a,u===void 0?null:u],a},useContext:Ir,useEffect:IP,useImperativeHandle:function(a,u,p){p=p!=null?p.concat([a]):null,$b(4194308,4,NP.bind(null,u,a),p)},useLayoutEffect:function(a,u){return $b(4194308,4,a,u)},useInsertionEffect:function(a,u){$b(4,2,a,u)},useMemo:function(a,u){var p=$s();u=u===void 0?null:u;var g=a();if(xh){ra(!0);try{a()}finally{ra(!1)}}return p.memoizedState=[g,u],g},useReducer:function(a,u,p){var g=$s();if(p!==void 0){var b=p(u);if(xh){ra(!0);try{p(u)}finally{ra(!1)}}}else b=u;return g.memoizedState=g.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},g.queue=a,a=a.dispatch=Oie.bind(null,st,a),[g.memoizedState,a]},useRef:function(a){var u=$s();return a={current:a},u.memoizedState=a},useState:function(a){a=i$(a);var u=a.queue,p=HP.bind(null,st,u);return u.dispatch=p,[a.memoizedState,p]},useDebugValue:n$,useDeferredValue:function(a,u){var p=$s();return o$(p,a,u)},useTransition:function(){var a=i$(!1);return a=zP.bind(null,st,a.queue,!0,!1),$s().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,u,p){var g=st,b=$s();if(_t){if(p===void 0)throw Error(r(407));p=p()}else{if(p=u(),Vt===null)throw Error(r(349));(gt&60)!==0||gP(g,u,p)}b.memoizedState=p;var S={value:p,getSnapshot:u};return b.queue=S,IP(wP.bind(null,g,S,a),[a]),g.flags|=2048,nf(9,vP.bind(null,g,S,p,u),{destroy:void 0},null),p},useId:function(){var a=$s(),u=Vt.identifierPrefix;if(_t){var p=Ya,g=Za;p=(g&~(1<<32-ts(g)-1)).toString(32)+p,u=":"+u+"R"+p,p=_b++,0<p&&(u+="H"+p.toString(32)),u+=":"}else p=xie++,u=":"+u+"r"+p.toString(32)+":";return a.memoizedState=u},useCacheRefresh:function(){return $s().memoizedState=Aie.bind(null,st)}};Th.useMemoCache=Q3,Th.useHostTransitionStatus=l$,Th.useFormState=AP,Th.useActionState=AP,Th.useOptimistic=function(a){var u=$s();u.memoizedState=u.baseState=a;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=p,u=u$.bind(null,st,!0,p),p.dispatch=u,[a,u]};var xu={readContext:Ir,use:xb,useCallback:LP,useContext:Ir,useEffect:s$,useImperativeHandle:DP,useInsertionEffect:PP,useLayoutEffect:jP,useMemo:VP,useReducer:Tb,useRef:RP,useState:function(){return Tb(Ka)},useDebugValue:n$,useDeferredValue:function(a,u){var p=Vi();return FP(p,kt.memoizedState,a,u)},useTransition:function(){var a=Tb(Ka)[0],u=Vi().memoizedState;return[typeof a=="boolean"?a:e0(a),u]},useSyncExternalStore:yP,useId:BP};xu.useCacheRefresh=GP,xu.useMemoCache=Q3,xu.useHostTransitionStatus=l$,xu.useFormState=OP,xu.useActionState=OP,xu.useOptimistic=function(a,u){var p=Vi();return SP(p,kt,a,u)};var $h={readContext:Ir,use:xb,useCallback:LP,useContext:Ir,useEffect:s$,useImperativeHandle:DP,useInsertionEffect:PP,useLayoutEffect:jP,useMemo:VP,useReducer:t$,useRef:RP,useState:function(){return t$(Ka)},useDebugValue:n$,useDeferredValue:function(a,u){var p=Vi();return kt===null?o$(p,a,u):FP(p,kt.memoizedState,a,u)},useTransition:function(){var a=t$(Ka)[0],u=Vi().memoizedState;return[typeof a=="boolean"?a:e0(a),u]},useSyncExternalStore:yP,useId:BP};$h.useCacheRefresh=GP,$h.useMemoCache=Q3,$h.useHostTransitionStatus=l$,$h.useFormState=CP,$h.useActionState=CP,$h.useOptimistic=function(a,u){var p=Vi();return kt!==null?SP(p,kt,a,u):(p.baseState=a,[a,p.queue.dispatch])};function c$(a,u,p,g){u=a.memoizedState,p=p(g,u),p=p==null?u:re({},u,p),a.memoizedState=p,a.lanes===0&&(a.updateQueue.baseState=p)}var h$={isMounted:function(a){return(a=a._reactInternals)?de(a)===a:!1},enqueueSetState:function(a,u,p){a=a._reactInternals;var g=rn(),b=Mu(g);b.payload=u,p!=null&&(b.callback=p),u=Eu(a,b,g),u!==null&&(ss(u,a,g),s0(u,a,g))},enqueueReplaceState:function(a,u,p){a=a._reactInternals;var g=rn(),b=Mu(g);b.tag=1,b.payload=u,p!=null&&(b.callback=p),u=Eu(a,b,g),u!==null&&(ss(u,a,g),s0(u,a,g))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var p=rn(),g=Mu(p);g.tag=2,u!=null&&(g.callback=u),u=Eu(a,g,p),u!==null&&(ss(u,a,p),s0(u,a,p))}};function YP(a,u,p,g,b,S,E){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,S,E):u.prototype&&u.prototype.isPureReactComponent?!Ug(p,g)||!Ug(b,S):!0}function JP(a,u,p,g){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,g),u.state!==a&&h$.enqueueReplaceState(u,u.state,null)}function Mh(a,u){var p=u;if("ref"in u){p={};for(var g in u)g!=="ref"&&(p[g]=u[g])}if(a=a.defaultProps){p===u&&(p=re({},p));for(var b in a)p[b]===void 0&&(p[b]=a[b])}return p}var Ab=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function KP(a){Ab(a)}function XP(a){console.error(a)}function QP(a){Ab(a)}function Ob(a,u){try{var p=a.onUncaughtError;p(u.value,{componentStack:u.stack})}catch(g){setTimeout(function(){throw g})}}function ej(a,u,p){try{var g=a.onCaughtError;g(p.value,{componentStack:p.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function d$(a,u,p){return p=Mu(p),p.tag=3,p.payload={element:null},p.callback=function(){Ob(a,u)},p}function tj(a){return a=Mu(a),a.tag=3,a}function ij(a,u,p,g){var b=p.type.getDerivedStateFromError;if(typeof b=="function"){var S=g.value;a.payload=function(){return b(S)},a.callback=function(){ej(u,p,g)}}var E=p.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(a.callback=function(){ej(u,p,g),typeof b!="function"&&(Iu===null?Iu=new Set([this]):Iu.add(this));var k=g.stack;this.componentDidCatch(g.value,{componentStack:k!==null?k:""})})}function kie(a,u,p,g,b){if(p.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(u=p.alternate,u!==null&&r0(u,p,b,!0),p=Cn.current,p!==null){switch(p.tag){case 13:return oa===null?W$():p.alternate===null&&mi===0&&(mi=3),p.flags&=-257,p.flags|=65536,p.lanes=b,g===U3?p.flags|=16384:(u=p.updateQueue,u===null?p.updateQueue=new Set([g]):u.add(g),Y$(a,g,b)),!1;case 22:return p.flags|=65536,g===U3?p.flags|=16384:(u=p.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([g])},p.updateQueue=u):(p=u.retryQueue,p===null?u.retryQueue=new Set([g]):p.add(g)),Y$(a,g,b)),!1}throw Error(r(435,p.tag))}return Y$(a,g,b),W$(),!1}if(_t)return u=Cn.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=b,g!==z3&&(a=Error(r(422),{cause:g}),Hg(An(a,p)))):(g!==z3&&(u=Error(r(423),{cause:g}),Hg(An(u,p))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,g=An(g,p),b=d$(a.stateNode,g,b),E$(a,b),mi!==4&&(mi=2)),!1;var S=Error(r(520),{cause:g});if(S=An(S,p),d0===null?d0=[S]:d0.push(S),mi!==4&&(mi=2),u===null)return!0;g=An(g,p),p=u;do{switch(p.tag){case 3:return p.flags|=65536,a=b&-b,p.lanes|=a,a=d$(p.stateNode,g,a),E$(p,a),!1;case 1:if(u=p.type,S=p.stateNode,(p.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Iu===null||!Iu.has(S))))return p.flags|=65536,b&=-b,p.lanes|=b,b=tj(b),ij(b,a,p,g),E$(p,b),!1}p=p.return}while(p!==null);return!1}var rj=Error(r(461)),ur=!1;function Sr(a,u,p,g){u.child=a===null?lP(u,null,p,g):_h(u,a.child,p,g)}function sj(a,u,p,g,b){p=p.render;var S=u.ref;if("ref"in g){var E={};for(var k in g)k!=="ref"&&(E[k]=g[k])}else E=g;return Ah(u),g=Y3(a,u,p,E,S,b),k=J3(),a!==null&&!ur?(K3(a,u,b),Xa(a,u,b)):(_t&&k&&V3(u),u.flags|=1,Sr(a,u,g,b),u.child)}function nj(a,u,p,g,b){if(a===null){var S=p.type;return typeof S=="function"&&!j$(S)&&S.defaultProps===void 0&&p.compare===null?(u.tag=15,u.type=S,oj(a,u,S,g,b)):(a=Pb(p.type,null,g,u,u.mode,b),a.ref=u.ref,a.return=u,u.child=a)}if(S=a.child,!_$(a,b)){var E=S.memoizedProps;if(p=p.compare,p=p!==null?p:Ug,p(E,g)&&a.ref===u.ref)return Xa(a,u,b)}return u.flags|=1,a=Cu(S,g),a.ref=u.ref,a.return=u,u.child=a}function oj(a,u,p,g,b){if(a!==null){var S=a.memoizedProps;if(Ug(S,g)&&a.ref===u.ref)if(ur=!1,u.pendingProps=g=S,_$(a,b))(a.flags&131072)!==0&&(ur=!0);else return u.lanes=a.lanes,Xa(a,u,b)}return p$(a,u,p,g,b)}function aj(a,u,p){var g=u.pendingProps,b=g.children,S=(u.stateNode._pendingVisibility&2)!==0,E=a!==null?a.memoizedState:null;if(i0(a,u),g.mode==="hidden"||S){if((u.flags&128)!==0){if(g=E!==null?E.baseLanes|p:p,a!==null){for(b=u.child=a.child,S=0;b!==null;)S=S|b.lanes|b.childLanes,b=b.sibling;u.childLanes=S&~g}else u.childLanes=0,u.child=null;return lj(a,u,g,p)}if((p&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},a!==null&&wb(u,E!==null?E.cachePool:null),E!==null?uP(u,E):q3(),cP(u);else return u.lanes=u.childLanes=536870912,lj(a,u,E!==null?E.baseLanes|p:p,p)}else E!==null?(wb(u,E.cachePool),uP(u,E),_u(),u.memoizedState=null):(a!==null&&wb(u,null),q3(),_u());return Sr(a,u,b,p),u.child}function lj(a,u,p,g){var b=W3();return b=b===null?null:{parent:Yi._currentValue,pool:b},u.memoizedState={baseLanes:p,cachePool:b},a!==null&&wb(u,null),q3(),cP(u),a!==null&&r0(a,u,g,!0),null}function i0(a,u){var p=u.ref;if(p===null)a!==null&&a.ref!==null&&(u.flags|=2097664);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(a===null||a.ref!==p)&&(u.flags|=2097664)}}function p$(a,u,p,g,b){return Ah(u),p=Y3(a,u,p,g,void 0,b),g=J3(),a!==null&&!ur?(K3(a,u,b),Xa(a,u,b)):(_t&&g&&V3(u),u.flags|=1,Sr(a,u,p,b),u.child)}function uj(a,u,p,g,b,S){return Ah(u),u.updateQueue=null,p=mP(u,g,p,b),fP(a),g=J3(),a!==null&&!ur?(K3(a,u,S),Xa(a,u,S)):(_t&&g&&V3(u),u.flags|=1,Sr(a,u,p,S),u.child)}function cj(a,u,p,g,b){if(Ah(u),u.stateNode===null){var S=Yp,E=p.contextType;typeof E=="object"&&E!==null&&(S=Ir(E)),S=new p(g,S),u.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=h$,u.stateNode=S,S._reactInternals=u,S=u.stateNode,S.props=g,S.state=u.memoizedState,S.refs={},$$(u),E=p.contextType,S.context=typeof E=="object"&&E!==null?Ir(E):Yp,S.state=u.memoizedState,E=p.getDerivedStateFromProps,typeof E=="function"&&(c$(u,p,E,g),S.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(E=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),E!==S.state&&h$.enqueueReplaceState(S,S.state,null),o0(u,g,S,b),n0(),S.state=u.memoizedState),typeof S.componentDidMount=="function"&&(u.flags|=4194308),g=!0}else if(a===null){S=u.stateNode;var k=u.memoizedProps,D=Mh(p,k);S.props=D;var U=S.context,ne=p.contextType;E=Yp,typeof ne=="object"&&ne!==null&&(E=Ir(ne));var ue=p.getDerivedStateFromProps;ne=typeof ue=="function"||typeof S.getSnapshotBeforeUpdate=="function",k=u.pendingProps!==k,ne||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(k||U!==E)&&JP(u,S,g,E),$u=!1;var K=u.memoizedState;S.state=K,o0(u,g,S,b),n0(),U=u.memoizedState,k||K!==U||$u?(typeof ue=="function"&&(c$(u,p,ue,g),U=u.memoizedState),(D=$u||YP(u,p,D,g,K,U,E))?(ne||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(u.flags|=4194308)):(typeof S.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=U),S.props=g,S.state=U,S.context=E,g=D):(typeof S.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{S=u.stateNode,M$(a,u),E=u.memoizedProps,ne=Mh(p,E),S.props=ne,ue=u.pendingProps,K=S.context,U=p.contextType,D=Yp,typeof U=="object"&&U!==null&&(D=Ir(U)),k=p.getDerivedStateFromProps,(U=typeof k=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(E!==ue||K!==D)&&JP(u,S,g,D),$u=!1,K=u.memoizedState,S.state=K,o0(u,g,S,b),n0();var ie=u.memoizedState;E!==ue||K!==ie||$u||a!==null&&a.dependencies!==null&&kb(a.dependencies)?(typeof k=="function"&&(c$(u,p,k,g),ie=u.memoizedState),(ne=$u||YP(u,p,ne,g,K,ie,D)||a!==null&&a.dependencies!==null&&kb(a.dependencies))?(U||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(g,ie,D),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(g,ie,D)),typeof S.componentDidUpdate=="function"&&(u.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof S.componentDidUpdate!="function"||E===a.memoizedProps&&K===a.memoizedState||(u.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&K===a.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=ie),S.props=g,S.state=ie,S.context=D,g=ne):(typeof S.componentDidUpdate!="function"||E===a.memoizedProps&&K===a.memoizedState||(u.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&K===a.memoizedState||(u.flags|=1024),g=!1)}return S=g,i0(a,u),g=(u.flags&128)!==0,S||g?(S=u.stateNode,p=g&&typeof p.getDerivedStateFromError!="function"?null:S.render(),u.flags|=1,a!==null&&g?(u.child=_h(u,a.child,null,b),u.child=_h(u,null,p,b)):Sr(a,u,p,b),u.memoizedState=S.state,a=u.child):a=Xa(a,u,b),a}function hj(a,u,p,g){return Gg(),u.flags|=256,Sr(a,u,p,g),u.child}var f$={dehydrated:null,treeContext:null,retryLane:0};function m$(a){return{baseLanes:a,cachePool:pP()}}function y$(a,u,p){return a=a!==null?a.childLanes&~p:0,u&&(a|=jn),a}function dj(a,u,p){var g=u.pendingProps,b=!1,S=(u.flags&128)!==0,E;if((E=S)||(E=a!==null&&a.memoizedState===null?!1:(Zi.current&2)!==0),E&&(b=!0,u.flags&=-129),E=(u.flags&32)!==0,u.flags&=-33,a===null){if(_t){if(b?bu(u):_u(),_t){var k=_r,D;if(D=k){e:{for(D=k,k=na;D.nodeType!==8;){if(!k){k=null;break e}if(D=_o(D.nextSibling),D===null){k=null;break e}}k=D}k!==null?(u.memoizedState={dehydrated:k,treeContext:vh!==null?{id:Za,overflow:Ya}:null,retryLane:536870912},D=Pn(18,null,null,0),D.stateNode=k,D.return=u,u.child=D,rs=u,_r=null,D=!0):D=!1}D||bh(u)}if(k=u.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return k.data==="$!"?u.lanes=16:u.lanes=536870912,null;Ja(u)}return k=g.children,g=g.fallback,b?(_u(),b=u.mode,k=v$({mode:"hidden",children:k},b),g=kh(g,b,p,null),k.return=u,g.return=u,k.sibling=g,u.child=k,b=u.child,b.memoizedState=m$(p),b.childLanes=y$(a,E,p),u.memoizedState=f$,g):(bu(u),g$(u,k))}if(D=a.memoizedState,D!==null&&(k=D.dehydrated,k!==null)){if(S)u.flags&256?(bu(u),u.flags&=-257,u=w$(a,u,p)):u.memoizedState!==null?(_u(),u.child=a.child,u.flags|=128,u=null):(_u(),b=g.fallback,k=u.mode,g=v$({mode:"visible",children:g.children},k),b=kh(b,k,p,null),b.flags|=2,g.return=u,b.return=u,g.sibling=b,u.child=g,_h(u,a.child,null,p),g=u.child,g.memoizedState=m$(p),g.childLanes=y$(a,E,p),u.memoizedState=f$,u=b);else if(bu(u),k.data==="$!"){if(E=k.nextSibling&&k.nextSibling.dataset,E)var U=E.dgst;E=U,g=Error(r(419)),g.stack="",g.digest=E,Hg({value:g,source:null,stack:null}),u=w$(a,u,p)}else if(ur||r0(a,u,p,!1),E=(p&a.childLanes)!==0,ur||E){if(E=Vt,E!==null){if(g=p&-p,(g&42)!==0)g=1;else switch(g){case 2:g=1;break;case 8:g=4;break;case 32:g=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:g=64;break;case 268435456:g=134217728;break;default:g=0}if(g=(g&(E.suspendedLanes|p))!==0?0:g,g!==0&&g!==D.retryLane)throw D.retryLane=g,wu(a,g),ss(E,a,g),rj}k.data==="$?"||W$(),u=w$(a,u,p)}else k.data==="$?"?(u.flags|=128,u.child=a.child,u=Gie.bind(null,a),k._reactRetry=u,u=null):(a=D.treeContext,_r=_o(k.nextSibling),rs=u,_t=!0,wo=null,na=!1,a!==null&&(On[kn++]=Za,On[kn++]=Ya,On[kn++]=vh,Za=a.id,Ya=a.overflow,vh=u),u=g$(u,g.children),u.flags|=4096);return u}return b?(_u(),b=g.fallback,k=u.mode,D=a.child,U=D.sibling,g=Cu(D,{mode:"hidden",children:g.children}),g.subtreeFlags=D.subtreeFlags&31457280,U!==null?b=Cu(U,b):(b=kh(b,k,p,null),b.flags|=2),b.return=u,g.return=u,g.sibling=b,u.child=g,g=b,b=u.child,k=a.child.memoizedState,k===null?k=m$(p):(D=k.cachePool,D!==null?(U=Yi._currentValue,D=D.parent!==U?{parent:U,pool:U}:D):D=pP(),k={baseLanes:k.baseLanes|p,cachePool:D}),b.memoizedState=k,b.childLanes=y$(a,E,p),u.memoizedState=f$,g):(bu(u),p=a.child,a=p.sibling,p=Cu(p,{mode:"visible",children:g.children}),p.return=u,p.sibling=null,a!==null&&(E=u.deletions,E===null?(u.deletions=[a],u.flags|=16):E.push(a)),u.child=p,u.memoizedState=null,p)}function g$(a,u){return u=v$({mode:"visible",children:u},a.mode),u.return=a,a.child=u}function v$(a,u){return Lj(a,u,0,null)}function w$(a,u,p){return _h(u,a.child,null,p),a=g$(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function pj(a,u,p){a.lanes|=u;var g=a.alternate;g!==null&&(g.lanes|=u),x$(a.return,u,p)}function b$(a,u,p,g,b){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:p,tailMode:b}:(S.isBackwards=u,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=p,S.tailMode=b)}function fj(a,u,p){var g=u.pendingProps,b=g.revealOrder,S=g.tail;if(Sr(a,u,g.children,p),g=Zi.current,(g&2)!==0)g=g&1|2,u.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&pj(a,p,u);else if(a.tag===19)pj(a,p,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}switch(Lt(Zi,g),b){case"forwards":for(p=u.child,b=null;p!==null;)a=p.alternate,a!==null&&vb(a)===null&&(b=p),p=p.sibling;p=b,p===null?(b=u.child,u.child=null):(b=p.sibling,p.sibling=null),b$(u,!1,b,p,S);break;case"backwards":for(p=null,b=u.child,u.child=null;b!==null;){if(a=b.alternate,a!==null&&vb(a)===null){u.child=b;break}a=b.sibling,b.sibling=p,p=b,b=a}b$(u,!0,p,null,S);break;case"together":b$(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Xa(a,u,p){if(a!==null&&(u.dependencies=a.dependencies),Ru|=u.lanes,(p&u.childLanes)===0)if(a!==null){if(r0(a,u,p,!1),(p&u.childLanes)===0)return null}else return null;if(a!==null&&u.child!==a.child)throw Error(r(153));if(u.child!==null){for(a=u.child,p=Cu(a,a.pendingProps),u.child=p,p.return=u;a.sibling!==null;)a=a.sibling,p=p.sibling=Cu(a,a.pendingProps),p.return=u;p.sibling=null}return u.child}function _$(a,u){return(a.lanes&u)!==0?!0:(a=a.dependencies,!!(a!==null&&kb(a)))}function Cie(a,u,p){switch(u.tag){case 3:Rp(u,u.stateNode.containerInfo),Tu(u,Yi,a.memoizedState.cache),Gg();break;case 27:case 5:Cg(u);break;case 4:Rp(u,u.stateNode.containerInfo);break;case 10:Tu(u,u.type,u.memoizedProps.value);break;case 13:var g=u.memoizedState;if(g!==null)return g.dehydrated!==null?(bu(u),u.flags|=128,null):(p&u.child.childLanes)!==0?dj(a,u,p):(bu(u),a=Xa(a,u,p),a!==null?a.sibling:null);bu(u);break;case 19:var b=(a.flags&128)!==0;if(g=(p&u.childLanes)!==0,g||(r0(a,u,p,!1),g=(p&u.childLanes)!==0),b){if(g)return fj(a,u,p);u.flags|=128}if(b=u.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Lt(Zi,Zi.current),g)break;return null;case 22:case 23:return u.lanes=0,aj(a,u,p);case 24:Tu(u,Yi,a.memoizedState.cache)}return Xa(a,u,p)}function mj(a,u,p){if(a!==null)if(a.memoizedProps!==u.pendingProps)ur=!0;else{if(!_$(a,p)&&(u.flags&128)===0)return ur=!1,Cie(a,u,p);ur=(a.flags&131072)!==0}else ur=!1,_t&&(u.flags&1048576)!==0&&QI(u,pb,u.index);switch(u.lanes=0,u.tag){case 16:e:{a=u.pendingProps;var g=u.elementType,b=g._init;if(g=b(g._payload),u.type=g,typeof g=="function")j$(g)?(a=Mh(g,a),u.tag=1,u=cj(null,u,g,a,p)):(u.tag=0,u=p$(null,u,g,a,p));else{if(g!=null){if(b=g.$$typeof,b===x){u.tag=11,u=sj(null,u,g,a,p);break e}else if(b===O){u.tag=14,u=nj(null,u,g,a,p);break e}}throw u=X(g)||g,Error(r(306,u,""))}}return u;case 0:return p$(a,u,u.type,u.pendingProps,p);case 1:return g=u.type,b=Mh(g,u.pendingProps),cj(a,u,g,b,p);case 3:e:{if(Rp(u,u.stateNode.containerInfo),a===null)throw Error(r(387));var S=u.pendingProps;b=u.memoizedState,g=b.element,M$(a,u),o0(u,S,null,p);var E=u.memoizedState;if(S=E.cache,Tu(u,Yi,S),S!==b.cache&&T$(u,[Yi],p,!0),n0(),S=E.element,b.isDehydrated)if(b={element:S,isDehydrated:!1,cache:E.cache},u.updateQueue.baseState=b,u.memoizedState=b,u.flags&256){u=hj(a,u,S,p);break e}else if(S!==g){g=An(Error(r(424)),u),Hg(g),u=hj(a,u,S,p);break e}else for(_r=_o(u.stateNode.containerInfo.firstChild),rs=u,_t=!0,wo=null,na=!0,p=lP(u,null,S,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Gg(),S===g){u=Xa(a,u,p);break e}Sr(a,u,S,p)}u=u.child}return u;case 26:return i0(a,u),a===null?(p=vN(u.type,null,u.pendingProps,null))?u.memoizedState=p:_t||(p=u.type,a=u.pendingProps,g=Hb(ia.current).createElement(p),g[ar]=u,g[ri]=a,xr(g,p,a),Di(g),u.stateNode=g):u.memoizedState=vN(u.type,a.memoizedProps,u.pendingProps,a.memoizedState),null;case 27:return Cg(u),a===null&&_t&&(g=u.stateNode=mN(u.type,u.pendingProps,ia.current),rs=u,na=!0,_r=_o(g.firstChild)),g=u.pendingProps.children,a!==null||_t?Sr(a,u,g,p):u.child=_h(u,null,g,p),i0(a,u),u.child;case 5:return a===null&&_t&&((b=g=_r)&&(g=are(g,u.type,u.pendingProps,na),g!==null?(u.stateNode=g,rs=u,_r=_o(g.firstChild),na=!1,b=!0):b=!1),b||bh(u)),Cg(u),b=u.type,S=u.pendingProps,E=a!==null?a.memoizedProps:null,g=S.children,aM(b,S)?g=null:E!==null&&aM(b,E)&&(u.flags|=32),u.memoizedState!==null&&(b=Y3(a,u,Tie,null,null,p),_0._currentValue=b),i0(a,u),Sr(a,u,g,p),u.child;case 6:return a===null&&_t&&((a=p=_r)&&(p=lre(p,u.pendingProps,na),p!==null?(u.stateNode=p,rs=u,_r=null,a=!0):a=!1),a||bh(u)),null;case 13:return dj(a,u,p);case 4:return Rp(u,u.stateNode.containerInfo),g=u.pendingProps,a===null?u.child=_h(u,null,g,p):Sr(a,u,g,p),u.child;case 11:return sj(a,u,u.type,u.pendingProps,p);case 7:return Sr(a,u,u.pendingProps,p),u.child;case 8:return Sr(a,u,u.pendingProps.children,p),u.child;case 12:return Sr(a,u,u.pendingProps.children,p),u.child;case 10:return g=u.pendingProps,Tu(u,u.type,g.value),Sr(a,u,g.children,p),u.child;case 9:return b=u.type._context,g=u.pendingProps.children,Ah(u),b=Ir(b),g=g(b),u.flags|=1,Sr(a,u,g,p),u.child;case 14:return nj(a,u,u.type,u.pendingProps,p);case 15:return oj(a,u,u.type,u.pendingProps,p);case 19:return fj(a,u,p);case 22:return aj(a,u,p);case 24:return Ah(u),g=Ir(Yi),a===null?(b=W3(),b===null&&(b=Vt,S=G3(),b.pooledCache=S,S.refCount++,S!==null&&(b.pooledCacheLanes|=p),b=S),u.memoizedState={parent:g,cache:b},$$(u),Tu(u,Yi,b)):((a.lanes&p)!==0&&(M$(a,u),o0(u,null,null,p),n0()),b=a.memoizedState,S=u.memoizedState,b.parent!==g?(b={parent:g,cache:g},u.memoizedState=b,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=b),Tu(u,Yi,g)):(g=S.cache,Tu(u,Yi,g),g!==b.cache&&T$(u,[Yi],p,!0))),Sr(a,u,u.pendingProps.children,p),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}var S$=bt(null),Eh=null,Qa=null;function Tu(a,u,p){Lt(S$,u._currentValue),u._currentValue=p}function el(a){a._currentValue=S$.current,pi(S$)}function x$(a,u,p){for(;a!==null;){var g=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),a===p)break;a=a.return}}function T$(a,u,p,g){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var S=b.dependencies;if(S!==null){var E=b.child;S=S.firstContext;e:for(;S!==null;){var k=S;S=b;for(var D=0;D<u.length;D++)if(k.context===u[D]){S.lanes|=p,k=S.alternate,k!==null&&(k.lanes|=p),x$(S.return,p,a),g||(E=null);break e}S=k.next}}else if(b.tag===18){if(E=b.return,E===null)throw Error(r(341));E.lanes|=p,S=E.alternate,S!==null&&(S.lanes|=p),x$(E,p,a),E=null}else E=b.child;if(E!==null)E.return=b;else for(E=b;E!==null;){if(E===a){E=null;break}if(b=E.sibling,b!==null){b.return=E.return,E=b;break}E=E.return}b=E}}function r0(a,u,p,g){a=null;for(var b=u,S=!1;b!==null;){if(!S){if((b.flags&524288)!==0)S=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var E=b.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var k=b.type;Xs(b.pendingProps.value,E.value)||(a!==null?a.push(k):a=[k])}}else if(b===Cp.current){if(E=b.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(_0):a=[_0])}b=b.return}a!==null&&T$(u,a,p,g),u.flags|=262144}function kb(a){for(a=a.firstContext;a!==null;){if(!Xs(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ah(a){Eh=a,Qa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Ir(a){return yj(Eh,a)}function Cb(a,u){return Eh===null&&Ah(a),yj(a,u)}function yj(a,u){var p=u._currentValue;if(u={context:u,memoizedValue:p,next:null},Qa===null){if(a===null)throw Error(r(308));Qa=u,a.dependencies={lanes:0,firstContext:u},a.flags|=524288}else Qa=Qa.next=u;return p}var $u=!1;function $$(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function M$(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Mu(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Eu(a,u,p){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(ni&2)!==0){var b=g.pending;return b===null?u.next=u:(u.next=b.next,b.next=u),g.pending=u,u=hb(a),KI(a,null,p),u}return cb(a,g,u,p),hb(a)}function s0(a,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194176)!==0)){var g=u.lanes;g&=a.pendingLanes,p|=g,u.lanes=p,Ee(a,p)}}function E$(a,u){var p=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,p===g)){var b=null,S=null;if(p=p.firstBaseUpdate,p!==null){do{var E={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};S===null?b=S=E:S=S.next=E,p=p.next}while(p!==null);S===null?b=S=u:S=S.next=u}else b=S=u;p={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:g.shared,callbacks:g.callbacks},a.updateQueue=p;return}a=p.lastBaseUpdate,a===null?p.firstBaseUpdate=u:a.next=u,p.lastBaseUpdate=u}var A$=!1;function n0(){if(A$){var a=tf;if(a!==null)throw a}}function o0(a,u,p,g){A$=!1;var b=a.updateQueue;$u=!1;var S=b.firstBaseUpdate,E=b.lastBaseUpdate,k=b.shared.pending;if(k!==null){b.shared.pending=null;var D=k,U=D.next;D.next=null,E===null?S=U:E.next=U,E=D;var ne=a.alternate;ne!==null&&(ne=ne.updateQueue,k=ne.lastBaseUpdate,k!==E&&(k===null?ne.firstBaseUpdate=U:k.next=U,ne.lastBaseUpdate=D))}if(S!==null){var ue=b.baseState;E=0,ne=U=D=null,k=S;do{var K=k.lane&-536870913,ie=K!==k.lane;if(ie?(gt&K)===K:(g&K)===K){K!==0&&K===ef&&(A$=!0),ne!==null&&(ne=ne.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Pe=a,Je=k;K=u;var yi=p;switch(Je.tag){case 1:if(Pe=Je.payload,typeof Pe=="function"){ue=Pe.call(yi,ue,K);break e}ue=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Je.payload,K=typeof Pe=="function"?Pe.call(yi,ue,K):Pe,K==null)break e;ue=re({},ue,K);break e;case 2:$u=!0}}K=k.callback,K!==null&&(a.flags|=64,ie&&(a.flags|=8192),ie=b.callbacks,ie===null?b.callbacks=[K]:ie.push(K))}else ie={lane:K,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ne===null?(U=ne=ie,D=ue):ne=ne.next=ie,E|=K;if(k=k.next,k===null){if(k=b.shared.pending,k===null)break;ie=k,k=ie.next,ie.next=null,b.lastBaseUpdate=ie,b.shared.pending=null}}while(!0);ne===null&&(D=ue),b.baseState=D,b.firstBaseUpdate=U,b.lastBaseUpdate=ne,S===null&&(b.shared.lanes=0),Ru|=E,a.lanes=E,a.memoizedState=ue}}function gj(a,u){if(typeof a!="function")throw Error(r(191,a));a.call(u)}function vj(a,u){var p=a.callbacks;if(p!==null)for(a.callbacks=null,a=0;a<p.length;a++)gj(p[a],u)}function a0(a,u){try{var p=u.updateQueue,g=p!==null?p.lastEffect:null;if(g!==null){var b=g.next;p=b;do{if((p.tag&a)===a){g=void 0;var S=p.create,E=p.inst;g=S(),E.destroy=g}p=p.next}while(p!==b)}}catch(k){jt(u,u.return,k)}}function Au(a,u,p){try{var g=u.updateQueue,b=g!==null?g.lastEffect:null;if(b!==null){var S=b.next;g=S;do{if((g.tag&a)===a){var E=g.inst,k=E.destroy;if(k!==void 0){E.destroy=void 0,b=u;var D=p;try{k()}catch(U){jt(b,D,U)}}}g=g.next}while(g!==S)}}catch(U){jt(u,u.return,U)}}function wj(a){var u=a.updateQueue;if(u!==null){var p=a.stateNode;try{vj(u,p)}catch(g){jt(a,a.return,g)}}}function bj(a,u,p){p.props=Mh(a.type,a.memoizedProps),p.state=a.memoizedState;try{p.componentWillUnmount()}catch(g){jt(a,u,g)}}function Oh(a,u){try{var p=a.ref;if(p!==null){var g=a.stateNode;switch(a.tag){case 26:case 27:case 5:var b=g;break;default:b=g}typeof p=="function"?a.refCleanup=p(b):p.current=b}}catch(S){jt(a,u,S)}}function Qs(a,u){var p=a.ref,g=a.refCleanup;if(p!==null)if(typeof g=="function")try{g()}catch(b){jt(a,u,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(b){jt(a,u,b)}else p.current=null}function _j(a){var u=a.type,p=a.memoizedProps,g=a.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":p.autoFocus&&g.focus();break e;case"img":p.src?g.src=p.src:p.srcSet&&(g.srcset=p.srcSet)}}catch(b){jt(a,a.return,b)}}function Sj(a,u,p){try{var g=a.stateNode;ire(g,a.type,p,u),g[ri]=u}catch(b){jt(a,a.return,b)}}function xj(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27||a.tag===4}function O$(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||xj(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==27&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function k$(a,u,p){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?p.nodeType===8?p.parentNode.insertBefore(a,u):p.insertBefore(a,u):(p.nodeType===8?(u=p.parentNode,u.insertBefore(a,p)):(u=p,u.appendChild(a)),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=Gb));else if(g!==4&&g!==27&&(a=a.child,a!==null))for(k$(a,u,p),a=a.sibling;a!==null;)k$(a,u,p),a=a.sibling}function Rb(a,u,p){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?p.insertBefore(a,u):p.appendChild(a);else if(g!==4&&g!==27&&(a=a.child,a!==null))for(Rb(a,u,p),a=a.sibling;a!==null;)Rb(a,u,p),a=a.sibling}var tl=!1,fi=!1,C$=!1,Tj=typeof WeakSet=="function"?WeakSet:Set,cr=null,$j=!1;function Rie(a,u){if(a=a.containerInfo,nM=Xb,a=UI(a),I3(a)){if("selectionStart"in a)var p={start:a.selectionStart,end:a.selectionEnd};else e:{p=(p=a.ownerDocument)&&p.defaultView||window;var g=p.getSelection&&p.getSelection();if(g&&g.rangeCount!==0){p=g.anchorNode;var b=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{p.nodeType,S.nodeType}catch{p=null;break e}var E=0,k=-1,D=-1,U=0,ne=0,ue=a,K=null;t:for(;;){for(var ie;ue!==p||b!==0&&ue.nodeType!==3||(k=E+b),ue!==S||g!==0&&ue.nodeType!==3||(D=E+g),ue.nodeType===3&&(E+=ue.nodeValue.length),(ie=ue.firstChild)!==null;)K=ue,ue=ie;for(;;){if(ue===a)break t;if(K===p&&++U===b&&(k=E),K===S&&++ne===g&&(D=E),(ie=ue.nextSibling)!==null)break;ue=K,K=ue.parentNode}ue=ie}p=k===-1||D===-1?null:{start:k,end:D}}else p=null}p=p||{start:0,end:0}}else p=null;for(oM={focusedElem:a,selectionRange:p},Xb=!1,cr=u;cr!==null;)if(u=cr,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,cr=a;else for(;cr!==null;){switch(u=cr,S=u.alternate,a=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&S!==null){a=void 0,p=u,b=S.memoizedProps,S=S.memoizedState,g=p.stateNode;try{var Pe=Mh(p.type,b,p.elementType===p.type);a=g.getSnapshotBeforeUpdate(Pe,S),g.__reactInternalSnapshotBeforeUpdate=a}catch(Je){jt(p,p.return,Je)}}break;case 3:if((a&1024)!==0){if(a=u.stateNode.containerInfo,p=a.nodeType,p===9)cM(a);else if(p===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":cM(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=u.sibling,a!==null){a.return=u.return,cr=a;break}cr=u.return}return Pe=$j,$j=!1,Pe}function Mj(a,u,p){var g=p.flags;switch(p.tag){case 0:case 11:case 15:rl(a,p),g&4&&a0(5,p);break;case 1:if(rl(a,p),g&4)if(a=p.stateNode,u===null)try{a.componentDidMount()}catch(k){jt(p,p.return,k)}else{var b=Mh(p.type,u.memoizedProps);u=u.memoizedState;try{a.componentDidUpdate(b,u,a.__reactInternalSnapshotBeforeUpdate)}catch(k){jt(p,p.return,k)}}g&64&&wj(p),g&512&&Oh(p,p.return);break;case 3:if(rl(a,p),g&64&&(g=p.updateQueue,g!==null)){if(a=null,p.child!==null)switch(p.child.tag){case 27:case 5:a=p.child.stateNode;break;case 1:a=p.child.stateNode}try{vj(g,a)}catch(k){jt(p,p.return,k)}}break;case 26:rl(a,p),g&512&&Oh(p,p.return);break;case 27:case 5:rl(a,p),u===null&&g&4&&_j(p),g&512&&Oh(p,p.return);break;case 12:rl(a,p);break;case 13:rl(a,p),g&4&&Oj(a,p);break;case 22:if(b=p.memoizedState!==null||tl,!b){u=u!==null&&u.memoizedState!==null||fi;var S=tl,E=fi;tl=b,(fi=u)&&!E?Ou(a,p,(p.subtreeFlags&8772)!==0):rl(a,p),tl=S,fi=E}g&512&&(p.memoizedProps.mode==="manual"?Oh(p,p.return):Qs(p,p.return));break;default:rl(a,p)}}function Ej(a){var u=a.alternate;u!==null&&(a.alternate=null,Ej(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&Ig(u)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Fi=null,en=!1;function il(a,u,p){for(p=p.child;p!==null;)Aj(a,u,p),p=p.sibling}function Aj(a,u,p){if(es&&typeof es.onCommitFiberUnmount=="function")try{es.onCommitFiberUnmount(uh,p)}catch{}switch(p.tag){case 26:fi||Qs(p,u),il(a,u,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:fi||Qs(p,u);var g=Fi,b=en;for(Fi=p.stateNode,il(a,u,p),p=p.stateNode,u=p.attributes;u.length;)p.removeAttributeNode(u[0]);Ig(p),Fi=g,en=b;break;case 5:fi||Qs(p,u);case 6:b=Fi;var S=en;if(Fi=null,il(a,u,p),Fi=b,en=S,Fi!==null)if(en)try{a=Fi,g=p.stateNode,a.nodeType===8?a.parentNode.removeChild(g):a.removeChild(g)}catch(E){jt(p,u,E)}else try{Fi.removeChild(p.stateNode)}catch(E){jt(p,u,E)}break;case 18:Fi!==null&&(en?(u=Fi,p=p.stateNode,u.nodeType===8?uM(u.parentNode,p):u.nodeType===1&&uM(u,p),$0(u)):uM(Fi,p.stateNode));break;case 4:g=Fi,b=en,Fi=p.stateNode.containerInfo,en=!0,il(a,u,p),Fi=g,en=b;break;case 0:case 11:case 14:case 15:fi||Au(2,p,u),fi||Au(4,p,u),il(a,u,p);break;case 1:fi||(Qs(p,u),g=p.stateNode,typeof g.componentWillUnmount=="function"&&bj(p,u,g)),il(a,u,p);break;case 21:il(a,u,p);break;case 22:fi||Qs(p,u),fi=(g=fi)||p.memoizedState!==null,il(a,u,p),fi=g;break;default:il(a,u,p)}}function Oj(a,u){if(u.memoizedState===null&&(a=u.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{$0(a)}catch(p){jt(u,u.return,p)}}function Iie(a){switch(a.tag){case 13:case 19:var u=a.stateNode;return u===null&&(u=a.stateNode=new Tj),u;case 22:return a=a.stateNode,u=a._retryCache,u===null&&(u=a._retryCache=new Tj),u;default:throw Error(r(435,a.tag))}}function R$(a,u){var p=Iie(a);u.forEach(function(g){var b=Hie.bind(null,a,g);p.has(g)||(p.add(g),g.then(b,b))})}function Rn(a,u){var p=u.deletions;if(p!==null)for(var g=0;g<p.length;g++){var b=p[g],S=a,E=u,k=E;e:for(;k!==null;){switch(k.tag){case 27:case 5:Fi=k.stateNode,en=!1;break e;case 3:Fi=k.stateNode.containerInfo,en=!0;break e;case 4:Fi=k.stateNode.containerInfo,en=!0;break e}k=k.return}if(Fi===null)throw Error(r(160));Aj(S,E,b),Fi=null,en=!1,S=b.alternate,S!==null&&(S.return=null),b.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)kj(u,a),u=u.sibling}var bo=null;function kj(a,u){var p=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Rn(u,a),In(a),g&4&&(Au(3,a,a.return),a0(3,a),Au(5,a,a.return));break;case 1:Rn(u,a),In(a),g&512&&(fi||p===null||Qs(p,p.return)),g&64&&tl&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(p=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=p===null?g:p.concat(g))));break;case 26:var b=bo;if(Rn(u,a),In(a),g&512&&(fi||p===null||Qs(p,p.return)),g&4){var S=p!==null?p.memoizedState:null;if(g=a.memoizedState,p===null)if(g===null)if(a.stateNode===null){e:{g=a.type,p=a.memoizedProps,b=b.ownerDocument||b;t:switch(g){case"title":S=b.getElementsByTagName("title")[0],(!S||S[ph]||S[ar]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=b.createElement(g),b.head.insertBefore(S,b.querySelector("head > title"))),xr(S,g,p),S[ar]=a,Di(S),g=S;break e;case"link":var E=_N("link","href",b).get(g+(p.href||""));if(E){for(var k=0;k<E.length;k++)if(S=E[k],S.getAttribute("href")===(p.href==null?null:p.href)&&S.getAttribute("rel")===(p.rel==null?null:p.rel)&&S.getAttribute("title")===(p.title==null?null:p.title)&&S.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){E.splice(k,1);break t}}S=b.createElement(g),xr(S,g,p),b.head.appendChild(S);break;case"meta":if(E=_N("meta","content",b).get(g+(p.content||""))){for(k=0;k<E.length;k++)if(S=E[k],S.getAttribute("content")===(p.content==null?null:""+p.content)&&S.getAttribute("name")===(p.name==null?null:p.name)&&S.getAttribute("property")===(p.property==null?null:p.property)&&S.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&S.getAttribute("charset")===(p.charSet==null?null:p.charSet)){E.splice(k,1);break t}}S=b.createElement(g),xr(S,g,p),b.head.appendChild(S);break;default:throw Error(r(468,g))}S[ar]=a,Di(S),g=S}a.stateNode=g}else SN(b,a.type,a.stateNode);else a.stateNode=bN(b,g,a.memoizedProps);else S!==g?(S===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):S.count--,g===null?SN(b,a.type,a.stateNode):bN(b,g,a.memoizedProps)):g===null&&a.stateNode!==null&&Sj(a,a.memoizedProps,p.memoizedProps)}break;case 27:if(g&4&&a.alternate===null){b=a.stateNode,S=a.memoizedProps;try{for(var D=b.firstChild;D;){var U=D.nextSibling,ne=D.nodeName;D[ph]||ne==="HEAD"||ne==="BODY"||ne==="SCRIPT"||ne==="STYLE"||ne==="LINK"&&D.rel.toLowerCase()==="stylesheet"||b.removeChild(D),D=U}for(var ue=a.type,K=b.attributes;K.length;)b.removeAttributeNode(K[0]);xr(b,ue,S),b[ar]=a,b[ri]=S}catch(Pe){jt(a,a.return,Pe)}}case 5:if(Rn(u,a),In(a),g&512&&(fi||p===null||Qs(p,p.return)),a.flags&32){b=a.stateNode;try{Up(b,"")}catch(Pe){jt(a,a.return,Pe)}}g&4&&a.stateNode!=null&&(b=a.memoizedProps,Sj(a,b,p!==null?p.memoizedProps:b)),g&1024&&(C$=!0);break;case 6:if(Rn(u,a),In(a),g&4){if(a.stateNode===null)throw Error(r(162));g=a.memoizedProps,p=a.stateNode;try{p.nodeValue=g}catch(Pe){jt(a,a.return,Pe)}}break;case 3:if(Yb=null,b=bo,bo=Wb(u.containerInfo),Rn(u,a),bo=b,In(a),g&4&&p!==null&&p.memoizedState.isDehydrated)try{$0(u.containerInfo)}catch(Pe){jt(a,a.return,Pe)}C$&&(C$=!1,Cj(a));break;case 4:g=bo,bo=Wb(a.stateNode.containerInfo),Rn(u,a),In(a),bo=g;break;case 12:Rn(u,a),In(a);break;case 13:Rn(u,a),In(a),a.child.flags&8192&&a.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(z$=$n()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,R$(a,g)));break;case 22:if(g&512&&(fi||p===null||Qs(p,p.return)),D=a.memoizedState!==null,U=p!==null&&p.memoizedState!==null,ne=tl,ue=fi,tl=ne||D,fi=ue||U,Rn(u,a),fi=ue,tl=ne,In(a),u=a.stateNode,u._current=a,u._visibility&=-3,u._visibility|=u._pendingVisibility&2,g&8192&&(u._visibility=D?u._visibility&-2:u._visibility|1,D&&(u=tl||fi,p===null||U||u||of(a)),a.memoizedProps===null||a.memoizedProps.mode!=="manual"))e:for(p=null,u=a;;){if(u.tag===5||u.tag===26||u.tag===27){if(p===null){U=p=u;try{if(b=U.stateNode,D)S=b.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{E=U.stateNode,k=U.memoizedProps.style;var ie=k!=null&&k.hasOwnProperty("display")?k.display:null;E.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Pe){jt(U,U.return,Pe)}}}else if(u.tag===6){if(p===null){U=u;try{U.stateNode.nodeValue=D?"":U.memoizedProps}catch(Pe){jt(U,U.return,Pe)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===a)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break e;for(;u.sibling===null;){if(u.return===null||u.return===a)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}g&4&&(g=a.updateQueue,g!==null&&(p=g.retryQueue,p!==null&&(g.retryQueue=null,R$(a,p))));break;case 19:Rn(u,a),In(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,R$(a,g)));break;case 21:break;default:Rn(u,a),In(a)}}function In(a){var u=a.flags;if(u&2){try{if(a.tag!==27){e:{for(var p=a.return;p!==null;){if(xj(p)){var g=p;break e}p=p.return}throw Error(r(160))}switch(g.tag){case 27:var b=g.stateNode,S=O$(a);Rb(a,S,b);break;case 5:var E=g.stateNode;g.flags&32&&(Up(E,""),g.flags&=-33);var k=O$(a);Rb(a,k,E);break;case 3:case 4:var D=g.stateNode.containerInfo,U=O$(a);k$(a,U,D);break;default:throw Error(r(161))}}}catch(ne){jt(a,a.return,ne)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function Cj(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var u=a;Cj(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),a=a.sibling}}function rl(a,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Mj(a,u.alternate,u),u=u.sibling}function of(a){for(a=a.child;a!==null;){var u=a;switch(u.tag){case 0:case 11:case 14:case 15:Au(4,u,u.return),of(u);break;case 1:Qs(u,u.return);var p=u.stateNode;typeof p.componentWillUnmount=="function"&&bj(u,u.return,p),of(u);break;case 26:case 27:case 5:Qs(u,u.return),of(u);break;case 22:Qs(u,u.return),u.memoizedState===null&&of(u);break;default:of(u)}a=a.sibling}}function Ou(a,u,p){for(p=p&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var g=u.alternate,b=a,S=u,E=S.flags;switch(S.tag){case 0:case 11:case 15:Ou(b,S,p),a0(4,S);break;case 1:if(Ou(b,S,p),g=S,b=g.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(U){jt(g,g.return,U)}if(g=S,b=g.updateQueue,b!==null){var k=g.stateNode;try{var D=b.shared.hiddenCallbacks;if(D!==null)for(b.shared.hiddenCallbacks=null,b=0;b<D.length;b++)gj(D[b],k)}catch(U){jt(g,g.return,U)}}p&&E&64&&wj(S),Oh(S,S.return);break;case 26:case 27:case 5:Ou(b,S,p),p&&g===null&&E&4&&_j(S),Oh(S,S.return);break;case 12:Ou(b,S,p);break;case 13:Ou(b,S,p),p&&E&4&&Oj(b,S);break;case 22:S.memoizedState===null&&Ou(b,S,p),Oh(S,S.return);break;default:Ou(b,S,p)}u=u.sibling}}function I$(a,u){var p=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),a=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(a=u.memoizedState.cachePool.pool),a!==p&&(a!=null&&a.refCount++,p!=null&&Kg(p))}function P$(a,u){a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&Kg(a))}function ku(a,u,p,g){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Rj(a,u,p,g),u=u.sibling}function Rj(a,u,p,g){var b=u.flags;switch(u.tag){case 0:case 11:case 15:ku(a,u,p,g),b&2048&&a0(9,u);break;case 3:ku(a,u,p,g),b&2048&&(a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&Kg(a)));break;case 12:if(b&2048){ku(a,u,p,g),a=u.stateNode;try{var S=u.memoizedProps,E=S.id,k=S.onPostCommit;typeof k=="function"&&k(E,u.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(D){jt(u,u.return,D)}}else ku(a,u,p,g);break;case 23:break;case 22:S=u.stateNode,u.memoizedState!==null?S._visibility&4?ku(a,u,p,g):l0(a,u):S._visibility&4?ku(a,u,p,g):(S._visibility|=4,af(a,u,p,g,(u.subtreeFlags&10256)!==0)),b&2048&&I$(u.alternate,u);break;case 24:ku(a,u,p,g),b&2048&&P$(u.alternate,u);break;default:ku(a,u,p,g)}}function af(a,u,p,g,b){for(b=b&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var S=a,E=u,k=p,D=g,U=E.flags;switch(E.tag){case 0:case 11:case 15:af(S,E,k,D,b),a0(8,E);break;case 23:break;case 22:var ne=E.stateNode;E.memoizedState!==null?ne._visibility&4?af(S,E,k,D,b):l0(S,E):(ne._visibility|=4,af(S,E,k,D,b)),b&&U&2048&&I$(E.alternate,E);break;case 24:af(S,E,k,D,b),b&&U&2048&&P$(E.alternate,E);break;default:af(S,E,k,D,b)}u=u.sibling}}function l0(a,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var p=a,g=u,b=g.flags;switch(g.tag){case 22:l0(p,g),b&2048&&I$(g.alternate,g);break;case 24:l0(p,g),b&2048&&P$(g.alternate,g);break;default:l0(p,g)}u=u.sibling}}var u0=8192;function lf(a){if(a.subtreeFlags&u0)for(a=a.child;a!==null;)Ij(a),a=a.sibling}function Ij(a){switch(a.tag){case 26:lf(a),a.flags&u0&&a.memoizedState!==null&&_re(bo,a.memoizedState,a.memoizedProps);break;case 5:lf(a);break;case 3:case 4:var u=bo;bo=Wb(a.stateNode.containerInfo),lf(a),bo=u;break;case 22:a.memoizedState===null&&(u=a.alternate,u!==null&&u.memoizedState!==null?(u=u0,u0=16777216,lf(a),u0=u):lf(a));break;default:lf(a)}}function Pj(a){var u=a.alternate;if(u!==null&&(a=u.child,a!==null)){u.child=null;do u=a.sibling,a.sibling=null,a=u;while(a!==null)}}function c0(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var g=u[p];cr=g,Nj(g,a)}Pj(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)jj(a),a=a.sibling}function jj(a){switch(a.tag){case 0:case 11:case 15:c0(a),a.flags&2048&&Au(9,a,a.return);break;case 3:c0(a);break;case 12:c0(a);break;case 22:var u=a.stateNode;a.memoizedState!==null&&u._visibility&4&&(a.return===null||a.return.tag!==13)?(u._visibility&=-5,Ib(a)):c0(a);break;default:c0(a)}}function Ib(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var g=u[p];cr=g,Nj(g,a)}Pj(a)}for(a=a.child;a!==null;){switch(u=a,u.tag){case 0:case 11:case 15:Au(8,u,u.return),Ib(u);break;case 22:p=u.stateNode,p._visibility&4&&(p._visibility&=-5,Ib(u));break;default:Ib(u)}a=a.sibling}}function Nj(a,u){for(;cr!==null;){var p=cr;switch(p.tag){case 0:case 11:case 15:Au(8,p,u);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var g=p.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Kg(p.memoizedState.cache)}if(g=p.child,g!==null)g.return=p,cr=g;else e:for(p=a;cr!==null;){g=cr;var b=g.sibling,S=g.return;if(Ej(g),g===p){cr=null;break e}if(b!==null){b.return=S,cr=b;break e}cr=S}}}function Pie(a,u,p,g){this.tag=a,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(a,u,p,g){return new Pie(a,u,p,g)}function j$(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Cu(a,u){var p=a.alternate;return p===null?(p=Pn(a.tag,u,a.key,a.mode),p.elementType=a.elementType,p.type=a.type,p.stateNode=a.stateNode,p.alternate=a,a.alternate=p):(p.pendingProps=u,p.type=a.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=a.flags&31457280,p.childLanes=a.childLanes,p.lanes=a.lanes,p.child=a.child,p.memoizedProps=a.memoizedProps,p.memoizedState=a.memoizedState,p.updateQueue=a.updateQueue,u=a.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=a.sibling,p.index=a.index,p.ref=a.ref,p.refCleanup=a.refCleanup,p}function Dj(a,u){a.flags&=31457282;var p=a.alternate;return p===null?(a.childLanes=0,a.lanes=u,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=p.childLanes,a.lanes=p.lanes,a.child=p.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=p.memoizedProps,a.memoizedState=p.memoizedState,a.updateQueue=p.updateQueue,a.type=p.type,u=p.dependencies,a.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),a}function Pb(a,u,p,g,b,S){var E=0;if(g=a,typeof a=="function")j$(a)&&(E=1);else if(typeof a=="string")E=wre(a,p,xn.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case c:return kh(p.children,b,S,u);case d:E=8,b|=24;break;case m:return a=Pn(12,p,u,b|2),a.elementType=m,a.lanes=S,a;case T:return a=Pn(13,p,u,b),a.elementType=T,a.lanes=S,a;case M:return a=Pn(19,p,u,b),a.elementType=M,a.lanes=S,a;case R:return Lj(p,b,S,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case v:case _:E=10;break e;case w:E=9;break e;case x:E=11;break e;case O:E=14;break e;case C:E=16,g=null;break e}E=29,p=Error(r(130,a===null?"null":typeof a,"")),g=null}return u=Pn(E,p,u,b),u.elementType=a,u.type=g,u.lanes=S,u}function kh(a,u,p,g){return a=Pn(7,a,g,u),a.lanes=p,a}function Lj(a,u,p,g){a=Pn(22,a,g,u),a.elementType=R,a.lanes=p;var b={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var S=b._current;if(S===null)throw Error(r(456));if((b._pendingVisibility&2)===0){var E=wu(S,2);E!==null&&(b._pendingVisibility|=2,ss(E,S,2))}},attach:function(){var S=b._current;if(S===null)throw Error(r(456));if((b._pendingVisibility&2)!==0){var E=wu(S,2);E!==null&&(b._pendingVisibility&=-3,ss(E,S,2))}}};return a.stateNode=b,a}function N$(a,u,p){return a=Pn(6,a,null,u),a.lanes=p,a}function D$(a,u,p){return u=Pn(4,a.children!==null?a.children:[],a.key,u),u.lanes=p,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function sl(a){a.flags|=4}function Vj(a,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!xN(u)){if(u=Cn.current,u!==null&&((gt&4194176)===gt?oa!==null:(gt&62914560)!==gt&&(gt&536870912)===0||u!==oa))throw Zg=U3,iP;a.flags|=8192}}function jb(a,u){u!==null&&(a.flags|=4),a.flags&16384&&(u=a.tag!==22?Pt():536870912,a.lanes|=u,cf|=u)}function h0(a,u){if(!_t)switch(a.tailMode){case"hidden":u=a.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?a.tail=null:p.sibling=null;break;case"collapsed":p=a.tail;for(var g=null;p!==null;)p.alternate!==null&&(g=p),p=p.sibling;g===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function si(a){var u=a.alternate!==null&&a.alternate.child===a.child,p=0,g=0;if(u)for(var b=a.child;b!==null;)p|=b.lanes|b.childLanes,g|=b.subtreeFlags&31457280,g|=b.flags&31457280,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)p|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=g,a.childLanes=p,u}function jie(a,u,p){var g=u.pendingProps;switch(F3(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return si(u),null;case 1:return si(u),null;case 3:return p=u.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),el(Yi),fu(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(a===null||a.child===null)&&(Bg(u)?sl(u):a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,wo!==null&&(G$(wo),wo=null))),si(u),null;case 26:return p=u.memoizedState,a===null?(sl(u),p!==null?(si(u),Vj(u,p)):(si(u),u.flags&=-16777217)):p?p!==a.memoizedState?(sl(u),si(u),Vj(u,p)):(si(u),u.flags&=-16777217):(a.memoizedProps!==g&&sl(u),si(u),u.flags&=-16777217),null;case 27:Ip(u),p=ia.current;var b=u.type;if(a!==null&&u.stateNode!=null)a.memoizedProps!==g&&sl(u);else{if(!g){if(u.stateNode===null)throw Error(r(166));return si(u),null}a=xn.current,Bg(u)?eP(u):(a=mN(b,g,p),u.stateNode=a,sl(u))}return si(u),null;case 5:if(Ip(u),p=u.type,a!==null&&u.stateNode!=null)a.memoizedProps!==g&&sl(u);else{if(!g){if(u.stateNode===null)throw Error(r(166));return si(u),null}if(a=xn.current,Bg(u))eP(u);else{switch(b=Hb(ia.current),a){case 1:a=b.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:a=b.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":a=b.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":a=b.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":a=b.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof g.is=="string"?b.createElement("select",{is:g.is}):b.createElement("select"),g.multiple?a.multiple=!0:g.size&&(a.size=g.size);break;default:a=typeof g.is=="string"?b.createElement(p,{is:g.is}):b.createElement(p)}}a[ar]=u,a[ri]=g;e:for(b=u.child;b!==null;){if(b.tag===5||b.tag===6)a.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===u)break e;for(;b.sibling===null;){if(b.return===null||b.return===u)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}u.stateNode=a;e:switch(xr(a,p,g),p){case"button":case"input":case"select":case"textarea":a=!!g.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&sl(u)}}return si(u),u.flags&=-16777217,null;case 6:if(a&&u.stateNode!=null)a.memoizedProps!==g&&sl(u);else{if(typeof g!="string"&&u.stateNode===null)throw Error(r(166));if(a=ia.current,Bg(u)){if(a=u.stateNode,p=u.memoizedProps,g=null,b=rs,b!==null)switch(b.tag){case 27:case 5:g=b.memoizedProps}a[ar]=u,a=!!(a.nodeValue===p||g!==null&&g.suppressHydrationWarning===!0||uN(a.nodeValue,p)),a||bh(u)}else a=Hb(a).createTextNode(g),a[ar]=u,u.stateNode=a}return si(u),null;case 13:if(g=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=Bg(u),g!==null&&g.dehydrated!==null){if(a===null){if(!b)throw Error(r(318));if(b=u.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[ar]=u}else Gg(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;si(u),b=!1}else wo!==null&&(G$(wo),wo=null),b=!0;if(!b)return u.flags&256?(Ja(u),u):(Ja(u),null)}if(Ja(u),(u.flags&128)!==0)return u.lanes=p,u;if(p=g!==null,a=a!==null&&a.memoizedState!==null,p){g=u.child,b=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(b=g.alternate.memoizedState.cachePool.pool);var S=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(S=g.memoizedState.cachePool.pool),S!==b&&(g.flags|=2048)}return p!==a&&p&&(u.child.flags|=8192),jb(u,u.updateQueue),si(u),null;case 4:return fu(),a===null&&iM(u.stateNode.containerInfo),si(u),null;case 10:return el(u.type),si(u),null;case 19:if(pi(Zi),b=u.memoizedState,b===null)return si(u),null;if(g=(u.flags&128)!==0,S=b.rendering,S===null)if(g)h0(b,!1);else{if(mi!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if(S=vb(a),S!==null){for(u.flags|=128,h0(b,!1),a=S.updateQueue,u.updateQueue=a,jb(u,a),u.subtreeFlags=0,a=p,p=u.child;p!==null;)Dj(p,a),p=p.sibling;return Lt(Zi,Zi.current&1|2),u.child}a=a.sibling}b.tail!==null&&$n()>Nb&&(u.flags|=128,g=!0,h0(b,!1),u.lanes=4194304)}else{if(!g)if(a=vb(S),a!==null){if(u.flags|=128,g=!0,a=a.updateQueue,u.updateQueue=a,jb(u,a),h0(b,!0),b.tail===null&&b.tailMode==="hidden"&&!S.alternate&&!_t)return si(u),null}else 2*$n()-b.renderingStartTime>Nb&&p!==536870912&&(u.flags|=128,g=!0,h0(b,!1),u.lanes=4194304);b.isBackwards?(S.sibling=u.child,u.child=S):(a=b.last,a!==null?a.sibling=S:u.child=S,b.last=S)}return b.tail!==null?(u=b.tail,b.rendering=u,b.tail=u.sibling,b.renderingStartTime=$n(),u.sibling=null,a=Zi.current,Lt(Zi,g?a&1|2:a&1),u):(si(u),null);case 22:case 23:return Ja(u),B3(),g=u.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(u.flags|=8192):g&&(u.flags|=8192),g?(p&536870912)!==0&&(u.flags&128)===0&&(si(u),u.subtreeFlags&6&&(u.flags|=8192)):si(u),p=u.updateQueue,p!==null&&jb(u,p.retryQueue),p=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==p&&(u.flags|=2048),a!==null&&pi(Sh),null;case 24:return p=null,a!==null&&(p=a.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),el(Yi),si(u),null;case 25:return null}throw Error(r(156,u.tag))}function Nie(a,u){switch(F3(u),u.tag){case 1:return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return el(Yi),fu(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 26:case 27:case 5:return Ip(u),null;case 13:if(Ja(u),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Gg()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return pi(Zi),null;case 4:return fu(),null;case 10:return el(u.type),null;case 22:case 23:return Ja(u),B3(),a!==null&&pi(Sh),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 24:return el(Yi),null;case 25:return null;default:return null}}function Fj(a,u){switch(F3(u),u.tag){case 3:el(Yi),fu();break;case 26:case 27:case 5:Ip(u);break;case 4:fu();break;case 13:Ja(u);break;case 19:pi(Zi);break;case 10:el(u.type);break;case 22:case 23:Ja(u),B3(),a!==null&&pi(Sh);break;case 24:el(Yi)}}var Die={getCacheForType:function(a){var u=Ir(Yi),p=u.data.get(a);return p===void 0&&(p=a(),u.data.set(a,p)),p}},Lie=typeof WeakMap=="function"?WeakMap:Map,ni=0,Vt=null,lt=null,gt=0,Ft=0,tn=null,nl=!1,uf=!1,L$=!1,ol=0,mi=0,Ru=0,Ch=0,V$=0,jn=0,cf=0,d0=null,la=null,F$=!1,z$=0,Nb=1/0,Db=null,Iu=null,Lb=!1,Rh=null,p0=0,U$=0,q$=null,f0=0,B$=null;function rn(){if((ni&2)!==0&&gt!==0)return gt&-gt;if(J.T!==null){var a=ef;return a!==0?a:X$()}return Qw()}function zj(){jn===0&&(jn=(gt&536870912)===0||_t?Q():536870912);var a=Cn.current;return a!==null&&(a.flags|=32),jn}function ss(a,u,p){(a===Vt&&Ft===2||a.cancelPendingCommit!==null)&&(hf(a,0),al(a,gt,jn,!1)),mo(a,p),((ni&2)===0||a!==Vt)&&(a===Vt&&((ni&2)===0&&(Ch|=p),mi===4&&al(a,gt,jn,!1)),ua(a))}function Uj(a,u,p){if((ni&6)!==0)throw Error(r(327));var g=!p&&(u&60)===0&&(u&a.expiredLanes)===0||ch(a,u),b=g?zie(a,u):Z$(a,u,!0),S=g;do{if(b===0){uf&&!g&&al(a,u,0,!1);break}else if(b===6)al(a,u,0,!nl);else{if(p=a.current.alternate,S&&!Vie(p)){b=Z$(a,u,!1),S=!1;continue}if(b===2){if(S=u,a.errorRecoveryDisabledLanes&S)var E=0;else E=a.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){u=E;e:{var k=a;b=d0;var D=k.current.memoizedState.isDehydrated;if(D&&(hf(k,E).flags|=256),E=Z$(k,E,!1),E!==2){if(L$&&!D){k.errorRecoveryDisabledLanes|=S,Ch|=S,b=4;break e}S=la,la=b,S!==null&&G$(S)}b=E}if(S=!1,b!==2)continue}}if(b===1){hf(a,0),al(a,u,0,!0);break}e:{switch(g=a,b){case 0:case 1:throw Error(r(345));case 4:if((u&4194176)===u){al(g,u,jn,!nl);break e}break;case 2:la=null;break;case 3:case 5:break;default:throw Error(r(329))}if(g.finishedWork=p,g.finishedLanes=u,(u&62914560)===u&&(S=z$+300-$n(),10<S)){if(al(g,u,jn,!nl),Vp(g,0)!==0)break e;g.timeoutHandle=dN(qj.bind(null,g,p,la,Db,F$,u,jn,Ch,cf,nl,2,-0,0),S);break e}qj(g,p,la,Db,F$,u,jn,Ch,cf,nl,0,-0,0)}}break}while(!0);ua(a)}function G$(a){la===null?la=a:la.push.apply(la,a)}function qj(a,u,p,g,b,S,E,k,D,U,ne,ue,K){var ie=u.subtreeFlags;if((ie&8192||(ie&16785408)===16785408)&&(b0={stylesheets:null,count:0,unsuspend:bre},Ij(u),u=Sre(),u!==null)){a.cancelPendingCommit=u(Jj.bind(null,a,p,g,b,E,k,D,1,ue,K)),al(a,S,E,!U);return}Jj(a,p,g,b,E,k,D,ne,ue,K)}function Vie(a){for(var u=a;;){var p=u.tag;if((p===0||p===11||p===15)&&u.flags&16384&&(p=u.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var g=0;g<p.length;g++){var b=p[g],S=b.getSnapshot;b=b.value;try{if(!Xs(S(),b))return!1}catch{return!1}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function al(a,u,p,g){u&=~V$,u&=~Ch,a.suspendedLanes|=u,a.pingedLanes&=~u,g&&(a.warmLanes|=u),g=a.expirationTimes;for(var b=u;0<b;){var S=31-ts(b),E=1<<S;g[S]=-1,b&=~E}p!==0&&hh(a,p,u)}function Vb(){return(ni&6)===0?(m0(0),!1):!0}function H$(){if(lt!==null){if(Ft===0)var a=lt.return;else a=lt,Qa=Eh=null,X3(a),Xp=null,Yg=0,a=lt;for(;a!==null;)Fj(a.alternate,a),a=a.return;lt=null}}function hf(a,u){a.finishedWork=null,a.finishedLanes=0;var p=a.timeoutHandle;p!==-1&&(a.timeoutHandle=-1,sre(p)),p=a.cancelPendingCommit,p!==null&&(a.cancelPendingCommit=null,p()),H$(),Vt=a,lt=p=Cu(a.current,null),gt=u,Ft=0,tn=null,nl=!1,uf=ch(a,u),L$=!1,cf=jn=V$=Ch=Ru=mi=0,la=d0=null,F$=!1,(u&8)!==0&&(u|=u&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=u;0<g;){var b=31-ts(g),S=1<<b;u|=a[b],g&=~S}return ol=u,ub(),p}function Bj(a,u){st=null,J.H=aa,u===Wg?(u=nP(),Ft=3):u===iP?(u=nP(),Ft=4):Ft=u===rj?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,tn=u,lt===null&&(mi=1,Ob(a,An(u,a.current)))}function Gj(){var a=J.H;return J.H=aa,a===null?aa:a}function Hj(){var a=J.A;return J.A=Die,a}function W$(){mi=4,nl||(gt&4194176)!==gt&&Cn.current!==null||(uf=!0),(Ru&134217727)===0&&(Ch&134217727)===0||Vt===null||al(Vt,gt,jn,!1)}function Z$(a,u,p){var g=ni;ni|=2;var b=Gj(),S=Hj();(Vt!==a||gt!==u)&&(Db=null,hf(a,u)),u=!1;var E=mi;e:do try{if(Ft!==0&&lt!==null){var k=lt,D=tn;switch(Ft){case 8:H$(),E=6;break e;case 3:case 2:case 6:Cn.current===null&&(u=!0);var U=Ft;if(Ft=0,tn=null,df(a,k,D,U),p&&uf){E=0;break e}break;default:U=Ft,Ft=0,tn=null,df(a,k,D,U)}}Fie(),E=mi;break}catch(ne){Bj(a,ne)}while(!0);return u&&a.shellSuspendCounter++,Qa=Eh=null,ni=g,J.H=b,J.A=S,lt===null&&(Vt=null,gt=0,ub()),E}function Fie(){for(;lt!==null;)Wj(lt)}function zie(a,u){var p=ni;ni|=2;var g=Gj(),b=Hj();Vt!==a||gt!==u?(Db=null,Nb=$n()+500,hf(a,u)):uf=ch(a,u);e:do try{if(Ft!==0&&lt!==null){u=lt;var S=tn;t:switch(Ft){case 1:Ft=0,tn=null,df(a,u,S,1);break;case 2:if(rP(S)){Ft=0,tn=null,Zj(u);break}u=function(){Ft===2&&Vt===a&&(Ft=7),ua(a)},S.then(u,u);break e;case 3:Ft=7;break e;case 4:Ft=5;break e;case 7:rP(S)?(Ft=0,tn=null,Zj(u)):(Ft=0,tn=null,df(a,u,S,7));break;case 5:var E=null;switch(lt.tag){case 26:E=lt.memoizedState;case 5:case 27:var k=lt;if(!E||xN(E)){Ft=0,tn=null;var D=k.sibling;if(D!==null)lt=D;else{var U=k.return;U!==null?(lt=U,Fb(U)):lt=null}break t}}Ft=0,tn=null,df(a,u,S,5);break;case 6:Ft=0,tn=null,df(a,u,S,6);break;case 8:H$(),mi=6;break e;default:throw Error(r(462))}}Uie();break}catch(ne){Bj(a,ne)}while(!0);return Qa=Eh=null,J.H=g,J.A=b,ni=p,lt!==null?0:(Vt=null,gt=0,ub(),mi)}function Uie(){for(;lt!==null&&!n3();)Wj(lt)}function Wj(a){var u=mj(a.alternate,a,ol);a.memoizedProps=a.pendingProps,u===null?Fb(a):lt=u}function Zj(a){var u=a,p=u.alternate;switch(u.tag){case 15:case 0:u=uj(p,u,u.pendingProps,u.type,void 0,gt);break;case 11:u=uj(p,u,u.pendingProps,u.type.render,u.ref,gt);break;case 5:X3(u);default:Fj(p,u),u=lt=Dj(u,ol),u=mj(p,u,ol)}a.memoizedProps=a.pendingProps,u===null?Fb(a):lt=u}function df(a,u,p,g){Qa=Eh=null,X3(u),Xp=null,Yg=0;var b=u.return;try{if(kie(a,b,u,p,gt)){mi=1,Ob(a,An(p,a.current)),lt=null;return}}catch(S){if(b!==null)throw lt=b,S;mi=1,Ob(a,An(p,a.current)),lt=null;return}u.flags&32768?(_t||g===1?a=!0:uf||(gt&536870912)!==0?a=!1:(nl=a=!0,(g===2||g===3||g===6)&&(g=Cn.current,g!==null&&g.tag===13&&(g.flags|=16384))),Yj(u,a)):Fb(u)}function Fb(a){var u=a;do{if((u.flags&32768)!==0){Yj(u,nl);return}a=u.return;var p=jie(u.alternate,u,ol);if(p!==null){lt=p;return}if(u=u.sibling,u!==null){lt=u;return}lt=u=a}while(u!==null);mi===0&&(mi=5)}function Yj(a,u){do{var p=Nie(a.alternate,a);if(p!==null){p.flags&=32767,lt=p;return}if(p=a.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!u&&(a=a.sibling,a!==null)){lt=a;return}lt=a=p}while(a!==null);mi=6,lt=null}function Jj(a,u,p,g,b,S,E,k,D,U){var ne=J.T,ue=Te.p;try{Te.p=2,J.T=null,qie(a,u,p,g,ue,b,S,E,k,D,U)}finally{J.T=ne,Te.p=ue}}function qie(a,u,p,g,b,S,E,k){do pf();while(Rh!==null);if((ni&6)!==0)throw Error(r(327));var D=a.finishedWork;if(g=a.finishedLanes,D===null)return null;if(a.finishedWork=null,a.finishedLanes=0,D===a.current)throw Error(r(177));a.callbackNode=null,a.callbackPriority=0,a.cancelPendingCommit=null;var U=D.lanes|D.childLanes;if(U|=D3,Ks(a,g,U,S,E,k),a===Vt&&(lt=Vt=null,gt=0),(D.subtreeFlags&10256)===0&&(D.flags&10256)===0||Lb||(Lb=!0,U$=U,q$=p,Wie(Np,function(){return pf(),null})),p=(D.flags&15990)!==0,(D.subtreeFlags&15990)!==0||p?(p=J.T,J.T=null,S=Te.p,Te.p=2,E=ni,ni|=4,Rie(a,D),kj(D,a),pie(oM,a.containerInfo),Xb=!!nM,oM=nM=null,a.current=D,Mj(a,D.alternate,D),o3(),ni=E,Te.p=S,J.T=p):a.current=D,Lb?(Lb=!1,Rh=a,p0=g):Kj(a,U),U=a.pendingLanes,U===0&&(Iu=null),c3(D.stateNode),ua(a),u!==null)for(b=a.onRecoverableError,D=0;D<u.length;D++)U=u[D],b(U.value,{componentStack:U.stack});return(p0&3)!==0&&pf(),U=a.pendingLanes,(g&4194218)!==0&&(U&42)!==0?a===B$?f0++:(f0=0,B$=a):f0=0,m0(0),null}function Kj(a,u){(a.pooledCacheLanes&=u)===0&&(u=a.pooledCache,u!=null&&(a.pooledCache=null,Kg(u)))}function pf(){if(Rh!==null){var a=Rh,u=U$;U$=0;var p=dh(p0),g=J.T,b=Te.p;try{if(Te.p=32>p?32:p,J.T=null,Rh===null)var S=!1;else{p=q$,q$=null;var E=Rh,k=p0;if(Rh=null,p0=0,(ni&6)!==0)throw Error(r(331));var D=ni;if(ni|=4,jj(E.current),Rj(E,E.current,k,p),ni=D,m0(0,!1),es&&typeof es.onPostCommitFiberRoot=="function")try{es.onPostCommitFiberRoot(uh,E)}catch{}S=!0}return S}finally{Te.p=b,J.T=g,Kj(a,u)}}return!1}function Xj(a,u,p){u=An(p,u),u=d$(a.stateNode,u,2),a=Eu(a,u,2),a!==null&&(mo(a,2),ua(a))}function jt(a,u,p){if(a.tag===3)Xj(a,a,p);else for(;u!==null;){if(u.tag===3){Xj(u,a,p);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Iu===null||!Iu.has(g))){a=An(p,a),p=tj(2),g=Eu(u,p,2),g!==null&&(ij(p,g,u,a),mo(g,2),ua(g));break}}u=u.return}}function Y$(a,u,p){var g=a.pingCache;if(g===null){g=a.pingCache=new Lie;var b=new Set;g.set(u,b)}else b=g.get(u),b===void 0&&(b=new Set,g.set(u,b));b.has(p)||(L$=!0,b.add(p),a=Bie.bind(null,a,u,p),u.then(a,a))}function Bie(a,u,p){var g=a.pingCache;g!==null&&g.delete(u),a.pingedLanes|=a.suspendedLanes&p,a.warmLanes&=~p,Vt===a&&(gt&p)===p&&(mi===4||mi===3&&(gt&62914560)===gt&&300>$n()-z$?(ni&2)===0&&hf(a,0):V$|=p,cf===gt&&(cf=0)),ua(a)}function Qj(a,u){u===0&&(u=Pt()),a=wu(a,u),a!==null&&(mo(a,u),ua(a))}function Gie(a){var u=a.memoizedState,p=0;u!==null&&(p=u.retryLane),Qj(a,p)}function Hie(a,u){var p=0;switch(a.tag){case 13:var g=a.stateNode,b=a.memoizedState;b!==null&&(p=b.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(u),Qj(a,p)}function Wie(a,u){return jp(a,u)}var zb=null,ff=null,J$=!1,Ub=!1,K$=!1,Ih=0;function ua(a){a!==ff&&a.next===null&&(ff===null?zb=ff=a:ff=ff.next=a),Ub=!0,J$||(J$=!0,Yie(Zie))}function m0(a,u){if(!K$&&Ub){K$=!0;do for(var p=!1,g=zb;g!==null;){if(a!==0){var b=g.pendingLanes;if(b===0)var S=0;else{var E=g.suspendedLanes,k=g.pingedLanes;S=(1<<31-ts(42|a)+1)-1,S&=b&~(E&~k),S=S&201326677?S&201326677|1:S?S|2:0}S!==0&&(p=!0,iN(g,S))}else S=gt,S=Vp(g,g===Vt?S:0),(S&3)===0||ch(g,S)||(p=!0,iN(g,S));g=g.next}while(p);K$=!1}}function Zie(){Ub=J$=!1;var a=0;Ih!==0&&(rre()&&(a=Ih),Ih=0);for(var u=$n(),p=null,g=zb;g!==null;){var b=g.next,S=eN(g,u);S===0?(g.next=null,p===null?zb=b:p.next=b,b===null&&(ff=p)):(p=g,(a!==0||(S&3)!==0)&&(Ub=!0)),g=b}m0(a)}function eN(a,u){for(var p=a.suspendedLanes,g=a.pingedLanes,b=a.expirationTimes,S=a.pendingLanes&-62914561;0<S;){var E=31-ts(S),k=1<<E,D=b[E];D===-1?((k&p)===0||(k&g)!==0)&&(b[E]=f3(k,u)):D<=u&&(a.expiredLanes|=k),S&=~k}if(u=Vt,p=gt,p=Vp(a,a===u?p:0),g=a.callbackNode,p===0||a===u&&Ft===2||a.cancelPendingCommit!==null)return g!==null&&g!==null&&Tn(g),a.callbackNode=null,a.callbackPriority=0;if((p&3)===0||ch(a,p)){if(u=p&-p,u===a.callbackPriority)return u;switch(g!==null&&Tn(g),dh(p)){case 2:case 8:p=Kw;break;case 32:p=Np;break;case 268435456:p=Xw;break;default:p=Np}return g=tN.bind(null,a),p=jp(p,g),a.callbackPriority=u,a.callbackNode=p,u}return g!==null&&g!==null&&Tn(g),a.callbackPriority=2,a.callbackNode=null,2}function tN(a,u){var p=a.callbackNode;if(pf()&&a.callbackNode!==p)return null;var g=gt;return g=Vp(a,a===Vt?g:0),g===0?null:(Uj(a,g,u),eN(a,$n()),a.callbackNode!=null&&a.callbackNode===p?tN.bind(null,a):null)}function iN(a,u){if(pf())return null;Uj(a,u,!0)}function Yie(a){nre(function(){(ni&6)!==0?jp(Jw,a):a()})}function X$(){return Ih===0&&(Ih=Q()),Ih}function rN(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:ib(""+a)}function sN(a,u){var p=u.ownerDocument.createElement("input");return p.name=u.name,p.value=u.value,a.id&&p.setAttribute("form",a.id),u.parentNode.insertBefore(p,u),a=new FormData(a),p.parentNode.removeChild(p),a}function Jie(a,u,p,g,b){if(u==="submit"&&p&&p.stateNode===b){var S=rN((b[ri]||null).action),E=g.submitter;E&&(u=(u=E[ri]||null)?rN(u.formAction):E.getAttribute("formAction"),u!==null&&(S=u,E=null));var k=new ob("action","action",null,g,b);a.push({event:k,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Ih!==0){var D=E?sN(b,E):new FormData(b);a$(p,{pending:!0,data:D,method:b.method,action:S},null,D)}}else typeof S=="function"&&(k.preventDefault(),D=E?sN(b,E):new FormData(b),a$(p,{pending:!0,data:D,method:b.method,action:S},S,D))},currentTarget:b}]})}}for(var Q$=0;Q$<JI.length;Q$++){var eM=JI[Q$],Kie=eM.toLowerCase(),Xie=eM[0].toUpperCase()+eM.slice(1);vo(Kie,"on"+Xie)}vo(GI,"onAnimationEnd"),vo(HI,"onAnimationIteration"),vo(WI,"onAnimationStart"),vo("dblclick","onDoubleClick"),vo("focusin","onFocus"),vo("focusout","onBlur"),vo(mie,"onTransitionRun"),vo(yie,"onTransitionStart"),vo(gie,"onTransitionCancel"),vo(ZI,"onTransitionEnd"),yu("onMouseEnter",["mouseout","mouseover"]),yu("onMouseLeave",["mouseout","mouseover"]),yu("onPointerEnter",["pointerout","pointerover"]),yu("onPointerLeave",["pointerout","pointerover"]),Wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var y0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qie=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(y0));function nN(a,u){u=(u&4)!==0;for(var p=0;p<a.length;p++){var g=a[p],b=g.event;g=g.listeners;e:{var S=void 0;if(u)for(var E=g.length-1;0<=E;E--){var k=g[E],D=k.instance,U=k.currentTarget;if(k=k.listener,D!==S&&b.isPropagationStopped())break e;S=k,b.currentTarget=U;try{S(b)}catch(ne){Ab(ne)}b.currentTarget=null,S=D}else for(E=0;E<g.length;E++){if(k=g[E],D=k.instance,U=k.currentTarget,k=k.listener,D!==S&&b.isPropagationStopped())break e;S=k,b.currentTarget=U;try{S(b)}catch(ne){Ab(ne)}b.currentTarget=null,S=D}}}}function mt(a,u){var p=u[Fp];p===void 0&&(p=u[Fp]=new Set);var g=a+"__bubble";p.has(g)||(oN(u,a,2,!1),p.add(g))}function tM(a,u,p){var g=0;u&&(g|=4),oN(p,a,g,u)}var qb="_reactListening"+Math.random().toString(36).slice(2);function iM(a){if(!a[qb]){a[qb]=!0,Pg.forEach(function(p){p!=="selectionchange"&&(Qie.has(p)||tM(p,!1,a),tM(p,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[qb]||(u[qb]=!0,tM("selectionchange",!1,u))}}function oN(a,u,p,g){switch(ON(u)){case 2:var b=$re;break;case 8:b=Mre;break;default:b=mM}p=b.bind(null,u,p,a),b=void 0,!T3||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(b=!0),g?b!==void 0?a.addEventListener(u,p,{capture:!0,passive:b}):a.addEventListener(u,p,!0):b!==void 0?a.addEventListener(u,p,{passive:b}):a.addEventListener(u,p,!1)}function rM(a,u,p,g,b){var S=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var E=g.tag;if(E===3||E===4){var k=g.stateNode.containerInfo;if(k===b||k.nodeType===8&&k.parentNode===b)break;if(E===4)for(E=g.return;E!==null;){var D=E.tag;if((D===3||D===4)&&(D=E.stateNode.containerInfo,D===b||D.nodeType===8&&D.parentNode===b))return;E=E.return}for(;k!==null;){if(E=yo(k),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){g=S=E;continue e}k=k.parentNode}}g=g.return}_I(function(){var U=S,ne=S3(p),ue=[];e:{var K=YI.get(a);if(K!==void 0){var ie=ob,Pe=a;switch(a){case"keypress":if(sb(p)===0)break e;case"keydown":case"keyup":ie=Hte;break;case"focusin":Pe="focus",ie=A3;break;case"focusout":Pe="blur",ie=A3;break;case"beforeblur":case"afterblur":ie=A3;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=TI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Pte;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=Yte;break;case GI:case HI:case WI:ie=Dte;break;case ZI:ie=Kte;break;case"scroll":case"scrollend":ie=Rte;break;case"wheel":ie=Qte;break;case"copy":case"cut":case"paste":ie=Vte;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=MI;break;case"toggle":case"beforetoggle":ie=tie}var Je=(u&4)!==0,yi=!Je&&(a==="scroll"||a==="scrollend"),W=Je?K!==null?K+"Capture":null:K;Je=[];for(var z=U,Y;z!==null;){var oe=z;if(Y=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||Y===null||W===null||(oe=jg(z,W),oe!=null&&Je.push(g0(z,oe,Y))),yi)break;z=z.return}0<Je.length&&(K=new ie(K,Pe,null,p,ne),ue.push({event:K,listeners:Je}))}}if((u&7)===0){e:{if(K=a==="mouseover"||a==="pointerover",ie=a==="mouseout"||a==="pointerout",K&&p!==_3&&(Pe=p.relatedTarget||p.fromElement)&&(yo(Pe)||Pe[Ga]))break e;if((ie||K)&&(K=ne.window===ne?ne:(K=ne.ownerDocument)?K.defaultView||K.parentWindow:window,ie?(Pe=p.relatedTarget||p.toElement,ie=U,Pe=Pe?yo(Pe):null,Pe!==null&&(yi=de(Pe),Je=Pe.tag,Pe!==yi||Je!==5&&Je!==27&&Je!==6)&&(Pe=null)):(ie=null,Pe=U),ie!==Pe)){if(Je=TI,oe="onMouseLeave",W="onMouseEnter",z="mouse",(a==="pointerout"||a==="pointerover")&&(Je=MI,oe="onPointerLeave",W="onPointerEnter",z="pointer"),yi=ie==null?K:Ha(ie),Y=Pe==null?K:Ha(Pe),K=new Je(oe,z+"leave",ie,p,ne),K.target=yi,K.relatedTarget=Y,oe=null,yo(ne)===U&&(Je=new Je(W,z+"enter",Pe,p,ne),Je.target=Y,Je.relatedTarget=yi,oe=Je),yi=oe,ie&&Pe)t:{for(Je=ie,W=Pe,z=0,Y=Je;Y;Y=mf(Y))z++;for(Y=0,oe=W;oe;oe=mf(oe))Y++;for(;0<z-Y;)Je=mf(Je),z--;for(;0<Y-z;)W=mf(W),Y--;for(;z--;){if(Je===W||W!==null&&Je===W.alternate)break t;Je=mf(Je),W=mf(W)}Je=null}else Je=null;ie!==null&&aN(ue,K,ie,Je,!1),Pe!==null&&yi!==null&&aN(ue,yi,Pe,Je,!0)}}e:{if(K=U?Ha(U):window,ie=K.nodeName&&K.nodeName.toLowerCase(),ie==="select"||ie==="input"&&K.type==="file")var Ae=PI;else if(RI(K))if(jI)Ae=hie;else{Ae=uie;var nt=lie}else ie=K.nodeName,!ie||ie.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?U&&b3(U.elementType)&&(Ae=PI):Ae=cie;if(Ae&&(Ae=Ae(a,U))){II(ue,Ae,p,ne);break e}nt&&nt(a,K,U),a==="focusout"&&U&&K.type==="number"&&U.memoizedProps.value!=null&&w3(K,"number",K.value)}switch(nt=U?Ha(U):window,a){case"focusin":(RI(nt)||nt.contentEditable==="true")&&(Hp=nt,P3=U,qg=null);break;case"focusout":qg=P3=Hp=null;break;case"mousedown":j3=!0;break;case"contextmenu":case"mouseup":case"dragend":j3=!1,qI(ue,p,ne);break;case"selectionchange":if(fie)break;case"keydown":case"keyup":qI(ue,p,ne)}var De;if(k3)e:{switch(a){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Gp?kI(a,p)&&(Be="onCompositionEnd"):a==="keydown"&&p.keyCode===229&&(Be="onCompositionStart");Be&&(EI&&p.locale!=="ko"&&(Gp||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Gp&&(De=SI()):(vu=ne,$3="value"in vu?vu.value:vu.textContent,Gp=!0)),nt=Bb(U,Be),0<nt.length&&(Be=new $I(Be,a,null,p,ne),ue.push({event:Be,listeners:nt}),De?Be.data=De:(De=CI(p),De!==null&&(Be.data=De)))),(De=rie?sie(a,p):nie(a,p))&&(Be=Bb(U,"onBeforeInput"),0<Be.length&&(nt=new $I("onBeforeInput","beforeinput",null,p,ne),ue.push({event:nt,listeners:Be}),nt.data=De)),Jie(ue,a,U,p,ne)}nN(ue,u)})}function g0(a,u,p){return{instance:a,listener:u,currentTarget:p}}function Bb(a,u){for(var p=u+"Capture",g=[];a!==null;){var b=a,S=b.stateNode;b=b.tag,b!==5&&b!==26&&b!==27||S===null||(b=jg(a,p),b!=null&&g.unshift(g0(a,b,S)),b=jg(a,u),b!=null&&g.push(g0(a,b,S))),a=a.return}return g}function mf(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function aN(a,u,p,g,b){for(var S=u._reactName,E=[];p!==null&&p!==g;){var k=p,D=k.alternate,U=k.stateNode;if(k=k.tag,D!==null&&D===g)break;k!==5&&k!==26&&k!==27||U===null||(D=U,b?(U=jg(p,S),U!=null&&E.unshift(g0(p,U,D))):b||(U=jg(p,S),U!=null&&E.push(g0(p,U,D)))),p=p.return}E.length!==0&&a.push({event:u,listeners:E})}var ere=/\r\n?/g,tre=/\u0000|\uFFFD/g;function lN(a){return(typeof a=="string"?a:""+a).replace(ere,`
`).replace(tre,"")}function uN(a,u){return u=lN(u),lN(a)===u}function Gb(){}function Ct(a,u,p,g,b,S){switch(p){case"children":typeof g=="string"?u==="body"||u==="textarea"&&g===""||Up(a,g):(typeof g=="number"||typeof g=="bigint")&&u!=="body"&&Up(a,""+g);break;case"className":fh(a,"class",g);break;case"tabIndex":fh(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":fh(a,p,g);break;case"style":wI(a,g,S);break;case"data":if(u!=="object"){fh(a,"data",g);break}case"src":case"href":if(g===""&&(u!=="a"||p!=="href")){a.removeAttribute(p);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(p);break}g=ib(""+g),a.setAttribute(p,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(p==="formAction"?(u!=="input"&&Ct(a,u,"name",b.name,b,null),Ct(a,u,"formEncType",b.formEncType,b,null),Ct(a,u,"formMethod",b.formMethod,b,null),Ct(a,u,"formTarget",b.formTarget,b,null)):(Ct(a,u,"encType",b.encType,b,null),Ct(a,u,"method",b.method,b,null),Ct(a,u,"target",b.target,b,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(p);break}g=ib(""+g),a.setAttribute(p,g);break;case"onClick":g!=null&&(a.onclick=Gb);break;case"onScroll":g!=null&&mt("scroll",a);break;case"onScrollEnd":g!=null&&mt("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(p=g.__html,p!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=p}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}p=ib(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(p,""+g):a.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(p,""):a.removeAttribute(p);break;case"capture":case"download":g===!0?a.setAttribute(p,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(p,g):a.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(p,g):a.removeAttribute(p);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(p):a.setAttribute(p,g);break;case"popover":mt("beforetoggle",a),mt("toggle",a),gu(a,"popover",g);break;case"xlinkActuate":P(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":P(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":P(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":P(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":P(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":P(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":P(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":P(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":P(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":gu(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=kte.get(p)||p,gu(a,p,g))}}function sM(a,u,p,g,b,S){switch(p){case"style":wI(a,g,S);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(p=g.__html,p!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=p}}break;case"children":typeof g=="string"?Up(a,g):(typeof g=="number"||typeof g=="bigint")&&Up(a,""+g);break;case"onScroll":g!=null&&mt("scroll",a);break;case"onScrollEnd":g!=null&&mt("scrollend",a);break;case"onClick":g!=null&&(a.onclick=Gb);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!eb.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(b=p.endsWith("Capture"),u=p.slice(2,b?p.length-7:void 0),S=a[ri]||null,S=S!=null?S[p]:null,typeof S=="function"&&a.removeEventListener(u,S,b),typeof g=="function")){typeof S!="function"&&S!==null&&(p in a?a[p]=null:a.hasAttribute(p)&&a.removeAttribute(p)),a.addEventListener(u,g,b);break e}p in a?a[p]=g:g===!0?a.setAttribute(p,""):gu(a,p,g)}}}function xr(a,u,p){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",a),mt("load",a);var g=!1,b=!1,S;for(S in p)if(p.hasOwnProperty(S)){var E=p[S];if(E!=null)switch(S){case"src":g=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Ct(a,u,S,E,p,null)}}b&&Ct(a,u,"srcSet",p.srcSet,p,null),g&&Ct(a,u,"src",p.src,p,null);return;case"input":mt("invalid",a);var k=S=E=b=null,D=null,U=null;for(g in p)if(p.hasOwnProperty(g)){var ne=p[g];if(ne!=null)switch(g){case"name":b=ne;break;case"type":E=ne;break;case"checked":D=ne;break;case"defaultChecked":U=ne;break;case"value":S=ne;break;case"defaultValue":k=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,u));break;default:Ct(a,u,g,ne,p,null)}}mI(a,S,k,D,U,E,b,!1),ft(a);return;case"select":mt("invalid",a),g=E=S=null;for(b in p)if(p.hasOwnProperty(b)&&(k=p[b],k!=null))switch(b){case"value":S=k;break;case"defaultValue":E=k;break;case"multiple":g=k;default:Ct(a,u,b,k,p,null)}u=S,p=E,a.multiple=!!g,u!=null?zp(a,!!g,u,!1):p!=null&&zp(a,!!g,p,!0);return;case"textarea":mt("invalid",a),S=b=g=null;for(E in p)if(p.hasOwnProperty(E)&&(k=p[E],k!=null))switch(E){case"value":g=k;break;case"defaultValue":b=k;break;case"children":S=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:Ct(a,u,E,k,p,null)}gI(a,g,b,S),ft(a);return;case"option":for(D in p)if(p.hasOwnProperty(D)&&(g=p[D],g!=null))switch(D){case"selected":a.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Ct(a,u,D,g,p,null)}return;case"dialog":mt("cancel",a),mt("close",a);break;case"iframe":case"object":mt("load",a);break;case"video":case"audio":for(g=0;g<y0.length;g++)mt(y0[g],a);break;case"image":mt("error",a),mt("load",a);break;case"details":mt("toggle",a);break;case"embed":case"source":case"link":mt("error",a),mt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in p)if(p.hasOwnProperty(U)&&(g=p[U],g!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Ct(a,u,U,g,p,null)}return;default:if(b3(u)){for(ne in p)p.hasOwnProperty(ne)&&(g=p[ne],g!==void 0&&sM(a,u,ne,g,p,void 0));return}}for(k in p)p.hasOwnProperty(k)&&(g=p[k],g!=null&&Ct(a,u,k,g,p,null))}function ire(a,u,p,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,S=null,E=null,k=null,D=null,U=null,ne=null;for(ie in p){var ue=p[ie];if(p.hasOwnProperty(ie)&&ue!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":D=ue;default:g.hasOwnProperty(ie)||Ct(a,u,ie,null,g,ue)}}for(var K in g){var ie=g[K];if(ue=p[K],g.hasOwnProperty(K)&&(ie!=null||ue!=null))switch(K){case"type":S=ie;break;case"name":b=ie;break;case"checked":U=ie;break;case"defaultChecked":ne=ie;break;case"value":E=ie;break;case"defaultValue":k=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,u));break;default:ie!==ue&&Ct(a,u,K,ie,g,ue)}}v3(a,E,k,D,U,ne,S,b);return;case"select":ie=E=k=K=null;for(S in p)if(D=p[S],p.hasOwnProperty(S)&&D!=null)switch(S){case"value":break;case"multiple":ie=D;default:g.hasOwnProperty(S)||Ct(a,u,S,null,g,D)}for(b in g)if(S=g[b],D=p[b],g.hasOwnProperty(b)&&(S!=null||D!=null))switch(b){case"value":K=S;break;case"defaultValue":k=S;break;case"multiple":E=S;default:S!==D&&Ct(a,u,b,S,g,D)}u=k,p=E,g=ie,K!=null?zp(a,!!p,K,!1):!!g!=!!p&&(u!=null?zp(a,!!p,u,!0):zp(a,!!p,p?[]:"",!1));return;case"textarea":ie=K=null;for(k in p)if(b=p[k],p.hasOwnProperty(k)&&b!=null&&!g.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Ct(a,u,k,null,g,b)}for(E in g)if(b=g[E],S=p[E],g.hasOwnProperty(E)&&(b!=null||S!=null))switch(E){case"value":K=b;break;case"defaultValue":ie=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==S&&Ct(a,u,E,b,g,S)}yI(a,K,ie);return;case"option":for(var Pe in p)if(K=p[Pe],p.hasOwnProperty(Pe)&&K!=null&&!g.hasOwnProperty(Pe))switch(Pe){case"selected":a.selected=!1;break;default:Ct(a,u,Pe,null,g,K)}for(D in g)if(K=g[D],ie=p[D],g.hasOwnProperty(D)&&K!==ie&&(K!=null||ie!=null))switch(D){case"selected":a.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Ct(a,u,D,K,g,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Je in p)K=p[Je],p.hasOwnProperty(Je)&&K!=null&&!g.hasOwnProperty(Je)&&Ct(a,u,Je,null,g,K);for(U in g)if(K=g[U],ie=p[U],g.hasOwnProperty(U)&&K!==ie&&(K!=null||ie!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,u));break;default:Ct(a,u,U,K,g,ie)}return;default:if(b3(u)){for(var yi in p)K=p[yi],p.hasOwnProperty(yi)&&K!==void 0&&!g.hasOwnProperty(yi)&&sM(a,u,yi,void 0,g,K);for(ne in g)K=g[ne],ie=p[ne],!g.hasOwnProperty(ne)||K===ie||K===void 0&&ie===void 0||sM(a,u,ne,K,g,ie);return}}for(var W in p)K=p[W],p.hasOwnProperty(W)&&K!=null&&!g.hasOwnProperty(W)&&Ct(a,u,W,null,g,K);for(ue in g)K=g[ue],ie=p[ue],!g.hasOwnProperty(ue)||K===ie||K==null&&ie==null||Ct(a,u,ue,K,g,ie)}var nM=null,oM=null;function Hb(a){return a.nodeType===9?a:a.ownerDocument}function cN(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hN(a,u){if(a===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&u==="foreignObject"?0:a}function aM(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var lM=null;function rre(){var a=window.event;return a&&a.type==="popstate"?a===lM?!1:(lM=a,!0):(lM=null,!1)}var dN=typeof setTimeout=="function"?setTimeout:void 0,sre=typeof clearTimeout=="function"?clearTimeout:void 0,pN=typeof Promise=="function"?Promise:void 0,nre=typeof queueMicrotask=="function"?queueMicrotask:typeof pN<"u"?function(a){return pN.resolve(null).then(a).catch(ore)}:dN;function ore(a){setTimeout(function(){throw a})}function uM(a,u){var p=u,g=0;do{var b=p.nextSibling;if(a.removeChild(p),b&&b.nodeType===8)if(p=b.data,p==="/$"){if(g===0){a.removeChild(b),$0(u);return}g--}else p!=="$"&&p!=="$?"&&p!=="$!"||g++;p=b}while(p);$0(u)}function cM(a){var u=a.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var p=u;switch(u=u.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":cM(p),Ig(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}a.removeChild(p)}}function are(a,u,p,g){for(;a.nodeType===1;){var b=p;if(a.nodeName.toLowerCase()!==u.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[ph])switch(u){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(S=a.getAttribute("rel"),S==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(S!==b.rel||a.getAttribute("href")!==(b.href==null?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(S=a.getAttribute("src"),(S!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&S&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(u==="input"&&a.type==="hidden"){var S=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===S)return a}else return a;if(a=_o(a.nextSibling),a===null)break}return null}function lre(a,u,p){if(u==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!p||(a=_o(a.nextSibling),a===null))return null;return a}function _o(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return a}function fN(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var p=a.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return a;u--}else p==="/$"&&u++}a=a.previousSibling}return null}function mN(a,u,p){switch(u=Hb(p),a){case"html":if(a=u.documentElement,!a)throw Error(r(452));return a;case"head":if(a=u.head,!a)throw Error(r(453));return a;case"body":if(a=u.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}var Nn=new Map,yN=new Set;function Wb(a){return typeof a.getRootNode=="function"?a.getRootNode():a.ownerDocument}var ll=Te.d;Te.d={f:ure,r:cre,D:hre,C:dre,L:pre,m:fre,X:yre,S:mre,M:gre};function ure(){var a=ll.f(),u=Vb();return a||u}function cre(a){var u=mu(a);u!==null&&u.tag===5&&u.type==="form"?qP(u):ll.r(a)}var yf=typeof document>"u"?null:document;function gN(a,u,p){var g=yf;if(g&&typeof u=="string"&&u){var b=Mn(u);b='link[rel="'+a+'"][href="'+b+'"]',typeof p=="string"&&(b+='[crossorigin="'+p+'"]'),yN.has(b)||(yN.add(b),a={rel:a,crossOrigin:p,href:u},g.querySelector(b)===null&&(u=g.createElement("link"),xr(u,"link",a),Di(u),g.head.appendChild(u)))}}function hre(a){ll.D(a),gN("dns-prefetch",a,null)}function dre(a,u){ll.C(a,u),gN("preconnect",a,u)}function pre(a,u,p){ll.L(a,u,p);var g=yf;if(g&&a&&u){var b='link[rel="preload"][as="'+Mn(u)+'"]';u==="image"&&p&&p.imageSrcSet?(b+='[imagesrcset="'+Mn(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(b+='[imagesizes="'+Mn(p.imageSizes)+'"]')):b+='[href="'+Mn(a)+'"]';var S=b;switch(u){case"style":S=gf(a);break;case"script":S=vf(a)}Nn.has(S)||(a=re({rel:"preload",href:u==="image"&&p&&p.imageSrcSet?void 0:a,as:u},p),Nn.set(S,a),g.querySelector(b)!==null||u==="style"&&g.querySelector(v0(S))||u==="script"&&g.querySelector(w0(S))||(u=g.createElement("link"),xr(u,"link",a),Di(u),g.head.appendChild(u)))}}function fre(a,u){ll.m(a,u);var p=yf;if(p&&a){var g=u&&typeof u.as=="string"?u.as:"script",b='link[rel="modulepreload"][as="'+Mn(g)+'"][href="'+Mn(a)+'"]',S=b;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=vf(a)}if(!Nn.has(S)&&(a=re({rel:"modulepreload",href:a},u),Nn.set(S,a),p.querySelector(b)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(w0(S)))return}g=p.createElement("link"),xr(g,"link",a),Di(g),p.head.appendChild(g)}}}function mre(a,u,p){ll.S(a,u,p);var g=yf;if(g&&a){var b=Ht(g).hoistableStyles,S=gf(a);u=u||"default";var E=b.get(S);if(!E){var k={loading:0,preload:null};if(E=g.querySelector(v0(S)))k.loading=5;else{a=re({rel:"stylesheet",href:a,"data-precedence":u},p),(p=Nn.get(S))&&hM(a,p);var D=E=g.createElement("link");Di(D),xr(D,"link",a),D._p=new Promise(function(U,ne){D.onload=U,D.onerror=ne}),D.addEventListener("load",function(){k.loading|=1}),D.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Zb(E,u,g)}E={type:"stylesheet",instance:E,count:1,state:k},b.set(S,E)}}}function yre(a,u){ll.X(a,u);var p=yf;if(p&&a){var g=Ht(p).hoistableScripts,b=vf(a),S=g.get(b);S||(S=p.querySelector(w0(b)),S||(a=re({src:a,async:!0},u),(u=Nn.get(b))&&dM(a,u),S=p.createElement("script"),Di(S),xr(S,"link",a),p.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(b,S))}}function gre(a,u){ll.M(a,u);var p=yf;if(p&&a){var g=Ht(p).hoistableScripts,b=vf(a),S=g.get(b);S||(S=p.querySelector(w0(b)),S||(a=re({src:a,async:!0,type:"module"},u),(u=Nn.get(b))&&dM(a,u),S=p.createElement("script"),Di(S),xr(S,"link",a),p.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(b,S))}}function vN(a,u,p,g){var b=(b=ia.current)?Wb(b):null;if(!b)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(u=gf(p.href),p=Ht(b).hoistableStyles,g=p.get(u),g||(g={type:"style",instance:null,count:0,state:null},p.set(u,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){a=gf(p.href);var S=Ht(b).hoistableStyles,E=S.get(a);if(E||(b=b.ownerDocument||b,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(a,E),(S=b.querySelector(v0(a)))&&!S._p&&(E.instance=S,E.state.loading=5),Nn.has(a)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Nn.set(a,p),S||vre(b,a,p,E.state))),u&&g===null)throw Error(r(528,""));return E}if(u&&g!==null)throw Error(r(529,""));return null;case"script":return u=p.async,p=p.src,typeof p=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=vf(p),p=Ht(b).hoistableScripts,g=p.get(u),g||(g={type:"script",instance:null,count:0,state:null},p.set(u,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function gf(a){return'href="'+Mn(a)+'"'}function v0(a){return'link[rel="stylesheet"]['+a+"]"}function wN(a){return re({},a,{"data-precedence":a.precedence,precedence:null})}function vre(a,u,p,g){a.querySelector('link[rel="preload"][as="style"]['+u+"]")?g.loading=1:(u=a.createElement("link"),g.preload=u,u.addEventListener("load",function(){return g.loading|=1}),u.addEventListener("error",function(){return g.loading|=2}),xr(u,"link",p),Di(u),a.head.appendChild(u))}function vf(a){return'[src="'+Mn(a)+'"]'}function w0(a){return"script[async]"+a}function bN(a,u,p){if(u.count++,u.instance===null)switch(u.type){case"style":var g=a.querySelector('style[data-href~="'+Mn(p.href)+'"]');if(g)return u.instance=g,Di(g),g;var b=re({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),Di(g),xr(g,"style",b),Zb(g,p.precedence,a),u.instance=g;case"stylesheet":b=gf(p.href);var S=a.querySelector(v0(b));if(S)return u.state.loading|=4,u.instance=S,Di(S),S;g=wN(p),(b=Nn.get(b))&&hM(g,b),S=(a.ownerDocument||a).createElement("link"),Di(S);var E=S;return E._p=new Promise(function(k,D){E.onload=k,E.onerror=D}),xr(S,"link",g),u.state.loading|=4,Zb(S,p.precedence,a),u.instance=S;case"script":return S=vf(p.src),(b=a.querySelector(w0(S)))?(u.instance=b,Di(b),b):(g=p,(b=Nn.get(S))&&(g=re({},p),dM(g,b)),a=a.ownerDocument||a,b=a.createElement("script"),Di(b),xr(b,"link",g),a.head.appendChild(b),u.instance=b);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(g=u.instance,u.state.loading|=4,Zb(g,p.precedence,a));return u.instance}function Zb(a,u,p){for(var g=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=g.length?g[g.length-1]:null,S=b,E=0;E<g.length;E++){var k=g[E];if(k.dataset.precedence===u)S=k;else if(S!==b)break}S?S.parentNode.insertBefore(a,S.nextSibling):(u=p.nodeType===9?p.head:p,u.insertBefore(a,u.firstChild))}function hM(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.title==null&&(a.title=u.title)}function dM(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.integrity==null&&(a.integrity=u.integrity)}var Yb=null;function _N(a,u,p){if(Yb===null){var g=new Map,b=Yb=new Map;b.set(p,g)}else b=Yb,g=b.get(p),g||(g=new Map,b.set(p,g));if(g.has(a))return g;for(g.set(a,null),p=p.getElementsByTagName(a),b=0;b<p.length;b++){var S=p[b];if(!(S[ph]||S[ar]||a==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var E=S.getAttribute(u)||"";E=a+E;var k=g.get(E);k?k.push(S):g.set(E,[S])}}return g}function SN(a,u,p){a=a.ownerDocument||a,a.head.insertBefore(p,u==="title"?a.querySelector("head > title"):null)}function wre(a,u,p){if(p===1||u.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return a=u.disabled,typeof u.precedence=="string"&&a==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function xN(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var b0=null;function bre(){}function _re(a,u,p){if(b0===null)throw Error(r(475));var g=b0;if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var b=gf(p.href),S=a.querySelector(v0(b));if(S){a=S._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(g.count++,g=Jb.bind(g),a.then(g,g)),u.state.loading|=4,u.instance=S,Di(S);return}S=a.ownerDocument||a,p=wN(p),(b=Nn.get(b))&&hM(p,b),S=S.createElement("link"),Di(S);var E=S;E._p=new Promise(function(k,D){E.onload=k,E.onerror=D}),xr(S,"link",p),u.instance=S}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(u,a),(a=u.state.preload)&&(u.state.loading&3)===0&&(g.count++,u=Jb.bind(g),a.addEventListener("load",u),a.addEventListener("error",u))}}function Sre(){if(b0===null)throw Error(r(475));var a=b0;return a.stylesheets&&a.count===0&&pM(a,a.stylesheets),0<a.count?function(u){var p=setTimeout(function(){if(a.stylesheets&&pM(a,a.stylesheets),a.unsuspend){var g=a.unsuspend;a.unsuspend=null,g()}},6e4);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(p)}}:null}function Jb(){if(this.count--,this.count===0){if(this.stylesheets)pM(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Kb=null;function pM(a,u){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Kb=new Map,u.forEach(xre,a),Kb=null,Jb.call(a))}function xre(a,u){if(!(u.state.loading&4)){var p=Kb.get(a);if(p)var g=p.get(null);else{p=new Map,Kb.set(a,p);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<b.length;S++){var E=b[S];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(p.set(E.dataset.precedence,E),g=E)}g&&p.set(null,g)}b=u.instance,E=b.getAttribute("data-precedence"),S=p.get(E)||g,S===g&&p.set(null,b),p.set(E,b),this.count++,g=Jb.bind(this),b.addEventListener("load",g),b.addEventListener("error",g),S?S.parentNode.insertBefore(b,S.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),u.state.loading|=4}}var _0={$$typeof:_,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function Tre(a,u,p,g,b,S,E,k){this.tag=1,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sa(0),this.hiddenUpdates=sa(null),this.identifierPrefix=g,this.onUncaughtError=b,this.onCaughtError=S,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function TN(a,u,p,g,b,S,E,k,D,U,ne,ue){return a=new Tre(a,u,p,E,k,D,U,ue),u=1,S===!0&&(u|=24),S=Pn(3,null,null,u),a.current=S,S.stateNode=a,u=G3(),u.refCount++,a.pooledCache=u,u.refCount++,S.memoizedState={element:g,isDehydrated:p,cache:u},$$(S),a}function $N(a){return a?(a=Yp,a):Yp}function MN(a,u,p,g,b,S){b=$N(b),g.context===null?g.context=b:g.pendingContext=b,g=Mu(u),g.payload={element:p},S=S===void 0?null:S,S!==null&&(g.callback=S),p=Eu(a,g,u),p!==null&&(ss(p,a,u),s0(p,a,u))}function EN(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var p=a.retryLane;a.retryLane=p!==0&&p<u?p:u}}function fM(a,u){EN(a,u),(a=a.alternate)&&EN(a,u)}function AN(a){if(a.tag===13){var u=wu(a,67108864);u!==null&&ss(u,a,67108864),fM(a,67108864)}}var Xb=!0;function $re(a,u,p,g){var b=J.T;J.T=null;var S=Te.p;try{Te.p=2,mM(a,u,p,g)}finally{Te.p=S,J.T=b}}function Mre(a,u,p,g){var b=J.T;J.T=null;var S=Te.p;try{Te.p=8,mM(a,u,p,g)}finally{Te.p=S,J.T=b}}function mM(a,u,p,g){if(Xb){var b=yM(g);if(b===null)rM(a,u,g,Qb,p),kN(a,g);else if(Are(b,a,u,p,g))g.stopPropagation();else if(kN(a,g),u&4&&-1<Ere.indexOf(a)){for(;b!==null;){var S=mu(b);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var E=Ba(S.pendingLanes);if(E!==0){var k=S;for(k.pendingLanes|=2,k.entangledLanes|=2;E;){var D=1<<31-ts(E);k.entanglements[1]|=D,E&=~D}ua(S),(ni&6)===0&&(Nb=$n()+500,m0(0))}}break;case 13:k=wu(S,2),k!==null&&ss(k,S,2),Vb(),fM(S,2)}if(S=yM(g),S===null&&rM(a,u,g,Qb,p),S===b)break;b=S}b!==null&&g.stopPropagation()}else rM(a,u,g,null,p)}}function yM(a){return a=S3(a),gM(a)}var Qb=null;function gM(a){if(Qb=null,a=yo(a),a!==null){var u=de(a);if(u===null)a=null;else{var p=u.tag;if(p===13){if(a=We(u),a!==null)return a;a=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null)}}return Qb=a,null}function ON(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(a3()){case Jw:return 2;case Kw:return 8;case Np:case fI:return 32;case Xw:return 268435456;default:return 32}default:return 32}}var vM=!1,Pu=null,ju=null,Nu=null,S0=new Map,x0=new Map,Du=[],Ere="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kN(a,u){switch(a){case"focusin":case"focusout":Pu=null;break;case"dragenter":case"dragleave":ju=null;break;case"mouseover":case"mouseout":Nu=null;break;case"pointerover":case"pointerout":S0.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":x0.delete(u.pointerId)}}function T0(a,u,p,g,b,S){return a===null||a.nativeEvent!==S?(a={blockedOn:u,domEventName:p,eventSystemFlags:g,nativeEvent:S,targetContainers:[b]},u!==null&&(u=mu(u),u!==null&&AN(u)),a):(a.eventSystemFlags|=g,u=a.targetContainers,b!==null&&u.indexOf(b)===-1&&u.push(b),a)}function Are(a,u,p,g,b){switch(u){case"focusin":return Pu=T0(Pu,a,u,p,g,b),!0;case"dragenter":return ju=T0(ju,a,u,p,g,b),!0;case"mouseover":return Nu=T0(Nu,a,u,p,g,b),!0;case"pointerover":var S=b.pointerId;return S0.set(S,T0(S0.get(S)||null,a,u,p,g,b)),!0;case"gotpointercapture":return S=b.pointerId,x0.set(S,T0(x0.get(S)||null,a,u,p,g,b)),!0}return!1}function CN(a){var u=yo(a.target);if(u!==null){var p=de(u);if(p!==null){if(u=p.tag,u===13){if(u=We(p),u!==null){a.blockedOn=u,Ni(a.priority,function(){if(p.tag===13){var g=rn(),b=wu(p,g);b!==null&&ss(b,p,g),fM(p,g)}});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){a.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}a.blockedOn=null}function e_(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var p=yM(a.nativeEvent);if(p===null){p=a.nativeEvent;var g=new p.constructor(p.type,p);_3=g,p.target.dispatchEvent(g),_3=null}else return u=mu(p),u!==null&&AN(u),a.blockedOn=p,!1;u.shift()}return!0}function RN(a,u,p){e_(a)&&p.delete(u)}function Ore(){vM=!1,Pu!==null&&e_(Pu)&&(Pu=null),ju!==null&&e_(ju)&&(ju=null),Nu!==null&&e_(Nu)&&(Nu=null),S0.forEach(RN),x0.forEach(RN)}function t_(a,u){a.blockedOn===u&&(a.blockedOn=null,vM||(vM=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ore)))}var i_=null;function IN(a){i_!==a&&(i_=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){i_===a&&(i_=null);for(var u=0;u<a.length;u+=3){var p=a[u],g=a[u+1],b=a[u+2];if(typeof g!="function"){if(gM(g||p)===null)continue;break}var S=mu(p);S!==null&&(a.splice(u,3),u-=3,a$(S,{pending:!0,data:b,method:p.method,action:g},g,b))}}))}function $0(a){function u(D){return t_(D,a)}Pu!==null&&t_(Pu,a),ju!==null&&t_(ju,a),Nu!==null&&t_(Nu,a),S0.forEach(u),x0.forEach(u);for(var p=0;p<Du.length;p++){var g=Du[p];g.blockedOn===a&&(g.blockedOn=null)}for(;0<Du.length&&(p=Du[0],p.blockedOn===null);)CN(p),p.blockedOn===null&&Du.shift();if(p=(a.ownerDocument||a).$$reactFormReplay,p!=null)for(g=0;g<p.length;g+=3){var b=p[g],S=p[g+1],E=b[ri]||null;if(typeof S=="function")E||IN(p);else if(E){var k=null;if(S&&S.hasAttribute("formAction")){if(b=S,E=S[ri]||null)k=E.formAction;else if(gM(b)!==null)continue}else k=E.action;typeof k=="function"?p[g+1]=k:(p.splice(g,3),g-=3),IN(p)}}}function wM(a){this._internalRoot=a}r_.prototype.render=wM.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(r(409));var p=u.current,g=rn();MN(p,g,a,u,null,null)},r_.prototype.unmount=wM.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;a.tag===0&&pf(),MN(a.current,2,null,a,null,null),Vb(),u[Ga]=null}};function r_(a){this._internalRoot=a}r_.prototype.unstable_scheduleHydration=function(a){if(a){var u=Qw();a={blockedOn:null,target:a,priority:u};for(var p=0;p<Du.length&&u!==0&&u<Du[p].priority;p++);Du.splice(p,0,a),p===0&&CN(a)}};var PN=e.version;if(PN!=="19.0.0")throw Error(r(527,PN,"19.0.0"));Te.findDOMNode=function(a){var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=he(u),a=a!==null?Ue(a):null,a=a===null?null:a.stateNode,a};var kre={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:J,findFiberByHostInstance:yo,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var s_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!s_.isDisabled&&s_.supportsFiber)try{uh=s_.inject(kre),es=s_}catch{}}return E0.createRoot=function(a,u){if(!s(a))throw Error(r(299));var p=!1,g="",b=KP,S=XP,E=QP,k=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(S=u.onCaughtError),u.onRecoverableError!==void 0&&(E=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(k=u.unstable_transitionCallbacks)),u=TN(a,1,!1,null,null,p,g,b,S,E,k,null),a[Ga]=u.current,iM(a.nodeType===8?a.parentNode:a),new wM(u)},E0.hydrateRoot=function(a,u,p){if(!s(a))throw Error(r(299));var g=!1,b="",S=KP,E=XP,k=QP,D=null,U=null;return p!=null&&(p.unstable_strictMode===!0&&(g=!0),p.identifierPrefix!==void 0&&(b=p.identifierPrefix),p.onUncaughtError!==void 0&&(S=p.onUncaughtError),p.onCaughtError!==void 0&&(E=p.onCaughtError),p.onRecoverableError!==void 0&&(k=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(D=p.unstable_transitionCallbacks),p.formState!==void 0&&(U=p.formState)),u=TN(a,1,!0,u,p??null,g,b,S,E,k,D,U),u.context=$N(null),p=u.current,g=rn(),b=Mu(g),b.callback=null,Eu(p,b,g),u.current.lanes=g,mo(u,g),ua(u),a[Ga]=u.current,iM(a),new r_(u)},E0.version="19.0.0",E0}var HN;function qre(){if(HN)return SM.exports;HN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),SM.exports=Ure(),SM.exports}var Bre=qre(),H=rC();const Vd=Pre(H);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var WN="popstate";function Gre(t={}){function e(s,n){let{pathname:o="/",search:l="",hash:c=""}=bp(s.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),_E("",{pathname:o,search:l,hash:c},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function i(s,n){let o=s.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=s.location.href,d=c.indexOf("#");l=d===-1?c:c.slice(0,d)}return l+"#"+(typeof n=="string"?n:A1(n))}function r(s,n){Xo(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(n)})`)}return Wre(e,i,r,t)}function ui(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Hre(){return Math.random().toString(36).substring(2,10)}function ZN(t,e){return{usr:t.state,key:t.key,idx:e}}function _E(t,e,i=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?bp(e):e,state:i,key:e&&e.key||r||Hre()}}function A1({pathname:t="/",search:e="",hash:i=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function bp(t){let e={};if(t){let i=t.indexOf("#");i>=0&&(e.hash=t.substring(i),t=t.substring(0,i));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Wre(t,e,i,r={}){let{window:s=document.defaultView,v5Compat:n=!1}=r,o=s.history,l="POP",c=null,d=m();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function m(){return(o.state||{idx:null}).idx}function v(){l="POP";let M=m(),O=M==null?null:M-d;d=M,c&&c({action:l,location:T.location,delta:O})}function w(M,O){l="PUSH";let C=_E(T.location,M,O);i&&i(C,M),d=m()+1;let R=ZN(C,d),N=T.createHref(C);try{o.pushState(R,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(N)}n&&c&&c({action:l,location:T.location,delta:1})}function _(M,O){l="REPLACE";let C=_E(T.location,M,O);i&&i(C,M),d=m();let R=ZN(C,d),N=T.createHref(C);o.replaceState(R,"",N),n&&c&&c({action:l,location:T.location,delta:0})}function x(M){return Zre(M)}let T={get action(){return l},get location(){return t(s,o)},listen(M){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(WN,v),c=M,()=>{s.removeEventListener(WN,v),c=null}},createHref(M){return e(s,M)},createURL:x,encodeLocation(M){let O=x(M);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:w,replace:_,go(M){return o.go(M)}};return T}function Zre(t,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ui(i,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:A1(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=i+r),new URL(r,i)}function Lz(t,e,i="/"){return Yre(t,e,i,!1)}function Yre(t,e,i,r){let s=typeof e=="string"?bp(e):e,n=lu(s.pathname||"/",i);if(n==null)return null;let o=Vz(t);Jre(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=ase(n);l=nse(o[c],d,r)}return l}function Vz(t,e=[],i=[],r="",s=!1){let n=(o,l,c=s,d)=>{let m={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&c)return;ui(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let v=tu([r,m.relativePath]),w=i.concat(m);o.children&&o.children.length>0&&(ui(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Vz(o.children,e,w,v,c)),!(o.path==null&&!o.index)&&e.push({path:v,score:rse(v,o.index),routesMeta:w})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))n(o,l);else for(let d of Fz(o.path))n(o,l,!0,d)}),e}function Fz(t){let e=t.split("/");if(e.length===0)return[];let[i,...r]=e,s=i.endsWith("?"),n=i.replace(/\?$/,"");if(r.length===0)return s?[n,""]:[n];let o=Fz(r.join("/")),l=[];return l.push(...o.map(c=>c===""?n:[n,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Jre(t){t.sort((e,i)=>e.score!==i.score?i.score-e.score:sse(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var Kre=/^:[\w-]+$/,Xre=3,Qre=2,ese=1,tse=10,ise=-2,YN=t=>t==="*";function rse(t,e){let i=t.split("/"),r=i.length;return i.some(YN)&&(r+=ise),e&&(r+=Qre),i.filter(s=>!YN(s)).reduce((s,n)=>s+(Kre.test(n)?Xre:n===""?ese:tse),r)}function sse(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function nse(t,e,i=!1){let{routesMeta:r}=t,s={},n="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,m=n==="/"?e:e.slice(n.length)||"/",v=OS({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},m),w=c.route;if(!v&&d&&i&&!r[r.length-1].route.index&&(v=OS({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},m)),!v)return null;Object.assign(s,v.params),o.push({params:s,pathname:tu([n,v.pathname]),pathnameBase:hse(tu([n,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(n=tu([n,v.pathnameBase]))}return o}function OS(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,r]=ose(t.path,t.caseSensitive,t.end),s=e.match(i);if(!s)return null;let n=s[0],o=n.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,{paramName:m,isOptional:v},w)=>{if(m==="*"){let x=l[w]||"";o=n.slice(0,n.length-x.length).replace(/(.)\/+$/,"$1")}const _=l[w];return v&&!_?d[m]=void 0:d[m]=(_||"").replace(/%2F/g,"/"),d},{}),pathname:n,pathnameBase:o,pattern:t}}function ose(t,e=!1,i=!0){Xo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function ase(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function lu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=t.charAt(i);return r&&r!=="/"?null:t.slice(i)||"/"}var lse=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function use(t,e="/"){let{pathname:i,search:r="",hash:s=""}=typeof t=="string"?bp(t):t,n;return i?(i=i.replace(/\/\/+/g,"/"),i.startsWith("/")?n=JN(i.substring(1),"/"):n=JN(i,e)):n=e,{pathname:n,search:dse(r),hash:pse(s)}}function JN(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?i.length>1&&i.pop():s!=="."&&i.push(s)}),i.length>1?i.join("/"):"/"}function EM(t,e,i,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cse(t){return t.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function zz(t){let e=cse(t);return e.map((i,r)=>r===e.length-1?i.pathname:i.pathnameBase)}function Uz(t,e,i,r=!1){let s;typeof t=="string"?s=bp(t):(s={...t},ui(!s.pathname||!s.pathname.includes("?"),EM("?","pathname","search",s)),ui(!s.pathname||!s.pathname.includes("#"),EM("#","pathname","hash",s)),ui(!s.search||!s.search.includes("#"),EM("#","search","hash",s)));let n=t===""||s.pathname==="",o=n?"/":s.pathname,l;if(o==null)l=i;else{let v=e.length-1;if(!r&&o.startsWith("..")){let w=o.split("/");for(;w[0]==="..";)w.shift(),v-=1;s.pathname=w.join("/")}l=v>=0?e[v]:"/"}let c=use(s,l),d=o&&o!=="/"&&o.endsWith("/"),m=(n||o===".")&&i.endsWith("/");return!c.pathname.endsWith("/")&&(d||m)&&(c.pathname+="/"),c}var tu=t=>t.join("/").replace(/\/\/+/g,"/"),hse=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dse=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pse=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,fse=class{constructor(t,e,i,r=!1){this.status=t,this.statusText=e||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function mse(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function yse(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var qz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Bz(t,e){let i=t;if(typeof i!="string"||!lse.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let r=i,s=!1;if(qz)try{let n=new URL(window.location.href),o=i.startsWith("//")?new URL(n.protocol+i):new URL(i),l=lu(o.pathname,e);o.origin===n.origin&&l!=null?i=l+o.search+o.hash:s=!0}catch{Xo(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Gz=["POST","PUT","PATCH","DELETE"];new Set(Gz);var gse=["GET",...Gz];new Set(gse);var eg=H.createContext(null);eg.displayName="DataRouter";var Gx=H.createContext(null);Gx.displayName="DataRouterState";var vse=H.createContext(!1),Hz=H.createContext({isTransitioning:!1});Hz.displayName="ViewTransition";var wse=H.createContext(new Map);wse.displayName="Fetchers";var bse=H.createContext(null);bse.displayName="Await";var co=H.createContext(null);co.displayName="Navigation";var pw=H.createContext(null);pw.displayName="Location";var qa=H.createContext({outlet:null,matches:[],isDataRoute:!1});qa.displayName="Route";var sC=H.createContext(null);sC.displayName="RouteError";var Wz="REACT_ROUTER_ERROR",_se="REDIRECT",Sse="ROUTE_ERROR_RESPONSE";function xse(t){if(t.startsWith(`${Wz}:${_se}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Tse(t){if(t.startsWith(`${Wz}:${Sse}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new fse(e.status,e.statusText,e.data)}catch{}}function $se(t,{relative:e}={}){ui(fw(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=H.useContext(co),{hash:s,pathname:n,search:o}=mw(t,{relative:e}),l=n;return i!=="/"&&(l=n==="/"?i:tu([i,n])),r.createHref({pathname:l,search:o,hash:s})}function fw(){return H.useContext(pw)!=null}function _p(){return ui(fw(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(pw).location}var Zz="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Yz(t){H.useContext(co).static||H.useLayoutEffect(t)}function Mse(){let{isDataRoute:t}=H.useContext(qa);return t?Vse():Ese()}function Ese(){ui(fw(),"useNavigate() may be used only in the context of a <Router> component.");let t=H.useContext(eg),{basename:e,navigator:i}=H.useContext(co),{matches:r}=H.useContext(qa),{pathname:s}=_p(),n=JSON.stringify(zz(r)),o=H.useRef(!1);return Yz(()=>{o.current=!0}),H.useCallback((c,d={})=>{if(Xo(o.current,Zz),!o.current)return;if(typeof c=="number"){i.go(c);return}let m=Uz(c,JSON.parse(n),s,d.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:tu([e,m.pathname])),(d.replace?i.replace:i.push)(m,d.state,d)},[e,i,n,s,t])}H.createContext(null);function Jz(){let{matches:t}=H.useContext(qa),e=t[t.length-1];return e?e.params:{}}function mw(t,{relative:e}={}){let{matches:i}=H.useContext(qa),{pathname:r}=_p(),s=JSON.stringify(zz(i));return H.useMemo(()=>Uz(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function Ase(t,e){return Kz(t,e)}function Kz(t,e,i,r,s){var C;ui(fw(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:n}=H.useContext(co),{matches:o}=H.useContext(qa),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",m=l?l.pathnameBase:"/",v=l&&l.route;{let R=v&&v.path||"";Qz(d,!v||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let w=_p(),_;if(e){let R=typeof e=="string"?bp(e):e;ui(m==="/"||((C=R.pathname)==null?void 0:C.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${R.pathname}" was given in the \`location\` prop.`),_=R}else _=w;let x=_.pathname||"/",T=x;if(m!=="/"){let R=m.replace(/^\//,"").split("/");T="/"+x.replace(/^\//,"").split("/").slice(R.length).join("/")}let M=Lz(t,{pathname:T});Xo(v||M!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Xo(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=Ise(M&&M.map(R=>Object.assign({},R,{params:Object.assign({},c,R.params),pathname:tu([m,n.encodeLocation?n.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?m:tu([m,n.encodeLocation?n.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),o,i,r,s);return e&&O?H.createElement(pw.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},O):O}function Ose(){let t=Lse(),e=mse(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},n={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:n},"ErrorBoundary")," or"," ",H.createElement("code",{style:n},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),i?H.createElement("pre",{style:s},i):null,o)}var kse=H.createElement(Ose,null),Xz=class extends H.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const i=Tse(t.digest);i&&(t=i)}let e=t!==void 0?H.createElement(qa.Provider,{value:this.props.routeContext},H.createElement(sC.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?H.createElement(Cse,{error:t},e):e}};Xz.contextType=vse;var AM=new WeakMap;function Cse({children:t,error:e}){let{basename:i}=H.useContext(co);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=xse(e.digest);if(r){let s=AM.get(e);if(s)throw s;let n=Bz(r.location,i);if(qz&&!AM.get(e))if(n.isExternal||r.reloadDocument)window.location.href=n.absoluteURL||n.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(n.to,{replace:r.replace}));throw AM.set(e,o),o}return H.createElement("meta",{httpEquiv:"refresh",content:`0;url=${n.absoluteURL||n.to}`})}}return t}function Rse({routeContext:t,match:e,children:i}){let r=H.useContext(eg);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(qa.Provider,{value:t},i)}function Ise(t,e=[],i=null,r=null,s=null){if(t==null){if(!i)return null;if(i.errors)t=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)t=i.matches;else return null}let n=t,o=i==null?void 0:i.errors;if(o!=null){let m=n.findIndex(v=>v.route.id&&(o==null?void 0:o[v.route.id])!==void 0);ui(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),n=n.slice(0,Math.min(n.length,m+1))}let l=!1,c=-1;if(i)for(let m=0;m<n.length;m++){let v=n[m];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(c=m),v.route.id){let{loaderData:w,errors:_}=i,x=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!_||_[v.route.id]===void 0);if(v.route.lazy||x){l=!0,c>=0?n=n.slice(0,c+1):n=[n[0]];break}}}let d=i&&r?(m,v)=>{var w,_;r(m,{location:i.location,params:((_=(w=i.matches)==null?void 0:w[0])==null?void 0:_.params)??{},unstable_pattern:yse(i.matches),errorInfo:v})}:void 0;return n.reduceRight((m,v,w)=>{let _,x=!1,T=null,M=null;i&&(_=o&&v.route.id?o[v.route.id]:void 0,T=v.route.errorElement||kse,l&&(c<0&&w===0?(Qz("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,M=null):c===w&&(x=!0,M=v.route.hydrateFallbackElement||null)));let O=e.concat(n.slice(0,w+1)),C=()=>{let R;return _?R=T:x?R=M:v.route.Component?R=H.createElement(v.route.Component,null):v.route.element?R=v.route.element:R=m,H.createElement(Rse,{match:v,routeContext:{outlet:m,matches:O,isDataRoute:i!=null},children:R})};return i&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?H.createElement(Xz,{location:i.location,revalidation:i.revalidation,component:T,error:_,children:C(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:d}):C()},null)}function nC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pse(t){let e=H.useContext(eg);return ui(e,nC(t)),e}function jse(t){let e=H.useContext(Gx);return ui(e,nC(t)),e}function Nse(t){let e=H.useContext(qa);return ui(e,nC(t)),e}function oC(t){let e=Nse(t),i=e.matches[e.matches.length-1];return ui(i.route.id,`${t} can only be used on routes that contain a unique "id"`),i.route.id}function Dse(){return oC("useRouteId")}function Lse(){var r;let t=H.useContext(sC),e=jse("useRouteError"),i=oC("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[i]}function Vse(){let{router:t}=Pse("useNavigate"),e=oC("useNavigate"),i=H.useRef(!1);return Yz(()=>{i.current=!0}),H.useCallback(async(s,n={})=>{Xo(i.current,Zz),i.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...n}))},[t,e])}var KN={};function Qz(t,e,i){!e&&!KN[t]&&(KN[t]=!0,Xo(!1,i))}H.memo(Fse);function Fse({routes:t,future:e,state:i,onError:r}){return Kz(t,void 0,i,r,e)}function Hh(t){ui(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zse({basename:t="/",children:e=null,location:i,navigationType:r="POP",navigator:s,static:n=!1,unstable_useTransitions:o}){ui(!fw(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=H.useMemo(()=>({basename:l,navigator:s,static:n,unstable_useTransitions:o,future:{}}),[l,s,n,o]);typeof i=="string"&&(i=bp(i));let{pathname:d="/",search:m="",hash:v="",state:w=null,key:_="default"}=i,x=H.useMemo(()=>{let T=lu(d,l);return T==null?null:{location:{pathname:T,search:m,hash:v,state:w,key:_},navigationType:r}},[l,d,m,v,w,_,r]);return Xo(x!=null,`<Router basename="${l}"> is not able to match the URL "${d}${m}${v}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:H.createElement(co.Provider,{value:c},H.createElement(pw.Provider,{children:e,value:x}))}function Use({children:t,location:e}){return Ase(SE(t),e)}function SE(t,e=[]){let i=[];return H.Children.forEach(t,(r,s)=>{if(!H.isValidElement(r))return;let n=[...e,s];if(r.type===H.Fragment){i.push.apply(i,SE(r.props.children,n));return}ui(r.type===Hh,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ui(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||n.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=SE(r.props.children,n)),i.push(o)}),i}var a2="get",l2="application/x-www-form-urlencoded";function Hx(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function qse(t){return Hx(t)&&t.tagName.toLowerCase()==="button"}function Bse(t){return Hx(t)&&t.tagName.toLowerCase()==="form"}function Gse(t){return Hx(t)&&t.tagName.toLowerCase()==="input"}function Hse(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Wse(t,e){return t.button===0&&(!e||e==="_self")&&!Hse(t)}var n_=null;function Zse(){if(n_===null)try{new FormData(document.createElement("form"),0),n_=!1}catch{n_=!0}return n_}var Yse=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function OM(t){return t!=null&&!Yse.has(t)?(Xo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${l2}"`),null):t}function Jse(t,e){let i,r,s,n,o;if(Bse(t)){let l=t.getAttribute("action");r=l?lu(l,e):null,i=t.getAttribute("method")||a2,s=OM(t.getAttribute("enctype"))||l2,n=new FormData(t)}else if(qse(t)||Gse(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(r=c?lu(c,e):null,i=t.getAttribute("formmethod")||l.getAttribute("method")||a2,s=OM(t.getAttribute("formenctype"))||OM(l.getAttribute("enctype"))||l2,n=new FormData(l,t),!Zse()){let{name:d,type:m,value:v}=t;if(m==="image"){let w=d?`${d}.`:"";n.append(`${w}x`,"0"),n.append(`${w}y`,"0")}else d&&n.append(d,v)}}else{if(Hx(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=a2,r=null,s=l2,o=t}return n&&s==="text/plain"&&(o=n,n=void 0),{action:r,method:i.toLowerCase(),encType:s,formData:n,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function aC(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Kse(t,e,i,r){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${r}`:s.pathname=`${s.pathname}.${r}`:s.pathname==="/"?s.pathname=`_root.${r}`:e&&lu(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function Xse(t,e){if(t.id in e)return e[t.id];try{let i=await import(t.module);return e[t.id]=i,i}catch(i){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Qse(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ene(t,e,i){let r=await Promise.all(t.map(async s=>{let n=e.routes[s.route.id];if(n){let o=await Xse(n,i);return o.links?o.links():[]}return[]}));return sne(r.flat(1).filter(Qse).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function XN(t,e,i,r,s,n){let o=(c,d)=>i[d]?c.route.id!==i[d].route.id:!0,l=(c,d)=>{var m;return i[d].pathname!==c.pathname||((m=i[d].route.path)==null?void 0:m.endsWith("*"))&&i[d].params["*"]!==c.params["*"]};return n==="assets"?e.filter((c,d)=>o(c,d)||l(c,d)):n==="data"?e.filter((c,d)=>{var v;let m=r.routes[c.route.id];if(!m||!m.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let w=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=i[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function tne(t,e,{includeHydrateFallback:i}={}){return ine(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let n=[s.module];return s.clientActionModule&&(n=n.concat(s.clientActionModule)),s.clientLoaderModule&&(n=n.concat(s.clientLoaderModule)),i&&s.hydrateFallbackModule&&(n=n.concat(s.hydrateFallbackModule)),s.imports&&(n=n.concat(s.imports)),n}).flat(1))}function ine(t){return[...new Set(t)]}function rne(t){let e={},i=Object.keys(t).sort();for(let r of i)e[r]=t[r];return e}function sne(t,e){let i=new Set;return new Set(e),t.reduce((r,s)=>{let n=JSON.stringify(rne(s));return i.has(n)||(i.add(n),r.push({key:n,link:s})),r},[])}function eU(){let t=H.useContext(eg);return aC(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function nne(){let t=H.useContext(Gx);return aC(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var lC=H.createContext(void 0);lC.displayName="FrameworkContext";function tU(){let t=H.useContext(lC);return aC(t,"You must render this element inside a <HydratedRouter> element"),t}function one(t,e){let i=H.useContext(lC),[r,s]=H.useState(!1),[n,o]=H.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:m,onTouchStart:v}=e,w=H.useRef(null);H.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let T=O=>{O.forEach(C=>{o(C.isIntersecting)})},M=new IntersectionObserver(T,{threshold:.5});return w.current&&M.observe(w.current),()=>{M.disconnect()}}},[t]),H.useEffect(()=>{if(r){let T=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(T)}}},[r]);let _=()=>{s(!0)},x=()=>{s(!1),o(!1)};return i?t!=="intent"?[n,w,{}]:[n,w,{onFocus:A0(l,_),onBlur:A0(c,x),onMouseEnter:A0(d,_),onMouseLeave:A0(m,x),onTouchStart:A0(v,_)}]:[!1,w,{}]}function A0(t,e){return i=>{t&&t(i),i.defaultPrevented||e(i)}}function ane({page:t,...e}){let{router:i}=eU(),r=H.useMemo(()=>Lz(i.routes,t,i.basename),[i.routes,t,i.basename]);return r?H.createElement(une,{page:t,matches:r,...e}):null}function lne(t){let{manifest:e,routeModules:i}=tU(),[r,s]=H.useState([]);return H.useEffect(()=>{let n=!1;return ene(t,e,i).then(o=>{n||s(o)}),()=>{n=!0}},[t,e,i]),r}function une({page:t,matches:e,...i}){let r=_p(),{future:s,manifest:n,routeModules:o}=tU(),{basename:l}=eU(),{loaderData:c,matches:d}=nne(),m=H.useMemo(()=>XN(t,e,d,n,r,"data"),[t,e,d,n,r]),v=H.useMemo(()=>XN(t,e,d,n,r,"assets"),[t,e,d,n,r]),w=H.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let T=new Set,M=!1;if(e.forEach(C=>{var N;let R=n.routes[C.route.id];!R||!R.hasLoader||(!m.some(j=>j.route.id===C.route.id)&&C.route.id in c&&((N=o[C.route.id])!=null&&N.shouldRevalidate)||R.hasClientLoader?M=!0:T.add(C.route.id))}),T.size===0)return[];let O=Kse(t,l,s.unstable_trailingSlashAwareDataRequests,"data");return M&&T.size>0&&O.searchParams.set("_routes",e.filter(C=>T.has(C.route.id)).map(C=>C.route.id).join(",")),[O.pathname+O.search]},[l,s.unstable_trailingSlashAwareDataRequests,c,r,n,m,e,t,o]),_=H.useMemo(()=>tne(v,n),[v,n]),x=lne(v);return H.createElement(H.Fragment,null,w.map(T=>H.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...i})),_.map(T=>H.createElement("link",{key:T,rel:"modulepreload",href:T,...i})),x.map(({key:T,link:M})=>H.createElement("link",{key:T,nonce:i.nonce,...M,crossOrigin:M.crossOrigin??i.crossOrigin})))}function cne(...t){return e=>{t.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var hne=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hne&&(window.__reactRouterVersion="7.13.0")}catch{}function dne({basename:t,children:e,unstable_useTransitions:i,window:r}){let s=H.useRef();s.current==null&&(s.current=Gre({window:r,v5Compat:!0}));let n=s.current,[o,l]=H.useState({action:n.action,location:n.location}),c=H.useCallback(d=>{i===!1?l(d):H.startTransition(()=>l(d))},[i]);return H.useLayoutEffect(()=>n.listen(c),[n,c]),H.createElement(zse,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:n,unstable_useTransitions:i})}var iU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rU=H.forwardRef(function({onClick:e,discover:i="render",prefetch:r="none",relative:s,reloadDocument:n,replace:o,state:l,target:c,to:d,preventScrollReset:m,viewTransition:v,unstable_defaultShouldRevalidate:w,..._},x){let{basename:T,unstable_useTransitions:M}=H.useContext(co),O=typeof d=="string"&&iU.test(d),C=Bz(d,T);d=C.to;let R=$se(d,{relative:s}),[N,j,F]=one(r,_),ee=yne(d,{replace:o,state:l,target:c,preventScrollReset:m,relative:s,viewTransition:v,unstable_defaultShouldRevalidate:w,unstable_useTransitions:M});function X(re){e&&e(re),re.defaultPrevented||ee(re)}let J=H.createElement("a",{..._,...F,href:C.absoluteURL||R,onClick:C.isExternal||n?e:X,ref:cne(x,j),target:c,"data-discover":!O&&i==="render"?"true":void 0});return N&&!O?H.createElement(H.Fragment,null,J,H.createElement(ane,{page:R})):J});rU.displayName="Link";var pne=H.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:r="",end:s=!1,style:n,to:o,viewTransition:l,children:c,...d},m){let v=mw(o,{relative:d.relative}),w=_p(),_=H.useContext(Gx),{navigator:x,basename:T}=H.useContext(co),M=_!=null&&_ne(v)&&l===!0,O=x.encodeLocation?x.encodeLocation(v).pathname:v.pathname,C=w.pathname,R=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;i||(C=C.toLowerCase(),R=R?R.toLowerCase():null,O=O.toLowerCase()),R&&T&&(R=lu(R,T)||R);const N=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let j=C===O||!s&&C.startsWith(O)&&C.charAt(N)==="/",F=R!=null&&(R===O||!s&&R.startsWith(O)&&R.charAt(O.length)==="/"),ee={isActive:j,isPending:F,isTransitioning:M},X=j?e:void 0,J;typeof r=="function"?J=r(ee):J=[r,j?"active":null,F?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let re=typeof n=="function"?n(ee):n;return H.createElement(rU,{...d,"aria-current":X,className:J,ref:m,style:re,to:o,viewTransition:l},typeof c=="function"?c(ee):c)});pne.displayName="NavLink";var fne=H.forwardRef(({discover:t="render",fetcherKey:e,navigate:i,reloadDocument:r,replace:s,state:n,method:o=a2,action:l,onSubmit:c,relative:d,preventScrollReset:m,viewTransition:v,unstable_defaultShouldRevalidate:w,..._},x)=>{let{unstable_useTransitions:T}=H.useContext(co),M=wne(),O=bne(l,{relative:d}),C=o.toLowerCase()==="get"?"get":"post",R=typeof l=="string"&&iU.test(l),N=j=>{if(c&&c(j),j.defaultPrevented)return;j.preventDefault();let F=j.nativeEvent.submitter,ee=(F==null?void 0:F.getAttribute("formmethod"))||o,X=()=>M(F||j.currentTarget,{fetcherKey:e,method:ee,navigate:i,replace:s,state:n,relative:d,preventScrollReset:m,viewTransition:v,unstable_defaultShouldRevalidate:w});T&&i!==!1?H.startTransition(()=>X()):X()};return H.createElement("form",{ref:x,method:C,action:O,onSubmit:r?c:N,..._,"data-discover":!R&&t==="render"?"true":void 0})});fne.displayName="Form";function mne(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sU(t){let e=H.useContext(eg);return ui(e,mne(t)),e}function yne(t,{target:e,replace:i,state:r,preventScrollReset:s,relative:n,viewTransition:o,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let d=Mse(),m=_p(),v=mw(t,{relative:n});return H.useCallback(w=>{if(Wse(w,e)){w.preventDefault();let _=i!==void 0?i:A1(m)===A1(v),x=()=>d(t,{replace:_,state:r,preventScrollReset:s,relative:n,viewTransition:o,unstable_defaultShouldRevalidate:l});c?H.startTransition(()=>x()):x()}},[m,d,v,i,r,e,t,s,n,o,l,c])}var gne=0,vne=()=>`__${String(++gne)}__`;function wne(){let{router:t}=sU("useSubmit"),{basename:e}=H.useContext(co),i=Dse(),r=t.fetch,s=t.navigate;return H.useCallback(async(n,o={})=>{let{action:l,method:c,encType:d,formData:m,body:v}=Jse(n,e);if(o.navigate===!1){let w=o.fetcherKey||vne();await r(w,i,o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:m,body:v,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else await s(o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:m,body:v,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,s,e,i])}function bne(t,{relative:e}={}){let{basename:i}=H.useContext(co),r=H.useContext(qa);ui(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),n={...mw(t||".",{relative:e})},o=_p();if(t==null){n.search=o.search;let l=new URLSearchParams(n.search),c=l.getAll("index");if(c.some(m=>m==="")){l.delete("index"),c.filter(v=>v).forEach(v=>l.append("index",v));let m=l.toString();n.search=m?`?${m}`:""}}return(!t||t===".")&&s.route.index&&(n.search=n.search?n.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(n.pathname=n.pathname==="/"?i:tu([i,n.pathname])),A1(n)}function _ne(t,{relative:e}={}){let i=H.useContext(Hz);ui(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=sU("useViewTransitionState"),s=mw(t,{relative:e});if(!i.isTransitioning)return!1;let n=lu(i.currentLocation.pathname,r)||i.currentLocation.pathname,o=lu(i.nextLocation.pathname,r)||i.nextLocation.pathname;return OS(s.pathname,o)!=null||OS(s.pathname,n)!=null}function Sne(){const[t,e]=H.useState(!1);return $.jsxs("nav",{className:"bg-orange-50 shadow-md sticky top-0 z-50",children:[$.jsxs("div",{className:"mx-auto px-4 py-3 flex justify-between",children:[$.jsx("div",{className:"text-2xl font-bold text-orange-600 self-start",children:$.jsx("a",{href:"/",children:$.jsx("img",{src:"/globe.svg",className:"h-8 w-8"})})}),$.jsxs("div",{className:"hidden md:flex space-x-6 text-gray-700 font-medium",children:[$.jsx("a",{href:"/",className:"hover:text-orange-600",children:"Home"}),$.jsx("a",{href:"/#/about",className:"hover:text-orange-600",children:"About"}),$.jsx("a",{href:"/#/adventure-blog",className:"hover:text-orange-600",children:"Adventure Blog"}),$.jsx("a",{href:"/#/tech-blog",className:"hover:text-orange-600",children:"Tech Blog"})]}),$.jsx("button",{onClick:()=>e(!t),className:"md:hidden text-gray-700 focus:outline-none",children:$.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t?$.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):$.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),t&&$.jsxs("div",{className:"md:hidden bg-white border-t",children:[$.jsx("a",{onClick:()=>e(!t),href:"/",className:"block px-4 py-2 hover:bg-gray-50",children:"Home"}),$.jsx("a",{onClick:()=>e(!t),href:"/#/about",className:"block px-4 py-2 hover:bg-gray-50",children:"About"}),$.jsx("a",{onClick:()=>e(!t),href:"/#/adventure-blog",className:"block px-4 py-2 hover:bg-gray-50",children:"Adventure Blog"}),$.jsx("a",{onClick:()=>e(!t),href:"/#/contact",className:"block px-4 py-2 hover:bg-gray-50",children:"Tech Blog"})]})]})}const nU=H.createContext({});function xne(t){const e=H.useRef(null);return e.current===null&&(e.current=t()),e.current}const uC=typeof window<"u",Tne=uC?H.useLayoutEffect:H.useEffect,cC=H.createContext(null);function hC(t,e){t.indexOf(e)===-1&&t.push(e)}function dC(t,e){const i=t.indexOf(e);i>-1&&t.splice(i,1)}const uu=(t,e,i)=>i>e?e:i<t?t:i;let pC=()=>{};const cu={},oU=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function aU(t){return typeof t=="object"&&t!==null}const lU=t=>/^0[^.\s]+$/u.test(t);function fC(t){let e;return()=>(e===void 0&&(e=t()),e)}const oo=t=>t,$ne=(t,e)=>i=>e(t(i)),yw=(...t)=>t.reduce($ne),O1=(t,e,i)=>{const r=e-t;return r===0?1:(i-t)/r};class mC{constructor(){this.subscriptions=[]}add(e){return hC(this.subscriptions,e),()=>dC(this.subscriptions,e)}notify(e,i,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,i,r);else for(let n=0;n<s;n++){const o=this.subscriptions[n];o&&o(e,i,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Pa=t=>t*1e3,io=t=>t/1e3;function uU(t,e){return e?t*(1e3/e):0}const cU=(t,e,i)=>(((1-3*i+3*e)*t+(3*i-6*e))*t+3*e)*t,Mne=1e-7,Ene=12;function Ane(t,e,i,r,s){let n,o,l=0;do o=e+(i-e)/2,n=cU(o,r,s)-t,n>0?i=o:e=o;while(Math.abs(n)>Mne&&++l<Ene);return o}function gw(t,e,i,r){if(t===e&&i===r)return oo;const s=n=>Ane(n,0,1,t,i);return n=>n===0||n===1?n:cU(s(n),e,r)}const hU=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,dU=t=>e=>1-t(1-e),pU=gw(.33,1.53,.69,.99),yC=dU(pU),fU=hU(yC),mU=t=>(t*=2)<1?.5*yC(t):.5*(2-Math.pow(2,-10*(t-1))),gC=t=>1-Math.sin(Math.acos(t)),yU=dU(gC),gU=hU(gC),One=gw(.42,0,1,1),kne=gw(0,0,.58,1),vU=gw(.42,0,.58,1),Cne=t=>Array.isArray(t)&&typeof t[0]!="number",wU=t=>Array.isArray(t)&&typeof t[0]=="number",Rne={linear:oo,easeIn:One,easeInOut:vU,easeOut:kne,circIn:gC,circInOut:gU,circOut:yU,backIn:yC,backInOut:fU,backOut:pU,anticipate:mU},Ine=t=>typeof t=="string",QN=t=>{if(wU(t)){pC(t.length===4);const[e,i,r,s]=t;return gw(e,i,r,s)}else if(Ine(t))return Rne[t];return t},o_=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Pne(t,e){let i=new Set,r=new Set,s=!1,n=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(m){o.has(m)&&(d.schedule(m),t()),m(l)}const d={schedule:(m,v=!1,w=!1)=>{const x=w&&s?i:r;return v&&o.add(m),x.has(m)||x.add(m),m},cancel:m=>{r.delete(m),o.delete(m)},process:m=>{if(l=m,s){n=!0;return}s=!0,[i,r]=[r,i],i.forEach(c),i.clear(),s=!1,n&&(n=!1,d.process(m))}};return d}const jne=40;function bU(t,e){let i=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},n=()=>i=!0,o=o_.reduce((R,N)=>(R[N]=Pne(n),R),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:m,update:v,preRender:w,render:_,postRender:x}=o,T=()=>{const R=cu.useManualTiming?s.timestamp:performance.now();i=!1,cu.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(R-s.timestamp,jne),1)),s.timestamp=R,s.isProcessing=!0,l.process(s),c.process(s),d.process(s),m.process(s),v.process(s),w.process(s),_.process(s),x.process(s),s.isProcessing=!1,i&&e&&(r=!1,t(T))},M=()=>{i=!0,r=!0,s.isProcessing||t(T)};return{schedule:o_.reduce((R,N)=>{const j=o[N];return R[N]=(F,ee=!1,X=!1)=>(i||M(),j.schedule(F,ee,X)),R},{}),cancel:R=>{for(let N=0;N<o_.length;N++)o[o_[N]].cancel(R)},state:s,steps:o}}const{schedule:ii,cancel:Fc,state:Ar,steps:kM}=bU(typeof requestAnimationFrame<"u"?requestAnimationFrame:oo,!0);let u2;function Nne(){u2=void 0}const zs={now:()=>(u2===void 0&&zs.set(Ar.isProcessing||cu.useManualTiming?Ar.timestamp:performance.now()),u2),set:t=>{u2=t,queueMicrotask(Nne)}},_U=t=>e=>typeof e=="string"&&e.startsWith(t),vC=_U("--"),Dne=_U("var(--"),wC=t=>Dne(t)?Lne.test(t.split("/*")[0].trim()):!1,Lne=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,tg={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},k1={...tg,transform:t=>uu(0,1,t)},a_={...tg,default:1},Bv=t=>Math.round(t*1e5)/1e5,bC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Vne(t){return t==null}const Fne=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,_C=(t,e)=>i=>!!(typeof i=="string"&&Fne.test(i)&&i.startsWith(t)||e&&!Vne(i)&&Object.prototype.hasOwnProperty.call(i,e)),SU=(t,e,i)=>r=>{if(typeof r!="string")return r;const[s,n,o,l]=r.match(bC);return{[t]:parseFloat(s),[e]:parseFloat(n),[i]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},zne=t=>uu(0,255,t),CM={...tg,transform:t=>Math.round(zne(t))},Td={test:_C("rgb","red"),parse:SU("red","green","blue"),transform:({red:t,green:e,blue:i,alpha:r=1})=>"rgba("+CM.transform(t)+", "+CM.transform(e)+", "+CM.transform(i)+", "+Bv(k1.transform(r))+")"};function Une(t){let e="",i="",r="",s="";return t.length>5?(e=t.substring(1,3),i=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),i=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,i+=i,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(i,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const xE={test:_C("#"),parse:Une,transform:Td.transform},vw=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Yu=vw("deg"),ja=vw("%"),Ge=vw("px"),qne=vw("vh"),Bne=vw("vw"),eD={...ja,parse:t=>ja.parse(t)/100,transform:t=>ja.transform(t*100)},pm={test:_C("hsl","hue"),parse:SU("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:i,alpha:r=1})=>"hsla("+Math.round(t)+", "+ja.transform(Bv(e))+", "+ja.transform(Bv(i))+", "+Bv(k1.transform(r))+")"},Bi={test:t=>Td.test(t)||xE.test(t)||pm.test(t),parse:t=>Td.test(t)?Td.parse(t):pm.test(t)?pm.parse(t):xE.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Td.transform(t):pm.transform(t),getAnimatableNone:t=>{const e=Bi.parse(t);return e.alpha=0,Bi.transform(e)}},Gne=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Hne(t){var e,i;return isNaN(t)&&typeof t=="string"&&(((e=t.match(bC))==null?void 0:e.length)||0)+(((i=t.match(Gne))==null?void 0:i.length)||0)>0}const xU="number",TU="color",Wne="var",Zne="var(",tD="${}",Yne=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function C1(t){const e=t.toString(),i=[],r={color:[],number:[],var:[]},s=[];let n=0;const l=e.replace(Yne,c=>(Bi.test(c)?(r.color.push(n),s.push(TU),i.push(Bi.parse(c))):c.startsWith(Zne)?(r.var.push(n),s.push(Wne),i.push(c)):(r.number.push(n),s.push(xU),i.push(parseFloat(c))),++n,tD)).split(tD);return{values:i,split:l,indexes:r,types:s}}function $U(t){return C1(t).values}function MU(t){const{split:e,types:i}=C1(t),r=e.length;return s=>{let n="";for(let o=0;o<r;o++)if(n+=e[o],s[o]!==void 0){const l=i[o];l===xU?n+=Bv(s[o]):l===TU?n+=Bi.transform(s[o]):n+=s[o]}return n}}const Jne=t=>typeof t=="number"?0:Bi.test(t)?Bi.getAnimatableNone(t):t;function Kne(t){const e=$U(t);return MU(t)(e.map(Jne))}const zc={test:Hne,parse:$U,createTransformer:MU,getAnimatableNone:Kne};function RM(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function Xne({hue:t,saturation:e,lightness:i,alpha:r}){t/=360,e/=100,i/=100;let s=0,n=0,o=0;if(!e)s=n=o=i;else{const l=i<.5?i*(1+e):i+e-i*e,c=2*i-l;s=RM(c,l,t+1/3),n=RM(c,l,t),o=RM(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(n*255),blue:Math.round(o*255),alpha:r}}function kS(t,e){return i=>i>0?e:t}const ai=(t,e,i)=>t+(e-t)*i,IM=(t,e,i)=>{const r=t*t,s=i*(e*e-r)+r;return s<0?0:Math.sqrt(s)},Qne=[xE,Td,pm],eoe=t=>Qne.find(e=>e.test(t));function iD(t){const e=eoe(t);if(!e)return!1;let i=e.parse(t);return e===pm&&(i=Xne(i)),i}const rD=(t,e)=>{const i=iD(t),r=iD(e);if(!i||!r)return kS(t,e);const s={...i};return n=>(s.red=IM(i.red,r.red,n),s.green=IM(i.green,r.green,n),s.blue=IM(i.blue,r.blue,n),s.alpha=ai(i.alpha,r.alpha,n),Td.transform(s))},TE=new Set(["none","hidden"]);function toe(t,e){return TE.has(t)?i=>i<=0?t:e:i=>i>=1?e:t}function ioe(t,e){return i=>ai(t,e,i)}function SC(t){return typeof t=="number"?ioe:typeof t=="string"?wC(t)?kS:Bi.test(t)?rD:noe:Array.isArray(t)?EU:typeof t=="object"?Bi.test(t)?rD:roe:kS}function EU(t,e){const i=[...t],r=i.length,s=t.map((n,o)=>SC(n)(n,e[o]));return n=>{for(let o=0;o<r;o++)i[o]=s[o](n);return i}}function roe(t,e){const i={...t,...e},r={};for(const s in i)t[s]!==void 0&&e[s]!==void 0&&(r[s]=SC(t[s])(t[s],e[s]));return s=>{for(const n in r)i[n]=r[n](s);return i}}function soe(t,e){const i=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const n=e.types[s],o=t.indexes[n][r[n]],l=t.values[o]??0;i[s]=l,r[n]++}return i}const noe=(t,e)=>{const i=zc.createTransformer(e),r=C1(t),s=C1(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?TE.has(t)&&!s.values.length||TE.has(e)&&!r.values.length?toe(t,e):yw(EU(soe(r,s),s.values),i):kS(t,e)};function AU(t,e,i){return typeof t=="number"&&typeof e=="number"&&typeof i=="number"?ai(t,e,i):SC(t)(t,e)}const ooe=t=>{const e=({timestamp:i})=>t(i);return{start:(i=!0)=>ii.update(e,i),stop:()=>Fc(e),now:()=>Ar.isProcessing?Ar.timestamp:zs.now()}},OU=(t,e,i=10)=>{let r="";const s=Math.max(Math.round(e/i),2);for(let n=0;n<s;n++)r+=Math.round(t(n/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},CS=2e4;function xC(t){let e=0;const i=50;let r=t.next(e);for(;!r.done&&e<CS;)e+=i,r=t.next(e);return e>=CS?1/0:e}function aoe(t,e=100,i){const r=i({...t,keyframes:[0,e]}),s=Math.min(xC(r),CS);return{type:"keyframes",ease:n=>r.next(s*n).value/e,duration:io(s)}}const loe=5;function kU(t,e,i){const r=Math.max(e-loe,0);return uU(i-t(r),e-r)}const xi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sD=.001;function uoe({duration:t=xi.duration,bounce:e=xi.bounce,velocity:i=xi.velocity,mass:r=xi.mass}){let s,n,o=1-e;o=uu(xi.minDamping,xi.maxDamping,o),t=uu(xi.minDuration,xi.maxDuration,io(t)),o<1?(s=d=>{const m=d*o,v=m*t,w=m-i,_=$E(d,o),x=Math.exp(-v);return sD-w/_*x},n=d=>{const v=d*o*t,w=v*i+i,_=Math.pow(o,2)*Math.pow(d,2)*t,x=Math.exp(-v),T=$E(Math.pow(d,2),o);return(-s(d)+sD>0?-1:1)*((w-_)*x)/T}):(s=d=>{const m=Math.exp(-d*t),v=(d-i)*t+1;return-.001+m*v},n=d=>{const m=Math.exp(-d*t),v=(i-d)*(t*t);return m*v});const l=5/t,c=hoe(s,n,l);if(t=Pa(t),isNaN(c))return{stiffness:xi.stiffness,damping:xi.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const coe=12;function hoe(t,e,i){let r=i;for(let s=1;s<coe;s++)r=r-t(r)/e(r);return r}function $E(t,e){return t*Math.sqrt(1-e*e)}const doe=["duration","bounce"],poe=["stiffness","damping","mass"];function nD(t,e){return e.some(i=>t[i]!==void 0)}function foe(t){let e={velocity:xi.velocity,stiffness:xi.stiffness,damping:xi.damping,mass:xi.mass,isResolvedFromDuration:!1,...t};if(!nD(t,poe)&&nD(t,doe))if(t.visualDuration){const i=t.visualDuration,r=2*Math.PI/(i*1.2),s=r*r,n=2*uu(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:xi.mass,stiffness:s,damping:n}}else{const i=uoe(t);e={...e,...i,mass:xi.mass},e.isResolvedFromDuration=!0}return e}function RS(t=xi.visualDuration,e=xi.bounce){const i=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=i;const n=i.keyframes[0],o=i.keyframes[i.keyframes.length-1],l={done:!1,value:n},{stiffness:c,damping:d,mass:m,duration:v,velocity:w,isResolvedFromDuration:_}=foe({...i,velocity:-io(i.velocity||0)}),x=w||0,T=d/(2*Math.sqrt(c*m)),M=o-n,O=io(Math.sqrt(c/m)),C=Math.abs(M)<5;r||(r=C?xi.restSpeed.granular:xi.restSpeed.default),s||(s=C?xi.restDelta.granular:xi.restDelta.default);let R;if(T<1){const j=$E(O,T);R=F=>{const ee=Math.exp(-T*O*F);return o-ee*((x+T*O*M)/j*Math.sin(j*F)+M*Math.cos(j*F))}}else if(T===1)R=j=>o-Math.exp(-O*j)*(M+(x+O*M)*j);else{const j=O*Math.sqrt(T*T-1);R=F=>{const ee=Math.exp(-T*O*F),X=Math.min(j*F,300);return o-ee*((x+T*O*M)*Math.sinh(X)+j*M*Math.cosh(X))/j}}const N={calculatedDuration:_&&v||null,next:j=>{const F=R(j);if(_)l.done=j>=v;else{let ee=j===0?x:0;T<1&&(ee=j===0?Pa(x):kU(R,j,F));const X=Math.abs(ee)<=r,J=Math.abs(o-F)<=s;l.done=X&&J}return l.value=l.done?o:F,l},toString:()=>{const j=Math.min(xC(N),CS),F=OU(ee=>N.next(j*ee).value,j,30);return j+"ms "+F},toTransition:()=>{}};return N}RS.applyToOptions=t=>{const e=aoe(t,100,RS);return t.ease=e.ease,t.duration=Pa(e.duration),t.type="keyframes",t};function ME({keyframes:t,velocity:e=0,power:i=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:n=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:m}){const v=t[0],w={done:!1,value:v},_=X=>l!==void 0&&X<l||c!==void 0&&X>c,x=X=>l===void 0?c:c===void 0||Math.abs(l-X)<Math.abs(c-X)?l:c;let T=i*e;const M=v+T,O=o===void 0?M:o(M);O!==M&&(T=O-v);const C=X=>-T*Math.exp(-X/r),R=X=>O+C(X),N=X=>{const J=C(X),re=R(X);w.done=Math.abs(J)<=d,w.value=w.done?O:re};let j,F;const ee=X=>{_(w.value)&&(j=X,F=RS({keyframes:[w.value,x(w.value)],velocity:kU(R,X,w.value),damping:s,stiffness:n,restDelta:d,restSpeed:m}))};return ee(0),{calculatedDuration:null,next:X=>{let J=!1;return!F&&j===void 0&&(J=!0,N(X),ee(X)),j!==void 0&&X>=j?F.next(X-j):(!J&&N(X),w)}}}function moe(t,e,i){const r=[],s=i||cu.mix||AU,n=t.length-1;for(let o=0;o<n;o++){let l=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||oo:e;l=yw(c,l)}r.push(l)}return r}function yoe(t,e,{clamp:i=!0,ease:r,mixer:s}={}){const n=t.length;if(pC(n===e.length),n===1)return()=>e[0];if(n===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[n-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=moe(e,r,s),c=l.length,d=m=>{if(o&&m<t[0])return e[0];let v=0;if(c>1)for(;v<t.length-2&&!(m<t[v+1]);v++);const w=O1(t[v],t[v+1],m);return l[v](w)};return i?m=>d(uu(t[0],t[n-1],m)):d}function goe(t,e){const i=t[t.length-1];for(let r=1;r<=e;r++){const s=O1(0,e,r);t.push(ai(i,1,s))}}function voe(t){const e=[0];return goe(e,t.length-1),e}function woe(t,e){return t.map(i=>i*e)}function boe(t,e){return t.map(()=>e||vU).splice(0,t.length-1)}function Gv({duration:t=300,keyframes:e,times:i,ease:r="easeInOut"}){const s=Cne(r)?r.map(QN):QN(r),n={done:!1,value:e[0]},o=woe(i&&i.length===e.length?i:voe(e),t),l=yoe(o,e,{ease:Array.isArray(s)?s:boe(e,s)});return{calculatedDuration:t,next:c=>(n.value=l(c),n.done=c>=t,n)}}const _oe=t=>t!==null;function TC(t,{repeat:e,repeatType:i="loop"},r,s=1){const n=t.filter(_oe),l=s<0||e&&i!=="loop"&&e%2===1?0:n.length-1;return!l||r===void 0?n[l]:r}const Soe={decay:ME,inertia:ME,tween:Gv,keyframes:Gv,spring:RS};function CU(t){typeof t.type=="string"&&(t.type=Soe[t.type])}class $C{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,i){return this.finished.then(e,i)}}const xoe=t=>t/100;class MC extends $C{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:i}=this.options;i&&i.updatedAt!==zs.now()&&this.tick(zs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;CU(e);const{type:i=Gv,repeat:r=0,repeatDelay:s=0,repeatType:n,velocity:o=0}=e;let{keyframes:l}=e;const c=i||Gv;c!==Gv&&typeof l[0]!="number"&&(this.mixKeyframes=yw(xoe,AU(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});n==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=xC(d));const{calculatedDuration:m}=d;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=d}updateTime(e){const i=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(e,i=!1){const{generator:r,totalDuration:s,mixKeyframes:n,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:m,repeat:v,repeatType:w,repeatDelay:_,type:x,onUpdate:T,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),i?this.currentTime=e:this.updateTime(e);const O=this.currentTime-d*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?O<0:O>s;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let R=this.currentTime,N=r;if(v){const X=Math.min(this.currentTime,s)/l;let J=Math.floor(X),re=X%1;!re&&X>=1&&(re=1),re===1&&J--,J=Math.min(J,v+1),!!(J%2)&&(w==="reverse"?(re=1-re,_&&(re-=_/l)):w==="mirror"&&(N=o)),R=uu(0,1,re)*l}const j=C?{done:!1,value:m[0]}:N.next(R);n&&(j.value=n(j.value));let{done:F}=j;!C&&c!==null&&(F=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const ee=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return ee&&x!==ME&&(j.value=TC(m,this.options,M,this.speed)),T&&T(j.value),ee&&this.finish(),j}then(e,i){return this.finished.then(e,i)}get duration(){return io(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+io(e)}get time(){return io(this.currentTime)}set time(e){var i;e=Pa(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(i=this.driver)==null||i.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(zs.now());const i=this.playbackSpeed!==e;this.playbackSpeed=e,i&&(this.time=io(this.currentTime))}play(){var s,n;if(this.isStopped)return;const{driver:e=ooe,startTime:i}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(n=(s=this.options).onPlay)==null||n.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(zs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,i;this.notifyFinished(),this.teardown(),this.state="finished",(i=(e=this.options).onComplete)==null||i.call(e)}cancel(){var e,i;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(i=(e=this.options).onCancel)==null||i.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var i;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(i=this.driver)==null||i.stop(),e.observe(this)}}function Toe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const $d=t=>t*180/Math.PI,EE=t=>{const e=$d(Math.atan2(t[1],t[0]));return AE(e)},$oe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:EE,rotateZ:EE,skewX:t=>$d(Math.atan(t[1])),skewY:t=>$d(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},AE=t=>(t=t%360,t<0&&(t+=360),t),oD=EE,aD=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),lD=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Moe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:aD,scaleY:lD,scale:t=>(aD(t)+lD(t))/2,rotateX:t=>AE($d(Math.atan2(t[6],t[5]))),rotateY:t=>AE($d(Math.atan2(-t[2],t[0]))),rotateZ:oD,rotate:oD,skewX:t=>$d(Math.atan(t[4])),skewY:t=>$d(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function OE(t){return t.includes("scale")?1:0}function kE(t,e){if(!t||t==="none")return OE(e);const i=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(i)r=Moe,s=i;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=$oe,s=l}if(!s)return OE(e);const n=r[e],o=s[1].split(",").map(Aoe);return typeof n=="function"?n(o):o[n]}const Eoe=(t,e)=>{const{transform:i="none"}=getComputedStyle(t);return kE(i,e)};function Aoe(t){return parseFloat(t.trim())}const ig=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rg=new Set(ig),uD=t=>t===tg||t===Ge,Ooe=new Set(["x","y","z"]),koe=ig.filter(t=>!Ooe.has(t));function Coe(t){const e=[];return koe.forEach(i=>{const r=t.getValue(i);r!==void 0&&(e.push([i,r.get()]),r.set(i.startsWith("scale")?1:0))}),e}const Fd={width:({x:t},{paddingLeft:e="0",paddingRight:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),height:({y:t},{paddingTop:e="0",paddingBottom:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>kE(e,"x"),y:(t,{transform:e})=>kE(e,"y")};Fd.translateX=Fd.x;Fd.translateY=Fd.y;const zd=new Set;let CE=!1,RE=!1,IE=!1;function RU(){if(RE){const t=Array.from(zd).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),i=new Map;e.forEach(r=>{const s=Coe(r);s.length&&(i.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=i.get(r);s&&s.forEach(([n,o])=>{var l;(l=r.getValue(n))==null||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}RE=!1,CE=!1,zd.forEach(t=>t.complete(IE)),zd.clear()}function IU(){zd.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(RE=!0)})}function Roe(){IE=!0,IU(),RU(),IE=!1}class EC{constructor(e,i,r,s,n,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=i,this.name=r,this.motionValue=s,this.element=n,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(zd.add(this),CE||(CE=!0,ii.read(IU),ii.resolveKeyframes(RU))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:i,element:r,motionValue:s}=this;if(e[0]===null){const n=s==null?void 0:s.get(),o=e[e.length-1];if(n!==void 0)e[0]=n;else if(r&&i){const l=r.readValue(i,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),s&&n===void 0&&s.set(e[0])}Toe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),zd.delete(this)}cancel(){this.state==="scheduled"&&(zd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Ioe=t=>t.startsWith("--");function Poe(t,e,i){Ioe(e)?t.style.setProperty(e,i):t.style[e]=i}const joe=fC(()=>window.ScrollTimeline!==void 0),Noe={};function Doe(t,e){const i=fC(t);return()=>Noe[e]??i()}const PU=Doe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),tv=([t,e,i,r])=>`cubic-bezier(${t}, ${e}, ${i}, ${r})`,cD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tv([0,.65,.55,1]),circOut:tv([.55,0,1,.45]),backIn:tv([.31,.01,.66,-.59]),backOut:tv([.33,1.53,.69,.99])};function jU(t,e){if(t)return typeof t=="function"?PU()?OU(t,e):"ease-out":wU(t)?tv(t):Array.isArray(t)?t.map(i=>jU(i,e)||cD.easeOut):cD[t]}function Loe(t,e,i,{delay:r=0,duration:s=300,repeat:n=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const m={[e]:i};c&&(m.offset=c);const v=jU(l,s);Array.isArray(v)&&(m.easing=v);const w={delay:r,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:n+1,direction:o==="reverse"?"alternate":"normal"};return d&&(w.pseudoElement=d),t.animate(m,w)}function NU(t){return typeof t=="function"&&"applyToOptions"in t}function Voe({type:t,...e}){return NU(t)&&PU()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Foe extends $C{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:i,name:r,keyframes:s,pseudoElement:n,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!n,this.allowFlatten=o,this.options=e,pC(typeof e.type!="string");const d=Voe(e);this.animation=Loe(i,r,s,d,n),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!n){const m=TC(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(m):Poe(i,r,m),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,i;(i=(e=this.animation).finish)==null||i.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,i;this.isPseudoElement||(i=(e=this.animation).commitStyles)==null||i.call(e)}get duration(){var i,r;const e=((r=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:r.call(i).duration)||0;return io(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+io(e)}get time(){return io(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Pa(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:i}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&joe()?(this.animation.timeline=e,oo):i(this)}}const DU={anticipate:mU,backInOut:fU,circInOut:gU};function zoe(t){return t in DU}function Uoe(t){typeof t.ease=="string"&&zoe(t.ease)&&(t.ease=DU[t.ease])}const hD=10;class qoe extends Foe{constructor(e){Uoe(e),CU(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:i,onUpdate:r,onComplete:s,element:n,...o}=this.options;if(!i)return;if(e!==void 0){i.set(e);return}const l=new MC({...o,autoplay:!1}),c=Pa(this.finishedTime??this.time);i.setWithVelocity(l.sample(c-hD).value,l.sample(c).value,hD),l.stop()}}const dD=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(zc.test(t)||t==="0")&&!t.startsWith("url("));function Boe(t){const e=t[0];if(t.length===1)return!0;for(let i=0;i<t.length;i++)if(t[i]!==e)return!0}function Goe(t,e,i,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const n=t[t.length-1],o=dD(s,e),l=dD(n,e);return!o||!l?!1:Boe(t)||(i==="spring"||NU(i))&&r}function PE(t){t.duration=0,t.type="keyframes"}const Hoe=new Set(["opacity","clipPath","filter","transform"]),Woe=fC(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Zoe(t){var m;const{motionValue:e,name:i,repeatDelay:r,repeatType:s,damping:n,type:o}=t;if(!(((m=e==null?void 0:e.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return Woe()&&i&&Hoe.has(i)&&(i!=="transform"||!d)&&!c&&!r&&s!=="mirror"&&n!==0&&o!=="inertia"}const Yoe=40;class Joe extends $C{constructor({autoplay:e=!0,delay:i=0,type:r="keyframes",repeat:s=0,repeatDelay:n=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:m,...v}){var x;super(),this.stop=()=>{var T,M;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(M=this.keyframeResolver)==null||M.cancel()},this.createdAt=zs.now();const w={autoplay:e,delay:i,type:r,repeat:s,repeatDelay:n,repeatType:o,name:c,motionValue:d,element:m,...v},_=(m==null?void 0:m.KeyframeResolver)||EC;this.keyframeResolver=new _(l,(T,M,O)=>this.onKeyframesResolved(T,M,w,!O),c,d,m),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,i,r,s){this.keyframeResolver=void 0;const{name:n,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:m}=r;this.resolvedAt=zs.now(),Goe(e,n,o,l)||((cu.instantAnimations||!c)&&(m==null||m(TC(e,r,i))),e[0]=e[e.length-1],PE(r),r.repeat=0);const w={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Yoe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...r,keyframes:e},_=!d&&Zoe(w)?new qoe({...w,element:w.motionValue.owner.current}):new MC(w);_.finished.then(()=>this.notifyFinished()).catch(oo),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,i){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Roe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Koe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Xoe(t){const e=Koe.exec(t);if(!e)return[,];const[,i,r,s]=e;return[`--${i??r}`,s]}function LU(t,e,i=1){const[r,s]=Xoe(t);if(!r)return;const n=window.getComputedStyle(e).getPropertyValue(r);if(n){const o=n.trim();return oU(o)?parseFloat(o):o}return wC(s)?LU(s,e,i+1):s}function AC(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const VU=new Set(["width","height","top","left","right","bottom",...ig]),Qoe={test:t=>t==="auto",parse:t=>t},FU=t=>e=>e.test(t),zU=[tg,Ge,ja,Yu,Bne,qne,Qoe],pD=t=>zU.find(FU(t));function eae(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||lU(t):!0}const tae=new Set(["brightness","contrast","saturate","opacity"]);function iae(t){const[e,i]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=i.match(bC)||[];if(!r)return t;const s=i.replace(r,"");let n=tae.has(e)?1:0;return r!==i&&(n*=100),e+"("+n+s+")"}const rae=/\b([a-z-]*)\(.*?\)/gu,jE={...zc,getAnimatableNone:t=>{const e=t.match(rae);return e?e.map(iae).join(" "):t}},fD={...tg,transform:Math.round},sae={rotate:Yu,rotateX:Yu,rotateY:Yu,rotateZ:Yu,scale:a_,scaleX:a_,scaleY:a_,scaleZ:a_,skew:Yu,skewX:Yu,skewY:Yu,distance:Ge,translateX:Ge,translateY:Ge,translateZ:Ge,x:Ge,y:Ge,z:Ge,perspective:Ge,transformPerspective:Ge,opacity:k1,originX:eD,originY:eD,originZ:Ge},OC={borderWidth:Ge,borderTopWidth:Ge,borderRightWidth:Ge,borderBottomWidth:Ge,borderLeftWidth:Ge,borderRadius:Ge,radius:Ge,borderTopLeftRadius:Ge,borderTopRightRadius:Ge,borderBottomRightRadius:Ge,borderBottomLeftRadius:Ge,width:Ge,maxWidth:Ge,height:Ge,maxHeight:Ge,top:Ge,right:Ge,bottom:Ge,left:Ge,padding:Ge,paddingTop:Ge,paddingRight:Ge,paddingBottom:Ge,paddingLeft:Ge,margin:Ge,marginTop:Ge,marginRight:Ge,marginBottom:Ge,marginLeft:Ge,backgroundPositionX:Ge,backgroundPositionY:Ge,...sae,zIndex:fD,fillOpacity:k1,strokeOpacity:k1,numOctaves:fD},nae={...OC,color:Bi,backgroundColor:Bi,outlineColor:Bi,fill:Bi,stroke:Bi,borderColor:Bi,borderTopColor:Bi,borderRightColor:Bi,borderBottomColor:Bi,borderLeftColor:Bi,filter:jE,WebkitFilter:jE},UU=t=>nae[t];function qU(t,e){let i=UU(t);return i!==jE&&(i=zc),i.getAnimatableNone?i.getAnimatableNone(e):void 0}const oae=new Set(["auto","none","0"]);function aae(t,e,i){let r=0,s;for(;r<t.length&&!s;){const n=t[r];typeof n=="string"&&!oae.has(n)&&C1(n).values.length&&(s=t[r]),r++}if(s&&i)for(const n of e)t[n]=qU(i,s)}class lae extends EC{constructor(e,i,r,s,n){super(e,i,r,s,n,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:i,name:r}=this;if(!i||!i.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),wC(d))){const m=LU(d,i.current);m!==void 0&&(e[c]=m),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!VU.has(r)||e.length!==2)return;const[s,n]=e,o=pD(s),l=pD(n);if(o!==l)if(uD(o)&&uD(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else Fd[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:i}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||eae(e[s]))&&r.push(s);r.length&&aae(e,r,i)}measureInitialState(){const{element:e,unresolvedKeyframes:i,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fd[r](e.measureViewportBox(),window.getComputedStyle(e.current)),i[0]=this.measuredOrigin;const s=i[i.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var l;const{element:e,name:i,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(i);s&&s.jump(this.measuredOrigin,!1);const n=r.length-1,o=r[n];r[n]=Fd[i](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function uae(t,e,i){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(i==null?void 0:i[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const BU=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function cae(t){return aU(t)&&"offsetHeight"in t}const mD=30,hae=t=>!isNaN(parseFloat(t));class dae{constructor(e,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var n;const s=zs.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((n=this.events.change)==null||n.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=i.owner}setCurrent(e){this.current=e,this.updatedAt=zs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=hae(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,i){this.events[e]||(this.events[e]=new mC);const r=this.events[e].add(i);return e==="change"?()=>{r(),ii.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,i){this.passiveEffect=e,this.stopPassiveEffect=i}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,i,r){this.set(i),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,i=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=zs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>mD)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,mD);return uU(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(e){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=e(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,i;(e=this.dependents)==null||e.clear(),(i=this.events.destroy)==null||i.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Cy(t,e){return new dae(t,e)}const{schedule:kC}=bU(queueMicrotask,!1),Po={x:!1,y:!1};function GU(){return Po.x||Po.y}function pae(t){return t==="x"||t==="y"?Po[t]?null:(Po[t]=!0,()=>{Po[t]=!1}):Po.x||Po.y?null:(Po.x=Po.y=!0,()=>{Po.x=Po.y=!1})}function HU(t,e){const i=uae(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[i,s,()=>r.abort()]}function yD(t){return!(t.pointerType==="touch"||GU())}function fae(t,e,i={}){const[r,s,n]=HU(t,i),o=l=>{if(!yD(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const m=v=>{yD(v)&&(d(v),c.removeEventListener("pointerleave",m))};c.addEventListener("pointerleave",m,s)};return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),n}const WU=(t,e)=>e?t===e?!0:WU(t,e.parentElement):!1,CC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,mae=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function yae(t){return mae.has(t.tagName)||t.tabIndex!==-1}const c2=new WeakSet;function gD(t){return e=>{e.key==="Enter"&&t(e)}}function PM(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const gae=(t,e)=>{const i=t.currentTarget;if(!i)return;const r=gD(()=>{if(c2.has(i))return;PM(i,"down");const s=gD(()=>{PM(i,"up")}),n=()=>PM(i,"cancel");i.addEventListener("keyup",s,e),i.addEventListener("blur",n,e)});i.addEventListener("keydown",r,e),i.addEventListener("blur",()=>i.removeEventListener("keydown",r),e)};function vD(t){return CC(t)&&!GU()}function vae(t,e,i={}){const[r,s,n]=HU(t,i),o=l=>{const c=l.currentTarget;if(!vD(l))return;c2.add(c);const d=e(c,l),m=(_,x)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),c2.has(c)&&c2.delete(c),vD(_)&&typeof d=="function"&&d(_,{success:x})},v=_=>{m(_,c===window||c===document||i.useGlobalTarget||WU(c,_.target))},w=_=>{m(_,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",w,s)};return r.forEach(l=>{(i.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),cae(l)&&(l.addEventListener("focus",d=>gae(d,s)),!yae(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),n}function ZU(t){return aU(t)&&"ownerSVGElement"in t}function wae(t){return ZU(t)&&t.tagName==="svg"}const Yr=t=>!!(t&&t.getVelocity),bae=[...zU,Bi,zc],_ae=t=>bae.find(FU(t)),YU=H.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Sae(t=!0){const e=H.useContext(cC);if(e===null)return[!0,null];const{isPresent:i,onExitComplete:r,register:s}=e,n=H.useId();H.useEffect(()=>{if(t)return s(n)},[t]);const o=H.useCallback(()=>t&&r&&r(n),[n,r,t]);return!i&&r?[!1,o]:[!0]}const JU=H.createContext({strict:!1}),wD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ry={};for(const t in wD)Ry[t]={isEnabled:e=>wD[t].some(i=>!!e[i])};function xae(t){for(const e in t)Ry[e]={...Ry[e],...t[e]}}const Tae=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function IS(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Tae.has(t)}let KU=t=>!IS(t);function $ae(t){typeof t=="function"&&(KU=e=>e.startsWith("on")?!IS(e):t(e))}try{$ae(require("@emotion/is-prop-valid").default)}catch{}function Mae(t,e,i){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(KU(s)||i===!0&&IS(s)||!e&&!IS(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Wx=H.createContext({});function Zx(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function R1(t){return typeof t=="string"||Array.isArray(t)}const RC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],IC=["initial",...RC];function Yx(t){return Zx(t.animate)||IC.some(e=>R1(t[e]))}function XU(t){return!!(Yx(t)||t.variants)}function Eae(t,e){if(Yx(t)){const{initial:i,animate:r}=t;return{initial:i===!1||R1(i)?i:void 0,animate:R1(r)?r:void 0}}return t.inherit!==!1?e:{}}function Aae(t){const{initial:e,animate:i}=Eae(t,H.useContext(Wx));return H.useMemo(()=>({initial:e,animate:i}),[bD(e),bD(i)])}function bD(t){return Array.isArray(t)?t.join(" "):t}const I1={};function Oae(t){for(const e in t)I1[e]=t[e],vC(e)&&(I1[e].isCSSVariable=!0)}function QU(t,{layout:e,layoutId:i}){return rg.has(t)||t.startsWith("origin")||(e||i!==void 0)&&(!!I1[t]||t==="opacity")}const kae={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Cae=ig.length;function Rae(t,e,i){let r="",s=!0;for(let n=0;n<Cae;n++){const o=ig[n],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||i){const d=BU(l,OC[o]);if(!c){s=!1;const m=kae[o]||o;r+=`${m}(${d}) `}i&&(e[o]=d)}}return r=r.trim(),i?r=i(e,s?"":r):s&&(r="none"),r}function PC(t,e,i){const{style:r,vars:s,transformOrigin:n}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(rg.has(c)){o=!0;continue}else if(vC(c)){s[c]=d;continue}else{const m=BU(d,OC[c]);c.startsWith("origin")?(l=!0,n[c]=m):r[c]=m}}if(e.transform||(o||i?r.transform=Rae(e,t.transform,i):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:m=0}=n;r.transformOrigin=`${c} ${d} ${m}`}}const jC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function eq(t,e,i){for(const r in e)!Yr(e[r])&&!QU(r,i)&&(t[r]=e[r])}function Iae({transformTemplate:t},e){return H.useMemo(()=>{const i=jC();return PC(i,e,t),Object.assign({},i.vars,i.style)},[e])}function Pae(t,e){const i=t.style||{},r={};return eq(r,i,t),Object.assign(r,Iae(t,e)),r}function jae(t,e){const i={},r=Pae(t,e);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=r,i}const Nae={offset:"stroke-dashoffset",array:"stroke-dasharray"},Dae={offset:"strokeDashoffset",array:"strokeDasharray"};function Lae(t,e,i=1,r=0,s=!0){t.pathLength=1;const n=s?Nae:Dae;t[n.offset]=Ge.transform(-r);const o=Ge.transform(e),l=Ge.transform(i);t[n.array]=`${o} ${l}`}function tq(t,{attrX:e,attrY:i,attrScale:r,pathLength:s,pathSpacing:n=1,pathOffset:o=0,...l},c,d,m){if(PC(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w}=t;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),i!==void 0&&(v.y=i),r!==void 0&&(v.scale=r),s!==void 0&&Lae(v,s,n,o,!1)}const iq=()=>({...jC(),attrs:{}}),rq=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Vae(t,e,i,r){const s=H.useMemo(()=>{const n=iq();return tq(n,e,rq(r),t.transformTemplate,t.style),{...n.attrs,style:{...n.style}}},[e]);if(t.style){const n={};eq(n,t.style,t),s.style={...n,...s.style}}return s}const Fae=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function NC(t){return typeof t!="string"||t.includes("-")?!1:!!(Fae.indexOf(t)>-1||/[A-Z]/u.test(t))}function zae(t,e,i,{latestValues:r},s,n=!1){const l=(NC(t)?Vae:jae)(e,r,s,t),c=Mae(e,typeof t=="string",n),d=t!==H.Fragment?{...c,...l,ref:i}:{},{children:m}=e,v=H.useMemo(()=>Yr(m)?m.get():m,[m]);return H.createElement(t,{...d,children:v})}function _D(t){const e=[{},{}];return t==null||t.values.forEach((i,r)=>{e[0][r]=i.get(),e[1][r]=i.getVelocity()}),e}function DC(t,e,i,r){if(typeof e=="function"){const[s,n]=_D(r);e=e(i!==void 0?i:t.custom,s,n)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,n]=_D(r);e=e(i!==void 0?i:t.custom,s,n)}return e}function h2(t){return Yr(t)?t.get():t}function Uae({scrapeMotionValuesFromProps:t,createRenderState:e},i,r,s){return{latestValues:qae(i,r,s,t),renderState:e()}}function qae(t,e,i,r){const s={},n=r(t,{});for(const w in n)s[w]=h2(n[w]);let{initial:o,animate:l}=t;const c=Yx(t),d=XU(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let m=i?i.initial===!1:!1;m=m||o===!1;const v=m?l:o;if(v&&typeof v!="boolean"&&!Zx(v)){const w=Array.isArray(v)?v:[v];for(let _=0;_<w.length;_++){const x=DC(t,w[_]);if(x){const{transitionEnd:T,transition:M,...O}=x;for(const C in O){let R=O[C];if(Array.isArray(R)){const N=m?R.length-1:0;R=R[N]}R!==null&&(s[C]=R)}for(const C in T)s[C]=T[C]}}}return s}const sq=t=>(e,i)=>{const r=H.useContext(Wx),s=H.useContext(cC),n=()=>Uae(t,e,r,s);return i?n():xne(n)};function LC(t,e,i){var n;const{style:r}=t,s={};for(const o in r)(Yr(r[o])||e.style&&Yr(e.style[o])||QU(o,t)||((n=i==null?void 0:i.getValue(o))==null?void 0:n.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const Bae=sq({scrapeMotionValuesFromProps:LC,createRenderState:jC});function nq(t,e,i){const r=LC(t,e,i);for(const s in t)if(Yr(t[s])||Yr(e[s])){const n=ig.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[n]=t[s]}return r}const Gae=sq({scrapeMotionValuesFromProps:nq,createRenderState:iq}),Hae=Symbol.for("motionComponentSymbol");function fm(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Wae(t,e,i){return H.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),i&&(typeof i=="function"?i(r):fm(i)&&(i.current=r))},[e])}const VC=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Zae="framerAppearId",oq="data-"+VC(Zae),aq=H.createContext({});function Yae(t,e,i,r,s){var T,M;const{visualElement:n}=H.useContext(Wx),o=H.useContext(JU),l=H.useContext(cC),c=H.useContext(YU).reducedMotion,d=H.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:n,props:i,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const m=d.current,v=H.useContext(aq);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&Jae(d.current,i,s,v);const w=H.useRef(!1);H.useInsertionEffect(()=>{m&&w.current&&m.update(i,l)});const _=i[oq],x=H.useRef(!!_&&!((T=window.MotionHandoffIsComplete)!=null&&T.call(window,_))&&((M=window.MotionHasOptimisedAnimation)==null?void 0:M.call(window,_)));return Tne(()=>{m&&(w.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),x.current&&m.animationState&&m.animationState.animateChanges())}),H.useEffect(()=>{m&&(!x.current&&m.animationState&&m.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var O;(O=window.MotionHandoffMarkAsComplete)==null||O.call(window,_)}),x.current=!1),m.enteringChildren=void 0)}),m}function Jae(t,e,i,r){const{layoutId:s,layout:n,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:m}=e;t.projection=new i(t.latestValues,e["data-framer-portal-id"]?void 0:lq(t.parent)),t.projection.setOptions({layoutId:s,layout:n,alwaysMeasureLayout:!!o||l&&fm(l),visualElement:t,animationType:typeof n=="string"?n:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:c,layoutRoot:d})}function lq(t){if(t)return t.options.allowProjection!==!1?t.projection:lq(t.parent)}function jM(t,{forwardMotionProps:e=!1}={},i,r){i&&xae(i);const s=NC(t)?Gae:Bae;function n(l,c){let d;const m={...H.useContext(YU),...l,layoutId:Kae(l)},{isStatic:v}=m,w=Aae(l),_=s(l,v);if(!v&&uC){Xae();const x=Qae(m);d=x.MeasureLayout,w.visualElement=Yae(t,_,m,r,x.ProjectionNode)}return $.jsxs(Wx.Provider,{value:w,children:[d&&w.visualElement?$.jsx(d,{visualElement:w.visualElement,...m}):null,zae(t,l,Wae(_,w.visualElement,c),_,v,e)]})}n.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=H.forwardRef(n);return o[Hae]=t,o}function Kae({layoutId:t}){const e=H.useContext(nU).id;return e&&t!==void 0?e+"-"+t:t}function Xae(t,e){H.useContext(JU).strict}function Qae(t){const{drag:e,layout:i}=Ry;if(!e&&!i)return{};const r={...e,...i};return{MeasureLayout:e!=null&&e.isEnabled(t)||i!=null&&i.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function ele(t,e){if(typeof Proxy>"u")return jM;const i=new Map,r=(n,o)=>jM(n,o,t,e),s=(n,o)=>r(n,o);return new Proxy(s,{get:(n,o)=>o==="create"?r:(i.has(o)||i.set(o,jM(o,void 0,t,e)),i.get(o))})}function uq({top:t,left:e,right:i,bottom:r}){return{x:{min:e,max:i},y:{min:t,max:r}}}function tle({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function ile(t,e){if(!e)return t;const i=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:i.y,left:i.x,bottom:r.y,right:r.x}}function NM(t){return t===void 0||t===1}function NE({scale:t,scaleX:e,scaleY:i}){return!NM(t)||!NM(e)||!NM(i)}function Wh(t){return NE(t)||cq(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function cq(t){return SD(t.x)||SD(t.y)}function SD(t){return t&&t!=="0%"}function PS(t,e,i){const r=t-i,s=e*r;return i+s}function xD(t,e,i,r,s){return s!==void 0&&(t=PS(t,s,r)),PS(t,i,r)+e}function DE(t,e=0,i=1,r,s){t.min=xD(t.min,e,i,r,s),t.max=xD(t.max,e,i,r,s)}function hq(t,{x:e,y:i}){DE(t.x,e.translate,e.scale,e.originPoint),DE(t.y,i.translate,i.scale,i.originPoint)}const TD=.999999999999,$D=1.0000000000001;function rle(t,e,i,r=!1){const s=i.length;if(!s)return;e.x=e.y=1;let n,o;for(let l=0;l<s;l++){n=i[l],o=n.projectionDelta;const{visualElement:c}=n.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&n.options.layoutScroll&&n.scroll&&n!==n.root&&ym(t,{x:-n.scroll.offset.x,y:-n.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,hq(t,o)),r&&Wh(n.latestValues)&&ym(t,n.latestValues))}e.x<$D&&e.x>TD&&(e.x=1),e.y<$D&&e.y>TD&&(e.y=1)}function mm(t,e){t.min=t.min+e,t.max=t.max+e}function MD(t,e,i,r,s=.5){const n=ai(t.min,t.max,s);DE(t,e,i,n,r)}function ym(t,e){MD(t.x,e.x,e.scaleX,e.scale,e.originX),MD(t.y,e.y,e.scaleY,e.scale,e.originY)}function dq(t,e){return uq(ile(t.getBoundingClientRect(),e))}function sle(t,e,i){const r=dq(t,i),{scroll:s}=e;return s&&(mm(r.x,s.offset.x),mm(r.y,s.offset.y)),r}const ED=()=>({translate:0,scale:1,origin:0,originPoint:0}),gm=()=>({x:ED(),y:ED()}),AD=()=>({min:0,max:0}),Ci=()=>({x:AD(),y:AD()}),LE={current:null},pq={current:!1};function nle(){if(pq.current=!0,!!uC)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>LE.current=t.matches;t.addEventListener("change",e),e()}else LE.current=!1}const ole=new WeakMap;function ale(t,e,i){for(const r in e){const s=e[r],n=i[r];if(Yr(s))t.addValue(r,s);else if(Yr(n))t.addValue(r,Cy(s,{owner:t}));else if(n!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Cy(o!==void 0?o:s,{owner:t}))}}for(const r in i)e[r]===void 0&&t.removeValue(r);return e}const OD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class lle{scrapeMotionValuesFromProps(e,i,r){return{}}constructor({parent:e,props:i,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:n,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=EC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=zs.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,ii.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=i.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=i,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!n,this.isControllingVariants=Yx(i),this.isVariantNode=XU(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...v}=this.scrapeMotionValuesFromProps(i,{},this);for(const w in v){const _=v[w];c[w]!==void 0&&Yr(_)&&_.set(c[w])}}mount(e){var i;this.current=e,ole.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),pq.current||nle(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:LE.current,(i=this.parent)==null||i.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Fc(this.notifyUpdate),Fc(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const r=this.features[i];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,i){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=rg.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=i.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ii.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let n;window.MotionCheckAppearSync&&(n=window.MotionCheckAppearSync(this,e,i)),this.valueSubscriptions.set(e,()=>{s(),n&&n(),i.owner&&i.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ry){const i=Ry[e];if(!i)continue;const{isEnabled:r,Feature:s}=i;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ci()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,i){this.latestValues[e]=i}update(e,i){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let r=0;r<OD.length;r++){const s=OD[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const n="on"+s,o=e[n];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=ale(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(e),()=>i.variantChildren.delete(e)}addValue(e,i){const r=this.values.get(e);i!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,i),this.values.set(e,i),this.latestValues[e]=i.get())}removeValue(e){this.values.delete(e);const i=this.valueSubscriptions.get(e);i&&(i(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,i){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&i!==void 0&&(r=Cy(i===null?void 0:i,{owner:this}),this.addValue(e,r)),r}readValue(e,i){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(oU(r)||lU(r))?r=parseFloat(r):!_ae(r)&&zc.test(i)&&(r=qU(e,i)),this.setBaseTarget(e,Yr(r)?r.get():r)),Yr(r)?r.get():r}setBaseTarget(e,i){this.baseTarget[e]=i}getBaseTarget(e){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const o=DC(this.props,i,(n=this.presenceContext)==null?void 0:n.custom);o&&(r=o[e])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Yr(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,i){return this.events[e]||(this.events[e]=new mC),this.events[e].add(i)}notify(e,...i){this.events[e]&&this.events[e].notify(...i)}scheduleRenderMicrotask(){kC.render(this.render)}}class fq extends lle{constructor(){super(...arguments),this.KeyframeResolver=lae}sortInstanceNodePosition(e,i){return e.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(e,i){return e.style?e.style[i]:void 0}removeValueFromRenderState(e,{vars:i,style:r}){delete i[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Yr(e)&&(this.childSubscription=e.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function mq(t,{style:e,vars:i},r,s){const n=t.style;let o;for(o in e)n[o]=e[o];s==null||s.applyProjectionStyles(n,r);for(o in i)n.setProperty(o,i[o])}function ule(t){return window.getComputedStyle(t)}class cle extends fq{constructor(){super(...arguments),this.type="html",this.renderInstance=mq}readValueFromInstance(e,i){var r;if(rg.has(i))return(r=this.projection)!=null&&r.isProjecting?OE(i):Eoe(e,i);{const s=ule(e),n=(vC(i)?s.getPropertyValue(i):s[i])||0;return typeof n=="string"?n.trim():n}}measureInstanceViewportBox(e,{transformPagePoint:i}){return dq(e,i)}build(e,i,r){PC(e,i,r.transformTemplate)}scrapeMotionValuesFromProps(e,i,r){return LC(e,i,r)}}const yq=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hle(t,e,i,r){mq(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(yq.has(s)?s:VC(s),e.attrs[s])}class dle extends fq{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ci}getBaseTargetFromProps(e,i){return e[i]}readValueFromInstance(e,i){if(rg.has(i)){const r=UU(i);return r&&r.default||0}return i=yq.has(i)?i:VC(i),e.getAttribute(i)}scrapeMotionValuesFromProps(e,i,r){return nq(e,i,r)}build(e,i,r){tq(e,i,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,i,r,s){hle(e,i,r,s)}mount(e){this.isSVGTag=rq(e.tagName),super.mount(e)}}const ple=(t,e)=>NC(t)?new dle(e):new cle(e,{allowProjection:t!==H.Fragment});function Om(t,e,i){const r=t.getProps();return DC(r,e,i!==void 0?i:r.custom,t)}const VE=t=>Array.isArray(t);function fle(t,e,i){t.hasValue(e)?t.getValue(e).set(i):t.addValue(e,Cy(i))}function mle(t){return VE(t)?t[t.length-1]||0:t}function yle(t,e){const i=Om(t,e);let{transitionEnd:r={},transition:s={},...n}=i||{};n={...n,...r};for(const o in n){const l=mle(n[o]);fle(t,o,l)}}function gle(t){return!!(Yr(t)&&t.add)}function FE(t,e){const i=t.getValue("willChange");if(gle(i))return i.add(e);if(!i&&cu.WillChange){const r=new cu.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function gq(t){return t.props[oq]}const vle=t=>t!==null;function wle(t,{repeat:e,repeatType:i="loop"},r){const s=t.filter(vle),n=e&&i!=="loop"&&e%2===1?0:s.length-1;return s[n]}const ble={type:"spring",stiffness:500,damping:25,restSpeed:10},_le=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Sle={type:"keyframes",duration:.8},xle={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Tle=(t,{keyframes:e})=>e.length>2?Sle:rg.has(t)?t.startsWith("scale")?_le(e[1]):ble:xle;function $le({when:t,delay:e,delayChildren:i,staggerChildren:r,staggerDirection:s,repeat:n,repeatType:o,repeatDelay:l,from:c,elapsed:d,...m}){return!!Object.keys(m).length}const FC=(t,e,i,r={},s,n)=>o=>{const l=AC(r,t)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Pa(c);const m={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:w=>{e.set(w),l.onUpdate&&l.onUpdate(w)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:n?void 0:s};$le(l)||Object.assign(m,Tle(t,m)),m.duration&&(m.duration=Pa(m.duration)),m.repeatDelay&&(m.repeatDelay=Pa(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(PE(m),m.delay===0&&(v=!0)),(cu.instantAnimations||cu.skipAnimations)&&(v=!0,PE(m),m.delay=0),m.allowFlatten=!l.type&&!l.ease,v&&!n&&e.get()!==void 0){const w=wle(m.keyframes,l);if(w!==void 0){ii.update(()=>{m.onUpdate(w),m.onComplete()});return}}return l.isSync?new MC(m):new Joe(m)};function Mle({protectedKeys:t,needsAnimating:e},i){const r=t.hasOwnProperty(i)&&e[i]!==!0;return e[i]=!1,r}function vq(t,e,{delay:i=0,transitionOverride:r,type:s}={}){let{transition:n=t.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(n=r);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const m in l){const v=t.getValue(m,t.latestValues[m]??null),w=l[m];if(w===void 0||d&&Mle(d,m))continue;const _={delay:i,...AC(n||{},m)},x=v.get();if(x!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===x&&!_.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const O=gq(t);if(O){const C=window.MotionHandoffAnimation(O,m,ii);C!==null&&(_.startTime=C,T=!0)}}FE(t,m),v.start(FC(m,v,w,t.shouldReduceMotion&&VU.has(m)?{type:!1}:_,t,T));const M=v.animation;M&&c.push(M)}return o&&Promise.all(c).then(()=>{ii.update(()=>{o&&yle(t,o)})}),c}function wq(t,e,i,r=0,s=1){const n=Array.from(t).sort((d,m)=>d.sortNodePosition(m)).indexOf(e),o=t.size,l=(o-1)*r;return typeof i=="function"?i(n,o):s===1?n*r:l-n*r}function zE(t,e,i={}){var c;const r=Om(t,e,i.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(s=i.transitionOverride);const n=r?()=>Promise.all(vq(t,r,i)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:m=0,staggerChildren:v,staggerDirection:w}=s;return Ele(t,e,d,m,v,w,i)}:()=>Promise.resolve(),{when:l}=s;if(l){const[d,m]=l==="beforeChildren"?[n,o]:[o,n];return d().then(()=>m())}else return Promise.all([n(),o(i.delay)])}function Ele(t,e,i=0,r=0,s=0,n=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(zE(c,e,{...o,delay:i+(typeof r=="function"?0:r)+wq(t.variantChildren,c,r,s,n)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function Ale(t,e,i={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(n=>zE(t,n,i));r=Promise.all(s)}else if(typeof e=="string")r=zE(t,e,i);else{const s=typeof e=="function"?Om(t,e,i.custom):e;r=Promise.all(vq(t,s,i))}return r.then(()=>{t.notify("AnimationComplete",e)})}function bq(t,e){if(!Array.isArray(e))return!1;const i=e.length;if(i!==t.length)return!1;for(let r=0;r<i;r++)if(e[r]!==t[r])return!1;return!0}const Ole=IC.length;function _q(t){if(!t)return;if(!t.isControllingVariants){const i=t.parent?_q(t.parent)||{}:{};return t.props.initial!==void 0&&(i.initial=t.props.initial),i}const e={};for(let i=0;i<Ole;i++){const r=IC[i],s=t.props[r];(R1(s)||s===!1)&&(e[r]=s)}return e}const kle=[...RC].reverse(),Cle=RC.length;function Rle(t){return e=>Promise.all(e.map(({animation:i,options:r})=>Ale(t,i,r)))}function Ile(t){let e=Rle(t),i=kD(),r=!0;const s=c=>(d,m)=>{var w;const v=Om(t,m,c==="exit"?(w=t.presenceContext)==null?void 0:w.custom:void 0);if(v){const{transition:_,transitionEnd:x,...T}=v;d={...d,...T,...x}}return d};function n(c){e=c(t)}function o(c){const{props:d}=t,m=_q(t.parent)||{},v=[],w=new Set;let _={},x=1/0;for(let M=0;M<Cle;M++){const O=kle[M],C=i[O],R=d[O]!==void 0?d[O]:m[O],N=R1(R),j=O===c?C.isActive:null;j===!1&&(x=M);let F=R===m[O]&&R!==d[O]&&N;if(F&&r&&t.manuallyAnimateOnMount&&(F=!1),C.protectedKeys={..._},!C.isActive&&j===null||!R&&!C.prevProp||Zx(R)||typeof R=="boolean")continue;const ee=Ple(C.prevProp,R);let X=ee||O===c&&C.isActive&&!F&&N||M>x&&N,J=!1;const re=Array.isArray(R)?R:[R];let fe=re.reduce(s(O),{});j===!1&&(fe={});const{prevResolvedValues:ye={}}=C,Xe={...ye,...fe},Ce=ve=>{X=!0,w.has(ve)&&(J=!0,w.delete(ve)),C.needsAnimating[ve]=!0;const de=t.getValue(ve);de&&(de.liveStyle=!1)};for(const ve in Xe){const de=fe[ve],We=ye[ve];if(_.hasOwnProperty(ve))continue;let L=!1;VE(de)&&VE(We)?L=!bq(de,We):L=de!==We,L?de!=null?Ce(ve):w.add(ve):de!==void 0&&w.has(ve)?Ce(ve):C.protectedKeys[ve]=!0}C.prevProp=R,C.prevResolvedValues=fe,C.isActive&&(_={..._,...fe}),r&&t.blockInitialAnimation&&(X=!1);const pt=F&&ee;X&&(!pt||J)&&v.push(...re.map(ve=>{const de={type:O};if(typeof ve=="string"&&r&&!pt&&t.manuallyAnimateOnMount&&t.parent){const{parent:We}=t,L=Om(We,ve);if(We.enteringChildren&&L){const{delayChildren:he}=L.transition||{};de.delay=wq(We.enteringChildren,t,he)}}return{animation:ve,options:de}}))}if(w.size){const M={};if(typeof d.initial!="boolean"){const O=Om(t,Array.isArray(d.initial)?d.initial[0]:d.initial);O&&O.transition&&(M.transition=O.transition)}w.forEach(O=>{const C=t.getBaseTarget(O),R=t.getValue(O);R&&(R.liveStyle=!0),M[O]=C??null}),v.push({animation:M})}let T=!!v.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(v):Promise.resolve()}function l(c,d){var v;if(i[c].isActive===d)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(w=>{var _;return(_=w.animationState)==null?void 0:_.setActive(c,d)}),i[c].isActive=d;const m=o(c);for(const w in i)i[w].protectedKeys={};return m}return{animateChanges:o,setActive:l,setAnimateFunction:n,getState:()=>i,reset:()=>{i=kD()}}}function Ple(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!bq(e,t):!1}function Ph(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kD(){return{animate:Ph(!0),whileInView:Ph(),whileHover:Ph(),whileTap:Ph(),whileDrag:Ph(),whileFocus:Ph(),exit:Ph()}}class eh{constructor(e){this.isMounted=!1,this.node=e}update(){}}class jle extends eh{constructor(e){super(e),e.animationState||(e.animationState=Ile(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Zx(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:i}=this.node.prevProps||{};e!==i&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Nle=0;class Dle extends eh{constructor(){super(...arguments),this.id=Nle++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:i}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);i&&!e&&s.then(()=>{i(this.id)})}mount(){const{register:e,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Lle={animation:{Feature:jle},exit:{Feature:Dle}};function P1(t,e,i,r={passive:!0}){return t.addEventListener(e,i,r),()=>t.removeEventListener(e,i)}function ww(t){return{point:{x:t.pageX,y:t.pageY}}}const Vle=t=>e=>CC(e)&&t(e,ww(e));function Hv(t,e,i,r){return P1(t,e,Vle(i),r)}const Sq=1e-4,Fle=1-Sq,zle=1+Sq,xq=.01,Ule=0-xq,qle=0+xq;function ys(t){return t.max-t.min}function Ble(t,e,i){return Math.abs(t-e)<=i}function CD(t,e,i,r=.5){t.origin=r,t.originPoint=ai(e.min,e.max,t.origin),t.scale=ys(i)/ys(e),t.translate=ai(i.min,i.max,t.origin)-t.originPoint,(t.scale>=Fle&&t.scale<=zle||isNaN(t.scale))&&(t.scale=1),(t.translate>=Ule&&t.translate<=qle||isNaN(t.translate))&&(t.translate=0)}function Wv(t,e,i,r){CD(t.x,e.x,i.x,r?r.originX:void 0),CD(t.y,e.y,i.y,r?r.originY:void 0)}function RD(t,e,i){t.min=i.min+e.min,t.max=t.min+ys(e)}function Gle(t,e,i){RD(t.x,e.x,i.x),RD(t.y,e.y,i.y)}function ID(t,e,i){t.min=e.min-i.min,t.max=t.min+ys(e)}function Zv(t,e,i){ID(t.x,e.x,i.x),ID(t.y,e.y,i.y)}function Wn(t){return[t("x"),t("y")]}const Tq=({current:t})=>t?t.ownerDocument.defaultView:null,PD=(t,e)=>Math.abs(t-e);function Hle(t,e){const i=PD(t.x,e.x),r=PD(t.y,e.y);return Math.sqrt(i**2+r**2)}class $q{constructor(e,i,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:n=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=LM(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,x=Hle(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!x)return;const{point:T}=w,{timestamp:M}=Ar;this.history.push({...T,timestamp:M});const{onStart:O,onMove:C}=this.handlers;_||(O&&O(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,w)},this.handlePointerMove=(w,_)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=DM(_,this.transformPagePoint),ii.update(this.updatePoint,!0)},this.handlePointerUp=(w,_)=>{this.end();const{onEnd:x,onSessionEnd:T,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=LM(w.type==="pointercancel"?this.lastMoveEventInfo:DM(_,this.transformPagePoint),this.history);this.startEvent&&x&&x(w,O),T&&T(w,O)},!CC(e))return;this.dragSnapToOrigin=n,this.handlers=i,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=ww(e),c=DM(l,this.transformPagePoint),{point:d}=c,{timestamp:m}=Ar;this.history=[{...d,timestamp:m}];const{onSessionStart:v}=i;v&&v(e,LM(c,this.history)),this.removeListeners=yw(Hv(this.contextWindow,"pointermove",this.handlePointerMove),Hv(this.contextWindow,"pointerup",this.handlePointerUp),Hv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Fc(this.updatePoint)}}function DM(t,e){return e?{point:e(t.point)}:t}function jD(t,e){return{x:t.x-e.x,y:t.y-e.y}}function LM({point:t},e){return{point:t,delta:jD(t,Mq(e)),offset:jD(t,Wle(e)),velocity:Zle(e,.1)}}function Wle(t){return t[0]}function Mq(t){return t[t.length-1]}function Zle(t,e){if(t.length<2)return{x:0,y:0};let i=t.length-1,r=null;const s=Mq(t);for(;i>=0&&(r=t[i],!(s.timestamp-r.timestamp>Pa(e)));)i--;if(!r)return{x:0,y:0};const n=io(s.timestamp-r.timestamp);if(n===0)return{x:0,y:0};const o={x:(s.x-r.x)/n,y:(s.y-r.y)/n};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Yle(t,{min:e,max:i},r){return e!==void 0&&t<e?t=r?ai(e,t,r.min):Math.max(t,e):i!==void 0&&t>i&&(t=r?ai(i,t,r.max):Math.min(t,i)),t}function ND(t,e,i){return{min:e!==void 0?t.min+e:void 0,max:i!==void 0?t.max+i-(t.max-t.min):void 0}}function Jle(t,{top:e,left:i,bottom:r,right:s}){return{x:ND(t.x,i,s),y:ND(t.y,e,r)}}function DD(t,e){let i=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([i,r]=[r,i]),{min:i,max:r}}function Kle(t,e){return{x:DD(t.x,e.x),y:DD(t.y,e.y)}}function Xle(t,e){let i=.5;const r=ys(t),s=ys(e);return s>r?i=O1(e.min,e.max-r,t.min):r>s&&(i=O1(t.min,t.max-s,e.min)),uu(0,1,i)}function Qle(t,e){const i={};return e.min!==void 0&&(i.min=e.min-t.min),e.max!==void 0&&(i.max=e.max-t.min),i}const UE=.35;function eue(t=UE){return t===!1?t=0:t===!0&&(t=UE),{x:LD(t,"left","right"),y:LD(t,"top","bottom")}}function LD(t,e,i){return{min:VD(t,e),max:VD(t,i)}}function VD(t,e){return typeof t=="number"?t:t[e]||0}const tue=new WeakMap;class iue{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ci(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:i=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const n=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(ww(v).point)},o=(v,w)=>{const{drag:_,dragPropagation:x,onDragStart:T}=this.getProps();if(_&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=pae(_),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wn(O=>{let C=this.getAxisMotionValue(O).get()||0;if(ja.test(C)){const{projection:R}=this.visualElement;if(R&&R.layout){const N=R.layout.layoutBox[O];N&&(C=ys(N)*(parseFloat(C)/100))}}this.originPoint[O]=C}),T&&ii.postRender(()=>T(v,w)),FE(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},l=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:_,dragDirectionLock:x,onDirectionLock:T,onDrag:M}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:O}=w;if(x&&this.currentDirection===null){this.currentDirection=rue(O),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",w.point,O),this.updateAxis("y",w.point,O),this.visualElement.render(),M&&M(v,w)},c=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Wn(v=>{var w;return this.getAnimationState(v)==="paused"&&((w=this.getAxisMotionValue(v).animation)==null?void 0:w.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new $q(e,{onSessionStart:n,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:Tq(this.visualElement)})}stop(e,i){const r=e||this.latestPointerEvent,s=i||this.latestPanInfo,n=this.isDragging;if(this.cancel(),!n||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&ii.postRender(()=>l(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:i}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(e,i,r){const{drag:s}=this.getProps();if(!r||!l_(e,s,this.currentDirection))return;const n=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Yle(o,this.constraints[e],this.elastic[e])),n.set(o)}resolveConstraints(){var n;const{dragConstraints:e,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(n=this.visualElement.projection)==null?void 0:n.layout,s=this.constraints;e&&fm(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Jle(r.layoutBox,e):this.constraints=!1,this.elastic=eue(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Wn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Qle(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:i}=this.getProps();if(!e||!fm(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const n=sle(r,s.root,this.visualElement.getTransformPagePoint());let o=Kle(s.layout.layoutBox,n);if(i){const l=i(tle(o));this.hasMutatedConstraints=!!l,l&&(o=uq(l))}return o}startAnimation(e){const{drag:i,dragMomentum:r,dragElastic:s,dragTransition:n,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Wn(m=>{if(!l_(m,i,this.currentDirection))return;let v=c&&c[m]||{};o&&(v={min:0,max:0});const w=s?200:1e6,_=s?40:1e7,x={type:"inertia",velocity:r?e[m]:0,bounceStiffness:w,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...n,...v};return this.startAxisValueAnimation(m,x)});return Promise.all(d).then(l)}startAxisValueAnimation(e,i){const r=this.getAxisMotionValue(e);return FE(this.visualElement,e),r.start(FC(e,r,0,i,this.visualElement,!1))}stopAnimation(){Wn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Wn(e=>{var i;return(i=this.getAxisMotionValue(e).animation)==null?void 0:i.pause()})}getAnimationState(e){var i;return(i=this.getAxisMotionValue(e).animation)==null?void 0:i.state}getAxisMotionValue(e){const i=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[i];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Wn(i=>{const{drag:r}=this.getProps();if(!l_(i,r,this.currentDirection))return;const{projection:s}=this.visualElement,n=this.getAxisMotionValue(i);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[i];n.set(e[i]-ai(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:i}=this.getProps(),{projection:r}=this.visualElement;if(!fm(i)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Wn(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=Xle({min:c,max:c},this.constraints[o])}});const{transformTemplate:n}=this.visualElement.getProps();this.visualElement.current.style.transform=n?n({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Wn(o=>{if(!l_(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(ai(c,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;tue.set(this.visualElement,this);const e=this.visualElement.current,i=Hv(e,"pointerdown",c=>{const{drag:d,dragListener:m=!0}=this.getProps();d&&m&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();fm(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,n=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ii.read(r);const o=P1(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Wn(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=c[m].translate,v.set(v.get()+c[m].translate))}),this.visualElement.render())});return()=>{o(),i(),n(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:n=!1,dragElastic:o=UE,dragMomentum:l=!0}=e;return{...e,drag:i,dragDirectionLock:r,dragPropagation:s,dragConstraints:n,dragElastic:o,dragMomentum:l}}}function l_(t,e,i){return(e===!0||e===t)&&(i===null||i===t)}function rue(t,e=10){let i=null;return Math.abs(t.y)>e?i="y":Math.abs(t.x)>e&&(i="x"),i}class sue extends eh{constructor(e){super(e),this.removeGroupControls=oo,this.removeListeners=oo,this.controls=new iue(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||oo}unmount(){this.removeGroupControls(),this.removeListeners()}}const FD=t=>(e,i)=>{t&&ii.postRender(()=>t(e,i))};class nue extends eh{constructor(){super(...arguments),this.removePointerDownListener=oo}onPointerDown(e){this.session=new $q(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Tq(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:i,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:FD(e),onStart:FD(i),onMove:r,onEnd:(n,o)=>{delete this.session,s&&ii.postRender(()=>s(n,o))}}}mount(){this.removePointerDownListener=Hv(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const d2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zD(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const O0={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ge.test(t))t=parseFloat(t);else return t;const i=zD(t,e.target.x),r=zD(t,e.target.y);return`${i}% ${r}%`}},oue={correct:(t,{treeScale:e,projectionDelta:i})=>{const r=t,s=zc.parse(t);if(s.length>5)return r;const n=zc.createTransformer(t),o=typeof s[0]!="number"?1:0,l=i.x.scale*e.x,c=i.y.scale*e.y;s[0+o]/=l,s[1+o]/=c;const d=ai(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),n(s)}};let VM=!1;class aue extends H.Component{componentDidMount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:r,layoutId:s}=this.props,{projection:n}=e;Oae(lue),n&&(i.group&&i.group.add(n),r&&r.register&&s&&r.register(n),VM&&n.root.didUpdate(),n.addEventListener("animationComplete",()=>{this.safeToRemove()}),n.setOptions({...n.options,onExitComplete:()=>this.safeToRemove()})),d2.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:i,visualElement:r,drag:s,isPresent:n}=this.props,{projection:o}=r;return o&&(o.isPresent=n,VM=!0,s||e.layoutDependency!==i||i===void 0||e.isPresent!==n?o.willUpdate():this.safeToRemove(),e.isPresent!==n&&(n?o.promote():o.relegate()||ii.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),kC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:r}=this.props,{projection:s}=e;VM=!0,s&&(s.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Eq(t){const[e,i]=Sae(),r=H.useContext(nU);return $.jsx(aue,{...t,layoutGroup:r,switchLayoutGroup:H.useContext(aq),isPresent:e,safeToRemove:i})}const lue={borderRadius:{...O0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:O0,borderTopRightRadius:O0,borderBottomLeftRadius:O0,borderBottomRightRadius:O0,boxShadow:oue};function uue(t,e,i){const r=Yr(t)?t:Cy(t);return r.start(FC("",r,e,i)),r.animation}const cue=(t,e)=>t.depth-e.depth;class hue{constructor(){this.children=[],this.isDirty=!1}add(e){hC(this.children,e),this.isDirty=!0}remove(e){dC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(cue),this.isDirty=!1,this.children.forEach(e)}}function due(t,e){const i=zs.now(),r=({timestamp:s})=>{const n=s-i;n>=e&&(Fc(r),t(n-e))};return ii.setup(r,!0),()=>Fc(r)}const Aq=["TopLeft","TopRight","BottomLeft","BottomRight"],pue=Aq.length,UD=t=>typeof t=="string"?parseFloat(t):t,qD=t=>typeof t=="number"||Ge.test(t);function fue(t,e,i,r,s,n){s?(t.opacity=ai(0,i.opacity??1,mue(r)),t.opacityExit=ai(e.opacity??1,0,yue(r))):n&&(t.opacity=ai(e.opacity??1,i.opacity??1,r));for(let o=0;o<pue;o++){const l=`border${Aq[o]}Radius`;let c=BD(e,l),d=BD(i,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||qD(c)===qD(d)?(t[l]=Math.max(ai(UD(c),UD(d),r),0),(ja.test(d)||ja.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||i.rotate)&&(t.rotate=ai(e.rotate||0,i.rotate||0,r))}function BD(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const mue=Oq(0,.5,yU),yue=Oq(.5,.95,oo);function Oq(t,e,i){return r=>r<t?0:r>e?1:i(O1(t,e,r))}function GD(t,e){t.min=e.min,t.max=e.max}function Dn(t,e){GD(t.x,e.x),GD(t.y,e.y)}function HD(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function WD(t,e,i,r,s){return t-=e,t=PS(t,1/i,r),s!==void 0&&(t=PS(t,1/s,r)),t}function gue(t,e=0,i=1,r=.5,s,n=t,o=t){if(ja.test(e)&&(e=parseFloat(e),e=ai(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=ai(n.min,n.max,r);t===n&&(l-=e),t.min=WD(t.min,e,i,l,s),t.max=WD(t.max,e,i,l,s)}function ZD(t,e,[i,r,s],n,o){gue(t,e[i],e[r],e[s],e.scale,n,o)}const vue=["x","scaleX","originX"],wue=["y","scaleY","originY"];function YD(t,e,i,r){ZD(t.x,e,vue,i?i.x:void 0,r?r.x:void 0),ZD(t.y,e,wue,i?i.y:void 0,r?r.y:void 0)}function JD(t){return t.translate===0&&t.scale===1}function kq(t){return JD(t.x)&&JD(t.y)}function KD(t,e){return t.min===e.min&&t.max===e.max}function bue(t,e){return KD(t.x,e.x)&&KD(t.y,e.y)}function XD(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Cq(t,e){return XD(t.x,e.x)&&XD(t.y,e.y)}function QD(t){return ys(t.x)/ys(t.y)}function e8(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class _ue{constructor(){this.members=[]}add(e){hC(this.members,e),e.scheduleRender()}remove(e){if(dC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(e){const i=this.members.findIndex(s=>e===s);if(i===0)return!1;let r;for(let s=i;s>=0;s--){const n=this.members[s];if(n.isPresent!==!1){r=n;break}}return r?(this.promote(r),!0):!1}promote(e,i){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,i&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:i,resumingFrom:r}=e;i.onExitComplete&&i.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Sue(t,e,i){let r="";const s=t.x.translate/e.x,n=t.y.translate/e.y,o=(i==null?void 0:i.z)||0;if((s||n||o)&&(r=`translate3d(${s}px, ${n}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),i){const{transformPerspective:d,rotate:m,rotateX:v,rotateY:w,skewX:_,skewY:x}=i;d&&(r=`perspective(${d}px) ${r}`),m&&(r+=`rotate(${m}deg) `),v&&(r+=`rotateX(${v}deg) `),w&&(r+=`rotateY(${w}deg) `),_&&(r+=`skewX(${_}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const FM=["","X","Y","Z"],xue=1e3;let Tue=0;function zM(t,e,i,r){const{latestValues:s}=e;s[t]&&(i[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Rq(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const i=gq(e);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:s,layoutId:n}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",ii,!(s||n))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Rq(r)}function Iq({attachResizeListener:t,defaultParent:e,measureScroll:i,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=e==null?void 0:e()){this.id=Tue++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Eue),this.nodes.forEach(Cue),this.nodes.forEach(Rue),this.nodes.forEach(Aue)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new hue)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new mC),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=ZU(o)&&!wae(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let m,v=0;const w=()=>this.root.updateBlockedByResize=!1;ii.read(()=>{v=window.innerWidth}),t(o,()=>{const _=window.innerWidth;_!==v&&(v=_,this.root.updateBlockedByResize=!0,m&&m(),m=due(w,250),d2.hasAnimatedSinceResize&&(d2.hasAnimatedSinceResize=!1,this.nodes.forEach(r8)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||Due,{onLayoutAnimationStart:T,onLayoutAnimationComplete:M}=d.getProps(),O=!this.targetLayout||!Cq(this.targetLayout,_),C=!v&&w;if(this.options.layoutRoot||this.resumeFrom||C||v&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...AC(x,"layout"),onPlay:T,onComplete:M};(d.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(m,C)}else v||r8(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Fc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Iue),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Rq(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(t8);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(i8);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(kue),this.nodes.forEach($ue),this.nodes.forEach(Mue)):this.nodes.forEach(i8),this.clearAllSnapshots();const l=zs.now();Ar.delta=uu(0,1e3/60,l-Ar.timestamp),Ar.timestamp=l,Ar.isProcessing=!0,kM.update.process(Ar),kM.preRender.process(Ar),kM.render.process(Ar),Ar.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,kC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Oue),this.sharedNodes.forEach(Pue)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ii.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ii.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ys(this.snapshot.measuredBox.x)&&!ys(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ci(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!kq(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,m=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Wh(this.latestValues)||m)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Lue(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Ci();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(Vue))){const{scroll:m}=this.root;m&&(mm(l.x,m.offset.x),mm(l.y,m.offset.y))}return l}removeElementScroll(o){var c;const l=Ci();if(Dn(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const m=this.path[d],{scroll:v,options:w}=m;m!==this.root&&v&&w.layoutScroll&&(v.wasRoot&&Dn(l,o),mm(l.x,v.offset.x),mm(l.y,v.offset.y))}return l}applyTransform(o,l=!1){const c=Ci();Dn(c,o);for(let d=0;d<this.path.length;d++){const m=this.path[d];!l&&m.options.layoutScroll&&m.scroll&&m!==m.root&&ym(c,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Wh(m.latestValues)&&ym(c,m.latestValues)}return Wh(this.latestValues)&&ym(c,this.latestValues),c}removeTransform(o){const l=Ci();Dn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Wh(d.latestValues))continue;NE(d.latestValues)&&d.updateSnapshot();const m=Ci(),v=d.measurePageBox();Dn(m,v),YD(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,m)}return Wh(this.latestValues)&&YD(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ar.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var w;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:v}=this.options;if(!(!this.layout||!(m||v))){if(this.resolvedRelativeTargetAt=Ar.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ci(),this.relativeTargetOrigin=Ci(),Zv(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ci(),this.targetWithTransforms=Ci()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Gle(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dn(this.target,this.layout.layoutBox),hq(this.target,this.targetDelta)):Dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ci(),this.relativeTargetOrigin=Ci(),Zv(this.relativeTargetOrigin,this.target,_.target),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||NE(this.parent.latestValues)||cq(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ar.timestamp&&(c=!1),c)return;const{layout:d,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||m))return;Dn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;rle(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ci());const{target:_}=o;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(HD(this.prevProjectionDelta.x,this.projectionDelta.x),HD(this.prevProjectionDelta.y,this.projectionDelta.y)),Wv(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!e8(this.projectionDelta.x,this.prevProjectionDelta.x)||!e8(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=gm(),this.projectionDelta=gm(),this.projectionDeltaWithTransform=gm()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},m={...this.latestValues},v=gm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const w=Ci(),_=c?c.source:void 0,x=this.layout?this.layout.source:void 0,T=_!==x,M=this.getStack(),O=!M||M.members.length<=1,C=!!(T&&!O&&this.options.crossfade===!0&&!this.path.some(Nue));this.animationProgress=0;let R;this.mixTargetDelta=N=>{const j=N/1e3;s8(v.x,o.x,j),s8(v.y,o.y,j),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zv(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jue(this.relativeTarget,this.relativeTargetOrigin,w,j),R&&bue(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Ci()),Dn(R,this.relativeTarget)),T&&(this.animationValues=m,fue(m,d,this.latestValues,j,C,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Fc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ii.update(()=>{d2.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Cy(0)),this.currentAnimation=uue(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),o.onUpdate&&o.onUpdate(m)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xue),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:m}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&Pq(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Ci();const v=ys(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+v;const w=ys(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+w}Dn(l,c),ym(l,m),Wv(this.projectionDeltaWithTransform,this.layoutCorrected,l,m)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new _ue),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&zM("z",o,d,this.animationValues);for(let m=0;m<FM.length;m++)zM(`rotate${FM[m]}`,o,d,this.animationValues),zM(`skew${FM[m]}`,o,d,this.animationValues);o.render();for(const m in d)o.setStaticValue(m,d[m]),this.animationValues&&(this.animationValues[m]=d[m]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=h2(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=h2(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Wh(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const m=d.animationValues||d.latestValues;this.applyTransformsToTarget();let v=Sue(this.projectionDeltaWithTransform,this.treeScale,m);c&&(v=c(m,v)),o.transform=v;const{x:w,y:_}=this.projectionDelta;o.transformOrigin=`${w.origin*100}% ${_.origin*100}% 0`,d.animationValues?o.opacity=d===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:o.opacity=d===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const x in I1){if(m[x]===void 0)continue;const{correct:T,applyTo:M,isCSSVariable:O}=I1[x],C=v==="none"?m[x]:T(m[x],d);if(M){const R=M.length;for(let N=0;N<R;N++)o[M[N]]=C}else O?this.options.visualElement.renderState.vars[x]=C:o[x]=C}this.options.layoutId&&(o.pointerEvents=d===this?h2(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(t8),this.root.sharedNodes.clear()}}}function $ue(t){t.updateLayout()}function Mue(t){var i;const e=((i=t.resumeFrom)==null?void 0:i.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:n}=t.options,o=e.source!==t.layout.source;n==="size"?Wn(v=>{const w=o?e.measuredBox[v]:e.layoutBox[v],_=ys(w);w.min=r[v].min,w.max=w.min+_}):Pq(n,e.layoutBox,r)&&Wn(v=>{const w=o?e.measuredBox[v]:e.layoutBox[v],_=ys(r[v]);w.max=w.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+_)});const l=gm();Wv(l,r,e.layoutBox);const c=gm();o?Wv(c,t.applyTransform(s,!0),e.measuredBox):Wv(c,r,e.layoutBox);const d=!kq(l);let m=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:w,layout:_}=v;if(w&&_){const x=Ci();Zv(x,e.layoutBox,w.layoutBox);const T=Ci();Zv(T,r,_.layoutBox),Cq(x,T)||(m=!0),v.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=x,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Eue(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Aue(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Oue(t){t.clearSnapshot()}function t8(t){t.clearMeasurements()}function i8(t){t.isLayoutDirty=!1}function kue(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function r8(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Cue(t){t.resolveTargetDelta()}function Rue(t){t.calcProjection()}function Iue(t){t.resetSkewAndRotation()}function Pue(t){t.removeLeadSnapshot()}function s8(t,e,i){t.translate=ai(e.translate,0,i),t.scale=ai(e.scale,1,i),t.origin=e.origin,t.originPoint=e.originPoint}function n8(t,e,i,r){t.min=ai(e.min,i.min,r),t.max=ai(e.max,i.max,r)}function jue(t,e,i,r){n8(t.x,e.x,i.x,r),n8(t.y,e.y,i.y,r)}function Nue(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Due={duration:.45,ease:[.4,0,.1,1]},o8=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),a8=o8("applewebkit/")&&!o8("chrome/")?Math.round:oo;function l8(t){t.min=a8(t.min),t.max=a8(t.max)}function Lue(t){l8(t.x),l8(t.y)}function Pq(t,e,i){return t==="position"||t==="preserve-aspect"&&!Ble(QD(e),QD(i),.2)}function Vue(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Fue=Iq({attachResizeListener:(t,e)=>P1(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),UM={current:void 0},jq=Iq({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!UM.current){const t=new Fue({});t.mount(window),t.setOptions({layoutScroll:!0}),UM.current=t}return UM.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),zue={pan:{Feature:nue},drag:{Feature:sue,ProjectionNode:jq,MeasureLayout:Eq}};function u8(t,e,i){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",i==="Start");const s="onHover"+i,n=r[s];n&&ii.postRender(()=>n(e,ww(e)))}class Uue extends eh{mount(){const{current:e}=this.node;e&&(this.unmount=fae(e,(i,r)=>(u8(this.node,r,"Start"),s=>u8(this.node,s,"End"))))}unmount(){}}class que extends eh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yw(P1(this.node.current,"focus",()=>this.onFocus()),P1(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function c8(t,e,i){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",i==="Start");const s="onTap"+(i==="End"?"":i),n=r[s];n&&ii.postRender(()=>n(e,ww(e)))}class Bue extends eh{mount(){const{current:e}=this.node;e&&(this.unmount=vae(e,(i,r)=>(c8(this.node,r,"Start"),(s,{success:n})=>c8(this.node,s,n?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const qE=new WeakMap,qM=new WeakMap,Gue=t=>{const e=qE.get(t.target);e&&e(t)},Hue=t=>{t.forEach(Gue)};function Wue({root:t,...e}){const i=t||document;qM.has(i)||qM.set(i,{});const r=qM.get(i),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Hue,{root:t,...e})),r[s]}function Zue(t,e,i){const r=Wue(e);return qE.set(t,i),r.observe(t),()=>{qE.delete(t),r.unobserve(t)}}const Yue={some:0,all:1};class Jue extends eh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:i,margin:r,amount:s="some",once:n}=e,o={root:i?i.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Yue[s]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,n&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),w=d?m:v;w&&w(c)};return Zue(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:i}=this.node;["amount","margin","root"].some(Kue(e,i))&&this.startObserver()}unmount(){}}function Kue({viewport:t={}},{viewport:e={}}={}){return i=>t[i]!==e[i]}const Xue={inView:{Feature:Jue},tap:{Feature:Bue},focus:{Feature:que},hover:{Feature:Uue}},Que={layout:{ProjectionNode:jq,MeasureLayout:Eq}},ece={...Lle,...Xue,...zue,...Que},Aa=ele(ece,ple);var Nq={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},h8=Vd.createContext&&Vd.createContext(Nq),tce=["attr","size","title"];function ice(t,e){if(t==null)return{};var i=rce(t,e),r,s;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(s=0;s<n.length;s++)r=n[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function rce(t,e){if(t==null)return{};var i={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;i[r]=t[r]}return i}function jS(){return jS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},jS.apply(this,arguments)}function d8(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),i.push.apply(i,r)}return i}function NS(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?d8(Object(i),!0).forEach(function(r){sce(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d8(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function sce(t,e,i){return e=nce(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function nce(t){var e=oce(t,"string");return typeof e=="symbol"?e:e+""}function oce(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dq(t){return t&&t.map((e,i)=>Vd.createElement(e.tag,NS({key:i},e.attr),Dq(e.child)))}function Js(t){return e=>Vd.createElement(ace,jS({attr:NS({},t.attr)},e),Dq(t.child))}function ace(t){var e=i=>{var{attr:r,size:s,title:n}=t,o=ice(t,tce),l=s||i.size||"1em",c;return i.className&&(c=i.className),t.className&&(c=(c?c+" ":"")+t.className),Vd.createElement("svg",jS({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,r,o,{className:c,style:NS(NS({color:t.color||i.color},i.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),n&&Vd.createElement("title",null,n),t.children)};return h8!==void 0?Vd.createElement(h8.Consumer,null,i=>e(i)):e(Nq)}function lce(t){return Js({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"},child:[]}]})(t)}function uce(t){return Js({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"},child:[]}]})(t)}function cce(t){return Js({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M571.31 193.94l-22.63-22.63c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31-28.9-28.9c5.63-21.31.36-44.9-16.35-61.61l-45.25-45.25c-62.48-62.48-163.79-62.48-226.28 0l90.51 45.25v18.75c0 16.97 6.74 33.25 18.75 45.25l49.14 49.14c16.71 16.71 40.3 21.98 61.61 16.35l28.9 28.9-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63l22.63 22.63c6.25 6.25 16.38 6.25 22.63 0l90.51-90.51c6.23-6.24 6.23-16.37-.02-22.62zm-286.72-15.2c-3.7-3.7-6.84-7.79-9.85-11.95L19.64 404.96c-25.57 23.88-26.26 64.19-1.53 88.93s65.05 24.05 88.93-1.53l238.13-255.07c-3.96-2.91-7.9-5.87-11.44-9.41l-49.14-49.14z"},child:[]}]})(t)}function hce(t){return Js({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 117.66v346.32c0 11.32 11.43 19.06 21.94 14.86L160 416V32L20.12 87.95A32.006 32.006 0 0 0 0 117.66zM192 416l192 64V96L192 32v384zM554.06 33.16L416 96v384l139.88-55.95A31.996 31.996 0 0 0 576 394.34V48.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(t)}function dce(t){return Js({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 0a.84923.84923 0 0 0-.33766.07031l-8.5183 3.69444C2.1458 4.19776 1.4997 5.1816 1.4997 6.2697v13.2521l10.16264 4.40783c.21517.09333.46015.09407.67532.00073l8.5183-3.6959c.99824-.43301 1.64434-1.41685 1.64434-2.50495V4.47814L12.33766.06958C12.23007.02291 12.11516-.00005 12 0Zm0 4.83705c4.16294 0 7.53757 3.3746 7.53757 7.53757S16.163 19.91218 12 19.91218c-4.163 0-7.53757-3.37462-7.53757-7.53756S7.837 4.83705 12 4.83705zm-.3501 1.38871c-.89685-.02267-2.32742.2409-3.74645 1.6143.34958.55454.64544.97782.49 1.41801-.23127.65503-.5139.51378-1.07083.99466-.39567.34169.2067 1.01292-.31275 1.30595-.51945.29306-1.21315.6636-.94925 1.17557.2639.51196 1.4691.83013 1.95929 1.07522.49018.2451.92812.70605.6072 1.2371-.31403.51948-.53713 1.13083-.60134 1.60917 1.0549.94423 2.44706 1.51909 3.97423 1.51909 3.2928 0 5.81772-2.71048 5.96208-6.00017.04062-.92531-.93924-.93972-1.53447-.93972 0 0 .34061.92356.01831 1.43632-.3223.51278-.84968.76166-.83498 1.37699.01464.61533-.93743 1.5967-1.2598 1.9483-.32223.35163-.9228.74718-1.12796-.0586-.2051-.80579-.12596-1.47799.1084-2.04938.23442-.57136-.2174-.74707-.92068-.76174-.7032-.01463-1.0798-.10795-1.18656-1.19315-.08787-.89369 1.2429-1.84356 1.81426-1.84356.33406 0 1.45485.21963 1.50737-.34058.08056-.8593-.8204-1.04164-1.03934-1.60185C13.2877 7.58747 14.98596 6.60707 12 6.24993c-.10475-.01253-.22199-.02093-.3501-.02417z"},child:[]}]})(t)}function pce(t){return Js({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z"},child:[]}]})(t)}function fce(){const t=[{name:"Python",icon:$.jsx(lce,{className:"text-yellow-500"})},{name:"React",icon:$.jsx(uce,{className:"text-blue-500"})},{name:"JavaScript / TypeScript",icon:$.jsx(pce,{className:"text-teal-400"})},{name:"ArcGIS",icon:$.jsx(dce,{className:"text-blue-700"})},{name:"Arcpy, Esri API for Python",icon:$.jsx(cce,{className:"text-black"})},{name:"Javascript SDK for ArcGIS",icon:$.jsx(hce,{className:"text-purple-600"})}];return $.jsxs("section",{id:"tech",className:"max-w-6xl mx-auto px-4 py-20 text-center",children:[$.jsx(Aa.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-3xl font-bold mb-12 bg-gradient-to-r from-orange-500 to-amber-600 bg-clip-text text-transparent",children:"My Tech Stack"}),$.jsx("div",{className:"flex flex-wrap justify-center gap-6",children:t.map((e,i)=>$.jsxs(Aa.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:i*.1},viewport:{once:!0,amount:.3},className:"flex items-center gap-3 bg-white shadow-md rounded-full px-4 py-2 hover:shadow-lg transition-all cursor-default",children:[$.jsx("span",{className:"text-2xl",children:e.icon}),$.jsx("span",{className:"font-medium text-gray-800",children:e.name})]},i))})]})}function mce(){const t=[{title:"Python for ArcGIS Certification",image:"/pythonAPI.png",url:"https://www.credly.com/badges/89608452-ea07-485e-991b-d98dfcbbf52f/public_url"},{title:"ArcGIS Desktop",url:"https://www.credly.com/badges/d9947fa6-ba9f-4410-8fd1-b1fcb05f6e59/public_url",image:"/arcgisEntry.png"},{title:"Certified Scrum Master",url:"https://www.scrumalliance.org/community/profile/ssellars2",image:"/csm.png"}];return $.jsxs("section",{id:"certificates",className:"max-w-6xl mx-auto px-4 py-20 text-center",children:[$.jsx(Aa.h2,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0,amount:.3},className:"text-3xl font-bold mb-12 bg-gradient-to-r from-orange-500 to-amber-600 bg-clip-text text-transparent",children:"Certificates"}),$.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,i)=>$.jsx("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:$.jsxs(Aa.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:i*.1},viewport:{once:!0,amount:.3},className:"bg-white rounded-2xl shadow-md hover:shadow-xl overflow-hidden transition-all",children:[$.jsx("h3",{className:"text-lg font-semibold text-gray-800 p-4",children:e.title}),$.jsx("img",{src:e.image,alt:e.title,className:"w-full h-80 object-cover"})]})},i))})]})}function yce(){const t=[{title:"Algonquin Canoe GPS Routing (Python & React)",description:"Plan and visualize your routes with Canoe Compass! Export and analyze your data.",image:"/algonquinApp.JPG",link:"https://canoecompass.z13.web.core.windows.net/"},{title:"LocatePy, a Lightweight Reverse Geolocator (Python, SQLite)",description:"Offline reverse geolocator all contained in a Python Package on PyPi.",image:"/locatepy.png",link:"https://pypi.org/project/locatepy/"},{title:"templatepptx - Power Point Templating (Python)",description:"A Python Package for automating Power Point Templates using Python. Available on PyPi!",image:"/PPTX.JPG",link:"https://github.com/Samir-Sell/templatepptx"},{title:"FieldMatch (React, INaturalist API, TailwindCSS, Zustand)",description:"A mobile first React Application to simplify INaturalist Identifications.",image:"/FieldMatch.png",link:"https://filedmatch.z13.web.core.windows.net"},{title:"Arcgis React Template (React, JavaScript SDK)",description:"An ArcGIS React Template with ArcGIS JS SDK, Zustand, Calcite Design System & TailwindCSS.",image:"/arcgis-react-template.JPG",link:"https://github.com/Samir-Sell/arcgis-react-template"}];return $.jsxs($.Fragment,{children:[$.jsxs("section",{className:"relative overflow-hidden max-w-6xl mx-auto px-4 py-20 flex flex-col-reverse md:flex-row items-center gap-10",children:[$.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-br from-orange-50 via-white to-amber-100"}),$.jsxs(Aa.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},viewport:{once:!0,amount:.3},className:"flex-1 text-center md:text-left",children:[$.jsx("p",{className:"text-xl md:text-2xl text-gray-600 mb-2",children:"Hey there, Im"}),$.jsx("h1",{className:"text-5xl md:text-6xl font-extrabold mb-4 bg-gradient-to-r from-orange-500 to-amber-600 bg-clip-text text-transparent",children:"Samir"}),$.jsx("p",{className:"text-lg text-gray-700 leading-relaxed max-w-md mx-auto md:mx-0",children:"Im a Geospatial developer, hiker, creator, and explorer. This is a website to show off my creations and to share what I find fun and interesting!"})]}),$.jsx(Aa.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2},viewport:{once:!0,amount:.3},className:"flex justify-center md:justify-end",children:$.jsx("img",{src:"https://live.staticflickr.com/65535/54449571884_ce06cf2c8e_b.jpg",alt:"Samir portrait",loading:"lazy",className:"w-52 h-52 md:w-64 md:h-64 object-cover rounded-full shadow-2xl hover:ring-amber-300 transition-all"})})]}),$.jsx(Aa.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2},viewport:{once:!0,amount:.3},children:$.jsx("div",{className:"h-1 w-48 bg-gray-500 rounded-full mx-auto my-3"})}),$.jsxs("section",{id:"projects",className:"max-w-6xl mx-auto px-4 py-10 text-center",children:[$.jsx(Aa.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0,amount:.3},className:"text-3xl font-bold mb-10 bg-gradient-to-r from-orange-500 to-amber-600 bg-clip-text text-transparent",children:"Projects"}),$.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,i)=>$.jsxs(Aa.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:i*.1},viewport:{once:!0,amount:.3},className:"bg-white shadow-md rounded-2xl overflow-hidden hover:shadow-xl transition-shadow",children:[$.jsx("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover"}),$.jsxs("div",{className:"p-5 text-left",children:[$.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:e.title}),$.jsx("p",{className:"text-gray-600 text-sm mb-4",children:e.description}),$.jsx("a",{target:"_blank",href:e.link,className:"text-orange-600 font-medium hover:underline",children:"View Project "})]})]},i))})]}),$.jsx(Aa.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2},viewport:{once:!0,amount:.3},children:$.jsx("div",{className:"h-1 w-48 bg-gray-500 rounded-full mx-auto my-3"})}),$.jsx(fce,{}),$.jsx(mce,{})]})}function gce(){return $.jsxs("section",{className:"max-w-4xl mx-auto px-4 py-4 leading-relaxed text-center",children:[$.jsx("div",{className:"flex justify-center mb-6",children:$.jsx("img",{src:"https://live.staticflickr.com/65535/54449571884_ce06cf2c8e_b.jpg",alt:"Samir portrait",loading:"lazy",className:"w-64 h-60 md:w-64 md:h-64 object-cover rounded-2xl shadow-lg border border-gray-200"})}),$.jsx("h1",{className:"text-3xl font-bold mb-6 text-orange-400",children:"About Me"}),$.jsxs("div",{className:"max-w-2xl mx-auto",children:[$.jsx("p",{className:"mb-4",children:"Im a full-stack GIS software developer with over 5 years of experience building web-based mapping applications and geospatial tools. When Im not programming, youll usually find me hiking, climbing, camping, reading, or writing. Im also an avid iNaturalist contributor and enjoy documenting the natural world through photography."}),$.jsx("p",{className:"mb-4",children:"Many of those photos appear throughout my adventure blogs, where each hike or activity is paired with an interactive map showing the trail I followed. This website is both a technical playground and a creative outlet to showcase projects, ideas, and experiences Im proud of."}),$.jsx("p",{children:"Currently, I work as a Senior Developer at Esri Canada in a full-stack capacity. My day-to-day work includes building data pipelines, developing applications, and supporting a wide range of geospatial and non-geospatial workflows."})]})]})}const Lq={slug:"ampersand-mountain",title:"A Grind Up Ampersand Mountain, Adirondacks",time:"5 Hours",tags:["America","Adirondacks"],description:"A slog up Ampersand Mountain in the Adirondacks.",thumbnail:"https://live.staticflickr.com/65535/54507190377_36c4d25e31_b.jpg",address:"44.2516, -74.2396",cost:"Free",date:"May 01 2025",difficulty:"9/10",rating:"10/10",geojsonTrailPath:"/adventureBlog/ampersand-mountain/ampersand-mountain-trail.geojson",iNatTrailPath:"/adventureBlog/ampersand-mountain/ampersand-mountain-inat.geojson",content:()=>$.jsxs($.Fragment,{children:[$.jsx("p",{children:"My dad and I peaked Ampersand Mountain on the second day of our trip down to Port Chester to see the Avett Brothers. We had scouted out the hike beforehand and this one seemed to be calling to us. It was the perfect balance of challenge, reward and payoff. We started in the early afternoon. The trail was not busy at all but the parking was very, very limited. There were under 10 cars, but the closest lot was full. Another group we met hiking told us that in the peak season, people park all along the road. However, I would take that with a grain of salt. Not much to say about this hike. My partner and I like to come here because it is close and easy. Due to the time of year, there were tons of birds flying about!"}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://live.staticflickr.com/65535/54508318413_4478675960_b.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"Like Coney Mountain, which we had climbed the day before, this peak also had stunning 360 views. The hike had almost 1000 meters of elevation and offered beautiful views along the way. I got some beautiful macro shots along the way such as the fly below! Check out the iNaturalist photos for some other shots of a really cool moth and a spider."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://inaturalist-open-data.s3.amazonaws.com/photos/498380987/large.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"At the peak, we sat around for almost an hour. There was a younger man at the peak flying a drone around. He turned out to be from LA. We chatted with him for a while and then he descended down the mountain leaving us as the only two at the peak. It was the exact type of moment that I love about hiking. Before our freind left, he took a photo of my dad and I sitting enjoying the view. He airdropped it to us and it happens to be the thumbnail of this blog!"}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://live.staticflickr.com/65535/54764152153_a3a9fb664b_b.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"In the last couple hundred meters, we even got some left over packed down snow that we had to sludge through!"})]})},vce=Object.freeze(Object.defineProperty({__proto__:null,default:Lq},Symbol.toStringTag,{value:"Module"})),Vq={slug:"bell-canyon",title:"Bell Canyon, Salt Lake City Hike",time:"3 Hours",tags:["America"],description:"A gorgeous and steep canyon climb into the mountains around Salt Lake City.",thumbnail:"https://live.staticflickr.com/65535/54449571884_ce06cf2c8e_b.jpg",address:"3400 Little Cottonwood Rd, Sandy, UT 84092",cost:"Free",date:"April 12 2025",difficulty:"8/10",rating:"9/10",geojsonTrailPath:"/adventureBlog/bell-canyon/bell-canyon-trail.geojson",iNatTrailPath:"/adventureBlog/bell-canyon/bell-canyon-inat.geojson",content:()=>$.jsxs($.Fragment,{children:[$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54461449043_4607cda8c9_b.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"One of the most beautiful trails I have ever had the privilege to hike. It was very popular and easily accessible from the city with easy parking at the trailhead. The trailhead even had a water bottle refill station. The trail started off with some switchbacks that led to a beautiful lake with a mountainous backdrop. Even if you only planned to get to the lake, it would still be worth it. As I got deeper into the hike and the elevation increased, the trail started to become slick with snow and ice. I only had hiking boots on, which slowed me down a little on the way up. On the way down, it was great fun navigating these parts as I could turn my body sideways and almost slide down large swathes of the trail."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54461449038_f39d860cc3_b.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"Getting to the top of the trail was extremely rewarding! This hike could continue for 10 more kilometers into the canyon for a more prepared hiker. However, the trail onward was extremely steep and slick with slushy snow and ice. Upon completing this hike, I was rewarded with a massive waterfall and views of the Wasatch mountain range. The rock formations were beautiful and rugged."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54461547010_94f9a3dee6_b.jpg"}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54461185246_3b7857f054_b.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"Everyone I met was super friendly, and there was a sense of camaraderie on the trail as fellow hikers struggled up the steep icy sections. This has been one of my favorite hikes as I love the change of ecosystem along the way as well as the shift from no snow to lots of snow."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54461185251_ef4abec732_b.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"When I got back down from climbing the canyon, I took a little walk around the lake to see what I could find. There was a small hill that overlooked the lake and the mountains. I scrambled up the hill and set up a fun self-timer picture to end the hike. I would do this hike again in a heartbeat!"}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54449571884_ce06cf2c8e_b.jpg"}),$.jsx("br",{})]})},wce=Object.freeze(Object.defineProperty({__proto__:null,default:Vq},Symbol.toStringTag,{value:"Module"})),Fq={slug:"blue-mountain",title:"Blue Mountain Resort Hike from the Blue Mountain Resort Village",time:"2 Hours",tags:["Canada","Ontario"],description:"A beautiful hike up the side of the Blue Mountain Resort ski hill",thumbnail:"https://inaturalist-open-data.s3.amazonaws.com/photos/528238674/large.jpg",address:"Blue Mountain Resort (44.5027, -80.3144)",cost:"Free",date:"June 10 2025",difficulty:"5/10",rating:"3/10",geojsonTrailPath:"/adventureBlog/blue-mountain/blue-mountain-trail.geojson",iNatTrailPath:"/adventureBlog/blue-mountain/blue-mountain-inat.geojson",content:()=>$.jsxs($.Fragment,{children:[$.jsx("p",{children:"A quick little jaunt up the hillside of the Blue Mountain ski resort. Not a very well marked hike or a developed trail."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://inaturalist-open-data.s3.amazonaws.com/photos/528238525/large.jpg"}),$.jsx("br",{})]})},bce=Object.freeze(Object.defineProperty({__proto__:null,default:Fq},Symbol.toStringTag,{value:"Module"})),zq={slug:"bruce-peninsula",title:"Gorgeous Hiking Trail in Bruce Peninsula Along Lake Huron",time:"3 Hours",tags:["Canada","Ontario","Swimming"],description:"A gorgeous trail with stunning vistas and rock beaches to visit. You wont beleive you're in Ontario.",thumbnail:"https://live.staticflickr.com/65535/54763922801_244824a310_b.jpg",address:"Bruce Peninsula Grotto",cost:"Bruce Peninsula Camping Pass or Day Pass (50 Dollars)",date:"August 02 2025",difficulty:"7/10",rating:"10/10",geojsonTrailPath:"/adventureBlog/bruce-peninsula/bruce-peninsula-trail.geojson",iNatTrailPath:"/adventureBlog/bruce-peninsula/bruce-peninsula-inat.geojson",content:()=>$.jsxs($.Fragment,{children:[$.jsx("p",{children:"Bruce Penisula is a stunning National Park in Ontario. We had the opertunity to go on a camping trip in the park with some freinds for a few days. It was a eye watering 8 hour drive away from Ottawa. However, this hike and the Grotto made it all worth it. The Bruce Grotto is one of the most iconic Ontario locations that is posted about ad nausea online and for good reason. The swimming is unrivaled and the water is crystal clear. All along this trail are various rock beaches which are perfect for swimming. It is essential you bring goggles if you plan to visit as you can see to the very bottom of the lake at any depth."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://live.staticflickr.com/65535/54763074192_271868fdbd_b.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"If you're plannig a trip to this area, make sure you book the permit a few months in advance. Also be sure to go off the beaten path and find your own little swimming hole as it is most definitely worth it. Near the end of the hike was a view point called overhang point. There is a photo of my partner standing on top of it. As the name suggests , it is a large overhanging rock overlooking lake huron. The other must mention is Boulder Beach near Marr Lake. The Grotto and Indian Head Cove were overrun with people. However, we had the swim spots at the rock beach to ourselves."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://live.staticflickr.com/65535/54764153839_c30c877baf_b.jpg"}),$.jsx("br",{}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://live.staticflickr.com/65535/54763922791_58cb271a99_b.jpg"}),$.jsx("br",{}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://live.staticflickr.com/65535/54763922831_6df1aa8aae_b.jpg"}),$.jsx("br",{})]})},_ce=Object.freeze(Object.defineProperty({__proto__:null,default:zq},Symbol.toStringTag,{value:"Module"})),Uq={slug:"buggy-ride",title:"Dominican Republic Dune Buggy Ride",time:"3 hours",tags:["Dominican Republic"],description:"A dune buggy ride through the Dominican countryside. Beach, coffee, rum and chocolate.",thumbnail:"https://live.staticflickr.com/65535/54376868359_479d202ffe_c.jpg",address:"Playa Jellyfish, Local 22, Punta Cana 23000, Dominican Republic",cost:"90 Dollars",date:"March 5 2025",difficulty:"N/A",rating:"9/10",geojsonTrailPath:"/adventureBlog/buggy-ride/buggy-ride.geojson",iNatTrailPath:"/adventureBlog/buggy-ride/buggy-obs.geojson",content:()=>$.jsxs($.Fragment,{children:[$.jsx("p",{children:"We had the best time exploring Dominican Republic on dune buggies. The day started with a bus pickup at the resort where we got driven to a beautiful farm to start the excursion. The drive to the farm included seeing the local towns, restaurants, and lots of horses. While it was a warm day, our guide, Felix, talked us through the itinerary for the day under a cool pavilion as we applied sunscreen on liberally. The itinerary included driving around on dune buggies to visit a cenote, an organic farm and Macao Beach."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54376868359_479d202ffe_c.jpg",alt:"Dominican Republic dune buggy ride"}),$.jsx("br",{}),$.jsx("p",{children:"With helmets, goggles, and face masks we drove through Macao on dune buggies to visit the first stop  a cenote, which is a cave with water you can swim in. Face covers and goggles were highly recommended to avoid dust and flying critters from entering your mouth, eyes and nose! We brought swimming pool goggles which worked just fine, but you could also purchase goggles and a bandana at the farm."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54377057825_0ce56f1039_c.jpg",alt:"Cenote in Dominican Republic"}),$.jsx("br",{}),$.jsx("p",{children:"While there were quite a few tourists at the cenote it was a great way to escape the heat for a bit with the opportunity to also visit small shops and food vendors."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54376868369_48e971fe1d_c.jpg",alt:"Organic farm stop during buggy ride"}),$.jsx("br",{}),$.jsx("p",{children:"After this, the next stop of the excursion took us to an organic farm where we learned about the production of coffee, rum and chocolate in Dominican Republic. We were also treated to a few samples and had the opportunity to look at a few locally made souvenirs."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54375790772_f255261587_c.jpg",alt:"Dominican Republic coffee and chocolate farm"}),$.jsx("br",{}),$.jsx("p",{children:"After the organic farm, we drove through some muddy roads to get us to Macao Beach which was one of the highlights of the excursion. This beautiful beach had soft sands and some killer waves that a lot of surfers enjoyed. Not to mention the beach had a few local friendly dogs that joined us under an umbrella. Macao Beach was the perfect place to swim and wash off some of the mud from the dune buggies with lots of local food options. There was also a nearby nature trail, but unfortunately we didn't have time to explore it."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54376901453_66e3fec611_c.jpg",alt:"Macao Beach, Dominican Republic"}),$.jsx("br",{}),$.jsx("p",{children:"All in all if you visit Dominican Republic we highly recommend this excursion with Felix and his team. It was a great way to see all the beauty Dominican Republic has to offer while also learning about chocolate, coffee and rum production."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54375790777_ab4faf4b62_c.jpg",alt:"Felixs dune buggy excursion group"}),$.jsx("br",{})]})},Sce=Object.freeze(Object.defineProperty({__proto__:null,default:Uq},Symbol.toStringTag,{value:"Module"})),qq={slug:"coney-mountain",title:"Coney Mountain Peak Near Tupper Lake New York, Adirondacks",time:"1.5 Hours",tags:["America","Adirondacks"],description:"A quick and somewhat steep hike up a lesser known trail in the adirondacks.",thumbnail:"https://live.staticflickr.com/65535/54508327543_8330ed066e_b.jpg",address:"1835 Carrigan Canyon Dr, Salt Lake City, UT 84109 (Street Parking)",cost:"Free",date:"April 30 2025",difficulty:"9/10",rating:"6/10",geojsonTrailPath:"/adventureBlog/coney-mountain/coney-mountain-trail.geojson",iNatTrailPath:"/adventureBlog/coney-mountain/coney-mountain-inat.geojson",content:()=>$.jsxs($.Fragment,{children:[$.jsx("p",{children:"Coney Mountain was an amazing late afternoon hike as it was short and sweet. My dad and I were travelling to Port Chester New York to go see our favourite band, the Avett Brothers live. We rented a small cabin just about 15 minutes from the trailhead and deciced last minute when we go to our cabin that we were gonna go on a short hike to cap off our day. We discovered this gem nearby and had the whole mountain and peak to ourselves."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://live.staticflickr.com/65535/54508407790_a96c14411a_b.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"The hike started off very relaxed and had little to no elevation. The forest had that glow that it gets right before the sun is about to set. However, very quickly, it became to be quite a slog before we finally got up to the bald peak. It did not take long, however the views were amazing. It was a full 360 view of lakes, mountains and trees."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://live.staticflickr.com/65535/54764123249_a9aec0fa79_b.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"I have hiked much longer and more difficult trails that only had half the view that this trail had. Also you may notice this hike has our GPS trail going along the road. I accidently left my device recording while we were driving back! It starts where the iNaturalist photos start."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://live.staticflickr.com/65535/54764130273_4aea5e00ab_b.jpg"}),$.jsx("br",{})]})},xce=Object.freeze(Object.defineProperty({__proto__:null,default:qq},Symbol.toStringTag,{value:"Module"})),Bq={slug:"findlay-drainage",title:"A Short Walk Around a Findlay Creek Water Drainage Pond",time:"1 Hour",tags:["Canada","Ontario","Ottawa"],description:"A somewhat underwhelming walk, but noteworthy as it is very accessible if you live in the area",thumbnail:"https://inaturalist-open-data.s3.amazonaws.com/photos/500126012/large.jpg",address:"45.3165, -75.5882 (Street Parking)",cost:"Free",date:"May 04 2025",difficulty:"9/10",rating:"6/10",geojsonTrailPath:"/adventureBlog/findlay-drainage/findlay-drainage-trail.geojson",iNatTrailPath:"/adventureBlog/findlay-drainage/findlay-drainage-inat.geojson",content:()=>$.jsxs($.Fragment,{children:[$.jsx("p",{children:"Not much to say about this hike. My partner and I like to come here because it is close and easy. Due to the time of year, there were tons of birds flying about which made it more fun than it would have been normally. Strangely, I see a lot of people fishing here and they swear they catch large fish every now and then."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://inaturalist-open-data.s3.amazonaws.com/photos/500126235/large.jpg"}),$.jsx("br",{})]})},Tce=Object.freeze(Object.defineProperty({__proto__:null,default:Bq},Symbol.toStringTag,{value:"Module"})),Gq={slug:"hidden-falls",title:"Hidden Falls, Curt Gowdy State Park, Wyoming",time:"2.5 Hours",tags:["America"],description:"A gorgeous jaunt through a fun diverse landscape in Curt Gowdy Wyoming.",thumbnail:"https://live.staticflickr.com/65535/54465388980_6f06fa05d6_b.jpg",address:"41.17896682741287, -105.24679529767751",cost:"12 Dollars (USD)",date:"April 16 2025",difficulty:"5/10",rating:"9/10",geojsonTrailPath:"/adventureBlog/hidden-falls/hidden-falls-trail.geojson",iNatTrailPath:"/adventureBlog/hidden-falls/hidden-falls-inat.geojson",content:()=>$.jsxs($.Fragment,{children:[$.jsx("p",{children:"Curt Gowdy was a beautiful gem that we had never heard of. We had passed it on the highway on our way to Cheyenne, Wyoming, and later decided to circle back to check it out. The park was extremely windy, with highway closures often due to strong winds  we experienced gusts up to 70 km/h. The park has tons of trails, and even archery pitches. This particular trail, Hidden Falls, winds through forests and rock fields to a small but beautiful canyon containing a stunning waterfall."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54465231679_4ddc68bc60_b.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"We practically had the park to ourselves, which was amazing  no signs of civilization, planes, or cars. Just us and the wind. The park is full of bulbous rock formations, created billions of years ago from cooling magma deep within the Earth's core. These igneous rocks were exposed as the mountains eroded over time."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54465296273_d62db18a5e_b.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"In addition to the rock formations, we saw beautiful wildflowers, many Wyoming Ground Squirrels and chipmunks. The ground squirrels burrows were everywhere along the trail. We also spotted lots of cacti, which was exciting."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54465231669_49227c7d1a_b.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"The trail took about 2 hours, including time for pictures and enjoying the views. The path somewhat follows a stream fed by the spring melt. To get closer to the waterfall, you would need to wade into the water, which is pleasant in warmer months. If you are in the area, this park and trail are a must-see. The only downside is the $12 parking fee."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54465388980_6f06fa05d6_b.jpg"}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54465034711_73d8db7817_b.jpg"}),$.jsx("br",{})]})},$ce=Object.freeze(Object.defineProperty({__proto__:null,default:Gq},Symbol.toStringTag,{value:"Module"})),Hq={slug:"hitchcock",title:"Hitchcock Conservation Area in Iowa",time:"2.5 Hours",tags:["America"],description:"A small hidden gem in Iowa with beautiful trails, camping and a lake.",thumbnail:"https://live.staticflickr.com/65535/54465085671_34d5499783_b.jpg",address:"27792 Ski Hill Loop, Honey Creek, IA 51542, United States",cost:"5 Dollars (USD)",date:"April 18 2025",difficulty:"8/10",rating:"6/10",geojsonTrailPath:"/adventureBlog/hitchcock/hitchcock-trail.geojson",iNatTrailPath:"/adventureBlog/hitchcock/hitchcock-inat.geojson",content:()=>$.jsxs($.Fragment,{children:[$.jsx("p",{children:"Hitchcock Park is the perfect nature escape in Iowa, allowing you to be fully immersed in nature and only a 20-minute drive from Council Bluffs. The hike we did was 3 hours long and definitely a workout, which was perfect after 8 hours in the car the day before driving from Wyoming to Iowa. While this hike doesn't have too much elevation all at once, the calves were definitely burning with the frequent and steep hills. This trail also has no switchbacks, so everything was straight up. It would be brutal to do in the rain or muddy conditions. There was recently a prescribed burn, so we smelled quite a bit of smoke on the hike, but it was super cool to see the new growth in the forest and a few wildflowers emerging from the ground."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54465439120_8e8be278b0_b.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"We didn't see too many animals other than a turkey vulture and some squirrels, and ran into only 4 people on the entire hike. While some of the views were incredible, the areas of higher elevation were quite windy, which had us holding onto our hats! If we lived in the area, it would be a lot of fun to swing into this park for some quick camping. We saw a couple that had snagged a beautiful spot by a little lake. The trail also featured a hawk tower where birders can take advantage of."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54465085671_34d5499783_b.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"The camping sites were primitive but had picnic tables and fire pits. We made our own hike by combining a ton of different trails. Without knowing where you are going, it would have been very easy to get lost as the trails were very windy and all connected. On the flipside, it was nice as you can easily lengthen or shorten your hike. The best views were after the steepest climbs and were well worth the effort."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54465282079_932b67e895_b.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"Just outside the conservation area was a great diner called Henry's Diner. It was a classic barebones diner but really hit the spot after the long hike. From what we saw, the Hitchcock Conservation Center was one of the best places to hike near Omaha, Nebraska."}),$.jsx("br",{})]})},Mce=Object.freeze(Object.defineProperty({__proto__:null,default:Hq},Symbol.toStringTag,{value:"Module"})),Wq={slug:"holiday-beach",title:"Holiday Beach in Ontario",time:"2.5 Hours",tags:["Canada","Ontario"],description:"A birders heaven in Southern Ontario Conservation Area. Purple Martin galore.",thumbnail:"https://live.staticflickr.com/65535/54467898510_e4443fa885_b.jpg",address:"6952 50 Cr, Amherstburg, ON N0R 1G0",cost:"Free",date:"April 20 2025",difficulty:"1/10",rating:"9/10",geojsonTrailPath:"/adventureBlog/holiday-beach/holiday-beach-trail.geojson",iNatTrailPath:"/adventureBlog/holiday-beach/holiday-beach-inat.geojson",content:()=>$.jsxs($.Fragment,{children:[$.jsx("p",{children:"Holiday Beach is a beautiful conservation area with lots of birds to look out for! It features a hawk tower, shoreline, and a boardwalk. It was a very relaxed walk/hike and I would recommend it to anyone in the area."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54467802698_4f05ab3ef8_b.jpg"}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54467898510_e4443fa885_b.jpg"}),$.jsx("br",{})]})},Ece=Object.freeze(Object.defineProperty({__proto__:null,default:Wq},Symbol.toStringTag,{value:"Module"})),Zq={slug:"idaho-foothills",title:"Boise Idaho Foothills Evening Hike",tags:["America"],description:"A beautiful walk around the Boise Idaho foothills. Flowers in full bloom!",thumbnail:"https://live.staticflickr.com/65535/54448566722_abb1c96795_c.jpg",address:"Boise, Idaho, 43.650931, -116.224047",cost:"Free",date:"April 10 2025",difficulty:"2/10",rating:"9/10",geojsonTrailPath:"/adventureBlog/idaho-foothills/idaho-foothills-trail.geojson",iNatTrailPath:"/adventureBlog/idaho-foothills/idaho-foothills-inat.geojson",content:()=>$.jsxs($.Fragment,{children:[$.jsx("p",{children:"Having just driven in after a 7 hour drive from Washington, I was looking for a quick and easy hike to acquaint myself with the area. I quickly looked around and found these foothills nearby the city. I was happy I stopped as this was such an easy and satisfying hike to see the surrounding city and to view the natural beauty of the area. It was already 6 pm and the sun was setting around 8 pm which meant I had just the right amount of time to catch a little bit of the sunset as I finished the hike. The parking was quite easy but it was very limited as it was a busy spot."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54449430906_48c1cd8c51_c.jpg",alt:"Boise Foothills evening view"}),$.jsx("br",{}),$.jsx("p",{children:"The trail circled around a large hill and offered 360 panoramic views of the area. On one side of the hill was the sprawling city of Boise and on the other side was endless hills and valleys. I met a botanist on the trail who happened to be looking for a new species of flower. The botanist was able to tell me all about the local plants that we were passing by on the hills. It was very much an unexpected treat and a break in my solitude from the long day on the road."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54449433926_b2135c21d2_c.jpg",alt:"Views from the Boise Foothills trail"}),$.jsx("br",{}),$.jsx("p",{children:"Yellow flowering plants could be seen in almost every direction. I found out from the botanist and iNaturalist that they were called Arrowleaf Balsamroot. They are referred to as the Oregon sunflower which I thought was fitting! You can check out what that looks like in the picture below. There was also a lot of Big Sagebrush which can be seen in all the landscape photos."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54449614604_d4516f5448_c.jpg",alt:"Arrowleaf Balsamroot in Boise Foothills"}),$.jsx("br",{}),$.jsx("p",{children:"This was my first hike along my road trip from Vancouver to Ottawa. The first few days were very cold and gross on the West Coast so I opted not to hike earlier than this on the trip."}),$.jsx("br",{})]})},Ace=Object.freeze(Object.defineProperty({__proto__:null,default:Zq},Symbol.toStringTag,{value:"Module"})),Yq={slug:"jacks-peak",title:"Jack's Peak in Salt Lake City",time:"2.5 Hours",tags:["America"],description:"A very steep and exposed hike in the mountains around Salt Lake City.",thumbnail:"https://live.staticflickr.com/65535/54463322148_b97f434987_b.jpg",address:"1835 Carrigan Canyon Dr, Salt Lake City, UT 84109 (Street Parking)",cost:"Free",date:"April 14 2025",difficulty:"7/10",rating:"9/10",geojsonTrailPath:"/adventureBlog/jacks-peak/jacks-peak-trail.geojson",iNatTrailPath:"/adventureBlog/jacks-peak/jacks-peak-inat.geojson",content:()=>$.jsxs($.Fragment,{children:[$.jsx("p",{children:"This hike is a perfect day trip, only taking about 2 hours despite stopping plenty of times to look at wildflowers and admire the panoramic view. Jack's Peak is named in honor of Jack Edwards, a young boy who passed away from leukemia in 1995. At the top of the peak is a mailbox where visitors leave letters to Jack and his family. The mailbox at the peak can be seen below and in the thumbnail."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54463322148_b97f434987_b.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"While the trail isn't too long, the steep inclines definitely get the heart pumping and it would be quite slippery in winter or after rain. Jack's Peak does not know the meaning of switchbacks, as most of it goes straight up at a steep incline. The trail is very accessible with easy street parking. It was somewhat busy and popular with locals seeking exercise. We met an older couple at the top who said they do it multiple times a week as the trail is only 10 minutes from their home. As a bonus, the trail was FULL of various wildflowers  check the iNaturalist photos to see some."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54462223807_01ace1e6c6_b.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"Reviews mentioned the trail being buggy, but that was far from the truth (at least by Ontario standards). We experienced a few wasps and other flying critters that mostly ignored us. The strong wind kept most of them away. The trail afforded beautiful views almost the entire way with nothing obstructing the view. I would 100% recommend checking this trail out. The trail is about 4 km long, but get ready for some steep elevation in the first 2 km."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54463254084_34006ce879_b.jpg"}),$.jsx("br",{})]})},Oce=Object.freeze(Object.defineProperty({__proto__:null,default:Yq},Symbol.toStringTag,{value:"Module"})),Jq={slug:"king-mountain",title:"Alternate Route to King Mountain in Gatineau Park",time:"3 Hours",tags:["Canada","Ontario","Ottawa","Gatineau Park"],description:"A hidden gem in Gatineau that extends the King Mountain trail",thumbnail:"https://inaturalist-open-data.s3.amazonaws.com/photos/513683184/large.jpg",address:"Street Parking (45.4837, -75.8676)",cost:"Free",date:"May 31 2025",difficulty:"6/10",rating:"8/10",geojsonTrailPath:"/adventureBlog/king-mountain/king-mountain-trail.geojson",iNatTrailPath:"/adventureBlog/king-mountain/king-mountain-inat.geojson",content:()=>$.jsxs($.Fragment,{children:[$.jsx("p",{children:"King Mountain is a short but very popular trail and it is often difficult to find parking at the traditional trail head for it. This alternate trail provides an excellent option for ease of parking and an extension which adds over 300 meters of elevation to the trail."}),$.jsx("br",{}),$.jsx("p",{children:"The trail begins with lots of elevation and slowly levels out as it takes you closer to King Mountain. There is unfortuantely a small uphill part along the road."}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://inaturalist-open-data.s3.amazonaws.com/photos/513683184/large.jpg"}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://inaturalist-open-data.s3.amazonaws.com/photos/513683563/large.jpg"}),$.jsx("br",{})]})},kce=Object.freeze(Object.defineProperty({__proto__:null,default:Jq},Symbol.toStringTag,{value:"Module"})),Kq={slug:"mer-bleu",title:"Mer Bleue Peat Bog Trail",time:"3 Hours",tags:["Canada","Ontario","Ottawa"],description:"Mer Bleu is a unique and beautiful board walk hike through a peat bog",thumbnail:"https://inaturalist-open-data.s3.amazonaws.com/photos/508106265/large.jpg",address:"5063 Ridge Rd, Ramsayville, ON K0A 1K0",cost:"Free",date:"May 20 2025",difficulty:"1/10",rating:"8/10",geojsonTrailPath:"/adventureBlog/mer-blue/mer-blue-trail.geojson",iNatTrailPath:"/adventureBlog/mer-blue/mer-blue-inat.geojson",content:()=>$.jsxs($.Fragment,{children:[$.jsx("p",{children:"Mer Bleu is a unique board walk hike through a large peat bog. The trail head is a short walk to the start of the board walk. The trailhead has plenty of parking. If you are in the mood for a longer hike, you can park at 4980 Ridge Rd instead and extend the hike by a few kilometers through the forest before you eventually get to the board walk. The difficulty for this hike is non-existant but it is still highly rated due to how enjoyable it is to walk through the bog on the board walk. The ecosystem is unique and thriving."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://inaturalist-open-data.s3.amazonaws.com/photos/508103273/large.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"Along our walk to the board walk, we ran into a group of rather intimidating turkeys. There is tons of wild life to see in the area including turtles, frogs and birds. There is also a local beaver in the area!"}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://inaturalist-open-data.s3.amazonaws.com/photos/508104999/large.jpg"}),$.jsx("br",{})]})},Cce=Object.freeze(Object.defineProperty({__proto__:null,default:Kq},Symbol.toStringTag,{value:"Module"})),Xq={slug:"pine-grove",title:"Pine Grove Trail in the Ottawa Green Belt",time:"1.5 Hours",tags:["Canada","Ontario","Ottawa"],description:"A customizable walk through the Ottawa Green Belt",thumbnail:"https://inaturalist-open-data.s3.amazonaws.com/photos/504173747/large.jpg",address:"Pine Grove Trail Head (45.3542, -75.5921)",cost:"Free",date:"May 12 2025",difficulty:"1/10",rating:"8/10",geojsonTrailPath:"/adventureBlog/pine-grove/pine-grove-trail.geojson",iNatTrailPath:"/adventureBlog/pine-grove/pine-grove-inat.geojson",content:()=>$.jsxs($.Fragment,{children:[$.jsx("p",{children:"Pine Grove is a well travelled trail in the Green Belt of Ottawa that can be as long or short as you would like. The trail is easy to walk and is basically a path. It can be great for kids and long strolls after work if you live nearby."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://inaturalist-open-data.s3.amazonaws.com/photos/504173676/large.jpg"}),$.jsx("br",{})]})},Rce=Object.freeze(Object.defineProperty({__proto__:null,default:Xq},Symbol.toStringTag,{value:"Module"})),Qq={slug:"point-pelee",title:"A Walk Around Point Pelee, the Most Southern Tip of Main Land Canada During Bird Migration",tags:["Canada","Ontario"],time:"3 Hours",description:"For a couple minutes, we were the most southern Canadians on this beautiful beach. There were also bird everywhere.",thumbnail:"https://live.staticflickr.com/65535/54466709407_61d0ab14f8_b.jpg",address:"1118 Point Pelee Dr, Leamington, ON N8H 3V4",cost:"25 Dollar (Day Pass)",date:"April 21 2025",difficulty:"3/10",rating:"10/10",geojsonTrailPath:"/adventureBlog/point-pelee/point-pelee-trail-1.geojson",iNatTrailPath:"/adventureBlog/point-pelee/point-pelee-inat.geojson",content:()=>$.jsxs($.Fragment,{children:[$.jsx("p",{children:"Point Pelee was an absolute blast. The price to enter for a single day was rather steep at 25 dollars. However, the energy in the park was unbeatable. It was on the tail end of the bird migration season and there were people and birds everywhere! I loved being able to climb up the hawk tower and take in a whole view of the park."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://live.staticflickr.com/65535/54467743019_d456b8a619_b.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"The highlight of the hike was definitely the beach at the very tip. It was extremely windy and waves were crashing into the sand from all directions. We took off our shoes and waded through the water. It was magical. For a few minutes, we were the most southern Canadian on the main Canadian land mass."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-5/8 md:justify-self-center",src:"https://live.staticflickr.com/65535/54467743034_3cd18f660c_b.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"I would highly recommend visiting! The whole place was teeming with wildlife."}),$.jsx("br",{})]})},Ice=Object.freeze(Object.defineProperty({__proto__:null,default:Qq},Symbol.toStringTag,{value:"Module"})),eB={slug:"salish-trail",title:"Salish Trail by UBC",tags:["Canada","British Columbia"],description:"My first hiking blog! A very short and sweet hike to test out my new camera...",thumbnail:"adventureBlog/salish-trail/thumbnail.jpg",address:"Acadia Beach Parking Lot",cost:"Free Parking & No Permit",date:"January 28 2025",difficulty:"2/10",rating:"5/10",geojsonTrailPath:"/adventureBlog/salish-trail/salish-trail.geojson",iNatTrailPath:"/adventureBlog/salish-trail/2025-01-28.geojson",content:()=>$.jsxs($.Fragment,{children:[$.jsx("p",{children:"Salish Trail was a cute and easy hike to access from Metro Vancouver. The trail has very close by free parking and allows you to explore the rocky beach and the lush forest. Despite going in January, there was still lots to see such as insects, birds, and many fun plants."}),$.jsx("br",{}),$.jsx("p",{children:"The hike will not take you long and has many options in the area to shorten or lengthen the hike. During the winters of Vancouver, this is an easy spot to hit if you dont want to venture into the mountains and the snow."}),$.jsx("br",{}),$.jsx("p",{children:"We started the trail by walking along the water on the Foreshore trail before heading back up to the Salish trail where we spent a majority of our time. This was a super relaxed hike thats main purpose was to gather fun INaturalist photos!"}),$.jsx("br",{}),$.jsx("p",{children:"I hope you get the time to check this place out and enjoy a slice of Nature so close to the city!"})]})},Pce=Object.freeze(Object.defineProperty({__proto__:null,default:eB},Symbol.toStringTag,{value:"Module"})),tB={slug:"salt-lake",title:"Great Salt Lake Walk",time:"1 Hour",tags:["America"],description:"Eerie, weird, beautiful and otherworldly walk around the Great Salt Lake.",thumbnail:"https://live.staticflickr.com/65535/54463415410_a418d8f5b4_b.jpg",address:"40.746964, -112.186063",cost:"Free",date:"April 13 2025",difficulty:"1/10",rating:"7/10",geojsonTrailPath:"/adventureBlog/salt-lake/salt-lake-trail.geojson",iNatTrailPath:"/adventureBlog/salt-lake/salt-lake-inat.geojson",content:()=>$.jsxs($.Fragment,{children:[$.jsx("p",{children:"Since I was in Salt Lake City, I figured I had to check out the Great Salt Lake. The internet seemed to state that visiting the lake close to the city was a waste of time. I honestly found it to be an interesting and unique experience. The lake is drying up due to climate change and other factors and may not exist in about 5 years. Therefore, forget what the internet says and go see it for yourself. The parking experience was a little weird, but the coordinates above have a small gravel lot where many other tourists parked. I got out of my car and started walking around; it was very flat with beautiful mountains in the background. The ground and sand near the lake were clearly covered with salt and crunched as I walked along it. Check out the salt formations below."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54463318518_f70169dbd9_b.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"The walk was very eerie and empty. There seemed to be nothing for kilometers. I saw a few shore birds which you can check on the map and in the iNaturalist photos. The creepiest part was the numerous bird corpses littered around the lake  likely hundreds in my view. The birds apparently died in the thousands from avian influenza in 2024, primarily affecting the Eared Grebe which migrates over the Great Salt Lake. The salt slowed their decomposition, producing the gnarly photos I captured. Besides the dead birds, the landscape felt barren and hostile."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54463054586_6526ffd38e_b.jpg"}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://inaturalist-open-data.s3.amazonaws.com/photos/486178837/large.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"The Great Salt Lake was not as dramatic as other hikes in the area. However, if you have the time, I would recommend checking it out."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54463415410_a418d8f5b4_b.jpg"}),$.jsx("br",{})]})},jce=Object.freeze(Object.defineProperty({__proto__:null,default:tB},Symbol.toStringTag,{value:"Module"})),iB={slug:"slc-foothills",title:"Salt Lake City Foothills",time:"1 Hour",tags:["America"],description:"A quick little strange hike in the foothills of Salt Lake City!",thumbnail:"https://live.staticflickr.com/65535/54455241984_ccee4b6242_b.jpg",address:"40.484, -112.0483",cost:"Free",date:"April 11 2025",difficulty:"6/10",rating:"7/10",geojsonTrailPath:"/adventureBlog/slc-foothills/slc-foothills-trail.geojson",iNatTrailPath:"/adventureBlog/slc-foothills/slc-foothills-inat.geojson",content:()=>$.jsxs($.Fragment,{children:[$.jsx("p",{children:"A quick little strange hike in the foothills of Salt Lake City. It felt more like a horse riding trail than a hike, but was beautiful nonetheless. If you're in the area and looking for a quick evening hike, it can scratch the itch. The area is under heavy development and it was not busy. There wasn't a single other person on the trail. The hike started off very relaxed and eventually grew steeper and steeper until it was basically straight up. If you kept following the trail, you'd eventually make your way to an American flag pole. Near where I stopped, there seemed to be a grave and a fort-like structure. I didn't check it out and was running out of sunlight so I backtracked to the car."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54455241984_ccee4b6242_b.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"The segment of the trail I did was very short, but had 300 meters of elevation which made a very tiring ordeal. The photo above shows the view facing away from the city and was gorgeous and rugged with the snow-capped mountains in the background over the rolling hills. The photo below shows the sprawling suburbs of Salt Lake City. At the end of the hike I saw a Common Sagebrush Lizard which was exciting!"}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54454206212_28141c7a6e_b.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"Ultimately the trail was a little strange and had an eerie vibe since I was the only one there. I would recommend another trail if you have the choice."}),$.jsx("br",{})]})},Nce=Object.freeze(Object.defineProperty({__proto__:null,default:iB},Symbol.toStringTag,{value:"Module"})),rB={slug:"table-rock",title:"Table Rock Hike and a Little Extra",tags:["America"],description:"Beautiful hike in Boise Idaho with panoramic views of Boise and a fun history!",thumbnail:"https://live.staticflickr.com/65535/54449674848_c753bb5173_c.jpg",address:"2421 E Old Penitentiary Rd, Boise, ID 83712",cost:"Free",date:"April 10 2025",difficulty:"6/10",rating:"10/10",geojsonTrailPath:"/adventureBlog/table-rock/table-rock-trail.geojson",iNatTrailPath:"/adventureBlog/table-rock/table-rock-inat.geojson",content:()=>$.jsxs($.Fragment,{children:[$.jsx("p",{children:"Beautiful hike in Boise Idaho with panoramic views of Boise and a fun history! I chose a terrible day to do this hike as it was 30 degrees and HOT. This was my second and last day in Boise and I wanted to make the most of it. Despite the heat, I headed out for the hike. It featured stunning panoramic views of the city and the landscape, interesting limestone cliffs and lizards! Being from Ottawa, I don't get to see lizards often which was exciting."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54449795485_11016bffb7_c.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"At the very top of the trail was a massive white cross that had been built in the 50s by a man who wanted to inspire the local community."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54449674848_c753bb5173_c.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"The beginning of the trail was pretty flat and accessible and meandered up and around hills. It was deceivingly easy in the beginning and then quickly began to increase in elevation at the halfway mark. In the image below, if you squint really hard you can barely make out the massive white cross overlooking the city. The picture does not do it justice  this cross and hill could be seen from anywhere in the city below."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54449617714_d0305ac270_c.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"Once all the elevation was complete, the top of Table Rock was very flat and maybe about a half kilometer wide. This allowed for a perimeter walk around the top which gave way to beautiful natural views of rolling hills and valleys. There was a steep cliff on one side which afforded the views below and on the other side was an abandoned limestone quarry."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54449617709_3c7df62b83_c.jpg"}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54449795490_235e5b5c40_c.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"The perimeter walk also had many close up views of what I believe are limestone rocks. The mine is long decommissioned but shows history quite well. The old penitentiary below was also decommissioned in the 1970s but it was of note because the walls and buildings of the penitentiary had been built with the very limestone pulled from the earth on top of Table Rock. I also learned that the inmates were responsible for working in the mine. I thought it was quite darkly humorous that inmates helped build and improve the prison. You can clearly see the walls of the penitentiary below and draw similarities between the rock type on Table Rock and the walls/buildings."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54449795495_6b68f3e61a_c.jpg"}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54449951109_615fcd6e3c_c.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"Below is some rubble that looks like it was left over from when the mine was active. There was a lot more than what was visible in this photo and the area was off limits to explore unfortunately."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://live.staticflickr.com/65535/54448901747_c758bd3a2e_c.jpg"}),$.jsx("br",{})]})},Dce=Object.freeze(Object.defineProperty({__proto__:null,default:rB},Symbol.toStringTag,{value:"Module"})),sB={slug:"terra-nova",title:"Terra Nova Park & Geocaching",tags:["Canada","British Columbia"],description:"Geocaching and Naturalist walk around Terra Nova Park. Lots and LOTS of birds.",thumbnail:"https://inaturalist-open-data.s3.amazonaws.com/photos/470650964/large.jpg",address:"2520 River Rd, Richmond, BC V7C 1A1",cost:"Free Parking & No Permit",date:"February 16 2025",difficulty:"1/10",rating:"7/10",geojsonTrailPath:"/adventureBlog/terra-nova/terra-nova-trail.geojson",iNatTrailPath:"/adventureBlog/terra-nova/terra-nova-inat.geojson",content:()=>$.jsxs($.Fragment,{children:[$.jsx("p",{children:"Terra Nova Park was a great urban and tiny park nestled into Richmond. The park had trails along the water and was teeming with birds. There are many fun and easy geocaches nearby. If you go yourself, check the log books for DVS."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"/adventureBlog/terra-nova/DV.JPG",alt:"Terra Nova Park"}),$.jsx("br",{}),$.jsx("p",{children:"It was a bit muddy, perhaps due to the time of the year. Definitely bring a pair of boots. There was lots of parking and you should have no trouble finding it if you head to where the trail starts. A pair of binoculars will come in handy and let us see shore birds!"}),$.jsx("br",{}),$.jsx("p",{children:"Through and through, it was a beautiful day to be out and about in Vancouver."})]})},Lce=Object.freeze(Object.defineProperty({__proto__:null,default:sB},Symbol.toStringTag,{value:"Module"})),nB={slug:"top-trail",title:"Pacific Spirit Loop",tags:["Canada","British Columbia"],description:"A beautiful and surprisingly secluded loop via Pacific Spirit Park. Lots of tree coverage.",thumbnail:"https://inaturalist-open-data.s3.amazonaws.com/photos/471299632/large.jpg",address:"W 29th Ave, Vancouver, BC V6N 2C4",cost:"Free Parking & No Permit",date:"February 19 2025",difficulty:"4/10",rating:"8/10",geojsonTrailPath:"/adventureBlog/top-trail/pacific-spirit-top-trail.geojson",iNatTrailPath:"/adventureBlog/top-trail/top-trail-inat.geojson",content:()=>$.jsxs($.Fragment,{children:[$.jsx("p",{children:"This trail was a great way to be immersed in nature while still remaining in the city of Vancouver. Parking was extremely easy to find on the street and was free. The trail is well marked and there was a washroom conveniently located at the trail head. During the walk, it rained the whole time but we found relief in the thick forest tree coverage. We saw a few people, but had the trail to ourselves for most of it. There were quite a few dog walkers and runners."}),$.jsx("br",{}),$.jsx("p",{children:"The trail took us longer than expected but we stopped for many photos as you can see for yourself on the map. We saw lots of cool vegetation, a slug and plenty of fun fungi to photograph. The trail is very customizable as it can be shortened or lengthened depending on how far you want to trek. Ultimately, we would recommend this trail, especially on an all so common rainy Vancouver day."})]})},Vce=Object.freeze(Object.defineProperty({__proto__:null,default:nB},Symbol.toStringTag,{value:"Module"})),oB={slug:"wolf-trail",title:"Wolf Trail in Gatineau Park",time:"3 Hours",tags:["Canada","Ontario","Ottawa","Gatineau Park","Swimming"],description:"One of Gatineau Parks most popular and well balanced hikes",thumbnail:"https://inaturalist-open-data.s3.amazonaws.com/photos/510224064/large.jpg",address:"P13 (905 Chem. du Lac-Meech, Chelsea, QC J9B 1H9)",cost:"Free",date:"May 24 2025",difficulty:"7/10",rating:"7/10",geojsonTrailPath:"/adventureBlog/wolf-trail/wolf-trail-trail.geojson",iNatTrailPath:"/adventureBlog/wolf-trail/wolf-trail-inat.geojson",content:()=>$.jsxs($.Fragment,{children:[$.jsx("p",{children:"Wolf Trail is a classic Gatineau Park hike that is easily accessible from Ottawa via Old Chelsea. The trail has a nice amount of elevation and is a loop which is great if you hate back tracking. The parking can be very difficult to find, especially during the Fall or on weekends. There is another parking lot down the street which has a connecting trail to wolf trail and can be a useful backup."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://inaturalist-open-data.s3.amazonaws.com/photos/510224064/large.jpg"}),$.jsx("br",{}),$.jsx("p",{children:"You will find a few different vistas throughout the trail that afford nice views of the valley below. My favourite part of the hike is is the segment of trail that goes along a rocky ridge. There is a bench to sit on where you can relax and take in the views. The trail is open year round and can be used for snowshoeing in the winter. In the summer, there is a beach near the parking lot which has great swimming and is a perfect spot to cool off after a hike."}),$.jsx("br",{}),$.jsx("img",{className:"w-full h-auto rounded-md md:w-2/3 md:justify-self-center",src:"https://inaturalist-open-data.s3.amazonaws.com/photos/510219543/large.jpg"}),$.jsx("br",{})]})},Fce=Object.freeze(Object.defineProperty({__proto__:null,default:oB},Symbol.toStringTag,{value:"Module"}));function zce(){const[t,e]=H.useState([]),[i,r]=H.useState(""),[s,n]=H.useState(null);window.scrollTo(0,0),H.useEffect(()=>{const m=Object.values(Object.assign({"../components/blogs/adventureBlogs/blogs/ampersand-mountain/index.tsx":Lq,"../components/blogs/adventureBlogs/blogs/bell-canyon/index.tsx":Vq,"../components/blogs/adventureBlogs/blogs/blue-mountain/index.tsx":Fq,"../components/blogs/adventureBlogs/blogs/bruce-peninsula/index.tsx":zq,"../components/blogs/adventureBlogs/blogs/buggy-ride/index.tsx":Uq,"../components/blogs/adventureBlogs/blogs/coney-mountain/index.tsx":qq,"../components/blogs/adventureBlogs/blogs/findlay-drainage/index.tsx":Bq,"../components/blogs/adventureBlogs/blogs/hidden-falls/index.tsx":Gq,"../components/blogs/adventureBlogs/blogs/hitchcock/index.tsx":Hq,"../components/blogs/adventureBlogs/blogs/holiday-beach/index.tsx":Wq,"../components/blogs/adventureBlogs/blogs/idaho-foothills/index.tsx":Zq,"../components/blogs/adventureBlogs/blogs/jacks-peak/index.tsx":Yq,"../components/blogs/adventureBlogs/blogs/king-mountain/index.tsx":Jq,"../components/blogs/adventureBlogs/blogs/mer-bleu/index.tsx":Kq,"../components/blogs/adventureBlogs/blogs/pine-grove/index.tsx":Xq,"../components/blogs/adventureBlogs/blogs/point-pelee/index.tsx":Qq,"../components/blogs/adventureBlogs/blogs/salish-trail/index.tsx":eB,"../components/blogs/adventureBlogs/blogs/salt-lake/index.tsx":tB,"../components/blogs/adventureBlogs/blogs/slc-foothills/index.tsx":iB,"../components/blogs/adventureBlogs/blogs/table-rock/index.tsx":rB,"../components/blogs/adventureBlogs/blogs/terra-nova/index.tsx":sB,"../components/blogs/adventureBlogs/blogs/top-trail/index.tsx":nB,"../components/blogs/adventureBlogs/blogs/wolf-trail/index.tsx":oB})).sort((v,w)=>{const _=x=>x.date?new Date(x.date).getTime():0;return _(w)-_(v)});e(m)},[]);const o=H.useMemo(()=>{const c=new Set;return t.forEach(d=>{var m;return(m=d.tags)==null?void 0:m.forEach(v=>c.add(v))}),Array.from(c)},[t]),l=H.useMemo(()=>t.filter(c=>{var v;const d=c.title.toLowerCase().includes(i.toLowerCase())||c.description.toLowerCase().includes(i.toLowerCase()),m=!s||((v=c.tags)==null?void 0:v.includes(s));return d&&m}),[t,i,s]);return $.jsxs("section",{className:"max-w-6xl mx-auto px-4 py-15 text-center",children:[$.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-3 mb-8",children:[$.jsx("input",{type:"text",placeholder:"Search posts...",value:i,onChange:c=>r(c.target.value),className:"w-full sm:w-1/2 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400"}),$.jsxs("select",{value:s??"",onChange:c=>n(c.target.value||null),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400",children:[$.jsx("option",{value:"",children:"All Tags"}),o.map(c=>$.jsx("option",{value:c,children:c.charAt(0).toUpperCase()+c.slice(1)},c))]})]}),l.length===0?$.jsx("p",{className:"text-gray-400 italic",children:"No posts found"}):$.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:l.map(c=>{var d;return $.jsxs("a",{href:`/#/adventure-blog/${c.slug}`,className:"block bg-white rounded-2xl shadow-md hover:shadow-xl overflow-hidden transition-all cursor-pointer border border-gray-300",children:[$.jsx("img",{src:c.thumbnail,alt:c.title,className:"w-full h-48 object-cover"}),$.jsxs("div",{className:"p-5 text-left",children:[$.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:c.title}),$.jsx("p",{className:"text-gray-600 text-sm mb-1",children:c.description}),$.jsx("p",{className:"text-gray-500 text-xs",children:c.date}),$.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:(d=c.tags)==null?void 0:d.map(m=>$.jsx("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-0.5 rounded-full",children:m},m))})]})]},c.slug)})})]})}const Uce="modulepreload",qce=function(t){return"/"+t},p8={},te=function(e,i,r){let s=Promise.resolve();if(i&&i.length>0){let o=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=o(i.map(d=>{if(d=qce(d),d in p8)return;p8[d]=!0;const m=d.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${v}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":Uce,m||(w.as="script"),w.crossOrigin="",w.href=d,c&&w.setAttribute("nonce",c),document.head.appendChild(w),m)return new Promise((_,x)=>{w.addEventListener("load",_),w.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function n(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&n(l.reason);return e().catch(n)})};function h(t,e,i,r){var s=arguments.length,n=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,i):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(t,e,i,r);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(n=(s<3?o(n):s>3?o(e,i,n):o(e,i))||n);return s>3&&n&&Object.defineProperty(e,i,n),n}function UPe(t,e){return function(i,r){e(i,r,t)}}function qPe(t,e,i,r){function s(n){return n instanceof i?n:new i(function(o){o(n)})}return new(i||(i=Promise))(function(n,o){function l(m){try{d(r.next(m))}catch(v){o(v)}}function c(m){try{d(r.throw(m))}catch(v){o(v)}}function d(m){m.done?n(m.value):s(m.value).then(l,c)}d((r=r.apply(t,e||[])).next())})}function BPe(t,e,i){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,s;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],i&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(n){return Promise.reject(n)}}),t.stack.push({value:e,dispose:r,async:i})}else i&&t.stack.push({async:!0});return e}var Bce=typeof SuppressedError=="function"?SuppressedError:function(t,e,i){var r=new Error(i);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function GPe(t){function e(n){t.error=t.hasError?new Bce(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}var i,r=0;function s(){for(;i=t.stack.pop();)try{if(!i.async&&r===1)return r=0,t.stack.push(i),Promise.resolve().then(s);if(i.dispose){var n=i.dispose.call(i.value);if(i.async)return r|=2,Promise.resolve(n).then(s,function(o){return e(o),s()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}let Sc;const Tr=globalThis;function q(t){return typeof Sc[t]=="function"?Sc[t]=Sc[t](Tr):Sc[t]}var Mz,Ez,Az,Oz;Sc=(Mz=Tr.dojoConfig)!=null&&Mz.has||(Ez=Tr.esriConfig)!=null&&Ez.has?{...(Az=Tr.dojoConfig)==null?void 0:Az.has,...(Oz=Tr.esriConfig)==null?void 0:Oz.has}:{},q.add=(t,e,i,r)=>{(r||Sc[t]===void 0)&&(Sc[t]=e),i&&q(t)},q.cache=Sc,q.add("big-integer-warning-enabled",!0),q.add("esri-deprecation-warnings",!0),q.add("esri-tests-disable-screenshots",!1),q.add("esri-tests-use-full-window",!1),q.add("esri-tests-post-to-influx",!0),q.add("esri-cim-animations-enable-status","enabled"),q.add("esri-cim-animations-spotlight",!1),q.add("esri-cim-animations-freeze-time",!1),(()=>{var e;q.add("host-webworker",Tr.WorkerGlobalScope!==void 0&&self instanceof Tr.WorkerGlobalScope);const t=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(q.add("host-browser",t),q.add("host-node",!(typeof Tr.process!="object"||!((e=Tr.process.versions)!=null&&e.node)||!Tr.process.versions.v8)),q.add("dom",t),q("host-browser")){const i=navigator,r=i.userAgent,s=i.appVersion,n=parseFloat(s);if(q.add("wp",parseFloat(r.split("Windows Phone")[1])||void 0),q.add("msapp",parseFloat(r.split("MSAppHost/")[1])||void 0),q.add("khtml",s.includes("Konqueror")?n:void 0),q.add("edge",parseFloat(r.split("Edge/")[1])||void 0),q.add("opr",parseFloat(r.split("OPR/")[1])||void 0),q.add("webkit",!q("wp")&&!q("edge")&&parseFloat(r.split("WebKit/")[1])||void 0),q.add("chrome",!q("edge")&&!q("opr")&&parseFloat(r.split("Chrome/")[1])||void 0),q.add("android",!q("wp")&&parseFloat(r.split("Android ")[1])||void 0),q.add("safari",!s.includes("Safari")||q("wp")||q("chrome")||q("android")||q("edge")||q("opr")?void 0:parseFloat(s.split("Version/")[1])),q.add("mac",s.includes("Macintosh")),!q("wp")&&/(iPhone|iPod|iPad)/.test(r)){const o=RegExp.$1.replace(/P/,"p"),l=/OS ([\d_]+)/.test(r)?RegExp.$1:"1",c=parseFloat(l.replace(/_/,".").replaceAll("_",""));q.add(o,c),q.add("ios",c)}q("webkit")||(!r.includes("Gecko")||q("wp")||q("khtml")||q("edge")||q.add("mozilla",n),q("mozilla")&&q.add("ff",parseFloat(r.split("Firefox/")[1]||r.split("Minefield/")[1])||void 0))}})(),(()=>{if(Tr.navigator){const t=navigator.userAgent,e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(t),i=/iPhone/i.test(t);e&&q.add("esri-mobile",e),i&&q.add("esri-iPhone",i),q.add("esri-geolocation",!!navigator.geolocation)}q.add("esri-wasm","WebAssembly"in Tr),q.add("esri-performance-mode-frames-between-render",20),q.add("esri-force-performance-mode",!1),q.add("esri-shared-array-buffer",()=>{const t="SharedArrayBuffer"in Tr,e=Tr.crossOriginIsolated===!1;return t&&!e}),q.add("wasm-simd",()=>{const t=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(t))}),q.add("esri-atomics","Atomics"in Tr),q.add("esri-workers","Worker"in Tr),q.add("web-feat:cache","caches"in Tr),q.add("esri-workers-arraybuffer-transfer",!q("safari")||Number(q("safari"))>=12),q.add("workers-pool-size",8),q.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),q.add("featurelayer-simplify-payload-size-factors",[1,1,4]),q.add("featurelayer-fast-triangulation-enabled",!0),q.add("featurelayer-animation-enabled",!0),q.add("featurelayer-snapshot-enabled",!0),q.add("featurelayer-snapshot-initial-tolerance",0),q.add("featurelayer-snapshot-point-min-threshold",8e4),q.add("featurelayer-snapshot-point-max-threshold",4e5),q.add("featurelayer-snapshot-multipoint-min-threshold",2e4),q.add("featurelayer-snapshot-multipoint-max-threshold",1e5),q.add("featurelayer-snapshot-polygon-min-threshold",2e3),q.add("featurelayer-snapshot-polygon-max-threshold",2e3),q.add("featurelayer-snapshot-polyline-min-threshold",2e3),q.add("featurelayer-snapshot-polyline-max-threshold",2e3),q.add("featurelayer-snapshot-max-vertex-count",25e4),q.add("featurelayer-snapshot-non-hosted-exceedslimit-enabled",!0),q.add("featurelayer-snapshot-concurrency",4),q.add("featurelayer-snapshot-coverage",.1),q.add("featurelayer-query-max-depth",4),q.add("featurelayer-query-pausing-enabled",!1),q.add("featurelayer-query-tile-concurrency",4),q.add("featurelayer-query-tile-max-features",6e5),q.add("featurelayer-advanced-symbols",!1),q.add("featurelayer-pbf",!0),q.add("featurelayer-pbf-statistics",!1),q.add("feature-layers-workers",!0),q.add("feature-polyline-generalization-factor",1),q.add("parquetlayer-full-query-feature-count",2e4),q.add("parquetlayer-hittest-max-feature-count",1),q.add("mapview-transitions-duration",200),q.add("mapview-essential-goto-duration",200),q.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),q.add("mapserver-pbf-version-support",10.81),q.add("mapservice-popup-identify-max-tolerance",20),q.add("request-queue-concurrency-hosted",16),q.add("request-queue-concurrency-non-hosted",4),q.add("curve-densification-coarse-segments",128),q.add("curve-densification-max-segments",2e3),q.add("curve-densification-min-segments",3),q.add("curve-densification-pixel-deviation",.5),q.add("view-readyState-waiting-delay",1e3),q.add("gradient-depth-bias",.01),q.add("gradient-depth-epsilon",1e-8),q.add("enable-feature:esri-compress-textures",!0),q("host-webworker")||q("host-browser")&&(q.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),q.add("esri-url-encodes-apostrophe",()=>{const t=window.document.createElement("a");return t.href="?'",t.href.includes("?%27")}))})();const f8=new WeakMap;function Gce(t,e,i=!1){const r=` DEPRECATED - ${e}`;if(!i)return void t.warn(r);let s=f8.get(t);s||(s=new Set,f8.set(t,s)),s.has(e)||(s.add(e),t.warn(r))}const DS="https://www.esriurl.com/";function zC(t,e,i,r={}){q("esri-deprecation-warnings")&&Uc(t,`This widget is deprecated. Use the ${e} component instead.`,{see:[`${e} component reference: ${DS}${i}/`,`Esri's move to web components: ${DS}components-transition-plan/`],replacement:`<${i}></${i}>`,warnOnce:!0,...r})}function Hce(t,e,i,r={}){q("esri-deprecation-warnings")&&Uc(t,`This view model is deprecated. Use the ${e} component directly instead.`,{see:[`${e} component reference: ${DS}${i}/`,`Esri's move to web components: ${DS}components-transition-plan/`],replacement:`<${i}></${i}>`,warnOnce:!0,...r})}function Wce(t,e,i={}){q("esri-deprecation-warnings")&&Uc(t,`Module: ${e}`,i)}function aB(t,e,i={}){if(q("esri-deprecation-warnings")){const{moduleName:r}=i;Uc(t,`Function: ${(r?r+"::":"")+e+"()"}`,i)}}function BE(t,e,i={}){if(q("esri-deprecation-warnings")){const{moduleName:r}=i;Uc(t,`Property: ${(r?r+"::":"")+e}`,i)}}function Zce(t,e,i={}){q("esri-deprecation-warnings")&&Uc(t,`Multiple argument constructor: ${e}`,{warnOnce:!0,replacement:`new ${e}({ <your properties here> })`,...i})}function Uc(t,e,i={}){if(q("esri-deprecation-warnings")){const{replacement:r,version:s,see:n,warnOnce:o}=i;let l=e;if(r&&(l+=`
	 Replacement: ${r}`),s&&(l+=`
	 Version: ${s}`),n)if(Array.isArray(n)){l+=`
	 See for more details:`;for(const c of n)l+=`
		${c}`}else l+=`
	 See ${n} for more details.`;Gce(t,l,o)}}function HPe(t){const e=[];return function*(){yield*e;let i,r=e.length;for(;!(i=t.next()).done;)for(e.push(i.value),yield i.value;++r<e.length;)yield e[r]}}function Yce(t,e){for(const i of t)if(i!=null&&e(i))return i}function LS(t){return t!=null&&typeof t[Symbol.iterator]=="function"}let sg=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach(i=>{e+=i.length}),e}add(e,i){if(LS(e)){const r=this._getOrCreateGroup(i);for(const s of e)y8(s)&&r.push(s)}else y8(e)&&this._getOrCreateGroup(i).push(e);return this}forEach(e,i){if(typeof e=="function")this._groups.forEach(r=>r.forEach(e));else{const r=this._getGroup(e);r&&i&&r.forEach(i)}}has(e){return this._groups.has(u_(e))}remove(e){if(typeof e!="string"&&LS(e)){for(const i of e)this.remove(i);return this}return this.has(e)?(m8(this._getGroup(e)),this._groups.delete(u_(e)),this):this}removeAll(){return this._groups.forEach(m8),this._groups.clear(),this}removeReference(e){return this._groups.delete(e),this}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const i=[];return this._groups.set(u_(e),i),i}_getGroup(e){return this._groups.get(u_(e))}};function u_(t){return t||"_default_"}function m8(t){for(const e of t)e instanceof sg?e.removeAll():e.remove()}function y8(t){return t!=null&&(!!t.remove||t instanceof sg)}function ZPe(t){}function Jce(t){return()=>t}function YPe(t){return t}var Ls;let Kce=(Ls=class{constructor(e=1){this._seed=e}set seed(e){this._seed=e??Math.random()*Ls._m}getInt(){return this._seed=(Ls._a*this._seed+Ls._c)%Ls._m,this._seed}getFloat(){return this.getInt()/(Ls._m-1)}getIntRange(e,i){return Math.round(this.getFloatRange(e,i))}getFloatRange(e,i){const r=i-e;return e+this.getInt()/Ls._m*r}},Ls._m=2147483647,Ls._a=48271,Ls._c=0,Ls);const Xce=1.5,JPe=1/Xce,KPe=.5;function lB(t){return t}function Qce(t,e=lB){if(!t||t.length===0)return;let i=t[0],r=e(i);for(let s=1;s<t.length;++s){const n=t[s],o=Number(e(n));o>r&&(r=o,i=n)}return i}function XPe(t,e=lB){return Qce(t,i=>-e(i))}function QPe(t,e){return e?t.filter((i,r,s)=>s.findIndex(e.bind(null,i))===r):Array.from(new Set(t))}function ehe(t,e,i,r,s,n,o){if(t==null&&r==null)return!0;e=Math.max(0,e),s=Math.max(0,s),i=Math.max(0,i<0?((t==null?void 0:t.length)??0)+i:i),n=Math.max(0,n<0?((r==null?void 0:r.length)??0)+n:n);const l=i-e;if(t==null||r==null||l!==n-s)return!1;if(o){for(let c=0;c<l;c++)if(!o(t[e+c],r[s+c]))return!1}else for(let c=0;c<l;c++)if(t[e+c]!==r[s+c])return!1;return!0}function Jx(t,e,i){return ehe(t,0,(t==null?void 0:t.length)??0,e,0,(e==null?void 0:e.length)??0,i)}function eje(){return(t,e)=>{if(t==null&&e==null)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}}function g8(t,e,i){let r,s;return i?(r=e.filter(n=>!t.some(o=>i(o,n))),s=t.filter(n=>!e.some(o=>i(o,n)))):(r=e.filter(n=>!t.includes(n)),s=t.filter(n=>!e.includes(n))),{added:r,removed:s}}function tje(t){return t&&typeof t.length=="number"}function ije(t,e){const i=t.length;if(i===0)return[];const r=[];for(let s=0;s<i;s+=e)r.push(t.slice(s,s+e));return r}let uB=class{constructor(){this.last=0}};const cB=new uB;function GE(t,e,i,r){r=r||cB;const s=Math.max(0,r.last-10);for(let o=s;o<i;++o)if(t[o]===e)return r.last=o,o;const n=Math.min(s,i);for(let o=0;o<n;++o)if(t[o]===e)return r.last=o,o;return-1}function HE(t,e,i,r){const s=t.length,n=GE(t,e,s,r);if(n!==-1)return t[n]=t[s-1],t.pop(),e}const So=new Set;function the(t,e,i=t.length,r=e.length,s,n){if(r===0||i===0)return i;So.clear();for(let l=0;l<r;++l)So.add(e[l]);s=s||cB;const o=Math.max(0,s.last-10);for(let l=o;l<i;++l)if(So.has(t[l])&&(n==null||n.push(t[l]),So.delete(t[l]),t[l]=t[i-1],--i,--l,So.size===0||i===0))return So.clear(),i;for(let l=0;l<o;++l)if(So.has(t[l])&&(n==null||n.push(t[l]),So.delete(t[l]),t[l]=t[i-1],--i,--l,So.size===0||i===0))return So.clear(),i;return So.clear(),i}function ihe(t,e){let i=0;for(let r=0;r<t.length;++r){const s=t[r];e(s,r)&&(t[i]=s,i++)}return t.length=i,t}function sje(t,e,i){const r=t.length;if(e>=r)return t.slice();const s=hB(i),n=new Set,o=[];for(;o.length<e;){const l=Math.floor(s()*r);n.has(l)||(n.add(l),o.push(t[l]))}return o}function hB(t){return t?(v8.seed=t,()=>v8.getFloat()):Math.random}const v8=new Kce;function nje(t,e){if(!t)return t;const i=hB(e);for(let r=t.length-1;r>0;r--){const s=Math.floor(i()*(r+1)),n=t[r];t[r]=t[s],t[s]=n}return t}function UC(t,e){const i=t.indexOf(e);return i!==-1?(t.splice(i,1),e):null}function qc(t,e){return t!=null}const oje=[];function aje(t){return t instanceof ArrayBuffer}function qC(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Int8Array"}function dB(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Uint8Array"}function pB(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Uint8ClampedArray"}function BC(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Int16Array"}function fB(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Uint16Array"}function GC(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Int32Array"}function mB(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Uint32Array"}function rhe(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Float16Array"}function Kx(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Float32Array"}function Xx(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Float64Array"}function she(t){return"buffer"in t}const yB=1024;function lje(t){return Xx(t)||Kx(t)||GC(t)||BC(t)||qC(t)}function uje(t){return Xx(t)||Kx(t)}function cje(t){return Xx(t)?179769e303:rhe(t)?65504:Kx(t)?3402823e32:mB(t)?4294967295:fB(t)?65535:dB(t)||pB(t)?255:GC(t)?2147483647:BC(t)?32767:qC(t)?127:256}const hje=-32768,dje=-2147483648;function pje(t){return t}function nhe(t,e){let i;for(i in t)t.hasOwnProperty(i)&&t[i]===void 0&&delete t[i];return t}function G(t){if(!t||typeof t!="object"||typeof t=="function")return t;const e=wB(t);if(e!=null)return e;if(Yv(t))return t.clone();if(gB(t))return t.map(G);if(vB(t))throw new Error("Trying to clone an unclonable Accessor instance");const i={};for(const r of Object.getOwnPropertyNames(t))i[r]=G(t[r]);return i}function WE(t,e){if(!t||typeof t!="object"||typeof t=="function"||"HTMLElement"in globalThis&&t instanceof HTMLElement)return t;const i=wB(t);if(i!=null)return i;if(gB(t)){let s=!0;const n=t.map(o=>{const l=WE(o,e);return o!=null&&l==null&&(s=!1),l});return s?n:null}if(Yv(t))return t.clone(e);if(t instanceof File||t instanceof Blob)return t;if(vB(t))return null;const r=new(Object.getPrototypeOf(t)).constructor;for(const s of Object.getOwnPropertyNames(t)){const n=t[s],o=WE(n);if(n!=null&&o==null)return null;r[s]=o}return r}function Yv(t){return typeof t.clone=="function"}function gB(t){return typeof t.map=="function"&&typeof t.forEach=="function"}function vB(t){return typeof t.notifyChange=="function"&&typeof t.watch=="function"}function w8(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function wB(t){if(qC(t)||dB(t)||pB(t)||BC(t)||fB(t)||GC(t)||mB(t)||Kx(t)||Xx(t))return t.slice();if(t instanceof Date)return new Date(t);if(t instanceof ArrayBuffer)return t.slice(0,t.byteLength);if(t instanceof Map){const e=new Map;for(const[i,r]of t)e.set(i,G(r));return e}if(t instanceof Set){const e=new Set;for(const i of t)e.add(G(i));return e}return null}function HC(t,e){return t===e||typeof t=="number"&&isNaN(t)&&typeof e=="number"&&isNaN(e)||typeof(t==null?void 0:t.getTime)=="function"&&typeof(e==null?void 0:e.getTime)=="function"&&t.getTime()===e.getTime()||!1}function bB(t,e){return t===e||(t==null||typeof t=="string"?t===e:typeof t=="number"?t===e||typeof e=="number"&&isNaN(t)&&isNaN(e):t instanceof Date?e instanceof Date&&t.getTime()===e.getTime():Array.isArray(t)?Array.isArray(e)&&Jx(t,e):t instanceof Set?e instanceof Set&&ahe(t,e):t instanceof Map?e instanceof Map&&lhe(t,e):!!w8(t)&&w8(e)&&ohe(t,e))}function ohe(t,e){if(t===null||e===null)return!1;const i=Object.keys(t);if(e===null||Object.keys(e).length!==i.length)return!1;for(const r of i)if(t[r]!==e[r]||!Object.prototype.hasOwnProperty.call(e,r))return!1;return!0}function ahe(t,e){if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0}function lhe(t,e){if(t.size!==e.size)return!1;for(const[i,r]of t){const s=e.get(i);if(s!==r||s===void 0&&!e.has(i))return!1}return!0}function WC(t,e,i=!1){return SB(t,e,i)}function Qx(t,e){if(e!=null)return e[t]||_B(t.split("."),!1,e)}function bs(t,e,i){const r=t.split("."),s=r.pop(),n=_B(r,!0,i);n&&s&&(n[s]=e)}function b8(t,e){if(t==null&&e==null)return!1;if(t==null||e==null)return!0;if(typeof t=="object"){if(Array.isArray(t)){const i=e;if(t.length!==i.length)return!0;for(let r=0;r<t.length;r++)if(b8(t[r],i[r]))return!0;return!1}if(Object.keys(t).length!==Object.keys(e).length)return!0;for(const i in t)if(b8(t[i],e[i]))return!0;return!1}return t!==e}function _B(t,e,i){let r=i;for(const s of t){if(r==null)return;if(!(s in r)){if(!e)return;r[s]={}}r=r[s]}return r}function SB(t,e,i){return e?Object.keys(e).reduce((r,s)=>{if(s==="__proto__")return r;let n=r[s],o=e[s];return n===o?r:n===void 0?(r[s]=G(o),r):(Array.isArray(o)||Array.isArray(r)?(n=n?Array.isArray(n)?r[s]=n.slice():r[s]=[n]:r[s]=[],o&&(Array.isArray(o)||(o=[o]),i?o.forEach(l=>{n.includes(l)||n.push(l)}):r[s]=o.slice())):o&&typeof o=="object"?r[s]=SB(n,o,i):r.hasOwnProperty(s)&&!e.hasOwnProperty(s)||(r[s]=o),r)},t||{}):t}function fje(t,e){for(const i of Object.entries(t))if(e===i[1])return i[0]}function eT(t,e){return Object.values(t).includes(e)}var kz;const dt={apiKey:void 0,apiKeys:{scopes:[]},applicationName:"",applicationUrl:(kz=globalThis.location)==null?void 0:kz.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(WC(dt,globalThis.esriConfig,!0),delete dt.has),!dt.assetsPath){{const t="4.34";dt.assetsPath=`https://js.arcgis.com/${t}/@arcgis/core/assets`}dt.defaultAssetsPath=dt.assetsPath}const uhe=/\{([^}]+)\}/g;function _8(t){return t??""}function Sp(t,e){return e?t.replaceAll(uhe,typeof e=="object"?(i,r)=>_8(Qx(r,e)):(i,r)=>_8(e(r))):t}function mje(t,e){return t.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,i=>e!=null&&e.includes(i)?i:`\\${i}`)}function xB(t){let e=0;for(let i=0;i<t.length;i++)e=(e<<5)-e+t.charCodeAt(i),e|=0;return e}let S8;function yje(t){return S8??(S8=new DOMParser),S8.parseFromString(t||"","text/html").body.innerText||""}function gje(t,e){return new RegExp(`{${e}}`,"ig").test(t)}function vje(t,...e){let i=t[0];for(let r=0;r<e.length;++r)i+=e[r]+t[r+1];return i}const x8={info:0,warn:1,error:2,none:3};var Ri;let se=(Ri=class{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},e.level!=null&&(this.level=e.level),e.writer!=null&&(this.writer=e.writer),this._module=e.module,Ri._loggers.set(this.module,this);const i=this.module.lastIndexOf(".");i!==-1&&(this._parent=Ri.getLogger(this.module.slice(0,i)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){}static get test(){}static getLogger(e){return e=typeof e!="string"?e.declaredClass:e,Ri._loggers.get(e)||new Ri({module:e})}_log(e,i,...r){if(this._matchLevel(e)){if(i!=="always"&&!Ri._throttlingDisabled){const s=hhe(r),n=this._loggedMessages[e].get(s);if(i==="once"&&n!=null||i==="oncePerTick"&&n&&n>=Ri._tickCounter)return;this._loggedMessages[e].set(s,Ri._tickCounter),Ri._scheduleTickCounterIncrement()}for(const s of dt.log.interceptors)if(s(e,this.module,...r))return;this._inheritedWriter()(e,this.module,...r)}}_parentWithMember(e,i){let r=this;for(;r!=null;){const s=r[e];if(s!=null)return s;r=r.parent}return i}_inheritedWriter(){return this._parentWithMember("writer",che)}_matchLevel(e){const i=dt.log.level||"warn";return x8[this._parentWithMember("level",i)]<=x8[e]}static _scheduleTickCounterIncrement(){Ri._tickCounterScheduled||(Ri._tickCounterScheduled=!0,Promise.resolve().then(()=>{Ri._tickCounter++,Ri._tickCounterScheduled=!1}))}},Ri._loggers=new Map,Ri._tickCounter=0,Ri._tickCounterScheduled=!1,Ri._throttlingDisabled=!1,Ri);function che(t,e,...i){console[t](`[${e}]`,...i)}function hhe(...t){return xB(JSON.stringify(t,(i,r)=>typeof r!="object"||Array.isArray(r)?r:"[Object]"))}function TB(t,e){if(t==null)throw new Error(e??"value is None")}function ti(t){return t==null||t.destroy(),null}function wje(t){return t==null||t.dispose(),null}function Dt(t){return t==null||t.remove(),null}function np(t){return t==null||t.abort(),null}function bje(t){return t==null||t.release(),null}function dhe(t,e,i){return t!=null&&e!=null?i!=null?i(t,e):t.equals(e):t===e}function phe(t,e){let i;return t.some((r,s)=>(i=e(r,s),i!=null)),i??void 0}const $B=Symbol("Accessor-beforeDestroy"),fhe={remove:()=>{}};function at(t){return t?{remove(){t&&(t(),t=void 0)}}:fhe}function MB(t){t.forEach(e=>e==null?void 0:e.remove())}function _je(t){MB(t),t.length=0}function xp(t){return at(()=>MB(t))}function Sje(t){return at(()=>{var e;return(e=t())==null?void 0:e.remove()})}function mhe(t){return at(()=>t==null?void 0:t.abort())}function xje(t){return at(t!=null?()=>t.destroy():void 0)}function yhe(t){return typeof t=="object"&&!!t&&"remove"in t&&typeof t.remove=="function"}function Tje(t){yhe(t)&&t.remove()}function $je(t){return{[Symbol.dispose](){t.remove()}}}function _s(t){return t.__accessor__??null}function ghe(t,e){var i;return((i=t==null?void 0:t.metadata)==null?void 0:i[e])!=null}function p2(t,e,i){return i?VS(t,e,{policy:i,path:""}):VS(t,e,null)}function VS(t,e,i){return e?Object.keys(e).reduce((r,s)=>{const n=s;if(n==="__proto__")return r;let o=null,l="merge";if(i&&(o=i.path?`${i.path}.${s}`:s,l=i.policy(o)),l==="replace"||l==="replace-arrays"&&Array.isArray(r[n]))return r[n]=e[n],r;if(r[n]===void 0)return r[n]=G(e[n]),r;let c=r[n],d=e[n];if(c===d)return r;if(Array.isArray(d)||Array.isArray(r))c=c?Array.isArray(c)?r[n]=c.slice():r[n]=[c]:r[n]=[],d&&(Array.isArray(d)||(d=[d]),d.forEach(m=>{c.includes(m)||c.push(m)}));else if(d&&typeof d=="object")if(i){const m=i.path;i.path=o,r[n]=VS(c,d,i),i.path=m}else r[n]=VS(c,d,null);else r.hasOwnProperty(s)&&!e.hasOwnProperty(s)||(r[n]=d);return r},t||{}):t}function EB(t){return Array.isArray(t)?t:t.split(".")}function T8(t){return t.includes(",")?t.split(",").map(e=>e.trim()):[t.trim()]}function vhe(t){if(Array.isArray(t)){const e=[];for(const i of t)e.push(...T8(i));return e}return T8(t)}function AB(t,e,i,r){const s=vhe(e);if(s.length!==1){const n=s.map(o=>r(t,o,i));return xp(n)}return r(t,s[0],i)}function OB(t,e){const i=t.endsWith("?")?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const s=parseInt(i,10);if(!isNaN(s))return Array.isArray(e)?e[s]:e.at(s)}const r=_s(e);return ghe(r,i)?r.get(i):e[i]}function kB(t,e,i){if(t==null)return t;const r=OB(e[i],t);return!r&&i<e.length-1?void 0:i===e.length-1?r:kB(r,e,i+1)}function bw(t,e,i=0){return typeof e!="string"||e.includes(".")?kB(t,EB(e),i):OB(e,t)}function Ho(t,e){return bw(t,e)}function $8(t,e){return bw(e,t)!==void 0}const dn={INITIALIZING:0,CONSTRUCTING:1,CONSTRUCTED:2,DESTROYING:3,DESTROYED:4};function ng(t){let e=t.constructor.__accessorMetadata__;const i=Object.prototype.hasOwnProperty.call(t.constructor,"__accessorMetadata__");if(e){if(!i){e=Object.create(e);for(const r in e)e[r]=G(e[r]);Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0})}}else e={},Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0});return t.constructor.__accessorMetadata__}function _w(t,e){const i=ng(t);let r=i[e];return r||(r=i[e]={}),r}function whe(t,e){return p2(t,e,_he)}const bhe=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function _he(t){return bhe.test(t)?"replace":"merge"}function She(t){return(t==null?void 0:t.release)&&typeof t.release=="function"}function xhe(t){return(t==null?void 0:t.acquire)&&typeof t.acquire=="function"}var Dc;let og=(Dc=class{constructor(e,i,r,s=1,n=0){this._creator=e,this._acquireFunction=i,this._releaseFunction=r,this.allocationSize=s,this._pool=new Array(n),this._initialSize=n;for(let o=0;o<n;o++)this._pool[o]=this._creator();this.allocationSize=Math.max(s,1)}destroy(){this.prune(0)}acquire(...e){let i;if(Dc.test.disabled)i=this._creator();else{if(this._pool.length===0){const r=this.allocationSize;for(let s=0;s<r;s++)this._pool[s]=this._creator()}i=this._pool.pop()}return this._acquireFunction?this._acquireFunction(i,...e):xhe(i)&&i.acquire(...e),i}release(e){e&&!Dc.test.disabled&&(this._releaseFunction?this._releaseFunction(e):She(e)&&e.release(),this._pool.push(e))}prune(e=this._initialSize){if(!(e>=this._pool.length)){for(let i=e;i<this._pool.length;++i){const r=this._pool[i];this._dispose(r)}this._pool.length=e}}_dispose(e){e.dispose&&typeof e.dispose=="function"&&e.dispose()}},Dc.test={disabled:!!q("esri-tests-disable-memory-pools")},Dc),The=class{constructor(e,i){this._observers=e,this._observer=i}remove(){UC(this._observers,this._observer)}},CB=class{constructor(){this._observers=null,this.destroyed=!1}observe(e){if(this.destroyed||e.destroyed)return $he;this._observers==null&&(this._observers=[]);const i=this._observers;let r=!1,s=!1;const n=i.length;for(let o=0;o<n;++o){const l=i[o];if(l.destroyed)s=!0;else if(l===e){r=!0;break}}return r||(i.push(e),s&&this._removeDestroyedObservers()),new The(i,e)}_removeDestroyedObservers(){const e=this._observers;if(!e||e.length===0)return;const i=e.length;let r=0;for(let s=0;s<i;++s){for(;s+r<i&&e[s+r].destroyed;)++r;if(r>0){if(!(s+r<i))break;e[s]=e[s+r]}}e.length=i-r}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this._observers;if(e!=null){for(const i of e)i.onCommitted();this._observers=null}}};const $he=at(),Xt={Dirty:1,Overridden:2,Computing:4,NonNullable:8,HasDefaultValue:16,DepTrackingInitialized:32,AutoTracked:64,ExplicitlyTracking:128};let tT=class{constructor(e){this.accessed=void 0,this._handles=void 0,this._observer=e}destroy(){var e;(e=this.accessed)==null||e.clear(),this.clear()}onAccessed(e){this._observer!=null&&e!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(e))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(e=>{this._handles.push(e.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let e=0;e<this._handles.length;++e)this._handles[e].remove();this._handles.length=0}}};const FS=new tT,iv=[];let Jv=FS;function je(t){Jv.onAccessed(t)}let f2=!1,m2=!1;function hu(t,e,i){if(f2)return ZC(t,e,i);let r=null;return RB(t),r=e.call(i),IB(),r}function Mhe(t,e){return hu(FS,t,e)}function ZC(t,e,i){const r=f2;f2=!0,RB(t);let s=null;try{s=e.call(i)}catch(n){m2&&se.getLogger("esri.core.accessorSupport.tracking").error(n)}return IB(),f2=r,s}function RB(t){Jv=t,iv.push(t)}function IB(){const t=iv.length;if(t>1){const e=iv.pop();Jv=iv[t-2],e.onTrackingEnd()}else if(t===1){const e=iv.pop();Jv=FS,e.onTrackingEnd()}else Jv=FS}function PB(t,e){if(e.flags&Xt.DepTrackingInitialized)return;e.flags|=Xt.DepTrackingInitialized;const i=m2;m2=!1,e.flags&Xt.AutoTracked?ZC(e.trackingTarget,e.metadata.get,t):jB(t,e),m2=i}const Ehe=[];function jB(t,e){e.flags&Xt.ExplicitlyTracking||(e.flags|=Xt.ExplicitlyTracking,ZC(e.trackingTarget,()=>{const i=e.metadata.dependsOn||Ehe;for(const r of i)if(typeof r!="string"||r.includes(".")){const s=EB(r);for(let n=0,o=t;n<s.length&&o!=null&&typeof o=="object";++n)o=M8(o,s[n],n!==s.length-1)}else M8(t,r,!1)}),e.flags&=-129)}function M8(t,e,i){const r=e.endsWith("?")?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const n=parseInt(r,10);if(!isNaN(n))return Array.isArray(t)?t[n]:t.at(n)}const s=_s(t);if(s){const n=s.propertiesByName.get(r);n&&(je(n),PB(t,n))}return i?t[r]:void 0}let E8=class extends CB{constructor(e,i){super(),this.propertyName=e,this.metadata=i,this.trackingTarget=new tT(this),this.flags=0,this.flags=Xt.Dirty|(i.nonNullable?Xt.NonNullable:0)|(i.hasOwnProperty("value")?Xt.HasDefaultValue:0)|(i.get===void 0?Xt.DepTrackingInitialized:0)|(i.dependsOn===void 0?Xt.AutoTracked:0)}destroy(){this.flags&Xt.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(e){e.mutable&&je(this);const i=e.store,r=this.propertyName,s=this.flags,n=i.get(r);if(s&Xt.Computing||~s&Xt.Dirty&&i.has(r))return n;this.flags|=Xt.Computing;const o=e.host;let l;s&Xt.AutoTracked?l=hu(this.trackingTarget,this.metadata.get,o):(jB(o,this),l=this.metadata.get.call(o)),this.flags|=Xt.DepTrackingInitialized,i.set(r,l,1);const c=i.get(r);return c===n?this.flags&=-2:Mhe(this.commit,this),this.flags&=-5,c}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=-2,this.onCommitted()}onInvalidated(){~this.flags&Xt.Overridden&&(this.flags|=Xt.Dirty);const e=this._observers;if(e&&e.length>0)for(const i of e)i.onInvalidated()}onCommitted(){const e=this._observers;if(e&&e.length>0){const i=e.slice();for(const r of i)r.onCommitted()}}};const ZE=8;function Kl(t){switch(t){case"defaults":return 0;case"service":return 2;case"portal-item":return 3;case"web-scene":return 4;case"web-map":return 5;case"link-chart":return 6;case"user":return 7;default:return null}}function zS(t){switch(t){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"link-chart";case 7:return"user"}}function Ahe(t){return zS(t)}let Ohe=class NB{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const i=new NB;return this._values.forEach((r,s)=>{e&&e.has(s)||i.set(s,G(r))}),i}get(e){return this._values.get(e)}originOf(){return 7}keys(){return[...this._values.keys()]}set(e,i){this._values.set(e,i)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}isAtOrigin(e,i){return this.has(e)}isBelowOrigin(e,i){return!this.has(e)}forEach(e){this._values.forEach(e)}};function wf(t,e,i){return t!==void 0}function A8(t,e,i,r){return t!==void 0&&(!(i==null&&t.flags&Xt.NonNullable)||(r.lifecycle,!1))}let khe=class{constructor(e){this.host=e,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=dn.INITIALIZING,this.store=new Ohe,this.mutable=!0,this._origin=7;const i=this.host.constructor.__accessorMetadata__;for(const r in i){const s=new E8(r,i[r]);this.propertiesByName.set(r,s)}this.metadata=i}initialize(){this.lifecycle=dn.CONSTRUCTING}constructed(){this.lifecycle=dn.CONSTRUCTED}destroy(){this.lifecycle=dn.DESTROYED,this.propertiesByName.forEach(e=>e.destroy())}get initialized(){return this.lifecycle!==dn.INITIALIZING}get(e){const i=this.propertiesByName.get(e);if(!wf(i))return;if(i.metadata.get)return i.getComputed(this);this.mutable&&je(i);const r=this.store;return r.has(e)?r.get(e):i.metadata.value}originOf(e){const i=this.store.originOf(e);if(i===void 0){const r=this.propertiesByName.get(e);if(r!==void 0&&r.flags&Xt.HasDefaultValue)return"defaults"}return zS(i)}has(e){return this.propertiesByName.has(e)&&this.store.has(e)}keys(){return[...this.propertiesByName.keys()]}internalGet(e){const i=this.propertiesByName.get(e);if(wf(i))return this.store.has(e)?this.store.get(e):i.metadata.value}internalSet(e,i){const r=this.propertiesByName.get(e);wf(r)&&this._internalSet(r,i)}getDependsInfo(e,i,r){const s=this.propertiesByName.get(i);if(!wf(s))return"";const n=new tT,o=hu(n,()=>{var d;return(d=s.metadata.get)==null?void 0:d.call(e)});let l=`${r}${e.declaredClass.split(".").pop()}.${i}: ${o}
`;const c=n.accessed??new Set;if(c.size===0)return l;r+="  ";for(const d of c)d instanceof E8&&(l+=`${r}${d.propertyName}: undefined
`);return l}setAtOrigin(e,i,r){const s=this.propertiesByName.get(e);if(wf(s))return this._setAtOrigin(s,i,r)}isOverridden(e){const i=this.propertiesByName.get(e);return i!==void 0&&!!(i.flags&Xt.Overridden)}clearOrigin(e,i){const r=this.store,s=this.propertiesByName.get(e);if(!wf(s))return;const n=r.isAtOrigin(e,i)&&!(s.flags&Xt.Overridden);r.delete(e,i),n&&s.notifyChange()}clearOverride(e){const i=this.propertiesByName.get(e);i&&i.flags&Xt.Overridden&&(i.flags&=-3,i.notifyChange())}override(e,i){const r=this.propertiesByName.get(e);if(!A8(r,e,i,this))return;const s=r.metadata.cast;if(s){const n=this._cast(s,i),{valid:o,value:l}=n;if(BM.release(n),!o)return;i=l}r.flags|=Xt.Overridden,this._internalSet(r,i)}set(e,i){const r=this.propertiesByName.get(e);if(!A8(r,e,i,this))return;const s=r.metadata.cast;if(s){const o=this._cast(s,i),{valid:l,value:c}=o;if(BM.release(o),!l)return;i=c}const n=r.metadata.set;n?n.call(this.host,i):this._internalSet(r,i)}setDefaultOrigin(e){this._origin=Kl(e)}getDefaultOrigin(){return zS(this._origin)}notifyChange(e){const i=this.propertiesByName.get(e);i!==void 0&&i.notifyChange()}invalidate(e){const i=this.propertiesByName.get(e);i!==void 0&&i.invalidate()}commit(e){const i=this.propertiesByName.get(e);i!==void 0&&i.commit()}_internalSet(e,i){const r=this.lifecycle!==dn.INITIALIZING?this._origin:0;this._setAtOrigin(e,i,r)}_setAtOrigin(e,i,r){const s=this.store,n=e.propertyName;if(s.isAtOrigin(n,r)&&HC(i,s.get(n))&&~e.flags&Xt.Overridden)return;const o=s.isBelowOrigin(n,r)||s.isAtOrigin(n,r);o&&e.invalidate(),s.set(n,i,r),o&&e.commit(),PB(this.host,e)}_cast(e,i){const r=BM.acquire();return r.valid=!0,r.value=i,e&&(r.value=e.call(this.host,i,r)),r}},Che=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const BM=new og(()=>new Che);function Rhe(t,e){return t.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(i,r)=>r===""?"$":(Qx(r,e)??"").toString())}let DB=class{constructor(e,i,r=void 0){this.name=e,this.details=r,this.message=(i&&Rhe(i,r))??""}toString(){return"["+this.name+"]: "+this.message}},B=class LB extends DB{constructor(e,i,r){super(e,i,r)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(e,i)=>{if(i&&typeof i=="object"&&typeof i.toJSON=="function")return i;try{return G(i)}catch{return"[object]"}}))}}catch(e){throw se.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new LB(e.name,e.message,e.details)}};B.prototype.type="error";function US(t,e,i){if(t&&e)if(typeof e=="object")for(const r of Object.getOwnPropertyNames(e))US(t,r,e[r]);else{if(e.includes(".")){const s=e.split("."),n=s.splice(-1,1)[0];return void US(Ho(t,s),n,i)}const r=t.__accessor__;r!=null&&Ihe(e,r),t[e]=i}}function Ihe(t,e){if(q("esri-unknown-property-errors")&&!Phe(t,e))throw new B("set:unknown-property",jhe(t,e))}function Phe(t,e){return e.metadata[t]!=null}function jhe(t,e){return"setting unknown property '"+t+"' on instance of "+e.host.declaredClass}let Nhe;function Dhe(){return Nhe}function Lhe(t){t.length=0}let hs=class{constructor(e=50,i=50){this._pool=new og(()=>[],void 0,Lhe,i,e)}acquire(){return this._pool.acquire()}release(e){this._pool.release(e)}prune(){this._pool.prune(0)}static acquire(){return GM.acquire()}static release(e){return GM.release(e)}static prune(){GM.prune()}};const GM=new hs(100);let VB=class extends og{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...e){const i=super.acquire(...e);return this._set.delete(i),i}release(e){e&&!this._set.has(e)&&(super.release(e),this._set.add(e))}_dispose(e){this._set.delete(e),super._dispose(e)}};const c_=[];function qS(t){c_.push(t),c_.length===1&&queueMicrotask(()=>{const e=c_.slice();c_.length=0;for(const i of e)i()})}let Kv=class{constructor(e,i=30){this.name=e,this._counter=0,this._samples=new Array(i)}push(e){e!=null&&(this._samples[++this._counter%this._samples.length]=e)}set(e){e!=null&&(this._samples[this._counter%this._samples.length]=e)}get median(){return this._samples.slice().sort((e,i)=>e-i)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((e,i)=>e+i,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};const BS=(t,e,i,r)=>{let s=e,n=e;const o=i>>>1,l=t[s-1];for(;n<=o;){n=s<<1,n<i&&r(t[n-1],t[n])<0&&++n;const c=t[n-1];if(r(c,l)<=0)break;t[s-1]=c,s=n}t[s-1]=l},FB=(t,e)=>t<e?-1:t>e?1:0;function Vhe(t,e,i,r){i===void 0&&(i=t.length),r===void 0&&(r=FB);for(let n=i>>>1;n>e;n--)BS(t,n,i,r);const s=e+1;for(let n=i-1;n>e;n--){const o=t[e];t[e]=t[n],t[n]=o,BS(t,s,n,r)}}function*Fhe(t,e,i,r){i===void 0&&(i=t.length),r===void 0&&(r=FB);for(let n=i>>>1;n>e;n--)BS(t,n,i,r),yield;const s=e+1;for(let n=i-1;n>e;n--){const o=t[e];t[e]=t[n],t[n]=o,BS(t,s,n,r),yield}}const zhe=1.5,Uhe=1.1;let zB=class{constructor(e){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new uB,e&&(e.initialSize&&(this.data=new Array(e.initialSize)),e.allocator&&(this._allocator=e.allocator),e.deallocator!==void 0&&(this._deallocator=e.deallocator),e.shrink&&(this._shrink=()=>O8(this)))}toArray(){return this.data.slice(0,this.length)}filter(e){const i=new Array;for(let r=0;r<this._length;r++){const s=this.data[r];e(s)&&i.push(s)}return i}at(e){if((e=Math.trunc(e)||0)<0&&(e+=this._length),!(e<0||e>=this._length))return this.data[e]}includes(e,i){const r=this.data.indexOf(e,i);return r!==-1&&r<this.length}get length(){return this._length}set length(e){if(e>this._length){if(this._allocator){for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=e}else{if(this._deallocator)for(let i=e;i<this._length;++i)this.data[i]=this._deallocator(this.data[i]);this._length=e,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(e){this.data[this._length++]=e}pushArray(e,i=e.length){for(let r=0;r<i;r++)this.data[this._length++]=e[r]}fill(e,i){for(let r=0;r<i;r++)this.data[this._length++]=e}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const e=this.data[this._length];return++this._length,e}unshift(e){this.data.unshift(e),this._length++,O8(this)}pop(){if(this.length===0)return;const e=this.data[this.length-1];return this.length=this.length-1,this._shrink(),e}remove(e){const i=GE(this.data,e,this.length,this._hint);if(i!==-1)return this.data.splice(i,1),this.length=this.length-1,e}removeUnordered(e){return this.removeUnorderedIndex(GE(this.data,e,this.length,this._hint))}removeUnorderedIndex(e){if(!(e>=this.length||e<0))return this.swapElements(e,this.length-1),this.pop()}removeUnorderedMany(e,i=e.length,r){this.length=the(this.data,e,this.length,i,this._hint,r),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(e,i){if(e>=this.length||i>=this.length||e===i)return;const r=this.data[e];this.data[e]=this.data[i],this.data[i]=r}sort(e){Vhe(this.data,0,this.length,e)}iterableSort(e){return Fhe(this.data,0,this.length,e)}some(e,i){for(let r=0;r<this.length;++r)if(e.call(i,this.data[r],r,this.data))return!0;return!1}find(e,i){const{data:r,length:s}=this;for(let n=0;n<s;++n)if(e.call(i,r[n]))return r[n]}filterInPlace(e,i){let r=0;for(let s=0;s<this._length;++s){const n=this.data[s];e.call(i,n,s,this.data)&&(this.data[s]=this.data[r],this.data[r]=n,r++)}if(this._deallocator)for(let s=r;s<this._length;s++)this.data[s]=this._deallocator(this.data[s]);return this._length=r,this._shrink(),this}forAll(e,i){const{data:r,length:s}=this;for(let n=0;n<s;++n)e.call(i,r[n],n,r)}forEach(e,i){this.data.slice(0,this.length).forEach(e,i)}map(e,i){const r=new Array(this.length);for(let s=0;s<this.length;++s)r[s]=e.call(i,this.data[s],s,this.data);return r}reduce(e,i){let r=i;for(let s=0;s<this.length;++s)r=e(r,this.data[s],s,this.data);return r}has(e){const i=this.length,r=this.data;for(let s=0;s<i;++s)if(r[s]===e)return!0;return!1}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.data[e]}};function O8(t){t.data.length>zhe*t.length&&(t.data.length=Math.floor(t.length*Uhe))}function qhe(t){return{setTimeout:(e,i)=>{const r=t.setTimeout(e,i);return at(()=>t.clearTimeout(r))}}}const ag=qhe(globalThis);function iT(t){return Bhe(t)||UB(t)}function Bhe(t){return t!=null&&typeof t=="object"&&"on"in t&&typeof t.on=="function"}function UB(t){return t!=null&&typeof t=="object"&&"addEventListener"in t&&typeof t.addEventListener=="function"}function lg(t,e,i){if(!iT(t))throw new TypeError("target is not a Evented or EventTarget object");return UB(t)?Ghe(t,e,i):t.on(e,i)}function Ghe(t,e,i,r){if(Array.isArray(e)){const s=e.slice();for(const n of s)t.addEventListener(n,i,r);return at(()=>{for(const n of s)t.removeEventListener(n,i,r)})}return t.addEventListener(e,i,r),at(()=>t.removeEventListener(e,i,r))}function qB(t,e,i){if(!iT(t))throw new TypeError("target is not a Evented or EventTarget object");if("once"in t)return t.once(e,i);const r=lg(t,e,s=>{r.remove(),i.call(t,s)});return r}function $t(t="Aborted"){return new B("AbortError",t)}function Gt(t,e="Aborted"){if(Kr(t))throw $t(e)}function Sw(t){return t instanceof AbortSignal?t:(t==null?void 0:t.signal)??void 0}function Kr(t){const e=Sw(t);return e!=null&&e.aborted}function Oa(t){if(Cr(t))throw t}function k8(t){if(!Cr(t))throw t}function ao(t,e){const i=Sw(t);if(i!=null){if(!i.aborted)return qB(i,"abort",()=>e());e()}}function YC(t,e){const i=Sw(t);if(i!=null)return Gt(i),qB(i,"abort",()=>e($t()))}function Hhe(t,e){return Sw(e)==null?t:new Promise((i,r)=>{let s=ao(e,()=>r($t()));const n=()=>{s=Dt(s)};t.then(n,n),t.then(i,r)})}function Cr(t){return(t==null?void 0:t.name)==="AbortError"}async function j1(t){try{return await t}catch(e){if(!Cr(e))throw e;return}}async function JC(t){if(!t)return;if(typeof t.forEach!="function"){const i=Object.keys(t),r=i.map(o=>t[o]),s=await JC(r),n={};return i.map((o,l)=>n[o]=s[l]),n}const e=t;return Promise.allSettled(e).then(i=>Array.from(e,(r,s)=>{const n=i[s];return n.status==="fulfilled"?{promise:r,value:n.value}:{promise:r,error:n.reason}}))}async function Whe(t){return(await Promise.allSettled(t)).filter(e=>e.status==="fulfilled").map(e=>e.value)}async function Dje(t){return(await Promise.allSettled(t)).filter(e=>e.status==="rejected").map(e=>e.reason)}function BB(t,e=void 0,i){const r=new AbortController;return ao(i,()=>r.abort()),new Promise((s,n)=>{let o=setTimeout(()=>{o=0,s(e)},t);ao(r,()=>{o&&(clearTimeout(o),n($t()))})})}function Lje(t,e,i,r){const s=i&&"abort"in i?i:null;r!=null||s||(r=i);let n=setTimeout(()=>{n=0,s==null||s.abort()},e);const o=()=>r||new B("promiseUtils:timeout","The wrapped promise did not resolve within "+e+" ms");return t.then(l=>{if(n===0)throw o();return clearTimeout(n),l},l=>{throw clearTimeout(n),n===0?o():l})}function Zhe(t,e){const i=new AbortController,r=setTimeout(()=>i.abort(),e);return ao(t,()=>{i.abort(),clearTimeout(r)}),{...t,signal:i.signal}}function Xr(t){return t&&typeof t.then=="function"}function YE(t){return Xr(t)?t:Promise.resolve(t)}function KC(t,e=-1){let i,r,s,n,o=null;const l=(...c)=>{if(i){r=c,n&&n.reject($t()),n=bn();const w=n.promise;if(o){const _=o;o=null,_.abort()}return w}if(s=n||bn(),n=null,e>0){const w=new AbortController;i=YE(t(...c,w.signal));const _=i;BB(e).then(()=>{i===_&&(n?w.abort():o=w)})}else i=1,i=YE(t(...c));const d=()=>{const w=r;r=s=i=o=null,w!=null&&l(...w)},m=i,v=s;return m.then(d,d),m.then(v.resolve,v.reject),v.promise};return l}function bn(){let t,e;const i=new Promise((s,n)=>{t=s,e=n}),r=s=>{t(s)};return r.resolve=s=>t(s),r.reject=s=>e(s),r.timeout=(s,n)=>ag.setTimeout(()=>r.reject(n),s),r.promise=i,r}function Vje(t,e){e.then(t.resolve,t.reject)}async function C8(t){await Promise.resolve(),Gt(t)}function Fje(t){return t}function Yhe(t){return 1e3*t}function zje(t){return t}function Uje(t){return .001*t}let Jhe=class{constructor(e){this.phases=e,this.paused=!1,this.ticks=-1,this.removed=!1}},Khe=class{constructor(e){this.callback=e,this.isActive=!0}remove(){this.isActive=!1}},JE=0;const k0={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},KE=["prepare","preRender","render","postRender","update","finish"],XE=[],op=new zB;let Xhe=class{constructor(e){this._task=e}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,GB()}};function Qhe(){Ud!=null&&(cancelAnimationFrame(Ud),Ud=requestAnimationFrame(XC))}function GB(){Ud==null&&(JE=performance.now(),Ud=requestAnimationFrame(XC))}const GS={frameTasks:op,willDispatch:!1,clearFrameTasks:ede,dispatch:WB,executeFrameTasks:tde,reschedule:Qhe};function ug(t){const e=new Khe(t);return XE.push(e),GS.willDispatch||(GS.willDispatch=!0,qS(WB)),e}function Iy(t){const e=new Jhe(t);return op.push(e),GB(),new Xhe(e)}let Ud=null;function ede(t=!1){op.forAll(e=>{e.removed=!0}),t&&HB()}function XC(){const t=performance.now();Ud=null,Ud=op.some(i=>!i.paused&&!i.removed)?requestAnimationFrame(XC):null,GS.executeFrameTasks(t)}function tde(t){const e=t-JE;JE=t;const i=1e3/60,r=Math.max(0,e-i);k0.time=t,k0.frameDuration=i-r;for(let s=0;s<KE.length;s++){const n=performance.now(),o=KE[s];op.forAll(l=>{var c;l.paused||l.removed||(s===0&&l.ticks++,l.phases[o]&&(k0.elapsedFrameTime=performance.now()-t,k0.deltaTime=l.ticks===0?0:e,(c=l.phases[o])==null||c.call(l,k0)))}),nde[s].push(performance.now()-n)}HB(),ode.push(performance.now()-t)}const h_=new zB;function HB(){op.forAll(t=>{t.removed&&h_.push(t)}),op.removeUnorderedMany(h_.data,h_.length),h_.clear()}function WB(){for(;XE.length;){const t=XE.shift();t.isActive&&t.callback()}GS.willDispatch=!1}function ide(t=1,e){const i=bn(),r=()=>{Kr(e)?i.reject($t()):t===0?i():(--t,qS(()=>r()))};return r(),i.promise}function rde(t){return ide(1,t)}async function sde(t){await rde(t),await new Promise(e=>requestAnimationFrame(()=>{t!=null&&t.aborted||e()}))}const nde=KE.map(t=>new Kv(t)),ode=new Kv("total");function ZB(t,e){for(const i of t.values())if(e(i))return!0;return!1}function R8(t,e){if(!e)return t;for(const i of e)i!=null&&t.add(i);return t}function Hje(t,e){return e!=null&&t.add(e),t}function QC(t,e){const i=new Set;return R8(i,t),R8(i,e),i}function ade(t,e){const i=new Set;for(const r of e)t.has(r)&&i.add(r);return i}function Wje(t,e){if(!t||!e)return!1;if(t===e)return!0;for(const i of t)if(!e.has(i))return!1;return!0}function Zje(t,e){if(t==null&&e==null)return!0;if(t==null||e==null||t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0}function lde(t,e){const i=new Set(t);for(const r of e)i.delete(r);return i}function ude(t,e){return lde(QC(t,e),ade(t,e))}let cde=0;function y2(){return++cde}let rT=class extends tT{constructor(e){super(new hde(e)),this._observer&&I8.register(this,new WeakRef(this._observer),this)}destroy(){var e,i;this._observer&&I8.unregister(this._observer),(e=this.accessed)==null||e.clear(),this.clear(),(i=this._observer)==null||i.destroy()}},hde=class{constructor(e){this._notify=e,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const e=this._invalidCount;if(e===1)return this._invalidCount=0,void this._notify();this._invalidCount=e>0?e-1:0}destroy(){this.destroyed=!0,this._notify=dde}};const I8=new FinalizationRegistry(t=>{var e;(e=t.deref())==null||e.destroy()});function dde(){}let km=!1;const HS=[];function YB(t,e){let i=new rT(n),r=null,s=!1;function n(){if(!i||s)return;if(km)return void XB(n);const l=r;i.clear(),km=!0,s=!0,r=hu(i,t),s=!1,km=!1,e(r,l),QB()}function o(){i&&(i.destroy(),i=null,r=null)}return s=!0,r=hu(i,t),s=!1,at(o)}function JB(t,e){let i=new rT(s),r=null;function s(){e(r,o)}function n(){i&&(i.destroy(),i=null),r=null}function o(){return i?(i.clear(),r=hu(i,t),r):null}return o(),at(n)}function KB(t,e){let i=!1,r=!1;const s=!!(e!=null&&e.sync);let n=new rT(()=>{i||r||(r=!0,s?o():queueMicrotask(o))});function o(){r=!1,n&&!i&&(km?XB(o):(n.clear(),km=!0,i=!0,hu(n,t),i=!1,km=!1,QB()))}function l(){n&&(n.destroy(),n=null)}return i=!0,hu(n,t),i=!1,at(l)}function XB(t){HS.includes(t)||HS.unshift(t)}function QB(){for(;HS.length;)HS.pop()()}var Qd;let eR=(Qd=class{constructor(){this.uid=y2(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(e,i,r,s,n){return this.pool.acquire(0,e,i,r,s,n,HC)}static acquireTracked(e,i,r,s){return this.pool.acquire(1,e,i,r,null,null,s)}notify(e,i){this.type===0?this.callback.call(this.target,e,i,this.path,this.target):this.callback.call(null,e,i,void 0,void 0)}acquire(e,i,r,s,n,o,l){this.uid=y2(),this.removed=!1,this.type=e,this.oldValue=i,this.callback=r,this.getValue=s,this.target=n,this.path=o,this.equals=l}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=y2(),this.removed=!0}},Qd.pool=new VB(()=>new Qd),Qd);const g2=new hs,iu=new Set;let WS;function ZS(t){iu.delete(t),iu.add(t),eG()}function eG(){WS||(WS=ug(mde))}function pde(t){if(t.removed)return;const e=t.oldValue,i=t.getValue();t.equals(e,i)||(t.oldValue=i,t.notify(i,e))}function fde(t){for(const e of iu.values())e.target===t&&(e.removed=!0)}function mde(){let t=10;for(;WS&&t--;){WS=null;const e=yde(),i=g2.acquire();for(const r of e){const s=r.uid;pde(r),s===r.uid&&r.removed&&i.push(r)}for(const r of iu)r.removed&&(i.push(r),iu.delete(r));for(const r of i)eR.pool.release(r);g2.release(i),g2.release(e),QE.forEach(r=>r())}}function yde(){const t=g2.acquire();t.length=iu.size;let e=0;for(const i of iu)t[e]=i,++e;return iu.clear(),t}const QE=new Set;function gde(t){return QE.add(t),at(()=>QE.delete(t))}function vde(t,e,i){let r=AB(t,e,i,(s,n,o)=>{let l,c,d=JB(()=>bw(s,n),(m,v)=>{var w;((w=s.__accessor__)==null?void 0:w.lifecycle)===dn.DESTROYED||l&&l.uid!==c?r.remove():(l||(l=eR.acquireUntracked(m,o,v,s,n),c=l.uid),ZS(l))});return at(()=>{d.remove(),l&&(l.uid!==c||l.removed||(l.removed=!0,ZS(l)),l=null),r=d=null})});return r}function wde(t,e,i){const r=AB(t,e,i,(s,n,o)=>{let l=!1;return YB(()=>bw(s,n),(c,d)=>{s.__accessor__.lifecycle!==dn.DESTROYED?l||(l=!0,HC(d,c)||o.call(s,c,d,n,s),l=!1):r.remove()})});return r}function bde(t,e,i,r=!1){return t.__accessor__&&t.__accessor__.lifecycle!==dn.DESTROYED?r?wde(t,e,i):vde(t,e,i):at()}function _de(t,e,i){let r,s,n=JB(t,(o,l)=>{r&&r.uid!==s?n.remove():(r||(r=eR.acquireTracked(o,e,l,i),s=r.uid),ZS(r))});return at(()=>{n.remove(),r&&(r.uid!==s||r.removed||(r.removed=!0,ZS(r)),r=null),n=null})}function Sde(t,e,i){let r=!1;return YB(t,(s,n)=>{r||(r=!0,i(n,s)||e(s,n),r=!1)})}function xde(t,e,i=!1,r=bB){return i?Sde(t,e,r):_de(t,e,r)}function P8(t){return ZB(iu,e=>e.oldValue===t)}function Tde(t,e){for(const i of t.values())if(e(i))return!0;return!1}function Kje(t,e){for(const i of t.values())if(!e(i))return!1;return!0}function Xje(t,e){for(const i of t.values())if(e(i))return i;return null}function cg(t,e,i){const r=t.get(e);if(r!==void 0)return r;const s=i();return t.set(e,s),s}function Qje(t){const e=new Map;return i=>(e.has(i)||e.set(i,t(i)),e.get(i))}const qd=()=>se.getLogger("esri.core.accessorSupport.ensureTypes");function $de(t){if(t==null)return t;const e=new Date(t);return isNaN(e.getTime())?(qd().error("Accessor#set",`Invalid date value: '${t}', falling back to current date`),new Date):e}function Mde(t){return t==null?t:!!t}function xw(t){return t==null?t:t.toString()}function ds(t,e=0){return t==null?t:(t=parseFloat(t),isNaN(t)?e:t)}function tR(t){return t==null?t:Math.round(parseFloat(t))}function Ede(t){return null}function Ade(t,e){return i=>{let r=t(i);return e.step!=null&&(r=Math.round(r/e.step)*e.step),e.min!=null&&(r=Math.max(e.min,r)),e.max!=null&&(r=Math.min(e.max,r)),r}}function tG(t){return(t==null?void 0:t.constructor)&&t.constructor.__accessorMetadata__!==void 0}function YS(t,e){return e!=null&&t&&!(e instanceof t)}function iG(t){return t&&"isCollection"in t}function j8(t){return t!=null&&t.Type?typeof t.Type=="function"?t.Type:t.Type.base:null}function Ode(t,e){if(!(e!=null&&e.constructor)||!iG(e.constructor))return eA(t,e)?e:new t(e);const i=j8(t.prototype.itemType),r=j8(e.constructor.prototype.itemType);return i?r?i===r?e:i.prototype.isPrototypeOf(r.prototype)?new t(e):(eA(t,e),e):new t(e):e}function eA(t,e){return!!tG(e)&&(qd().error("Accessor#set","Assigning an instance of '"+(e.declaredClass||"unknown")+"' which is not a subclass of '"+sT(t)+"'"),!0)}function Tw(t,e){return e==null?e:iG(t)?Ode(t,e):YS(t,e)?eA(t,e)?e:new t(e):e}function sT(t){var e;return((e=t==null?void 0:t.prototype)==null?void 0:e.declaredClass)||"unknown"}const kde=new WeakMap;function Cde(t){switch(t){case Number:return e=>ds(e);case ot:return tR;case Boolean:return Mde;case String:return xw;case Date:return $de;case nT:return Ede;default:return cg(kde,t,()=>Tw.bind(null,t))}}function nr(t,e){const i=Cde(t);return arguments.length===1?i:i(e)}function N1(t,e,i){return arguments.length===1?N1.bind(null,t):e&&(Array.isArray(e)?e.map(r=>t(r,i)):[t(e,i)])}function Rde(t,e){return arguments.length===1?N1(i=>nr(t,i)):N1(i=>nr(t,i),e)}function rG(t,e,i){return e!==0&&Array.isArray(i)?i.map(r=>rG(t,e-1,r)):t(i)}function JS(t,e,i){if(arguments.length===2)return n=>JS(t,e,n);if(!i)return i;i=rG(t,e,i);let r=e,s=i;for(;r>0&&Array.isArray(s);)r--,s=s[0];if(s!==void 0)for(let n=0;n<r;n++)i=[i];return i}function Ide(t,e,i){return arguments.length===2?JS(r=>nr(t,r),e):JS(r=>nr(t,r),e,i)}function sG(t){return!!Array.isArray(t)&&!t.some(e=>{const i=typeof e;return!(i==="string"||i==="number"||i==="function"&&t.length>1)})}function tA(t,e){if(arguments.length===2)return tA(t).call(null,e);const i=new Set,r=t.filter(l=>typeof l!="function"),s=t.filter(l=>typeof l=="function");for(const l of t)typeof l!="string"&&typeof l!="number"||i.add(l);let n=null,o=null;return(l,c)=>{if(l==null)return l;const d=typeof l,m=d==="string"||d==="number";return m&&(i.has(l)||s.some(v=>d==="string"&&v===String||d==="number"&&v===Number))||d==="object"&&s.some(v=>!YS(v,l))?l:(m&&r.length?(n||(n=r.map(v=>typeof v=="string"?`'${v}'`:`${v}`).join(", ")),qd().error("Accessor#set",`'${l}' is not a valid value for this property, only the following values are valid: ${n}`)):typeof l=="object"&&s.length?(o||(o=s.map(v=>sT(v)).join(", ")),qd().error("Accessor#set",`'${l}' is not a valid value for this property, value must be one of ${o}`)):qd().error("Accessor#set",`'${l}' is not a valid value for this property`),c&&(c.valid=!1),null)}}function Bc(t,e){if(arguments.length===2)return Bc(t).call(null,e);const i={},r=[],s=[];for(const c in t.typeMap){const d=t.typeMap[c];i[c]=nr(d),r.push(sT(d)),s.push(c)}const n=()=>`'${r.join("', '")}'`,o=()=>`'${s.join("', '")}'`,l=typeof t.key=="string"?c=>c[t.key]:t.key;return c=>{if(t.base&&!YS(t.base,c)||c==null)return c;const d=l(c)||t.defaultKeyValue,m=i[d];if(!m)return qd().error("Accessor#set",`Invalid property value, value needs to be one of ${n()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!YS(t.typeMap[d],c))return c;if(typeof t.key=="string"&&!tG(c)){const v={};for(const w in c)w!==t.key&&(v[w]=c[w]);return m(v)}return m(c)}}let ot=class{},nT=class{};const iNe={native:t=>({type:"native",value:t}),array:t=>({type:"array",value:t}),oneOf:t=>({type:"one-of",values:t})};function Pde(t){if(!t||!("type"in t))return!1;switch(t.type){case"native":case"array":case"one-of":return!0}return!1}function nG(t){switch(t.type){case"native":return nr(t.value);case"array":return N1(nG(t.value));case"one-of":return jde(t);default:return null}}function jde(t){let e=null;return(i,r)=>rA(i,t)?i:(e==null&&(e=iA(t)),qd().error("Accessor#set",`Invalid property value, value needs to be of type ${e}`),r&&(r.valid=!1),null)}function iA(t){switch(t.type){case"native":switch(t.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case ot:return"integer";case Date:return"date";case nT:return"null";default:return sT(t.value)}case"array":return`array of ${iA(t.value)}`;case"one-of":{const e=t.values.map(i=>iA(i));return`one of ${e.slice(0,-1)} or ${e[e.length-1]}`}}return"unknown"}function rA(t,e){if(t==null)return!0;switch(e.type){case"native":switch(e.value){case Number:case ot:return typeof t=="number";case Boolean:return typeof t=="boolean";case String:return typeof t=="string";case nT:return t===null}return t instanceof e.value;case"array":return!!Array.isArray(t)&&!t.some(i=>!rA(i,e.value));case"one-of":return e.values.some(i=>rA(t,i))}}function f(t={}){return(e,i)=>{if(e===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${e.name}.${i}. Accessor does not support static properties.`);const r=Object.getOwnPropertyDescriptor(e,i),s=_w(e,i);r&&(r.get||r.set?(s.get=r.get||s.get,s.set=r.set||s.set):"value"in r&&("value"in t&&se.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${i}" on "${e.constructor.name}" already defined in the metadata`,t),s.value=t.value=r.value)),t.readOnly!=null&&(s.readOnly=t.readOnly);const n=t.aliasOf;if(n){const c=typeof n=="string"?n:n.source,d=typeof n=="string"?null:n.overridable===!0;let m;s.dependsOn=[c],s.get=function(){let v=Ho(this,c);if(typeof v=="function"){m||(m=c.split(".").slice(0,-1).join("."));const w=Ho(this,m);w&&(v=v.bind(w))}return v},s.readOnly||(s.set=d?function(v){this._override(i,v)}:function(v){US(this,c,v)})}const o=t.type,l=t.types;if(!s.cast){let c;o?c=Nde(o):l&&(c=Array.isArray(l)?N1(Bc(l[0])):Bc(l)),t.cast=Dde(t.cast,c)}whe(s,t),t.range&&(s.cast=Ade(s.cast,t.range))}}function iR(t,e,i){const r=_w(t,i);r.json||(r.json={});let s=r.json;return e!==void 0&&(s.origins||(s.origins={}),s.origins[e]||(s.origins[e]={}),s=s.origins[e]),s}function Nde(t){let e=0,i=t;if(Pde(t))return nG(t);for(;Array.isArray(i)&&i.length===1&&typeof i[0]!="string"&&typeof i[0]!="number";)i=i[0],e++;const r=i;if(sG(r))return e===0?tA(r):JS(tA(r),e);if(e===1)return Rde(r);if(e>1)return Ide(r,e);const s=t;return s.from?s.from:nr(s)}function Dde(t,e){if(t||e)return t?e?(i,r)=>e(t(i,r),r):t:e}function Lde(t){if(t.json&&t.json.origins){const e=t.json.origins,i={"web-document":["web-scene","web-map"]};for(const r in i)if(e[r]){const s=e[r];i[r].forEach(n=>{e[n]=s}),delete e[r]}}}let lo=class extends DB{constructor(e,i,r){super(e,i,r)}};lo.prototype.type="warning";function oG(t){var e;return!!t&&((e=t.prototype)==null?void 0:e.declaredClass)&&t.prototype.declaredClass.indexOf("esri.core.Collection")===0}function Vde(t,e){return rR(t,"any",e==null?void 0:e.origin)}function KS(t,e){return rR(t,"read",e==null?void 0:e.origin)}function aG(t,e){return rR(t,"write",e==null?void 0:e.origin)}function rR(t,e,i){let r=t==null?void 0:t.json;if(r!=null&&r.origins&&i){let s;s=i==="link-chart"?r.origins[i]&&(e==="any"||e in r.origins[i])?r.origins[i]:r.origins["web-map"]:r.origins[i],s&&(e==="any"||e in s)&&(r=s)}return r}const sA=()=>se.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function N8(t,e,i){var r,s;t&&(!i&&!e.read||(r=e.read)!=null&&r.reader||((s=e.read)==null?void 0:s.enabled)===!1||Ude(t)&&bs("read.reader",hg(t),e))}function hg(t){var i,r;const e=t.ndimArray??0;if(e>1)return zde(t);if(e===1)return D8(t);if("type"in t&&uG(t.type)){const s=(r=(i=t.type.prototype)==null?void 0:i.itemType)==null?void 0:r.Type,n=D8(typeof s=="function"?{type:s}:{types:s});return(o,l,c)=>{const d=n(o,l,c);return d&&new t.type(d)}}return sR(t)}function sR(t){return"type"in t?Fde(t.type):qde(t.types)}function Fde(t){return t.prototype.read?(e,i,r)=>{if(e==null)return e;const s=typeof e;if(s!=="object")return void sA().error(`Expected JSON value of type 'object' to deserialize type '${t.prototype.declaredClass}', but got '${s}'`);const n=new t;return n.read(e,r),n}:t.fromJSON}function lG(t,e,i,r){return r!==0&&Array.isArray(e)?e.map(s=>lG(t,s,i,r-1)):t(e,void 0,i)}function zde(t){const e=sR(t),i=lG.bind(null,e),r=t.ndimArray??0;return(s,n,o)=>{if(s==null)return s;s=i(s,o,r);let l=r,c=s;for(;l>0&&Array.isArray(c);)l--,c=c[0];if(c!==void 0)for(let d=0;d<l;d++)s=[s];return s}}function D8(t){const e=sR(t);return(i,r,s)=>{if(i==null)return i;if(Array.isArray(i)){const o=[];for(const l of i){const c=e(l,void 0,s);c!==void 0&&o.push(c)}return o}const n=e(i,void 0,s);return n!==void 0?[n]:void 0}}function uG(t){if(!oG(t))return!1;const e=t.prototype.itemType;return!(!e||!e.Type)&&(typeof e.Type=="function"?nR(e.Type):cG(e.Type))}function Ude(t){return"types"in t?cG(t.types):nR(t.type)}function nR(t){return!Array.isArray(t)&&!!t&&t.prototype&&("read"in t.prototype||"fromJSON"in t||uG(t))}function cG(t){for(const e in t.typeMap)if(!nR(t.typeMap[e]))return!1;return!0}function qde(t){let e=null;const i=t.errorContext??"type",r=t.validate;return(s,n,o)=>{if(s==null)return s;const l=typeof s;if(l!=="object")return void sA().error(`Expected JSON value of type 'object' to deserialize, but got '${l}'`);e||(e=Gde(t));const c=t.key;if(typeof c!="string")return;const d=s[Bde(c,e,o)],m=d?e[d]:t.defaultKeyValue?t.typeMap[t.defaultKeyValue]:void 0;if(!m){const w=`Type '${d||"unknown"}' is not supported`;return o!=null&&o.messages&&s&&o.messages.push(new lo(`${i}:unsupported`,w,{definition:s,context:o})),void sA().error(w)}const v=new m;return v.read(s,o),r?r(v):v}}function Bde(t,e,i){var l;const r=Object.values(e)[0],s=ng(r.prototype)[t],n=KS(s,i),o=(l=n==null?void 0:n.read)==null?void 0:l.source;return o&&typeof o=="string"?o:t}function Gde(t){var i,r;const e={};for(const s in t.typeMap){const n=t.typeMap[s],o=ng(n.prototype);if(typeof t.key=="function")continue;const l=o[t.key];if(!l)continue;if((i=l.json)!=null&&i.type&&Array.isArray(l.json.type)&&l.json.type.length===1&&typeof l.json.type[0]=="string"){e[l.json.type[0]]=n;continue}const c=(r=l.json)==null?void 0:r.write;if(!(c!=null&&c.writer)){e[s]=n;continue}const d=c.target,m=typeof d=="string"?d:t.key,v={};c.writer(s,v,m),v[m]&&(e[v[m]]=n)}return e}function Hde(t){if(t.json||(t.json={}),V8(t.json),F8(t.json),L8(t.json),t.json.origins)for(const e in t.json.origins)V8(t.json.origins[e]),F8(t.json.origins[e]),L8(t.json.origins[e]);return!0}function L8(t){t.name&&(t.read&&typeof t.read=="object"?t.read.source===void 0&&(t.read.source=t.name):t.read={source:t.name},t.write&&typeof t.write=="object"?t.write.target===void 0&&(t.write.target=t.name):t.write={target:t.name})}function V8(t){typeof t.read=="boolean"?t.read={enabled:t.read}:typeof t.read=="function"?t.read={enabled:!0,reader:t.read}:t.read&&typeof t.read=="object"&&t.read.enabled===void 0&&(t.read.enabled=!0)}function F8(t){typeof t.write=="boolean"?t.write={enabled:t.write}:typeof t.write=="function"?t.write={enabled:!0,writer:t.write}:t.write&&typeof t.write=="object"&&t.write.enabled===void 0&&(t.write.enabled=!0)}function z8(t,e){if(!e.write||e.write.writer||e.write.enabled===!1&&!e.write.overridePolicy)return;const i=(t==null?void 0:t.ndimArray)??0;t&&(i===1||"type"in t&&oG(t.type))?e.write.writer=Yde:i>1?e.write.writer=Jde(i):e.types?Array.isArray(e.types)?e.write.writer=Zde(e.types[0]):e.write.writer=Wde(e.types):e.write.writer=D1}function Wde(t){return(e,i,r,s)=>e?hG(e,t,s)?D1(e,i,r,s):void 0:D1(e,i,r,s)}function hG(t,e,i){for(const r in e.typeMap)if(t instanceof e.typeMap[r])return!0;if(i!=null&&i.messages){const r=e.errorContext??"type",s=`Values of type '${(typeof e.key!="function"?t[e.key]:t.declaredClass)??"Unknown"}' cannot be written`;i&&i.messages&&t&&i.messages.push(new B(`${r}:unsupported`,s,{definition:t,context:i})),se.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(s)}return!1}function Zde(t){return(e,i,r,s)=>!e||!Array.isArray(e)?D1(e,i,r,s):D1(e.filter(n=>hG(n,t,s)),i,r,s)}function D1(t,e,i,r){bs(i,XS(t,r),e)}function XS(t,e){return t&&typeof t.write=="function"?t.write({},e):t&&typeof t.toJSON=="function"?t.toJSON():typeof t=="number"?QS(t):t}function QS(t){return t===-1/0?-Number.MAX_VALUE:t===1/0?Number.MAX_VALUE:isNaN(t)?null:t}function Yde(t,e,i,r){let s;t===null?s=null:t&&typeof t.map=="function"?(s=t.map(n=>XS(n,r)),typeof s.toArray=="function"&&(s=s.toArray())):s=[XS(t,r)],bs(i,s,e)}function dG(t,e,i){return i!==0&&Array.isArray(t)?t.map(r=>dG(r,e,i-1)):XS(t,e)}function Jde(t){return(e,i,r,s)=>{let n;if(e===null)n=null;else{n=dG(e,s,t);let o=t,l=n;for(;o>0&&Array.isArray(l);)o--,l=l[0];if(l!==void 0)for(let c=0;c<o;c++)n=[n]}bs(r,n,i)}}function Kde(t){var i;const e=Xde(t);if(t.json.origins)for(const r in t.json.origins){const s=t.json.origins[r],n=s.types?Qde(s):e;N8(n,s,!1),s.types&&!s.write&&((i=t.json.write)!=null&&i.enabled)&&(s.write={...t.json.write}),z8(n,s)}N8(e,t.json,!0),z8(e,t.json)}function Xde(t){return t.json.types?nA(t.json):t.type?pG(t):nA(t)}function Qde(t){return t.type?pG(t):nA(t)}function pG(t){if(!t.type)return;let e=0,i=t.type;for(;Array.isArray(i)&&!sG(i);)i=i[0],e++;return{type:i,ndimArray:e}}function nA(t){if(!t.types)return;let e=0,i=t.types;for(;Array.isArray(i);)i=i[0],e++;return{types:i,ndimArray:e}}function epe(t){Hde(t)&&(Lde(t),Kde(t))}const HM=new Set,WM=new Set;function I(t){return e=>{t??(t="esri.core.Accessor"),e.prototype.declaredClass=t,ipe(e);const i=[],r=[];let s=e.prototype;for(;s;)s.hasOwnProperty("initialize")&&!HM.has(s.initialize)&&(HM.add(s.initialize),i.push(s.initialize)),s.hasOwnProperty("destroy")&&!WM.has(s.destroy)&&(WM.add(s.destroy),r.push(s.destroy)),s=Object.getPrototypeOf(s);HM.clear(),WM.clear();const n=class extends e{constructor(...l){if(super(...l),this.constructor===n&&typeof this.postscript=="function"){if(i.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let c=i.length-1;c>=0;c--)i[c].call(this)}}),r.length){let c=!1;const d=this[$B];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!c){this.__accessor__.lifecycle=dn.DESTROYING,c=!0,d.call(this);for(let m=0;m<r.length;m++)r[m].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};n.__accessorMetadata__=ng(e.prototype),n.prototype.declaredClass=t;const o=(t||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(n,"name",{value:o,configurable:!0}),n}}function tpe(t,e){return e.get==null?function(){const i=this.__accessor__,r=i.propertiesByName.get(t);if(r===void 0)return;i.mutable&&je(r);const s=i.store;return s.has(t)?s.get(t):r.metadata.value}:function(){const i=this.__accessor__,r=i.propertiesByName.get(t);if(r!==void 0)return r.getComputed(i)}}function ipe(t){const e=t.prototype,i=ng(e),r={};for(const s of Object.getOwnPropertyNames(i)){const n=i[s];epe(n),r[s]={enumerable:!0,configurable:!0,get:tpe(s,n),set(o){const l=this.__accessor__;if(l!==void 0){if(l.mutable)return l.initialized&&n.readOnly?U8("read-only",s):l.lifecycle===dn.CONSTRUCTED&&n.constructOnly?U8("construct-only",s):void l.set(s,o)}else Object.defineProperty(this,s,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(t.prototype,r)}const U8=(t,e)=>{se.getLogger("esri.core.Accessor").error(`cannot assign to ${t} property '${e}'`)};var q8,B8;function rpe(t){var e;if(t==null)return{value:t};if(Array.isArray(t))return{type:[t[0]],value:null};switch(typeof t){case"object":return(e=t.constructor)!=null&&e.__accessorMetadata__||t instanceof Date?{type:t.constructor,value:t}:t;case"boolean":return{type:Boolean,value:t};case"string":return{type:String,value:t};case"number":return{type:Number,value:t};case"function":return{type:t,value:null};default:return}}const ca=Symbol("Accessor-Handles"),ZM=Symbol("Accessor-Initialized");var Lc;let $e=(Lc=class{static createSubclass(e={}){if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:i,declaredClass:r,constructor:s}=e;delete e.declaredClass,delete e.properties,delete e.constructor;const n=this;class o extends n{constructor(...c){super(...c),this.inherited=null,s&&s.apply(this,c)}}ng(o.prototype);for(const l in e){const c=e[l];o.prototype[l]=typeof c=="function"?function(...d){const m=this.inherited;let v;this.inherited=function(...w){if(n.prototype[l])return n.prototype[l].apply(this,w)};try{v=c.apply(this,d)}catch(w){throw this.inherited=m,w}return this.inherited=m,v}:e[l]}for(const l in i){const c=rpe(i[l]);f(c)(o.prototype,l)}return I(r)(o)}static freeze(e){return e instanceof Lc?e.__accessor__.mutable=!1:Object.freeze(e),e}static isFrozen(e){return e instanceof Lc?!e.__accessor__.mutable:Object.isFrozen(e)}constructor(...e){var r;if(this[q8]=null,this[B8]=!1,this.constructor===Lc)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const i=new khe(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:i}),e.length>0&&(i.ctorArgs=((r=this.normalizeCtorArgs)==null?void 0:r.apply(this,e))??e[0])}postscript(){const e=this.__accessor__,i=e.ctorArgs;e.initialize(),i&&(this.set(i),e.ctorArgs=null),e.constructed(),this.initialize(),this[ZM]=!0}initialize(){}[$B](){this[ca]=ti(this[ca])}destroy(){var e;this.destroyed||(fde(this),this.__accessor__.destroy(),(e=Dhe())==null||e.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[ZM]}get destroyed(){var e;return((e=this.__accessor__)==null?void 0:e.lifecycle)===dn.DESTROYED||!1}get destroying(){var e;return((e=this.__accessor__)==null?void 0:e.lifecycle)===dn.DESTROYING||!1}commitProperty(e){Ho(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,i){return US(this,e,i),this}watch(e,i,r){return aB(se.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://arcg.is/1vaqf42#watch",warnOnce:!0}),bde(this,e,i,r)}addHandles(e,i){if(this.destroyed){const r=Array.isArray(e)?e:[e];for(const s of r)s.remove();return}(this[ca]??(this[ca]=new sg)).add(e,i)}removeHandles(e){var i;(i=this[ca])==null||i.remove(e)}removeAllHandles(){var e;(e=this[ca])==null||e.removeAll()}removeHandlesReference(e){var i;(i=this[ca])==null||i.removeReference(e)}hasHandles(e){var i;return((i=this[ca])==null?void 0:i.has(e))===!0}_override(e,i){i===void 0?this.__accessor__.clearOverride(e):this.__accessor__.override(e,i)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_overrideIfSome(e,i){i==null?this.__accessor__.clearOverride(e):this.__accessor__.override(e,i)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.notifyChange(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,i){return this.__accessor__.internalSet(e,i),this}},q8=ca,B8=ZM,Lc);const spe=Symbol("ClonableMixin"),rt=t=>{var s;var e;const i=t;let r=(s=class extends i{constructor(){super(...arguments),this[e]=!0}clone(n){var w;const o=_s(this);TB(o,"unable to clone instance of non-accessor class");const l=o.metadata,c=o.store,d={},m=new Map;for(const _ in l){const x=l[_],T=c==null?void 0:c.originOf(_),M=x.clonable;if(x.readOnly||M===!1||T!==7&&T!==0&&T!==5&&T!==4)continue;const O=this[_];let C=null;if(typeof M=="function")C=M(O,n);else if(M==="reference")C=O;else if(C=WE(O,n),O!=null&&C==null)continue;T===0?m.set(_,C):d[_]=C}const v=new(Object.getPrototypeOf(this)).constructor(d);if(m.size){const _=(w=_s(v))==null?void 0:w.store;if(_)for(const[x,T]of m)_.set(x,T,0)}return v}},e=spe,s);return r=h([I("esri.core.Clonable")],r),r},oR=rt($e),oT=t=>{const e=t;class i extends e{constructor(){super(...arguments),this._listenersMap=null}clearEvents(){var s;(s=this._listenersMap)==null||s.clear(),this._listenersMap=null}destroy(){this.clearEvents()}emit(s,n){var c;let o=(c=this._listenersMap)==null?void 0:c.get(s);if(!o)return!1;let l=!1;for(const d of o.slice()){const m="deref"in d?d.deref():d;m?m==null||m.call(this,n):l=!0}return l&&(o=o.filter(d=>!("deref"in d)||d.deref()!=null),this._listenersMap.set(s,o)),o.length>0}on(s,n){if(Array.isArray(s)){const l=s.map(c=>this.on(c,n));return xp(l)}if(s.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??(this._listenersMap=new Map);const o=this._listenersMap.get(s)||[];return o.push(n),this._listenersMap.set(s,o),at(()=>{var d;const l=(d=this._listenersMap)==null?void 0:d.get(s),c=(l==null?void 0:l.indexOf(n))??-1;c>=0&&l.splice(c,1)})}once(s,n){const o=this.on(s,l=>{o.remove();const c="deref"in n?n.deref():n;c==null||c.call(null,l)});return o}hasEventListener(s){var o;const n=(o=this._listenersMap)==null?void 0:o.get(s);return n!=null&&n.length>0}}return i},fG=oT(class{}),npe=fG,dg=oT($e);function mG(t){return(e,i)=>{e[i]=t}}let $w=class extends CB{notify(){const e=this._observers;if(e&&e.length>0){const i=e.slice();for(const r of i)r.onInvalidated(),r.onCommitted()}}};function L1(t){return t&&typeof t=="object"&&"toJSON"in t&&typeof t.toJSON=="function"}var yl;let ope=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}},ape=class{constructor(e,i,r,s,n){this.target=e,this.added=i,this.removed=r,this.start=s,this.deleteCount=n}};const Ln=new og(()=>new ope,void 0,t=>{t.item=null,t.target=null,t.defaultPrevented=!1,t.cancellable=!1});function G8(t){t&&typeof t=="object"&&"destroy"in t&&typeof t.destroy=="function"&&t.destroy()}function YM(t){return t?t instanceof uc?t.toArray():t.length?Array.prototype.slice.apply(t):[]:[]}function JM(t){if(t!=null&&t.length)return t[0]}function lpe(t,e,i,r){const s=Math.min(t.length-i,e.length-r);let n=0;for(;n<s&&t[i+n]===e[r+n];)n++;return n}function yG(t,e,i,r){e&&e.forEach((s,n,o)=>{t.push(s),yG(t,i.call(r,s,n,o),i,r)})}const Fu=new Set,zu=new Set,Uu=new Set,KM=new Map;let upe=0,uc=yl=class extends dg{static ofType(t){if(!t)return yl;if(KM.has(t))return KM.get(t);let e=null;if(typeof t=="function")e=t.prototype.declaredClass;else if(t.base)e=t.base.prototype.declaredClass;else for(const r in t.typeMap){const s=t.typeMap[r].prototype.declaredClass;e?e+=` | ${s}`:e=s}let i=class extends yl{};return h([mG({Type:t,ensureType:typeof t=="function"?nr(t):Bc(t)})],i.prototype,"itemType",void 0),i=h([I(`esri.core.Collection<${e}>`)],i),KM.set(t,i),i}static isCollection(t){return t!=null&&t instanceof yl}constructor(t){super(t),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new $w,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:upe++})}normalizeCtorArgs(t){return t?Array.isArray(t)||t instanceof yl?{items:t}:t:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),super.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return je(this._observable),this._items}set items(t){this._emitBeforeChanges(1)||(this._splice(0,this.length,YM(t)),this._emitAfterChanges(1))}hasEventListener(t){return!this.destroyed&&(t==="change"?this._chgListeners.length>0:super.hasEventListener(t))}on(t,e){if(this.destroyed)return at();if(t==="change"){const i=this._chgListeners,r={removed:!1,callback:e};return i.push(r),this._notifications&&this._notifications.push({listeners:i.slice(),items:this._items.slice(),changes:[]}),at(()=>{r.removed=!0,i.splice(i.indexOf(r),1)})}return super.on(t,e)}once(t,e){const i="deref"in e?()=>e.deref():()=>e,r=this.on(t,s=>{var n;(n=i())==null||n.call(null,s),r.remove()});return r}add(t,e){if(je(this._observable),this._emitBeforeChanges(1))return this;const i=this.getNextIndex(e??null);return this._splice(i,0,[t]),this._emitAfterChanges(1),this}addMany(t,e=this._items.length){if(je(this._observable),!(t!=null&&t.length))return this;if(this._emitBeforeChanges(1))return this;const i=this.getNextIndex(e);return this._splice(i,0,YM(t)),this._emitAfterChanges(1),this}at(t){if(je(this._observable),(t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this._items[t]}removeAll(){if(je(this._observable),!this.length||this._emitBeforeChanges(2))return[];const t=this._removeAllRaw();return this._emitAfterChanges(2),t}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return je(this._observable),this._createNewInstance({items:this._items.map(G)})}concat(...t){je(this._observable);const e=t.map(YM);return this._createNewInstance({items:this._items.concat(...e)})}drain(t,e){if(je(this._observable),!this.length||this._emitBeforeChanges(2))return;const i=this._splice(0,this.length),r=i.length;for(let s=0;s<r;s++)t.call(e,i[s],s,i);this._emitAfterChanges(2)}destroyAll(){this.drain(G8)}destroyMany(t){const e=this.removeMany(t);return e.forEach(G8),e}every(t,e){return je(this._observable),this._items.every(t,e)}filter(t,e){je(this._observable);const i=arguments.length===2?this._items.filter(t,e):this._items.filter(t);return this._createNewInstance({items:i})}find(t,e){return je(this._observable),this._items.find(t,e)}findIndex(t,e){return je(this._observable),this._items.findIndex(t,e)}flatten(t,e){je(this._observable);const i=[];return yG(i,this,t,e),new yl(i)}forEach(t,e){return je(this._observable),this._items.forEach(t,e)}getItemAt(t){return je(this._observable),this._items[t]}getNextIndex(t){je(this._observable);const e=this.length;return(t=t??e)<0?t=0:t>e&&(t=e),t}includes(t,e=0){return je(this._observable),this._items.includes(t,e)}indexOf(t,e=0){return je(this._observable),this._items.indexOf(t,e)}join(t=","){return je(this._observable),this._items.join(t)}lastIndexOf(t,e=this.length-1){return je(this._observable),this._items.lastIndexOf(t,e)}map(t,e){je(this._observable);const i=this._items.map(t,e);return new yl({items:i})}reorder(t,e=this.length-1){je(this._observable);const i=this.indexOf(t);if(i!==-1){if(e<0?e=0:e>=this.length&&(e=this.length-1),i!==e){if(this._emitBeforeChanges(4))return t;this._splice(i,1),this._splice(e,0,[t]),this._emitAfterChanges(4)}return t}}pop(){if(je(this._observable),!this.length||this._emitBeforeChanges(2))return;const t=JM(this._splice(this.length-1,1));return this._emitAfterChanges(2),t}push(...t){return je(this._observable),this._emitBeforeChanges(1)||(this._splice(this.length,0,t),this._emitAfterChanges(1)),this.length}reduce(t,e){je(this._observable);const i=this._items;return arguments.length===2?i.reduce(t,e):i.reduce(t)}reduceRight(t,e){je(this._observable);const i=this._items;return arguments.length===2?i.reduceRight(t,e):i.reduceRight(t)}remove(t){return je(this._observable),this.removeAt(this.indexOf(t))}removeAt(t){if(je(this._observable),t<0||t>=this.length||this._emitBeforeChanges(2))return;const e=JM(this._splice(t,1));return this._emitAfterChanges(2),e}removeMany(t){if(je(this._observable),!(t!=null&&t.length)||this._emitBeforeChanges(2))return[];const e=t instanceof yl?t.toArray():t,i=this._items,r=[],s=e.length;for(let n=0;n<s;n++){const o=e[n],l=i.indexOf(o);if(l>-1){const c=1+lpe(e,i,n+1,l+1),d=this._splice(l,c);d&&d.length>0&&r.push.apply(r,d),n+=c-1}}return this._emitAfterChanges(2),r}reverse(){if(je(this._observable),this._emitBeforeChanges(4))return this;const t=this._splice(0,this.length);return t&&(t.reverse(),this._splice(0,0,t)),this._emitAfterChanges(4),this}shift(){if(je(this._observable),!this.length||this._emitBeforeChanges(2))return;const t=JM(this._splice(0,1));return this._emitAfterChanges(2),t}slice(t=0,e=this.length){return je(this._observable),this._createNewInstance({items:this._items.slice(t,e)})}some(t,e){return je(this._observable),this._items.some(t,e)}sort(t){if(je(this._observable),!this.length||this._emitBeforeChanges(4)||!this._requiresSort(t))return this;const e=this._splice(0,this.length);return arguments.length?e.sort(t):e.sort(),this._splice(0,0,e),this._emitAfterChanges(4),this}_requiresSort(t=(e,i)=>e===i?0:e<i?-1:1){const e=this.length-1;for(let i=0;i<e;i++)if(t(this.items[i],this.items[i+1])>0)return!0;return!1}splice(t,e,...i){je(this._observable),arguments.length===1&&(e=this.length),e??(e=0);const r=(e?2:0)|(i.length?1:0);if(this._emitBeforeChanges(r))return[];const s=this._splice(t,e,i)||[];return this._emitAfterChanges(r),s}toArray(){return je(this._observable),this._items.slice()}toJSON(t){return je(this._observable),this.toArray().map(e=>L1(e)?e.toJSON(t):e)}toLocaleString(){return je(this._observable),this._items.toLocaleString()}toString(){return je(this._observable),this._items.toString()}unshift(...t){return je(this._observable),!t.length||this._emitBeforeChanges(1)||(this._splice(0,0,t),this._emitAfterChanges(1)),this.length}_createNewInstance(t){return new this.constructor(t)}_splice(t,e,i){const r=this._items,s=this.itemType;let n,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=ug(()=>this._dispatchChange())),t<0&&(t+=this.length),e){if(o=r.splice(t,e),this.hasEventListener("before-remove")){const l=Ln.acquire();l.target=this,l.cancellable=!0;for(let c=0,d=o.length;c<d;c++)n=o[c],l.reset(n),this.emit("before-remove",l),l.defaultPrevented&&(o.splice(c,1),r.splice(t,0,n),t+=1,c-=1,d-=1);Ln.release(l)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const l=Ln.acquire();l.target=this,l.cancellable=!1;const c=o.length;for(let d=0;d<c;d++)l.reset(o[d]),this.emit("after-remove",l);Ln.release(l)}}if(i!=null&&i.length){if(s){const m=[];for(const v of i){const w=s.ensureType(v);w==null&&v!=null||m.push(w)}i=m}const l=this.hasEventListener("before-add"),c=this.hasEventListener("after-add"),d=t===this.length;if(l||c){const m=Ln.acquire();m.target=this,m.cancellable=!0;const v=Ln.acquire();v.target=this,v.cancellable=!1;for(const w of i)l?(m.reset(w),this.emit("before-add",m),m.defaultPrevented||(d?r.push(w):r.splice(t++,0,w),this._set("length",r.length),c&&(v.reset(w),this.emit("after-add",v)))):(d?r.push(w):r.splice(t++,0,w),this._set("length",r.length),v.reset(w),this.emit("after-add",v));Ln.release(v),Ln.release(m)}else{if(d)for(const m of i)r.push(m);else r.splice(t,0,...i);this._set("length",r.length)}}if((i!=null&&i.length||o!=null&&o.length)&&this._notifyChangeEvent(i,o),this.hasEventListener("after-splice")){const l=new ape(this,i,o,t,e);this.emit("after-splice",l)}return o}_emitBeforeChanges(t){let e=!1;if(this.hasEventListener("before-changes")){const i=Ln.acquire();i.target=this,i.cancellable=!0,i.type=t,this.emit("before-changes",i),e=i.defaultPrevented,Ln.release(i)}return e}_emitAfterChanges(t){if(this.hasEventListener("after-changes")){const e=Ln.acquire();e.target=this,e.cancellable=!1,e.type=t,this.emit("after-changes",e),Ln.release(e)}this._observable.notify()}_notifyChangeEvent(t,e){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:t,removed:e})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const t=this._notifications;this._notifications=null;for(const e of t){const i=e.changes;Fu.clear(),zu.clear(),Uu.clear();for(const{added:c,removed:d}of i){if(c)if(Uu.size===0&&zu.size===0)for(const m of c)Fu.add(m);else for(const m of c)zu.has(m)?(Uu.add(m),zu.delete(m)):Uu.has(m)||Fu.add(m);if(d)if(Uu.size===0&&Fu.size===0)for(const m of d)zu.add(m);else for(const m of d)Fu.has(m)?Fu.delete(m):(Uu.delete(m),zu.add(m))}const r=hs.acquire();Fu.forEach(c=>{r.push(c)});const s=hs.acquire();zu.forEach(c=>{s.push(c)});const n=this._items,o=e.items,l=hs.acquire();if(Uu.forEach(c=>{o.indexOf(c)!==n.indexOf(c)&&l.push(c)}),e.listeners&&(r.length||s.length||l.length)){const c={target:this,added:r,removed:s,moved:l},d=e.listeners.length;for(let m=0;m<d;m++){const v=e.listeners[m];v.removed||v.callback.call(this,c)}}hs.release(r),hs.release(s),hs.release(l)}Fu.clear(),zu.clear(),Uu.clear()}};h([f()],uc.prototype,"_updating",void 0),h([f()],uc.prototype,"length",void 0),h([f()],uc.prototype,"items",null),h([f({readOnly:!0})],uc.prototype,"updating",null),uc=yl=h([I("esri.core.Collection")],uc);const ge=uc;let cpe=class gG{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const i=new gG;return this._values.forEach((r,s)=>{e&&e.has(s)||i.set(s,G(r.value),r.origin)}),i}get(e,i){i=this._normalizeOrigin(i);const r=this._values.get(e);return i==null||(r==null?void 0:r.origin)===i?r==null?void 0:r.value:void 0}originOf(e){var i;return((i=this._values.get(e))==null?void 0:i.origin)??7}keys(e){e=this._normalizeOrigin(e);const i=[...this._values.keys()];return e==null?i:i.filter(r=>{var s;return((s=this._values.get(r))==null?void 0:s.origin)===e})}set(e,i,r){if((r=this._normalizeOrigin(r))===0){const s=this._values.get(e);if((s==null?void 0:s.origin)!=null&&s.origin>r)return}this._values.set(e,new hpe(i,r))}delete(e,i){var r;(i=this._normalizeOrigin(i))!=null&&((r=this._values.get(e))==null?void 0:r.origin)!==i||this._values.delete(e)}has(e,i){var r;return(i=this._normalizeOrigin(i))!=null?((r=this._values.get(e))==null?void 0:r.origin)===i:this._values.has(e)}isAtOrigin(e,i){return i=this._normalizeOrigin(i),this.has(e,i)&&this.originOf(e)===i}isBelowOrigin(e,i){return i=this._normalizeOrigin(i),!this.has(e)||this.originOf(e)<i}forEach(e){this._values.forEach(({value:i},r)=>e(i,r))}_normalizeOrigin(e){if(e!=null)return e===0?e:7}},hpe=class{constructor(e,i){this.value=e,this.origin=i}};function vG(t,e,i){e.keys().forEach(s=>{i.set(s,e.get(s),0)});const r=t.metadata;Object.keys(r).forEach(s=>{t.internalGet(s)&&i.set(s,t.internalGet(s),0)})}function dpe(t,e,i){if(!(t!=null&&t.read)||t.read.enabled===!1||!t.read.source)return!1;const r=t.read.source;if(typeof r=="string"){if(r===e||r.includes(".")&&r.startsWith(e)&&$8(r,i))return!0}else for(const s of r)if(s===e||s.includes(".")&&s.startsWith(e)&&$8(s,i))return!0;return!1}function ppe(t){return t&&(!t.read||t.read.enabled!==!1&&!t.read.source)}function fpe(t,e,i,r,s){let n=KS(e[i],s);ppe(n)&&(t[i]=!0);for(const o of Object.getOwnPropertyNames(e))n=KS(e[o],s),dpe(n,i,r)&&(t[o]=!0)}function mpe(t,e,i,r){const s=i.metadata,n=Vde(s[e],r),o=n==null?void 0:n.default;if(o===void 0)return;const l=typeof o=="function"?o.call(t,e,r):o;l!==void 0&&i.set(e,l)}const wG={origin:"service"};function bG(t,e,i=wG){if(!e||typeof e!="object")return;const r=_s(t),s=r.metadata,n={};for(const o of Object.getOwnPropertyNames(e))fpe(n,s,o,e,i);r.setDefaultOrigin(i.origin);for(const o of Object.getOwnPropertyNames(n)){const l=KS(s[o],i).read,c=l==null?void 0:l.source;let d;d=c&&typeof c=="string"?bw(e,c):e[o],l!=null&&l.reader&&(d=l.reader.call(t,d,e,i)),d!==void 0&&r.set(o,d)}if(!i||!i.ignoreDefaults){r.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(s))n[o]||mpe(t,o,r,i)}r.setDefaultOrigin("user")}function ype(t,e,i,r=wG){var n;const s={...r,messages:[]};i(s),(n=s.messages)==null||n.forEach(o=>{o.type!=="warning"||t.loaded?r!=null&&r.messages&&r.messages.push(o):t.loadWarnings.push(o)})}function gpe(t,e,i,r,s){var o,l;const n={};return(l=(o=e.write)==null?void 0:o.writer)==null||l.call(t,r,n,i,s),n}function _G(t,e,i,r,s,n){if(!(r!=null&&r.write))return!1;const o=Ho(t,i);if(!s&&r.write.overridePolicy){const l=r.write.overridePolicy.call(t,o,i,n??void 0);l!==void 0&&(s=l)}if(s||(s=r.write),!s||s.enabled===!1||s.layerContainerTypes&&(n!=null&&n.layerContainerType)&&!s.layerContainerTypes.includes(n.layerContainerType))return!1;if((o===null&&!s.allowNull&&!s.writerEnsuresNonNull||o===void 0)&&s.isRequired){const l=new B("web-document-write:property-required",`Missing value for required property '${i}' on '${t.declaredClass}'`,{propertyName:i,target:t});return l&&(n!=null&&n.messages)?n.messages.push(l):l&&!n&&se.getLogger("esri.core.accessorSupport.write").error(l.name,l.message),!1}return!(o===void 0||o===null&&!s.allowNull&&!s.writerEnsuresNonNull||!s.alwaysWriteDefaults&&(!e.store.multipleOriginsSupported||e.store.originOf(i)===0)&&vpe(t,i,n,r,o)||!s.ignoreOrigin&&(n!=null&&n.origin)&&e.store.multipleOriginsSupported&&e.store.originOf(i)<Kl(n.origin))}function vpe(t,e,i,r,s){const n=r.default;if(n===void 0)return!1;if(r.defaultEquals!=null)return r.defaultEquals(s);if(typeof n=="function"){if(Array.isArray(s)){const o=n.call(t,e,i??void 0);return Jx(o,s)}return!1}return n===s}function wpe(t,e,i,r){const s=_s(t),n=s.metadata,o=aG(n[e],r);return!!o&&_G(t,s,e,o,i,r)}function SG(t,e,i){var n,o;if(t&&typeof t.toJSON=="function"&&(!t.toJSON.isDefaultToJSON||!t.write))return p2(e,t.toJSON(i));const r=_s(t),s=r.metadata;for(const l in s){const c=aG(s[l],i);if(!_G(t,r,l,c,void 0,i))continue;const d=Ho(t,l),m=gpe(t,c,c.write&&typeof c.write.target=="string"?c.write.target:l,d,i);Object.keys(m).length>0&&(e=p2(e,m),(o=(n=i==null?void 0:i.resources)==null?void 0:n.pendingOperations)!=null&&o.length&&i.resources.pendingOperations.push(Promise.all(i.resources.pendingOperations).then(()=>p2(e,m,()=>"replace-arrays"))),i!=null&&i.writtenProperties&&i.writtenProperties.push({target:t,propName:l,oldOrigin:Ahe(r.store.originOf(l)),newOrigin:i.origin}))}return e}const th=t=>{const e=t;let i=class extends e{constructor(...r){super(...r);const s=_s(this),n=s.store,o=new cpe;s.store=o,vG(s,n,o)}read(r,s){bG(this,r,s)}write(r,s){return SG(this,r??{},s)}toJSON(r){return this.write({},r)}static fromJSON(r,s){return bpe.call(this,r,s)}};return i=h([I("esri.core.JSONSupport")],i),i.prototype.toJSON.isDefaultToJSON=!0,i};function bpe(t,e){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const i=new this;return i.read(t,e),i}const ae=th($e),_pe=Object.prototype.toString;function Spe(t){const e="__accessorMetadata__"in t?nr(t):t;return function(...i){if(i.push(e),typeof i[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return xpe.apply(this,i)}}function xpe(t,e,i,r){_w(t,e).cast=r}function Tpe(t){return(e,i)=>{_w(e,t).cast=e[i]}}function Ot(...t){if(t.length!==3||typeof t[1]!="string")return t.length===1&&_pe.call(t[0])==="[object Function]"?Spe(t[0]):t.length===1&&typeof t[0]=="string"?Tpe(t[0]):void 0}function Ie(t,e,i){let r,s;return e===void 0||Array.isArray(e)?(s=t,i=e,r=[void 0]):(s=e,r=Array.isArray(t)?t:[t]),(n,o)=>{const l=n.constructor.prototype;r.forEach(c=>{const d=iR(n,c,s);d.read&&typeof d.read=="object"||(d.read={}),d.read.reader=l[o],i&&(d.read.source=(d.read.source||[]).concat(i))})}}function _e(t,e,i){let r,s;return e===void 0?(s=t,r=[void 0]):typeof e!="string"?(s=t,r=[void 0],i=e):(s=e,r=Array.isArray(t)?t:[t]),(n,o)=>{const l=n.constructor.prototype;for(const c of r){const d=iR(n,c,s);d.write&&typeof d.write=="object"||(d.write={}),i&&(d.write.target=i),d.write.writer=l[o]}}}let XM;async function $pe(){return XM==null&&(XM=te(()=>import("./WhereClauseCache-C-gKJZht.js"),__vite__mapDeps([0,1])).then(t=>new t.WhereClauseCache(500,500))),XM}async function xG(t,e){const i=await $pe(),r=i.get(t,e);if(r==null)throw i.getError(t,e);return r}function lNe(t,e){return t||(t=null),e||(e=null),t==="1=1"?e??t:e==="1=1"?t??e:t&&e?`(${t}) AND (${e})`:t??e}function Mpe(t,e){return t||(t=null),e||(e=null),t==="1=1"||e==="1=1"||t===e?t==="1=1"?t:e:t&&e?`(${t}) OR (${e})`:t??e}function uNe(t,e){return e.length===0?null:`${t} IN (${Epe(e)})`}function Epe(t){return t.map(e=>typeof e=="string"?Ape(e):e).join(",")}function Ape(t){return`'${t.replaceAll("'","''")}'`}function cNe(t){return typeof t=="number"}function hNe(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function dNe(t){return typeof t=="boolean"}function Mw(t){return typeof t=="string"||t instanceof String}function Ope(t){return t==null||Mw(t)}function pNe(t){return Array.isArray(t)}function fNe(t){return(t==null?void 0:t.declaredClass)==="esri.Graphic"}function mNe(t){return t instanceof Date}class Tp extends Error{}class kpe extends Tp{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class Cpe extends Tp{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class Rpe extends Tp{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class vm extends Tp{}class TG extends Tp{constructor(e){super(`Invalid unit ${e}`)}}class Ur extends Tp{}class qu extends Tp{constructor(){super("Zone is an abstract class")}}const we="numeric",Qo="short",gn="long",ex={year:we,month:we,day:we},$G={year:we,month:Qo,day:we},Ipe={year:we,month:Qo,day:we,weekday:Qo},MG={year:we,month:gn,day:we},EG={year:we,month:gn,day:we,weekday:gn},AG={hour:we,minute:we},OG={hour:we,minute:we,second:we},kG={hour:we,minute:we,second:we,timeZoneName:Qo},CG={hour:we,minute:we,second:we,timeZoneName:gn},RG={hour:we,minute:we,hourCycle:"h23"},IG={hour:we,minute:we,second:we,hourCycle:"h23"},PG={hour:we,minute:we,second:we,hourCycle:"h23",timeZoneName:Qo},jG={hour:we,minute:we,second:we,hourCycle:"h23",timeZoneName:gn},NG={year:we,month:we,day:we,hour:we,minute:we},DG={year:we,month:we,day:we,hour:we,minute:we,second:we},LG={year:we,month:Qo,day:we,hour:we,minute:we},VG={year:we,month:Qo,day:we,hour:we,minute:we,second:we},Ppe={year:we,month:Qo,day:we,weekday:Qo,hour:we,minute:we},FG={year:we,month:gn,day:we,hour:we,minute:we,timeZoneName:Qo},zG={year:we,month:gn,day:we,hour:we,minute:we,second:we,timeZoneName:Qo},UG={year:we,month:gn,day:we,weekday:gn,hour:we,minute:we,timeZoneName:gn},qG={year:we,month:gn,day:we,weekday:gn,hour:we,minute:we,second:we,timeZoneName:gn};class $p{get type(){throw new qu}get name(){throw new qu}get ianaName(){return this.name}get isUniversal(){throw new qu}offsetName(e,i){throw new qu}formatOffset(e,i){throw new qu}offset(e){throw new qu}equals(e){throw new qu}get isValid(){throw new qu}}let QM=null;class aT extends $p{static get instance(){return QM===null&&(QM=new aT),QM}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:i,locale:r}){return eH(e,i,r)}formatOffset(e,i){return Xv(this.offset(e),i)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const oA=new Map;function jpe(t){let e=oA.get(t);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),oA.set(t,e)),e}const Npe={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Dpe(t,e){const i=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,s,n,o,l,c,d,m]=r;return[o,s,n,l,c,d,m]}function Lpe(t,e){const i=t.formatToParts(e),r=[];for(let s=0;s<i.length;s++){const{type:n,value:o}=i[s],l=Npe[n];n==="era"?r[l]=o:He(l)||(r[l]=parseInt(o,10))}return r}const e5=new Map;class Ys extends $p{static create(e){let i=e5.get(e);return i===void 0&&e5.set(e,i=new Ys(e)),i}static resetCache(){e5.clear(),oA.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Ys.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:i,locale:r}){return eH(e,i,r,this.name)}formatOffset(e,i){return Xv(this.offset(e),i)}offset(e){if(!this.valid)return NaN;const i=new Date(e);if(isNaN(i))return NaN;const r=jpe(this.name);let[s,n,o,l,c,d,m]=r.formatToParts?Lpe(r,i):Dpe(r,i);l==="BC"&&(s=-Math.abs(s)+1);const w=uT({year:s,month:n,day:o,hour:c===24?0:c,minute:d,second:m,millisecond:0});let _=+i;const x=_%1e3;return _-=x>=0?x:1e3+x,(w-_)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let H8={};function Vpe(t,e={}){const i=JSON.stringify([t,e]);let r=H8[i];return r||(r=new Intl.ListFormat(t,e),H8[i]=r),r}const aA=new Map;function lA(t,e={}){const i=JSON.stringify([t,e]);let r=aA.get(i);return r===void 0&&(r=new Intl.DateTimeFormat(t,e),aA.set(i,r)),r}const uA=new Map;function Fpe(t,e={}){const i=JSON.stringify([t,e]);let r=uA.get(i);return r===void 0&&(r=new Intl.NumberFormat(t,e),uA.set(i,r)),r}const cA=new Map;function zpe(t,e={}){const{base:i,...r}=e,s=JSON.stringify([t,r]);let n=cA.get(s);return n===void 0&&(n=new Intl.RelativeTimeFormat(t,e),cA.set(s,n)),n}let rv=null;function Upe(){return rv||(rv=new Intl.DateTimeFormat().resolvedOptions().locale,rv)}const hA=new Map;function BG(t){let e=hA.get(t);return e===void 0&&(e=new Intl.DateTimeFormat(t).resolvedOptions(),hA.set(t,e)),e}const dA=new Map;function qpe(t){let e=dA.get(t);if(!e){const i=new Intl.Locale(t);e="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,"minimalDays"in e||(e={...GG,...e}),dA.set(t,e)}return e}function Bpe(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const i=t.indexOf("-u-");if(i===-1)return[t];{let r,s;try{r=lA(t).resolvedOptions(),s=t}catch{const c=t.substring(0,i);r=lA(c).resolvedOptions(),s=c}const{numberingSystem:n,calendar:o}=r;return[s,n,o]}}function Gpe(t,e,i){return(i||e)&&(t.includes("-u-")||(t+="-u"),i&&(t+=`-ca-${i}`),e&&(t+=`-nu-${e}`)),t}function Hpe(t){const e=[];for(let i=1;i<=12;i++){const r=be.utc(2009,i,1);e.push(t(r))}return e}function Wpe(t){const e=[];for(let i=1;i<=7;i++){const r=be.utc(2016,11,13+i);e.push(t(r))}return e}function d_(t,e,i,r){const s=t.listingMode();return s==="error"?null:s==="en"?i(e):r(e)}function Zpe(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||BG(t.locale).numberingSystem==="latn"}class Ype{constructor(e,i,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:s,floor:n,...o}=r;if(!i||Object.keys(o).length>0){const l={useGrouping:!1,...r};r.padTo>0&&(l.minimumIntegerDigits=r.padTo),this.inf=Fpe(e,l)}}format(e){if(this.inf){const i=this.floor?Math.floor(e):e;return this.inf.format(i)}else{const i=this.floor?Math.floor(e):hR(e,3);return Gi(i,this.padTo)}}}class Jpe{constructor(e,i,r){this.opts=r,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),l=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&Ys.create(l).valid?(s=l,this.dt=e):(s="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,s=e.zone.name):(s="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const n={...this.opts};n.timeZone=n.timeZone||s,this.dtf=lA(i,n)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(i=>{if(i.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...i,value:r}}else return i}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class Kpe{constructor(e,i,r){this.opts={style:"long",...r},!i&&XG()&&(this.rtf=zpe(e,r))}format(e,i){return this.rtf?this.rtf.format(e,i):wfe(i,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,i){return this.rtf?this.rtf.formatToParts(e,i):[]}}const GG={firstDay:1,minimalDays:4,weekend:[6,7]};class At{static fromOpts(e){return At.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,i,r,s,n=!1){const o=e||Ti.defaultLocale,l=o||(n?"en-US":Upe()),c=i||Ti.defaultNumberingSystem,d=r||Ti.defaultOutputCalendar,m=fA(s)||Ti.defaultWeekSettings;return new At(l,c,d,m,o)}static resetCache(){rv=null,aA.clear(),uA.clear(),cA.clear(),hA.clear(),dA.clear()}static fromObject({locale:e,numberingSystem:i,outputCalendar:r,weekSettings:s}={}){return At.create(e,i,r,s)}constructor(e,i,r,s,n){const[o,l,c]=Bpe(e);this.locale=o,this.numberingSystem=i||l||null,this.outputCalendar=r||c||null,this.weekSettings=s,this.intl=Gpe(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=n,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Zpe(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&i?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:At.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,fA(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,i=!1){return d_(this,e,rH,()=>{const r=this.intl==="ja"||this.intl.startsWith("ja-");i&=!r;const s=i?{month:e,day:"numeric"}:{month:e},n=i?"format":"standalone";if(!this.monthsCache[n][e]){const o=r?l=>this.dtFormatter(l,s).format():l=>this.extract(l,s,"month");this.monthsCache[n][e]=Hpe(o)}return this.monthsCache[n][e]})}weekdays(e,i=!1){return d_(this,e,oH,()=>{const r=i?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=i?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=Wpe(n=>this.extract(n,r,"weekday"))),this.weekdaysCache[s][e]})}meridiems(){return d_(this,void 0,()=>aH,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[be.utc(2016,11,13,9),be.utc(2016,11,13,19)].map(i=>this.extract(i,e,"dayperiod"))}return this.meridiemCache})}eras(e){return d_(this,e,lH,()=>{const i={era:e};return this.eraCache[e]||(this.eraCache[e]=[be.utc(-40,1,1),be.utc(2017,1,1)].map(r=>this.extract(r,i,"era"))),this.eraCache[e]})}extract(e,i,r){const s=this.dtFormatter(e,i),n=s.formatToParts(),o=n.find(l=>l.type.toLowerCase()===r);return o?o.value:null}numberFormatter(e={}){return new Ype(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,i={}){return new Jpe(e,this.intl,i)}relFormatter(e={}){return new Kpe(this.intl,this.isEnglish(),e)}listFormatter(e={}){return Vpe(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||BG(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:QG()?qpe(this.locale):GG}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let t5=null;class Wi extends $p{static get utcInstance(){return t5===null&&(t5=new Wi(0)),t5}static instance(e){return e===0?Wi.utcInstance:new Wi(e)}static parseSpecifier(e){if(e){const i=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new Wi(cT(i[1],i[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Xv(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Xv(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,i){return Xv(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class Xpe extends $p{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function gc(t,e){if(He(t)||t===null)return e;if(t instanceof $p)return t;if(sfe(t)){const i=t.toLowerCase();return i==="default"?e:i==="local"||i==="system"?aT.instance:i==="utc"||i==="gmt"?Wi.utcInstance:Wi.parseSpecifier(i)||Ys.create(t)}else return Rc(t)?Wi.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new Xpe(t)}const aR={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},W8={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Qpe=aR.hanidec.replace(/[\[|\]]/g,"").split("");function efe(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let i=0;i<t.length;i++){const r=t.charCodeAt(i);if(t[i].search(aR.hanidec)!==-1)e+=Qpe.indexOf(t[i]);else for(const s in W8){const[n,o]=W8[s];r>=n&&r<=o&&(e+=r-n)}}return parseInt(e,10)}else return e}const pA=new Map;function tfe(){pA.clear()}function xo({numberingSystem:t},e=""){const i=t||"latn";let r=pA.get(i);r===void 0&&(r=new Map,pA.set(i,r));let s=r.get(e);return s===void 0&&(s=new RegExp(`${aR[i]}${e}`),r.set(e,s)),s}let Z8=()=>Date.now(),Y8="system",J8=null,K8=null,X8=null,Q8=60,eL,tL=null;class Ti{static get now(){return Z8}static set now(e){Z8=e}static set defaultZone(e){Y8=e}static get defaultZone(){return gc(Y8,aT.instance)}static get defaultLocale(){return J8}static set defaultLocale(e){J8=e}static get defaultNumberingSystem(){return K8}static set defaultNumberingSystem(e){K8=e}static get defaultOutputCalendar(){return X8}static set defaultOutputCalendar(e){X8=e}static get defaultWeekSettings(){return tL}static set defaultWeekSettings(e){tL=fA(e)}static get twoDigitCutoffYear(){return Q8}static set twoDigitCutoffYear(e){Q8=e%100}static get throwOnInvalid(){return eL}static set throwOnInvalid(e){eL=e}static resetCaches(){At.resetCache(),Ys.resetCache(),be.resetCache(),tfe()}}class Wo{constructor(e,i){this.reason=e,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const HG=[0,31,59,90,120,151,181,212,243,273,304,334],WG=[0,31,60,91,121,152,182,213,244,274,305,335];function ro(t,e){return new Wo("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function lR(t,e,i){const r=new Date(Date.UTC(t,e-1,i));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const s=r.getUTCDay();return s===0?7:s}function ZG(t,e,i){return i+(Ew(t)?WG:HG)[e-1]}function YG(t,e){const i=Ew(t)?WG:HG,r=i.findIndex(n=>n<e),s=e-i[r];return{month:r+1,day:s}}function uR(t,e){return(t-e+7)%7+1}function tx(t,e=4,i=1){const{year:r,month:s,day:n}=t,o=ZG(r,s,n),l=uR(lR(r,s,n),i);let c=Math.floor((o-l+14-e)/7),d;return c<1?(d=r-1,c=V1(d,e,i)):c>V1(r,e,i)?(d=r+1,c=1):d=r,{weekYear:d,weekNumber:c,weekday:l,...hT(t)}}function iL(t,e=4,i=1){const{weekYear:r,weekNumber:s,weekday:n}=t,o=uR(lR(r,1,e),i),l=Cm(r);let c=s*7+n-o-7+e,d;c<1?(d=r-1,c+=Cm(d)):c>l?(d=r+1,c-=Cm(r)):d=r;const{month:m,day:v}=YG(d,c);return{year:d,month:m,day:v,...hT(t)}}function i5(t){const{year:e,month:i,day:r}=t,s=ZG(e,i,r);return{year:e,ordinal:s,...hT(t)}}function rL(t){const{year:e,ordinal:i}=t,{month:r,day:s}=YG(e,i);return{year:e,month:r,day:s,...hT(t)}}function sL(t,e){if(!He(t.localWeekday)||!He(t.localWeekNumber)||!He(t.localWeekYear)){if(!He(t.weekday)||!He(t.weekNumber)||!He(t.weekYear))throw new vm("Cannot mix locale-based week fields with ISO-based week fields");return He(t.localWeekday)||(t.weekday=t.localWeekday),He(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),He(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function ife(t,e=4,i=1){const r=lT(t.weekYear),s=so(t.weekNumber,1,V1(t.weekYear,e,i)),n=so(t.weekday,1,7);return r?s?n?!1:ro("weekday",t.weekday):ro("week",t.weekNumber):ro("weekYear",t.weekYear)}function rfe(t){const e=lT(t.year),i=so(t.ordinal,1,Cm(t.year));return e?i?!1:ro("ordinal",t.ordinal):ro("year",t.year)}function JG(t){const e=lT(t.year),i=so(t.month,1,12),r=so(t.day,1,ix(t.year,t.month));return e?i?r?!1:ro("day",t.day):ro("month",t.month):ro("year",t.year)}function KG(t){const{hour:e,minute:i,second:r,millisecond:s}=t,n=so(e,0,23)||e===24&&i===0&&r===0&&s===0,o=so(i,0,59),l=so(r,0,59),c=so(s,0,999);return n?o?l?c?!1:ro("millisecond",s):ro("second",r):ro("minute",i):ro("hour",e)}function He(t){return typeof t>"u"}function Rc(t){return typeof t=="number"}function lT(t){return typeof t=="number"&&t%1===0}function sfe(t){return typeof t=="string"}function nfe(t){return Object.prototype.toString.call(t)==="[object Date]"}function XG(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function QG(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function ofe(t){return Array.isArray(t)?t:[t]}function nL(t,e,i){if(t.length!==0)return t.reduce((r,s)=>{const n=[e(s),s];return r&&i(r[0],n[0])===r[0]?r:n},null)[1]}function afe(t,e){return e.reduce((i,r)=>(i[r]=t[r],i),{})}function Py(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function fA(t){if(t==null)return null;if(typeof t!="object")throw new Ur("Week settings must be an object");if(!so(t.firstDay,1,7)||!so(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!so(e,1,7)))throw new Ur("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function so(t,e,i){return lT(t)&&t>=e&&t<=i}function lfe(t,e){return t-e*Math.floor(t/e)}function Gi(t,e=2){const i=t<0;let r;return i?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function cc(t){if(!(He(t)||t===null||t===""))return parseInt(t,10)}function jh(t){if(!(He(t)||t===null||t===""))return parseFloat(t)}function cR(t){if(!(He(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function hR(t,e,i="round"){const r=10**e;switch(i){case"expand":return t>0?Math.ceil(t*r)/r:Math.floor(t*r)/r;case"trunc":return Math.trunc(t*r)/r;case"round":return Math.round(t*r)/r;case"floor":return Math.floor(t*r)/r;case"ceil":return Math.ceil(t*r)/r;default:throw new RangeError(`Value rounding ${i} is out of range`)}}function Ew(t){return t%4===0&&(t%100!==0||t%400===0)}function Cm(t){return Ew(t)?366:365}function ix(t,e){const i=lfe(e-1,12)+1,r=t+(e-i)/12;return i===2?Ew(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function uT(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function oL(t,e,i){return-uR(lR(t,1,e),i)+e-1}function V1(t,e=4,i=1){const r=oL(t,e,i),s=oL(t+1,e,i);return(Cm(t)-r+s)/7}function mA(t){return t>99?t:t>Ti.twoDigitCutoffYear?1900+t:2e3+t}function eH(t,e,i,r=null){const s=new Date(t),n={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(n.timeZone=r);const o={timeZoneName:e,...n},l=new Intl.DateTimeFormat(i,o).formatToParts(s).find(c=>c.type.toLowerCase()==="timezonename");return l?l.value:null}function cT(t,e){let i=parseInt(t,10);Number.isNaN(i)&&(i=0);const r=parseInt(e,10)||0,s=i<0||Object.is(i,-0)?-r:r;return i*60+s}function tH(t){const e=Number(t);if(typeof t=="boolean"||t===""||!Number.isFinite(e))throw new Ur(`Invalid unit value ${t}`);return e}function rx(t,e){const i={};for(const r in t)if(Py(t,r)){const s=t[r];if(s==null)continue;i[e(r)]=tH(s)}return i}function Xv(t,e){const i=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),s=t>=0?"+":"-";switch(e){case"short":return`${s}${Gi(i,2)}:${Gi(r,2)}`;case"narrow":return`${s}${i}${r>0?`:${r}`:""}`;case"techie":return`${s}${Gi(i,2)}${Gi(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function hT(t){return afe(t,["hour","minute","second","millisecond"])}const ufe=["January","February","March","April","May","June","July","August","September","October","November","December"],iH=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],cfe=["J","F","M","A","M","J","J","A","S","O","N","D"];function rH(t){switch(t){case"narrow":return[...cfe];case"short":return[...iH];case"long":return[...ufe];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const sH=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],nH=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],hfe=["M","T","W","T","F","S","S"];function oH(t){switch(t){case"narrow":return[...hfe];case"short":return[...nH];case"long":return[...sH];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const aH=["AM","PM"],dfe=["Before Christ","Anno Domini"],pfe=["BC","AD"],ffe=["B","A"];function lH(t){switch(t){case"narrow":return[...ffe];case"short":return[...pfe];case"long":return[...dfe];default:return null}}function mfe(t){return aH[t.hour<12?0:1]}function yfe(t,e){return oH(e)[t.weekday-1]}function gfe(t,e){return rH(e)[t.month-1]}function vfe(t,e){return lH(e)[t.year<0?0:1]}function wfe(t,e,i="always",r=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},n=["hours","minutes","seconds"].indexOf(t)===-1;if(i==="auto"&&n){const v=t==="days";switch(e){case 1:return v?"tomorrow":`next ${s[t][0]}`;case-1:return v?"yesterday":`last ${s[t][0]}`;case 0:return v?"today":`this ${s[t][0]}`}}const o=Object.is(e,-0)||e<0,l=Math.abs(e),c=l===1,d=s[t],m=r?c?d[1]:d[2]||d[1]:c?s[t][0]:t;return o?`${l} ${m} ago`:`in ${l} ${m}`}function aL(t,e){let i="";for(const r of t)r.literal?i+=r.val:i+=e(r.val);return i}const bfe={D:ex,DD:$G,DDD:MG,DDDD:EG,t:AG,tt:OG,ttt:kG,tttt:CG,T:RG,TT:IG,TTT:PG,TTTT:jG,f:NG,ff:LG,fff:FG,ffff:UG,F:DG,FF:VG,FFF:zG,FFFF:qG};class Wr{static create(e,i={}){return new Wr(e,i)}static parseFormat(e){let i=null,r="",s=!1;const n=[];for(let o=0;o<e.length;o++){const l=e.charAt(o);l==="'"?((r.length>0||s)&&n.push({literal:s||/^\s+$/.test(r),val:r===""?"'":r}),i=null,r="",s=!s):s||l===i?r+=l:(r.length>0&&n.push({literal:/^\s+$/.test(r),val:r}),r=l,i=l)}return r.length>0&&n.push({literal:s||/^\s+$/.test(r),val:r}),n}static macroTokenToFormatOpts(e){return bfe[e]}constructor(e,i){this.opts=i,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...i}).format()}dtFormatter(e,i={}){return this.loc.dtFormatter(e,{...this.opts,...i})}formatDateTime(e,i){return this.dtFormatter(e,i).format()}formatDateTimeParts(e,i){return this.dtFormatter(e,i).formatToParts()}formatInterval(e,i){return this.dtFormatter(e.start,i).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,i){return this.dtFormatter(e,i).resolvedOptions()}num(e,i=0,r=void 0){if(this.opts.forceSimple)return Gi(e,i);const s={...this.opts};return i>0&&(s.padTo=i),r&&(s.signDisplay=r),this.loc.numberFormatter(s).format(e)}formatDateTimeFromString(e,i){const r=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",n=(_,x)=>this.loc.extract(e,_,x),o=_=>e.isOffsetFixed&&e.offset===0&&_.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,_.format):"",l=()=>r?mfe(e):n({hour:"numeric",hourCycle:"h12"},"dayperiod"),c=(_,x)=>r?gfe(e,_):n(x?{month:_}:{month:_,day:"numeric"},"month"),d=(_,x)=>r?yfe(e,_):n(x?{weekday:_}:{weekday:_,month:"long",day:"numeric"},"weekday"),m=_=>{const x=Wr.macroTokenToFormatOpts(_);return x?this.formatWithSystemDefault(e,x):_},v=_=>r?vfe(e,_):n({era:_},"era"),w=_=>{switch(_){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return l();case"d":return s?n({day:"numeric"},"day"):this.num(e.day);case"dd":return s?n({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return s?n({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return s?n({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return s?n({month:"numeric"},"month"):this.num(e.month);case"MM":return s?n({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return s?n({year:"numeric"},"year"):this.num(e.year);case"yy":return s?n({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return s?n({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return s?n({year:"numeric"},"year"):this.num(e.year,6);case"G":return v("short");case"GG":return v("long");case"GGGGG":return v("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return m(_)}};return aL(Wr.parseFormat(i),w)}formatDurationFromString(e,i){const r=this.opts.signMode==="negativeLargestOnly"?-1:1,s=m=>{switch(m[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},n=(m,v)=>w=>{const _=s(w);if(_){const x=v.isNegativeDuration&&_!==v.largestUnit?r:1;let T;return this.opts.signMode==="negativeLargestOnly"&&_!==v.largestUnit?T="never":this.opts.signMode==="all"?T="always":T="auto",this.num(m.get(_)*x,w.length,T)}else return w},o=Wr.parseFormat(i),l=o.reduce((m,{literal:v,val:w})=>v?m:m.concat(w),[]),c=e.shiftTo(...l.map(s).filter(m=>m)),d={isNegativeDuration:c<0,largestUnit:Object.keys(c.values)[0]};return aL(o,n(c,d))}}const uH=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function pg(...t){const e=t.reduce((i,r)=>i+r.source,"");return RegExp(`^${e}$`)}function fg(...t){return e=>t.reduce(([i,r,s],n)=>{const[o,l,c]=n(e,s);return[{...i,...o},l||r,c]},[{},null,1]).slice(0,2)}function mg(t,...e){if(t==null)return[null,null];for(const[i,r]of e){const s=i.exec(t);if(s)return r(s)}return[null,null]}function cH(...t){return(e,i)=>{const r={};let s;for(s=0;s<t.length;s++)r[t[s]]=cc(e[i+s]);return[r,null,i+s]}}const hH=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,_fe=`(?:${hH.source}?(?:\\[(${uH.source})\\])?)?`,dR=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,dH=RegExp(`${dR.source}${_fe}`),pR=RegExp(`(?:[Tt]${dH.source})?`),Sfe=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,xfe=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Tfe=/(\d{4})-?(\d{3})/,$fe=cH("weekYear","weekNumber","weekDay"),Mfe=cH("year","ordinal"),Efe=/(\d{4})-(\d\d)-(\d\d)/,pH=RegExp(`${dR.source} ?(?:${hH.source}|(${uH.source}))?`),Afe=RegExp(`(?: ${pH.source})?`);function Rm(t,e,i){const r=t[e];return He(r)?i:cc(r)}function Ofe(t,e){return[{year:Rm(t,e),month:Rm(t,e+1,1),day:Rm(t,e+2,1)},null,e+3]}function yg(t,e){return[{hours:Rm(t,e,0),minutes:Rm(t,e+1,0),seconds:Rm(t,e+2,0),milliseconds:cR(t[e+3])},null,e+4]}function Aw(t,e){const i=!t[e]&&!t[e+1],r=cT(t[e+1],t[e+2]),s=i?null:Wi.instance(r);return[{},s,e+3]}function Ow(t,e){const i=t[e]?Ys.create(t[e]):null;return[{},i,e+1]}const kfe=RegExp(`^T?${dR.source}$`),Cfe=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Rfe(t){const[e,i,r,s,n,o,l,c,d]=t,m=e[0]==="-",v=c&&c[0]==="-",w=(_,x=!1)=>_!==void 0&&(x||_&&m)?-_:_;return[{years:w(jh(i)),months:w(jh(r)),weeks:w(jh(s)),days:w(jh(n)),hours:w(jh(o)),minutes:w(jh(l)),seconds:w(jh(c),c==="-0"),milliseconds:w(cR(d),v)}]}const Ife={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function fR(t,e,i,r,s,n,o){const l={year:e.length===2?mA(cc(e)):cc(e),month:iH.indexOf(i)+1,day:cc(r),hour:cc(s),minute:cc(n)};return o&&(l.second=cc(o)),t&&(l.weekday=t.length>3?sH.indexOf(t)+1:nH.indexOf(t)+1),l}const Pfe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function jfe(t){const[,e,i,r,s,n,o,l,c,d,m,v]=t,w=fR(e,s,r,i,n,o,l);let _;return c?_=Ife[c]:d?_=0:_=cT(m,v),[w,new Wi(_)]}function Nfe(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Dfe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Lfe=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Vfe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function lL(t){const[,e,i,r,s,n,o,l]=t;return[fR(e,s,r,i,n,o,l),Wi.utcInstance]}function Ffe(t){const[,e,i,r,s,n,o,l]=t;return[fR(e,l,i,r,s,n,o),Wi.utcInstance]}const zfe=pg(Sfe,pR),Ufe=pg(xfe,pR),qfe=pg(Tfe,pR),Bfe=pg(dH),fH=fg(Ofe,yg,Aw,Ow),Gfe=fg($fe,yg,Aw,Ow),Hfe=fg(Mfe,yg,Aw,Ow),Wfe=fg(yg,Aw,Ow);function Zfe(t){return mg(t,[zfe,fH],[Ufe,Gfe],[qfe,Hfe],[Bfe,Wfe])}function Yfe(t){return mg(Nfe(t),[Pfe,jfe])}function Jfe(t){return mg(t,[Dfe,lL],[Lfe,lL],[Vfe,Ffe])}function Kfe(t){return mg(t,[Cfe,Rfe])}const Xfe=fg(yg);function Qfe(t){return mg(t,[kfe,Xfe])}const eme=pg(Efe,Afe),tme=pg(pH),ime=fg(yg,Aw,Ow);function rme(t){return mg(t,[eme,fH],[tme,ime])}const uL="Invalid Duration",mH={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},sme={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...mH},Vn=146097/400,bf=146097/4800,nme={years:{quarters:4,months:12,weeks:Vn/7,days:Vn,hours:Vn*24,minutes:Vn*24*60,seconds:Vn*24*60*60,milliseconds:Vn*24*60*60*1e3},quarters:{months:3,weeks:Vn/28,days:Vn/4,hours:Vn*24/4,minutes:Vn*24*60/4,seconds:Vn*24*60*60/4,milliseconds:Vn*24*60*60*1e3/4},months:{weeks:bf/7,days:bf,hours:bf*24,minutes:bf*24*60,seconds:bf*24*60*60,milliseconds:bf*24*60*60*1e3},...mH},Md=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],ome=Md.slice(0).reverse();function ul(t,e,i=!1){const r={values:i?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new wt(r)}function yH(t,e){let i=e.milliseconds??0;for(const r of ome.slice(1))e[r]&&(i+=e[r]*t[r].milliseconds);return i}function cL(t,e){const i=yH(t,e)<0?-1:1;Md.reduceRight((r,s)=>{if(He(e[s]))return r;if(r){const n=e[r]*i,o=t[s][r],l=Math.floor(n/o);e[s]+=l*i,e[r]-=l*o*i}return s},null),Md.reduce((r,s)=>{if(He(e[s]))return r;if(r){const n=e[r]%1;e[r]-=n,e[s]+=n*t[r][s]}return s},null)}function hL(t){const e={};for(const[i,r]of Object.entries(t))r!==0&&(e[i]=r);return e}class wt{constructor(e){const i=e.conversionAccuracy==="longterm"||!1;let r=i?nme:sme;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||At.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,i){return wt.fromObject({milliseconds:e},i)}static fromObject(e,i={}){if(e==null||typeof e!="object")throw new Ur(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new wt({values:rx(e,wt.normalizeUnit),loc:At.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static fromDurationLike(e){if(Rc(e))return wt.fromMillis(e);if(wt.isDuration(e))return e;if(typeof e=="object")return wt.fromObject(e);throw new Ur(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,i){const[r]=Kfe(e);return r?wt.fromObject(r,i):wt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,i){const[r]=Qfe(e);return r?wt.fromObject(r,i):wt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,i=null){if(!e)throw new Ur("need to specify a reason the Duration is invalid");const r=e instanceof Wo?e:new Wo(e,i);if(Ti.throwOnInvalid)throw new Rpe(r);return new wt({invalid:r})}static normalizeUnit(e){const i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!i)throw new TG(e);return i}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,i={}){const r={...i,floor:i.round!==!1&&i.floor!==!1};return this.isValid?Wr.create(this.loc,r).formatDurationFromString(this,e):uL}toHuman(e={}){if(!this.isValid)return uL;const i=e.showZeros!==!1,r=Md.map(s=>{const n=this.values[s];return He(n)||n===0&&!i?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:s.slice(0,-1)}).format(n)}).filter(s=>s);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=hR(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const i=this.toMillis();return i<0||i>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},be.fromMillis(i,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?yH(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const i=wt.fromDurationLike(e),r={};for(const s of Md)(Py(i.values,s)||Py(this.values,s))&&(r[s]=i.get(s)+this.get(s));return ul(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const i=wt.fromDurationLike(e);return this.plus(i.negate())}mapUnits(e){if(!this.isValid)return this;const i={};for(const r of Object.keys(this.values))i[r]=tH(e(this.values[r],r));return ul(this,{values:i},!0)}get(e){return this[wt.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const i={...this.values,...rx(e,wt.normalizeUnit)};return ul(this,{values:i})}reconfigure({locale:e,numberingSystem:i,conversionAccuracy:r,matrix:s}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:i}),matrix:s,conversionAccuracy:r};return ul(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return cL(this.matrix,e),ul(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=hL(this.normalize().shiftToAll().toObject());return ul(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>wt.normalizeUnit(o));const i={},r={},s=this.toObject();let n;for(const o of Md)if(e.indexOf(o)>=0){n=o;let l=0;for(const d in r)l+=this.matrix[d][o]*r[d],r[d]=0;Rc(s[o])&&(l+=s[o]);const c=Math.trunc(l);i[o]=c,r[o]=(l*1e3-c*1e3)/1e3}else Rc(s[o])&&(r[o]=s[o]);for(const o in r)r[o]!==0&&(i[n]+=o===n?r[o]:r[o]/this.matrix[n][o]);return cL(this.matrix,i),ul(this,{values:i},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const i of Object.keys(this.values))e[i]=this.values[i]===0?0:-this.values[i];return ul(this,{values:e},!0)}removeZeros(){if(!this.isValid)return this;const e=hL(this.values);return ul(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function i(r,s){return r===void 0||r===0?s===void 0||s===0:r===s}for(const r of Md)if(!i(this.values[r],e.values[r]))return!1;return!0}}const _f="Invalid Interval";function ame(t,e){return!t||!t.isValid?wi.invalid("missing or invalid start"):!e||!e.isValid?wi.invalid("missing or invalid end"):e<t?wi.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class wi{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,i=null){if(!e)throw new Ur("need to specify a reason the Interval is invalid");const r=e instanceof Wo?e:new Wo(e,i);if(Ti.throwOnInvalid)throw new Cpe(r);return new wi({invalid:r})}static fromDateTimes(e,i){const r=C0(e),s=C0(i),n=ame(r,s);return n??new wi({start:r,end:s})}static after(e,i){const r=wt.fromDurationLike(i),s=C0(e);return wi.fromDateTimes(s,s.plus(r))}static before(e,i){const r=wt.fromDurationLike(i),s=C0(e);return wi.fromDateTimes(s.minus(r),s)}static fromISO(e,i){const[r,s]=(e||"").split("/",2);if(r&&s){let n,o;try{n=be.fromISO(r,i),o=n.isValid}catch{o=!1}let l,c;try{l=be.fromISO(s,i),c=l.isValid}catch{c=!1}if(o&&c)return wi.fromDateTimes(n,l);if(o){const d=wt.fromISO(s,i);if(d.isValid)return wi.after(n,d)}else if(c){const d=wt.fromISO(r,i);if(d.isValid)return wi.before(l,d)}}return wi.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",i){if(!this.isValid)return NaN;const r=this.start.startOf(e,i);let s;return i!=null&&i.useLocaleWeeks?s=this.end.reconfigure({locale:r.locale}):s=this.end,s=s.startOf(e,i),Math.floor(s.diff(r,e).get(e))+(s.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:i}={}){return this.isValid?wi.fromDateTimes(e||this.s,i||this.e):this}splitAt(...e){if(!this.isValid)return[];const i=e.map(C0).filter(o=>this.contains(o)).sort((o,l)=>o.toMillis()-l.toMillis()),r=[];let{s}=this,n=0;for(;s<this.e;){const o=i[n]||this.e,l=+o>+this.e?this.e:o;r.push(wi.fromDateTimes(s,l)),s=l,n+=1}return r}splitBy(e){const i=wt.fromDurationLike(e);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s:r}=this,s=1,n;const o=[];for(;r<this.e;){const l=this.start.plus(i.mapUnits(c=>c*s));n=+l>+this.e?this.e:l,o.push(wi.fromDateTimes(r,n)),r=n,s+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const i=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return i>=r?null:wi.fromDateTimes(i,r)}union(e){if(!this.isValid)return this;const i=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return wi.fromDateTimes(i,r)}static merge(e){const[i,r]=e.sort((s,n)=>s.s-n.s).reduce(([s,n],o)=>n?n.overlaps(o)||n.abutsStart(o)?[s,n.union(o)]:[s.concat([n]),o]:[s,o],[[],null]);return r&&i.push(r),i}static xor(e){let i=null,r=0;const s=[],n=e.map(c=>[{time:c.s,type:"s"},{time:c.e,type:"e"}]),o=Array.prototype.concat(...n),l=o.sort((c,d)=>c.time-d.time);for(const c of l)r+=c.type==="s"?1:-1,r===1?i=c.time:(i&&+i!=+c.time&&s.push(wi.fromDateTimes(i,c.time)),i=null);return wi.merge(s)}difference(...e){return wi.xor([this].concat(e)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:_f}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=ex,i={}){return this.isValid?Wr.create(this.s.loc.clone(i),e).formatInterval(this):_f}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:_f}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:_f}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:_f}toFormat(e,{separator:i="  "}={}){return this.isValid?`${this.s.toFormat(e)}${i}${this.e.toFormat(e)}`:_f}toDuration(e,i){return this.isValid?this.e.diff(this.s,e,i):wt.invalid(this.invalidReason)}mapEndpoints(e){return wi.fromDateTimes(e(this.s),e(this.e))}}class p_{static hasDST(e=Ti.defaultZone){const i=be.now().setZone(e).set({month:12});return!e.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(e){return Ys.isValidZone(e)}static normalizeZone(e){return gc(e,Ti.defaultZone)}static getStartOfWeek({locale:e=null,locObj:i=null}={}){return(i||At.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:i=null}={}){return(i||At.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:i=null}={}){return(i||At.create(e)).getWeekendDays().slice()}static months(e="long",{locale:i=null,numberingSystem:r=null,locObj:s=null,outputCalendar:n="gregory"}={}){return(s||At.create(i,r,n)).months(e)}static monthsFormat(e="long",{locale:i=null,numberingSystem:r=null,locObj:s=null,outputCalendar:n="gregory"}={}){return(s||At.create(i,r,n)).months(e,!0)}static weekdays(e="long",{locale:i=null,numberingSystem:r=null,locObj:s=null}={}){return(s||At.create(i,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:i=null,numberingSystem:r=null,locObj:s=null}={}){return(s||At.create(i,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return At.create(e).meridiems()}static eras(e="short",{locale:i=null}={}){return At.create(i,null,"gregory").eras(e)}static features(){return{relative:XG(),localeWeek:QG()}}}function dL(t,e){const i=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=i(e)-i(t);return Math.floor(wt.fromMillis(r).as("days"))}function lme(t,e,i){const r=[["years",(c,d)=>d.year-c.year],["quarters",(c,d)=>d.quarter-c.quarter+(d.year-c.year)*4],["months",(c,d)=>d.month-c.month+(d.year-c.year)*12],["weeks",(c,d)=>{const m=dL(c,d);return(m-m%7)/7}],["days",dL]],s={},n=t;let o,l;for(const[c,d]of r)i.indexOf(c)>=0&&(o=c,s[c]=d(t,e),l=n.plus(s),l>e?(s[c]--,t=n.plus(s),t>e&&(l=t,s[c]--,t=n.plus(s))):t=l);return[t,s,l,o]}function ume(t,e,i,r){let[s,n,o,l]=lme(t,e,i);const c=e-s,d=i.filter(v=>["hours","minutes","seconds","milliseconds"].indexOf(v)>=0);d.length===0&&(o<e&&(o=s.plus({[l]:1})),o!==s&&(n[l]=(n[l]||0)+c/(o-s)));const m=wt.fromObject(n,r);return d.length>0?wt.fromMillis(c,r).shiftTo(...d).plus(m):m}const cme="missing Intl.DateTimeFormat.formatToParts support";function Tt(t,e=i=>i){return{regex:t,deser:([i])=>e(efe(i))}}const hme="",gH=`[ ${hme}]`,vH=new RegExp(gH,"g");function dme(t){return t.replace(/\./g,"\\.?").replace(vH,gH)}function pL(t){return t.replace(/\./g,"").replace(vH," ").toLowerCase()}function To(t,e){return t===null?null:{regex:RegExp(t.map(dme).join("|")),deser:([i])=>t.findIndex(r=>pL(i)===pL(r))+e}}function fL(t,e){return{regex:t,deser:([,i,r])=>cT(i,r),groups:e}}function f_(t){return{regex:t,deser:([e])=>e}}function pme(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function fme(t,e){const i=xo(e),r=xo(e,"{2}"),s=xo(e,"{3}"),n=xo(e,"{4}"),o=xo(e,"{6}"),l=xo(e,"{1,2}"),c=xo(e,"{1,3}"),d=xo(e,"{1,6}"),m=xo(e,"{1,9}"),v=xo(e,"{2,4}"),w=xo(e,"{4,6}"),_=M=>({regex:RegExp(pme(M.val)),deser:([O])=>O,literal:!0}),T=(M=>{if(t.literal)return _(M);switch(M.val){case"G":return To(e.eras("short"),0);case"GG":return To(e.eras("long"),0);case"y":return Tt(d);case"yy":return Tt(v,mA);case"yyyy":return Tt(n);case"yyyyy":return Tt(w);case"yyyyyy":return Tt(o);case"M":return Tt(l);case"MM":return Tt(r);case"MMM":return To(e.months("short",!0),1);case"MMMM":return To(e.months("long",!0),1);case"L":return Tt(l);case"LL":return Tt(r);case"LLL":return To(e.months("short",!1),1);case"LLLL":return To(e.months("long",!1),1);case"d":return Tt(l);case"dd":return Tt(r);case"o":return Tt(c);case"ooo":return Tt(s);case"HH":return Tt(r);case"H":return Tt(l);case"hh":return Tt(r);case"h":return Tt(l);case"mm":return Tt(r);case"m":return Tt(l);case"q":return Tt(l);case"qq":return Tt(r);case"s":return Tt(l);case"ss":return Tt(r);case"S":return Tt(c);case"SSS":return Tt(s);case"u":return f_(m);case"uu":return f_(l);case"uuu":return Tt(i);case"a":return To(e.meridiems(),0);case"kkkk":return Tt(n);case"kk":return Tt(v,mA);case"W":return Tt(l);case"WW":return Tt(r);case"E":case"c":return Tt(i);case"EEE":return To(e.weekdays("short",!1),1);case"EEEE":return To(e.weekdays("long",!1),1);case"ccc":return To(e.weekdays("short",!0),1);case"cccc":return To(e.weekdays("long",!0),1);case"Z":case"ZZ":return fL(new RegExp(`([+-]${l.source})(?::(${r.source}))?`),2);case"ZZZ":return fL(new RegExp(`([+-]${l.source})(${r.source})?`),2);case"z":return f_(/[a-z_+-/]{1,256}?/i);case" ":return f_(/[^\S\n\r]/);default:return _(M)}})(t)||{invalidReason:cme};return T.token=t,T}const mme={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function yme(t,e,i){const{type:r,value:s}=t;if(r==="literal"){const c=/^\s+$/.test(s);return{literal:!c,val:c?" ":s}}const n=e[r];let o=r;r==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=i.hour12?"hour12":"hour24");let l=mme[o];if(typeof l=="object"&&(l=l[n]),l)return{literal:!1,val:l}}function gme(t){return[`^${t.map(i=>i.regex).reduce((i,r)=>`${i}(${r.source})`,"")}$`,t]}function vme(t,e,i){const r=t.match(e);if(r){const s={};let n=1;for(const o in i)if(Py(i,o)){const l=i[o],c=l.groups?l.groups+1:1;!l.literal&&l.token&&(s[l.token.val[0]]=l.deser(r.slice(n,n+c))),n+=c}return[r,s]}else return[r,{}]}function wme(t){const e=n=>{switch(n){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let i=null,r;return He(t.z)||(i=Ys.create(t.z)),He(t.Z)||(i||(i=new Wi(t.Z)),r=t.Z),He(t.q)||(t.M=(t.q-1)*3+1),He(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),He(t.u)||(t.S=cR(t.u)),[Object.keys(t).reduce((n,o)=>{const l=e(o);return l&&(n[l]=t[o]),n},{}),i,r]}let r5=null;function bme(){return r5||(r5=be.fromMillis(1555555555555)),r5}function _me(t,e){if(t.literal)return t;const i=Wr.macroTokenToFormatOpts(t.val),r=SH(i,e);return r==null||r.includes(void 0)?t:r}function wH(t,e){return Array.prototype.concat(...t.map(i=>_me(i,e)))}class bH{constructor(e,i){if(this.locale=e,this.format=i,this.tokens=wH(Wr.parseFormat(i),e),this.units=this.tokens.map(r=>fme(r,e)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,s]=gme(this.units);this.regex=RegExp(r,"i"),this.handlers=s}}explainFromTokens(e){if(this.isValid){const[i,r]=vme(e,this.regex,this.handlers),[s,n,o]=r?wme(r):[null,null,void 0];if(Py(r,"a")&&Py(r,"H"))throw new vm("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:i,matches:r,result:s,zone:n,specificOffset:o}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function _H(t,e,i){return new bH(t,i).explainFromTokens(e)}function Sme(t,e,i){const{result:r,zone:s,specificOffset:n,invalidReason:o}=_H(t,e,i);return[r,s,n,o]}function SH(t,e){if(!t)return null;const r=Wr.create(e,t).dtFormatter(bme()),s=r.formatToParts(),n=r.resolvedOptions();return s.map(o=>yme(o,t,n))}const s5="Invalid DateTime",xme=864e13;function sv(t){return new Wo("unsupported zone",`the zone "${t.name}" is not supported`)}function n5(t){return t.weekData===null&&(t.weekData=tx(t.c)),t.weekData}function o5(t){return t.localWeekData===null&&(t.localWeekData=tx(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function Nh(t,e){const i={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new be({...i,...e,old:i})}function xH(t,e,i){let r=t-e*60*1e3;const s=i.offset(r);if(e===s)return[r,e];r-=(s-e)*60*1e3;const n=i.offset(r);return s===n?[r,s]:[t-Math.min(s,n)*60*1e3,Math.max(s,n)]}function m_(t,e){t+=e*60*1e3;const i=new Date(t);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function v2(t,e,i){return xH(uT(t),e,i)}function mL(t,e){const i=t.o,r=t.c.year+Math.trunc(e.years),s=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,n={...t.c,year:r,month:s,day:Math.min(t.c.day,ix(r,s))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=wt.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),l=uT(n);let[c,d]=xH(l,i,t.zone);return o!==0&&(c+=o,d=t.zone.offset(c)),{ts:c,o:d}}function Sf(t,e,i,r,s,n){const{setZone:o,zone:l}=i;if(t&&Object.keys(t).length!==0||e){const c=e||l,d=be.fromObject(t,{...i,zone:c,specificOffset:n});return o?d:d.setZone(l)}else return be.invalid(new Wo("unparsable",`the input "${s}" can't be parsed as ${r}`))}function y_(t,e,i=!0){return t.isValid?Wr.create(At.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(t,e):null}function a5(t,e,i){const r=t.c.year>9999||t.c.year<0;let s="";if(r&&t.c.year>=0&&(s+="+"),s+=Gi(t.c.year,r?6:4),i==="year")return s;if(e){if(s+="-",s+=Gi(t.c.month),i==="month")return s;s+="-"}else if(s+=Gi(t.c.month),i==="month")return s;return s+=Gi(t.c.day),s}function yL(t,e,i,r,s,n,o){let l=!i||t.c.millisecond!==0||t.c.second!==0,c="";switch(o){case"day":case"month":case"year":break;default:if(c+=Gi(t.c.hour),o==="hour")break;if(e){if(c+=":",c+=Gi(t.c.minute),o==="minute")break;l&&(c+=":",c+=Gi(t.c.second))}else{if(c+=Gi(t.c.minute),o==="minute")break;l&&(c+=Gi(t.c.second))}if(o==="second")break;l&&(!r||t.c.millisecond!==0)&&(c+=".",c+=Gi(t.c.millisecond,3))}return s&&(t.isOffsetFixed&&t.offset===0&&!n?c+="Z":t.o<0?(c+="-",c+=Gi(Math.trunc(-t.o/60)),c+=":",c+=Gi(Math.trunc(-t.o%60))):(c+="+",c+=Gi(Math.trunc(t.o/60)),c+=":",c+=Gi(Math.trunc(t.o%60)))),n&&(c+="["+t.zone.ianaName+"]"),c}const TH={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Tme={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},$me={ordinal:1,hour:0,minute:0,second:0,millisecond:0},w2=["year","month","day","hour","minute","second","millisecond"],Mme=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Eme=["year","ordinal","hour","minute","second","millisecond"];function b2(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new TG(t);return e}function gL(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return b2(t)}}function Ame(t){if(nv===void 0&&(nv=Ti.now()),t.type!=="iana")return t.offset(nv);const e=t.name;let i=yA.get(e);return i===void 0&&(i=t.offset(nv),yA.set(e,i)),i}function vL(t,e){const i=gc(e.zone,Ti.defaultZone);if(!i.isValid)return be.invalid(sv(i));const r=At.fromObject(e);let s,n;if(He(t.year))s=Ti.now();else{for(const c of w2)He(t[c])&&(t[c]=TH[c]);const o=JG(t)||KG(t);if(o)return be.invalid(o);const l=Ame(i);[s,n]=v2(t,l,i)}return new be({ts:s,zone:i,loc:r,o:n})}function wL(t,e,i){const r=He(i.round)?!0:i.round,s=He(i.rounding)?"trunc":i.rounding,n=(l,c)=>(l=hR(l,r||i.calendary?0:2,i.calendary?"round":s),e.loc.clone(i).relFormatter(i).format(l,c)),o=l=>i.calendary?e.hasSame(t,l)?0:e.startOf(l).diff(t.startOf(l),l).get(l):e.diff(t,l).get(l);if(i.unit)return n(o(i.unit),i.unit);for(const l of i.units){const c=o(l);if(Math.abs(c)>=1)return n(c,l)}return n(t>e?-0:0,i.units[i.units.length-1])}function bL(t){let e={},i;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],i=Array.from(t).slice(0,t.length-1)):i=Array.from(t),[e,i]}let nv;const yA=new Map;class be{constructor(e){const i=e.zone||Ti.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new Wo("invalid input"):null)||(i.isValid?null:sv(i));this.ts=He(e.ts)?Ti.now():e.ts;let s=null,n=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(i))[s,n]=[e.old.c,e.old.o];else{const l=Rc(e.o)&&!e.old?e.o:i.offset(this.ts);s=m_(this.ts,l),r=Number.isNaN(s.year)?new Wo("invalid input"):null,s=r?null:s,n=r?null:l}this._zone=i,this.loc=e.loc||At.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=s,this.o=n,this.isLuxonDateTime=!0}static now(){return new be({})}static local(){const[e,i]=bL(arguments),[r,s,n,o,l,c,d]=i;return vL({year:r,month:s,day:n,hour:o,minute:l,second:c,millisecond:d},e)}static utc(){const[e,i]=bL(arguments),[r,s,n,o,l,c,d]=i;return e.zone=Wi.utcInstance,vL({year:r,month:s,day:n,hour:o,minute:l,second:c,millisecond:d},e)}static fromJSDate(e,i={}){const r=nfe(e)?e.valueOf():NaN;if(Number.isNaN(r))return be.invalid("invalid input");const s=gc(i.zone,Ti.defaultZone);return s.isValid?new be({ts:r,zone:s,loc:At.fromObject(i)}):be.invalid(sv(s))}static fromMillis(e,i={}){if(Rc(e))return e<-864e13||e>xme?be.invalid("Timestamp out of range"):new be({ts:e,zone:gc(i.zone,Ti.defaultZone),loc:At.fromObject(i)});throw new Ur(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,i={}){if(Rc(e))return new be({ts:e*1e3,zone:gc(i.zone,Ti.defaultZone),loc:At.fromObject(i)});throw new Ur("fromSeconds requires a numerical input")}static fromObject(e,i={}){e=e||{};const r=gc(i.zone,Ti.defaultZone);if(!r.isValid)return be.invalid(sv(r));const s=At.fromObject(i),n=rx(e,gL),{minDaysInFirstWeek:o,startOfWeek:l}=sL(n,s),c=Ti.now(),d=He(i.specificOffset)?r.offset(c):i.specificOffset,m=!He(n.ordinal),v=!He(n.year),w=!He(n.month)||!He(n.day),_=v||w,x=n.weekYear||n.weekNumber;if((_||m)&&x)throw new vm("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(w&&m)throw new vm("Can't mix ordinal dates with month/day");const T=x||n.weekday&&!_;let M,O,C=m_(c,d);T?(M=Mme,O=Tme,C=tx(C,o,l)):m?(M=Eme,O=$me,C=i5(C)):(M=w2,O=TH);let R=!1;for(const re of M){const fe=n[re];He(fe)?R?n[re]=O[re]:n[re]=C[re]:R=!0}const N=T?ife(n,o,l):m?rfe(n):JG(n),j=N||KG(n);if(j)return be.invalid(j);const F=T?iL(n,o,l):m?rL(n):n,[ee,X]=v2(F,d,r),J=new be({ts:ee,zone:r,o:X,loc:s});return n.weekday&&_&&e.weekday!==J.weekday?be.invalid("mismatched weekday",`you can't specify both a weekday of ${n.weekday} and a date of ${J.toISO()}`):J.isValid?J:be.invalid(J.invalid)}static fromISO(e,i={}){const[r,s]=Zfe(e);return Sf(r,s,i,"ISO 8601",e)}static fromRFC2822(e,i={}){const[r,s]=Yfe(e);return Sf(r,s,i,"RFC 2822",e)}static fromHTTP(e,i={}){const[r,s]=Jfe(e);return Sf(r,s,i,"HTTP",i)}static fromFormat(e,i,r={}){if(He(e)||He(i))throw new Ur("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:n=null}=r,o=At.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0}),[l,c,d,m]=Sme(o,e,i);return m?be.invalid(m):Sf(l,c,r,`format ${i}`,e,d)}static fromString(e,i,r={}){return be.fromFormat(e,i,r)}static fromSQL(e,i={}){const[r,s]=rme(e);return Sf(r,s,i,"SQL",e)}static invalid(e,i=null){if(!e)throw new Ur("need to specify a reason the DateTime is invalid");const r=e instanceof Wo?e:new Wo(e,i);if(Ti.throwOnInvalid)throw new kpe(r);return new be({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,i={}){const r=SH(e,At.fromObject(i));return r?r.map(s=>s?s.val:null).join(""):null}static expandFormat(e,i={}){return wH(Wr.parseFormat(e),At.fromObject(i)).map(s=>s.val).join("")}static resetCache(){nv=void 0,yA.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?n5(this).weekYear:NaN}get weekNumber(){return this.isValid?n5(this).weekNumber:NaN}get weekday(){return this.isValid?n5(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?o5(this).weekday:NaN}get localWeekNumber(){return this.isValid?o5(this).weekNumber:NaN}get localWeekYear(){return this.isValid?o5(this).weekYear:NaN}get ordinal(){return this.isValid?i5(this.c).ordinal:NaN}get monthShort(){return this.isValid?p_.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?p_.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?p_.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?p_.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,i=6e4,r=uT(this.c),s=this.zone.offset(r-e),n=this.zone.offset(r+e),o=this.zone.offset(r-s*i),l=this.zone.offset(r-n*i);if(o===l)return[this];const c=r-o*i,d=r-l*i,m=m_(c,o),v=m_(d,l);return m.hour===v.hour&&m.minute===v.minute&&m.second===v.second&&m.millisecond===v.millisecond?[Nh(this,{ts:c}),Nh(this,{ts:d})]:[this]}get isInLeapYear(){return Ew(this.year)}get daysInMonth(){return ix(this.year,this.month)}get daysInYear(){return this.isValid?Cm(this.year):NaN}get weeksInWeekYear(){return this.isValid?V1(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?V1(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:i,numberingSystem:r,calendar:s}=Wr.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:i,numberingSystem:r,outputCalendar:s}}toUTC(e=0,i={}){return this.setZone(Wi.instance(e),i)}toLocal(){return this.setZone(Ti.defaultZone)}setZone(e,{keepLocalTime:i=!1,keepCalendarTime:r=!1}={}){if(e=gc(e,Ti.defaultZone),e.equals(this.zone))return this;if(e.isValid){let s=this.ts;if(i||r){const n=e.offset(this.ts),o=this.toObject();[s]=v2(o,n,e)}return Nh(this,{ts:s,zone:e})}else return be.invalid(sv(e))}reconfigure({locale:e,numberingSystem:i,outputCalendar:r}={}){const s=this.loc.clone({locale:e,numberingSystem:i,outputCalendar:r});return Nh(this,{loc:s})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const i=rx(e,gL),{minDaysInFirstWeek:r,startOfWeek:s}=sL(i,this.loc),n=!He(i.weekYear)||!He(i.weekNumber)||!He(i.weekday),o=!He(i.ordinal),l=!He(i.year),c=!He(i.month)||!He(i.day),d=l||c,m=i.weekYear||i.weekNumber;if((d||o)&&m)throw new vm("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&o)throw new vm("Can't mix ordinal dates with month/day");let v;n?v=iL({...tx(this.c,r,s),...i},r,s):He(i.ordinal)?(v={...this.toObject(),...i},He(i.day)&&(v.day=Math.min(ix(v.year,v.month),v.day))):v=rL({...i5(this.c),...i});const[w,_]=v2(v,this.o,this.zone);return Nh(this,{ts:w,o:_})}plus(e){if(!this.isValid)return this;const i=wt.fromDurationLike(e);return Nh(this,mL(this,i))}minus(e){if(!this.isValid)return this;const i=wt.fromDurationLike(e).negate();return Nh(this,mL(this,i))}startOf(e,{useLocaleWeeks:i=!1}={}){if(!this.isValid)return this;const r={},s=wt.normalizeUnit(e);switch(s){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(s==="weeks")if(i){const n=this.loc.getStartOfWeek(),{weekday:o}=this;o<n&&(r.weekNumber=this.weekNumber-1),r.weekday=n}else r.weekday=1;if(s==="quarters"){const n=Math.ceil(this.month/3);r.month=(n-1)*3+1}return this.set(r)}endOf(e,i){return this.isValid?this.plus({[e]:1}).startOf(e,i).minus(1):this}toFormat(e,i={}){return this.isValid?Wr.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,e):s5}toLocaleString(e=ex,i={}){return this.isValid?Wr.create(this.loc.clone(i),e).formatDateTime(this):s5}toLocaleParts(e={}){return this.isValid?Wr.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:i=!1,suppressMilliseconds:r=!1,includeOffset:s=!0,extendedZone:n=!1,precision:o="milliseconds"}={}){if(!this.isValid)return null;o=b2(o);const l=e==="extended";let c=a5(this,l,o);return w2.indexOf(o)>=3&&(c+="T"),c+=yL(this,l,i,r,s,n,o),c}toISODate({format:e="extended",precision:i="day"}={}){return this.isValid?a5(this,e==="extended",b2(i)):null}toISOWeekDate(){return y_(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:i=!1,includeOffset:r=!0,includePrefix:s=!1,extendedZone:n=!1,format:o="extended",precision:l="milliseconds"}={}){return this.isValid?(l=b2(l),(s&&w2.indexOf(l)>=3?"T":"")+yL(this,o==="extended",i,e,r,n,l)):null}toRFC2822(){return y_(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return y_(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?a5(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:i=!1,includeOffsetSpace:r=!0}={}){let s="HH:mm:ss.SSS";return(i||e)&&(r&&(s+=" "),i?s+="z":e&&(s+="ZZ")),y_(this,s,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():s5}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const i={...this.c};return e.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,i="milliseconds",r={}){if(!this.isValid||!e.isValid)return wt.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...r},n=ofe(i).map(wt.normalizeUnit),o=e.valueOf()>this.valueOf(),l=o?this:e,c=o?e:this,d=ume(l,c,n,s);return o?d.negate():d}diffNow(e="milliseconds",i={}){return this.diff(be.now(),e,i)}until(e){return this.isValid?wi.fromDateTimes(this,e):this}hasSame(e,i,r){if(!this.isValid)return!1;const s=e.valueOf(),n=this.setZone(e.zone,{keepLocalTime:!0});return n.startOf(i,r)<=s&&s<=n.endOf(i,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const i=e.base||be.fromObject({},{zone:this.zone}),r=e.padding?this<i?-e.padding:e.padding:0;let s=["years","months","days","hours","minutes","seconds"],n=e.unit;return Array.isArray(e.unit)&&(s=e.unit,n=void 0),wL(i,this.plus(r),{...e,numeric:"always",units:s,unit:n})}toRelativeCalendar(e={}){return this.isValid?wL(e.base||be.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(be.isDateTime))throw new Ur("min requires all arguments be DateTimes");return nL(e,i=>i.valueOf(),Math.min)}static max(...e){if(!e.every(be.isDateTime))throw new Ur("max requires all arguments be DateTimes");return nL(e,i=>i.valueOf(),Math.max)}static fromFormatExplain(e,i,r={}){const{locale:s=null,numberingSystem:n=null}=r,o=At.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0});return _H(o,e,i)}static fromStringExplain(e,i,r={}){return be.fromFormatExplain(e,i,r)}static buildFormatParser(e,i={}){const{locale:r=null,numberingSystem:s=null}=i,n=At.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0});return new bH(n,e)}static fromFormatParser(e,i,r={}){if(He(e)||He(i))throw new Ur("fromFormatParser requires an input string and a format parser");const{locale:s=null,numberingSystem:n=null}=r,o=At.fromOpts({locale:s,numberingSystem:n,defaultToEN:!0});if(!o.equals(i.locale))throw new Ur(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${i.locale}`);const{result:l,zone:c,specificOffset:d,invalidReason:m}=i.explainFromTokens(e);return m?be.invalid(m):Sf(l,c,r,`format ${i.format}`,e,d)}static get DATE_SHORT(){return ex}static get DATE_MED(){return $G}static get DATE_MED_WITH_WEEKDAY(){return Ipe}static get DATE_FULL(){return MG}static get DATE_HUGE(){return EG}static get TIME_SIMPLE(){return AG}static get TIME_WITH_SECONDS(){return OG}static get TIME_WITH_SHORT_OFFSET(){return kG}static get TIME_WITH_LONG_OFFSET(){return CG}static get TIME_24_SIMPLE(){return RG}static get TIME_24_WITH_SECONDS(){return IG}static get TIME_24_WITH_SHORT_OFFSET(){return PG}static get TIME_24_WITH_LONG_OFFSET(){return jG}static get DATETIME_SHORT(){return NG}static get DATETIME_SHORT_WITH_SECONDS(){return DG}static get DATETIME_MED(){return LG}static get DATETIME_MED_WITH_SECONDS(){return VG}static get DATETIME_MED_WITH_WEEKDAY(){return Ppe}static get DATETIME_FULL(){return FG}static get DATETIME_FULL_WITH_SECONDS(){return zG}static get DATETIME_HUGE(){return UG}static get DATETIME_HUGE_WITH_SECONDS(){return qG}}function C0(t){if(be.isDateTime(t))return t;if(t&&t.valueOf&&Rc(t.valueOf()))return be.fromJSDate(t);if(t&&typeof t=="object")return be.fromObject(t);throw new Ur(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const Ome="HH:mm",kme="HH:mm:ss",Cme="HH:mm:ss.SSS",Rme=[Cme,kme,Ome,"TT"],Ime="yyyy-MM-dd";function _L(t){if(!t||!Mw(t))return null;const e=be.fromFormat(t,Ime);return e.isValid?e:null}function SL(t){return t&&Mw(t)?phe(Rme,e=>{const i=be.fromFormat(t,e);return i.isValid?i:null})??null:null}function xL(t){if(!t||!Mw(t))return null;const e=be.fromISO(t);return e.isValid?e:null}const $H=new Set(["integer","small-integer","long","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"]);function Pme(t){return t!=null&&$H.has(t.type)}function MH(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function EH(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function AH(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}const jme=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]);QC($H,jme);function yNe(t,e){const i=t==null?void 0:t.domain;if(!i||i.type!=="range")return;const r="range"in i?i.range[0]:i.minValue,s="range"in i?i.range[1]:i.maxValue,n=Pme(t);return MH(t)||AH(t)||EH(t)?{...Nme(t,s,r),isInteger:n}:{min:r!=null&&typeof r=="number"?r:null,max:s!=null&&typeof s=="number"?s:null,rawMin:r,rawMax:s,isInteger:n}}function Nme(t,e,i){var r,s,n,o,l,c;return MH(t)?{min:(r=_L(i))==null?void 0:r.toMillis(),max:(s=_L(e))==null?void 0:s.toMillis(),rawMin:i,rawMax:e}:AH(t)?{min:(n=SL(i))==null?void 0:n.toMillis(),max:(o=SL(e))==null?void 0:o.toMillis(),rawMin:i,rawMax:e}:EH(t)?{min:(l=xL(i))==null?void 0:l.toMillis(),max:(c=xL(e))==null?void 0:c.toMillis(),rawMin:i,rawMax:e}:{max:null,min:null}}function Dme(t){if(!t)return;const e=t.match(Lme);return e!=null&&e.groups?e.groups.doubleQuoted??e.groups.singleQuoted??e.groups.dotNotation:void 0}const Lme=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-z_][a-z0-9_]*))$/i;function Vme(t){var e,i;return((i=(e=t.match(Fme))==null?void 0:e[1])==null?void 0:i.replaceAll("\\'","'"))??null}const Fme=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;let l5;function jy(){return l5||(l5=(async()=>{const[t,e,i]=await Promise.all([te(()=>import("./arcadeUtils-vqoq0LIh.js"),__vite__mapDeps([2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,16,17,18,19,20])),te(()=>import("./batchExec-Dy3lQLHc.js"),__vite__mapDeps([21,22])),te(()=>import("./aiServices-hCBlM7qs.js").then(r=>r.a),__vite__mapDeps([14,5,6,7,8,15,4]))]);return{arcade:t.arcade,arcadeUtils:t,batchExec:e,aiServices:i,Dictionary:t.Dictionary,Feature:t.arcadeFeature,Voxel:t.Voxel,Pixel:t.Pixel}})()),l5}const zme=/^([0-9_])/,Ume=/[^a-z0-9_\u0080-\uffff]+/gi;function qme(t){return t==null?null:t.trim().replaceAll(Ume,"_").replace(zme,"F$1")||null}const Bme=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],Gme=["field","normalizationField"];function TL(t,e){if(t!=null&&e!=null){for(const i of Array.isArray(t)?t:[t])if($L(Bme,i,e),"visualVariables"in i&&i.visualVariables)for(const r of i.visualVariables)$L(Gme,r,e)}}function $L(t,e,i){if(t)for(const r of t){const s=Qx(r,e),n=s&&typeof s!="function"&&i.get(s);n&&bs(r,n.name,e)}}function OH(t,e){var i;if(t!=null&&((i=e==null?void 0:e.fields)!=null&&i.length))if("startField"in t){const r=e.get(t.startField),s=e.get(t.endField);t.startField=(r==null?void 0:r.name)??null,t.endField=(s==null?void 0:s.name)??null}else{const r=e.get(t.startTimeField),s=e.get(t.endTimeField);t.startTimeField=(r==null?void 0:r.name)??null,t.endTimeField=(s==null?void 0:s.name)??null}}const u5=new Set;function dT(t,e){return t&&e?(u5.clear(),F1(u5,t,e),Array.from(u5).sort()):[]}function F1(t,e,i){var r;if(i)if((r=e==null?void 0:e.fields)!=null&&r.length)if(i.includes("*"))for(const{name:s}of e.fields)t.add(s);else for(const s of i)qs(t,e,s);else{if(i.includes("*"))return t.clear(),void t.add("*");for(const s of i)s!=null&&t.add(s)}}function qs(t,e,i){if(typeof i=="string")if(e){const r=e.get(i);r&&t.add(r.name)}else t.add(i)}function gNe(t,e){return e==null||t==null?[]:e.includes("*")?(t.fields??[]).map(i=>i.name):e}function vNe(t,e,i=1){if(!e||!t)return[];if(e.includes("*"))return["*"];const r=dT(t,e);return r.length/t.fields.length>=i?["*"]:r}async function Ss(t,e,i,r){var n;if(!r)return;const s=Dme(r);if(s)qs(t,e,s);else{const{arcadeUtils:o}=await jy(),l=o.extractFieldNames(r,(i==null?void 0:i.partitions)??((n=e==null?void 0:e.fields)==null?void 0:n.map(c=>c.name)));for(const c of l)qs(t,(i==null?void 0:i.index)??e,c)}}async function mR(t,e,i){if(i&&i!=="1=1"){const r=await xG(i,e);if(!r.isStandardized)throw new B("fieldUtils:collectFilterFields","Where clause is not standardized",{where:i});F1(t,e,r.fieldNames)}}function Hme({displayField:t,fields:e}){return t||(e!=null&&e.length?Wme(e):null)}function Wme(t){return c5(t,"name-or-title")||c5(t,"unique-identifier")||c5(t,"type-or-category")||Zme(t)}function Zme(t){for(const e of t){if(!(e!=null&&e.name))continue;const i=e.name.toLowerCase();if(i.includes("name")||i.includes("title"))return e.name}return null}function c5(t,e){for(const i of t)if(i!=null&&i.valueType&&i.valueType===e)return i.name;return null}async function wNe(t,e){var r;if(!e)return;const i=(r=e.elevationInfo)==null?void 0:r.featureExpressionInfo;return i?i.collectRequiredFields(t,e.fieldsIndex):void 0}function Yme(t,e,i){i.onStatisticExpression?Ss(t,e,null,i.onStatisticExpression.expression):t.add(i.onStatisticField)}async function bNe(t,e,i){if(!e||!i||!("fields"in i))return;const r=[],s=i.popupTemplate;r.push(kH(t,e,s)),i.fields&&r.push(...i.fields.map(async n=>Yme(t,e.fieldsIndex,n))),await Promise.all(r)}async function _Ne(t,e){var n,o,l;const{fieldsIndex:i,trackInfo:r}=e;if(!e||!r||!i)return;const s=[(n=r.latestObservations.renderer)==null?void 0:n.collectRequiredFields(t,i),(o=r.previousObservations.renderer)==null?void 0:o.collectRequiredFields(t,i),(l=r.trackLines.renderer)==null?void 0:l.collectRequiredFields(t,i)];r.popupTemplate&&s.push(kH(t,e,r.popupTemplate));for(const c of[r.latestObservations.labelingInfo,r.previousObservations.labelingInfo,r.trackLines.labelingInfo])if(c)for(const d of c)s.push(IH(t,i,d));await Promise.all(s)}async function kH(t,e,i){const r=[];i!=null&&i.expressionInfos&&r.push(...i.expressionInfos.map(n=>Ss(t,e.fieldsIndex,null,n.expression)));const s=i==null?void 0:i.content;if(Array.isArray(s))for(const n of s)n.type==="expression"&&n.expressionInfo&&r.push(Ss(t,e.fieldsIndex,null,n.expressionInfo.expression));await Promise.all(r)}async function SNe(t,e,i){e&&(e.timeInfo&&(i!=null&&i.timeExtent)&&F1(t,e.fieldsIndex,[e.timeInfo.startField,e.timeInfo.endField]),e.floorInfo&&F1(t,e.fieldsIndex,[e.floorInfo.floorField]),(i==null?void 0:i.where)!=null&&await mR(t,e.fieldsIndex,i.where))}async function xNe(t,e,i){e&&i&&await Promise.all(i.map(r=>Jme(t,e,r)))}async function Jme(t,e,i){e&&i&&(i.valueExpression?await Ss(t,e.fieldsIndex,null,i.valueExpression):i.field&&qs(t,e.fieldsIndex,i.field))}function TNe(t){return t?dT(t.fieldsIndex,CH(t)):[]}function Kme(t){if(!t)return[];const e=t.geometryFieldsInfo;return e?dT(t.fieldsIndex,[e.shapeAreaField,e.shapeLengthField]):[]}async function $Ne(t,e,i){if(!e||!i)return;const r=e.fieldsIndex;await Promise.all(i.filters.map(s=>mR(t,r,s.where)))}const Xme=new Set(["oid","global-id","guid"]),Qme=new Set(["oid","global-id"]),eye=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/objectid/i,/^perimeter_/i,/_perimeter$/i,/_i$/i];function tye(t){const e=new Set;RH(t).forEach(r=>e.add(r)),Kme(t).forEach(r=>e.add(r.toLowerCase()));const i=t&&"infoFor3D"in t?t.infoFor3D:void 0;return i&&(Object.values(i.assetMapFieldRoles).forEach(r=>e.add(r.toLowerCase())),Object.values(i.transformFieldRoles).forEach(r=>e.add(r.toLowerCase()))),Array.from(e)}function CH(t){if(!t)return[];const e="editFieldsInfo"in t&&t.editFieldsInfo;if(!e)return[];const{creationDateField:i,creatorField:r,editDateField:s,editorField:n}=e;return[i,r,s,n].filter(Boolean)}function RH(t){return CH(t).map(e=>e.toLowerCase())}function iye(t,e){var i;return t.editable&&!Xme.has(t.type)&&!RH(e).includes(((i=t.name)==null?void 0:i.toLowerCase())??"")}function rye(t,e){var r;const i=((r=t.name)==null?void 0:r.toLowerCase())??"";return!((e==null?void 0:e.objectIdField)!=null&&i===e.objectIdField.toLowerCase()||(e==null?void 0:e.globalIdField)!=null&&i===e.globalIdField.toLowerCase()||tye(e).includes(i)||Qme.has(t.type)||eye.some(s=>s.test(i)))}async function MNe(t,e){const{labelingInfo:i,fieldsIndex:r}=e;i!=null&&i.length&&await Promise.all(i.map(s=>IH(t,r,s)))}async function IH(t,e,i){if(!i)return;const r=i.getLabelExpression(),s=i.where;if(r.type==="arcade")await Ss(t,e,null,r.expression);else{const n=r.expression.match(/{[^}]*}/g);n&&n.forEach(o=>{qs(t,e,o.slice(1,-1))})}await mR(t,e,s)}function sye(t){const e=t.defaultValue;return e!==void 0&&jH(t,e)?e:t.nullable?null:void 0}function ENe(t){const e=typeof t=="string"?{type:t}:t;return DH(e)?255:e.type==="esriFieldTypeDate"||e.type==="date"?8:void 0}function PH(t){return typeof t=="number"&&!isNaN(t)&&isFinite(t)}function nye(t){return t===null||PH(t)}function oye(t){return t===null||Number.isInteger(t)}function aye(){return!0}function jH(t,e){let i;switch(t.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":i=t.nullable?oye:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=t.nullable?nye:PH;break;case"string":case"esriFieldTypeString":i=t.nullable?Ope:Mw;break;default:i=aye}return arguments.length===1?i:i(e)}const lye=["integer","small-integer","big-integer","long"],uye=["single","double"],cye=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"],hye=["esriFieldTypeSingle","esriFieldTypeDouble"],NH=new Set([...lye,...cye]),dye=new Set([...uye,...hye]),pye=QC(NH,dye);function fye(t){return t!=null&&NH.has(t.type)}function yR(t){return t!=null&&pye.has(t.type)}function DH(t){return t!=null&&(t.type==="string"||t.type==="esriFieldTypeString")}function LH(t){return t!=null&&(t.type==="date"||t.type==="esriFieldTypeDate")}function mye(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function yye(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function VH(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}function ML(t){return t!=null&&(t.type==="oid"||t.type==="esriFieldTypeOID")}function EL(t){return t!=null&&(t.type==="global-id"||t.type==="esriFieldTypeGlobalID")}function ANe(t,e){return gye(t,e)===null}function ONe(t){return t==null||typeof t=="number"&&isNaN(t)?null:t}function gye(t,e){return t==null||t.nullable&&e===null?null:jH(t,e)?yR(t)&&!vye(t.type,Number(e))?"numeric-range-validation-error::out-of-range":null:"type-validation-error::invalid-type"}function vye(t,e){const i=typeof t=="string"?FH(t):t;if(!i)return!1;const r=i.min,s=i.max;return i.isInteger?Number.isInteger(e)&&e>=r&&e<=s:e>=r&&e<=s}function FH(t){switch(t){case"esriFieldTypeSmallInteger":case"small-integer":return wye;case"esriFieldTypeInteger":case"esriFieldTypeLong":case"integer":case"long":return bye;case"esriFieldTypeBigInteger":case"big-integer":return _ye;case"esriFieldTypeSingle":case"single":return Sye;case"esriFieldTypeDouble":case"double":return xye}}const wye={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},bye={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},_ye={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},AL=(2-2**-23)*2**127,Sye={min:-34028234663852886e22,max:AL,isInteger:!1,rawMin:-34028234663852886e22,rawMax:AL},xye={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function kNe(t,e,i){switch(t){case"domain-validation-error::invalid-coded-value":return`Value ${i} is not in the coded domain - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case"domain-validation-error::value-out-of-range":return`Value ${i} is out of the range of valid values - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case"type-validation-error::invalid-type":return`Value ${i} is not a valid value for the field type - field: ${e.name}, type: ${e.type}, nullable: ${e.nullable}`;case"numeric-range-validation-error::out-of-range":{const{min:r,max:s}=FH(e.type);return`Value ${i} is out of range for the number type - field: ${e.name}, type: ${e.type}, value range is ${r} to ${s}`}}}function CNe(t,e){return!Tye(t,e,null)}function Tye(t,e,i){if(!(t!=null&&t.attributes)||!e)return!0;const r=new Set(Object.keys(t.attributes));let s=!1;for(const n of e)if(!r.has(n)&&(s=!0,i==null))break;return s}function $ye(t){return!!t&&["raster.itempixelvalue","raster.servicepixelvalue"].some(e=>t.toLowerCase().startsWith(e))}function Mye(t){const e=t==null?void 0:t.match(/{[^}]+}/g);return e?e.map(i=>i.slice(1,-1).split(":")[0].trim()):[]}let _2=class extends ae{constructor(e){super(e),this.type=null}};h([f({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],_2.prototype,"type",void 0),_2=h([I("esri.popup.content.Content")],_2);const du=_2;let ct=class{constructor(e,i={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=e,this._options=i,this.apiValues=[],this.jsonValues=[],this._apiToJSON=Eye(e),this.apiValues=OL(this._apiToJSON),this.jsonValues=OL(this._jsonToAPI),this.read=r=>this.fromJSON(r),this.write=(r,s,n)=>{const o=this.toJSON(r);o!==void 0&&bs(n,o,s)},this.write.isJSONMapWriter=!0}toJSON(e){if(e==null)return null;if(this._apiToJSON.hasOwnProperty(e)){const i=this._apiToJSON[e];return this._options.useNumericKeys?+i:i}return this._options.ignoreUnknown?null:e}fromJSON(e){return e!=null&&this._jsonToAPI.hasOwnProperty(e)?this._jsonToAPI[e]:this._options.ignoreUnknown?void 0:e}};function Eye(t){const e={};for(const i in t)e[t[i]]=i;return e}function OL(t){const e=[];for(const i in t)e.push(i);return e.sort(),e}function wr(){return function(t,e){return new ct(t,{ignoreUnknown:!0,...e})}}const g_=new ct({asc:"ascending",desc:"descending"});let ov=class extends rt(ae){constructor(e){super(e),this.field=null,this.order="ascending"}};h([f({type:String,json:{write:!0}})],ov.prototype,"field",void 0),h([f({type:g_.apiValues,json:{type:g_.jsonValues,read:g_.read,write:g_.write}})],ov.prototype,"order",void 0),ov=h([I("esri.popup.support.AttachmentsOrderByInfo")],ov);const Aye=ov;let pa=class extends rt(du){constructor(e){super(e),this.attachmentKeywords=null,this.attachmentTypes=null,this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};h([f({type:[String],json:{write:!0}})],pa.prototype,"attachmentKeywords",void 0),h([f({type:[["application","audio","image","model","text","video"]],json:{write:!0}})],pa.prototype,"attachmentTypes",void 0),h([f({type:String,json:{write:!0}})],pa.prototype,"description",void 0),h([f({type:["auto","preview","list"],json:{write:!0}})],pa.prototype,"displayType",void 0),h([f({type:[Aye],json:{write:!0}})],pa.prototype,"orderByFields",void 0),h([f({type:String,json:{write:!0}})],pa.prototype,"title",void 0),h([f({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],pa.prototype,"type",void 0),pa=h([I("esri.popup.content.AttachmentsContent")],pa);const Ny=pa;var gA;let Zh=gA=class extends du{constructor(t){super(t),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new gA({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?G(this.outFields):null})}};h([f()],Zh.prototype,"creator",void 0),h([f()],Zh.prototype,"destroyer",void 0),h([f()],Zh.prototype,"outFields",void 0),h([f({type:["custom"],readOnly:!0})],Zh.prototype,"type",void 0),Zh=gA=h([I("esri.popup.content.CustomContent")],Zh);const Oye=Zh;var vA;let Lf=vA=class extends ae{constructor(t){super(t),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new vA({title:this.title,expression:this.expression})}};h([f({type:String,json:{write:!0}})],Lf.prototype,"title",void 0),h([f({type:String,json:{write:!0}})],Lf.prototype,"expression",void 0),h([f({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Lf.prototype,"returnType",void 0),Lf=vA=h([I("esri.popup.ElementExpressionInfo")],Lf);const kye=Lf;var wA;let av=wA=class extends du{constructor(t){super(t),this.expressionInfo=null,this.type="expression"}clone(){var t;return new wA({expressionInfo:(t=this.expressionInfo)==null?void 0:t.clone()})}};h([f({type:kye,json:{write:!0}})],av.prototype,"expressionInfo",void 0),h([f({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],av.prototype,"type",void 0),av=wA=h([I("esri.popup.content.ExpressionContent")],av);const pT=av;function ke(t,e={}){const i=t instanceof ct?t:new ct(t,e),{alwaysWriteDefaults:r,default:s,ignoreUnknown:n=!0,name:o,nonNullable:l,readOnly:c=!1}=e;return f({type:n?i.apiValues:String,json:{type:i.jsonValues,default:s,name:o,read:!c&&{reader:i.read},write:{writer:i.write,alwaysWriteDefaults:r}},nonNullable:l,readOnly:c})}let S2=class extends rt(ae){constructor(e){super(e),this.type=null}};h([f({type:["date-time","number"],nonNullable:!0,readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],S2.prototype,"type",void 0),S2=h([I("esri.layers.support.FieldFormat")],S2);const gR=S2,zH="auto";let gl=class extends gR{constructor(e){super(e),this.dateStyle=null,this.hour12=zH,this.month=null,this.timeStyle=null,this.type="date-time",this.year=null}};h([f({type:["full","long","medium","short"],json:{write:!0}})],gl.prototype,"dateStyle",void 0),h([f({type:["always","auto","never"],nonNullable:!0,json:{default:zH,write:!0}})],gl.prototype,"hour12",void 0),h([f({type:["long","short"],json:{write:!0}})],gl.prototype,"month",void 0),h([f({type:["full","long","medium","short"],json:{write:!0}})],gl.prototype,"timeStyle",void 0),h([f({type:["date-time"]})],gl.prototype,"type",void 0),h([f({type:["numeric"],json:{write:!0}})],gl.prototype,"year",void 0),gl=h([I("esri.layers.support.DateTimeFieldFormat")],gl);const Bd=gl,kL={min:0,max:20},UH=2,qH=0,BH="decimal",GH="auto";let Ju=class extends gR{constructor(e){super(e),this.maximumFractionDigits=UH,this.minimumFractionDigits=qH,this.style=BH,this.type="number",this.useGrouping=GH}};h([f({type:ot,nonNullable:!0,range:kL,json:{default:UH,write:!0}})],Ju.prototype,"maximumFractionDigits",void 0),h([f({type:ot,nonNullable:!0,range:kL,json:{default:qH,write:!0}})],Ju.prototype,"minimumFractionDigits",void 0),h([f({type:["decimal"],nonNullable:!0,json:{default:BH,write:!0}})],Ju.prototype,"style",void 0),h([f({type:["number"]})],Ju.prototype,"type",void 0),h([f({type:["always","auto","never"],nonNullable:!0,json:{default:GH,write:!0}})],Ju.prototype,"useGrouping",void 0),Ju=h([I("esri.layers.support.NumberFieldFormat")],Ju);const sx=Ju;let Qv;var Cz,Rz;const Cye=((Cz=globalThis.esriConfig)==null?void 0:Cz.locale)??((Rz=globalThis.dojoConfig)==null?void 0:Rz.locale);var Iz;const e1=(Iz=globalThis.document)==null?void 0:Iz.documentElement;function HH(){var i;const t=e1==null?void 0:e1.getAttribute("lang"),e=(i=globalThis.navigator)==null?void 0:i.language;return Cye??t??e??"en"}function Bs(){return Qv===void 0&&(Qv=HH()),Qv}const Rye=/^(?<language>[a-z]{2,3})(?:-(?<extlang>[a-z]{3}))?(?:-[A-Z][a-z]{3})?(?:-(?<region>[A-Z]{2}|\d{3}))?(?:-.*)?$/;function vR(t=Bs()){var e;return(e=ZH(t))==null?void 0:e.language}function WH(t=Bs()){const e=ZH(t);return e!=null&&e.language&&(e!=null&&e.extlang)?t.replace(`${e.language}-`,""):t}function ZH(t=Bs()){var e;return(e=Rye.exec(t))==null?void 0:e.groups}const x2=[];function YH(t){return x2.push(t),at(()=>{x2.splice(x2.indexOf(t),1)})}const T2=[];function wR(t){return T2.push(t),at(()=>T2.splice(T2.indexOf(t),1))}function CL(){const t=HH();Qv!==t&&([...T2].forEach(e=>e(t)),Qv=t,[...x2].forEach(e=>e(t)))}var Pz;(Pz=globalThis.addEventListener)==null||Pz.call(globalThis,"languagechange",CL),e1&&new MutationObserver(()=>{CL()}).observe(e1,{attributeFilter:["lang"]});const ea="system",Gc="unknown",Hc="UTC",Iye=Intl.DateTimeFormat().resolvedOptions().timeZone,RL=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]),Pye="shortOffset";function jye(t){return"timeZoneIANA"in t}function Nye(t){return t.startsWith("UTC")}function JH(t,e=!1){return{json:{read:{source:t,reader:(i,r)=>r[t]?$2(r[t]):null},write:!!e&&{allowNull:!0,writer(i,r){r[t]=i?Dye(i):null}}}}}function $2(t,e=ea){return t?jye(t)?t.timeZoneIANA:Lye(t,e):e}function Dye(t){return{timeZoneIANA:t}}function Lye(t,e=ea){if(!t||!RL.has(t.timeZone))return e;const i=RL.get(t.timeZone);return Nye(t.timeZone)||t.respectsDaylightSaving?i:Vye(i)}function Vye(t){const e=be.local().setZone(t),i=Math.min(e.set({month:1,day:1}).offset,e.set({month:5}).offset);return i===0?"Etc/UTC":`Etc/GMT${Wi.instance(-i).formatOffset(0,"narrow")}`}function VNe(t,e,i,r,s){if(e&&s==="date")return{timeZone:Hc,timeZoneName:void 0};const n=r.timeStyle||r.hour,o=i===Gc;return{timeZone:o?s==="timestamp-offset"?void 0:t??Hc:i,timeZoneName:o&&n?Pye:void 0}}function Fye(t){const e=new Set(["etc/utc","etc/gmt","gmt"]),i=new Set(Intl.supportedValuesOf("timeZone").map(r=>r.toLowerCase()));return t===ea||t===Gc||e.has(t.toLowerCase())||i.has(t.toLowerCase())}const zye={dateStyle:void 0,year:void 0,month:void 0,day:void 0,weekday:void 0},Uye={timeStyle:void 0,hour12:void 0,hourCycle:void 0,hour:void 0,minute:void 0,second:void 0},KH={timeZone:Hc},ha={year:"numeric",month:"numeric",day:"numeric"},R0={year:"numeric",month:"long",day:"numeric"},I0={year:"numeric",month:"short",day:"numeric"},P0={year:"numeric",month:"long",weekday:"long",day:"numeric"},hc={hour:"numeric",minute:"numeric"},Yh={...hc,second:"numeric"},XH={hourCycle:"h23"},j0={...hc,...XH},N0={...Yh,...XH},QH={"short-date":ha,"short-date-short-time":{...ha,...hc},"short-date-short-time-24":{...ha,...j0},"short-date-long-time":{...ha,...Yh},"short-date-long-time-24":{...ha,...N0},"short-date-le":ha,"short-date-le-short-time":{...ha,...hc},"short-date-le-short-time-24":{...ha,...j0},"short-date-le-long-time":{...ha,...Yh},"short-date-le-long-time-24":{...ha,...N0},"long-month-day-year":R0,"long-month-day-year-short-time":{...R0,...hc},"long-month-day-year-short-time-24":{...R0,...j0},"long-month-day-year-long-time":{...R0,...Yh},"long-month-day-year-long-time-24":{...R0,...N0},"day-short-month-year":I0,"day-short-month-year-short-time":{...I0,...hc},"day-short-month-year-short-time-24":{...I0,...j0},"day-short-month-year-long-time":{...I0,...Yh},"day-short-month-year-long-time-24":{...I0,...N0},"long-date":P0,"long-date-short-time":{...P0,...hc},"long-date-short-time-24":{...P0,...j0},"long-date-long-time":{...P0,...Yh},"long-date-long-time-24":{...P0,...N0},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":hc,"long-time":Yh},qye=wr()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),eW={ar:"ar-u-nu-latn-ca-gregory",nn:"no-NN"},Bye=new Intl.DateTimeFormat("bs",{month:"long"}).formatToParts(new Date(2025,2));var jz;const Gye=(jz=Bye.find(({type:t})=>t==="month"))==null?void 0:jz.value.toLowerCase();function tW(){const t=vR();return(t&&eW[t])??WH()}Gye!=="mart"&&(eW.bs="sr-Latn-CS");let bA=new WeakMap;const fT=QH["short-date-short-time"];function Hye(t){let e=bA.get(t);if(!e){const i=tW(),r=_R(t.timeZone??ea),s={...t,timeZone:r};e=new Intl.DateTimeFormat(i,s),bA.set(t,e)}return e}function FNe(t){return QH[t]}function zNe(t){const{dateStyle:e,timeStyle:i,hour12:r,year:s,month:n}=t,o={};return e?o.dateStyle=e:s&&(o.year=s,o.month=n||void 0),i&&!o.year&&(o.timeStyle=i,o.hour12=r==="auto"?void 0:r==="always"),o}function bR(t,e=fT){return Hye(e).format(t)}function UNe(t,e=fT){return bR(new Date(t),{...e,...KH,...Uye})}function qNe(t,e=fT){return bR(new Date(`1970-01-01T${t}Z`),{...e,...KH,...zye})}function BNe(t,e=fT){if(e.timeZone)return bR(new Date(t),e);const i=be.fromISO(t,{setZone:!0}),r=i.offset===0?Hc:e.timeZone,s={...e,timeZone:r};return i.toLocaleString(s,{locale:tW()})}function _R(t){switch(t){case ea:return Iye;case Gc:return Hc;default:return t}}wR(()=>{bA=new WeakMap});let Vf=class extends rt(ae){constructor(e){super(e),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};h([ke(qye)],Vf.prototype,"dateFormat",void 0),h([f({type:Boolean,json:{write:!0}})],Vf.prototype,"digitSeparator",void 0),h([f({type:ot,json:{write:!0}})],Vf.prototype,"places",void 0),Vf=h([I("esri.popup.support.FieldInfoFormat")],Vf);const ru=Vf,Wye={base:gR,key:"type",errorContext:"field-configuration-field-format",typeMap:{"date-time":Bd,number:sx}};function HNe(t,e){const{format:i}=t;return e&&mT(e)?i?iW(i,e):M2(e,{hour12:"always",useGrouping:"always"}):null}function iW(t,e){const{dateFormat:i}=t;if(!e)return i?PL(t):IL(t);if(!mT(e))return;const r={hour12:"always"};switch(e.type){case"integer":case"small-integer":case"big-integer":case"long":return rW(t);case"single":case"double":return IL(t);case"date":case"timestamp-offset":return i?PL(t):M2(e,r);case"date-only":return i?Zye(t):M2(e);case"time-only":return i?Yye(t):M2(e,r)}}function mT(t){return yR(t)||LH(t)||mye(t)||VH(t)||yye(t)}function rW(t){return new sx({useGrouping:t.digitSeparator?"always":"never"})}function IL(t){const e=rW(t),{places:i}=t;return e.minimumFractionDigits=i??0,e.maximumFractionDigits=i??2,e}function PL(t){return new Bd({dateStyle:sW(t),year:lW(t),month:oW(t),timeStyle:aW(t),hour12:nW(t)})}function Zye(t){return new Bd({dateStyle:sW(t),year:lW(t),month:oW(t)})}function Yye(t){return new Bd({timeStyle:aW(t),hour12:nW(t)})}function sW(t){const{dateFormat:e}=t;return e?e.startsWith("short-date")?"short":e.startsWith("day-short-month-year")?"medium":e.startsWith("long-month-day-year")?"long":e.startsWith("long-date")?"full":null:null}function nW(t){var e;return(e=t.dateFormat)!=null&&e.endsWith("-24")?"never":"always"}function oW(t){switch(t.dateFormat){case"short-month-year":return"short";case"long-month-year":return"long";default:return null}}function aW(t){const{dateFormat:e}=t;return e?e.includes("short-time")?"short":e.includes("long-time")?"medium":null:null}function lW(t){switch(t.dateFormat){case"short-month-year":case"long-month-year":case"year":return"numeric";default:return null}}function Jye(t,e){const i=t.type==="number",r=t.type==="date-time";if(!e)return i?jL(t):r?NL(t):null;if(mT(e))switch(e.type){case"integer":case"small-integer":case"big-integer":case"long":return i?uW(t):null;case"single":case"double":return i?jL(t):null;case"date":case"timestamp-offset":return r?NL(t):null;case"date-only":return r?Kye(t):null;case"time-only":return r?Xye(t):null}}function uW(t){return new ru({digitSeparator:t.useGrouping!=="never"})}function jL(t){const e=uW(t);return e.places=t.maximumFractionDigits,e}function NL(t){let e;const i=cW(t),r=hW(t),s=t.hour12==="never"?"24":null,n=t.year==="numeric"?"year":null,o=dW(t);return i&&r&&s?e=`${i}-${r}-${s}`:i&&r?e=`${i}-${r}`:i?e=i:n&&o?e=`${o}-${n}`:n&&(e=n),e?new ru({dateFormat:e}):null}function Kye(t){let e;const i=cW(t),r=t.year==="numeric"?"year":null,s=dW(t);return i?e=i:r&&s?e=`${s}-${r}`:r&&(e=r),e?new ru({dateFormat:e}):null}function Xye(t){let e;const i=hW(t),r=t.hour12==="never"?"24":null;return i&&r?e=`short-date-${i}-${r}`:i&&(e=`short-date-${i}`),e?new ru({dateFormat:e}):null}function cW(t){switch(t.dateStyle){case"short":return"short-date";case"medium":return"day-short-month-year";case"long":return"long-month-day-year";case"full":return"long-date";default:return}}function hW(t){return t.timeStyle&&(t.timeStyle==="short"?"short-time":"long-time")}function dW(t){switch(t.month){case"short":return"short-month";case"long":return"long-month";default:return}}function M2(t,e){if(!mT(t))return;const i=(e==null?void 0:e.useGrouping)??"auto",r=(e==null?void 0:e.hour12)??"auto";switch(t.type){case"integer":case"small-integer":case"big-integer":case"long":return new sx({minimumFractionDigits:0,maximumFractionDigits:0,useGrouping:i});case"single":case"double":return new sx({minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:i});case"date":case"timestamp-offset":return new Bd({dateStyle:"short",timeStyle:"short",hour12:r});case"date-only":return new Bd({dateStyle:"short"});case"time-only":return new Bd({timeStyle:"short",hour12:r})}}let nn=class extends rt(ae){constructor(e){super(e),this.fieldName=null,this.isEditable=!0,this.label=null,this.statisticType=null,this.stringFieldOption="text-box",this.tooltip=null,this.visible=!0}set fieldFormat(e){this._set("fieldFormat",e),this._set("format",e?Jye(e):null)}set format(e){this._set("format",e),this._set("fieldFormat",e?iW(e):null)}readFormat(e,i){if(!i.fieldFormat)return e?ru.fromJSON(e):null}clone(){var i,r;const e=super.clone();return e._set("format",(i=this.format)==null?void 0:i.clone()),e._set("fieldFormat",(r=this.fieldFormat)==null?void 0:r.clone()),e}};h([f({value:null,clonable:!1,types:Wye,json:{write:{overridePolicy(t,e,i){const{fieldName:r}=this;return{enabled:!!r&&!r.startsWith("expression/")&&!r.startsWith("relationships/")&&!!(i!=null&&i.writeFieldFormat)}}}}})],nn.prototype,"fieldFormat",null),h([f({type:String,json:{write:!0}})],nn.prototype,"fieldName",void 0),h([f({value:null,clonable:!1,type:ru,json:{write:!0}})],nn.prototype,"format",null),h([Ie("format")],nn.prototype,"readFormat",null),h([f({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],nn.prototype,"isEditable",void 0),h([f({type:String,json:{write:!0}})],nn.prototype,"label",void 0),h([f({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],nn.prototype,"statisticType",void 0),h([ke(new ct({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],nn.prototype,"stringFieldOption",void 0),h([f({type:String,json:{write:!0}})],nn.prototype,"tooltip",void 0),h([f({type:Boolean,json:{write:!0}})],nn.prototype,"visible",void 0),nn=h([I("esri.popup.FieldInfo")],nn);const SR=nn;var _A;let Ku=_A=class extends du{constructor(t){super(t),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}clone(){return new _A(G({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};h([f({type:Object,json:{write:!0}})],Ku.prototype,"attributes",void 0),h([f({type:String,json:{write:!0}})],Ku.prototype,"description",void 0),h([f({type:[SR],json:{write:!0}})],Ku.prototype,"fieldInfos",void 0),h([f({type:String,json:{write:!0}})],Ku.prototype,"title",void 0),h([f({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Ku.prototype,"type",void 0),Ku=_A=h([I("esri.popup.content.FieldsContent")],Ku);const Dy=Ku;let Jh=class extends ae{constructor(e){super(e),this.altText=null,this.caption="",this.title="",this.type=null}};h([f({type:String,json:{write:!0}})],Jh.prototype,"altText",void 0),h([f({type:String,json:{write:!0}})],Jh.prototype,"caption",void 0),h([f({type:String,json:{write:!0}})],Jh.prototype,"title",void 0),h([f({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Jh.prototype,"type",void 0),Jh=h([I("esri.popup.content.mixins.MediaInfo")],Jh);const xR=Jh,nx={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function pW(t){return!!nx[t]||!!nx[t.toLowerCase()]}function TR(t){return nx[t]??nx[t.toLowerCase()]}function Qye(t){return[...TR(t)]}function h5(t,e,i){i<0&&++i,i>1&&--i;const r=6*i;return r<1?t+(e-t)*r:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function fW(t,e,i,r=1){const s=(t%360+360)%360/360,n=i<=.5?i*(e+1):i+e-i*e,o=2*i-n;return[Math.round(255*h5(o,n,s+1/3)),Math.round(255*h5(o,n,s)),Math.round(255*h5(o,n,s-1/3)),r]}function ege(t){const e=t.length>5,i=e?8:4,r=(1<<i)-1,s=e?1:17,n=e?t.length===9:t.length===5;let o=+("0x"+t.slice(1));if(isNaN(o))return null;const l=[0,0,0,1];let c;return n&&(c=o&r,o>>=i,l[3]=s*c/255),c=o&r,o>>=i,l[2]=s*c,c=o&r,o>>=i,l[1]=s*c,c=o&r,o>>=i,l[0]=s*c,l}function mW(t){if(!t.startsWith("#")||isNaN(+`0x${t.slice(1)}`))return null;switch(t.length){case 4:case 5:{const e=parseInt(t.slice(1,2),16),i=parseInt(t.slice(2,3),16),r=parseInt(t.slice(3,4),16),s=t.length===4?15:parseInt(t.slice(4),16);return[e+16*e,i+16*i,r+16*r,(s+16*s)/255]}case 7:case 9:return[parseInt(t.slice(1,3),16),parseInt(t.slice(3,5),16),parseInt(t.slice(5,7),16),(t.length===7?255:parseInt(t.slice(7),16))/255];default:return null}}function yW(t){const e=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(e){const i=e[2].split(/\s*,\s*/),r=e[1];if(r==="rgb"&&i.length===3||r==="rgba"&&i.length===4){if(i[0].endsWith("%")){const s=i.map(n=>2.56*parseFloat(n));return i.length===4&&(s[3]=parseFloat(i[3])),DL(s)}return DL(i.map(s=>parseFloat(s)))}if(r==="hsl"&&i.length===3||r==="hsla"&&i.length===4)return fW(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3]??"1"))}return null}function DL(t){return t[0]=Im(t[0]),t[1]=Im(t[1]),t[2]=Im(t[2]),t[3]=t.length===4?vW(t[3]):1,t}function gW(t){let e=pW(t)?TR(t):null;return e??(e=yW(t)),e??(e=mW(t)),e}function YNe(t){const e=gW(t);return e!=null?[e[0]/255,e[1]/255,e[2]/255,e[3]]:null}function vW(t){return wW(t,0,1)}function Im(t){return Math.round(wW(t,0,255))}function wW(t,e,i){return t=Number(t),isNaN(t)?i:t<e?e:t>i?i:t}const bW=2.2,tge=1/bW;function JNe(t){return t**bW}function KNe(t){return t**tge}const LL=new Float32Array(1);function XNe(t){--t;for(let e=1;e<32;e<<=1)t|=t>>e;return t+1}function _n(t,e,i){return Math.min(Math.max(t,e),i)}function QNe(t){return!(t&t-1)}function eDe(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}function lv(t,e,i){return t+(e-t)*i}function tDe(t,e,i,r,s){return lv(r,s,(t-e)/(i-e))}function kw(t){return t*Math.PI/180}function _W(t){return 180*t/Math.PI}function iDe(t,e=1e-6){return(t<0?-1:1)/Math.max(Math.abs(t),e)}function rDe(t){return Math.acos(_n(t,-1,1))}function ige(t){return Math.asin(_n(t,-1,1))}function vn(t,e,i=1e-6){return t===e?!0:!Number.isFinite(t)||!Number.isFinite(e)?!1:(t>e?t-e:e-t)<=i}function SW(t,e,i=1e-6){return!vn(t,e,i)&&t>e}function SA(t,e,i=1e-6){return!vn(t,e,i)&&t<e}function rge(t,e,i=1e-6){return vn(t,e,i)||t>e}const ox=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function xA(t){return ox.setFloat64(0,t),ox.getBigInt64(0)}function sge(t){return ox.setBigInt64(0,t),ox.getFloat64(0)}const E2=1000000n,nge=xW(1);function xW(t){const e=xA(t=Math.abs(t)),i=sge(e<=E2?E2:e-E2);return Math.abs(t-i)}function sDe(t,e,i=nge){if(t===e)return!0;if(!Number.isFinite(t)||!Number.isFinite(e))return!1;if(i!=null&&xW(Math.min(Math.abs(t),Math.abs(e)))<i)return Math.abs(t-e)<=i;const r=xA(t),s=xA(e);return r<0!=s<0?!1:!((r<s?s-r:r-s)>E2)}function TW(t,e,i=1e-6){if(t===e)return!0;if(!Number.isFinite(t)||!Number.isFinite(e))return!1;const r=Math.abs(t-e),s=Math.abs(t),n=Math.abs(e);if(t===0||e===0||s<1e-12&&n<1e-12){if(r>.01*i)return!1}else if(r/(s+n)>i)return!1;return!0}function nDe(t){return $W(Math.max(-VL,Math.min(t,VL)))}function $W(t){return LL[0]=t,LL[0]}function oDe(t){const e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[3]*t[3]+t[4]*t[4]+t[5]*t[5],r=t[6]*t[6]+t[7]*t[7]+t[8]*t[8];return!(vn(e,1)&&vn(i,1)&&vn(r,1))}function aDe(t,e){return(t%e+e)%e}const VL=$W(34028234663852886e22);function lDe(t,e,i){if(i===void 0||+i==0)return Math[t](e);if(e=+e,i=+i,isNaN(e)||typeof i!="number"||i%1!=0)return NaN;let r=e.toString().split("e");return r=(e=Math[t](+(r[0]+"e"+(r[1]?+r[1]-i:-i)))).toString().split("e"),+(r[0]+"e"+(r[1]?+r[1]+i:i))}function v_(t){return _n(tR(t),0,255)}function w_(t,e){const i=t.toString(16).padStart(2,"0");return e?i.slice(0,1):i}let Ne=class Fn{static blendColors(e,i,r,s=new Fn){return s.r=Math.round(e.r+(i.r-e.r)*r),s.g=Math.round(e.g+(i.g-e.g)*r),s.b=Math.round(e.b+(i.b-e.b)*r),s.a=e.a+(i.a-e.a)*r,s._sanitize()}static fromRgb(e,i){const r=yW(e);return r?Fn.fromArray(r,i):null}static fromHex(e,i=new Fn){const r=mW(e);return r?Fn.fromArray(r,i):null}static fromArray(e,i=new Fn){return i._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(i.a)&&(i.a=1),i._sanitize()}static fromString(e,i){const r=gW(e);return r?Fn.fromArray(r,i):null}static fromJSON(e){return e!=null?new Fn([e[0],e[1],e[2],(e[3]??255)/255]):void 0}static toUnitRGB(e){return e!=null?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e,i){return e==null?null:(i??(i=[0,0,0,0]),i[0]=e.r/255,i[1]=e.g/255,i[2]=e.b/255,i[3]=e.a!=null?e.a:1,i)}constructor(e){this.r=255,this.g=255,this.b=255,this.a=1,e&&this.setColor(e)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(e){return typeof e=="string"?Fn.fromString(e,this):Array.isArray(e)?Fn.fromArray(e,this):(this._set(e.r??0,e.g??0,e.b??0,e.a??1),e instanceof Fn||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(e){const i=(e==null?void 0:e.capitalize)??!1,r=(e==null?void 0:e.digits)??6,s=r===3||r===4,n=r===4||r===8,o=`#${w_(this.r,s)}${w_(this.g,s)}${w_(this.b,s)}${n?w_(Math.round(255*this.a),s):""}`;return i?o.toUpperCase():o}toCss(e=!1){const i=this.r+", "+this.g+", "+this.b;return e?`rgba(${i}, ${this.a})`:`rgb(${i})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=0){const i=v_(this.r),r=v_(this.g),s=v_(this.b);return e===0||this.a!==1?[i,r,s,v_(255*this.a)]:[i,r,s]}clone(){return new Fn(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return e!=null&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){return this.r=Im(this.r),this.g=Im(this.g),this.b=Im(this.b),this.a=vW(this.a),this}_set(e,i,r,s){this.r=e,this.g=i,this.b=r,this.a=s}};Ne.prototype.declaredClass="esri.Color";var TA;let Kh=TA=class extends $e{constructor(t){super(t),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){var t;return new TA({color:(t=this.color)==null?void 0:t.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};h([f()],Kh.prototype,"color",void 0),h([f()],Kh.prototype,"fieldName",void 0),h([f()],Kh.prototype,"tooltip",void 0),h([f()],Kh.prototype,"value",void 0),Kh=TA=h([I("esri.popup.content.support.ChartMediaInfoValueSeries")],Kh);const oge=Kh;var $A;let Xu=$A=class extends ae{constructor(t){super(t),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new $A({colors:G(this.colors),fields:G(this.fields),normalizeField:this.normalizeField,series:G(this.series),tooltipField:this.tooltipField})}};h([f({type:[Ne],json:{type:[[ot]],write:!0}})],Xu.prototype,"colors",void 0),h([f({type:[String],json:{write:{isRequired:!0}}})],Xu.prototype,"fields",void 0),h([f({type:String,json:{write:!0}})],Xu.prototype,"normalizeField",void 0),h([f({type:[oge],json:{read:!1}})],Xu.prototype,"series",void 0),h([f({type:String,json:{write:!0}})],Xu.prototype,"tooltipField",void 0),Xu=$A=h([I("esri.popup.content.support.ChartMediaInfoValue")],Xu);const age=Xu;let uv=class extends xR{constructor(e){super(e),this.type=null,this.value=void 0}};h([f({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],uv.prototype,"type",void 0),h([f({type:age,json:{write:{isRequired:!0}}})],uv.prototype,"value",void 0),uv=h([I("esri.popup.content.mixins.ChartMediaInfo")],uv);const yT=uv,gT=wr()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var MA;let A2=MA=class extends yT{constructor(t){super(t),this.type="bar-chart"}clone(){var t;return new MA({altText:this.altText,title:this.title,caption:this.caption,value:(t=this.value)==null?void 0:t.clone()})}};h([f({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:gT.write,isRequired:!0}}})],A2.prototype,"type",void 0),A2=MA=h([I("esri.popup.content.BarChartMediaInfo")],A2);const MW=A2;var EA;let O2=EA=class extends yT{constructor(t){super(t),this.type="column-chart"}clone(){var t;return new EA({altText:this.altText,title:this.title,caption:this.caption,value:(t=this.value)==null?void 0:t.clone()})}};h([f({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:gT.write,isRequired:!0}}})],O2.prototype,"type",void 0),O2=EA=h([I("esri.popup.content.ColumnChartMediaInfo")],O2);const EW=O2;var AA;let cv=AA=class extends ae{constructor(t){super(t),this.linkURL=null,this.sourceURL=null}clone(){return new AA({linkURL:this.linkURL,sourceURL:this.sourceURL})}};h([f({type:String,json:{write:!0}})],cv.prototype,"linkURL",void 0),h([f({type:String,json:{write:{isRequired:!0}}})],cv.prototype,"sourceURL",void 0),cv=AA=h([I("esri.popup.content.support.ImageMediaInfoValue")],cv);const lge=cv;var OA;let Ff=OA=class extends xR{constructor(t){super(t),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){var t;return new OA({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:(t=this.value)==null?void 0:t.clone()})}};h([f({type:Number,json:{write:!0}})],Ff.prototype,"refreshInterval",void 0),h([f({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Ff.prototype,"type",void 0),h([f({type:lge,json:{write:{isRequired:!0}}})],Ff.prototype,"value",void 0),Ff=OA=h([I("esri.popup.content.ImageMediaInfo")],Ff);const AW=Ff;var kA;let k2=kA=class extends yT{constructor(t){super(t),this.type="line-chart"}clone(){var t;return new kA({altText:this.altText,title:this.title,caption:this.caption,value:(t=this.value)==null?void 0:t.clone()})}};h([f({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:gT.write,isRequired:!0}}})],k2.prototype,"type",void 0),k2=kA=h([I("esri.popup.content.LineChartMediaInfo")],k2);const OW=k2;var CA;let C2=CA=class extends yT{constructor(t){super(t),this.type="pie-chart"}clone(){var t;return new CA({altText:this.altText,title:this.title,caption:this.caption,value:(t=this.value)==null?void 0:t.clone()})}};h([f({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:gT.write,isRequired:!0}}})],C2.prototype,"type",void 0),C2=CA=h([I("esri.popup.content.PieChartMediaInfo")],C2);const kW=C2,RA={base:xR,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":MW,"column-chart":EW,"line-chart":OW,"pie-chart":kW,image:AW}};var IA;let Oo=IA=class extends du{constructor(t){super(t),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(t){return t&&t.map(e=>e.type==="image"?AW.fromJSON(e):e.type==="barchart"?MW.fromJSON(e):e.type==="columnchart"?EW.fromJSON(e):e.type==="linechart"?OW.fromJSON(e):e.type==="piechart"?kW.fromJSON(e):void 0).filter(Boolean)}writeMediaInfos(t,e){e.mediaInfos=t&&t.map(i=>i.toJSON())}clone(){return new IA(G({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};h([f()],Oo.prototype,"activeMediaInfoIndex",void 0),h([f({type:Object,json:{write:!0}})],Oo.prototype,"attributes",void 0),h([f({type:String,json:{write:!0}})],Oo.prototype,"description",void 0),h([f({types:[RA]})],Oo.prototype,"mediaInfos",void 0),h([Ie("mediaInfos")],Oo.prototype,"readMediaInfos",null),h([_e("mediaInfos")],Oo.prototype,"writeMediaInfos",null),h([f({type:String,json:{write:!0}})],Oo.prototype,"title",void 0),h([f({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Oo.prototype,"type",void 0),Oo=IA=h([I("esri.popup.content.MediaContent")],Oo);const z1=Oo;var PA;let hv=PA=class extends ae{constructor(t){super(t),this.field=null,this.order=null}clone(){return new PA({field:this.field,order:this.order})}};h([f({type:String,json:{write:!0}})],hv.prototype,"field",void 0),h([f({type:["asc","desc"],json:{write:!0}})],hv.prototype,"order",void 0),hv=PA=h([I("esri.popup.support.RelatedRecordsInfoFieldOrder")],hv);const CW=hv;let fa=class extends rt(du){constructor(e){super(e),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};h([f({type:String,json:{write:!0}})],fa.prototype,"description",void 0),h([f({type:Number,json:{type:ot,write:!0}})],fa.prototype,"displayCount",void 0),h([f({type:["list"],json:{write:{isRequired:!0}}})],fa.prototype,"displayType",void 0),h([f({type:[CW],json:{write:!0}})],fa.prototype,"orderByFields",void 0),h([f({type:Number,json:{type:ot,write:{isRequired:!0}}})],fa.prototype,"relationshipId",void 0),h([f({type:String,json:{write:!0}})],fa.prototype,"title",void 0),h([f({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],fa.prototype,"type",void 0),fa=h([I("esri.popup.content.RelationshipContent")],fa);const U1=fa;var jA;let dv=jA=class extends du{constructor(t){super(t),this.text=null,this.type="text"}clone(){return new jA({text:this.text})}};h([f({type:String,json:{write:!0}})],dv.prototype,"text",void 0),h([f({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],dv.prototype,"type",void 0),dv=jA=h([I("esri.popup.content.TextContent")],dv);const q1=dv;let vl=class extends rt(ae){constructor(e){super(e),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};h([f({type:String,json:{write:!0}})],vl.prototype,"title",void 0),h([f({type:String,json:{write:!0}})],vl.prototype,"description",void 0),h([f({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],vl.prototype,"type",void 0),h([f({type:Number,json:{type:ot,write:!0}})],vl.prototype,"associatedNetworkSourceId",void 0),h([f({type:Number,json:{type:ot,write:!0}})],vl.prototype,"associatedAssetGroup",void 0),h([f({type:Number,json:{type:ot,write:!0}})],vl.prototype,"associatedAssetType",void 0),vl=h([I("esri.popup.support.UtilityNetworkAssociationType")],vl);const uge=vl;let Qu=class extends rt(du){constructor(e){super(e),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};h([f({type:String,json:{write:!0}})],Qu.prototype,"description",void 0),h([f({type:Number,json:{type:ot,write:!0}})],Qu.prototype,"displayCount",void 0),h([f({type:String,json:{write:!0}})],Qu.prototype,"title",void 0),h([f({type:[uge],json:{write:!0}})],Qu.prototype,"associationTypes",void 0),h([ke({utilityNetworkAssociations:"utility-network-associations"})],Qu.prototype,"type",void 0),Qu=h([I("esri.popup.content.UtilityNetworkAssociationsContent")],Qu);const $R=Qu,cge={base:null,key:"type",typeMap:{attachment:Ny,media:z1,text:q1,expression:pT,field:Dy,relationship:U1,utilityNetworkAssociations:$R}},hge={base:null,key:"type",typeMap:{attachment:Ny,media:z1,text:q1,expression:pT,field:Dy,relationship:U1}};var NA;let Xh=NA=class extends ae{constructor(t){super(t),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new NA({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};h([f({type:String,json:{write:!0}})],Xh.prototype,"name",void 0),h([f({type:String,json:{write:!0}})],Xh.prototype,"title",void 0),h([f({type:String,json:{write:!0}})],Xh.prototype,"expression",void 0),h([f({type:["string","number"],json:{write:!0}})],Xh.prototype,"returnType",void 0),Xh=NA=h([I("esri.popup.ExpressionInfo")],Xh);const dge=Xh;var DA;let pv=DA=class extends ae{constructor(t){super(t),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new DA({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};h([f({type:Boolean,json:{write:!0}})],pv.prototype,"returnTopmostRaster",void 0),h([f({type:Boolean,json:{write:!0}})],pv.prototype,"showNoDataRecords",void 0),pv=DA=h([I("esri.popup.LayerOptions")],pv);const pge=pv;var LA;let fv=LA=class extends ae{constructor(t){super(t),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new LA({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?G(this.orderByFields):null})}};h([f({type:Boolean,json:{write:!0}})],fv.prototype,"showRelatedRecords",void 0),h([f({type:[CW],json:{write:!0}})],fv.prototype,"orderByFields",void 0),fv=LA=h([I("esri.popup.RelatedRecordsInfo")],fv);const FL=fv;let RW=0;const MR=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+RW++})}};return i=h([I("esri.core.Identifiable")],i),i},ER=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:RW++})}};return i=h([I("esri.core.Identifiable.NumericIdentifiable")],i),i};MR(class{});var VA;let zn=VA=class extends MR($e){constructor(t){super(t),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new VA({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};h([f()],zn.prototype,"active",void 0),h([f()],zn.prototype,"className",void 0),h([f()],zn.prototype,"disabled",void 0),h([f()],zn.prototype,"icon",void 0),h([f()],zn.prototype,"id",void 0),h([f()],zn.prototype,"indicator",void 0),h([f()],zn.prototype,"title",void 0),h([f()],zn.prototype,"type",void 0),h([f()],zn.prototype,"visible",void 0),zn=VA=h([I("esri.support.actions.ActionBase")],zn);const AR=zn;var FA;let R2=FA=class extends AR{constructor(t){super(t),this.image=null,this.type="button"}clone(){return new FA({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};h([f()],R2.prototype,"image",void 0),R2=FA=h([I("esri.support.actions.ActionButton")],R2);const fge=R2;var zA;let mv=zA=class extends AR{constructor(t){super(t),this.image=null,this.type="toggle",this.value=!1}clone(){return new zA({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};h([f()],mv.prototype,"image",void 0),h([f()],mv.prototype,"value",void 0),mv=zA=h([I("esri.support.actions.ActionToggle")],mv);const mge=mv,D0="relationships/",zL="expression/",yge=ge.ofType({key:"type",defaultKeyValue:"button",base:AR,typeMap:{button:fge,toggle:mge}}),gge={base:du,key:"type",typeMap:{media:z1,custom:Oye,text:q1,attachments:Ny,fields:Dy,expression:pT,relationship:U1,utilityNetworkAssociations:$R}},IW=new Set(["attachments","fields","media","text","expression","relationship"]),vge=new Set([...IW,"utility-network-associations"]);let zi=class extends rt(ae){constructor(e){super(e),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(e){return Array.isArray(e)?e.map(i=>Bc(gge,i)):typeof e=="string"||typeof e=="function"||e instanceof HTMLElement||Xr(e)?e:(se.getLogger(this).error("content error","unsupported content value",{value:e}),null)}readContent(e,i){const{popupElements:r}=i;return Array.isArray(r)&&r.length>0?this._readPopupInfoElements(i.description,i.mediaInfos,r):this._readPopupInfo(i)}writeWebSceneContent(e,i,r,s){this._writePopupTemplateContent(e,i,s)}writeWebMapContent(e,i,r,s){this._writePopupTemplateContent(e,i,s)}writeFieldInfos(e,i,r,s){const{content:n}=this,o=Array.isArray(n)?n:null,{writeFieldFormat:l,...c}=s||{};if(e){const d=o?o.filter(v=>v.type==="fields"):[],m=d.length&&d.every(v=>{var w;return(w=v.fieldInfos)==null?void 0:w.length});i.fieldInfos=e.filter(Boolean).map(v=>{const w=v.toJSON(c);return m&&(w.visible=!1),w})}if(o)for(const d of o)d.type==="fields"&&this._writeFieldsContent(d,i,c)}writeLayerOptions(e,i,r,s){i[r]=!e||e.showNoDataRecords===null&&e.returnTopmostRaster===null?null:e.toJSON(s)}writeTitle(e,i){i.title=e||""}async collectRequiredFields(e,i,r){const s=this.expressionInfos||[];await this._collectExpressionInfoFields(e,i,r,[...s,...this._getContentExpressionInfos(this.content,s)]),F1(e,i,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(e,i){const r=new Set;return await this.collectRequiredFields(r,e,i),[...r].sort()}_writePopupTemplateContent(e,i,r){typeof e!="string"?Array.isArray(e)&&(i.popupElements=e.filter(s=>(r==null?void 0:r.origin)==="web-scene"?IW.has(s.type):vge.has(s.type)).map(s=>s==null?void 0:s.toJSON(r)),i.popupElements.forEach(s=>{s.type==="attachments"?this._writeAttachmentContent(i):s.type==="media"?this._writeMediaContent(s,i):s.type==="text"?this._writeTextContent(s,i):s.type==="relationship"&&this._writeRelationshipContent(s,i)})):i.description=e}_writeFieldsContent(e,i,r){const s=e.fieldInfos;if(!Array.isArray(s)||!s.length)return;const n=i.fieldInfos;if(Array.isArray(n))for(const o of s){const l=n.find(c=>{var d,m;return((d=c.fieldName)==null?void 0:d.toLowerCase())===((m=o.fieldName)==null?void 0:m.toLowerCase())});l?l.visible=!0:n.push(o.toJSON(r))}else i.fieldInfos=s.map(o=>o.toJSON(r))}_writeAttachmentContent(e){e.showAttachments||(e.showAttachments=!0)}_writeRelationshipContent(e,i){var n,o;const r=((n=e.orderByFields)==null?void 0:n.map(l=>this._toFieldOrderJSON(l,e.relationshipId)))||[],s=[...((o=i.relatedRecordsInfo)==null?void 0:o.orderByFields)||[],...r];i.relatedRecordsInfo={showRelatedRecords:!0,...(s==null?void 0:s.length)&&{orderByFields:s}}}_writeTextContent(e,i){!i.description&&e.text&&(i.description=e.text)}_writeMediaContent(e,i){if(!Array.isArray(e.mediaInfos)||!e.mediaInfos.length)return;const r=G(e.mediaInfos);Array.isArray(i.mediaInfos)?i.mediaInfos=[...i.mediaInfos,...r]:i.mediaInfos=r}_readPopupInfoElements(e,i,r){const s={description:!1,mediaInfos:!1};return r.map(n=>n.type==="media"?(n.mediaInfos||!i||s.mediaInfos||(n.mediaInfos=i,s.mediaInfos=!0),z1.fromJSON(n)):n.type==="text"?(n.text||!e||s.description||(n.text=e,s.description=!0),q1.fromJSON(n)):n.type==="attachments"?Ny.fromJSON(n):n.type==="fields"?Dy.fromJSON(n):n.type==="expression"?pT.fromJSON(n):n.type==="relationship"?U1.fromJSON(n):n.type==="utilityNetworkAssociations"?$R.fromJSON(n):void 0).filter(Boolean)}_toRelationshipContent(e){const{field:i,order:r}=e;if(!(i!=null&&i.startsWith(D0)))return null;const s=i.replace(D0,"").split("/");if(s.length!==2)return null;const n=parseInt(s[0],10),o=s[1];return!Number.isNaN(n)&&o?U1.fromJSON({relationshipId:n,orderByFields:[{field:o,order:r}]}):null}_toFieldOrderJSON(e,i){const{order:r,field:s}=e;return{field:`${D0}${i}/${s}`,order:r}}_readPopupInfo({description:e,mediaInfos:i,showAttachments:r,relatedRecordsInfo:s={showRelatedRecords:!1}}){const n=[];e?n.push(new q1({text:e})):n.push(new Dy),Array.isArray(i)&&i.length&&n.push(z1.fromJSON({mediaInfos:i})),r&&n.push(Ny.fromJSON({displayType:"auto"}));const{showRelatedRecords:o,orderByFields:l}=s;return o&&(l!=null&&l.length)&&l.forEach(c=>{const d=this._toRelationshipContent(c);d&&n.push(d)}),n.length?n:e}_getContentElementFields(e){const i=e==null?void 0:e.type;if(i==="attachments")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)];if(i==="custom")return e.outFields||[];if(i==="fields")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...this._getFieldInfoFields(e.fieldInfos??this.fieldInfos)];if(i==="media"){const r=e.mediaInfos||[];return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...r.reduce((s,n)=>[...s,...this._getMediaInfoFields(n)],[])]}return i==="text"?this._extractFieldNames(e.text):i==="relationship"||i==="utility-network-associations"?[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)]:[]}_getMediaInfoFields(e){const{caption:i,title:r,value:s}=e,n=s||{},{fields:o,normalizeField:l,tooltipField:c,sourceURL:d,linkURL:m}=n,v=[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(d),...this._extractFieldNames(m),...o??[]];return l&&v.push(l),c&&v.push(c),v}_getContentExpressionInfos(e,i){return Array.isArray(e)?e.reduce((r,s)=>[...r,...s.type==="expression"&&s.expressionInfo?[s.expressionInfo]:[]],i):[]}_getContentFields(e){return typeof e=="string"?this._extractFieldNames(e):Array.isArray(e)?e.reduce((i,r)=>[...i,...this._getContentElementFields(r)],[]):[]}async _collectExpressionInfoFields(e,i,r,s){s&&await Promise.all(s.map(n=>Ss(e,i,r,n.expression)))}_getFieldInfoFields(e){return e?e.filter(({fieldName:i,visible:r})=>!(r!==void 0&&!r||!i||i.startsWith(D0)||i.startsWith(zL))).map(i=>i.fieldName):[]}_getActionsFields(e){return e?e.toArray().reduce((i,r)=>[...i,...this._getActionFields(r)],[]):[]}_getActionFields(e){const{className:i,title:r,type:s}=e,n=s==="button"||s==="toggle"?e.image:"";return[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(n)]}_getTitleFields(e){return typeof e=="string"?this._extractFieldNames(e):[]}_extractFieldNames(e){return Mye(e).filter(i=>!(i.startsWith(D0)||i.startsWith(zL)))}};h([f({type:yge})],zi.prototype,"actions",void 0),h([f()],zi.prototype,"content",void 0),h([Ot("content")],zi.prototype,"castContent",null),h([Ie("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],zi.prototype,"readContent",null),h([_e("web-scene","content",{popupElements:{type:ge.ofType(hge)},showAttachments:{type:Boolean},mediaInfos:{type:ge.ofType(RA)},description:{type:String},relatedRecordsInfo:{type:FL}})],zi.prototype,"writeWebSceneContent",null),h([_e("content",{popupElements:{type:ge.ofType(cge)},showAttachments:{type:Boolean},mediaInfos:{type:ge.ofType(RA)},description:{type:String},relatedRecordsInfo:{type:FL}})],zi.prototype,"writeWebMapContent",null),h([f({type:[dge],json:{write:!0}})],zi.prototype,"expressionInfos",void 0),h([f({type:[SR]})],zi.prototype,"fieldInfos",void 0),h([_e("fieldInfos")],zi.prototype,"writeFieldInfos",null),h([f({type:pge})],zi.prototype,"layerOptions",void 0),h([_e("layerOptions")],zi.prototype,"writeLayerOptions",null),h([f({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],zi.prototype,"lastEditInfoEnabled",void 0),h([f()],zi.prototype,"outFields",void 0),h([f()],zi.prototype,"overwriteActions",void 0),h([f()],zi.prototype,"returnGeometry",void 0),h([f({json:{type:String}})],zi.prototype,"title",void 0),h([_e("title")],zi.prototype,"writeTitle",null),zi=h([I("esri.PopupTemplate")],zi);const gg=zi;let wge=class PW{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(ZE),this._values=new Map,this.multipleOriginsSupported=!0}clone(e){const i=new PW,r=this._originStores[0];r&&r.forEach((s,n)=>{i.set(n,G(s),0)});for(let s=2;s<ZE;s++){const n=this._originStores[s];n&&n.forEach((o,l)=>{e&&e.has(l)||i.set(l,G(o),s)})}return i}get(e,i){const r=i===void 0?this._values:this._originStores[i];return r?r.get(e):void 0}keys(e){const i=e==null?this._values:this._originStores[e];return i?[...i.keys()]:[]}set(e,i,r=7){let s=this._originStores[r];if(s||(s=new Map,this._originStores[r]=s),s.set(e,i),!this._values.has(e)||this._propertyOriginMap.get(e)<=r){const n=this._values.get(e);return this._values.set(e,i),this._propertyOriginMap.set(e,r),n!==i}return!1}delete(e,i=7){const r=this._originStores[i];if(!r)return;const s=r.get(e);if(r.delete(e),this._values.has(e)&&this._propertyOriginMap.get(e)===i){this._values.delete(e);for(let n=i-1;n>=0;n--){const o=this._originStores[n];if(o&&o.has(e)){this._values.set(e,o.get(e)),this._propertyOriginMap.set(e,n);break}}}return s}has(e,i){const r=i===void 0?this._values:this._originStores[i];return!!r&&r.has(e)}revert(e,i){for(;i>0&&!this.has(e,i);)--i;const r=this._originStores[i],s=r==null?void 0:r.get(e),n=this._values.get(e);return this._values.set(e,s),this._propertyOriginMap.set(e,i),n!==s}originOf(e){return this._propertyOriginMap.get(e)||0}isAtOrigin(e,i){return this.has(e,i)&&this.originOf(e)===i}isBelowOrigin(e,i){return!this.has(e)||this.originOf(e)<i}forEach(e){this._values.forEach(e)}};const jW=t=>{const e=t;let i=class extends e{constructor(...r){super(...r);const s=_s(this),n=s.store,o=new wge;s.store=o,vG(s,n,o)}read(r,s){bG(this,r,s)}getAtOrigin(r,s){const n=d5(this),o=Kl(s);if(typeof r=="string")return n.get(r,o);const l={};return r.forEach(c=>{l[c]=n.get(c,o)}),l}originOf(r){return zS(this.originIdOf(r))}originIdOf(r){return d5(this).originOf(r)}revert(r,s){const n=d5(this),o=Kl(s),l=_s(this);let c;c=typeof r=="string"?r==="*"?n.keys(o):[r]:r,c.forEach(d=>{l.invalidate(d),n.revert(d,o),l.commit(d)})}};return i=h([I("esri.core.ReadOnlyMultiOriginJSONSupport")],i),i};function d5(t){return _s(t).store}jW($e);const bge=t=>{const e=t;let i=class extends e{constructor(...r){super(...r)}clear(r,s="user"){_s(this).clearOrigin(r,Kl(s))}write(r,s){return SG(this,r=r||{},s),r}setAtOrigin(r,s,n){_s(this).setAtOrigin(r,s,Kl(n))}removeOrigin(r){const s=UL(this),n=Kl(r),o=s.keys(n);for(const l of o)s.originOf(l)===n&&s.set(l,s.get(l,n),7)}updateOrigin(r,s){const n=UL(this),o=Kl(s),l=Ho(this,r);for(let c=o+1;c<ZE;++c)n.delete(r,c);n.set(r,l,o)}toJSON(r){return this.write({},r)}};return i=h([I("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],i),i.prototype.toJSON.isDefaultToJSON=!0,i};function UL(t){return _s(t).store}const NW=t=>{const e=bge(jW(t));let i=class extends e{};return i=h([I("esri.core.MultiOriginJSONSupport")],i),i},fDe=NW($e),_ge=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,Sge={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function qL(t){const e=t==null?void 0:t.match(_ge);if(!e)return null;const[,i,r,s]=e;if(!i)return null;let n=null,o=null,l=null;const{devext:c,qaext:d,www:m}=Sge;if(r)if(n=i,s)switch(s.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:l}=c);break;case"qa":({customBaseUrl:o,portalHostname:l}=d);break;default:return null}else({customBaseUrl:o,portalHostname:l}=m);else switch(i.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:l}=c);break;case"qaext":({customBaseUrl:o,portalHostname:l}=d);break;case"www":({customBaseUrl:o,portalHostname:l}=m);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:l,urlKey:n}}function DW(t){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(t)}function LW(t){const e=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,i=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,r=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return e.test(t)?t=t.replace(e,"https://www.arcgis.com"):i.test(t)?t=t.replace(i,"https://devext.arcgis.com"):r.test(t)&&(t=t.replace(r,"https://qaext.arcgis.com")),t}function VW(t){const e=atob(t),i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i.buffer}function xge(t){const e=new Uint8Array(t);let i="";for(let r=0;r<e.length;r++)i+=String.fromCharCode(e[r]);return btoa(i)}const Tge=()=>se.getLogger("esri.core.urlUtils"),vg=dt.request,BL="esri/config: esriConfig.request.proxyUrl is not set.",FW=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,zW=/^\s*http:/i,$ge=/^\s*https:/i,Mge=/^\s*file:/i,UW=/:\d+$/,Ege=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,Age=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),Oge=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let Pm=class{constructor(e=""){this.uri=e,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let i=this.uri.match(Age);this.scheme=i[2]||(i[1]?"":null),this.authority=i[4]||(i[3]?"":null),this.path=i[5],this.query=i[7]||(i[6]?"":null),this.fragment=i[9]||(i[8]?"":null),this.authority!=null&&(i=this.authority.match(Oge),this.user=i[3]||null,this.password=i[4]||null,this.host=i[6]||i[7],this.port=i[9]||null)}toString(){return this.uri}};const b_={},kge=new Pm(dt.applicationUrl);let Zr=kge;const Cge=Rge();let OR=Cge;const kR=()=>Zr,yDe=()=>OR;function Rge(){const t=Zr.path,e=t.slice(0,t.lastIndexOf("/")+1);return`${`${Zr.scheme}://${Zr.host}${Zr.port!=null?`:${Zr.port}`:""}`}${e}`}function Rr(t){if(!t)return null;const e={path:null,query:null},i=new Pm(t),r=t.indexOf("?");return i.query===null?e.path=t:(e.path=t.slice(0,r),e.query=CR(i.query)),i.fragment&&(e.hash=i.fragment,i.query===null&&(e.path=e.path.slice(0,e.path.length-(i.fragment.length+1)))),e}function CR(t){const e=t.split("&"),i={};for(const r of e){if(!r)continue;const s=r.indexOf("=");let n,o;s<0?(n=decodeURIComponent(r),o=""):(n=decodeURIComponent(r.slice(0,s)),o=decodeURIComponent(r.slice(s+1)));let l=i[n];typeof l=="string"&&(l=i[n]=[l]),Array.isArray(l)?l.push(o):i[n]=o}return i}function B1(t,e){return t?Object.keys(t).map(i=>{const r=t[i];if(r==null)return"";const s=encodeURIComponent(i)+"=";return Array.isArray(r)?r.map(n=>L1(n)?s+encodeURIComponent(JSON.stringify(n)):s+encodeURIComponent(n)).join("&"):L1(r)?s+encodeURIComponent(JSON.stringify(r)):s+encodeURIComponent(r)}).filter(i=>i).join("&"):""}function qW(t=!1){let e,i=vg.proxyUrl;if(typeof t=="string"){e=Vge(t);const r=vT(t);r&&(i=r.proxyUrl)}else e=!!t;if(!i)throw Tge().warn(BL),new B("urlUtils:proxy-not-set",BL);return e&&qA()&&(i=NR(i)),Rr(i)}function gDe(t,e=!1){const i=vT(t);let r,s;if(i){const n=RR(i.proxyUrl);r=n.path,s=n.query?CR(n.query):null}else if(e){const n=qW(t);r=n.path,s=n.query}if(r){const n=Rr(t);t=r+"?"+n.path;const o=B1({...s,...n.query});o&&(t=`${t}?${o}`)}return t}const L0={path:"",query:""};function RR(t){const e=t.indexOf("?");return e!==-1?(L0.path=t.slice(0,e),L0.query=t.slice(e+1)):(L0.path=t,L0.query=null),L0}function BW(t){return t=(t=lx(t=Gge(t=RR(t).path),!0)).toLowerCase()}function Ige(t){const e={proxyUrl:t.proxyUrl,urlPrefix:BW(t.urlPrefix)},i=vg.proxyRules,r=e.urlPrefix;let s=i.length;for(let n=0;n<i.length;n++){const o=i[n].urlPrefix;if(r.startsWith(o)){if(r.length===o.length)return-1;s=n;break}o.startsWith(r)&&(s=n+1)}return i.splice(s,0,e),s}function vT(t){const e=vg.proxyRules,i=BW(t);for(let r=0;r<e.length;r++)if(i.startsWith(e[r].urlPrefix))return e[r]}function Pge(t,e){if(!t||!e)return!1;t=ax(t),e=ax(e);const i=qL(t),r=qL(e);return i!=null&&r!=null?i.portalHostname===r.portalHostname:i==null&&r==null&&ap(t,e,!0)}function GW(t,e){return t=ax(t),e=ax(e),lx(t)===lx(e)}function ax(t){const e=(t=Jo(t)).indexOf("/sharing");return e>0?t.slice(0,e):t.replace(/\/+$/,"")}function UA(t,e=vg.interceptors){const i=r=>r instanceof RegExp?r.test(t):typeof r=="string"?t.startsWith(r):r==null;if(e){for(const r of e)if(Array.isArray(r.urls)){if(r.urls.some(i))return r}else if(i(r.urls))return r}return null}function ap(t,e,i=!1){if(!t||!e)return!1;const r=GA(t),s=GA(e);return!(!i&&r.scheme!==s.scheme)&&r.host!=null&&s.host!=null&&r.host.toLowerCase()===s.host.toLowerCase()&&r.port===s.port}function IR(t){if(typeof t=="string"){if(!Gs(t))return!0;t=GA(t)}if(ap(t,Zr))return!0;const e=vg.trustedServers||[];for(let i=0;i<e.length;i++){const r=jge(e[i]);for(let s=0;s<r.length;s++)if(ap(t,r[s]))return!0}return!1}function jge(t){return b_[t]||(jR(t)||Va(t)?b_[t]=[new Pm(eo(t))]:b_[t]=[new Pm(`http://${t}`),new Pm(`https://${t}`)]),b_[t]}function eo(t,e=OR,i){return Va(t)?i!=null&&i.preserveProtocolRelative?t:Zr.scheme==="http"&&Zr.authority===wn(t).slice(2)?`http:${t}`:`https:${t}`:jR(t)?t:Cw(t.startsWith("/")?qge(e):e,t)}function PR(t,e=OR,i){if(t==null||!Gs(t))return t;const r=Jo(t),s=r.toLowerCase(),n=Jo(e).toLowerCase().replace(/\/+$/,""),o=i?Jo(i).toLowerCase().replace(/\/+$/,""):null;if(o&&!n.startsWith(o))return t;const l=(v,w,_)=>(_=v.indexOf(w,_))===-1?v.length:_;let c=l(s,"/",s.indexOf("//")+2),d=-1;for(;s.slice(0,c+1)===n.slice(0,c)+"/"&&(d=c+1,c!==s.length);)c=l(s,"/",c+1);if(d===-1||o&&d<o.length)return t;t=r.slice(d);const m=n.slice(d-1).replaceAll(/[^/]+/g,"").length;if(m>0)for(let v=0;v<m;v++)t=`../${t}`;else t=`./${t}`;return t}function Jo(t){return t=Zge(t=Wge(t=Hge(t=eo(t=t.trim()))))}function Cw(...t){const e=t.filter(qc);if(!(e!=null&&e.length))return;const i=[];if(Gs(e[0])){const s=e[0],n=s.indexOf("//");n!==-1&&(i.push(s.slice(0,n+1)),zge(e[0])&&(i[0]+="/"),e[0]=s.slice(n+2))}else e[0].startsWith("/")&&i.push("");const r=e.reduce((s,n)=>n?s.concat(n.split("/")):s,[]);for(let s=0;s<r.length;s++){const n=r[s];n===".."&&i.length>0&&i[i.length-1]!==".."?i.pop():(!n&&s===r.length-1||n&&(n!=="."||i.length===0))&&i.push(n)}return i.join("/")}function wn(t,e=!1){if(t==null||wg(t)||Mp(t))return null;let i=t.indexOf("://");if(i===-1&&Va(t))i=2;else{if(i===-1)return null;i+=3}const r=t.indexOf("/",i);return r!==-1&&(t=t.slice(0,r)),e&&(t=lx(t,!0)),t}function Gs(t){return Va(t)||jR(t)}function wg(t){return t!=null&&t.startsWith("blob:")}function Mp(t){return t!=null&&t.startsWith("data:")}function Nge(t){const e=Ly(t);return e!=null&&e.isBase64?VW(e.data):null}function vDe(t){return xge(t).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const Dge=/^data:(.*?)(;base64)?,(.*)$/;function Ly(t){const e=t.match(Dge);if(!e)return null;const[,i,r,s]=e;return{mediaType:i,isBase64:!!r,data:s}}function HW(t){return t.isBase64?`data:${t.mediaType};base64,${t.data}`:`data:${t.mediaType},${t.data}`}async function Lge(t){return(await fetch(t)).blob()}function wDe(t){const e=Nge(t);if(!e)return null;const i=Ly(t);return new Blob([e],{type:i.mediaType})}function Va(t){return t!=null&&t.startsWith("/")&&t[1]==="/"}function jR(t){return t!=null&&FW.test(t)}function Vge(t){return t!=null&&$ge.test(t)||Zr.scheme==="https"&&Va(t)}function Fge(t){return t!=null&&zW.test(t)||Zr.scheme==="http"&&Va(t)}function zge(t){return t!=null&&Mge.test(t)}function NR(t){return Va(t)?`https:${t}`:t.replace(zW,"https:")}function Uge(){return Zr.scheme==="http"}function qA(){return Zr.scheme==="https"}function lx(t,e=!1){return Va(t)?t.slice(2):(t=t.replace(FW,""),e&&t.length>1&&t.startsWith("/")&&t[1]==="/"&&(t=t.slice(2)),t)}function qge(t){const e=t.indexOf("//"),i=t.indexOf("/",e+2);return i===-1?t:t.slice(0,i)}function Bge(t){let e=0;if(Gs(t)){const r=t.indexOf("//");r!==-1&&(e=r+2)}const i=t.lastIndexOf("/");return i<e?t:t.slice(0,i+1)}function bDe(t,e){if(!t)return"";const i=Rr(t).path.replace(/\/+$/,""),r=i.slice(i.lastIndexOf("/")+1);if(!(e!=null&&e.length))return r;const s=new RegExp(`\\.(${e.join("|")})$`,"i");return r.replace(s,"")}function Gge(t){return t.endsWith("/")?t:`${t}/`}function WW(t){return t.replace(/\/+$/,"")}function Hge(t){if(/^https?:\/\//i.test(t)){const e=RR(t);t=(t=e.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),e.query&&(t+=`?${e.query}`)}return t}function Wge(t){return t.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function Zge(t){const e=vg.httpsDomains;if(!Fge(t))return t;const i=t.indexOf("/",7);let r;if(r=i===-1?t:t.slice(0,i),r=r.toLowerCase().slice(7),UW.test(r)){if(!r.endsWith(":80"))return t;r=r.slice(0,-3),t=t.replace(":80","")}return Uge()&&r===Zr.authority&&!Ege.test(t)||(qA()&&r===Zr.authority||e&&e.some(s=>r===s||r.endsWith(`.${s}`))||qA()&&!vT(t))&&(t=NR(t)),t}function BA(t,e,i){if(!(e&&i&&t&&Gs(t)))return t;const r=t.indexOf("//"),s=t.indexOf("/",r+2),n=t.indexOf(":",r+2),o=Math.min(s<0?t.length:s,n<0?t.length:n);return t.slice(r+2,o).toLowerCase()!==e.toLowerCase()?t:`${t.slice(0,r+2)}${i}${t.slice(o)}`}function Yge(t,e){const i=new URL(t);return i.host=e,i.port&&!UW.test(e)&&(i.port=""),i.toString()}function _De(t){return new URL(t).host}function GA(t){return typeof t=="string"?new Pm(eo(t)):(t.scheme||(t.scheme=Zr.scheme),t)}function SDe(t){return Kge.test(t)}function ZW(t,e){const i=Rr(t),r=Object.keys(i.query||{});return r.length>0&&e&&e.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${r.join(", ")}.`),i.path}function Jge(t,e,i){const r=Rr(t),s=r.query||{};return s[e]=String(i),`${r.path}?${B1(s)}`}function p5(t,e){if(!e)return t;const i=Rr(t),r=i.query||{};for(const[n,o]of Object.entries(e))o!=null&&(r[n]=o);const s=B1(r);return s?`${i.path}?${s}`:i.path}function YW(t){if(t==null)return null;const e=t.match(JW);return e?e[2]:null}function GL(t){if(t==null)return null;const e=t.match(JW);return e?{path:e[1],extension:e[2]}:{path:t,extension:null}}async function xDe(t){return typeof t=="string"?Ly(t)??{data:t}:new Promise((e,i)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>e(Ly(r.result)),r.onerror=s=>i(s)})}const JW=/([^.]*)\.([^/]*)$/,Kge=/(^data:image\/svg|\.svg$)/i;let DR=class{constructor(e,i,r,s,n,o){this.semiMajorAxis=e,this.flattening=i,this.outerAtmosphereRimWidth=r,this.atmosphereHeight=s,this.scaleHeight=n;const l=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*l,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=o||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const hi=new DR(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),Na=new DR(3396190,1/169.8944472236118,23e4,6e4,.111),Wc=new DR(1737400,0,0,0,0),KW="20251017",XW="8f68375e9feb20d0b470d2c2047c0bc62964f303";Symbol.dispose??(Symbol.dispose=Symbol("Symbol.dispose")),Symbol.asyncDispose??(Symbol.asyncDispose=Symbol("Symbol.asyncDispose"));const Xge="4.34";let ze,LR=Xge;function $De(t){ze=t}function MDe(t){const e=ze==null?void 0:ze.findCredential(t);return e!=null&&e.token?Jge(t,"token",e.token):t}LR="4.34.0",q("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),q("host-webworker");function Ep(t,e){var r;const i=(r=e==null?void 0:e.url)==null?void 0:r.path;if(t&&i&&(t=eo(t,i,{preserveProtocolRelative:!0}),e.portalItem&&e.readResourcePaths)){const s=PR(t,e.portalItem.itemUrl);s!=null&&s.startsWith(Qge)&&e.readResourcePaths.push(e.portalItem.resourceFromPath(s).path)}return(t=HA(t,e==null?void 0:e.portal))&&bT.test(t)?VR(t):t}function lp(t,e,i=0){var s,n;if((t=t&&bT.test(t)?iZ(t):t)==null)return t;!Gs(t)&&(e!=null&&e.blockedRelativeUrls)&&e.blockedRelativeUrls.push(t);let r=eo(t);if(e){const o=((s=e.verifyItemRelativeUrls)==null?void 0:s.rootPath)||((n=e.url)==null?void 0:n.path);if(o){const l=HA(o,e.portal),c=HA(r,e.portal);r=PR(c,l,l),r!=null&&r!==c&&r!==t&&e.verifyItemRelativeUrls&&e.verifyItemRelativeUrls.writtenUrls.push(r)}}return r=tZ(r,e==null?void 0:e.portal),Gs(r)&&(r=Jo(r)),e!=null&&e.resources&&(e!=null&&e.portalItem)&&!Gs(r)&&!Mp(r)&&i===0&&e.resources.toKeep.push({resource:e.portalItem.resourceFromPath(r),compress:!1}),r}function wT(t,e,i){return Ep(t,i)}function up(t,e,i,r){const s=lp(t,r);s!==void 0&&(e[i]=s)}const bT=/\/items\/([^/]+)\/resources\/(.*)/,Qge="./resources/";function QW(t){const e=(t==null?void 0:t.match(bT))??null;return(e==null?void 0:e[1])??null}function eZ(t){const e=(t==null?void 0:t.match(bT))??null;if(e==null)return null;const i=e[2],r=i.lastIndexOf("/");if(r===-1){const{path:o,extension:l}=GL(i);return{prefix:null,filename:o,extension:l}}const{path:s,extension:n}=GL(i.slice(r+1));return{prefix:i.slice(0,r),filename:s,extension:n}}function tZ(t,e){return e&&!e.isPortal&&e.urlKey&&e.customBaseUrl?BA(t,`${e.urlKey}.${e.customBaseUrl}`,e.portalHostname):t}function HA(t,e){if(!e||e.isPortal||!e.urlKey||!e.customBaseUrl)return t;const i=`${e.urlKey}.${e.customBaseUrl}`,r=kR();return ap(r,`${r.scheme}://${i}`)?BA(t,e.portalHostname,i):BA(t,i,e.portalHostname)}function VR(t){if(!t)return t||null;let e=t;return e&&ze&&!ze.findCredential(e)&&(e=LW(e),e=e.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),e=e.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),e=e.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),e}function iZ(t){if(!t)return t||null;let e=t;return e=e.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),e=e.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),e=e.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),e&&ze&&!ze.findCredential(e)&&(e=LW(e)),e}const e0e=Object.freeze(Object.defineProperty({__proto__:null,ensureMainOnlineDomain:tZ,fromCDNUrl:iZ,fromJSON:Ep,itemIdFromResourceUrl:QW,prefixAndFilenameFromResourceUrl:eZ,read:wT,toCDNUrl:VR,toJSON:lp,write:up},Symbol.toStringTag,{value:"Module"})),rZ={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},sZ=Object.values(rZ),nZ=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${sZ.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),t0e=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${sZ.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),i0e=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function EDe(t){return nZ.test(t)}function Rw(t){if(t==null)return null;const e=Rr(t),i=(e==null?void 0:e.path.match(nZ))||(e==null?void 0:e.path.match(t0e));if(!i)return null;const[,r,s,n,o]=i,l=s.indexOf("/");return{title:oZ(l!==-1?s.slice(l+1):s),serverType:rZ[n.toLowerCase()],sublayer:o!=null&&o!==""?parseInt(o,10):null,url:{path:r}}}function r0e(t){const e=Rr(t).path.match(i0e);return e?{serviceUrl:e[1],sublayerId:Number(e[2])}:null}function oZ(t){return(t=t.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+t.slice(1)}function ADe(t,e){const i=[];if(t){const r=Rw(t);r!=null&&r.title&&i.push(r.title)}if(e){const r=oZ(e);i.push(r)}if(i.length===2){if(i[0].toLowerCase().includes(i[1].toLowerCase()))return i[0];if(i[1].toLowerCase().includes(i[0].toLowerCase()))return i[1]}return i.join(" - ")}function HL(t){let e=wn(t,!0);return!!e&&(e=e.toLowerCase(),e.endsWith(".arcgis.com")&&(e.startsWith("services")||e.startsWith("tiles")||e.startsWith("features")||/^[a-z\d-]+\.svcs[a-z\d-]*\./.test(e)))}function ODe(t,e){return t&&WW(ZW(t,e))}function kDe(t){let{url:e}=t;if(!e)return{url:e};e=ZW(e,t.logger);const i=Rr(e),r=Rw(i.path);let s;if(r!=null)r.sublayer!=null&&t.layer.layerId==null&&(s=r.sublayer),e=r.url.path;else if(t.nonStandardUrlAllowed){const n=r0e(i.path);n!=null&&(e=n.serviceUrl,s=n.sublayerId)}return{url:WW(e),layerId:s}}function CDe(t,e,i,r,s){up(e,r,"url",s),r.url&&t.layerId!=null&&(r.url=Cw(r.url,i,t.layerId.toString()))}function RDe(t){if(!t)return!1;const e=t.toLowerCase(),i=e.includes("/services/"),r=e.includes("/mapserver/wmsserver"),s=e.includes("/imageserver/wmsserver"),n=e.includes("/wmsserver");return i&&(r||s||n)}const s0e=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function FR(t){if(!zR(t))return null;const e=r=>r instanceof RegExp?r.test(t):typeof r=="string"&&t.startsWith(r),i=dt.apiKeys;if(Array.isArray(i.scopes)){for(const r of i.scopes)if(Array.isArray(r.urls)){if(r.urls.some(e))return r.token}else if(e(r.urls))return r.token}return i.basemapStyles&&/^https?:\/\/(i?basemaps|basemapstyles)-api\.arcgis\.com\//i.test(t)?i.basemapStyles:dt.apiKey&&/^https?:\/\/.+\.arcgis\.com(\/|$)/i.test(t)?dt.apiKey:null}function WA(){return dt.apiKey!=null||dt.apiKeys.basemapStyles!=null}function n0e(t,e){return e?zR(t):FR(t)!=null}function zR(t){const e=wn(t,!0);return!!e&&!s0e.has(e)&&!t.endsWith("/sharing/rest/generateToken")}function o0e(t,e,i=!1,r){return new Promise((s,n)=>{if(Kr(r))return void n(WL());let o=()=>{d(),n(new Error(`Unable to load ${e}`))},l=async()=>{const m=t;try{await m.decode()}catch{}d(),s(m)},c=()=>{if(!t)return;const m=t;d(),m.src="",n(WL())};const d=()=>{t&&(t.removeEventListener("error",o),t.removeEventListener("load",l),o=null,l=null,t=null,r==null||r.removeEventListener("abort",c),c=null,i&&URL.revokeObjectURL(e))};r==null||r.addEventListener("abort",c),t.addEventListener("error",o),t.addEventListener("load",l)})}function WL(){try{return new DOMException("Aborted","AbortError")}catch{const t=new Error;return t.name="AbortError",t}}const aZ="Timeout exceeded";function a0e(){return new Error(aZ)}function IDe(t){return typeof t=="object"&&!!t&&"message"in t&&t.message===aZ}function l0e(t){dt.request.crossOriginNoCorsDomains||(dt.request.crossOriginNoCorsDomains={});const e=dt.request.crossOriginNoCorsDomains;for(let i of t)i=i.toLowerCase(),/^https?:\/\//.test(i)?e[wn(i)??""]=0:(e[wn("http://"+i)??""]=0,e[wn("https://"+i)??""]=0)}function u0e(t){const e=dt.request.crossOriginNoCorsDomains;if(e){let i=wn(t);if(i)return i=i.toLowerCase(),!ap(i,kR())&&e[i]<Date.now()-36e5}return!1}async function c0e(t){var s;const e=Rr(t);t=e.path,((s=e.query)==null?void 0:s.f)==="json"&&(t+="?f=json");try{await fetch(t,{mode:"no-cors",credentials:"include"})}catch{}const i=dt.request.crossOriginNoCorsDomains,r=wn(t);i&&r&&(i[r.toLowerCase()]=Date.now())}const ZA=new Map;function h0e(t,e){const i=e==null?void 0:e.preferredHost;if(!i||ap(t,`https://${i}`,!0))return;const r=Rw(t);if(!r||r.serverType!=="FeatureServer"||DW(t))return;const s=r.url.path.toLowerCase();ZA.has(s)||ZA.set(s,i)}function ZL(t){var r;const e=(r=Rw(t))==null?void 0:r.url.path.toLowerCase();if(!e)return t;const i=ZA.get(e);return i?Yge(t,i):t}async function Bt(t,e){var _;t instanceof URL&&(t=t.toString()),(e==null?void 0:e.query)instanceof URLSearchParams&&(e.query=CR(e.query.toString().replaceAll("+"," ")));const i=Mp(t),r=wg(t);r||i||(t=Jo(t));const s={url:t,requestOptions:{...e}},n=x=>({data:x,getAllHeaders:Vy,getHeader:Vy,httpStatus:200,requestOptions:s.requestOptions,url:s.url}),o=UA(t,Kn.internalInterceptors);if(o){const x=await JL(o,s);if(x!=null)return n(x)}let l=UA(t);if(l){const x=await JL(l,s);if(x!=null)return n(x);l.after||l.error||(l=null)}if(t=s.url,(e=s.requestOptions).responseType==="image"&&(q("host-webworker")||q("host-node")))throw Ko("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),s);if(e.method==="head"){if(e.body)throw Ko("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),s);if(i||r)throw Ko("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),s)}if(await y0e(),ux)return ux.execute(t,e);const c=new AbortController,d=ao(e,()=>c.abort()),m={controller:c,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:l,params:s,redoRequest:!1,useIdentity:Kn.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},v=e.useRequestQueue?_0e(m):JA(m),w=await v.finally(()=>d==null?void 0:d.remove());return(_=l==null?void 0:l.after)==null||_.call(l,w),w}let ux,lZ=!1;const Kn=dt.request,uZ="FormData"in globalThis,d0e=new Set([499,498,403,401]),p0e=new Set(["COM_0056","COM_0057","SB_0008"]),f0e=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],Vy=()=>null,cx=Symbol();function m0e(t){const e=wn(t);e&&!Bt._corsServers.includes(e)&&Bt._corsServers.push(e)}function YL(t){const e=wn(t);return!e||e.endsWith(".arcgis.com")||Bt._corsServers.includes(e)||IR(e)}function Ko(t,e,i,r){var o;let s;const n={url:i.url,requestOptions:i.requestOptions,getAllHeaders:Vy,getHeader:Vy,ssl:!1};if(e instanceof B)return e.details?(e.details=G(e.details),e.details.url=i.url,e.details.requestOptions=i.requestOptions):e.details=n,e;if(e){const l=r&&(()=>Array.from(r.headers)),c=r&&(v=>r.headers.get(v)),d=r==null?void 0:r.status,m=e.message;m&&(s=m),l&&c&&(n.getAllHeaders=l,n.getHeader=c),n.httpStatus=(e.httpCode!=null?e.httpCode:e.code)||d||0,n.subCode=e.subcode,n.messageCode=e.messageCode,typeof e.details=="string"?(n.messages=[e.details],s??(s=e.details)):(n.messages=e.details,s??(s=(o=n.messages)==null?void 0:o[0])),n.raw=cx in e?e[cx]:e}return s??(s="Error"),Cr(e)?$t():new B(t,s,n)}async function y0e(){q("host-webworker")&&(!ux&&globalThis.invokeStaticMessage?ux=await te(()=>import("./request-_Yzo-2eN.js"),[]):lZ=!0)}async function YA(){ze||await te(()=>import("./IdentityManager-iM417jI8.js"),__vite__mapDeps([23,24]))}async function g0e(t){var l;const e=t.params.url,i=t.params.requestOptions,r=t.controller.signal,s=i.body;let n=null,o=null;if(uZ&&"HTMLFormElement"in globalThis&&(s instanceof FormData?n=s:s instanceof HTMLFormElement&&(n=new FormData(s))),typeof s=="string"&&(o=s),t.fetchOptions={cache:i.cacheBust?"no-cache":"default",credentials:"same-origin",headers:i.headers||{},keepalive:i.keepAlive??!1,method:i.method==="head"?"HEAD":"GET",mode:"cors",priority:Kn.priority,redirect:"follow",signal:r},(n||o)&&(t.fetchOptions.body=n||o),(lZ||i.authMode==="anonymous")&&(t.useIdentity=!1),t.hasToken=!!(/token=/i.test(e)||(l=i.query)!=null&&l.token||n!=null&&n.get("token")),!t.hasToken){const c=FR(e);c&&(i.query??(i.query={}),i.query.token=c,t.hasToken=!0)}if(t.useIdentity&&!t.hasToken&&!t.credential&&!t.credentialToken&&!cZ(e)&&!Kr(r)){let c;i.authMode==="immediate"?(await YA(),c=await ze.getCredential(e,{signal:r})):i.authMode==="no-prompt"?(await YA(),c=await ze.getCredential(e,{prompt:!1,signal:r}).catch(()=>{})):ze&&(c=ze.findCredential(e)),c&&(t.credential=c,t.credentialToken=c.token,t.useSSL=!!c.ssl)}}function cZ(t){return f0e.some(e=>e.test(t))}async function v0e(t){let e=t.params.url,i=ZL(e);const r=t.params.requestOptions,s=t.fetchOptions??{},n=wg(e)||Mp(e),o=r.responseType||"json",l=n?0:r.timeout!=null?r.timeout:Kn.timeout;let c=!1;if(!n){t.useSSL&&(e=NR(e));let _={...r.query};t.credentialToken&&(_.token=t.credentialToken);let x=B1(_);q("esri-url-encodes-apostrophe")&&(x=x.replaceAll("'","%27"));const T=i.length+1+x.length;let M;c=r.method==="delete"||r.method==="post"||r.method==="put"||!!r.body||T>Kn.maxUrlLength;const O=r.useProxy||!!vT(e);if(O){const C=qW(e);M=C.path,!c&&M.length+1+T>Kn.maxUrlLength&&(c=!0),C.query&&(_={...C.query,..._})}if(s.method==="HEAD"&&(c||O)){if(c)throw T>Kn.maxUrlLength?Ko("request:invalid-parameters",new Error("URL exceeds maximum length"),t.params):Ko("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),t.params);if(O)throw Ko("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),t.params)}if(c?(s.method=r.method==="delete"?"DELETE":r.method==="put"?"PUT":"POST",r.body?e=p5(e,_):(s.body=B1(_),s.headers||(s.headers={}),s.headers["Content-Type"]="application/x-www-form-urlencoded")):e=p5(e,_),O&&(t.useProxy=!0,e=`${M}?${e}`),_.token&&uZ&&s.body instanceof FormData&&!DW(e)&&s.body.set("token",_.token),r.hasOwnProperty("withCredentials"))t.withCredentials=r.withCredentials;else if(!ap(e,kR())){if(IR(e))t.withCredentials=!0;else if(ze){const C=ze.findServerInfo(e);C!=null&&C.webTierAuth&&(t.withCredentials=!0)}}t.withCredentials&&(s.credentials="include",u0e(e)&&await c0e(c?p5(e,_):e)),i=ZL(e)}let d,m,v=0,w=!1;l>0&&(v=setTimeout(()=>{w=!0,t.controller.abort()},l));try{if(r.responseType==="native-request-init")m=s,m.url=i,r.signal?m.signal=r.signal:delete m.signal;else if(r.responseType!=="image"||s.cache!=="default"||s.keepalive||s.method!=="GET"||c||w0e(r.headers)||!n&&!t.useProxy&&Kn.proxyUrl&&!YL(e)){if(Bt._beforeFetch&&await Bt._beforeFetch(e,s),d=await fetch(i,s),Bt._afterFetch&&await Bt._afterFetch(d),t.useProxy||m0e(e),r.responseType==="native")m=d;else if(s.method!=="HEAD")if(d.ok){switch(o){case"array-buffer":m=await d.arrayBuffer();break;case"blob":case"image":m=await d.blob();break;default:m=await d.text()}if(v&&(clearTimeout(v),v=0),o==="json"||o==="xml"||o==="document")if(m)switch(o){case"json":m=JSON.parse(m);break;case"xml":m=KL(m,"application/xml");break;case"document":m=KL(m,"text/html")}else m=null;if(m){if(o==="array-buffer"||o==="blob"){const _=d.headers.get("Content-Type");if(_&&/application\/json|text\/plain/i.test(_)&&m[o==="blob"?"size":"byteLength"]<=750)try{const x=await new Response(m).json();x.error&&(m=x)}catch{}}o==="image"&&m instanceof Blob&&(m=await XL(URL.createObjectURL(m),t,!0))}}else{m=await d.text();try{m=JSON.parse(m)}catch{}}}else m=await XL(i,t)}catch(_){if(_.name==="AbortError")throw w?a0e():$t("Request canceled");if(!(!d&&_ instanceof TypeError&&Kn.proxyUrl)||r.body||r.method==="delete"||r.method==="head"||r.method==="post"||r.method==="put"||t.useProxy||YL(e))throw _;t.redoRequest=!0,Ige({proxyUrl:Kn.proxyUrl,urlPrefix:wn(e)??""})}finally{v&&clearTimeout(v)}return[d,m]}async function JL(t,e){if(t.responseData!=null)return t.responseData;if(t.headers&&(e.requestOptions.headers={...e.requestOptions.headers,...t.headers}),t.query&&(e.requestOptions.query={...e.requestOptions.query,...t.query}),t.before){let i,r;try{r=await t.before(e)}catch(s){i=Ko("request:interceptor",s,e)}if((r instanceof Error||r instanceof B)&&(i=Ko("request:interceptor",r,e)),i)throw t.error&&t.error(i),i;return r}}function w0e(t){if(t){for(const e of Object.getOwnPropertyNames(t))if(t[e])return!0}return!1}function KL(t,e){let i;try{i=new DOMParser().parseFromString(t,e)}catch{}if(!i||i.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return i}Bt._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],Bt._beforeFetch=void 0,Bt._afterFetch=void 0;const b0e=new Map;async function _0e(t){const e=x0e(t.params.url);if(!e)return JA(t);const{QueueProcessor:i}=await te(()=>import("./QueueProcessor-DmOOu75G.js"),[]);return cg(b0e,e.origin,()=>{const s=e.isHosted?q("request-queue-concurrency-hosted"):q("request-queue-concurrency-non-hosted");return new i({concurrency:s,process:n=>{if(Kr(n.params.requestOptions))throw Ko("",$t("Request canceled"),n.params);return JA(n)}})}).push(t)}async function JA(t){var n,o;let e,i;await g0e(t);try{do[e,i]=await v0e(t);while(!await S0e(t,e,i))}catch(l){const c=Ko("request:server",l,t.params,e);throw c.details.ssl=t.useSSL,(n=t.interceptor)!=null&&n.error&&t.interceptor.error(c),c}const r=t.params.url;if(i)if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(r)){if(!t.hasToken&&!t.credentialToken&&((o=i.user)!=null&&o.username)&&!IR(r)){const l=wn(r,!0);l&&Kn.trustedServers.push(l)}Array.isArray(i.authorizedCrossOriginNoCorsDomains)&&l0e(i.authorizedCrossOriginNoCorsDomains)}else(t.params.requestOptions.responseType||"json")==="json"&&h0e(r,i);const s=t.credential;if(s&&ze){const l=ze.findServerInfo(s.server);let c=l==null?void 0:l.owningSystemUrl;if(c){c=c.replace(/\/?$/,"/sharing");const d=ze.findCredential(c,s.userId);d&&ze._getIdenticalSvcIdx(c,d)===-1&&d.resources.unshift(c)}}return{data:i,getAllHeaders:e?()=>Array.from(e.headers):Vy,getHeader:e?l=>e.headers.get(l):Vy,httpStatus:(e==null?void 0:e.status)??200,requestOptions:t.params.requestOptions,ssl:t.useSSL,url:t.params.url}}async function S0e(t,e,i){var d;if(t.redoRequest)return t.redoRequest=!1,!1;const r=t.params.requestOptions;if(!e||r.responseType==="native"||r.responseType==="native-request-init")return!0;let s,n;if(i&&(i.error&&typeof i.error=="object"?s=i.error:i.status==="error"&&Array.isArray(i.messages)&&(s={...i},s[cx]=i,s.details=i.messages)),!s&&!e.ok)throw s=new Error(`Unable to load ${e.url} status: ${e.status}`),s[cx]=i,s;let o,l=null;s&&(n=Number(s.code),l=s.hasOwnProperty("subcode")?Number(s.subcode):null,o=s.messageCode,o=o==null?void 0:o.toUpperCase());const c=r.authMode;if(n===403&&(l===4||(d=s.message)!=null&&d.toLowerCase().includes("ssl")&&!s.message.toLowerCase().includes("permission"))){if(!t.useSSL)return t.useSSL=!0,!1}else if(!t.hasToken&&t.useIdentity&&(c!=="no-prompt"||n===498)&&n!==void 0&&d0e.has(n)&&!cZ(t.params.url)&&(n!==403||(!o||!p0e.has(o))&&(l==null||l===2&&t.credentialToken))){await YA();try{const m=await ze.getCredential(t.params.url,{error:Ko("request:server",s,t.params),credential:t.credential,prompt:c!=="no-prompt",signal:t.controller.signal,token:t.credentialToken});return t.credential=m,t.credentialToken=m.token,t.useSSL=t.useSSL||m.ssl,!1}catch(m){if(c==="no-prompt")return t.credential=void 0,t.credentialToken=void 0,!1;s=m}}if(s)throw s;return!0}function XL(t,e,i=!1){const r=e.controller.signal,s=new Image;return e.withCredentials?s.crossOrigin="use-credentials":s.crossOrigin="anonymous",s.alt="",s.fetchPriority=Kn.priority,s.src=t,o0e(s,t,i,r)}function x0e(t){let e,i;return typeof t=="string"?(e=wn(t,!0),i=HL(t)):(e=t.origin,i=HL(t.toString())),e==null?null:{origin:e,isHosted:i}}function bi(t){if(!dt.assetsPath)throw se.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new B("assets:path-not-set","config.assetsPath is not set");return Cw(dt.assetsPath,t)}let f5,V=null;function hZ(){return!!V}function T0e(){return!!q("esri-wasm")}function $0e(){return f5||(f5=te(async()=>{const{default:t}=await import("./pe-wasm-CyV_MJXv.js");return{default:t}},[]).then(({default:t})=>t({locateFile:e=>bi(`esri/geometry/support/${e}`)})).then(t=>{gZ(t)}),f5)}const I2={geogToProj(t,e,i){V.ensureCache.prepare();const r=cp(i),s=i===r,n=V.ensureFloat64(r),o=V._pe_geog_to_proj(V.getPointer(t),e,n);return o&&Zc(i,e,n,s),o},projGeog(t,e,i,r){switch(r){case li.PE_TRANSFORM_P_TO_G:return I2.projToGeog(t,e,i);case li.PE_TRANSFORM_G_TO_P:return I2.geogToProj(t,e,i)}return 0},projToGeog:(t,e,i)=>I2.projToGeogCenter(t,e,i,0),projToGeogCenter(t,e,i,r){V.ensureCache.prepare();const s=cp(i),n=i===s,o=V.ensureFloat64(s),l=V._pe_proj_to_geog_center(V.getPointer(t),e,o,r);return l&&Zc(i,e,o,n),l}};let li=class vt{static init(){vt.PE_BUFFER_MAX=V.PeDefs.prototype.PE_BUFFER_MAX,vt.PE_NAME_MAX=V.PeDefs.prototype.PE_NAME_MAX,vt.PE_MGRS_MAX=V.PeDefs.prototype.PE_MGRS_MAX,vt.PE_USNG_MAX=V.PeDefs.prototype.PE_USNG_MAX,vt.PE_DD_MAX=V.PeDefs.prototype.PE_DD_MAX,vt.PE_DDM_MAX=V.PeDefs.prototype.PE_DDM_MAX,vt.PE_DMS_MAX=V.PeDefs.prototype.PE_DMS_MAX,vt.PE_UTM_MAX=V.PeDefs.prototype.PE_UTM_MAX,vt.PE_PARM_MAX=V.PeDefs.prototype.PE_PARM_MAX,vt.PE_TYPE_NONE=V.PeDefs.prototype.PE_TYPE_NONE,vt.PE_TYPE_GEOGCS=V.PeDefs.prototype.PE_TYPE_GEOGCS,vt.PE_TYPE_PROJCS=V.PeDefs.prototype.PE_TYPE_PROJCS,vt.PE_TYPE_GEOGTRAN=V.PeDefs.prototype.PE_TYPE_GEOGTRAN,vt.PE_TYPE_COORDSYS=V.PeDefs.prototype.PE_TYPE_COORDSYS,vt.PE_TYPE_UNIT=V.PeDefs.prototype.PE_TYPE_UNIT,vt.PE_TYPE_LINUNIT=V.PeDefs.prototype.PE_TYPE_LINUNIT,vt.PE_STR_OPTS_NONE=V.PeDefs.prototype.PE_STR_OPTS_NONE,vt.PE_STR_AUTH_NONE=V.PeDefs.prototype.PE_STR_AUTH_NONE,vt.PE_STR_AUTH_TOP=V.PeDefs.prototype.PE_STR_AUTH_TOP,vt.PE_STR_NAME_CANON=V.PeDefs.prototype.PE_STR_NAME_CANON,vt.PE_STR_FMT_WKT=V.PeDefs.prototype.PE_STR_FMT_WKT,vt.PE_STR_FMT_WKT2=V.PeDefs.prototype.PE_STR_FMT_WKT2,vt.PE_PARM_X0=V.PeDefs.prototype.PE_PARM_X0,vt.PE_PARM_ND=V.PeDefs.prototype.PE_PARM_ND,vt.PE_TRANSFORM_1_TO_2=V.PeDefs.prototype.PE_TRANSFORM_1_TO_2,vt.PE_TRANSFORM_2_TO_1=V.PeDefs.prototype.PE_TRANSFORM_2_TO_1,vt.PE_TRANSFORM_P_TO_G=V.PeDefs.prototype.PE_TRANSFORM_P_TO_G,vt.PE_TRANSFORM_G_TO_P=V.PeDefs.prototype.PE_TRANSFORM_G_TO_P,vt.PE_HORIZON_RECT=V.PeDefs.prototype.PE_HORIZON_RECT,vt.PE_HORIZON_POLY=V.PeDefs.prototype.PE_HORIZON_POLY,vt.PE_HORIZON_LINE=V.PeDefs.prototype.PE_HORIZON_LINE,vt.PE_HORIZON_DELTA=V.PeDefs.prototype.PE_HORIZON_DELTA}},dZ=null;const QL={},e7={},t7=t=>{const e=t.getType();switch(e){case li.PE_TYPE_GEOGCS:t=V.castObject(t,V.PeGeogcs);break;case li.PE_TYPE_PROJCS:t=V.castObject(t,V.PeProjcs);break;case li.PE_TYPE_GEOGTRAN:t=V.castObject(t,V.PeGeogtran);break;default:e&li.PE_TYPE_UNIT&&(t=V.castObject(t,V.PeUnit))}return t},zf={initialize(){V.PeFactory.prototype.initialize(null)},coordsys:t=>zf.factoryByType(li.PE_TYPE_COORDSYS,t),factoryByType(t,e){let i=null,r=QL[t];if(r||(r={},QL[t]=r),r.hasOwnProperty(String(e))&&(i=r[e],V.compare(i,V.NULL)&&(i=null)),!i){const s=V.PeFactory.prototype.factoryByType(t,e);V.compare(s,V.NULL)||(i=t7(s),r[e]=i)}return i},fromString(t,e){let i=null,r=e7[t];if(r||(r={},e7[t]=r),r.hasOwnProperty(e)&&(i=r[e],V.compare(i,V.NULL)&&(i=null)),!i){const s=V.PeFactory.prototype.fromString(t,e);V.compare(s,V.NULL)||(i=t7(s),r[e]=i)}return i},geogcs:t=>zf.factoryByType(li.PE_TYPE_GEOGCS,t),geogtran:t=>zf.factoryByType(li.PE_TYPE_GEOGTRAN,t),getCode:t=>V.PeFactory.prototype.getCode(t),projcs:t=>zf.factoryByType(li.PE_TYPE_PROJCS,t),unit:t=>zf.factoryByType(li.PE_TYPE_UNIT,t)};let i7,pZ=null;const UR={PE_GTLIST_OPTS_COMMON:0,init(){UR.PE_GTLIST_OPTS_COMMON=V.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,i7=V._pe_getPeGTlistExtendedEntrySize()},getGTlist(t,e,i,r,s,n){let o=null;const l=new V.PeInteger(n);try{const c=V.PeGTlistExtended.prototype.getGTlist(t,e,i,r,s,l);if((n=l.val)&&(o=[c],n>1)){const d=V.getPointer(c);for(let m=1;m<n;m++)o.push(V.wrapPointer(d+i7*m,V.PeGTlistExtendedEntry))}}finally{V.destroy(l)}return o}},M0e={destroy(t){if(t!=null&&t.length){for(const e of t)jo(e),e.getEntries().forEach(i=>{jo(i);const r=i.getGeogtran();jo(r),r.getParameters().forEach(jo),[r.getGeogcs1(),r.getGeogcs2()].forEach(s=>{jo(s);const n=s.getDatum();jo(n),jo(n.getSpheroid()),jo(s.getPrimem()),jo(s.getUnit())})});V.PeGTlistExtendedEntry.prototype.Delete(t[0])}}},E0e={geogToGeog(t,e,i,r,s){V.ensureCache.prepare();const n=cp(i),o=i===n,l=V.ensureFloat64(n);let c=0;r&&(c=V.ensureFloat64(r));const d=V._pe_geog_to_geog(V.getPointer(t),e,l,c,s);return d&&Zc(i,e,l,o),d}},A0e={geodesicCoordinate(t,e,i,r,s,n,o,l){V.PeLineType.prototype.geodesic_coordinate(t,e,i,r,s,n,o,l)},geodeticCoordinate(t,e,i,r,s,n,o,l,c){V.PeLineType.prototype.geodetic_coordinate(t,e,i,r,s,n,o,l,c)},geodeticDistance(t,e,i,r,s,n,o,l,c,d){V.PeLineType.prototype.geodetic_distance(t,e,i,r,s,n,o,l,c,d)},greatEllipticDistance(t,e,i,r,s,n,o,l,c){V.PeLineType.prototype.great_elliptic_distance(t,e,i,r,s,n,o,l,c)}},O0e={phiToEta:(t,e)=>V.PeMath.prototype.phi_to_eta(t,e),etaToPhi:(t,e)=>V.PeMath.prototype.eta_to_phi(t,e),phiToPhig:(t,e)=>V.PeMath.prototype.phi_to_phig(t,e),q:(t,e,i)=>V.PeMath.prototype.q(t,e,i),q90:(t,e)=>V.PeMath.prototype.q90(t,e)},m5=(t,e,i,r,s,n)=>{let o,l;switch(V.ensureCache.prepare(),t){case"dd":o=V._pe_geog_to_dd,l=li.PE_DD_MAX;break;case"ddm":o=V._pe_geog_to_ddm,l=li.PE_DDM_MAX;break;case"dms":o=V._pe_geog_to_dms,l=li.PE_DMS_MAX}let c=0;e&&(c=V.getPointer(e));const d=cp(r),m=V.ensureFloat64(d),v=_T(i,l),w=o(c,i,m,s,V.ensureInt32(v));if(w)for(let _=0;_<i;_++)n[_]=V.UTF8ToString(v[_]);return w},y5=(t,e,i,r,s)=>{let n;switch(V.ensureCache.prepare(),t){case"dd":n=V._pe_dd_to_geog;break;case"ddm":n=V._pe_ddm_to_geog;break;case"dms":n=V._pe_dms_to_geog}let o=0;e&&(o=V.getPointer(e));const l=r.map(v=>V.ensureString(v)),c=V.ensureInt32(l),d=V.ensureFloat64(new Array(2*i)),m=n(o,i,c,d);return m&&Zc(s,i,d),m},k0e={geogToDms:(t,e,i,r,s)=>m5("dms",t,e,i,r,s),dmsToGeog:(t,e,i,r)=>y5("dms",t,e,i,r),geogToDdm:(t,e,i,r,s)=>m5("ddm",t,e,i,r,s),ddmToGeog:(t,e,i,r)=>y5("ddm",t,e,i,r),geogToDd:(t,e,i,r,s)=>m5("dd",t,e,i,r,s),ddToGeog:(t,e,i,r)=>y5("dd",t,e,i,r)};let fZ=class Uf{static init(){Uf.PE_MGRS_STYLE_NEW=V.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,Uf.PE_MGRS_STYLE_OLD=V.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,Uf.PE_MGRS_STYLE_AUTO=V.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,Uf.PE_MGRS_180_ZONE_1_PLUS=V.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,Uf.PE_MGRS_ADD_SPACES=V.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}static geogToMgrsExtended(e,i,r,s,n,o,l){V.ensureCache.prepare();let c=0;e&&(c=V.getPointer(e));const d=cp(r),m=V.ensureFloat64(d),v=_T(i,li.PE_MGRS_MAX),w=V.ensureInt32(v),_=V._pe_geog_to_mgrs_extended(c,i,m,s,n,o,w);if(_)for(let x=0;x<i;x++)l[x]=V.UTF8ToString(v[x]);return _}static mgrsToGeogExtended(e,i,r,s,n){V.ensureCache.prepare();let o=0;e&&(o=V.getPointer(e));const l=r.map(v=>V.ensureString(v)),c=V.ensureInt32(l),d=V.ensureFloat64(new Array(2*i)),m=V._pe_mgrs_to_geog_extended(o,i,c,s,d);return m&&Zc(n,i,d),m}};const C0e={geogToUsng(t,e,i,r,s,n,o){V.ensureCache.prepare();let l=0;t&&(l=V.getPointer(t));const c=cp(i),d=V.ensureFloat64(c),m=_T(e,li.PE_MGRS_MAX),v=V.ensureInt32(m),w=V._pe_geog_to_usng(l,e,d,r,s,n,v);if(w)for(let _=0;_<e;_++)o[_]=V.UTF8ToString(m[_]);return w},usngToGeog(t,e,i,r){V.ensureCache.prepare();let s=0;t&&(s=V.getPointer(t));const n=i.map(d=>V.ensureString(d)),o=V.ensureInt32(n),l=V.ensureFloat64(new Array(2*e)),c=V._pe_usng_to_geog(s,e,o,l);return c&&Zc(r,e,l),c}};let mZ=class P2{static init(){P2.PE_UTM_OPTS_NONE=V.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,P2.PE_UTM_OPTS_ADD_SPACES=V.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,P2.PE_UTM_OPTS_NS=V.PeNotationUtm.prototype.PE_UTM_OPTS_NS}static geogToUtm(e,i,r,s,n){V.ensureCache.prepare();let o=0;e&&(o=V.getPointer(e));const l=cp(r),c=V.ensureFloat64(l),d=_T(i,li.PE_UTM_MAX),m=V.ensureInt32(d),v=V._pe_geog_to_utm(o,i,c,s,m);if(v)for(let w=0;w<i;w++)n[w]=V.UTF8ToString(d[w]);return v}static utmToGeog(e,i,r,s,n){V.ensureCache.prepare();let o=0;e&&(o=V.getPointer(e));const l=r.map(v=>V.ensureString(v)),c=V.ensureInt32(l),d=V.ensureFloat64(new Array(2*i)),m=V._pe_utm_to_geog(o,i,c,s,d);return m&&Zc(n,i,d),m}};var Vs;let yZ=(Vs=class{static init(){Vs.PE_PCSINFO_OPTION_NONE=V.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,Vs.PE_PCSINFO_OPTION_DOMAIN=V.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,Vs.PE_POLE_OUTSIDE_BOUNDARY=V.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,Vs.PE_POLE_POINT=V.PePCSInfo.prototype.PE_POLE_POINT}static generate(e,i=Vs.PE_PCSINFO_OPTION_DOMAIN){let r=null,s=null;return Vs.cache.has(e)&&(s=Vs.cache.get(e),s[i]&&(r=s[i])),r||(r=V.PePCSInfo.prototype.generate(e,i),s||(s=[],Vs.cache.set(e,s)),s[i]=r),r}},Vs.cache=new Map,Vs);const R0e={versionString:()=>V.PeVersion.prototype.version_string()};function gZ(t){function e(n,o,l){n[o]=l(n[o])}V=t,li.init(),UR.init(),fZ.init(),mZ.init(),yZ.init(),dZ=class extends V.PeDouble{constructor(n=NaN){super(n)}destroy(){V.destroy(this)}[Symbol.dispose](){this.destroy()}},pZ=class extends V.PeGCSExtent{destroy(){V.destroy(this)}[Symbol.dispose](){this.destroy()}};const i=[V.PeAngunit,V.PeDatum,V.PeGeogcs,V.PeGeogtran,V.PeObject,V.PeParameter,V.PePrimem,V.PeProjcs,V.PeSpheroid,V.PeUnit];for(const n of i)e(n.prototype,"getName",o=>function(){return o.call(this,new Array(li.PE_NAME_MAX))});for(const n of[V.PeGeogtran,V.PeProjcs])e(n.prototype,"getParameters",o=>function(){const l=new Array(li.PE_PARM_MAX);let c=o.call(this);for(let d=0;d<l.length;d++){const m=V.getValue(c,"*");l[d]=m?V.wrapPointer(m,V.PeParameter):null,c+=Int32Array.BYTES_PER_ELEMENT}return l});e(V.PeHorizon.prototype,"getCoord",n=>function(o=!1){const l=this.getSize();if(!l)return null;const c=[];return Zc(c,l,n.call(this),o),c}),e(V.PeGTlistExtendedEntry.prototype,"getEntries",n=>{const o=V._pe_getPeGTlistExtendedGTsSize();return function(){let l=null;const c=n.call(this);if(!V.compare(c,V.NULL)){l=[c];const d=this.getSteps();if(d>1){const m=V.getPointer(c);for(let v=1;v<d;v++)l.push(V.wrapPointer(m+o*v,V.PeGTlistExtendedGTs))}}return l}});const r=V._pe_getPeHorizonSize(),s=n=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(n))return o.get(n);let l=null;const c=n.call(this);if(!V.compare(c,V.NULL)){l=[c];const d=c.getNump();if(d>1){const m=V.getPointer(c);for(let v=1;v<d;v++)l.push(V.wrapPointer(m+r*v,V.PeHorizon))}}return o.set(n,l),l};e(V.PeProjcs.prototype,"horizonGcsGenerate",s),e(V.PeProjcs.prototype,"horizonPcsGenerate",s),V.PeObject.prototype.toString=function(n=li.PE_STR_OPTS_NONE){V.ensureCache.prepare();const o=V.getPointer(this),l=V.ensureInt8(new Array(li.PE_BUFFER_MAX));return V.UTF8ToString(V._pe_object_to_string_ext(o,n,l))},V.PeGeogcs.prototype.destroy=function(){this.Delete(),jo(this),this.ptr=0},V.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},V.PeProjcs.prototype.destroy=function(){this.Delete(),jo(this),this.ptr=0},V.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function jo(t){if(!t)return;const e=V.getClass(t);if(!e)return;const i=V.getCache(e);if(!i)return;const r=V.getPointer(t);r&&delete i[r]}function _T(t,e){const i=[],r=new Array(e);for(let s=0;s<t;s++)i.push(V.ensureInt8(r));return i}function cp(t){return ArrayBuffer.isView(t)?t:Array.isArray(t[0])?t.flat():t}function Zc(t,e,i,r=!1){if(r)for(let s=0;s<2*e;s++)t[s]=V.getValue(i+s*Float64Array.BYTES_PER_ELEMENT,"double");else{const s=t.length===0;for(let n=0;n<e;n++)s&&(t[n]=new Array(2)),t[n][0]=V.getValue(i,"double"),t[n][1]=V.getValue(i+Float64Array.BYTES_PER_ELEMENT,"double"),i+=2*Float64Array.BYTES_PER_ELEMENT}}const PDe=Object.freeze(Object.defineProperty({__proto__:null,PeCSTransformations:I2,PeDefs:li,get PeDouble(){return dZ},PeFactory:zf,get PeGCSExtent(){return pZ},PeGTTransformations:E0e,PeGTlistExtended:UR,PeGTlistExtendedEntry:M0e,PeLineType:A0e,PeMath:O0e,PeNotationDms:k0e,PeNotationMgrs:fZ,PeNotationUsng:C0e,PeNotationUtm:mZ,PePCSInfo:yZ,PeVersion:R0e,_init:gZ,get _pe(){return V},isLoaded:hZ,isSupported:T0e,load:$0e},Symbol.toStringTag,{value:"Module"}));let y;const A={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10641:0,10665:0,10674:0,10744:0,10745:0,10759:0,10773:0,10802:0,10820:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,65061:2,65062:2,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(y=2e3;y<=2045;y++)A[y]=0;for(y=2056;y<=2065;y++)A[y]=0;for(y=2067;y<=2135;y++)A[y]=0;for(y=2137;y<=2154;y++)A[y]=0;for(y=2161;y<=2170;y++)A[y]=0;for(y=2172;y<=2193;y++)A[y]=0;for(y=2195;y<=2198;y++)A[y]=0;for(y=2200;y<=2203;y++)A[y]=0;for(y=2205;y<=2217;y++)A[y]=0;for(y=2222;y<=2224;y++)A[y]=1;for(y=2225;y<=2250;y++)A[y]=2;for(y=2251;y<=2253;y++)A[y]=1;for(y=2257;y<=2264;y++)A[y]=2;for(y=2274;y<=2279;y++)A[y]=2;for(y=2280;y<=2282;y++)A[y]=1;for(y=2283;y<=2289;y++)A[y]=2;for(y=2290;y<=2292;y++)A[y]=0;for(y=2308;y<=2313;y++)A[y]=0;for(y=2315;y<=2491;y++)A[y]=0;for(y=2494;y<=2866;y++)A[y]=0;for(y=2867;y<=2869;y++)A[y]=1;for(y=2870;y<=2888;y++)A[y]=2;for(y=2891;y<=2895;y++)A[y]=2;for(y=2896;y<=2898;y++)A[y]=1;for(y=2902;y<=2908;y++)A[y]=2;for(y=2915;y<=2920;y++)A[y]=2;for(y=2921;y<=2923;y++)A[y]=1;for(y=2924;y<=2930;y++)A[y]=2;for(y=2931;y<=2962;y++)A[y]=0;for(y=2964;y<=2968;y++)A[y]=2;for(y=2969;y<=2973;y++)A[y]=0;for(y=2975;y<=2991;y++)A[y]=0;for(y=2995;y<=3051;y++)A[y]=0;for(y=3054;y<=3079;y++)A[y]=0;for(y=3081;y<=3088;y++)A[y]=0;for(y=3092;y<=3101;y++)A[y]=0;for(y=3106;y<=3138;y++)A[y]=0;for(y=3146;y<=3151;y++)A[y]=0;for(y=3153;y<=3166;y++)A[y]=0;for(y=3168;y<=3172;y++)A[y]=0;for(y=3174;y<=3203;y++)A[y]=0;for(y=3294;y<=3358;y++)A[y]=0;for(y=3367;y<=3403;y++)A[y]=0;for(y=3408;y<=3416;y++)A[y]=0;for(y=3417;y<=3438;y++)A[y]=2;for(y=3441;y<=3446;y++)A[y]=2;for(y=3447;y<=3450;y++)A[y]=0;for(y=3451;y<=3459;y++)A[y]=2;for(y=3460;y<=3478;y++)A[y]=0;for(y=3554;y<=3559;y++)A[y]=0;for(y=3560;y<=3570;y++)A[y]=2;for(y=3571;y<=3581;y++)A[y]=0;for(y=3594;y<=3597;y++)A[y]=0;for(y=3601;y<=3604;y++)A[y]=0;for(y=3637;y<=3639;y++)A[y]=0;for(y=3665;y<=3667;y++)A[y]=0;for(y=3693;y<=3695;y++)A[y]=0;for(y=3701;y<=3727;y++)A[y]=0;for(y=3728;y<=3739;y++)A[y]=2;for(y=3740;y<=3751;y++)A[y]=0;for(y=3753;y<=3760;y++)A[y]=2;for(y=3761;y<=3773;y++)A[y]=0;for(y=3775;y<=3777;y++)A[y]=0;for(y=3779;y<=3781;y++)A[y]=0;for(y=3783;y<=3785;y++)A[y]=0;for(y=3788;y<=3791;y++)A[y]=0;for(y=3797;y<=3802;y++)A[y]=0;for(y=3814;y<=3816;y++)A[y]=0;for(y=3825;y<=3829;y++)A[y]=0;for(y=3832;y<=3841;y++)A[y]=0;for(y=3844;y<=3852;y++)A[y]=0;for(y=3873;y<=3885;y++)A[y]=0;for(y=3890;y<=3893;y++)A[y]=0;for(y=3907;y<=3912;y++)A[y]=0;for(y=3942;y<=3950;y++)A[y]=0;for(y=3968;y<=3970;y++)A[y]=0;for(y=3973;y<=3976;y++)A[y]=0;for(y=3986;y<=3989;y++)A[y]=0;for(y=3994;y<=3997;y++)A[y]=0;for(y=4048;y<=4051;y++)A[y]=0;for(y=4056;y<=4063;y++)A[y]=0;for(y=4093;y<=4096;y++)A[y]=0;for(y=4390;y<=4398;y++)A[y]=0;for(y=4399;y<=4413;y++)A[y]=2;for(y=4418;y<=4433;y++)A[y]=2;for(y=4455;y<=4457;y++)A[y]=2;for(y=4484;y<=4489;y++)A[y]=0;for(y=4491;y<=4554;y++)A[y]=0;for(y=4568;y<=4589;y++)A[y]=0;for(y=4652;y<=4656;y++)A[y]=0;for(y=4766;y<=4800;y++)A[y]=0;for(y=5014;y<=5016;y++)A[y]=0;for(y=5069;y<=5072;y++)A[y]=0;for(y=5105;y<=5130;y++)A[y]=0;for(y=5167;y<=5188;y++)A[y]=0;for(y=5253;y<=5259;y++)A[y]=0;for(y=5269;y<=5275;y++)A[y]=0;for(y=5292;y<=5311;y++)A[y]=0;for(y=5329;y<=5331;y++)A[y]=0;for(y=5343;y<=5349;y++)A[y]=0;for(y=5355;y<=5357;y++)A[y]=0;for(y=5387;y<=5389;y++)A[y]=0;for(y=5459;y<=5463;y++)A[y]=0;for(y=5479;y<=5482;y++)A[y]=0;for(y=5518;y<=5520;y++)A[y]=0;for(y=5530;y<=5539;y++)A[y]=0;for(y=5550;y<=5552;y++)A[y]=0;for(y=5562;y<=5583;y++)A[y]=0;for(y=5623;y<=5625;y++)A[y]=2;for(y=5631;y<=5639;y++)A[y]=0;for(y=5649;y<=5653;y++)A[y]=0;for(y=5663;y<=5680;y++)A[y]=0;for(y=5682;y<=5685;y++)A[y]=0;for(y=5875;y<=5877;y++)A[y]=0;for(y=5896;y<=5899;y++)A[y]=0;for(y=5921;y<=5940;y++)A[y]=0;for(y=6050;y<=6125;y++)A[y]=0;for(y=6244;y<=6275;y++)A[y]=0;for(y=6328;y<=6348;y++)A[y]=0;for(y=6350;y<=6356;y++)A[y]=0;for(y=6366;y<=6372;y++)A[y]=0;for(y=6381;y<=6387;y++)A[y]=0;for(y=6393;y<=6404;y++)A[y]=0;for(y=6480;y<=6483;y++)A[y]=0;for(y=6511;y<=6514;y++)A[y]=0;for(y=6579;y<=6581;y++)A[y]=0;for(y=6619;y<=6624;y++)A[y]=0;for(y=6625;y<=6627;y++)A[y]=2;for(y=6628;y<=6632;y++)A[y]=0;for(y=6634;y<=6637;y++)A[y]=0;for(y=6669;y<=6692;y++)A[y]=0;for(y=6707;y<=6709;y++)A[y]=0;for(y=6720;y<=6723;y++)A[y]=0;for(y=6732;y<=6738;y++)A[y]=0;for(y=6931;y<=6933;y++)A[y]=0;for(y=6956;y<=6959;y++)A[y]=0;for(y=7005;y<=7007;y++)A[y]=0;for(y=7057;y<=7070;y++)A[y]=2;for(y=7074;y<=7082;y++)A[y]=0;for(y=7109;y<=7118;y++)A[y]=0;for(y=7119;y<=7127;y++)A[y]=1;for(y=7374;y<=7376;y++)A[y]=0;for(y=7528;y<=7586;y++)A[y]=0;for(y=7587;y<=7645;y++)A[y]=2;for(y=7692;y<=7696;y++)A[y]=0;for(y=7755;y<=7787;y++)A[y]=0;for(y=7791;y<=7795;y++)A[y]=0;for(y=7799;y<=7801;y++)A[y]=0;for(y=7803;y<=7805;y++)A[y]=0;for(y=7825;y<=7831;y++)A[y]=0;for(y=7845;y<=7859;y++)A[y]=0;for(y=8013;y<=8032;y++)A[y]=0;for(y=8065;y<=8068;y++)A[y]=1;for(y=8518;y<=8529;y++)A[y]=2;for(y=8533;y<=8536;y++)A[y]=2;for(y=8538;y<=8540;y++)A[y]=2;for(y=8677;y<=8679;y++)A[y]=0;for(y=8836;y<=8840;y++)A[y]=0;for(y=8857;y<=8859;y++)A[y]=0;for(y=8908;y<=8910;y++)A[y]=0;for(y=9154;y<=9159;y++)A[y]=0;for(y=9205;y<=9218;y++)A[y]=0;for(y=9271;y<=9273;y++)A[y]=0;for(y=9295;y<=9297;y++)A[y]=0;for(y=9356;y<=9360;y++)A[y]=0;for(y=9404;y<=9407;y++)A[y]=0;for(y=9476;y<=9482;y++)A[y]=0;for(y=9487;y<=9494;y++)A[y]=0;for(y=9697;y<=9699;y++)A[y]=0;for(y=9821;y<=9865;y++)A[y]=0;for(y=10285;y<=10291;y++)A[y]=0;for(y=10314;y<=10317;y++)A[y]=0;for(y=10448;y<=10465;y++)A[y]=0;for(y=10726;y<=10729;y++)A[y]=0;for(y=10731;y<=10733;y++)A[y]=0;for(y=11114;y<=11118;y++)A[y]=0;for(y=20004;y<=20032;y++)A[y]=0;for(y=20047;y<=20049;y++)A[y]=0;for(y=20062;y<=20092;y++)A[y]=0;for(y=20135;y<=20138;y++)A[y]=0;for(y=20248;y<=20258;y++)A[y]=0;for(y=20348;y<=20358;y++)A[y]=0;for(y=20436;y<=20440;y++)A[y]=0;for(y=20822;y<=20824;y++)A[y]=0;for(y=20904;y<=20932;y++)A[y]=0;for(y=20934;y<=20936;y++)A[y]=0;for(y=21004;y<=21032;y++)A[y]=0;for(y=21035;y<=21037;y++)A[y]=0;for(y=21095;y<=21097;y++)A[y]=0;for(y=21148;y<=21150;y++)A[y]=0;for(y=21207;y<=21264;y++)A[y]=0;for(y=21307;y<=21364;y++)A[y]=0;for(y=21413;y<=21423;y++)A[y]=0;for(y=21453;y<=21463;y++)A[y]=0;for(y=21473;y<=21483;y++)A[y]=0;for(y=21780;y<=21782;y++)A[y]=0;for(y=21891;y<=21894;y++)A[y]=0;for(y=21896;y<=21899;y++)A[y]=0;for(y=22171;y<=22177;y++)A[y]=0;for(y=22181;y<=22187;y++)A[y]=0;for(y=22191;y<=22197;y++)A[y]=0;for(y=22207;y<=22222;y++)A[y]=0;for(y=22229;y<=22232;y++)A[y]=0;for(y=22234;y<=22236;y++)A[y]=0;for(y=22243;y<=22250;y++)A[y]=0;for(y=22262;y<=22265;y++)A[y]=0;for(y=22307;y<=22322;y++)A[y]=0;for(y=22348;y<=22357;y++)A[y]=0;for(y=22407;y<=22422;y++)A[y]=0;for(y=22462;y<=22465;y++)A[y]=0;for(y=22521;y<=22525;y++)A[y]=0;for(y=22607;y<=22622;y++)A[y]=0;for(y=22641;y<=22646;y++)A[y]=0;for(y=22648;y<=22657;y++)A[y]=0;for(y=22707;y<=22722;y++)A[y]=0;for(y=22762;y<=22765;y++)A[y]=0;for(y=22807;y<=22822;y++)A[y]=0;for(y=22991;y<=22994;y++)A[y]=0;for(y=23028;y<=23038;y++)A[y]=0;for(y=23301;y<=23333;y++)A[y]=2;for(y=23830;y<=23853;y++)A[y]=0;for(y=23866;y<=23872;y++)A[y]=0;for(y=23877;y<=23884;y++)A[y]=0;for(y=23886;y<=23894;y++)A[y]=0;for(y=23946;y<=23948;y++)A[y]=0;for(y=24311;y<=24313;y++)A[y]=0;for(y=24342;y<=24347;y++)A[y]=0;for(y=24370;y<=24374;y++)A[y]=10;for(y=24375;y<=24381;y++)A[y]=0;for(y=24718;y<=24721;y++)A[y]=0;for(y=24817;y<=24821;y++)A[y]=0;for(y=24877;y<=24882;y++)A[y]=0;for(y=24891;y<=24893;y++)A[y]=0;for(y=25391;y<=25395;y++)A[y]=0;for(y=25828;y<=25838;y++)A[y]=0;for(y=26191;y<=26195;y++)A[y]=0;for(y=26391;y<=26393;y++)A[y]=0;for(y=26701;y<=26722;y++)A[y]=0;for(y=26729;y<=26799;y++)A[y]=2;for(y=26801;y<=26803;y++)A[y]=2;for(y=26811;y<=26813;y++)A[y]=2;for(y=26847;y<=26870;y++)A[y]=2;for(y=26891;y<=26899;y++)A[y]=0;for(y=26901;y<=26923;y++)A[y]=0;for(y=26929;y<=26946;y++)A[y]=0;for(y=26948;y<=26998;y++)A[y]=0;for(y=27037;y<=27040;y++)A[y]=0;for(y=27205;y<=27232;y++)A[y]=0;for(y=27258;y<=27260;y++)A[y]=0;for(y=27391;y<=27398;y++)A[y]=0;for(y=27561;y<=27564;y++)A[y]=0;for(y=27571;y<=27574;y++)A[y]=0;for(y=27581;y<=27584;y++)A[y]=0;for(y=27591;y<=27594;y++)A[y]=0;for(y=27700;y<=27707;y++)A[y]=0;for(y=28191;y<=28193;y++)A[y]=0;for(y=28348;y<=28358;y++)A[y]=0;for(y=28402;y<=28432;y++)A[y]=0;for(y=28462;y<=28492;y++)A[y]=0;for(y=29118;y<=29122;y++)A[y]=0;for(y=29168;y<=29172;y++)A[y]=0;for(y=29177;y<=29185;y++)A[y]=0;for(y=29187;y<=29195;y++)A[y]=0;for(y=29900;y<=29903;y++)A[y]=0;for(y=30161;y<=30179;y++)A[y]=0;for(y=30491;y<=30494;y++)A[y]=0;for(y=30729;y<=30732;y++)A[y]=0;for(y=31251;y<=31259;y++)A[y]=0;for(y=31265;y<=31268;y++)A[y]=0;for(y=31275;y<=31279;y++)A[y]=0;for(y=31281;y<=31297;y++)A[y]=0;for(y=31461;y<=31469;y++)A[y]=0;for(y=31491;y<=31495;y++)A[y]=0;for(y=31917;y<=31922;y++)A[y]=0;for(y=31965;y<=32e3;y++)A[y]=0;for(y=32001;y<=32003;y++)A[y]=2;for(y=32005;y<=32031;y++)A[y]=2;for(y=32033;y<=32060;y++)A[y]=2;for(y=32064;y<=32067;y++)A[y]=2;for(y=32074;y<=32077;y++)A[y]=2;for(y=32081;y<=32086;y++)A[y]=0;for(y=32107;y<=32130;y++)A[y]=0;for(y=32133;y<=32159;y++)A[y]=0;for(y=32164;y<=32167;y++)A[y]=2;for(y=32180;y<=32199;y++)A[y]=0;for(y=32201;y<=32260;y++)A[y]=0;for(y=32301;y<=32360;y++)A[y]=0;for(y=32401;y<=32460;y++)A[y]=0;for(y=32501;y<=32560;y++)A[y]=0;for(y=32601;y<=32662;y++)A[y]=0;for(y=32664;y<=32667;y++)A[y]=2;for(y=32701;y<=32761;y++)A[y]=0;for(y=53001;y<=53004;y++)A[y]=0;for(y=53008;y<=53019;y++)A[y]=0;for(y=53021;y<=53032;y++)A[y]=0;for(y=53034;y<=53037;y++)A[y]=0;for(y=53042;y<=53046;y++)A[y]=0;for(y=53074;y<=53080;y++)A[y]=0;for(y=54001;y<=54004;y++)A[y]=0;for(y=54008;y<=54019;y++)A[y]=0;for(y=54021;y<=54032;y++)A[y]=0;for(y=54034;y<=54037;y++)A[y]=0;for(y=54042;y<=54046;y++)A[y]=0;for(y=54048;y<=54053;y++)A[y]=0;for(y=54074;y<=54080;y++)A[y]=0;for(y=54090;y<=54096;y++)A[y]=0;for(y=54098;y<=54101;y++)A[y]=0;for(y=65161;y<=65163;y++)A[y]=0;for(y=102001;y<=102040;y++)A[y]=0;for(y=102042;y<=102063;y++)A[y]=0;for(y=102065;y<=102067;y++)A[y]=0;for(y=102070;y<=102117;y++)A[y]=0;for(y=102122;y<=102216;y++)A[y]=0;for(y=102221;y<=102377;y++)A[y]=0;for(y=102382;y<=102388;y++)A[y]=0;for(y=102389;y<=102398;y++)A[y]=2;for(y=102399;y<=102444;y++)A[y]=0;for(y=102445;y<=102447;y++)A[y]=2;for(y=102448;y<=102458;y++)A[y]=0;for(y=102459;y<=102468;y++)A[y]=2;for(y=102469;y<=102499;y++)A[y]=0;for(y=102500;y<=102519;y++)A[y]=1;for(y=102520;y<=102524;y++)A[y]=0;for(y=102525;y<=102529;y++)A[y]=2;for(y=102530;y<=102588;y++)A[y]=0;for(y=102590;y<=102598;y++)A[y]=0;for(y=102601;y<=102603;y++)A[y]=0;for(y=102605;y<=102628;y++)A[y]=0;for(y=102629;y<=102646;y++)A[y]=2;for(y=102648;y<=102700;y++)A[y]=2;for(y=102701;y<=102703;y++)A[y]=0;for(y=102707;y<=102730;y++)A[y]=2;for(y=102733;y<=102758;y++)A[y]=2;for(y=102767;y<=102900;y++)A[y]=0;for(y=102901;y<=102933;y++)A[y]=2;for(y=102934;y<=102950;y++)A[y]=13;for(y=102951;y<=102963;y++)A[y]=0;for(y=102965;y<=102969;y++)A[y]=0;for(y=102971;y<=102973;y++)A[y]=0;for(y=102975;y<=102989;y++)A[y]=0;for(y=102990;y<=102992;y++)A[y]=1;for(y=102997;y<=103002;y++)A[y]=0;for(y=103003;y<=103008;y++)A[y]=2;for(y=103009;y<=103011;y++)A[y]=0;for(y=103012;y<=103014;y++)A[y]=2;for(y=103019;y<=103021;y++)A[y]=0;for(y=103022;y<=103024;y++)A[y]=2;for(y=103029;y<=103031;y++)A[y]=0;for(y=103032;y<=103034;y++)A[y]=2;for(y=103065;y<=103068;y++)A[y]=0;for(y=103074;y<=103076;y++)A[y]=0;for(y=103077;y<=103079;y++)A[y]=1;for(y=103080;y<=103082;y++)A[y]=0;for(y=103083;y<=103085;y++)A[y]=2;for(y=103090;y<=103093;y++)A[y]=0;for(y=103097;y<=103099;y++)A[y]=0;for(y=103100;y<=103102;y++)A[y]=2;for(y=103107;y<=103109;y++)A[y]=0;for(y=103110;y<=103112;y++)A[y]=2;for(y=103113;y<=103116;y++)A[y]=0;for(y=103117;y<=103120;y++)A[y]=2;for(y=103153;y<=103157;y++)A[y]=0;for(y=103158;y<=103162;y++)A[y]=2;for(y=103163;y<=103165;y++)A[y]=0;for(y=103166;y<=103168;y++)A[y]=1;for(y=103169;y<=103171;y++)A[y]=2;for(y=103186;y<=103188;y++)A[y]=0;for(y=103189;y<=103191;y++)A[y]=2;for(y=103192;y<=103195;y++)A[y]=0;for(y=103196;y<=103199;y++)A[y]=2;for(y=103200;y<=103224;y++)A[y]=0;for(y=103225;y<=103227;y++)A[y]=1;for(y=103232;y<=103237;y++)A[y]=0;for(y=103238;y<=103243;y++)A[y]=2;for(y=103244;y<=103246;y++)A[y]=0;for(y=103247;y<=103249;y++)A[y]=2;for(y=103254;y<=103256;y++)A[y]=0;for(y=103257;y<=103259;y++)A[y]=2;for(y=103264;y<=103266;y++)A[y]=0;for(y=103267;y<=103269;y++)A[y]=2;for(y=103300;y<=103375;y++)A[y]=0;for(y=103381;y<=103383;y++)A[y]=0;for(y=103384;y<=103386;y++)A[y]=1;for(y=103387;y<=103389;y++)A[y]=0;for(y=103390;y<=103392;y++)A[y]=2;for(y=103397;y<=103399;y++)A[y]=0;for(y=103400;y<=103471;y++)A[y]=2;for(y=103476;y<=103478;y++)A[y]=0;for(y=103479;y<=103481;y++)A[y]=2;for(y=103486;y<=103488;y++)A[y]=0;for(y=103489;y<=103491;y++)A[y]=2;for(y=103492;y<=103495;y++)A[y]=0;for(y=103496;y<=103499;y++)A[y]=2;for(y=103528;y<=103543;y++)A[y]=0;for(y=103544;y<=103548;y++)A[y]=2;for(y=103549;y<=103551;y++)A[y]=0;for(y=103552;y<=103554;y++)A[y]=1;for(y=103555;y<=103557;y++)A[y]=2;for(y=103558;y<=103560;y++)A[y]=0;for(y=103571;y<=103573;y++)A[y]=0;for(y=103574;y<=103576;y++)A[y]=2;for(y=103577;y<=103580;y++)A[y]=0;for(y=103581;y<=103583;y++)A[y]=2;for(y=103595;y<=103694;y++)A[y]=0;for(y=103696;y<=103699;y++)A[y]=0;for(y=103700;y<=103793;y++)A[y]=2;for(y=103794;y<=103890;y++)A[y]=0;for(y=103891;y<=103896;y++)A[y]=2;for(y=103900;y<=103971;y++)A[y]=2;for(y=103972;y<=103977;y++)A[y]=0;for(y=112e3;y<=112101;y++)A[y]=0;const vZ=[102100,102113,3857,3785,900913],I0e=[104905,104971],P0e=[104903],j0e=[4326,...vZ,...I0e,...P0e],G1=[-20037508342788905e-9,20037508342788905e-9],KA=[-20037508342787e-6,20037508342787e-6],g5={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:G1,origin:KA,dx:1e-5},wZ={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:G1,origin:KA,dx:1e-5},102100:g5,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:G1,origin:KA,dx:1e-5},3857:g5,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:g5,104903:{wkTemplate:'GEOGCS["GCS_Moon_2000",DATUM["D_Moon_2000",SPHEROID["Moon_2000_IAU_IAG",1737400,0,AUTHORITY["ESRI","107903"]],AUTHORITY["ESRI","106903"]],PRIMEM["Reference_Meridian",0,AUTHORITY["ESRI","108900"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["ESRI","104903"]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function vr(t,e){if(t===e)return!0;if(t==null||e==null)return!1;const i=t.wkid,r=e.wkid;if(i!=null||r!=null){if(i===r||Fa(t)&&Fa(e))return!0;const o=t.latestWkid;if(o!=null&&r===o)return!0;const l=e.latestWkid;return l!=null&&i===l}let s,n;return t.wkt2&&e.wkt2?(s=t.wkt2,n=e.wkt2):t.wkt&&e.wkt&&(s=t.wkt,n=e.wkt),!(!s||!n)&&s.toUpperCase()===n.toUpperCase()}function vs(t){const e=t==null?void 0:t.wkid;return e!=null&&e>=2e3&&wZ[e]||null}function bZ(t){if(!t)return;const{wkid:e,vcsWkid:i}=t;if(e)return i?JSON.stringify({wkid:e,vcsWkid:i}):String(e);const r=t.wkt||t.wkt2;return JSON.stringify(r?i?{wkt:r,vcsWkid:i}:{wkt:r}:{})}function bg(t){if(!fn(t))return!1;const{wkid:e}=t;if(e)return A[e]==null;const i=t.wkt2||t.wkt;return!!i&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(i)}function N0e(t){return!(_Z(t)||SZ(t))}function hp(t){return(t==null?void 0:t.wkid)===4326}function jDe(t){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(t)}function r7(t){return(t==null?void 0:t.wkid)===4490}function Fa(t){const e=t==null?void 0:t.wkid;return e!=null&&e>=2e3&&vZ.includes(e)}function D0e(t){return(t==null?void 0:t.wkid)===32662}function ST(t){return t===104971||t===104905}function _Z(t){return ST(t==null?void 0:t.wkid)}function xT(t){return t===104903}function SZ(t){return xT(t==null?void 0:t.wkid)}function L0e(t){const e=t==null?void 0:t.wkid;return e!=null&&e>=2e3&&j0e.includes(e)}function fn(t){if(t==null)return!1;const e=t.wkid;return e!=null&&e>=2e3||t.wkt2!=null||t.wkt!=null}const xZ={wkid:4326,wkt:Sp(wZ[4326].wkTemplate,{Central_Meridian:"0.0"})},TZ={wkid:102100,latestWkid:3857},V0e={wkid:32662};function qR(t){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${t.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const F0e=qR(hi),BR=qR(Na),GR=qR(Wc),z0e={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${hi.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},U0e=BR.wkt.toUpperCase(),q0e=GR.wkt.toUpperCase();function B0e(t){if(t!=null&&fn(t)){const e=t.wkid,i=t.wkt2??t.wkt;if(ST(e))return Na;const r=i==null?void 0:i.toUpperCase();if(i&&r===U0e)return Na;if(xT(e)||r&&r===q0e)return Wc}return hi}function NDe(t){return ST(t)?Na:xT(t)?Wc:hi}function hx(t){return vr(t,F0e)}function Yc(t){return hx(t)||vr(t,BR)||vr(t,GR)}const $Z=39.37,G0e=hi.radius*Math.PI/200,MZ=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,Fy=A,EZ=/UNIT\[([^\]]+)]/i,H0e=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),W0e=wr()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),$o=t=>t*t,Bu=t=>t*t*t,H1={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:$o(.001)},"square-centimeters":{inBaseUnits:$o(.01)},"square-decimeters":{inBaseUnits:$o(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:$o(1e3)},"square-inches":{inBaseUnits:$o(.0254)},"square-feet":{inBaseUnits:$o(.3048)},"square-yards":{inBaseUnits:$o(.9144)},"square-miles":{inBaseUnits:$o(1609.344)},"square-nautical-miles":{inBaseUnits:$o(1852)},"square-us-feet":{inBaseUnits:$o(1200/3937)},acres:{inBaseUnits:.0015625*$o(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Bu(.001)},"cubic-centimeters":{inBaseUnits:1e3*Bu(.01)},"cubic-decimeters":{inBaseUnits:1e3*Bu(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Bu(1e3)},"cubic-inches":{inBaseUnits:1e3*Bu(.0254)},"cubic-feet":{inBaseUnits:1e3*Bu(.3048)},"cubic-yards":{inBaseUnits:1e3*Bu(.9144)},"cubic-miles":{inBaseUnits:1e3*Bu(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},Z0e=(()=>{const t={};for(const e in H1)for(const i in H1[e].units)t[i]=e;return t})();function Y0e(t,e,i){return t*H1[i].units[e].inBaseUnits}function J0e(t,e,i){return t/H1[i].units[e].inBaseUnits}const K0e=["inches","feet","yards","miles","nautical-miles","us-feet","millimeters","centimeters","decimeters","meters","kilometers"],X0e=["metric","imperial"],AZ=[...X0e,...K0e],Q0e=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function XA(t){const e=Z0e[t];if(!e)throw new Error("unknown type");return e}function s7(t,e=null){return e=e||XA(t),H1[e].baseUnit===t}function _i(t,e,i){if(e===i)return t;const r=XA(e);if(r!==XA(i))throw new Error("incompatible units");const s=s7(e,r)?t:Y0e(t,e,r);return s7(i,r)?s:J0e(s,i,r)}function DDe(t,e,i,r=!1){if(!r&&bg(e))throw new Error("Unable to convert from an angular unit to a linear unit.");const s=Ap(e);return s!==i&&(t=s?_i(t,s,i):_i(t*=ho(e),"meters",i)),t}function LDe(t,e,i,r=!1){if(!r&&bg(i))throw new Error("Unable to convert from a linear unit to an angular unit.");const s=Ap(i);return e!==s&&(t=s?_i(t,e,s):_i(t,e,"meters")/ho(i)),t}function eve(t){switch(t){case"metric":return"meters";case"imperial":return"feet";default:return t}}function VDe(t){return eve(t)}function FDe(t){switch(t){case"metric":return"square-meters";case"imperial":return"square-feet";default:return t}}function zDe(t,e,i){switch(i){case"metric":return tve(t,e);case"imperial":return rve(t,e);default:return i}}function UDe(t,e,i){switch(i){case"metric":return ive(t,e);case"imperial":return sve(t,e);default:return i}}function tve(t,e){const i=_i(t,e,"meters");return Math.abs(i)<3e3?"meters":"kilometers"}function ive(t,e){const i=_i(t,e,"meters");return Math.abs(i)<1e5?"meters":"kilometers"}function rve(t,e){const i=_i(t,e,"feet");return Math.abs(i)<1e3?"feet":"miles"}function sve(t,e){const i=_i(t,e,"feet");return Math.abs(i)<1e5?"feet":"miles"}function qDe(t,e){const i=_i(t,e,"square-meters");return Math.abs(i)<3e6?"square-meters":"square-kilometers"}function BDe(t,e){const i=_i(t,e,"square-feet");return Math.abs(i)<1e6?"square-feet":"square-miles"}function nve(t,e,i){return _i(t,e,"meters")/(i*Math.PI/180)}function HR(t){return W0e.fromJSON(t.toLowerCase())||null}function n7(t){if(t!=null&&!N0e(t))return 1;const e=ho(t);return e>1e5?1:e}function OZ(t){return ho(t)>=B0e(t).metersPerDegree?"meters":Ap(t)}function ho(t,e=hi.metersPerDegree){return ove(t,!0)??e}function ove(t,e=!1){const i=(t==null?void 0:t.wkid)??null,r=(t==null?void 0:t.wkt2)??(t==null?void 0:t.wkt)??null;let s=null;if(i){if(ST(i))return Na.metersPerDegree;if(xT(i))return Wc.metersPerDegree;s=Fy.values[Fy[i]],!s&&e&&H0e.has(i)&&(s=G0e)}else r&&(RZ(r)?s=o7(MZ.exec(r),s):CZ(r)&&(s=o7(EZ.exec(r),s)));return s}function GDe(t){return bg(t)?1:ho(t)}function o7(t,e){return t!=null&&t[1]?kZ(t[1]):e}function kZ(t){return parseFloat(t.split(",")[1])}function Ap(t){const e=(t==null?void 0:t.wkid)??null,i=(t==null?void 0:t.wkt2)??(t==null?void 0:t.wkt)??null;let r=null;if(e)r=Fy.units[Fy[e]];else if(i){const s=RZ(i)?MZ:CZ(i)?EZ:null;if(s){const n=s.exec(i);n!=null&&n[1]&&(r=lve(n[1]))}}return r!=null?HR(r):null}function HDe(t){const e=Ap(t);return e!=null&&AZ.includes(e)?e:null}function WDe(t){const e=OZ(t);return e!=null&&AZ.includes(e)?e:null}function ZDe(t){const e=Ap(t);return e==null?null:Q0e.get(e)}function CZ(t){return/^GEOCCS/i.test(t)}function RZ(t){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(t)}const ave=1e-7;function lve(t){const e=/[\\"']([^\\"']+)/.exec(t);let i=e==null?void 0:e[1];if(!i||!HR(i)){const r=kZ(t);i=null;const s=Fy.values;for(let n=0;n<s.length;++n)if(Math.abs(r-s[n])<ave){i=Fy.units[n];break}}return i}function YDe(t){const e=Ap(t);if(e==null)return null;switch(e){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null}const uve={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},cve={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},hve={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},JDe=wr()(uve),KDe=wr()(cve),XDe=wr()(hve);var ma,Ra;let Se=(Ra=class extends ae{static fromJSON(e){if(!e)return null;if((e==null?void 0:e.wkid)===102100)return ma.WebMercator;if((e==null?void 0:e.wkid)===4326)return ma.WGS84;const i=new ma;return i.read(e),i}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return hp(this)}get isWebMercator(){return Fa(this)}get isGeographic(){return bg(this)}get isWrappable(){return L0e(this)}get metersPerUnit(){return ho(this)}get unit(){return Ap(this)||(this.isGeographic?"degrees":null)}writeWkt(e,i){this.wkid||(i.wkt=e)}clone(){if(this===ma.WGS84)return new ma(xZ);if(this===ma.WebMercator)return new ma(TZ);const e=new ma;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=G(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:i,referenceServiceName:r}=e.imageCoordinateSystem,{geodataXform:s}=e.imageCoordinateSystem,n=this.imageCoordinateSystem;return i==null||s?JSON.stringify(n)===JSON.stringify(e.imageCoordinateSystem):r?n.id===i&&n.referenceServiceName===r:n.id===i}return vr(this,e)}toJSON(e){return this.write(void 0,e)}},ma=Ra,Ra.GCS_NAD_1927=null,Ra.WGS84=null,Ra.WebMercator=null,Ra.PlateCarree=null,Ra);h([f({readOnly:!0})],Se.prototype,"isWGS84",null),h([f({readOnly:!0})],Se.prototype,"isWebMercator",null),h([f({readOnly:!0})],Se.prototype,"isGeographic",null),h([f({readOnly:!0})],Se.prototype,"isWrappable",null),h([f({type:ot,json:{write:!0}})],Se.prototype,"latestWkid",void 0),h([f({readOnly:!0})],Se.prototype,"metersPerUnit",null),h([f({readOnly:!0})],Se.prototype,"unit",null),h([f({type:ot,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],Se.prototype,"wkid",void 0),h([f({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],Se.prototype,"wkt",void 0),h([_e("wkt"),_e("web-scene","wkt")],Se.prototype,"writeWkt",null),h([f({type:String,json:{write:!1}})],Se.prototype,"wkt2",void 0),h([f({type:ot,json:{write:!0}})],Se.prototype,"vcsWkid",void 0),h([f({type:ot,json:{write:!0}})],Se.prototype,"latestVcsWkid",void 0),h([f()],Se.prototype,"imageCoordinateSystem",void 0),Se=ma=h([I("esri.geometry.SpatialReference")],Se),Se.prototype.toJSON.isDefaultToJSON=!0,Se.GCS_NAD_1927=$e.freeze(new Se({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),Se.WGS84=$e.freeze(new Se(xZ)),Se.WebMercator=$e.freeze(new Se(TZ)),Se.PlateCarree=$e.freeze(new Se(V0e));let tr=class extends ae{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Se.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,i){if(e instanceof Se)return e;if(e!=null){const r=new Se;return r.read(e,i),r}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,i){this.cache[e]=i}};h([f()],tr.prototype,"type",void 0),h([f({readOnly:!0})],tr.prototype,"cache",null),h([f({readOnly:!0})],tr.prototype,"extent",null),h([f({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],tr.prototype,"hasM",void 0),h([f({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],tr.prototype,"hasZ",void 0),h([f({type:Se,json:{write:!0},value:Se.WGS84})],tr.prototype,"spatialReference",void 0),h([Ie("spatialReference")],tr.prototype,"readSpatialReference",null),tr=h([I("esri.geometry.Geometry")],tr);function zy(t){if(t&&typeof t=="object"&&"type"in t&&t.type==="mesh")throw new B("internal:mesh","Mesh geometries are not supported for this operation")}function dve(t){t.forEach(zy)}const pve=57.29577951308232,fve=.017453292519943;function a7(t){return t*pve}function l7(t){return t*fve}function e8e(t){return Math.PI/2-2*Math.atan(Math.exp(-t/hi.radius))}function QA(t){return t.wkid!=null||t.wkt!=null}const v5=[0,0];function dx(t,e,i,r,s){const n=t,o=s;if(o.spatialReference=i,"x"in n&&"x"in o)[o.x,o.y]=e(n.x,n.y,v5,r);else if("xmin"in n&&"xmin"in o)[o.xmin,o.ymin]=e(n.xmin,n.ymin,v5,r),[o.xmax,o.ymax]=e(n.xmax,n.ymax,v5,r);else if("paths"in n&&"paths"in o||"rings"in n&&"rings"in o){const l="paths"in n?n.paths:n.rings,c=[];let d;for(let m=0;m<l.length;m++){const v=l[m];d=[],c.push(d);for(let w=0;w<v.length;w++)d.push(e(v[w][0],v[w][1],[0,0],r)),v[w].length>2&&d[w].push(v[w][2]),v[w].length>3&&d[w].push(v[w][3])}"paths"in o?o.paths=c:o.rings=c}else if("points"in n&&"points"in o){const l=n.points,c=[];for(let d=0;d<l.length;d++)c[d]=e(l[d][0],l[d][1],[0,0],r),l[d].length>2&&c[d].push(l[d][2]),l[d].length>3&&c[d].push(l[d][3]);o.points=c}return s}function j2(t,e){const i=t&&(QA(t)?t:t.spatialReference),r=e&&(QA(e)?e:e.spatialReference);return!(t&&"type"in t&&t.type==="mesh"||e&&"type"in e&&e.type==="mesh"||!i||!r)&&(!!vr(r,i)||Fa(r)&&hp(i)||Fa(i)&&hp(r))}function TT(t,e){if(t==null)return null;const i=t.spatialReference,r=e&&(QA(e)?e:e.spatialReference);return j2(i,r)?vr(i,r)?G(t):Fa(r)?dx(t,wm,Se.WebMercator,!1,G(t)):hp(r)?dx(t,$T,Se.WGS84,!1,G(t)):null:null}function wm(t,e,i=[0,0]){e>89.99999?e=89.99999:e<-89.99999&&(e=-89.99999);const r=l7(e);return i[0]=l7(t)*hi.radius,i[1]=hi.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),i}function $T(t,e,i=[0,0],r=!1){if(t===G1[0])i[0]=-180;else if(t===G1[1])i[0]=180;else{const s=a7(t/hi.radius);i[0]=r?s:s-360*Math.floor((s+180)/360)}return i[1]=a7(Math.PI/2-2*Math.atan(Math.exp(-e/hi.radius))),i}function Gd(t,e=!1,i=G(t)){return zy(t),zy(i),dx(t,wm,Se.WebMercator,e,i)}function bm(t,e=!1,i=G(t)){return zy(t),zy(i),dx(t,$T,Se.WGS84,e,i)}function IZ(t,e){const i=t.x-e.x,r=t.y-e.y,s=t.z!=null&&e.z!=null?t.z-e.z:0;return Math.sqrt(i*i+r*r+s*s)}function mve(t){var e;return((e=PZ(t,jZ))==null?void 0:e[0])??null}function yve(t){var e;return((e=PZ(t,jZ))==null?void 0:e[1])??null}function PZ({x:t,y:e,spatialReference:i},r=[0,0]){if(i){if(Fa(i))return $T(t,e,r);if(bg(i))return r[0]=t,r[1]=e,r}return null}const jZ=[0,0];var N2;const w5=[0,0];function u7(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}let Re=N2=class extends tr{static copy(t,e){e._set("x",t._get("x")),e._set("y",t._get("y")),e._set("z",t._get("z")),e._set("m",t._get("m"));const i=t._get("spatialReference");e._set("spatialReference",$e.isFrozen(i)?i:i.clone())}constructor(...t){super(...t),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(t,e,i,r,s){let n;if(Array.isArray(t))n=t,s=e,t=n[0],e=n[1],i=n[2],r=n[3];else if(t&&typeof t=="object"){if(n=t,t=n.x!=null?n.x:n.longitude,e=n.y!=null?n.y:n.latitude,i=n.z,r=n.m,(s=n.spatialReference)&&s.declaredClass!=="esri.geometry.SpatialReference"&&(s=new Se(s)),n.longitude!=null||n.latitude!=null){if(n.longitude==null)se.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(n.latitude==null)se.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!n.declaredClass&&(s!=null&&s.isWebMercator)){const l=wm(n.longitude,n.latitude,w5);t=l[0],e=l[1]}}}else u7(i)?(s=i,i=null):u7(r)&&(s=r,r=null);const o={x:t,y:e};return o.x==null&&o.y!=null?se.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&se.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),s!=null&&(o.spatialReference=s),i!=null&&(o.z=i),r!=null&&(o.m=r),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(t){t!==(this._get("m")!==void 0)&&(this._set("m",t?0:void 0),this._set("hasM",t))}get hasZ(){return this.z!==void 0}set hasZ(t){t!==(this._get("z")!==void 0)&&(this._set("z",t?0:void 0),this._set("hasZ",t))}get latitude(){return yve(this)}set latitude(t){const{spatialReference:e,x:i}=this;t!=null&&e&&(e.isWebMercator?this._set("y",wm(i,t,w5)[1]):e.isGeographic&&this._set("y",t),this._set("latitude",t))}get longitude(){return mve(this)}set longitude(t){const{y:e,spatialReference:i}=this;t!=null&&i&&(i.isWebMercator?this._set("x",wm(t,e,w5)[0]):i.isGeographic&&this._set("x",t),this._set("longitude",t))}writeX(t,e,i){e[i]=isNaN(t)?"NaN":t}readX(t){return typeof t=="string"?NaN:t}clone(){const t=new N2;return t.x=this.x,t.y=this.y,t.z=this.z,t.m=this.m,t.spatialReference=this.spatialReference,t}copy(t){return N2.copy(t,this),this}equals(t){if(t==null)return!1;const{x:e,y:i,z:r,m:s,spatialReference:n}=this,{z:o,m:l}=t;let{x:c,y:d,spatialReference:m}=t;if(!n.equals(m))if(n.isWebMercator&&m.isWGS84)[c,d]=wm(c,d),m=n;else{if(!n.isWGS84||!m.isWebMercator)return!1;[c,d]=$T(c,d),m=n}return e===c&&i===d&&r===o&&s===l&&n.wkid===m.wkid}offset(t,e,i){return this.x+=t,this.y+=e,i!=null&&(this.z=(this.z??0)+i),this}normalize(){if(!this.spatialReference)return this;const t=vs(this.spatialReference);if(!t)return this;let e=this.x;const[i,r]=t.valid,s=2*r;let n;return e>r?(n=Math.ceil(Math.abs(e-r)/s),e-=n*s):e<i&&(n=Math.ceil(Math.abs(e-i)/s),e+=n*s),this._set("x",e),this}distance(t){return IZ(this,t)}toArray(){const t=this.hasZ,e=this.hasM;return t&&e?[this.x,this.y,this.z,this.m]:t?[this.x,this.y,this.z]:e?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(t){return this.write({},t)}};h([f({readOnly:!0})],Re.prototype,"cache",null),h([f({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Re.prototype,"hasM",null),h([f({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],Re.prototype,"hasZ",null),h([f({type:Number})],Re.prototype,"latitude",null),h([f({type:Number})],Re.prototype,"longitude",null),h([f({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),Ot(t=>isNaN(t)?t:ds(t))],Re.prototype,"x",void 0),h([_e("x")],Re.prototype,"writeX",null),h([Ie("x")],Re.prototype,"readX",null),h([f({type:Number,json:{write:!0}})],Re.prototype,"y",void 0),h([f({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Re.prototype,"z",void 0),h([f({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],Re.prototype,"m",void 0),Re=N2=h([I("esri.geometry.Point")],Re),Re.prototype.toJSON.isDefaultToJSON=!0;const b5=[0,0];function Iw(t,e){return e!=null&&as(t,e.x,e.y,e.z)}function t8e(t,e){var i;if(!((i=e.points)!=null&&i.length))return!1;for(const r of e.points)if(!Uy(t,r))return!1;return!0}function gve(t,e){const{xmin:i,ymin:r,zmin:s,xmax:n,ymax:o,zmax:l}=e;return t.hasZ&&e.hasZ?as(t,i,r,s)&&as(t,i,o,s)&&as(t,n,o,s)&&as(t,n,r,s)&&as(t,i,r,l)&&as(t,i,o,l)&&as(t,n,o,l)&&as(t,n,r,l):as(t,i,r)&&as(t,i,o)&&as(t,n,o)&&as(t,n,r)}function Uy(t,e){return as(t,e[0],e[1])}function vve(t,e){return as(t,e[0],e[1],e[2])}function as(t,e,i,r){return e>=t.xmin&&e<=t.xmax&&i>=t.ymin&&i<=t.ymax&&(r==null||!t.hasZ||r>=t.zmin&&r<=t.zmax)}function WR(t,e){return b5[1]=e.y,b5[0]=e.x,wve(t,b5)}function wve(t,e){return ZR(t.rings,e)}function ZR(t,e){if(!t||t.length<1)return!1;if(bve(t))return c7(!1,t,e);let i=!1;for(let r=0,s=t.length;r<s;r++)i=c7(i,t[r],e);return i}function bve(t){return!Array.isArray(t[0][0])}function c7(t,e,i){const[r,s]=i;let n=t,o=0;for(let l=0,c=e.length;l<c;l++){o++,o===c&&(o=0);const[d,m]=e[l],[v,w]=e[o];(m<s&&w>=s||w<s&&m>=s)&&d+(s-m)/(w-m)*(v-d)<r&&(n=!n)}return n}function _ve(t,e){return Iw(t,e)}function Sve(t,e){const i=t.hasZ&&e.hasZ;let r,s,n;if(t.xmin<=e.xmin){if(r=e.xmin,t.xmax<r)return!1}else if(r=t.xmin,e.xmax<r)return!1;if(t.ymin<=e.ymin){if(s=e.ymin,t.ymax<s)return!1}else if(s=t.ymin,e.ymax<s)return!1;if(i&&e.hasZ){if(t.zmin<=e.zmin){if(n=e.zmin,t.zmax<n)return!1}else if(n=t.zmin,e.zmax<n)return!1}return!0}function xve(t,e){const{points:i,hasZ:r}=e,s=r?vve:Uy;for(const n of i)if(s(t,n))return!0;return!1}const dp=[0,0],pp=[0,0],fp=[0,0],mp=[0,0],Tve=[dp,pp,fp,mp],NZ=[[fp,dp],[dp,pp],[pp,mp],[mp,fp]];function $ve(t,e){return Mve(t,e.rings)}function Mve(t,e){dp[0]=t.xmin,dp[1]=t.ymax,pp[0]=t.xmax,pp[1]=t.ymax,fp[0]=t.xmin,fp[1]=t.ymin,mp[0]=t.xmax,mp[1]=t.ymin;for(const i of Tve)if(ZR(e,i))return!0;for(const i of e){if(!i.length)continue;let r=i[0];if(Uy(t,r))return!0;for(let s=1;s<i.length;s++){const n=i[s];if(Uy(t,n)||DZ(r,n,NZ))return!0;r=n}}return!1}function Eve(t,e){dp[0]=t.xmin,dp[1]=t.ymax,pp[0]=t.xmax,pp[1]=t.ymax,fp[0]=t.xmin,fp[1]=t.ymin,mp[0]=t.xmax,mp[1]=t.ymin;const i=e.paths;for(const r of i){if(!i.length)continue;let s=r[0];if(Uy(t,s))return!0;for(let n=1;n<r.length;n++){const o=r[n];if(Uy(t,o)||DZ(s,o,NZ))return!0;s=o}}return!1}const dr=[0,0];function Ave(t){for(let e=0;e<t.length;e++){const i=t[e];for(let s=0;s<i.length-1;s++){const n=i[s],o=i[s+1];for(let l=e+1;l<t.length;l++)for(let c=0;c<t[l].length-1;c++){const d=t[l][c],m=t[l][c+1];if(e4(n,o,d,m,dr)&&!(dr[0]===n[0]&&dr[1]===n[1]||dr[0]===d[0]&&dr[1]===d[1]||dr[0]===o[0]&&dr[1]===o[1]||dr[0]===m[0]&&dr[1]===m[1]))return!0}}const r=i.length;if(!(r<=4))for(let s=0;s<r-3;s++){let n=r-1;s===0&&(n=r-2);const o=i[s],l=i[s+1];for(let c=s+2;c<n;c++){const d=i[c],m=i[c+1];if(e4(o,l,d,m,dr)&&!(dr[0]===o[0]&&dr[1]===o[1]||dr[0]===d[0]&&dr[1]===d[1]||dr[0]===l[0]&&dr[1]===l[1]||dr[0]===m[0]&&dr[1]===m[1]))return!0}}}return!1}function DZ(t,e,i){for(let r=0;r<i.length;r++)if(e4(t,e,i[r][0],i[r][1]))return!0;return!1}function e4(t,e,i,r,s){const[n,o]=t,[l,c]=e,[d,m]=i,[v,w]=r,_=v-d,x=n-d,T=l-n,M=w-m,O=o-m,C=c-o,R=M*T-_*C;if(R===0)return!1;const N=(_*O-M*x)/R,j=(T*O-C*x)/R;return N>=0&&N<=1&&j>=0&&j<=1&&(s&&(s[0]=n+N*(l-n),s[1]=o+N*(c-o)),!0)}function Ove(t){switch(t){case"esriGeometryEnvelope":case"extent":return Sve;case"esriGeometryMultipoint":case"multipoint":return xve;case"esriGeometryPoint":case"point":return _ve;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return $ve;case"esriGeometryPolyline":case"polyline":return Eve}}var ko;function kve(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}function Gu(t,e,i){return e==null?i:i==null?e:t(e,i)}let Ye=ko=class extends tr{constructor(...t){super(...t),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(t,e,i,r,s){return kve(t)?{spatialReference:t,xmin:0,ymin:0,xmax:0,ymax:0}:typeof t=="object"?(t.spatialReference=t.spatialReference==null?Se.WGS84:t.spatialReference,t):{xmin:t,ymin:e,xmax:i,ymax:r,spatialReference:s??Se.WGS84}}static fromPoint(t){return new ko({xmin:t.x,ymin:t.y,zmin:t.z,xmax:t.x,ymax:t.y,zmax:t.z,spatialReference:t.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const t=new Re({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(t.z=.5*(this.zmin+this.zmax)),this.hasM&&(t.m=.5*(this.mmin+this.mmax)),t}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(t){const e=this.center;return t.z!=null&&this.hasZ?this.offset(t.x-e.x,t.y-e.y,t.z-e.z):this.offset(t.x-e.x,t.y-e.y)}clone(){const t=new ko;return t.xmin=this.xmin,t.ymin=this.ymin,t.xmax=this.xmax,t.ymax=this.ymax,t.spatialReference=this.spatialReference,this.zmin!=null&&(t.zmin=this.zmin,t.zmax=this.zmax),this.mmin!=null&&(t.mmin=this.mmin,t.mmax=this.mmax),t}contains(t){if(!t)return!1;const e=this.spatialReference,i=t.spatialReference;return e&&i&&!e.equals(i)&&j2(e,i)&&(t=e.isWebMercator?Gd(t):bm(t,!0)),t.type==="point"?Iw(this,t):t.type==="extent"&&gve(this,t)}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,i=t.spatialReference;return e&&i&&!e.equals(i)&&j2(e,i)&&(t=e.isWebMercator?Gd(t):bm(t,!0)),this.xmin===t.xmin&&this.ymin===t.ymin&&this.zmin===t.zmin&&this.mmin===t.mmin&&this.xmax===t.xmax&&this.ymax===t.ymax&&this.zmax===t.zmax&&this.mmax===t.mmax}expand(t){const e=.5*(1-t),i=this.width*e,r=this.height*e;if(this.xmin+=i,this.ymin+=r,this.xmax-=i,this.ymax-=r,this.hasZ){const s=(this.zmax-this.zmin)*e;this.zmin+=s,this.zmax-=s}if(this.hasM){const s=(this.mmax-this.mmin)*e;this.mmin+=s,this.mmax-=s}return this}intersects(t){if(t==null)return!1;t.type==="mesh"&&(t=t.extent);const e=this.spatialReference,i=t.spatialReference;return e&&i&&!vr(e,i)&&j2(e,i)&&(t=e.isWebMercator?Gd(t):bm(t,!0)),Ove(t.type)(this,t)}normalize(){const t=this._normalize(!1,!0);return Array.isArray(t)?t:[t]}offset(t,e,i){return this.xmin+=t,this.ymin+=e,this.xmax+=t,this.ymax+=e,i!=null&&(this.zmin+=i,this.zmax+=i),this}shiftCentralMeridian(){return this._normalize(!0)}union(t){return this===t||(this.xmin=Math.min(this.xmin,t.xmin),this.ymin=Math.min(this.ymin,t.ymin),this.xmax=Math.max(this.xmax,t.xmax),this.ymax=Math.max(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=Gu(Math.min,this.zmin,t.zmin),this.zmax=Gu(Math.max,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=Gu(Math.min,this.mmin,t.mmin),this.mmax=Gu(Math.max,this.mmax,t.mmax))),this}intersection(t){return this===t?this:t!=null&&this.intersects(t)?(this.xmin=Math.max(this.xmin,t.xmin),this.ymin=Math.max(this.ymin,t.ymin),this.xmax=Math.min(this.xmax,t.xmax),this.ymax=Math.min(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=Gu(Math.max,this.zmin,t.zmin),this.zmax=Gu(Math.min,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=Gu(Math.max,this.mmin,t.mmin),this.mmax=Gu(Math.min,this.mmax,t.mmax)),this):null}toJSON(t){return this.write({},t)}_shiftCM(t=vs(this.spatialReference)){if(!t||!this.spatialReference)return this;const e=this.spatialReference,i=this._getCM(t);if(i){const r=e.isWebMercator?bm(i):i;this.xmin-=i.x,this.xmax-=i.x,e.isWebMercator||(r.x=_5(r.x,t).x),this.spatialReference=new Se(Sp((e.isWGS84?t.altTemplate:null)??t.wkTemplate,{Central_Meridian:r.x}))}return this}_getCM(t){let e=null;const[i,r]=t.valid,s=this.xmin,n=this.xmax;return s>=i&&s<=r&&n>=i&&n<=r||(e=this.center),e}_normalize(t,e,i){const r=this.spatialReference;if(!r)return this;const s=i??vs(r);if(s==null)return this;const n=this._getParts(s).map(c=>c.extent);if(n.length<2)return n[0]||this;if(n.length>2)return t?this._shiftCM(s):this.set({xmin:s.valid[0],xmax:s.valid[1]});if(t)return this._shiftCM(s);if(e)return n;let o=!0,l=!0;return n.forEach(c=>{c.hasZ||(o=!1),c.hasM||(l=!1)}),{rings:n.map(c=>{const d=[[c.xmin,c.ymin],[c.xmin,c.ymax],[c.xmax,c.ymax],[c.xmax,c.ymin],[c.xmin,c.ymin]];if(o){const m=(c.zmax-c.zmin)/2;for(let v=0;v<d.length;v++)d[v].push(m)}if(l){const m=(c.mmax-c.mmin)/2;for(let v=0;v<d.length;v++)d[v].push(m)}return d}),hasZ:o,hasM:l,spatialReference:r}}_getParts(t){let e=this.cache._parts;if(!e){e=[];const{ymin:s,ymax:n,spatialReference:o}=this,l=this.width,c=this.xmin,d=this.xmax;let m;t=t||vs(o);const[v,w]=t.valid;m=_5(this.xmin,t);const _=m.x,x=m.frameId;m=_5(this.xmax,t);const T=m.x,M=m.frameId,O=_===T&&l>0;if(l>2*w){const C=new ko(c<d?_:T,s,w,n,o),R=new ko(v,s,c<d?T:_,n,o),N=new ko(0,s,w,n,o),j=new ko(v,s,0,n,o),F=[],ee=[];C.contains(N)&&F.push(x),C.contains(j)&&ee.push(x),R.contains(N)&&F.push(M),R.contains(j)&&ee.push(M);for(let X=x+1;X<M;X++)F.push(X),ee.push(X);e.push({extent:C,frameIds:[x]},{extent:R,frameIds:[M]},{extent:N,frameIds:F},{extent:j,frameIds:ee})}else _>T||O?e.push({extent:new ko(_,s,w,n,o),frameIds:[x]},{extent:new ko(v,s,T,n,o),frameIds:[M]}):e.push({extent:new ko(_,s,T,n,o),frameIds:[x]});this.cache._parts=e}const i=this.hasZ,r=this.hasM;if(i||r){const s={};i&&(s.zmin=this.zmin,s.zmax=this.zmax),r&&(s.mmin=this.mmin,s.mmax=this.mmax);for(let n=0;n<e.length;n++)e[n].extent.set(s)}return e}};function _5(t,e){const[i,r]=e.valid,s=2*r;let n,o=0;return t>r?(n=Math.ceil(Math.abs(t-r)/s),t-=n*s,o=n):t<i&&(n=Math.ceil(Math.abs(t-i)/s),t+=n*s,o=-n),{x:t,frameId:o}}h([f({readOnly:!0})],Ye.prototype,"cache",null),h([f({readOnly:!0})],Ye.prototype,"center",null),h([f({readOnly:!0})],Ye.prototype,"extent",null),h([f({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Ye.prototype,"hasM",null),h([f({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Ye.prototype,"hasZ",null),h([f({readOnly:!0})],Ye.prototype,"height",null),h([f({readOnly:!0})],Ye.prototype,"width",null),h([f({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Ye.prototype,"xmin",void 0),h([f({type:Number,json:{write:!0}})],Ye.prototype,"ymin",void 0),h([f({type:Number,json:{origins:{"web-scene":{write:!1}},read:t=>t??void 0,write:{overridePolicy(){return{enabled:this.hasM}}}}})],Ye.prototype,"mmin",void 0),h([f({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Ye.prototype,"zmin",void 0),h([f({type:Number,json:{write:!0}})],Ye.prototype,"xmax",void 0),h([f({type:Number,json:{write:!0}})],Ye.prototype,"ymax",void 0),h([f({type:Number,json:{origins:{"web-scene":{write:!1}},read:t=>t??void 0,write:{overridePolicy(){return{enabled:this.hasM}}}}})],Ye.prototype,"mmax",void 0),h([f({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Ye.prototype,"zmax",void 0),Ye=ko=h([I("esri.geometry.Extent")],Ye),Ye.prototype.toJSON.isDefaultToJSON=!0;function Us(t=Nve){return[t[0],t[1],t[2],t[3]]}function LZ(t,e){return t!==e&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]),t}function Cve(t,e,i,r,s=Us()){return s[0]=t,s[1]=e,s[2]=i,s[3]=r,s}function i8e(t,e=Us()){return e[0]=t.xmin,e[1]=t.ymin,e[2]=t.xmax,e[3]=t.ymax,e}function Rve(t,e,i=new Ye){return i.xmin=t[0],i.ymin=t[1],i.xmax=t[2],i.ymax=t[3],i.spatialReference=e,i}function to(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function Ive(t,e){e<t[0]&&(t[0]=e),e>t[2]&&(t[2]=e)}function Pve(t,e){e<t[1]&&(t[1]=e),e>t[3]&&(t[3]=e)}function r8e(t,e,i){if(e!=null)if("length"in e)i4(e)?(i[0]=Math.min(t[0],e[0]),i[1]=Math.min(t[1],e[1]),i[2]=Math.max(t[2],e[2]),i[3]=Math.max(t[3],e[3])):e.length!==2&&e.length!==3||(i[0]=Math.min(t[0],e[0]),i[1]=Math.min(t[1],e[1]),i[2]=Math.max(t[2],e[0]),i[3]=Math.max(t[3],e[1]));else switch(e.type){case"extent":i[0]=Math.min(t[0],e.xmin),i[1]=Math.min(t[1],e.ymin),i[2]=Math.max(t[2],e.xmax),i[3]=Math.max(t[3],e.ymax);break;case"point":i[0]=Math.min(t[0],e.x),i[1]=Math.min(t[1],e.y),i[2]=Math.max(t[2],e.x),i[3]=Math.max(t[3],e.y)}else LZ(i,t)}function s8e(t,e,i=t){const r=e.length;let s=t[0],n=t[1],o=t[2],l=t[3];for(let c=0;c<r;c++){const d=e[c];s=Math.min(s,d[0]),n=Math.min(n,d[1]),o=Math.max(o,d[0]),l=Math.max(l,d[1])}return i[0]=s,i[1]=n,i[2]=o,i[3]=l,i}function n8e(t){for(let e=0;e<4;e++)if(!isFinite(t[e]))return!1;return!0}function YR(t){return t==null||t[0]>=t[2]?0:t[2]-t[0]}function JR(t){return t==null||t[1]>=t[3]?0:t[3]-t[1]}function o8e(t){return YR(t)*JR(t)}function a8e(t,e=[0,0]){return e[0]=(t[0]+t[2])/2,e[1]=(t[1]+t[3])/2,e}function l8e(t){const e=YR(t),i=JR(t);return Math.sqrt(e*e+i*i)}function u8e(t,e){return!!t&&t4(t,e.x,e.y)}function t4(t,e,i){return e>=t[0]&&i>=t[1]&&e<=t[2]&&i<=t[3]}function c8e(t,e){return Math.max(e[0],t[0])<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])<=Math.min(e[3],t[3])}function h8e(t,e,i){return Math.max(e[0],t[0])-i<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])-i<=Math.min(e[3],t[3])}function jve(t,e){return e[0]>=t[0]&&e[2]<=t[2]&&e[1]>=t[1]&&e[3]<=t[3]}function d8e(t,e,i,r){return r??(r=t),r[0]=t[0]+e,r[1]=t[1]+i,r[2]=t[2]+e,r[3]=t[3]+i,r}function p8e(t){return t?LZ(t,h7):Us(h7)}function i4(t){return t!=null&&t.length===4}function f8e(t,e){return i4(t)&&i4(e)?t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]:t===e}const h7=[1/0,1/0,-1/0,-1/0],Nve=[0,0,0,0];let KR=1e-6;function ws(){return KR}function Dve(t){KR=t}const MT=Math.random,Lve=Math.PI/180,Vve=180/Math.PI;function XR(t){return t*Lve}function Fve(t){return t*Vve}function zve(t,e){return Math.abs(t-e)<=KR*Math.max(1,Math.abs(t),Math.abs(e))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:MT,equals:zve,getEpsilon:ws,setEpsilon:Dve,toDegree:Fve,toRadian:XR},Symbol.toStringTag,{value:"Module"}));function jm(t,e){return t[0]=e[0],t[1]=e[1],t}function gr(t,e,i){return t[0]=e,t[1]=i,t}function VZ(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t}function W1(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function FZ(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t}function zZ(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t}function Uve(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function qve(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function Bve(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t}function Gve(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}function Hve(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function Pw(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t}function Wve(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t}function ET(t,e){const i=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(i*i+r*r)}function Z1(t,e){const i=e[0]-t[0],r=e[1]-t[1];return i*i+r*r}function px(t){const e=t[0],i=t[1];return Math.sqrt(e*e+i*i)}function UZ(t){const e=t[0],i=t[1];return e*e+i*i}function qZ(t,e){return t[0]=-e[0],t[1]=-e[1],t}function Zve(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function r4(t,e){const i=e[0],r=e[1];let s=i*i+r*r;return s>0&&(s=1/Math.sqrt(s),t[0]=e[0]*s,t[1]=e[1]*s),t}function BZ(t,e){return t[0]*e[0]+t[1]*e[1]}function GZ(t,e,i){const r=e[0]*i[1]-e[1]*i[0];return t[0]=t[1]=0,t[2]=r,t}function Yve(t,e,i,r){const s=e[0],n=e[1];return t[0]=s+r*(i[0]-s),t[1]=n+r*(i[1]-n),t}function Jve(t,e=1){const i=2*MT()*Math.PI;return t[0]=Math.cos(i)*e,t[1]=Math.sin(i)*e,t}function Kve(t,e,i){const r=e[0],s=e[1];return t[0]=i[0]*r+i[2]*s,t[1]=i[1]*r+i[3]*s,t}function ka(t,e,i){const r=e[0],s=e[1];return t[0]=i[0]*r+i[2]*s+i[4],t[1]=i[1]*r+i[3]*s+i[5],t}function D2(t,e,i){const r=e[0],s=e[1];return t[0]=i[0]*r+i[3]*s+i[6],t[1]=i[1]*r+i[4]*s+i[7],t}function Xve(t,e,i){const r=e[0],s=e[1];return t[0]=i[0]*r+i[4]*s+i[12],t[1]=i[1]*r+i[5]*s+i[13],t}function Qve(t,e,i,r){const s=e[0]-i[0],n=e[1]-i[1],o=Math.sin(r),l=Math.cos(r);return t[0]=s*l-n*o+i[0],t[1]=s*o+n*l+i[1],t}function e1e(t,e){const i=t[0],r=t[1],s=e[0],n=e[1];let o=i*i+r*r;o>0&&(o=1/Math.sqrt(o));let l=s*s+n*n;l>0&&(l=1/Math.sqrt(l));const c=(i*s+r*n)*o*l;return c>1?0:c<-1?Math.PI:Math.acos(c)}function t1e(t){return"vec2("+t[0]+", "+t[1]+")"}function i1e(t,e){return t[0]===e[0]&&t[1]===e[1]}function r1e(t,e){const i=t[0],r=t[1],s=e[0],n=e[1],o=ws();return Math.abs(i-s)<=o*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(r-n)<=o*Math.max(1,Math.abs(r),Math.abs(n))}function s1e(t,e,i,r,s){let n=e[0]-i[0],o=e[1]-i[1];const l=(r[0]*n+r[1]*o)*(s-1);return n=r[0]*l,o=r[1]*l,t[0]=e[0]+n,t[1]=e[1]+o,t}const n1e=px,QR=W1,o1e=FZ,a1e=zZ,l1e=ET,u1e=Z1,c1e=UZ;Object.freeze(Object.defineProperty({__proto__:null,add:VZ,angle:e1e,ceil:Uve,copy:jm,cross:GZ,dist:l1e,distance:ET,div:a1e,divide:zZ,dot:BZ,equals:r1e,exactEquals:i1e,floor:qve,inverse:Zve,len:n1e,length:px,lerp:Yve,max:Gve,min:Bve,mul:o1e,multiply:FZ,negate:qZ,normalize:r4,projectAndScale:s1e,random:Jve,rotate:Qve,round:Hve,scale:Pw,scaleAndAdd:Wve,set:gr,sqrDist:u1e,sqrLen:c1e,squaredDistance:Z1,squaredLength:UZ,str:t1e,sub:QR,subtract:W1,transformMat2:Kve,transformMat2d:ka,transformMat3:D2,transformMat4:Xve},Symbol.toStringTag,{value:"Module"}));function Ul(t,e,i,r){return t[0]=e[0]*(1-r)+i[0]*r,t[1]=e[1]*(1-r)+i[1]*r,t}function gs(t,e){return Z1(t,e)}function m8e(t,e,i){const r=gs(e,i);if(r===0)return gs(e,t);const s=(e[0]-t[0])*(i[1]-t[1])-(e[1]-t[1])*(i[0]-t[0]);return s*s/r}function h1e(t,e,i,r,s){const[n,o]=e,[l,c]=i,[d,m]=r,[v,w]=s,_=(n-l)*(m-w)-(o-c)*(d-v);if(_===0)return null;const x=(n*c-o*l)*(d-v)-(n-l)*(d*w-m*v),T=(n*c-o*l)*(m-w)-(o-c)*(d*w-m*v);return t[0]=x/_,t[1]=T/_,t}const Zo=2*Math.PI;function Hd(t,e){const i=Math.atan2(t,e);return i<0?i+Zo:i}function HZ(t){return Math.abs(t)%Zo}function d7(t){const e=HZ(t);return e<Math.PI?e:Zo-e}function AT(t,e){return{min:Math.min(t,e),max:Math.max(t,e)}}function WZ(t,e,i,r){if(vn(HZ(t-e),0))return i?[t,t]:[t,r?t-Zo:t+Zo];const[s,n]=r?[t-Zo,t]:[t,t+Zo];return[t,jw({min:s,max:n},e)]}function jw({min:t,max:e},i){let r;return r=e-i,r>=Zo?(r-=r%Zo,i+r):(r=i-t,r>=Zo?(r-=r%Zo,i-r):i)}function d1e(t,e){const i=jw(t,e);return i>t.min&&i<t.max?i:d7(i-t.min)<d7(i-t.max)?t.min:t.max}function ZZ(t,e,i,r=10){return e.map(s=>{let n=s;for(let o=0;o<r;o++){const[l,c,d,m,v,w]=i(n),_=t[0]-l,x=t[1]-c,T=-d,M=-m;n+=-(2*_*T+2*x*M)/(2*T*T+2*_*-v+2*M*M+2*x*-w||1e-6)}return n})}const p1e=[0,0];function YZ(t){const e=1-t,i=e*e,r=t*t;return[i*e,3*t*i,3*r*e,r*t]}function s4(t,e,i,r,s){const[n,o,l,c]=YZ(s);return[t[0]*n+e[0]*o+i[0]*l+r[0]*c,t[1]*n+e[1]*o+i[1]*l+r[1]*c]}function p7(t,e,i,r,s){const[n,o,l,c]=YZ(s);return t*n+e*o+i*l+r*c}function y8e(t,e,i){const r=t,[s,n,o]=e.b;return s4(r,n,o,s,i)}function f1e(t,e,i){const r=t,[s,n,o]=e.b,l=Ul([0,0],r,n,i),c=Ul(p1e,n,o,i),d=Ul([0,0],o,s,i),m=Ul([0,0],l,c,i),v=Ul([0,0],c,d,i);return[{b:[Ul([],m,v,i),l,m]},{b:[[...s],v,d]}]}function g8e(t,e,i){const r=t,[s,n,o]=e.b,l=ZZ(i,[.1,.5,.9],v=>{const w=1-v,[_,x]=s4(r,n,o,s,v);return[_,x,3*w*w*(n[0]-r[0])+6*w*v*(o[0]-n[0])+3*v*v*(s[0]-o[0]),3*w*w*(n[1]-r[1])+6*w*v*(o[1]-n[1])+3*v*v*(s[1]-o[1]),6*w*(o[0]-2*n[0]+r[0])+6*v*(s[0]-2*o[0]+n[0]),6*w*(o[1]-2*n[1]+r[1])+6*v*(s[1]-2*o[1]+n[1])]}).map(v=>Math.min(1,Math.max(0,v)));l.push(0,1);let c=1/0;const d=l.map(v=>{const w=s4(r,n,o,s,v),[_,x]=w,T=i[0]-_,M=i[1]-x,O=Math.sqrt(T*T+M*M);return c=Math.min(O,c),{t:v,curvePoint:w,distance:O}}),m=[];for(const v of d){const{t:w,distance:_}=v;TW(_,c)&&!m.some(({t:x})=>vn(x,w))&&m.push(v)}return m}function m1e(t,e,i){const r=e,[s,n,o]=i.b;if(to(t,r),to(t,s),t4(t,n[0],n[1])&&t4(t,o[0],o[1]))return t;for(const l of f7(r[0],n[0],o[0],s[0]))l>0&&l<1&&Ive(t,p7(r[0],n[0],o[0],s[0],l));for(const l of f7(r[1],n[1],o[1],s[1]))l>0&&l<1&&Pve(t,p7(r[1],n[1],o[1],s[1],l));return t}function f7(t,e,i,r){const s=3*(3*(e-i)-t+r),n=6*(t-2*e+i),o=3*(e-t);if(s===0)return n!==0?[-o/n]:[];const l=Math.sqrt(n*n-4*s*o);return[(-n+l)/(2*s),(-n-l)/(2*s)]}function v8e(t,e,i){let s=0,n=[e];for(let o=0;o<16;o++){let l=t;const c=[];for(const m of n)c.push(...f1e(l,m,.5)),l=m.b[0];n=c,l=t,s=0;let d=0;for(const m of n){const[v,w,_]=m.b,x=Math.sqrt(gs(l,v));s+=(x+(Math.sqrt(gs(l,w))+Math.sqrt(gs(w,_))+Math.sqrt(gs(_,v))))/2,d+=x,l=v}if(s-d<i)return s}return s}function y1e(t,e,i){const[r,s]=t,[n,o]=e,[l,c]=i,[d,m]=[n-r,o-s];let v=d*(l-r)+m*(c-s);v/=d**2+m**2,v=_n(v,0,1);const w=Ul([0,0],t,e,v);return{t:v,curvePoint:w,distance:Math.sqrt(gs(w,i))}}let JZ=class{constructor(e,i,r,s,n,o){this.cx=e,this.cy=i,this.radius=r,this.thetaStart=s,this.thetaEnd=n,this.isInvalid=o}get startPoint(){const{cx:e,cy:i,radius:r,thetaStart:s}=this;return[e+r*Math.cos(s),i+r*Math.sin(s)]}get endPoint(){const{cx:e,cy:i,radius:r,thetaEnd:s}=this;return[e+r*Math.cos(s),i+r*Math.sin(s)]}};function fx(t,e){const{cx:i,cy:r,radius:s}=t;return[i+s*Math.cos(e),r+s*Math.sin(e)]}function L2(t,e){if(t.isInvalid)return Ul([0,0],t.startPoint,t.endPoint,e);const{thetaStart:i,thetaEnd:r}=t;return fx(t,i*(1-e)+r*e)}function b8e(t,e){if(t.isInvalid)return y1e(t.startPoint,t.endPoint,e);const{cx:i,cy:r,thetaStart:s,thetaEnd:n}=t,[o,l]=e,c=d1e(AT(s,n),Math.atan2(l-r,o-i)),d=fx(t,c);return{t:(c-s)/(n-s),curvePoint:d,distance:Math.sqrt(gs(e,d))}}function m7(t,e){if(e.isInvalid)return to(t,e.startPoint),to(t,e.endPoint),t;const{cx:i,cy:r,radius:s,thetaStart:n,thetaEnd:o}=e;to(t,fx(e,n)),to(t,fx(e,o));const l=AT(n,o),c=Math.PI/2;let d=0;for(const m of[[i+s,r],[i,r+s],[i-s,r],[i,r-s]])d=jw(l,d),d>l.min&&d<l.max&&to(t,m),d+=c;return t}function _8e(t){if(t.isInvalid)return 2*t.radius;const{radius:e,thetaStart:i,thetaEnd:r}=t;return e*Math.abs(r-i)}function g1e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function v1e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Nm(t,e,i,r,s,n,o,l,c,d){return t[0]=e,t[1]=i,t[2]=r,t[3]=s,t[4]=n,t[5]=o,t[6]=l,t[7]=c,t[8]=d,t}function KZ(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function XZ(t,e){if(t===e){const i=e[1],r=e[2],s=e[5];t[1]=e[3],t[2]=e[6],t[3]=i,t[5]=e[7],t[6]=r,t[7]=s}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function QZ(t,e){const i=e[0],r=e[1],s=e[2],n=e[3],o=e[4],l=e[5],c=e[6],d=e[7],m=e[8],v=m*o-l*d,w=-m*n+l*c,_=d*n-o*c;let x=i*v+r*w+s*_;return x?(x=1/x,t[0]=v*x,t[1]=(-m*r+s*d)*x,t[2]=(l*r-s*o)*x,t[3]=w*x,t[4]=(m*i-s*c)*x,t[5]=(-l*i+s*n)*x,t[6]=_*x,t[7]=(-d*i+r*c)*x,t[8]=(o*i-r*n)*x,t):null}function w1e(t,e){const i=e[0],r=e[1],s=e[2],n=e[3],o=e[4],l=e[5],c=e[6],d=e[7],m=e[8];return t[0]=o*m-l*d,t[1]=s*d-r*m,t[2]=r*l-s*o,t[3]=l*c-n*m,t[4]=i*m-s*c,t[5]=s*n-i*l,t[6]=n*d-o*c,t[7]=r*c-i*d,t[8]=i*o-r*n,t}function V2(t){const e=t[0],i=t[1],r=t[2],s=t[3],n=t[4],o=t[5],l=t[6],c=t[7],d=t[8];return e*(d*n-o*c)+i*(-d*s+o*l)+r*(c*s-n*l)}function Y1(t,e,i){const r=e[0],s=e[1],n=e[2],o=e[3],l=e[4],c=e[5],d=e[6],m=e[7],v=e[8],w=i[0],_=i[1],x=i[2],T=i[3],M=i[4],O=i[5],C=i[6],R=i[7],N=i[8];return t[0]=w*r+_*o+x*d,t[1]=w*s+_*l+x*m,t[2]=w*n+_*c+x*v,t[3]=T*r+M*o+O*d,t[4]=T*s+M*l+O*m,t[5]=T*n+M*c+O*v,t[6]=C*r+R*o+N*d,t[7]=C*s+R*l+N*m,t[8]=C*n+R*c+N*v,t}function n4(t,e,i){const r=e[0],s=e[1],n=e[2],o=e[3],l=e[4],c=e[5],d=e[6],m=e[7],v=e[8],w=i[0],_=i[1];return t[0]=r,t[1]=s,t[2]=n,t[3]=o,t[4]=l,t[5]=c,t[6]=w*r+_*o+d,t[7]=w*s+_*l+m,t[8]=w*n+_*c+v,t}function eY(t,e,i){const r=e[0],s=e[1],n=e[2],o=e[3],l=e[4],c=e[5],d=e[6],m=e[7],v=e[8],w=Math.sin(i),_=Math.cos(i);return t[0]=_*r+w*o,t[1]=_*s+w*l,t[2]=_*n+w*c,t[3]=_*o-w*r,t[4]=_*l-w*s,t[5]=_*c-w*n,t[6]=d,t[7]=m,t[8]=v,t}function b1e(t,e,i){const r=i[0],s=i[1],n=i[2];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=s*e[3],t[4]=s*e[4],t[5]=s*e[5],t[6]=n*e[6],t[7]=n*e[7],t[8]=n*e[8],t}function _1e(t,e,i){const r=i[0],s=i[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=s*e[3],t[4]=s*e[4],t[5]=s*e[5],t}function S1e(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function x1e(t,e){const i=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=i,t[2]=0,t[3]=-i,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function T1e(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function $1e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function M1e(t,e){const i=e[0],r=e[1],s=e[2],n=e[3],o=i+i,l=r+r,c=s+s,d=i*o,m=r*o,v=r*l,w=s*o,_=s*l,x=s*c,T=n*o,M=n*l,O=n*c;return t[0]=1-v-x,t[3]=m-O,t[6]=w+M,t[1]=m+O,t[4]=1-d-x,t[7]=_-T,t[2]=w-M,t[5]=_+T,t[8]=1-d-v,t}function E1e(t,e){const i=e[0],r=e[1],s=e[2],n=e[4],o=e[5],l=e[6],c=e[8],d=e[9],m=e[10],v=m*o-l*d,w=-m*n+l*c,_=d*n-o*c,x=i*v+r*w+s*_;if(!x)return null;const T=1/x;return t[0]=v*T,t[1]=(-m*r+s*d)*T,t[2]=(l*r-s*o)*T,t[3]=w*T,t[4]=(m*i-s*c)*T,t[5]=(-l*i+s*n)*T,t[6]=_*T,t[7]=(-d*i+r*c)*T,t[8]=(o*i-r*n)*T,t}function A1e(t,e){const i=e[0],r=e[1],s=e[2],n=e[3],o=e[4],l=e[5],c=e[6],d=e[7],m=e[8],v=e[9],w=e[10],_=e[11],x=e[12],T=e[13],M=e[14],O=e[15],C=i*l-r*o,R=i*c-s*o,N=i*d-n*o,j=r*c-s*l,F=r*d-n*l,ee=s*d-n*c,X=m*T-v*x,J=m*M-w*x,re=m*O-_*x,fe=v*M-w*T,ye=v*O-_*T,Xe=w*O-_*M;let Ce=C*Xe-R*ye+N*fe+j*re-F*J+ee*X;return Ce?(Ce=1/Ce,t[0]=(l*Xe-c*ye+d*fe)*Ce,t[1]=(c*re-o*Xe-d*J)*Ce,t[2]=(o*ye-l*re+d*X)*Ce,t[3]=(s*ye-r*Xe-n*fe)*Ce,t[4]=(i*Xe-s*re+n*J)*Ce,t[5]=(r*re-i*ye-n*X)*Ce,t[6]=(T*ee-M*F+O*j)*Ce,t[7]=(M*N-x*ee-O*R)*Ce,t[8]=(x*F-T*N+O*C)*Ce,t):null}function O1e(t,e,i){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/i,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function k1e(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function C1e(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2)}function R1e(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t}function tY(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t}function I1e(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t}function P1e(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t[3]=e[3]+i[3]*r,t[4]=e[4]+i[4]*r,t[5]=e[5]+i[5]*r,t[6]=e[6]+i[6]*r,t[7]=e[7]+i[7]*r,t[8]=e[8]+i[8]*r,t}function j1e(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function N1e(t,e){const i=t[0],r=t[1],s=t[2],n=t[3],o=t[4],l=t[5],c=t[6],d=t[7],m=t[8],v=e[0],w=e[1],_=e[2],x=e[3],T=e[4],M=e[5],O=e[6],C=e[7],R=e[8],N=ws();return Math.abs(i-v)<=N*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(r-w)<=N*Math.max(1,Math.abs(r),Math.abs(w))&&Math.abs(s-_)<=N*Math.max(1,Math.abs(s),Math.abs(_))&&Math.abs(n-x)<=N*Math.max(1,Math.abs(n),Math.abs(x))&&Math.abs(o-T)<=N*Math.max(1,Math.abs(o),Math.abs(T))&&Math.abs(l-M)<=N*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(c-O)<=N*Math.max(1,Math.abs(c),Math.abs(O))&&Math.abs(d-C)<=N*Math.max(1,Math.abs(d),Math.abs(C))&&Math.abs(m-R)<=N*Math.max(1,Math.abs(m),Math.abs(R))}function D1e(t){const e=ws(),i=t[0],r=t[1],s=t[2],n=t[3],o=t[4],l=t[5],c=t[6],d=t[7],m=t[8];return Math.abs(1-(i*i+n*n+c*c))<=e&&Math.abs(1-(r*r+o*o+d*d))<=e&&Math.abs(1-(s*s+l*l+m*m))<=e}const L1e=Y1,V1e=tY;Object.freeze(Object.defineProperty({__proto__:null,add:R1e,adjoint:w1e,copy:v1e,determinant:V2,equals:N1e,exactEquals:j1e,frob:C1e,fromMat2d:$1e,fromMat4:g1e,fromQuat:M1e,fromRotation:x1e,fromScaling:T1e,fromTranslation:S1e,identity:KZ,invert:QZ,isOrthoNormal:D1e,mul:L1e,multiply:Y1,multiplyScalar:I1e,multiplyScalarAndAdd:P1e,normalFromMat4:A1e,normalFromMat4Legacy:E1e,projection:O1e,rotate:eY,scale:b1e,scaleByVec2:_1e,set:Nm,str:k1e,sub:V1e,subtract:tY,translate:n4,transpose:XZ},Symbol.toStringTag,{value:"Module"}));function Op(){return[1,0,0,0,1,0,0,0,1]}function F1e(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]}function z1e(t,e,i,r,s,n,o,l,c){return[t,e,i,r,s,n,o,l,c]}const U1e=Op();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:U1e,clone:F1e,create:Op,fromValues:z1e},Symbol.toStringTag,{value:"Module"}));const xf=Op();function q1e(t,e,i){const[r,s]=t,[n,o]=e,[l,c]=i;Nm(xf,r,n,l,s,o,c,1,1,1);const d=V2(xf),m=4*d/(gs(t,e)+gs(e,i)+gs(i,t));if(!isFinite(m)||Math.abs(m)<1e-8)return null;const v=r**2+s**2,w=n**2+o**2,_=l**2+c**2;Nm(xf,v,w,_,s,o,c,1,1,1);const x=V2(xf);return Nm(xf,v,w,_,r,n,l,1,1,1),[x/d*.5,V2(xf)/d*-.5]}function iY(t,e){const[i,r]=e.c,s=q1e(t,r,i),n=s==null,o=s??Ul([],t,i,.5),[l,c]=t,[d,m]=r,[v,w]=i,[_,x]=o,T=l-_,M=c-x,O=Math.sqrt(T*T+M*M),C=Hd(c-x,l-_),R=Hd(m-x,d-_);let N=Hd(w-x,v-_);return(R-C)*(N-R)<0&&(N+=2*Math.sign(C-N)*Math.PI),new JZ(_,x,O,C,N,n)}function S8e(t,e,i){const r=L2(t,i/2),s=L2(t,i),n=L2(t,(i+1)/2);return[{c:[s,r]},{c:[[...e.c[0]],n]}]}function x8e(t,e){const[i]=e.c,{cx:r,cy:s,thetaStart:n,thetaEnd:o,radius:l,isInvalid:c}=iY(t,e);return{a:[i,[r,s],Math.abs(o-n)<Math.PI?1:0,n>o?1:0,c?n:0,l,c?0:1]}}function T8e(t){var e,i;return"curveRings"in t&&!!((e=t.curveRings)!=null&&e.length)||"curvePaths"in t&&!!((i=t.curvePaths)!=null&&i.length)}function $8e(t){return"curveRings"in t?t.curveRings:t.curvePaths}function e6(t){return"b"in t}function t6(t){return"c"in t}function OT(t){return Array.isArray(t)}function M8e(t){return"a"in t}function rY(t){return"a"in t&&t.a.length===4}function B1e(t){return"a"in t&&t.a.length===7}function S5(t){return OT(t)?t:e6(t)?t.b[0]:t6(t)?t.c[0]:t.a[0]}function G1e(t){if(e6(t)){const[e,i,r]=t.b;return{b:[[...e],[...i],[...r]]}}if(t6(t)){const[e,i]=t.c;return{c:[[...e],[...i]]}}if(OT(t))return[...t];if(rY(t)){const[e,i,r,s]=t.a;return{a:[[...e],[...i],r,s]}}if(B1e(t)){const[e,i,r,s,n,o,l]=t.a;return{a:[[...e],[...i],r,s,n,o,l]}}return t}function H1e(t,e){const[i,r,s,n]=e.a,[o,l]=t,[c,d]=i,[m,v]=r,w=o-m,_=l-v,x=Math.sqrt(w*w+_*_),T=c-m,M=d-v,O=Math.sqrt(T*T+M*M),C=x===0||O===0||!TW(x,O),R=x,[N,j]=WZ(Hd(l-v,o-m),Math.atan2(d-v,c-m),s,n);return new JZ(m,v,R,N,j,C)}function E8e(t,e,i){const{cx:r,cy:s,thetaStart:n,thetaEnd:o}=t,[l,c,d,m]=e.a,v=n*(1-i)+o*i;return[{a:[L2(t,i),[r,s],Math.abs(v-n)<Math.PI?1:0,m]},{a:[[...l],[r,s],Math.abs(o-v)<Math.PI?1:0,m]}]}let W1e=class{constructor(e,i,r,s,n,o,l,c,d){this.cx=e,this.cy=i,this.a=r,this.b=s,this.cosR=n,this.sinR=o,this.u1=l,this.u2=c,this.isInvalid=d}};function i6(t,e){const[i,r,s,n,o,l,c]=e.a,[d,m]=t,[v,w]=i,[_,x]=r,T=l*c,M=Math.cos(o),O=Math.sin(o),[C,R]=WZ(Hd(1/T*(m-x)*M-1/T*(d-_)*O,1/l*(m-x)*O+1/l*(d-_)*M),Math.atan2(1/T*(w-x)*M-1/T*(v-_)*O,1/l*(w-x)*O+1/l*(v-_)*M),s,n);return new W1e(_,x,l,T,M,O,C,R,l===0||T===0)}function J1(t,e){const{a:i,b:r,cosR:s,sinR:n,cx:o,cy:l}=t,c=Math.cos(e),d=Math.sin(e);return[i*c*s-r*d*n+o,i*c*n+r*d*s+l]}function qf(t,e){const{u1:i,u2:r}=t;return J1(t,i*(1-e)+r*e)}function O8e(t,e,i){if(i<0||i>1)return[];if(i===0||i===1)return[G1e(e)];const[r,[s,n],o,l,c,d,m]=e.a,{u1:v,u2:w}=t,_=v*(1-i)+w*i;return[{a:[[...qf(t,i)],[s,n],Math.abs(_-v)<Math.PI?1:0,l,c,d,m]},{a:[[...r],[s,n],Math.abs(w-_)<Math.PI?1:0,l,c,d,m]}]}function k8e(t,e){const{a:i,b:r,cosR:s,sinR:n,u1:o,u2:l}=t,c=Math.PI/6,d=ZZ(e,[1*c,2*c,4*c,5*c,7*c,8*c,10*c,11*c],T=>{const M=Math.cos(T),O=Math.sin(T),[C,R]=J1(t,T);return[C,R,-i*s*O-r*n*M,-i*n*O+r*s*M,-i*s*M+r*n*O,-i*n*M-r*s*O]}),m=AT(o,l),v=new Set(d.map(T=>jw(m,T)).filter(T=>T>m.min&&T<m.max));v.add(o),v.add(l);let w,_,x=1/0;for(const T of v){const M=J1(t,T),[O,C]=M,R=e[0]-O,N=e[1]-C,j=R*R+N*N;j<x&&(w=(T-o)/(l-o),_=M,x=j)}return{t:w,curvePoint:_,distance:Math.sqrt(x)}}function Z1e(t,e,i){const r=i6(e,i),{a:s,b:n,u1:o,u2:l,cosR:c,sinR:d,isInvalid:m}=r,v=i.a[0];if(to(t,e),to(t,v),m)return t;const w=Math.atan2(-n*d,s*c),_=w+Math.PI,x=Math.atan2(n*c,s*d),T=x+Math.PI,M=AT(o,l);for(const O of[w,_,x,T].map(C=>jw(M,C)))O>M.min&&O<M.max&&to(t,J1(r,O));return t}function C8e(t,e,i){const[r,s,n,o,l,c,d]=e.a,m=i6(t,e),{u1:v,u2:w,isInvalid:_}=m,x=w-v;if(_)return Math.sqrt(gs(t,r));const T=14,M=[0,0];let O=0,C=[qf(m,0),qf(m,.25),qf(m,.5),qf(m,.75),qf(m,1)];for(let R=0;R<T;R++){const N=C.length-1,j=x/(2*N),F=[];for(let X=0;X<N;X++)F.push(C[X]),F.push(J1(m,v+(2*X+1)*j));F.push(C[C.length-1]),C=F,O=0;let ee=0;for(let X=1;X<C.length;X++){const J=C[X-1],re=C[X];if(O+=Math.sqrt(gs(J,re)),X>1){const fe=C[X-2],ye=h1e(M,fe,J,s,re);ee+=ye?Math.sqrt(gs(J,ye)):Math.abs(re[0]-J[0])+Math.abs(re[1]-J[1])}else ee+=O}if(ee-O<i)return O}return O}const y7=Op(),__=Op(),g7=Op(),Hu=Op();function R8e(t,e,i){const[r,s,n,o,l,c,d]=e.a,m=i6(t,e),{cosR:v,sinR:w,a:_,b:x,cx:T,cy:M}=m,O=D2([0,0],r,i),C=D2([0,0],s,i),R=i[0]*i[4]<0?1-o:o;{const N=_*_*w*w+x*x*v*v,j=2*(x*x-_*_)*w*v,F=_*_*v*v+x*x*w*w,ee=-2*N*T-j*M,X=-j*T-2*F*M;Nm(y7,N,j/2,ee/2,j/2,F,X/2,ee/2,X/2,N*T*T+j*T*M+F*M*M-_*_*x*x)}if(QZ(__,i),__==null){const N=D2([0,0],t,i);return{a:[O,C,n,o,Hd(O[1],O[0]),Math.sqrt(gs(O,N))/2,0]}}XZ(g7,__),Y1(Hu,Y1(Hu,g7,y7),__);{const N=Hu[0],j=2*Hu[1],F=Hu[4],ee=2*Hu[2],X=2*Hu[5],J=j*j-4*N*F,re=2*(N*X*X+F*ee*ee-j*ee*X+J*Hu[8]),fe=Math.sqrt((N-F)**2+j*j),ye=-Math.sqrt(re*(N+F+fe))/J,Xe=-Math.sqrt(re*(N+F-fe))/J;return{a:[O,C,n,R,.5*Hd(-j,F-N),ye,Xe/ye]}}}function Y1e(t,e,i){if(OT(i))return to(t,e),to(t,i),t;if(e6(i))return m1e(t,e,i);if(t6(i)){const r=iY(e,i);return m7(t,r)}if(rY(i)){const r=H1e(e,i);return m7(t,r)}return Z1e(t,e,i)}function sY(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function nY(t){return t.points!==void 0}function oY(t){return t.x!==void 0&&t.y!==void 0}function aY(t){return t.paths!==void 0}function lY(t){return t.rings!==void 0}function uY(t){function e(i,r){return i==null?r:r==null?i:t(i,r)}return e}const xc=uY(Math.min),Tc=uY(Math.max);function I8e(t,e){return aY(e)?qy(t,e.curvePaths??e.paths,!1,!1)??t:lY(e)?qy(t,e.curveRings??e.rings,!1,!1)??t:nY(e)?r6(t,e.points,!1,!1,!1,!1):sY(e)?cY(t,e):(oY(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.x,t[3]=e.y),t)}function P8e(t){let e,i,r,s;for(t.reset(),e=r=1/0,i=s=-1/0;t.nextPath();){const n=J1e(t);e=Math.min(n[0],e),r=Math.min(n[1],r),i=Math.max(n[2],i),s=Math.max(n[3],s)}return Us([e,r,i,s])}function J1e(t){let e,i,r,s;for(e=r=1/0,i=s=-1/0;t.nextPoint();)e=Math.min(t.x,e),r=Math.min(t.y,r),i=Math.max(t.x,i),s=Math.max(t.y,s);return Us([e,r,i,s])}function j8e(t,e){return aY(e)?qy(t,e.curvePaths??e.paths,!0,!1)??t:lY(e)?qy(t,e.curveRings??e.rings,!0,!1)??t:nY(e)?r6(t,e.points,!0,!1,!0,!1):sY(e)?cY(t,e,!0,!1,!0,!1):(oY(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.x,t[4]=e.y,t[5]=e.z),t)}function qy(t,e,i,r){const s=i?3:2;if(!e.length||!e[0].length)return null;let n,o,l,c,[d,m]=S5(e[0][0]),v=d,w=m;for(let _=0;_<e.length;_++){const x=e[_];for(let T=0;T<x.length;T++){const M=S5(x[T]),[O,C]=M;if(d=xc(d,O),m=xc(m,C),v=Tc(v,O),w=Tc(w,C),i&&M.length>2){const F=M[2];n=xc(n,F),o=Tc(o,F)}if(r&&M.length>s){const F=M[s];l=xc(n,F),c=Tc(o,F)}const R=x[T];if(OT(R)||T<1)continue;const N=S5(x[T-1]),j=Cve(d,m,v,w);[d,m,v,w]=Y1e(j,N,R)}}return i?r?(t[0]=d,t[1]=m,t[2]=n,t[3]=l,t[4]=v,t[5]=w,t[6]=o,t[7]=c,t.length=8,t):(t[0]=d,t[1]=m,t[2]=n,t[3]=v,t[4]=w,t[5]=o,t.length=6,t):r?(t[0]=d,t[1]=m,t[2]=l,t[3]=v,t[4]=w,t[5]=c,t.length=6,t):(t[0]=d,t[1]=m,t[2]=v,t[3]=w,t.length=4,t)}function cY(t,e,i,r,s,n){const o=e.xmin,l=e.xmax,c=e.ymin,d=e.ymax;let m=e.zmin,v=e.zmax,w=e.mmin,_=e.mmax;return s?(m=m||0,v=v||0,n?(w=w||0,_=_||0,t[0]=o,t[1]=c,t[2]=m,t[3]=w,t[4]=l,t[5]=d,t[6]=v,t[7]=_,t):(t[0]=o,t[1]=c,t[2]=m,t[3]=l,t[4]=d,t[5]=v,t)):n?(w=w||0,_=_||0,t[0]=o,t[1]=c,t[2]=w,t[3]=l,t[4]=d,t[5]=_,t):(t[0]=o,t[1]=c,t[2]=l,t[3]=d,t)}function r6(t,e,i,r,s,n){const o=i?3:2,l=r&&n,c=i&&s;if(!e.length||!e[0].length)return null;let d,m,v,w,[_,x]=e[0],[T,M]=e[0];for(let O=0;O<e.length;O++){const C=e[O],[R,N]=C;if(_=xc(_,R),x=xc(x,N),T=Tc(T,R),M=Tc(M,N),c&&C.length>2){const j=C[2];d=xc(d,j),m=Tc(m,j)}if(l&&C.length>o){const j=C[o];v=xc(d,j),w=Tc(m,j)}}return s?(d=d||0,m=m||0,n?(v=v||0,w=w||0,t[0]=_,t[1]=x,t[2]=d,t[3]=v,t[4]=T,t[5]=M,t[6]=m,t[7]=w,t):(t[0]=_,t[1]=x,t[2]=d,t[3]=T,t[4]=M,t[5]=m,t)):n?(v=v||0,w=w||0,t[0]=_,t[1]=x,t[2]=v,t[3]=T,t[4]=M,t[5]=w,t):(t[0]=_,t[1]=x,t[2]=T,t[3]=M,t)}function K1e(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function X1e(t){return t.points!==void 0}function Q1e(t){return t.x!==void 0&&t.y!==void 0}function ewe(t){return t.paths!==void 0}function twe(t){return t.rings!==void 0}const s6=[];function hY(t,e,i,r){return{xmin:t,ymin:e,xmax:i,ymax:r}}function dY(t,e,i,r,s,n){return{xmin:t,ymin:e,zmin:i,xmax:r,ymax:s,zmax:n}}function pY(t,e,i,r,s,n){return{xmin:t,ymin:e,mmin:i,xmax:r,ymax:s,mmax:n}}function fY(t,e,i,r,s,n,o,l){return{xmin:t,ymin:e,zmin:i,mmin:r,xmax:s,ymax:n,zmax:o,mmax:l}}function n6(t,e=!1,i=!1){return e?i?fY(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]):dY(t[0],t[1],t[2],t[3],t[4],t[5]):i?pY(t[0],t[1],t[2],t[3],t[4],t[5]):hY(t[0],t[1],t[2],t[3])}function N8e(t){return t?K1e(t)?t:Q1e(t)?iwe(t):twe(t)?yY(t):ewe(t)?gY(t):X1e(t)?mY(t):null:null}function mY(t){const{hasZ:e,hasM:i,points:r}=t,s=r6(s6,r,e??!1,i??!1,e??!1,i??!1);return s?n6(s,e,i):null}function iwe(t){const{x:e,y:i,z:r,m:s}=t,n=s!=null;return r!=null?n?fY(e,i,r,s,e,i,r,s):dY(e,i,r,e,i,r):n?pY(e,i,s,e,i,s):hY(e,i,e,i)}function yY(t){const{hasZ:e,hasM:i,rings:r,curveRings:s}=t,n=qy(s6,s??r,e??!1,i??!1);return n?n6(n,e,i):null}function gY(t){const{hasZ:e,hasM:i,paths:r,curvePaths:s}=t,n=qy(s6,s??r,e??!1,i??!1);return n?n6(n,e,i):null}function By(t,e,i=!1){let{hasM:r,hasZ:s}=t;Array.isArray(e)?e.length!==4||r||s?e.length===3&&i&&!r?(s=!0,r=!1):e.length===3&&r&&s&&(r=!1,s=!1):(r=!0,s=!0):(s=!s&&e.hasZ&&(!r||e.hasM),r=!r&&e.hasM&&(!s||e.hasZ)),t.hasZ=s,t.hasM=r}var o4;function rwe(t){var n;if(!t)return;let{points:e,hasM:i,hasZ:r,spatialReference:s}=t;switch(e??(e=[]),(n=e==null?void 0:e.at(0))==null?void 0:n.length){case 4:r??(r=!0),i??(i=!0);break;case 3:r??(r=i!==!0),i??(i=!r);break;default:r??(r=!1),i??(i=!1)}return s??(s=Se.WGS84),{...t,hasM:i,hasZ:r,points:e,spatialReference:s}}let Lo=o4=class extends tr{constructor(t){super(rwe(t)),this.points=[],this.type="multipoint"}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const t=mY(this);return t?new Ye({...t,spatialReference:this.spatialReference}):null}writePoints(t,e){e.points=G(this.points)}clone(){const{points:t,spatialReference:e,hasM:i,hasZ:r}=this;return new o4({points:G(t),spatialReference:e.clone(),hasM:i,hasZ:r})}addPoint(t){return By(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}getPoint(t){if(!this._validateInputs(t))return null;const e=this.points[t],i={x:e[0],y:e[1],spatialReference:this.spatialReference};let r=2;return this.hasZ&&(i.z=e[2],r=3),this.hasM&&(i.m=e[r]),new Re(i)}removePoint(t){if(!this._validateInputs(t))return null;const e=new Re(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),e}setPoint(t,e){return this._validateInputs(t)?(By(this,e),Array.isArray(e)||(e=e.toArray()),this.points[t]=e,this.notifyChange("points"),this):this}toJSON(t){return this.write({},t)}_validateInputs(t){return t!=null&&t>=0&&t<this.points.length}};h([f({readOnly:!0})],Lo.prototype,"cache",null),h([f({readOnly:!0})],Lo.prototype,"extent",null),h([f({type:[[Number]],json:{write:{isRequired:!0}}})],Lo.prototype,"points",void 0),h([_e("points")],Lo.prototype,"writePoints",null),Lo=o4=h([I("esri.geometry.Multipoint")],Lo),Lo.prototype.toJSON.isDefaultToJSON=!0;function D8e(t){const e=[];for(t.reset();t.nextPath();){const i=[];for(;t.nextPoint();)i.push([t.x,t.y]);e.push(i)}return t.reset(),e}function swe(t){const e=[];for(;t.nextPoint();)e.push([t.x,t.y]);return t.seekPathStart(),e}function L8e(t){if(!t)return null;if(Array.isArray(t))return t;const e=t.hasZ,i=t.hasM;if(t.type==="point")return i&&e?[t.x,t.y,t.z,t.m]:e?[t.x,t.y,t.z]:i?[t.x,t.y,t.m]:[t.x,t.y];if(t.type==="polygon")return t.rings.slice();if(t.type==="polyline")return t.paths.slice();if(t.type==="multipoint")return t.points.map(r=>[r]);if(t.type==="extent"){const r=t.clone().normalize();if(!r)return null;let s=!1,n=!1;return r.forEach(o=>{o.hasZ&&(s=!0),o.hasM&&(n=!0)}),r.map(o=>{const l=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(s&&o.hasZ){const c=.5*(o.zmax-o.zmin);for(let d=0;d<l.length;d++)l[d].push(c)}if(n&&o.hasM){const c=.5*(o.mmax-o.mmin);for(let d=0;d<l.length;d++)l[d].push(c)}return l})}return null}function kT(t,e){const i=e[0]-t[0],r=e[1]-t[1];if(t.length>2&&e.length>2){const s=t[2]-e[2];return Math.sqrt(i*i+r*r+s*s)}return Math.sqrt(i*i+r*r)}function vY(t,e,i){const r=t[0]+i*(e[0]-t[0]),s=t[1]+i*(e[1]-t[1]);return t.length>2&&e.length>2?[r,s,t[2]+i*(e[2]-t[2])]:[r,s]}function nwe(t,e,i,r){return owe(t,e,i[r],i[r+1])}function owe(t,e,i,r){const[s,n]=e,[o,l]=i,[c,d]=r,m=c-o,v=d-l,w=m*m+v*v,_=(s-o)*m+(n-l)*v,x=Math.min(1,Math.max(0,_/w));return t[0]=o+m*x,t[1]=l+v*x,t}function V8e(t,e,i,r,s,n){let o=i,l=r,c=s-o,d=n-l;if(c!==0||d!==0){const m=((t-o)*c+(e-l)*d)/(c*c+d*d);m>1?(o=s,l=n):m>0&&(o+=c*m,l+=d*m)}return c=t-o,d=e-l,c*c+d*d}function wY(t,e){return vY(t,e,.5)}function F8e(t){const e=t.length;let i=0;for(let r=0;r<e-1;++r)i+=kT(t[r],t[r+1]);return i}function z8e(t,e){if(e<=0)return t[0];const i=t.length;let r=0;for(let s=0;s<i-1;++s){const n=kT(t[s],t[s+1]);if(e-r<n){const o=(e-r)/n;return vY(t[s],t[s+1],o)}r+=n}return t[i-1]}function bY(t,e=0,i=1){let r=0;const s=t.length;let n=t[0];for(let o=1;o<s;o++){const l=t[o];r+=(l[e]-n[e])*(l[i]+n[i]),n=l}if(_Y(t)){const o=t[0];r+=(o[e]-n[e])*(o[i]+n[i])}return r>=0}function _Y(t){const e=t.length;return e>0&&!Jx(t[0],t[e-1])}function U8e(t){"rings"in t&&(awe(t),lwe(t))}function awe(t){if("rings"in t)for(const e of t.rings)_Y(e)&&e.push(e[0].slice())}function lwe(t){if(!("rings"in t)||t.rings.length===0||bY(t.rings[0]))return!1;for(const e of t.rings)e.reverse();return!0}function q8e(t){return t.type!=="polygon"&&t.type!=="polyline"||uwe(t.type==="polygon"?t.rings:t.paths,t.spatialReference),t}function uwe(t,e){const i=vs(e);if(!i)return;const r=i.valid[0],s=i.valid[1],n=s-r;for(const o of t){let l=1/0,c=-1/0;for(const m of o){const v=cwe(m[0],r,s);l=Math.min(l,v),c=Math.max(c,v),m[0]=v}const d=c-l;n-d<d&&o.forEach(m=>{m[0]<0&&(m[0]+=n)})}}function cwe(t,e,i){const r=i-e;return t<e?i-(e-t)%r:t>i?e+(t-e)%r:t}function B8e(t,e){if(t===e)return!0;if(t.type!==e.type)return!1;if(t.type==="point"||t.type==="mesh"||t.type==="extent")return!0;if(t.type==="multipoint")return t.points.length===e.points.length;const[i,r]=t.type==="polyline"?[t.paths,e.paths]:[t.rings,e.rings];return i.length===r.length&&i.every((s,n)=>s.length===r[n].length)}function G8e(t){return t?t.hasZ?[t.xmax-t.xmin/2,t.ymax-t.ymin/2,t.zmax-t.zmin/2]:[t.xmax-t.xmin/2,t.ymax-t.ymin/2]:null}function hwe(t){return pwe(t.rings,t.hasZ??!1)}function dwe(t){const e=hwe(t);if(!e)return null;const{hasZ:i,spatialReference:r}=t,[s,n,o]=e;return isNaN(s)||isNaN(n)||i&&isNaN(o)?null:{x:s,y:n,z:i?o:void 0,spatialReference:r}}function pwe(t,e){if(!(t!=null&&t.length))return null;const i=[],r=[],s=e?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let n=0,o=t.length;n<o;n++){const l=SY(t[n],e,s);l&&r.push(l)}if(r.sort((n,o)=>{let l=n[2]-o[2];return l===0&&e&&(l=n[4]-o[4]),l}),r.length&&(i[0]=r[0][0],i[1]=r[0][1],e&&(i[2]=r[0][3]),(i[0]<s[0]||i[0]>s[1]||i[1]<s[2]||i[1]>s[3]||e&&(i[2]<s[4]||i[2]>s[5]))&&(i.length=0)),!i.length){const n=t[0]&&t[0].length?fwe(t[0],e):null;if(!n)return null;i[0]=n[0],i[1]=n[1],e&&n.length>2&&(i[2]=n[2])}return i}function SY(t,e,i){let r=0,s=0,n=0,o=0,l=0;const c=t.length?t[0][0]:0,d=t.length?t[0][1]:0,m=t.length&&e?t[0][2]:0;for(let w=0;w<t.length;w++){const _=t[w],x=t[(w+1)%t.length],[T,M,O]=_,C=T-c,R=M-d,[N,j,F]=x,ee=N-c,X=j-d,J=C*X-ee*R;if(o+=J,r+=(C+ee)*J,s+=(R+X)*J,e&&_.length>2&&x.length>2){const re=O-m,fe=F-m,ye=C*fe-ee*re;n+=(re+fe)*ye,l+=ye}T<i[0]&&(i[0]=T),T>i[1]&&(i[1]=T),M<i[2]&&(i[2]=M),M>i[3]&&(i[3]=M),e&&(O<i[4]&&(i[4]=O),O>i[5]&&(i[5]=O))}if(o>0&&(o*=-1),l>0&&(l*=-1),!o)return null;o*=.5,l*=.5;const v=[r/(6*o)+c,s/(6*o)+d,o];return e&&(i[4]===i[5]||l===0?(v[3]=(i[4]+i[5])/2,v[4]=0):(v[3]=n/(6*l)+m,v[4]=l)),v}function H8e(t,e){let i=0,r=0,s=0;t.nextPoint();const n=t.pathSize?t.x:0,o=t.pathSize?t.y:0;for(let l=0;l<t.pathSize;l++){t.seekInPath(l);const c=[t.x,t.y];t.seekInPath((l+1)%t.pathSize);const d=[t.x,t.y],[m,v]=c,w=m-n,_=v-o,[x,T]=d,M=x-n,O=T-o,C=w*O-M*_;s+=C,i+=(w+M)*C,r+=(_+O)*C,m<e[0]&&(e[0]=m),m>e[1]&&(e[1]=m),v<e[2]&&(e[2]=v),v>e[3]&&(e[3]=v)}return s>0&&(s*=-1),s?(s*=.5,[i/(6*s)+n,r/(6*s)+o,s]):null}function fwe(t,e){const i=e?[0,0,0]:[0,0],r=e?[0,0,0]:[0,0];let s=0,n=0,o=0,l=0;for(let c=0,d=t.length;c<d-1;c++){const m=t[c],v=t[c+1];if(m&&v){i[0]=m[0],i[1]=m[1],r[0]=v[0],r[1]=v[1],e&&m.length>2&&v.length>2&&(i[2]=m[2],r[2]=v[2]);const w=kT(i,r);if(w){s+=w;const _=wY(m,v);n+=w*_[0],o+=w*_[1],e&&_.length>2&&(l+=w*_[2])}}}return s>0?e?[n/s,o/s,l/s]:[n/s,o/s]:t.length?t[0]:null}function mwe(t){const{hasZ:e,totalSize:i}=t;if(i===0)return null;const r=[],s=[],n=e?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(t.reset();t.nextPath();){const o=SY(swe(t),t.hasZ,n);o&&s.push(o)}if(s.sort((o,l)=>{let c=o[2]-l[2];return c===0&&e&&(c=o[4]-l[4]),c}),s.length&&(r[0]=s[0][0],r[1]=s[0][1],e&&(r[2]=s[0][3]),(r[0]<n[0]||r[0]>n[1]||r[1]<n[2]||r[1]>n[3]||e&&(r[2]<n[4]||r[2]>n[5]))&&(r.length=0)),!r.length){t.reset(),t.nextPath();const o=t.pathSize?ywe(t):null;if(!o)return null;r[0]=o[0],r[1]=o[1],e&&o.length>2&&(r[2]=o[2])}return r}function ywe(t){const{hasZ:e}=t,i=e?[0,0,0]:[0,0],r=e?[0,0,0]:[0,0];let s=0,n=0,o=0,l=0;if(t.nextPoint()){let c=t.x,d=t.y,m=t.z;for(;t.nextPoint();){const v=t.x,w=t.y,_=t.z;i[0]=c,i[1]=d,r[0]=v,r[1]=w,e&&(i[2]=m,r[2]=_);const x=kT(i,r);if(x){s+=x;const T=wY(i,r);n+=x*T[0],o+=x*T[1],e&&T.length>2&&(l+=x*T[2])}c=v,d=w,m=_}}return s>0?e?[n/s,o/s,l/s]:[n/s,o/s]:t.pathSize?(t.seekPathStart(),t.nextPoint(),[t.x,t.y]):null}const gwe=1e-6;function W8e(t){let e=0;for(t.reset();t.nextPath();)e+=t.getCurrentRingArea();if(e<gwe){const s=mwe(t);return s?[s[0],s[1]]:null}const i=[0,0];if(t.reset(),!t.nextPath()||!t.nextPoint())return null;const r=[t.x,t.y];for(t.reset();t.nextPath();)wwe(i,r,t);return i[0]*=1/e,i[1]*=1/e,i[0]+=r[0],i[1]+=r[1],i}const vwe=1/3;function wwe(t,e,i){if(!t||!i||i.pathSize<3)return null;i.nextPoint();const r=i.x,s=i.y;i.nextPoint();let n,o=i.x-r,l=i.y-s,c=0,d=0;for(;i.nextPoint();)c=i.x-r,d=i.y-s,n=.5*vwe*(c*l-d*o),t[0]+=n*(o+c),t[1]+=n*(l+d),o=c,l=d;const m=i.getCurrentRingArea(),v=[r,s];return v[0]-=e[0],v[1]-=e[1],v[0]*=m,v[1]*=m,t[0]+=v[0],t[1]+=v[1],t}var F2;function v7(t){return!Array.isArray(t[0])}function bwe(t){var e;return typeof((e=t[0])==null?void 0:e[0])=="number"}function _we(t){var n,o;if(!t)return;let{rings:e,hasM:i,hasZ:r,spatialReference:s}=t;switch(e??(e=[]),bwe(e)&&(e=[e]),(o=(n=e[0])==null?void 0:n[0])==null?void 0:o.length){case 4:r??(r=!0),i??(i=!0);break;case 3:r??(r=i!==!0),i??(i=!r);break;default:r??(r=!1),i??(i=!1)}return s??(s=Se.WGS84),{...t,hasM:i,hasZ:r,rings:e,spatialReference:s}}let Qt=F2=class extends tr{static fromExtent(t){const e=t.clone().normalize(),{spatialReference:i}=t;let r=!1,s=!1;for(const o of e)o.hasZ&&(r=!0),o.hasM&&(s=!0);const n={rings:e.map(o=>{const l=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(r&&o.hasZ){const c=o.zmin+.5*(o.zmax-o.zmin);for(let d=0;d<l.length;d++)l[d].push(c)}if(s&&o.hasM){const c=o.mmin+.5*(o.mmax-o.mmin);for(let d=0;d<l.length;d++)l[d].push(c)}return l}),spatialReference:i};return r&&(n.hasZ=!0),s&&(n.hasM=!0),new F2(n)}constructor(t){super(_we(t)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){BE(se.getLogger(this),"centroid",{replacement:"Please use centroidOperator.execute() instead.",version:"4.34",warnOnce:!0});const t=dwe(this);return t?Re.fromJSON(t):null}writeCurveRings(t,e){e.curveRings=G(t)}get extent(){const t=yY(this),{spatialReference:e}=this;return t?new Ye({...t,spatialReference:e}):null}get isSelfIntersecting(){return BE(se.getLogger(this),"isSelfIntersecting",{replacement:"Please use simplifyOperator.isSimple() instead.",version:"4.33",warnOnce:!0}),Ave(this.rings)}writeRings(t,e){e.rings=G(this.rings)}addRing(t){if(!t)return;const e=this.rings,i=e.length;if(v7(t)){const r=[];for(let s=0,n=t.length;s<n;s++)r[s]=t[s].toArray();e[i]=r}else e[i]=t.slice();return this.notifyChange("rings"),this}clone(){const t=new F2;return t.spatialReference=this.spatialReference,t.rings=G(this.rings),t.curveRings=G(this.curveRings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,i=t.spatialReference;if(e!=null!=(i!=null)||e!=null&&i!=null&&!e.equals(i)||this.rings.length!==t.rings.length)return!1;const r=([s,n,o,l],[c,d,m,v])=>s===c&&n===d&&(o==null&&m==null||o===m)&&(l==null&&v==null||l===v);for(let s=0;s<this.rings.length;s++){const n=this.rings[s],o=t.rings[s];if(!Jx(n,o,r))return!1}return!0}contains(t){if(!t)return!1;const e=TT(t,this.spatialReference);return WR(this,e??t)}isClockwise(t){const e=v7(t)?t.map(i=>this.hasZ?this.hasM?[i.x,i.y,i.z,i.m]:[i.x,i.y,i.z]:[i.x,i.y]):t;return bY(e)}getPoint(t,e){if(!this._validateInputs(t,e))return null;const i=this.rings[t][e],r=this.hasZ,s=this.hasM;return r&&!s?new Re(i[0],i[1],i[2],void 0,this.spatialReference):s&&!r?new Re(i[0],i[1],void 0,i[2],this.spatialReference):r&&s?new Re(i[0],i[1],i[2],i[3],this.spatialReference):new Re(i[0],i[1],this.spatialReference)}insertPoint(t,e,i){return this._validateInputs(t,e,!0)?(By(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[t].splice(e,0,i),this.notifyChange("rings"),this):this}removePoint(t,e){if(!this._validateInputs(t,e))return null;const i=new Re(this.rings[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("rings"),i}removeRing(t){if(!this._validateInputs(t,null))return null;const e=this.rings.splice(t,1)[0],i=this.spatialReference,r=e.map(s=>new Re(s,i));return this.notifyChange("rings"),r}setPoint(t,e,i){return this._validateInputs(t,e)?(By(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[t][e]=i,this.notifyChange("rings"),this):this}_validateInputs(t,e,i=!1){if(t==null||t<0||t>=this.rings.length)return!1;if(e!=null){const r=this.rings[t];if(i&&(e<0||e>r.length)||!i&&(e<0||e>=r.length))return!1}return!0}toJSON(t){return this.write({},t)}};h([f({readOnly:!0})],Qt.prototype,"cache",null),h([f({readOnly:!0})],Qt.prototype,"centroid",null),h([f({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Qt.prototype,"curveRings",void 0),h([_e("curveRings")],Qt.prototype,"writeCurveRings",null),h([f({readOnly:!0})],Qt.prototype,"extent",null),h([f({readOnly:!0})],Qt.prototype,"isSelfIntersecting",null),h([f({type:[[[Number]]],json:{write:{isRequired:!0}}})],Qt.prototype,"rings",void 0),h([_e("rings")],Qt.prototype,"writeRings",null),Qt=F2=h([I("esri.geometry.Polygon")],Qt),Qt.prototype.toJSON.isDefaultToJSON=!0;var a4;function Swe(t){return!Array.isArray(t[0])}function xwe(t){var e;return typeof((e=t[0])==null?void 0:e[0])=="number"}function Twe(t){var n,o;if(!t)return;let{paths:e,hasM:i,hasZ:r,spatialReference:s}=t;switch(e??(e=[]),xwe(e)&&(e=[e]),(o=(n=e[0])==null?void 0:n[0])==null?void 0:o.length){case 4:r??(r=!0),i??(i=!0);break;case 3:r??(r=i!==!0),i??(i=!r);break;default:r??(r=!1),i??(i=!1)}return s??(s=Se.WGS84),{...t,hasM:i,hasZ:r,paths:e,spatialReference:s}}let Hi=a4=class extends tr{constructor(t){super(Twe(t)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(t,e){e.curvePaths=G(t)}get extent(){const t=gY(this),{spatialReference:e}=this;return t?new Ye({...t,spatialReference:e}):null}writePaths(t,e){e.paths=G(this.paths)}addPath(t){if(!t)return;const e=this.paths,i=e.length;if(Swe(t)){const r=[];for(let s=0,n=t.length;s<n;s++)r[s]=t[s].toArray();e[i]=r}else e[i]=t.slice();return this.notifyChange("paths"),this}clone(){const t=new a4;return t.spatialReference=this.spatialReference,t.paths=G(this.paths),t.curvePaths=G(this.curvePaths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,e){if(!this._validateInputs(t,e))return null;const i=this.paths[t][e],r=this.hasZ,s=this.hasM;return r&&!s?new Re(i[0],i[1],i[2],void 0,this.spatialReference):s&&!r?new Re(i[0],i[1],void 0,i[2],this.spatialReference):r&&s?new Re(i[0],i[1],i[2],i[3],this.spatialReference):new Re(i[0],i[1],this.spatialReference)}insertPoint(t,e,i){return this._validateInputs(t,e,!0)?(By(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[t].splice(e,0,i),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;const e=this.paths.splice(t,1)[0],i=this.spatialReference,r=e.map(s=>new Re(s,i));return this.notifyChange("paths"),r}removePoint(t,e){if(!this._validateInputs(t,e))return null;const i=new Re(this.paths[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("paths"),i}setPoint(t,e,i){return this._validateInputs(t,e)?(By(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[t][e]=i,this.notifyChange("paths"),this):this}_validateInputs(t,e,i=!1){if(t==null||t<0||t>=this.paths.length)return!1;if(e!=null){const r=this.paths[t];if(i&&(e<0||e>r.length)||!i&&(e<0||e>=r.length))return!1}return!0}toJSON(t){return this.write({},t)}};h([f({readOnly:!0})],Hi.prototype,"cache",null),h([f({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Hi.prototype,"curvePaths",void 0),h([_e("curvePaths")],Hi.prototype,"writeCurvePaths",null),h([f({readOnly:!0})],Hi.prototype,"extent",null),h([f({type:[[[Number]]],json:{write:{isRequired:!0}}})],Hi.prototype,"paths",void 0),h([_e("paths")],Hi.prototype,"writePaths",null),Hi=a4=h([I("esri.geometry.Polyline")],Hi),Hi.prototype.toJSON.isDefaultToJSON=!0;const o6=wr()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),Z8e=wr()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),Nw={base:tr,key:"type",typeMap:{extent:Ye,multipoint:Lo,point:Re,polyline:Hi,polygon:Qt}};function Y8e(t){return t.type==="point"}function J8e(t){return t.type==="multipoint"}function K8e(t){return t.type==="polygon"}function X8e(t){return t.type==="polyline"}const a6=Symbol("idFieldsProviderSymbol");function $we(t){return!!t&&a6 in t}function w7(t){return $we(t)?t[a6]:void 0}const Dw=Symbol("popupProvider");function Q8e(t){return typeof t=="object"&&t!==null&&"popupEnabled"in t&&"popupTemplate"in t}function Mwe(t){return!!t&&Dw in t}function Ewe(t){return Mwe(t)?t[Dw]:null}const Awe=Symbol("getSliceableSymbol");let K1=class{};K1=h([I("esri.graphic.GraphicOrigin")],K1);const Owe=Symbol("isGeoJSONGraphicOrigin");var b7;let kwe=class extends K1{get[(b7=Owe,Dw)](){return this.layer}get[a6](){return this.layer}get[Awe](){return this.layer}constructor(e){super(),this[b7]=!0,this.type="geojson",this.layer=e}get id(){return this.layer.id}},Cwe=class{constructor(){this._resolver=bn(),this._status=0,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=1,this._cleanUp()},()=>{this._status=2,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(e){this._resolvingPromises.push(e),this._tryResolve()}isResolved(){return this._status===1}isRejected(){return this._status===2}isFulfilled(){return this._status!==0}abort(){this._resolver.reject($t())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const e=bn(),i=[...this._resolvingPromises,e.promise],r=this._allPromise=Promise.all(i);r.then(()=>{this.isFulfilled()||this._allPromise!==r||this._resolver.resolve()},s=>{this.isFulfilled()||this._allPromise!==r||Cr(s)||this._resolver.reject(s)}),e.resolve()}};const xY=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this._promiseProps=new Cwe,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(r,s){return this._promiseProps.promise.then(()=>this).then(r,s)}catch(r){return this.when(null,r)}addResolvingPromise(r){r&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in r?r.when():r)}addResolvingTask(r){r&&!this._promiseProps.isFulfilled()&&(this.addHandles(mhe(r)),this._promiseProps.addResolvingPromise(r.promise))}};return i=h([I("esri.core.Promise")],i),i},l6=xY($e),Rwe="not-loaded",Iwe="loading",Pwe="failed",_7="loaded",jwe=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(s=>{const n=this.load.bind(this);this.load=o=>{const l=new Promise((c,d)=>{const m=YC(o,d);this.destroyed&&d(new B("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(c,d).finally(()=>{m&&m.remove()})});if(this.loadStatus===Rwe){this._set("loadStatus",Iwe);const c=this._loadController=new AbortController;n({signal:c.signal})}return s(),l}})),this.when(()=>{this._set("loadStatus",_7),this._loadController=null},s=>{this.destroyed||(this._set("loadStatus",Pwe),this._set("loadError",s),this._loadController=null)})}destroy(){this._loadController&&(this._loadController=np(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===_7}get loadWarnings(){return this._get("loadWarnings")}load(r){return null}cancelLoad(){var r;return this.isFulfilled()||(this._set("loadError",new B("load:cancelled","Cancelled")),(r=this._loadController)==null||r.abort(),this._promiseProps.abort()),this}};return h([f({readOnly:!0})],i.prototype,"loaded",null),h([f({readOnly:!0})],i.prototype,"loadError",void 0),h([f({clonable:!1})],i.prototype,"loadStatus",void 0),h([f({type:[lo],readOnly:!0})],i.prototype,"loadWarnings",null),i=h([I("esri.core.Loadable")],i),i},_g=jwe(l6);function l4(t){return!(!t||!t.load)}async function Nwe(t){var r;const e="portalItem"in t?t:{portalItem:t},{fromItem:i}=await te(async()=>{const{fromItem:s}=await import("./portalLayers-DY6VyXm4.js");return{fromItem:s}},__vite__mapDeps([25,26,27,28,29]));try{return await i(e)}catch(s){const n=e==null?void 0:e.portalItem,o=(n==null?void 0:n.id)||"unset",l=((r=n==null?void 0:n.portal)==null?void 0:r.url)||dt.portalUrl;throw se.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+l+"', id: '"+o+"')",s),s}}const S7={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function x5(t,e,i,r=ea){const s=new Ys(_R(r)),n=be.fromJSDate(t,{zone:s}),o=i==="decades"||i==="centuries"?"year":$Y(i);return i==="decades"&&(e*=10),i==="centuries"&&(e*=100),n.plus({[o]:e}).toJSDate()}function rLe(t,e,i="milliseconds"){const r=t.getTime(),s=TY(e,i,"milliseconds");return new Date(r+s)}function x7(t,e,i=ea){const r=new Ys(_R(i)),s=be.fromJSDate(t,{zone:r});if(e==="decades"||e==="centuries"){const o=s.startOf("year"),{year:l}=o,c=l-l%(e==="decades"?10:100);return o.set({year:c}).toJSDate()}const n=$Y(e);return s.startOf(n).toJSDate()}function TY(t,e,i){return t===0?0:t*S7[e]/S7[i]}function sLe(t,e){return t&&e?t.intersection(e):t||e}function $Y(t){switch(t){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var Un,Ym;let Ii=(Ym=class extends ae{static get allTime(){return T7}static get empty(){return Dwe}static fromArray(e){return new Un({start:e[0]!=null?new Date(e[0]):e[0],end:e[1]!=null?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,i){return i.end!=null?new Date(i.end):null}writeEnd(e,i){i.end=(e==null?void 0:e.getTime())??null}get isAllTime(){return this.equals(Un.allTime)}get isEmpty(){return this.equals(Un.empty)}readStart(e,i){return i.start!=null?new Date(i.start):null}writeStart(e,i){i.start=(e==null?void 0:e.getTime())??null}clone(){return new Un({end:this.end,start:this.start})}equals(e){var o,l,c,d;if(!e)return!1;const i=((o=this.start)==null?void 0:o.getTime())??this.start,r=((l=this.end)==null?void 0:l.getTime())??this.end,s=((c=e.start)==null?void 0:c.getTime())??e.start,n=((d=e.end)==null?void 0:d.getTime())??e.end;return i===s&&r===n}expandTo(e,i=ea){if(this.isEmpty||this.isAllTime)return this.clone();let r=this.start;r&&(r=x7(r,e,i));let s=this.end;if(s){const n=x7(s,e,i);s=s.getTime()===n.getTime()?n:x5(n,1,e,i)}return new Un({start:r,end:s})}intersection(e){var c,d,m,v;if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return Un.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const i=((c=this.start)==null?void 0:c.getTime())??-1/0,r=((d=this.end)==null?void 0:d.getTime())??1/0,s=((m=e.start)==null?void 0:m.getTime())??-1/0,n=((v=e.end)==null?void 0:v.getTime())??1/0;let o,l;return s>=i&&s<=r?o=s:i>=s&&i<=n&&(o=i),r>=s&&r<=n?l=r:n>=i&&n<=r&&(l=n),o==null||l==null||isNaN(o)||isNaN(l)?Un.empty:new Un({start:o===-1/0?null:new Date(o),end:l===1/0?null:new Date(l)})}offset(e,i,r=ea){if(this.isEmpty||this.isAllTime)return this.clone();const s=new Un,{start:n,end:o}=this;return n!=null&&(s.start=x5(n,e,i,r)),o!=null&&(s.end=x5(o,e,i,r)),s}toArray(){var e,i;return this.isEmpty?[void 0,void 0]:[((e=this.start)==null?void 0:e.getTime())??null,((i=this.end)==null?void 0:i.getTime())??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return T7.clone();const i=this.start!=null&&e.start!=null?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=this.end!=null&&e.end!=null?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new Un({start:i,end:r})}},Un=Ym,Ym);h([f({type:Date,json:{write:{allowNull:!0}}})],Ii.prototype,"end",void 0),h([Ie("end")],Ii.prototype,"readEnd",null),h([_e("end")],Ii.prototype,"writeEnd",null),h([f({readOnly:!0,json:{read:!1}})],Ii.prototype,"isAllTime",null),h([f({readOnly:!0,json:{read:!1}})],Ii.prototype,"isEmpty",null),h([f({type:Date,json:{write:{allowNull:!0}}})],Ii.prototype,"start",void 0),h([Ie("start")],Ii.prototype,"readStart",null),h([_e("start")],Ii.prototype,"writeStart",null),Ii=Un=h([I("esri.time.TimeExtent")],Ii);const T7=new Ii,Dwe=new Ii({start:void 0,end:void 0});let Lwe=0,Kt=class extends oT(MR(_g)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new Ye(-180,-90,180,90,Se.WGS84),this.id=Date.now().toString(16)+"-layer-"+Lwe++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=Se.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(e){const i=typeof e=="string"?{url:e}:e;return(await te(async()=>{const{fromUrl:r}=await import("./arcgisLayers-Dg3Fmh8u.js");return{fromUrl:r}},__vite__mapDeps([30,26,27,29]))).fromUrl(i)}static fromPortalItem(e){return Nwe(e)}initialize(){this.when().catch(e=>{Cr(e)||se.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:e})})}destroy(){var i;const{parent:e}=this;e&&(this.parent=null,(i=e.removeChildLayer)==null||i.call(e,this))}get effectiveVisible(){var e;return this.visible&&(((e=this.parent)==null?void 0:e.effectiveVisible)??!0)}get hasAttributionData(){return this.attributionDataUrl!=null}get loaded(){return super.loaded}removeFromParent(){var i;const{parent:e}=this;e&&((i=e.removeChildLayer)==null||i.call(e,this),this.parent=null)}get parsedUrl(){return Rr(this.url)}createLayerView(e,i){return Promise.reject(new B("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await Bt(e,{query:{f:"json"},responseType:"json"})).data;throw new B("layer:no-attribution-data","Layer does not have attribution data")}};h([f({type:String})],Kt.prototype,"attributionDataUrl",void 0),h([f({readOnly:!0})],Kt.prototype,"effectiveVisible",null),h([f({type:Ye})],Kt.prototype,"fullExtent",void 0),h([f({readOnly:!0})],Kt.prototype,"hasAttributionData",null),h([f({type:String,clonable:!1})],Kt.prototype,"id",void 0),h([f({type:Boolean,nonNullable:!0})],Kt.prototype,"legendEnabled",void 0),h([f({type:["show","hide","hide-children"]})],Kt.prototype,"listMode",void 0),h([f({type:Number,range:{min:0,max:1},nonNullable:!0})],Kt.prototype,"opacity",void 0),h([f({clonable:!1})],Kt.prototype,"parent",void 0),h([f({readOnly:!0})],Kt.prototype,"parsedUrl",null),h([f({type:Boolean,readOnly:!0})],Kt.prototype,"persistenceEnabled",void 0),h([f({type:Boolean})],Kt.prototype,"popupEnabled",void 0),h([f({type:Boolean})],Kt.prototype,"attributionVisible",void 0),h([f({type:Se})],Kt.prototype,"spatialReference",void 0),h([f({type:String})],Kt.prototype,"title",void 0),h([f({readOnly:!0,json:{read:!1}})],Kt.prototype,"type",void 0),h([f()],Kt.prototype,"url",void 0),h([f({type:Ii})],Kt.prototype,"visibilityTimeExtent",void 0),h([f({type:Boolean,nonNullable:!0})],Kt.prototype,"visible",void 0),Kt=h([I("esri.layers.Layer")],Kt);let X1=class{constructor(e=i=>i.values().next().value){this._peeker=e,this._observable=new $w,this._items=new Set}get length(){return je(this._observable),this._items.size}clear(){this.length!==0&&(this._items.clear(),this._observable.notify())}last(){if(this.length===0)return;let e;for(e of this._items);return e}peek(){if(this.length!==0)return this._peeker(this._items)}push(e){this.contains(e)||(this._items.add(e),this._observable.notify())}contains(e){return je(this._observable),this._items.has(e)}pop(){if(this.length===0)return;const e=this.peek();return this._items.delete(e),this._observable.notify(),e}popLast(){if(this.length===0)return;const e=this.last();return this._items.delete(e),this._observable.notify(),e}remove(e){this.contains(e)&&(this._items.delete(e),this._observable.notify())}filter(e){const i=this.length;return this._items.forEach(r=>{e(r)||this._items.delete(r)}),i!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){je(this._observable),yield*this._items}};const MY=new FinalizationRegistry(t=>{t.close()});function Vwe(t,e){MY.register(t,e,e)}function Fwe(t){MY.unregister(t)}function EY(t,e){return new Proxy({},{get:(i,r,s)=>(...n)=>{let o,l;const c=n[n.length-1];return zwe(c)&&(o=c.signal,l=c.transferList,n.pop()),t.apply(e?`${e}.${r.toString()}`:r.toString(),n,{transferList:l,signal:o})}})}function zwe(t){return typeof t=="object"&&!Array.isArray(t)&&t!=null&&("signal"in t||"transferList"in t||Object.keys(t).length===0)}const Uwe={statsWorker:()=>te(()=>import("./statsWorker-ZkiN6wLU.js"),__vite__mapDeps([31,32,33,34,35,36])),geometryEngineWorker:()=>te(()=>import("./geometryEngineWorker-O9xIBdBG.js"),__vite__mapDeps([37,38,39,40])),arcadeGeometryOperatorsWorker:()=>te(()=>import("./operatorsWorker-k7mKtJKs.js"),[]),CSVSourceWorker:()=>te(()=>import("./CSVSourceWorker-uWQVCuUm.js"),__vite__mapDeps([41,42,11,12,43,10,13,44,45,46,47,48,49,0,1,33,32,34,35,36,50,51,8,52])),EdgeProcessingWorker:()=>te(()=>import("./EdgeProcessingWorker-CnpgWvt9.js"),__vite__mapDeps([53,54,55,56,57,58,59,60,61,62,63])),ElevationSamplerWorker:()=>te(()=>import("./ElevationSamplerWorker-B0MIyQ2C.js"),__vite__mapDeps([64,45,65,66,67,68,69,70,71,56,72])),FeatureServiceSnappingSourceWorker:()=>te(()=>import("./FeatureServiceSnappingSourceWorker-Ccm6vppq.js"),__vite__mapDeps([73,43,10,11,12,13,44,45,46,47,48,49,0,1,33,32,34,35,36,50,51,74,75,76,77,78])),GaussianSplatSortWorker:()=>te(()=>import("./GaussianSplatSortWorker-QQPlimXW.js"),[]),GeoJSONSourceWorker:()=>te(()=>import("./GeoJSONSourceWorker-Dy1xZ560.js"),__vite__mapDeps([79,10,11,12,13,43,44,45,46,47,48,49,0,1,33,32,34,35,36,50,51,80,42,81])),LercWorker:()=>te(()=>import("./LercWorker-DKbshpsr.js"),[]),MemorySourceWorker:()=>te(()=>import("./MemorySourceWorker-C_cKDqGu.js"),__vite__mapDeps([82,10,11,12,13,83,43,44,45,46,47,48,49,0,1,33,32,34,35,36,50,51,81,42])),PBFDecoderWorker:()=>te(()=>import("./PBFDecoderWorker-xW3_FDhF.js"),__vite__mapDeps([84,85,12,10,11,13,75,76])),FeaturePipelineWorker:()=>te(()=>import("./FeaturePipelineWorker-j_1Du7NI.js"),__vite__mapDeps([86,87,88,89,58,90,91,11,12,10,13,92,33,93,47,46,16,94,95,96,97,98,99,100,101,102,22,48,49,0,1,32,34,35,36,50,51,103,104,105,106,107,108,109,110,111,80,42,81,77,75,76,78,112,113])),PointCloudWorker:()=>te(()=>import("./PointCloudWorker-BUobiq3H.js"),__vite__mapDeps([114,115,116,117,118,119,120,67,68,121,122])),RasterWorker:()=>te(()=>import("./RasterWorker-BWF8fFvm.js"),__vite__mapDeps([123,124,125,40,126,127,128,129,130,131,132])),SceneLayerSnappingSourceWorker:()=>te(()=>import("./SceneLayerSnappingSourceWorker-BgxtQzdb.js"),__vite__mapDeps([133,134,135,122,116,136,137,121,56,60,61,62,55,57,58,59,63])),SceneLayerWorker:()=>te(()=>import("./SceneLayerWorker-C68tAeeO.js"),__vite__mapDeps([138,65,71,139,69])),WFSSourceWorker:()=>te(()=>import("./WFSSourceWorker-BwJIA5d4.js"),__vite__mapDeps([140,10,11,12,13,43,44,45,46,47,48,49,0,1,33,32,34,35,36,50,51,80,42,81,141,142])),WorkerTileHandler:()=>te(()=>import("./WorkerTileHandler-mXgAvzU5.js"),__vite__mapDeps([143,98,144,99,145,76,12,101,146,147,59,58,127,148,97])),Lyr3DWorker:()=>te(()=>import("./Lyr3DWorker-Cbz1Sm0M.js"),[]),Feature3DPipelineWorker:()=>te(()=>import("./Feature3DPipelineWorker-xc0M9yWU.js"),__vite__mapDeps([149,49,10,11,12,13,0,1,46,47,33,32,34,35,36,50,51,150,70,65,139,69,151,117,152,62,56,153,135,122,116,134,154,155,137,121,120,115,67,68,59,58,55,57,156,157,158,159,160,161,162,163,164,165,45,77,75,76,78,166])),TextureCompressionWorker:()=>te(()=>import("./TextureCompressionWorker-BVHYptBH.js"),[]),FlowWorker:()=>te(()=>import("./FlowWorker-CHZRhnqN.js"),__vite__mapDeps([167,132])),ParquetSourceWorker:()=>te(()=>import("./ParquetSourceWorker-BF1AjR1L.js"),__vite__mapDeps([168,22,49,10,11,12,13,0,1,46,47,33,32,34,35,36,50,51,169,52,105,91,92,104,103])),PanoramicMeshWorker:()=>te(()=>import("./PanoramicMeshWorker-DVZ35_oX.js"),__vite__mapDeps([170,124]))},AY="worker:port-closed",su={HANDSHAKE:0,OPEN:1,OPENED:2,RESPONSE:3,INVOKE:4,ABORT:5,CLOSE:6,OPEN_PORT:7,ON:8};let qwe=0;function OY(){return qwe++}function Bwe(t){return t&&typeof t=="object"&&("result"in t||"transferList"in t)}function mx(t){return t?typeof t=="string"?JSON.stringify({name:"message",message:t}):t.toJSON?JSON.stringify(t):JSON.stringify({name:t.name,message:t.message,details:t.details||{stack:t.stack}}):null}function kY(t,e,i,r){if(e.type===su.OPEN_PORT)return void t.postMessage(e,[e.port]);if(e.type!==su.INVOKE&&e.type!==su.RESPONSE)return void t.postMessage(e);let s;Bwe(i)?(s=$7(i.transferList),e.data=i.result):(s=$7(r),e.data=i),s?t.postMessage(e,s):t.postMessage(e)}function Q1(t){if(!t)return null;const e=t.data;return e?typeof e=="string"?JSON.parse(e):e:null}function $7(t){if(!(t!=null&&t.length))return null;if(q("esri-workers-arraybuffer-transfer"))return t;const e=t.filter(i=>!Gwe(i));return e.length?e:null}function Gwe(t){var e;return t instanceof ArrayBuffer||((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="ArrayBuffer"}async function aLe(t){try{return await t}catch(e){const i=(e==null?void 0:e.name)===AY;if(!(Cr(e)||i))throw e;return}}const{CLOSE:S_,ABORT:u4,INVOKE:M7,RESPONSE:V0,OPEN_PORT:E7,ON:A7}=su,Hwe=2;let Wwe=class{constructor(e){this._invoke=e,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(e){e.type===u4?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const e of this._invokeMessages)this._cancelledJobIds.has(e.jobId)||this._invoke(e);this._cancelledJobIds.clear(),this._invokeMessages.length=0}};var Xn;let Gy=(Xn=class{static connect(e,i){const r=new MessageChannel;let s;s=typeof e=="function"?new e:"default"in e&&typeof e.default=="function"?new e.default:e;const n=new Xn(r.port1,{channel:r,client:s,schedule:i});return typeof s=="object"&&"remoteClient"in s&&(s.remoteClient=n),Xn.clients.set(n,s),r.port2}static loadWorker(e){const i=Uwe[e];return i?i():Promise.resolve(null)}constructor(e,i,r,s){this._port=e,this._jobQueue=r,this._lowPriorityJobQueue=s,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new Wwe(n=>this._onInvokeMessage(n)),this._client=i.client,this._onMessage=this._onMessage.bind(this),this._channel=i.channel,this._schedule=i.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:S_}),this._close()}isBusy(){return this._outJobs.size>0}invoke(e,i,r){return this.apply(e,[i],r)}apply(e,i,r){const s=r==null?void 0:r.signal,n=r==null?void 0:r.transferList;if(!this._port)return Promise.reject(new B(AY,`Cannot call invoke('${e}'), port is closed`,{methodName:e,data:i}));const o=OY();return new Promise((l,c)=>{if(Kr(s))return this._processWork(),void c($t());const d=ao(s,()=>{const v=this._outJobs.get(o);v&&(this._outJobs.delete(o),this._processWork(),Dt(v.abortHandle),this._post({type:u4,jobId:o}),c($t()))}),m={resolve:l,reject:c,abortHandle:d,debugInfo:e};this._outJobs.set(o,m),this._post({type:M7,jobId:o,methodName:e,abortable:s!=null},i,n)})}createInvokeProxy(e){return EY(this,e)}on(e,i){const r=new MessageChannel;function s(n){i(n.data)}return this._port.postMessage({type:A7,eventType:e,port:r.port2},[r.port2]),r.port1.addEventListener("message",s),r.port1.start(),at(()=>{r.port1.postMessage({type:S_}),r.port1.close(),r.port1.removeEventListener("message",s)})}jobAdded(){this._processWork()}openPort(){const e=new MessageChannel;return this._post({type:E7,port:e.port2}),e.port1}_processWork(){var o,l;if(this._outJobs.size>=Hwe)return;const e=((o=this._jobQueue)==null?void 0:o.pop())??((l=this._lowPriorityJobQueue)==null?void 0:l.pop());if(!e)return;const{methodName:i,data:r,invokeOptions:s,resolver:n}=e;this.apply(i,r,s).then(c=>n.resolve(c)).catch(c=>n.reject(c))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(e=>{Dt(e.abortHandle),e.reject($t(`Worker closing, aborting job calling '${e.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null,this._onMessage=null,this._channel=null,this._jobQueue=void 0,this._invokeQueue=void 0,this._lowPriorityJobQueue=void 0}_onMessage(e){this._schedule!=null?this._schedule(()=>this._processMessage(e,!0)):this._processMessage(e,!1)}_processMessage(e,i){const r=Q1(e);if(r)switch(r.type){case V0:this._onResponseMessage(r);break;case M7:i?this._onInvokeMessage(r):this._invokeQueue.push(r);break;case u4:this._onAbortMessage(r);break;case S_:this._onCloseMessage();break;case E7:this._onOpenPortMessage(r);break;case A7:this._onOnMessage(r)}}_onAbortMessage(e){const i=this._inJobs,r=e.jobId,s=i.get(r);this._invokeQueue.push(e),s&&(s.controller&&s.controller.abort(),i.delete(r))}_onCloseMessage(){const e=this._client;this._close(),e&&"destroy"in e&&Xn.clients.get(this)===e&&e.destroy(),Xn.clients.delete(this),e!=null&&e.remoteClient&&(e.remoteClient=null)}_onInvokeMessage(e){const{methodName:i,jobId:r,data:s=[],abortable:n}=e,o=n?new AbortController:null,l=this._inJobs;let c,d=this._client,m=d[i];try{if(!m&&i&&i.includes(".")){const v=i.split(".");for(let w=0;w<v.length-1;w++)d=d[v[w]],m=d[v[w+1]]}if(typeof m!="function")throw new TypeError(`${i} is not a function`);s.push({client:this,signal:o?o.signal:null}),c=m.apply(d,s)}catch(v){return void this._post({type:V0,jobId:r,error:mx(v)})}Xr(c)?(l.set(r,{controller:o,promise:c}),c.then(v=>{l.has(r)&&(l.delete(r),this._post({type:V0,jobId:r},v))},v=>{l.has(r)&&(l.delete(r),Cr(v)||this._post({type:V0,jobId:r,error:mx(v||{message:`Error encountered at method ${i}`})}))})):this._post({type:V0,jobId:r},c)}_onOpenPortMessage(e){new Xn(e.port,{client:this._client})}_onOnMessage(e){const{port:i}=e,r=this._client.on(e.eventType,n=>{i.postMessage(n)}),s=lg(e.port,"message",n=>{const o=Q1(n);(o==null?void 0:o.type)===S_&&(s.remove(),r.remove(),i.close())})}_onResponseMessage(e){const{jobId:i,error:r,data:s}=e,n=this._outJobs;if(!n.has(i))return;const o=n.get(i);n.delete(i),this._processWork(),Dt(o.abortHandle),r?o.reject(B.fromJSON(JSON.parse(r))):o.resolve(s)}_post(e,i,r){return kY(this._port,e,i,r)}},Xn.kernelInfo={buildDate:KW,fullVersion:LR,revision:XW},Xn.clients=new Map,Xn),Zwe=class{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new X1,this._ongoingLowPriorityJobsQueue=new X1}destroy(){this.close()}get closed(){var e;return!((e=this._clients)!=null&&e.length)}open(e,i){return new Promise((r,s)=>{let n=!0;const o=l=>{Gt(i.signal),n&&(n=!1,l())};this._clients.length=e.length,this._clientPromises.length=e.length,this._inUseClients.length=e.length;for(let l=0;l<e.length;++l){const c=e[l];Xr(c)?this._clientPromises[l]=c.then(d=>(this._clients[l]=new Gy(d,i,this._ongoingJobsQueue,this._ongoingLowPriorityJobsQueue),o(r),this._clients[l]),()=>(o(s),null)):(this._clients[l]=new Gy(c,i,this._ongoingJobsQueue,this._ongoingLowPriorityJobsQueue),this._clientPromises[l]=Promise.resolve(this._clients[l]),o(r))}})}broadcast(e,i,r){const s=new Array(this._clientPromises.length);for(let n=0;n<this._clientPromises.length;++n){const o=this._clientPromises[n];s[n]=o.then(l=>l==null?void 0:l.invoke(e,i,r))}return s}close(){let e;for(;e=this._ongoingJobsQueue.pop();)e.resolver.reject($t(`Worker closing, aborting job calling '${e.methodName}'`));for(;e=this._ongoingLowPriorityJobsQueue.pop();)e.resolver.reject($t(`Worker closing, aborting job calling '${e.methodName}'`));for(const i of this._clientPromises)i.then(r=>r==null?void 0:r.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,Fwe(this)}invoke(e,i,r){return this.apply(e,[i],r)}apply(e,i,r){const s=bn();((r==null?void 0:r.priority)==="low"?this._ongoingLowPriorityJobsQueue:this._ongoingJobsQueue).push({methodName:e,data:i,invokeOptions:r,resolver:s});for(let n=0;n<this._clientPromises.length;n++){const o=this._clients[n];o?o.jobAdded():this._clientPromises[n].then(l=>l==null?void 0:l.jobAdded())}return s.promise}createInvokeProxy(e){return EY(this,e)}on(e,i){return Promise.all(this._clientPromises).then(()=>xp(this._clients.map(r=>r.on(e,i))))}openPorts(){return new Promise(e=>{const i=new Array(this._clientPromises.length);let r=i.length;for(let s=0;s<this._clientPromises.length;++s)this._clientPromises[s].then(n=>{n&&(i[s]=n.openPort()),--r===0&&e(i)})})}get test(){}};const Ywe={async request(t,e){var o,l;const i=t.options,r=i.responseType;i.signal=e==null?void 0:e.signal,i.responseType=r==="native"||r==="native-request-init"?"native-request-init":r&&["blob","json","text"].includes(r)&&((o=UA(t.url))!=null&&o.after)?r:"array-buffer";const s=await Bt(t.url,i),n={data:s.data,httpStatus:s.httpStatus,ssl:s.ssl};switch((l=s.requestOptions)==null?void 0:l.responseType){case"native-request-init":return delete n.data.signal,n;case"blob":n.data=await n.data.arrayBuffer();break;case"json":n.data=new TextEncoder().encode(JSON.stringify(n.data)).buffer;break;case"text":n.data=new TextEncoder().encode(n.data).buffer}return{result:n,transferList:[n.data]}}},Jwe={ar:"ar-u-nu-latn",bs:"sr-Latn-CS",nn:"no-NN"};let z2=new WeakMap,CY={};function c4(t){const e=t||CY;if(!z2.has(e)){const i=vR(),r=i&&Jwe[i]||WH();z2.set(e,new Intl.NumberFormat(r,t))}return z2.get(e)}function cLe(t={}){const e={};return t.digitSeparator!=null&&(e.useGrouping=t.digitSeparator),t.places!=null&&(e.minimumFractionDigits=e.maximumFractionDigits=t.places),e}function hLe(t){const{minimumFractionDigits:e,maximumFractionDigits:i,useGrouping:r}=t;return{minimumFractionDigits:e,maximumFractionDigits:i,useGrouping:r==="auto"?"auto":r==="always"}}function dLe(t,e){return Object.is(t,-0)&&(t=0),c4(e).format(t)}function pLe(t,e=Bs()){var r,s;if(!t)return null;let i=O7.get(e);if(!i){const n=c4().formatToParts(12345.6),o=[...c4({useGrouping:!1}).format(9876543210)].reverse(),l=new Map(o.map((_,x)=>[_,x])),c=new RegExp(`[${(r=n.find(_=>_.type==="group"))==null?void 0:r.value}]`,"g"),d=new RegExp(`[${(s=n.find(_=>_.type==="decimal"))==null?void 0:s.value}]`),m=new RegExp(`[${o.join("")}]`,"g"),v=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,w=/[-\u2212\u2013\u2014\u2015]/g;i=_=>{if((_=_.trim().replaceAll(c,"").replace(d,".").replace(m,T=>String(l.get(T))).replaceAll(v,"").replaceAll(w,"-"))==="")return null;const x=Number(_);return isNaN(x)?null:x},O7.set(e,i)}return i(t)}wR(()=>{z2=new WeakMap,CY={}});const O7=new Map,RY={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:"no",nl:!0,no:!0,nn:"no",pl:!0,pt:"pt-BR","pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,zh:"zh-CN","zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function Kwe(t){return t in RY}function k7(t){if(Kwe(t)){const e=RY[t];return e===!0?t:e}return null}const yv=[],Dm=new Map;function C7(t){for(const e of Dm.keys())jY(t.pattern,e)&&Dm.delete(e)}function Xwe(t){return yv.includes(t)||(C7(t),yv.unshift(t)),at(()=>{const e=yv.indexOf(t);e>-1&&(yv.splice(e,1),C7(t))})}async function IY(t){const e=Bs();Dm.has(t)||Dm.set(t,Qwe(t,e));const i=Dm.get(t);return i&&await ebe.add(i),i}function PY(t){const e=vR(t);return e?k7(t)??k7(e):null}async function Qwe(t,e){const i=[];for(const r of yv)if(jY(r.pattern,t))try{return await r.fetchMessageBundle(t,e)}catch(s){i.push(s)}throw i.length?new B("intl:message-bundle-error",`Errors occurred while loading "${t}"`,{errors:i}):new B("intl:no-message-bundle-loader",`No loader found for message bundle "${t}"`)}function jY(t,e){return typeof t=="string"?e.startsWith(t):t.test(e)}wR(()=>{Dm.clear()});const ebe=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(t){return this._increase(),t.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=bn())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function tbe(t,e,i,r){const s=e.exec(i);if(!s)throw new B("esri-intl:invalid-bundle",`Bundle id "${i}" is not compatible with the pattern "${e}"`);const n=s[1]?`${s[1]}/`:"",o=s[2],l=PY(r),c=`${n}${o}.json`,d=l?`${n}${o}_${l}.json`:c;let m;try{m=await R7(t(d))}catch(v){if(d===c)throw new B("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:v});try{m=await R7(t(c))}catch(w){throw new B("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:w})}}return m}async function R7(t){if(I7.fetchBundleAsset!=null)return I7.fetchBundleAsset(t);const e=await Bt(t,{responseType:"text"});return JSON.parse(e.data)}let ibe=class{constructor({base:e="",pattern:i,location:r=new URL(window.location.href)}){let s;s=typeof r=="string"?n=>new URL(n,new URL(r,window.location.href)).href:r instanceof URL?n=>new URL(n,r).href:r,this.pattern=typeof i=="string"?new RegExp(`^${i}`):i,this.getAssetUrl=s,e=e?e.endsWith("/")?e:e+"/":"",this.matcher=new RegExp(`^${e}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(e,i){return tbe(this.getAssetUrl,this.matcher,e,i)}};function rbe(t){return new ibe(t)}const I7={};Xwe(rbe({pattern:"esri/",location:bi}));const P7={};function sbe(t){var i;const e={async:t.async,isDebug:t.isDebug,locale:t.locale,baseUrl:t.baseUrl,has:{...t.has},map:{...t.map},packages:((i=t.packages)==null?void 0:i.slice())||[],paths:{...P7.paths,...t.paths}};return t.hasOwnProperty("async")||(e.async=!0),t.hasOwnProperty("isDebug")||(e.isDebug=!1),t.baseUrl||(e.baseUrl=P7.baseUrl),e}let nbe=class{constructor(){const e=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(i=>{this[i]=(...r)=>e[i](...r)})}},U2=class{constructor(){this._dispatcher=new nbe,this._workerPostMessage({type:su.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(e){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener("message",e)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(e){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener("messageerror",e)}get onerror(){return this._onerrorHandler}set onerror(e){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener("error",e)}postMessage(e){qS(()=>{this._workerMessageHandler(new MessageEvent("message",{data:e}))})}dispatchEvent(e){return this._dispatcher.dispatchEvent(e)}addEventListener(e,i,r){this._dispatcher.addEventListener(e,i,r)}removeEventListener(e,i,r){this._dispatcher.removeEventListener(e,i,r)}_workerPostMessage(e){qS(()=>{this.dispatchEvent(new MessageEvent("message",{data:e}))})}async _workerMessageHandler(e){const i=Q1(e);if(i&&i.type===su.OPEN){const{modulePath:r,jobId:s}=i;let n=await Gy.loadWorker(r);n||(n=await import(r));const o=Gy.connect(n);this._workerPostMessage({type:su.OPENED,jobId:s,data:o})}}};const h4=()=>se.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:obe}=su,abe='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}).finally(()=>{t&&t.removeEventListener("abort",s)})}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://esriurl.com/using-local-assets.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(e=>e||new Promise(e=>{require([o.modulePath],e)})).then(t)}):"System"in self&&"function"==typeof System.import?System.import(workerPath).then(e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath))).then(e=>e||System.import(o.modulePath)).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(e=>e||import(o.modulePath)).then(t)}):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let x_,T_;const j7="Failed to create Worker. Fallback to execute module in main thread";async function lbe(){if(!q("esri-workers"))return N7(new U2);if(!x_&&!T_)try{const e=abe.split("{CONFIGURATION}").join(ube());x_=URL.createObjectURL(new Blob([e],{type:"text/javascript"}))}catch(e){T_=e||{}}let t;if(x_)try{t=new Worker(x_,{name:"esri-worker-"+cbe++})}catch{h4().warn(j7,T_),t=new U2}else h4().warn(j7,T_),t=new U2;return N7(t)}async function N7(t){return new Promise(e=>{function i(s){const n=Q1(s);n&&n.type===obe&&(t.removeEventListener("message",i),t.removeEventListener("error",r),e(t))}function r(s){s.preventDefault(),t.removeEventListener("message",i),t.removeEventListener("error",r),h4().warn("Failed to create Worker. Fallback to execute module in main thread",s),(t=new U2).addEventListener("message",i),t.addEventListener("error",r)}t.addEventListener("message",i),t.addEventListener("error",r)})}function ube(){let t;if(dt.default!=null){const s={...dt};delete s.default,t=JSON.parse(JSON.stringify(s))}else t=JSON.parse(JSON.stringify(dt));t.assetsPath=eo(t.assetsPath),t.defaultAssetsPath=t.defaultAssetsPath?eo(t.defaultAssetsPath):void 0,t.request.interceptors=[],t.log.interceptors=[],t.locale=Bs(),t.has={"esri-csp-restrictions":q("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":q("esri-2d-update-debug"),"esri-2d-log-updating":q("esri-2d-log-updating"),"featurelayer-pbf":q("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":q("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":q("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":q("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":q("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":q("featurelayer-query-max-depth"),"featurelayer-query-tile-max-features":q("featurelayer-query-tile-max-features"),"featurelayer-query-tile-concurrency":q("featurelayer-query-tile-concurrency"),"featurelayer-query-pausing-enabled":q("featurelayer-query-pausing-enabled"),"featurelayer-snapshot-concurrency":q("featurelayer-snapshot-concurrency"),"featurelayer-snapshot-enabled":q("featurelayer-snapshot-enabled"),"parquetlayer-full-query-feature-count":q("parquetlayer-full-query-feature-count"),"esri-atomics":q("esri-atomics"),"esri-shared-array-buffer":q("esri-shared-array-buffer"),"esri-tiles-debug":q("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":q("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":q("feature-polyline-generalization-factor"),"host-webworker":1},t.workers.loaderUrl&&(t.workers.loaderUrl=eo(t.workers.loaderUrl)),t.workers.workerPath?t.workers.workerPath=eo(t.workers.workerPath):t.workers.workerPath=eo(bi("esri/core/workers/RemoteClient.js")),t.workers.useDynamicImport=!1;const e=dt.workers.loaderConfig,i=sbe({baseUrl:e==null?void 0:e.baseUrl,locale:Bs(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...e==null?void 0:e.has},map:{...e==null?void 0:e.map},paths:{...e==null?void 0:e.paths},packages:(e==null?void 0:e.packages)||[]});return JSON.stringify({esriConfig:t,loaderConfig:i,kernelInfo:{buildDate:KW,fullVersion:LR,revision:XW}})}let cbe=0;const{ABORT:D7,INVOKE:hbe,OPEN:dbe,OPENED:pbe,RESPONSE:F0}=su;let fbe=class NY{static async create(e){const i=await lbe();return new NY(i,e)}constructor(e,i){this._outJobs=new Map,this._inJobs=new Map,this.worker=e,this.id=i,e.addEventListener("message",this._onMessage.bind(this)),e.addEventListener("error",r=>{r.preventDefault(),se.getLogger("esri.core.workers.WorkerOwner").error(r)})}terminate(){this.worker.terminate()}async open(e,i={}){const{signal:r}=i,s=OY();return new Promise((n,o)=>{const l={resolve:n,reject:o,abortHandle:YC(r,()=>{this._outJobs.delete(s),this._post({type:D7,jobId:s})})};this._outJobs.set(s,l),this._post({type:dbe,jobId:s,modulePath:e})})}_onMessage(e){const i=Q1(e);if(i)switch(i.type){case pbe:this._onOpenedMessage(i);break;case F0:this._onResponseMessage(i);break;case D7:this._onAbortMessage(i);break;case hbe:this._onInvokeMessage(i)}}_onAbortMessage(e){const i=this._inJobs,r=e.jobId,s=i.get(r);s&&(s.controller&&s.controller.abort(),i.delete(r))}_onInvokeMessage(e){const{methodName:i,jobId:r,data:s,abortable:n}=e,o=n?new AbortController:null,l=this._inJobs,c=Ywe[i];let d;try{if(typeof c!="function")throw new TypeError(`${i} is not a function`);d=c.call(null,s,{signal:o?o.signal:null})}catch(m){return void this._post({type:F0,jobId:r,error:mx(m)})}Xr(d)?(l.set(r,{controller:o,promise:d}),d.then(m=>{l.has(r)&&(l.delete(r),this._post({type:F0,jobId:r},m))},m=>{l.has(r)&&(l.delete(r),m||(m={message:"Error encountered at method"+i}),Cr(m)||this._post({type:F0,jobId:r,error:mx(m||{message:`Error encountered at method ${i}`})}))})):this._post({type:F0,jobId:r},d)}_onOpenedMessage(e){const{jobId:i,data:r}=e,s=this._outJobs.get(i);s&&(this._outJobs.delete(i),Dt(s.abortHandle),s.resolve(r))}_onResponseMessage(e){const{jobId:i,error:r,data:s}=e,n=this._outJobs.get(i);n&&(this._outJobs.delete(i),Dt(n.abortHandle),r?n.reject(B.fromJSON(JSON.parse(r))):n.resolve(s))}_post(e,i,r){return kY(this.worker,e,i,r)}};const L7=q("host-browser")?Math.min(navigator.hardwareConcurrency-1,q("workers-pool-size")??8):0;let Ed=q("esri-mobile")?Math.min(L7,3):L7;Ed||(Ed=q("safari")&&q("mac")?7:2);let V7=0;const q2=[];function mbe(){DY()}async function $_(t,e){const i=new Zwe,{registryTarget:r,...s}=e;return await i.open(t,s),r&&Vwe(r,i),i}async function ybe(t,e={}){if(typeof t!="string")throw new B("workers:undefined-module","modulePath is missing");let i=e.strategy||"distributed";if(q("host-webworker")&&!q("esri-workers")&&(i="local"),i==="local"){let r=await Gy.loadWorker(t);r||(r=await import(t)),Gt(e.signal);const s=e.client||r;return $_([Gy.connect(r,e.schedule)],{...e,client:s})}if(await DY(),Gt(e.signal),i==="dedicated"){const r=V7++%Ed;return $_([await q2[r].open(t,e)],e)}if(e.maxNumWorkers&&e.maxNumWorkers>0){const r=Math.min(e.maxNumWorkers,Ed);if(r<Ed){const s=new Array(r);for(let n=0;n<r;++n){const o=V7++%Ed;s[n]=q2[o].open(t,e)}return $_(s,e)}}return $_(q2.map(r=>r.open(t,e)),e)}let M_=null;async function DY(){if(M_)return M_;new AbortController;const t=[];for(let e=0;e<Ed;e++){const i=fbe.create(e).then(r=>(q2[e]=r,r));t.push(i)}return M_=Promise.all(t),M_}const gbe={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCentroidOnDegeneratedQuantizedGeometry:!0,supportsCacheHint:!0,supportsCurrentUser:!1,supportsDegeneratedQuantizedGeometry:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsPaginationOnAggregatedQueries:!1,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!0,supportsReturnMesh:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByAnonymous:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,maxUniqueIDCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0,supportsTrueCurve:!1},vbe={supportsDate:!0,supportsFixedInterval:!0,supportsAutoInterval:!0,supportsFixedBoundaries:!0,supportsStackBy:!0,supportsSplitBy:!0,supportsSnapToData:!1,supportsReturnFullIntervalBin:!1,supportsFirstDayOfWeek:!1,supportsNormalization:!0,supportedStatistics:{count:!0,sum:!0,avg:!0,var:!0,stddev:!0,min:!0,max:!0,percentileContinuous:!0,percentileDiscrete:!0,envelope:!0,centroid:!0,convexHull:!0},supportedNormalizationTypes:{field:!0,log:!0,naturalLog:!0,percentOfTotal:!0,squareRoot:!0}},u6=[252,146,31,255],wbe=[153,153,153,255],LY={type:"esriSMS",style:"esriSMSCircle",size:6,color:u6,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},VY={type:"esriSLS",style:"esriSLSSolid",width:.75,color:u6},FY={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},bbe={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},_be={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},Sbe={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},xbe={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};function gLe(t){return{renderer:{type:"simple",symbol:t==="esriGeometryPoint"||t==="esriGeometryMultipoint"?LY:t==="esriGeometryPolyline"?VY:FY}}}const Tbe=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let $be=1;function vLe(t,e){if(q("esri-csp-restrictions"))return()=>({[e]:null,...t});try{let i=`this${F7(e)} = null;`;for(const s in t)i+=`this${F7(s)} = ${JSON.stringify(t[s])};`;const r=new Function(`
      return class AttributesClass$${$be++} {
        constructor() {
          ${i};
        }
      }
    `)();return()=>new r}catch{return()=>({[e]:null,...t})}}function F7(t){return Tbe.test(t)?`.${t}`:`["${t}"]`}function wLe(t={}){return[{name:"New Feature",description:"",prototype:{attributes:G(t)}}]}function Mbe(t,e){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:t},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:e,supportsDelete:e,supportsEditing:e,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryBins:!0,supportsQueryPivot:!1,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:e,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:gbe,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},queryAttributeBins:vbe,editing:{supportsGeometryUpdate:e,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}function Le(t,e,i={}){return c6(t,e,i,zY)}function Sn(t,e,i={}){return c6(t,e,i,UY)}function c6(t,e,i={},r){let s=null;const n=i.once?(o,l)=>{r(o)&&(Dt(s),e(o,l))}:(o,l)=>{r(o)&&e(o,l)};if(s=xde(t,n,i.sync,i.equals),i.initial){const o=t();n(o,o)}return s}function yp(t,e,i,r={}){let s=null,n=null,o=null;function l(){var m;s&&n&&(n.remove(),(m=r.onListenerRemove)==null||m.call(r,s),s=null,n=null)}function c(m){r.once&&r.once&&Dt(o),i(m)}const d=Le(t,(m,v)=>{var w;l(),iT(m)&&(s=m,n=lg(m,e,c),(w=r.onListenerAdd)==null||w.call(r,m))},{sync:r.sync,initial:!0});return o=at(()=>{d.remove(),l()}),o}function h6(t,e){return Ebe(t,UY,e)}function Ebe(t,e,i){if(Kr(i))return Promise.reject($t());const r=t();if(e!=null&&e(r))return Promise.resolve(r);let s=null;function n(){s=Dt(s)}return new Promise((o,l)=>{s=xp([ao(i,()=>{n(),l($t())}),c6(t,c=>{n(),o(c)},{sync:!1,once:!0},e??zY)])})}function zY(t){return!0}function UY(t){return!!t}function bLe(t,e,i={}){let r=!1;const s=Le(t,(n,o)=>{r||e(n,o)},i);return{remove(){s.remove()},pause(){r=!0},resume(){r=!1}}}const za={sync:!0},Qr={initial:!0},qr={sync:!0,initial:!0};function qY(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function BY(t){return t.points!==void 0}function GY(t){return t.x!==void 0&&t.y!==void 0}function HY(t){return t.paths!==void 0||t.curvePaths!==void 0}function Lm(t){return t.rings!==void 0||t.curveRings!==void 0}function Jc(t){return t==null?null:t instanceof tr?t:GY(t)?Re.fromJSON(t):HY(t)?Hi.fromJSON(t):Lm(t)?Qt.fromJSON(t):BY(t)?Lo.fromJSON(t):qY(t)?Ye.fromJSON(t):null}function CT(t){return t?GY(t)?"esriGeometryPoint":HY(t)?"esriGeometryPolyline":Lm(t)?"esriGeometryPolygon":qY(t)?"esriGeometryEnvelope":BY(t)?"esriGeometryMultipoint":null:null}const Abe={esriGeometryPoint:Re,esriGeometryPolyline:Hi,esriGeometryPolygon:Qt,esriGeometryEnvelope:Ye,esriGeometryMultipoint:Lo,esriGeometryMultiPatch:Qt};function Obe(t){return t&&Abe[t]||null}function _Le(t,e){switch(e.type){case"object-id":case"unique-id-simple":return t.attributes[e.fieldName];case"unique-id-composite":{const i=[];for(const r of e.fieldNames)i.push(t.attributes[r]??null);return JSON.stringify(i)}}}function z7(t,e){var i,r,s;if("uniqueIdFields"in e&&((i=e.uniqueIdFields)!=null&&i.length)){if(e.uniqueIdFields.length===1)return(r=t.attributes)==null?void 0:r[e.uniqueIdFields[0]];const n=e.uniqueIdFields.map(o=>{var l;return(l=t.attributes)==null?void 0:l[o]});return JSON.stringify(n)}return"objectIdField"in e&&e.objectIdField?(s=t.attributes)==null?void 0:s[e.objectIdField]:null}const U7=new ct({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let kbe=0,Mi=class extends ae{constructor(e){super(e),this.id="sym"+kbe++,this.type=null,this.color=new Ne([0,0,0,1])}readColor(e){return(e==null?void 0:e[0])!=null?[e[0],e[1],e[2],e[3]/255]:e}async collectRequiredFields(e,i){}hash(){return JSON.stringify(this.toJSON())}clone(){}};h([f({type:U7.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:U7.write,isRequired:!0}}})],Mi.prototype,"type",void 0),h([f({type:Ne,json:{write:{allowNull:!0}}})],Mi.prototype,"color",void 0),h([Ie("color")],Mi.prototype,"readColor",null),Mi=h([I("esri.symbols.Symbol")],Mi);var d4;let Hr=d4=class extends Mi{constructor(t){super(t),this.data=null,this.type="cim"}readData(t,e){return e}writeData(t,e){Object.assign(e,t)}async collectRequiredFields(t,e){var i;if(((i=this.data)==null?void 0:i.type)==="CIMSymbolReference"){const r=this.data.primitiveOverrides;if(r){const s=r.map(n=>{const o=n.valueExpressionInfo;return o?Ss(t,e,null,o.expression):null});await Promise.all(s)}}}clone(){return new d4({data:G(this.data)})}hash(){return xB(JSON.stringify(this.data)).toString()}};h([f({json:{write:!1}})],Hr.prototype,"color",void 0),h([f({json:{write:!0}})],Hr.prototype,"data",void 0),h([Ie("data",["symbol"])],Hr.prototype,"readData",null),h([_e("data",{})],Hr.prototype,"writeData",null),h([ke({CIMSymbolReference:"cim"},{readOnly:!0})],Hr.prototype,"type",void 0),Hr=d4=h([I("esri.symbols.CIMSymbol")],Hr);function Da(t,e,i=ge){return e||(e=new i),e===t||e.destroyed||(e.removeAll(),Cbe(t)?e.addMany(t):t&&e.add(t)),e}function WY(t){return t}function Cbe(t){return t&&(Array.isArray(t)||"items"in t&&Array.isArray(t.items))}let E_;function Rbe(t){return E_&&!E_.destroyed||(E_=t()),E_}var p4;const Ibe=new ct({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let Si=p4=class extends $e{constructor(t){super(t),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(t){t!=="asc"&&t!=="desc"||this._set("sortOrder",t)}clone(){return new p4({categories:this.categories?G(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(t,e){let i=[];this.categories&&(i=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o));let r="";if(this.extent){const o=TT(this.extent,Se.WGS84);o!=null&&(r=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let s=this.query;!this.disableExtraQuery&&t.extraQuery&&(s="("+s+")"+t.extraQuery);const n={categories:i,bbox:r,q:s,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(n.sortField=this.sortField.split(",").map(o=>Ibe.toJSON(o.trim())).join(","),n.sortOrder=this.sortOrder),{query:{...e,...n}}}};h([f()],Si.prototype,"categories",void 0),h([f()],Si.prototype,"disableExtraQuery",void 0),h([f({type:Ye})],Si.prototype,"extent",void 0),h([f()],Si.prototype,"filter",void 0),h([f()],Si.prototype,"num",void 0),h([f()],Si.prototype,"query",void 0),h([f()],Si.prototype,"sortField",void 0),h([f()],Si.prototype,"sortOrder",null),h([f()],Si.prototype,"start",void 0),Si=p4=h([I("esri.portal.PortalQueryParams")],Si);var f4;let vi=f4=class extends ae{constructor(t){super(t),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){var i;const t=this.url,e=this.thumbnail;return t&&e&&this.portal?(i=this.portal)==null?void 0:i.normalizeUrl(`${t}/info/${e}?f=json`):null}get url(){var e;const t=(e=this.portal)==null?void 0:e.restUrl;return t?t+"/community/groups/"+this.id:null}fetchCategorySchema(t){return this.portal.request(this.url+"/categorySchema",t).then(e=>{const i=e.categorySchema||[];return i.some(r=>r.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",t):i})}fetchMembers(t){return this.portal.request(this.url+"/users",t)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}toJSON(){throw new B("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new f4({sourceJSON:t});return e.read(t),e}queryItems(t,e){let i=nr(Si,t);const r=this.portal;return parseFloat(r.currentVersion)>5?(i=i||new Si,r.queryPortal(`/content/groups/${this.id}/search`,i,"PortalItem",e)):(i=i?i.clone():new Si,i.query="group:"+this.id+(i.query?" "+i.query:""),r.queryItems(i,e))}_fetchCategorySchemaSet(t,e){const i=this.portal;return i.fetchSelf(i.authMode,!0,e).then(r=>{const s=r.contentCategorySetsGroupQuery;if(s){const n=new Si({disableExtraQuery:!0,num:1,query:s});return i.queryGroups(n,e)}throw new B("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(r=>{if(r.total){const s=r.results[0],n=new Si({num:1,query:`typekeywords:"${t}"`});return s.queryItems(n,e)}throw new B("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(r=>r.total?r.results[0].fetchData("json",e).then(s=>{const n=s==null?void 0:s.categorySchema;return n!=null&&n.length?n:[]}):[])}};h([f()],vi.prototype,"access",void 0),h([f({type:Date})],vi.prototype,"created",void 0),h([f()],vi.prototype,"description",void 0),h([f()],vi.prototype,"id",void 0),h([f()],vi.prototype,"isInvitationOnly",void 0),h([f({type:Date})],vi.prototype,"modified",void 0),h([f()],vi.prototype,"owner",void 0),h([f()],vi.prototype,"portal",void 0),h([f()],vi.prototype,"snippet",void 0),h([f()],vi.prototype,"sortField",void 0),h([f()],vi.prototype,"sortOrder",void 0),h([f()],vi.prototype,"sourceJSON",void 0),h([f()],vi.prototype,"tags",void 0),h([f()],vi.prototype,"thumbnail",void 0),h([f({readOnly:!0})],vi.prototype,"thumbnailUrl",null),h([f()],vi.prototype,"title",void 0),h([f({readOnly:!0})],vi.prototype,"url",null),vi=f4=h([I("esri.portal.PortalGroup")],vi);let Qh=class extends $e{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};h([f()],Qh.prototype,"nextQueryParams",void 0),h([f()],Qh.prototype,"queryParams",void 0),h([f()],Qh.prototype,"results",void 0),h([f()],Qh.prototype,"total",void 0),Qh=h([I("esri.portal.PortalQueryResult")],Qh);let wl=class extends ae{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){var i;const e=(i=this.portal)==null?void 0:i.restUrl;return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new B("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};h([f({type:Date})],wl.prototype,"created",void 0),h([f()],wl.prototype,"id",void 0),h([f()],wl.prototype,"portal",void 0),h([f()],wl.prototype,"title",void 0),h([f({readOnly:!0})],wl.prototype,"url",null),h([f()],wl.prototype,"username",void 0),wl=h([I("esri.portal.PortalFolder")],wl);var m4;let Mt=m4=class extends ae{constructor(t){super(t),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.id=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e?this.portal.normalizeUrl(`${t}/info/${e}?f=json`):null}get userContentUrl(){var e;const t=(e=this.portal)==null?void 0:e.restUrl;return t?`${t}/content/users/${this.id}`:null}get url(){var e;const t=(e=this.portal)==null?void 0:e.restUrl;return t?`${t}/community/users/${this.id}`:null}addItem(t){const e=t&&t.item,i=t==null?void 0:t.data,r=t==null?void 0:t.folder,s={method:"post"};e&&(s.query=e.createPostQuery(),i!=null&&(typeof i=="string"?s.query.text=i:typeof i=="object"&&(s.query.text=JSON.stringify(i))));let n=this.userContentUrl;return r&&(n+="/"+(typeof r=="string"?r:r.id)),this.portal.request(n+"/addItem",s).then(o=>(e.id=o.id,e.portal=this.portal,e.loaded?e.reload():e.load()))}async deleteItem(t,e=!1){let i=this.userContentUrl;t.ownerFolder&&(i+="/"+t.ownerFolder);const r=e?{permanentDelete:!0}:{};await this.portal.request(i+`/items/${t.id}/delete`,{method:"post",query:r}),t.id=null,t.portal=null}async deleteItems(t,e=!1){t=t.slice();const i=this.userContentUrl+"/deleteItems",r=[],s=t.map(n=>n.id);if(s.length){const n={method:"post",query:{items:s.join(","),permanentDelete:e}},o=await this.portal.request(i,n);for(const l of o.results){const c=t.find(v=>l.itemId===v.id),d=l.success;let m=null;d?(c.id=null,c.portal=null):l.error&&(m=new B("portal:delete-item-failed",l.error.message,l.error)),r.push({item:c,success:d,error:m})}}return r}fetchFolders(){const t={query:{num:1}};return this.portal.request(this.userContentUrl??"",t).then(e=>{let i;return i=e&&e.folders?e.folders.map(r=>{const s=wl.fromJSON(r);return s.portal=this.portal,s}):[],i})}fetchGroups(){return this.portal.request(this.url??"").then(t=>{let e;return e=t&&t.groups?t.groups.map(i=>{const r=vi.fromJSON(i);return r.portal=this.portal,r}):[],e})}async fetchItems(t){t??(t={});let e=this.userContentUrl??"";t.folder&&(e+="/"+t.folder.id);const{default:i}=await te(()=>Promise.resolve().then(()=>QK),[]),r={folders:!1,inRecycleBin:!!t.inRecycleBin||null,foldersContent:!(t.folder||!t.includeSubfolderItems)||null,num:t.num||10,start:t.start||1,sortField:t.sortField||"created",sortOrder:t.sortOrder||"asc"},s=await this.portal.request(e,{query:r});let n;return s!=null&&s.items?(n=s.items.map(o=>{const l=i.fromJSON(o);return l.portal=this.portal,l}),await Promise.all(n.map(o=>o.load())),{items:n,nextStart:s.nextStart,total:s.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(t=>t.tags)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}queryFavorites(t){return this.favGroupId?(this._favGroup||(this._favGroup=new vi({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(t)):Promise.reject(new B("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(t,e){const i=this.userContentUrl,r=e?{folderID:typeof e=="string"?e:e.id}:null;await this.portal.request(i+`/items/${t.id}/restore`,{method:"post",query:r})}toJSON(){throw new B("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new m4({sourceJSON:t});return e.read(t),e}};h([f()],Mt.prototype,"access",void 0),h([f({type:Date})],Mt.prototype,"created",void 0),h([f()],Mt.prototype,"culture",void 0),h([f()],Mt.prototype,"description",void 0),h([f()],Mt.prototype,"email",void 0),h([f()],Mt.prototype,"favGroupId",void 0),h([f()],Mt.prototype,"fullName",void 0),h([f()],Mt.prototype,"id",void 0),h([f({type:Date})],Mt.prototype,"modified",void 0),h([f()],Mt.prototype,"orgId",void 0),h([f()],Mt.prototype,"portal",void 0),h([f()],Mt.prototype,"preferredView",void 0),h([f()],Mt.prototype,"privileges",void 0),h([f()],Mt.prototype,"region",void 0),h([f()],Mt.prototype,"role",void 0),h([f()],Mt.prototype,"roleId",void 0),h([f()],Mt.prototype,"sourceJSON",void 0),h([f()],Mt.prototype,"thumbnail",void 0),h([f({readOnly:!0})],Mt.prototype,"thumbnailUrl",null),h([f()],Mt.prototype,"units",void 0),h([f({readOnly:!0})],Mt.prototype,"userContentUrl",null),h([f({readOnly:!0})],Mt.prototype,"url",null),h([f()],Mt.prototype,"username",void 0),h([f()],Mt.prototype,"userLicenseTypeId",void 0),h([f()],Mt.prototype,"userType",void 0),Mt=m4=h([I("esri.portal.PortalUser")],Mt);var on;let z0;const q7={PortalGroup:()=>Promise.resolve({default:vi}),PortalItem:()=>te(()=>Promise.resolve().then(()=>QK),void 0),PortalUser:()=>Promise.resolve({default:Mt})};var Ia;let le=(Ia=class extends th(_g){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.g3DTilesGalleryGroupQuery=null,this.g3dTilesEnabled=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=dt.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){B7.unregister(this),this.defaultBasemap=ti(this.defaultBasemap),this.defaultDevBasemap=ti(this.defaultDevBasemap),this.defaultVectorBasemap=ti(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=Dt(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const i of e)dt.request.trustedServers.includes(i)||dt.request.trustedServers.push(i);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){var r;const e=(r=this.user)==null?void 0:r.orgId,i=!e||this.canSearchPublic;return this.id&&!i?` AND orgid:${this.id}`:null}get hasAPIKey(){return n0e(this.restUrl)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get loaded(){return super.loaded}get restUrl(){let e=this.url;if(e){const i=e.indexOf("/sharing");e=i>0?e.slice(0,i):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,i=this.thumbnail;return e&&i?this._normalizeSSL(e+"/portals/self/resources/"+i):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let i=null;return e&&(i=Mt.fromJSON(e),i.portal=this),i}load(e){const i=te(async()=>{const{default:r}=await Promise.resolve().then(()=>t5e);return{default:r}},void 0).then(({default:r})=>{Gt(e),z0=r}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(r=>{var s;if(!this.hasAPIKey&&ze){const n=ze;this.credential=n.findCredential(this.restUrl),this.credential||this.authMode!==on.AUTH_MODE_AUTO&&this.authMode!==on.AUTH_MODE_NO_PROMPT||((s=this._esriIdCredentialCreateHandle)==null||s.remove(),this._esriIdCredentialCreateHandle=n.on("credential-create",Pbe(new WeakRef(this))),B7.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(i),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),i=(await te(async()=>{const{default:r}=await import("./ElevationLayer-BqixqIQE.js");return{default:r}},__vite__mapDeps([171,172,173,174,12,175,176]))).default;return e?e.map(r=>new i({id:r.id,url:r.url})):[]}async fetchBasemaps(e,i){const r=await this._fetchBasemaps(e,i);if((i==null?void 0:i.include3d)===!0&&this.use3dBasemaps!==!1){const s=await this._fetchBasemaps3D(e,i);r.unshift(...s)}return r}async fetchDefault3DBasemap(e){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const i=new Si;i.query=this.default3DBasemapQuery,i.disableExtraQuery=!0;const r=(await this.queryItems(i,e)).results.find(s=>s.type==="Web Scene");return r?new z0({portalItem:r}):null}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(i=>i.categorySchema):Kr(e)?Promise.reject($t()):Promise.resolve([])}async fetchClassificationSchema(e){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",e).then(i=>i.classificationSchema):null}fetchFeaturedGroups(e){const i=this.featuredGroups,r=new Si({num:100,sortField:"title"});if(i!=null&&i.length){const s=[];for(const n of i)s.push(`(title:"${n.title}" AND owner:${n.owner})`);return r.query=s.join(" OR "),this.queryGroups(r,e).then(n=>n.results)}return Kr(e)?Promise.reject($t()):Promise.resolve([])}fetchRegions(e){var r;const i=((r=this.user)==null?void 0:r.culture)||this.culture||Bs();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:i}})}fetchSettings(e){var r;const i=((r=this.user)==null?void 0:r.culture)||this.culture||Bs();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:i}})}static getDefault(){return Rbe(()=>new on)}queryGroups(e,i){return this.queryPortal("/community/groups",e,"PortalGroup",i)}queryItems(e,i){return this.queryPortal("/search",e,"PortalItem",i)}queryUsers(e,i){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",i)}fetchSelf(e=this.authMode,i=!1,r){const s=this.restUrl+"/portals/self",n={authMode:e,query:{culture:Bs().toLowerCase()},withCredentials:!0,...r};return n.authMode==="auto"&&(n.authMode="no-prompt"),i&&(n.query.default=!0),this.request(s,n)}queryPortal(e,i,r,s){const n=nr(Si,i),o=l=>this.request(this.restUrl+e,{...n.toRequestOptions(this),...s}).then(c=>{const d=n.clone();return d.start=c.nextStart,new Qh({nextQueryParams:d,queryParams:n,total:c.total,results:on._resultsToTypedArray(l,{portal:this},c,s)})}).then(c=>Promise.all(c.results.map(d=>typeof d.when=="function"?d.when():c)).then(()=>c,d=>(Oa(d),c)));return r&&q7[r]?q7[r]().then(({default:l})=>(Gt(s),o(l))):o()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new B("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===on.AUTH_MODE_ANONYMOUS||this.authMode===on.AUTH_MODE_NO_PROMPT&&!ze)return Promise.reject(new B("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=i=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(i||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=i,this.fetchSelf("immediate"))):this.user&&this.credential===i?null:(this.credential=i,this.fetchSelf("immediate"))).then(r=>{r&&(this.sourceJSON=r,this.read(r))});return ze?ze.getCredential(this.restUrl,{prompt:this.authMode!==on.AUTH_MODE_NO_PROMPT}).then(i=>e(i)):e(this.credential)}normalizeUrl(e){var r;const i=(r=this.credential)==null?void 0:r.token;return this._normalizeSSL(i?e+(e.includes("?")?"&":"?")+"token="+i:e)}requestToTypedArray(e,i,r){return this.request(e,i).then(s=>{const n=on._resultsToTypedArray(r,{portal:this},s);return Promise.all(n.map(o=>typeof o.when=="function"?o.when():s)).then(()=>n,()=>n)})}request(e,i={}){const r={f:"json",...i.query},{authMode:s=this.authMode===on.AUTH_MODE_ANONYMOUS||this.authMode===on.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:n=null,cacheBust:o=!1,method:l="auto",responseType:c="json",signal:d}=i,m={authMode:s,body:n,cacheBust:o,method:l,query:r,responseType:c,timeout:0,signal:d};return i.withCredentials&&(m.withCredentials=!0),Bt(this._normalizeSSL(e),m).then(v=>v.data)}toJSON(){throw new B("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new on({sourceJSON:e})}_getHelperService(e){var r;const i=(r=this.helperServices)==null?void 0:r[e];if(!i)throw new B("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return i}async _fetchBasemaps(e,i){const r=new Si;r.query=e||(WA()?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0;const s=await this.queryGroups(r,i);if(!s.total)return[];const n=s.results[0];r.num=100,r.query='type:"Web Map" -type:"Web Application"',r.sortField=n.sortField||"name",r.sortOrder=n.sortOrder||"desc";const o=await n.queryItems(r,i);return o.total?o.results.filter(l=>l.type==="Web Map").map(l=>new z0({portalItem:l})):[]}async _fetchBasemaps3D(e,i){const r=e||this.basemapGalleryGroupQuery3D;if(!r)return[];if(WA())return[];const s=new Si({query:r,disableExtraQuery:!0}),n=await this.queryGroups(s,i);if(!n.total)return[];const o=n.results[0];s.num=100,s.query='type:"Web Scene"',s.sortField=o.sortField||"name",s.sortOrder=o.sortOrder||"desc";const l=await o.queryItems(s,i);return l.total?l.results.filter(c=>c.type==="Web Scene").map(c=>new z0({portalItem:c})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const i=z0.fromJSON(e);return i.portalItem={portal:this},i}return null}static _resultsToTypedArray(e,i,r,s){let n;if(r){const o=s!=null?s.signal:null;n=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||i)&&(n=n.map(l=>{const c=Object.assign(e?e.fromJSON(l):l,i);return typeof c.load=="function"&&c.load(o),c}))}else n=[];return n}},on=Ia,Ia.AUTH_MODE_ANONYMOUS="anonymous",Ia.AUTH_MODE_AUTO="auto",Ia.AUTH_MODE_IMMEDIATE="immediate",Ia.AUTH_MODE_NO_PROMPT="no-prompt",Ia);h([f()],le.prototype,"access",void 0),h([f()],le.prototype,"allSSL",void 0),h([f()],le.prototype,"authMode",void 0),h([f()],le.prototype,"authorizedCrossOriginDomains",void 0),h([Ie("authorizedCrossOriginDomains")],le.prototype,"readAuthorizedCrossOriginDomains",null),h([f()],le.prototype,"basemapGalleryGroupQuery",void 0),h([f({json:{name:"3DBasemapGalleryGroupQuery"}})],le.prototype,"basemapGalleryGroupQuery3D",void 0),h([f({json:{name:"g3DTilesGalleryGroupQuery"}})],le.prototype,"g3DTilesGalleryGroupQuery",void 0),h([f({json:{name:"g3dTilesEnabled"}})],le.prototype,"g3dTilesEnabled",void 0),h([f()],le.prototype,"bingKey",void 0),h([f()],le.prototype,"canListApps",void 0),h([f()],le.prototype,"canListData",void 0),h([f()],le.prototype,"canListPreProvisionedItems",void 0),h([f()],le.prototype,"canProvisionDirectPurchase",void 0),h([f()],le.prototype,"canSearchPublic",void 0),h([f()],le.prototype,"canShareBingPublic",void 0),h([f()],le.prototype,"canSharePublic",void 0),h([f()],le.prototype,"canSignInArcGIS",void 0),h([f()],le.prototype,"canSignInIDP",void 0),h([f()],le.prototype,"colorSetsGroupQuery",void 0),h([f()],le.prototype,"commentsEnabled",void 0),h([f({type:Date})],le.prototype,"created",void 0),h([f()],le.prototype,"credential",void 0),h([f()],le.prototype,"culture",void 0),h([f()],le.prototype,"currentVersion",void 0),h([f()],le.prototype,"customBaseUrl",void 0),h([f()],le.prototype,"default3DBasemapQuery",void 0),h([f()],le.prototype,"defaultBasemap",void 0),h([Ie("defaultBasemap")],le.prototype,"readDefaultBasemap",null),h([f()],le.prototype,"defaultDevBasemap",void 0),h([Ie("defaultDevBasemap")],le.prototype,"readDefaultDevBasemap",null),h([f({type:Ye})],le.prototype,"defaultExtent",void 0),h([f()],le.prototype,"defaultVectorBasemap",void 0),h([Ie("defaultVectorBasemap")],le.prototype,"readDefaultVectorBasemap",null),h([f()],le.prototype,"description",void 0),h([f()],le.prototype,"devBasemapGalleryGroupQuery",void 0),h([f()],le.prototype,"eueiEnabled",void 0),h([f({readOnly:!0})],le.prototype,"extraQuery",null),h([f()],le.prototype,"featuredGroups",void 0),h([f()],le.prototype,"featuredItemsGroupQuery",void 0),h([f()],le.prototype,"galleryTemplatesGroupQuery",void 0),h([f()],le.prototype,"layoutGroupQuery",void 0),h([f()],le.prototype,"livingAtlasGroupQuery",void 0),h([f({readOnly:!0})],le.prototype,"hasAPIKey",null),h([f()],le.prototype,"hasCategorySchema",void 0),h([f()],le.prototype,"hasClassificationSchema",void 0),h([f()],le.prototype,"helpBase",void 0),h([f()],le.prototype,"helperServices",void 0),h([f()],le.prototype,"helpMap",void 0),h([f()],le.prototype,"homePageFeaturedContent",void 0),h([f()],le.prototype,"homePageFeaturedContentCount",void 0),h([f()],le.prototype,"httpPort",void 0),h([f()],le.prototype,"httpsPort",void 0),h([f()],le.prototype,"id",void 0),h([f()],le.prototype,"ipCntryCode",void 0),h([f({readOnly:!0})],le.prototype,"isOrganization",null),h([f()],le.prototype,"isPortal",void 0),h([f()],le.prototype,"isReadOnly",void 0),h([f({readOnly:!0})],le.prototype,"itemPageUrl",null),h([f()],le.prototype,"layerTemplatesGroupQuery",void 0),h([f()],le.prototype,"maxTokenExpirationMinutes",void 0),h([f({type:Date})],le.prototype,"modified",void 0),h([f()],le.prototype,"name",void 0),h([f()],le.prototype,"portalHostname",void 0),h([f()],le.prototype,"portalMode",void 0),h([f()],le.prototype,"portalProperties",void 0),h([f()],le.prototype,"region",void 0),h([f()],le.prototype,"recycleBinEnabled",void 0),h([f({readOnly:!0})],le.prototype,"restUrl",null),h([f()],le.prototype,"rotatorPanels",void 0),h([f()],le.prototype,"showHomePageDescription",void 0),h([f()],le.prototype,"sourceJSON",void 0),h([f()],le.prototype,"staticImagesUrl",void 0),h([f({json:{name:"2DStylesGroupQuery"}})],le.prototype,"stylesGroupQuery2d",void 0),h([f({json:{name:"stylesGroupQuery"}})],le.prototype,"stylesGroupQuery3d",void 0),h([f()],le.prototype,"supportsHostedServices",void 0),h([f()],le.prototype,"symbolSetsGroupQuery",void 0),h([f()],le.prototype,"templatesGroupQuery",void 0),h([f()],le.prototype,"thumbnail",void 0),h([f({readOnly:!0})],le.prototype,"thumbnailUrl",null),h([f()],le.prototype,"units",void 0),h([f()],le.prototype,"url",void 0),h([f()],le.prototype,"urlKey",void 0),h([Ie("urlKey")],le.prototype,"readUrlKey",null),h([f()],le.prototype,"user",void 0),h([Ie("user")],le.prototype,"readUser",null),h([f()],le.prototype,"use3dBasemaps",void 0),h([f()],le.prototype,"useDefault3dBasemap",void 0),h([f()],le.prototype,"useStandardizedQuery",void 0),h([f()],le.prototype,"useVectorBasemaps",void 0),h([f()],le.prototype,"vectorBasemapGalleryGroupQuery",void 0),le=on=h([I("esri.portal.Portal")],le);const B7=new FinalizationRegistry(t=>{t.remove()});function Pbe(t){const e=ze;return()=>{const i=t.deref();i&&e.findCredential(i.restUrl)&&i.signIn().catch(()=>{})}}let ms=class extends ae{constructor(e){super(e),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(e,i,r){e||(i[r]=e)}};h([f({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],ms.prototype,"enabled",void 0),h([_e("enabled")],ms.prototype,"writeEnabled",null),h([f({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],ms.prototype,"type",void 0),ms=h([I("esri.symbols.Symbol3DLayer")],ms);const jbe=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,Nbe="screenUtils.toPt: input not recognized!",ZY=96;function Dbe(t){return t?t/72*ZY:0}function uo(t){return t?72*t/ZY:0}function ut(t){if(typeof t=="string"){const e=t.match(jbe);if(e){const i=Number(e[1]),r=e[3]&&e[3].toLowerCase(),s=t.startsWith("-"),n=r==="px"?uo(i):i;return s?-n:n}return console.warn(Nbe),null}return t}function rr(t=0,e=0){return{x:t,y:e}}function MLe(t){return t?rr(t.x,t.y):null}function ELe(t=0,e=0){return[t,e]}function ALe(t=0,e=0,i=0){return[t,e,i]}function OLe(t){return t}function kLe(t){return t}function CLe(t){return t}function RLe(t,e){return e?(e[0]=t.x,e[1]=t.y,e.length>2&&(e[2]=0),e):[t.x,t.y]}function d6(t){const e=tR(100*(1-t));return Math.max(0,Math.min(e,100))}function ew(t){const e=1-t/100;return Math.max(0,Math.min(e,1))}function Lbe(t,e){const i=e.transparency!=null?ew(e.transparency):1,r=e.color;return r&&Array.isArray(r)?new Ne([r[0]||0,r[1]||0,r[2]||0,i]):null}function Vbe(t,e){e.color=t.toJSON().slice(0,3);const i=d6(t.a);i!==0&&(e.transparency=i)}function ih(t){return{type:Ne,nonNullable:t==null?void 0:t.nonNullable,json:{type:[ot],default:null,read:{source:["color","transparency"],reader:Lbe},write:{target:{color:{type:[ot],isRequired:t==null?void 0:t.colorRequiredOnWrite},transparency:{type:ot}},writer:Vbe}}}}const Ua={type:Number,cast:ut,json:{write:!0}};function ILe(t){return t==="emissive"?0:1}let ed=class extends ae{constructor(e){super(e),this.color=new Ne([0,0,0,1]),this.extensionLength=0,this.size=uo(1)}clone(){}cloneProperties(){return{color:G(this.color),size:this.size,extensionLength:this.extensionLength}}};h([f({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],ed.prototype,"type",void 0),h([f(ih({colorRequiredOnWrite:!0}))],ed.prototype,"color",void 0),h([f({...Ua,json:{write:{overridePolicy:t=>({enabled:!!t})}}})],ed.prototype,"extensionLength",void 0),h([f(Ua)],ed.prototype,"size",void 0),ed=h([I("esri.symbols.edges.Edges3D")],ed);const p6=ed;var y4;let B2=y4=class extends p6{constructor(t){super(t),this.type="sketch"}clone(){return new y4(this.cloneProperties())}};h([ke({sketch:"sketch"},{readOnly:!0})],B2.prototype,"type",void 0),B2=y4=h([I("esri.symbols.edges.SketchEdges3D")],B2);const Fbe=B2;var g4;let G2=g4=class extends p6{constructor(t){super(t),this.type="solid"}clone(){return new g4(this.cloneProperties())}};h([ke({solid:"solid"},{readOnly:!0})],G2.prototype,"type",void 0),G2=g4=h([I("esri.symbols.edges.SolidEdges3D")],G2);const YY=G2,JY={types:{key:"type",base:p6,typeMap:{solid:YY,sketch:Fbe}},json:{write:!0}};var v4;let _m=v4=class extends ae{constructor(){super(...arguments),this.strength=null,this.source="emissive"}clone(){const t={strength:this.strength,source:this.source};return new v4(t)}};h([f({json:{write:!1}})],_m.prototype,"strength",void 0),h([f({json:{write:!1}})],_m.prototype,"source",void 0),_m=v4=h([I("esri.symbols.support.Symbol3DEmissive")],_m);var w4;let mn=w4=class extends ae{constructor(t){super(t),this.color=null,this.emissive=new _m({source:"emissive"})}clone(){var e,i;const t={color:((e=this.color)==null?void 0:e.clone())??null,emissive:((i=this.emissive)==null?void 0:i.clone())??null};return new w4(t)}};h([f(ih())],mn.prototype,"color",void 0),h([f({type:_m,json:{write:!1}})],mn.prototype,"emissive",void 0),mn=w4=h([I("esri.symbols.support.Symbol3DMaterial")],mn);var b4,Jm;let Pl=(Jm=class extends ms{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){var e,i;return new b4({edges:(e=this.edges)==null?void 0:e.clone(),enabled:this.enabled,material:(i=this.material)==null?void 0:i.clone(),castShadows:this.castShadows,size:this.size})}},b4=Jm,Jm);h([ke({Extrude:"extrude"},{readOnly:!0})],Pl.prototype,"type",void 0),h([f({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],Pl.prototype,"size",void 0),h([f({type:mn,json:{write:!0}})],Pl.prototype,"material",void 0),h([f({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Pl.prototype,"castShadows",void 0),h([f(JY)],Pl.prototype,"edges",void 0),Pl=b4=h([I("esri.symbols.ExtrudeSymbol3DLayer")],Pl);let t1=class extends ae{constructor(e){super(e)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};h([f({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],t1.prototype,"type",void 0),t1=h([I("esri.symbols.patterns.LinePattern3D")],t1);const zbe=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var _4;const Ube=wr()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let Ad=_4=class extends t1{constructor(t){super(t),this.type="style",this.style="solid"}clone(){const t={style:this.style};return new _4(t)}};h([f({type:["style"],json:{write:{isRequired:!0}}})],Ad.prototype,"type",void 0),h([ke(Ube),f({type:zbe,json:{write:{isRequired:!0}}})],Ad.prototype,"style",void 0),Ad=_4=h([I("esri.symbols.patterns.LineStylePattern3D")],Ad);let i1=class extends ae{constructor(e){super(e),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};h([f({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],i1.prototype,"type",void 0),i1=h([I("esri.symbols.patterns.Pattern3D")],i1);const qbe=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var S4;let Sm=S4=class extends i1{constructor(t){super(t),this.type="style",this.style="solid"}clone(){return new S4({style:this.style})}};h([f({type:["style"],json:{write:{isRequired:!0}}})],Sm.prototype,"type",void 0),h([f({type:qbe,json:{read:!0,write:{isRequired:!0}}})],Sm.prototype,"style",void 0),Sm=S4=h([I("esri.symbols.patterns.StylePattern3D")],Sm);const Bbe={types:{key:"type",base:i1,typeMap:{style:Sm}},json:{write:!0}},KY={types:{key:"type",base:t1,typeMap:{style:Ad}},json:{write:!0}},r1=new Ne("white"),Gbe=new Ne([255,255,255,0]);function Hbe(t){return t.r===0&&t.g===0&&t.b===0}var x4;let s1=x4=class extends mn{constructor(t){super(t),this.colorMixMode=null}clone(){var e,i;const t={color:((e=this.color)==null?void 0:e.clone())??null,colorMixMode:this.colorMixMode,emissive:((i=this.emissive)==null?void 0:i.clone())??null};return new x4(t)}};h([ke({multiply:"multiply",replace:"replace",tint:"tint"})],s1.prototype,"colorMixMode",void 0),s1=x4=h([I("esri.symbols.support.Symbol3DFillMaterial")],s1);function rh(){return[0,0,0]}function Wbe(t){return[t[0],t[1],t[2]]}function Sg(t,e,i){return[t,e,i]}function Zbe(t,e,i){return[t,e,i]}function Ybe(t,e=rh()){const i=Math.min(3,t.length);for(let r=0;r<i;++r)e[r]=t[r];return e}function XY(){return rh()}function QY(){return Sg(1,1,1)}function eJ(){return Sg(1,0,0)}function tJ(){return Sg(0,1,0)}function iJ(){return Sg(0,0,1)}const Jbe=XY(),Kbe=QY(),Xbe=eJ(),Qbe=tJ(),e_e=iJ();Object.freeze(Object.defineProperty({__proto__:null,ONES:Kbe,UNIT_X:Xbe,UNIT_Y:Qbe,UNIT_Z:e_e,ZEROS:Jbe,clone:Wbe,create:rh,freeze:Zbe,fromArray:Ybe,fromValues:Sg,ones:QY,unitX:eJ,unitY:tJ,unitZ:iJ,zeros:XY},Symbol.toStringTag,{value:"Module"}));function f6(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function t_e(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function i_e(t,e,i,r,s,n,o,l,c,d,m,v,w,_,x,T){return[t,e,i,r,s,n,o,l,c,d,m,v,w,_,x,T]}const r_e=f6();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:r_e,clone:t_e,create:f6,fromValues:i_e},Symbol.toStringTag,{value:"Module"}));function s_e(t){return t<=yB?new Array(t).fill(0):new Float64Array(t)}function DLe(t){return(she(t)?t.byteLength/8:t.length)<=yB?Array.from(t):new Float64Array(t)}function LLe(t,e,i){return Array.isArray(t)?t.slice(e,e+i):t.subarray(e,e+i)}function VLe(t){return[...t]}function FLe(t){const e=f6();for(let i=0;i<16;++i)e[i]=t[i];return e}function Lw(t=l_e){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function m6(t,e,i,r,s,n,o=Lw()){return o[0]=t,o[1]=e,o[2]=i,o[3]=r,o[4]=s,o[5]=n,o}function zLe(t,e=Lw()){return n_e(t,0,t.length/3,e)}function n_e(t,e,i,r=Lw()){return rJ(r,T4),o_e(r,t,e,i),r}function ULe(t,e=s_e(24)){const[i,r,s,n,o,l]=t;return e[0]=i,e[1]=r,e[2]=s,e[3]=i,e[4]=r,e[5]=l,e[6]=i,e[7]=o,e[8]=s,e[9]=i,e[10]=o,e[11]=l,e[12]=n,e[13]=r,e[14]=s,e[15]=n,e[16]=r,e[17]=l,e[18]=n,e[19]=o,e[20]=s,e[21]=n,e[22]=o,e[23]=l,e}function qLe(t,e){const i=isFinite(t[2])||isFinite(t[5]);return new Ye(i?{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],zmin:t[2],zmax:t[5],spatialReference:e}:{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],spatialReference:e})}function BLe(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[3]),t[4]=Math.max(t[4],e[4]),t[5]=Math.max(t[5],e[5])}function GLe(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[3]=Math.max(t[3],e[2]),t[4]=Math.max(t[4],e[3])}function HLe(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[0]),t[4]=Math.max(t[4],e[1]),t[5]=Math.max(t[5],e[2])}function o_e(t,e,i=0,r=e.length/3){let s=t[0],n=t[1],o=t[2],l=t[3],c=t[4],d=t[5];for(let m=0;m<r;m++)s=Math.min(s,e[i+3*m]),n=Math.min(n,e[i+3*m+1]),o=Math.min(o,e[i+3*m+2]),l=Math.max(l,e[i+3*m]),c=Math.max(c,e[i+3*m+1]),d=Math.max(d,e[i+3*m+2]);t[0]=s,t[1]=n,t[2]=o,t[3]=l,t[4]=c,t[5]=d}function WLe(t,e,i){const r=e.length;let s=t[0],n=t[1],o=t[2],l=t[3],c=t[4],d=t[5];if(i)for(let m=0;m<r;m++){const v=e[m];s=Math.min(s,v[0]),n=Math.min(n,v[1]),o=Math.min(o,v[2]),l=Math.max(l,v[0]),c=Math.max(c,v[1]),d=Math.max(d,v[2])}else for(let m=0;m<r;m++){const v=e[m];s=Math.min(s,v[0]),n=Math.min(n,v[1]),l=Math.max(l,v[0]),c=Math.max(c,v[1])}t[0]=s,t[1]=n,t[2]=o,t[3]=l,t[4]=c,t[5]=d}function ZLe(t){for(let e=0;e<6;e++)if(!isFinite(t[e]))return!1;return!0}function Vw(t){return t[0]>=t[3]?0:t[3]-t[0]}function Fw(t){return t[1]>=t[4]?0:t[4]-t[1]}function zw(t){return t[2]>=t[5]?0:t[5]-t[2]}function YLe(t){const e=Vw(t),i=zw(t),r=Fw(t);return Math.sqrt(e*e+i*i+r*r)}function JLe(t,e=[0,0,0]){return e[0]=t[0]+Vw(t)/2,e[1]=t[1]+Fw(t)/2,e[2]=t[2]+zw(t)/2,e}function KLe(t,e=[0,0,0]){return e[0]=Vw(t),e[1]=Fw(t),e[2]=zw(t),e}function XLe(t,e){return e[0]>=t[0]&&e[1]>=t[1]&&e[2]>=t[2]&&e[0]<=t[3]&&e[1]<=t[4]&&e[2]<=t[5]}function a_e(t,e){return Math.max(e[0],t[0])<=Math.min(e[3],t[3])&&Math.max(e[1],t[1])<=Math.min(e[4],t[4])&&Math.max(e[2],t[2])<=Math.min(e[5],t[5])}function QLe(t,e){return e==null||a_e(t,e)}function e7e(t,e,i,r,s=t){return s[0]=t[0]+e,s[1]=t[1]+i,s[2]=t[2]+r,s[3]=t[3]+e,s[4]=t[4]+i,s[5]=t[5]+r,s}function t7e(t,e,i=t){const r=t[0]+Vw(t)/2,s=t[1]+Fw(t)/2,n=t[2]+zw(t)/2;return i[0]=r+(t[0]-r)*e,i[1]=s+(t[1]-s)*e,i[2]=n+(t[2]-n)*e,i[3]=r+(t[3]-r)*e,i[4]=s+(t[4]-s)*e,i[5]=n+(t[5]-n)*e,i}function i7e(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function r7e(t,e,i=t){return i[0]=e[0],i[1]=e[1],i[2]=e[2],i!==t&&(i[3]=t[3],i[4]=t[4],i[5]=t[5]),i}function s7e(t,e,i=t){return i[3]=e[0],i[4]=e[1],i[5]=e[2],i!==t&&(i[0]=t[0],i[1]=t[1],i[2]=t[2]),t}function rJ(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function n7e(t){return t?rJ(t,T4):Lw(T4)}function o7e(t,e=Us()){return e[0]=t[0],e[1]=t[1],e[2]=t[3],e[3]=t[4],e}function a7e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=Number.NEGATIVE_INFINITY,t[3]=e[2],t[4]=e[3],t[5]=Number.POSITIVE_INFINITY,t}function l7e(t,e,i,r,s){return t[0]=e,t[1]=i,t[2]=Number.NEGATIVE_INFINITY,t[3]=r,t[4]=s,t[5]=Number.POSITIVE_INFINITY,t}function G7(t){return t.length===6}function u7e(t){return Vw(t)===0&&Fw(t)===0&&zw(t)===0}function c7e(t,e,i){if(t==null||e==null)return t===e;if(!G7(t)||!G7(e))return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}const T4=[1/0,1/0,1/0,-1/0,-1/0,-1/0],l_e=[0,0,0,0,0,0];Lw();function h7e(t,{isPrimitive:e,width:i,depth:r,height:s}){const n=e?10:1;if(i==null&&s==null&&r==null)return[n*t[0],n*t[1],n*t[2]];const o=Sg(i,r,s);let l;for(let c=0;c<3;c++){const d=o[c];if(d!=null){l=d/t[c];break}}for(let c=0;c<3;c++)o[c]==null&&(o[c]=t[c]*l);return o}const u_e=m6(-.5,-.5,-.5,.5,.5,.5),c_e=m6(-.5,-.5,0,.5,.5,1),h_e=m6(-.5,-.5,0,.5,.5,.5);function d7e(t){switch(t){case"sphere":case"cube":case"diamond":return u_e;case"cylinder":case"cone":case"inverted-cone":return c_e;case"tetrahedron":return h_e;default:return}}const y6=["butt","square","round"],d_e=[...y6,"none"],sJ=["miter","bevel","round"];var $4;let td=$4=class extends ae{constructor(t){super(t),this.color=new Ne([0,0,0,1]),this.size=uo(1),this.pattern=null,this.patternCap="butt"}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new $4(t)}};h([f(ih({colorRequiredOnWrite:!0}))],td.prototype,"color",void 0),h([f({...Ua,json:{write:{isRequired:!0}}})],td.prototype,"size",void 0),h([f(KY)],td.prototype,"pattern",void 0),h([f({type:y6,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],td.prototype,"patternCap",void 0),td=$4=h([I("esri.symbols.support.Symbol3DOutline")],td);var H2,Km;let cs=(Km=class extends ms{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new H2(e)}static fromSimpleFillSymbol(e){var s,n,o;const i=e.outline&&e.outline.style&&e.outline.style!=="solid"?new Ad({style:e.outline.style}):null,r={size:((s=e.outline)==null?void 0:s.width)??0,color:(((n=e.outline)==null?void 0:n.color)??r1).clone(),pattern:i};return i&&((o=e.outline)!=null&&o.cap)&&(r.patternCap=e.outline.cap),new H2({material:new s1({color:(e.color??Gbe).clone()}),pattern:e.style&&e.style!=="solid"?new Sm({style:e.style}):null,outline:r})}},H2=Km,Km);h([ke({Fill:"fill"},{readOnly:!0})],cs.prototype,"type",void 0),h([f({type:s1,json:{write:!0}})],cs.prototype,"material",void 0),h([f(Bbe)],cs.prototype,"pattern",void 0),h([f({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],cs.prototype,"castShadows",void 0),h([f({type:td,json:{write:!0}})],cs.prototype,"outline",void 0),h([f(JY)],cs.prototype,"edges",void 0),cs=H2=h([I("esri.symbols.FillSymbol3DLayer")],cs);var M4;const p_e=wr()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let id=M4=class extends ae{constructor(t){super(t)}readHref(t,e,i){return t?Ep(t,i):e.dataURI}writeHref(t,e,i,r){t&&(Mp(t)?e.dataURI=t:(e.href=lp(t,r),Gs(e.href)&&(e.href=Jo(e.href))))}clone(){return new M4({href:this.href,primitive:this.primitive})}equals(t){return t.primitive===this.primitive&&t.href===this.href}};h([f({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],id.prototype,"href",void 0),h([Ie("href")],id.prototype,"readHref",null),h([_e("href",{href:{type:String},dataURI:{type:String}})],id.prototype,"writeHref",null),h([ke(p_e)],id.prototype,"primitive",void 0),id=M4=h([I("esri.symbols.support.IconSymbol3DLayerResource")],id);const p7e="circle";let W2=class extends rt(ae){constructor(e){super(e),this.mode="hidden"}equals(e){return this.mode===e.mode}};h([f({type:["adaptive","hidden","visible"],json:{write:{isRequired:!0}}})],W2.prototype,"mode",void 0),W2=h([I("esri.symbols.support.OccludedVisibility")],W2);const nJ=W2;var E4;let xm=E4=class extends $e{constructor(t){super(t),this.x=0,this.y=0}clone(){return new E4({x:this.x,y:this.y})}equals(t){return t.x===this.x&&t.y===this.y}};h([f({type:Number})],xm.prototype,"x",void 0),h([f({type:Number})],xm.prototype,"y",void 0),xm=E4=h([I("esri.symbols.support.Symbol3DAnchorPosition2D")],xm);var A4;let gv=A4=class extends ae{constructor(t){super(t),this.color=new Ne([0,0,0,1]),this.size=uo(1)}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size};return new A4(t)}equals(t){return t.size===this.size&&(this.color==null?t.color==null:this.color.equals(t.color))}};h([f(ih({colorRequiredOnWrite:!0}))],gv.prototype,"color",void 0),h([f({...Ua,json:{write:{isRequired:!0}}})],gv.prototype,"size",void 0),gv=A4=h([I("esri.symbols.support.Symbol3DIconOutline")],gv);var Bf,Xm;let yr=(Xm=class extends ms{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0,this.occludedVisibility=null}clone(){return new Bf({anchor:this.anchor,anchorPosition:G(this.anchorPosition),enabled:this.enabled,material:G(this.material),outline:G(this.outline),resource:G(this.resource),angle:this.angle,size:this.size,occludedVisibility:G(this.occludedVisibility)})}static fromSimpleMarkerSymbol(e){const i=e.color||r1,r=H7(e),s=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||r1).clone()}:null;return new Bf({size:e.size,angle:e.angle,resource:{primitive:m_e(()=>se.getLogger(this.prototype),e.style)},material:{color:i},outline:s,anchor:r?"relative":void 0,anchorPosition:r})}static fromPictureMarkerSymbol(e){const i=!e.color||Hbe(e.color)?r1:e.color,r=H7(e);return new Bf({size:e.width<=e.height?e.height:e.width,angle:e.angle,resource:{href:e.url},material:{color:i.clone()},anchor:r?"relative":void 0,anchorPosition:r})}static fromCIMSymbol(e){return new Bf({resource:{href:HW({mediaType:"application/json",data:JSON.stringify(e.data)})}})}},Bf=Xm,Xm);function H7(t){const e="width"in t?t.width:t.size,i="height"in t?t.height:t.size,r=W7(t.xoffset),s=W7(t.yoffset);return(r||s)&&e&&i?{x:-r/e,y:s/i}:null}function W7(t){return isFinite(t)?t:0}h([f({type:mn,json:{write:!0}})],yr.prototype,"material",void 0),h([f({type:id,json:{write:!0}})],yr.prototype,"resource",void 0),h([ke({Icon:"icon"},{readOnly:!0})],yr.prototype,"type",void 0),h([f({...Ua,json:{write:{isRequired:!0}}})],yr.prototype,"size",void 0),h([ke({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],yr.prototype,"anchor",void 0),h([f({type:xm,json:{type:[Number],read:{reader:t=>new xm({x:t[0],y:t[1]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],yr.prototype,"anchorPosition",void 0),h([f({type:gv,json:{write:!0}})],yr.prototype,"outline",void 0),h([f({type:Number,json:{write:!0,default:0}})],yr.prototype,"angle",void 0),h([f({type:nJ})],yr.prototype,"occludedVisibility",void 0),yr=Bf=h([I("esri.symbols.IconSymbol3DLayer")],yr);const f_e={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function m_e(t,e){return f_e[e]||(t().warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const y_e=["begin","end","begin-end"],oJ=["arrow","circle","square","diamond","cross","x"];let ql=class extends rt(ae){constructor(e){super(e),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(e){return e!=null&&e.placement===this.placement&&e.style===this.style&&(this.color==null&&e.color==null||this.color!=null&&e.color!=null&&this.color.toJSON()===e.color.toJSON())}};h([f({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],ql.prototype,"type",void 0),h([f({type:y_e,json:{default:"begin-end",write:!0}})],ql.prototype,"placement",void 0),h([f({type:oJ,json:{default:"arrow",write:!0}})],ql.prototype,"style",void 0),h([f({type:Ne,json:{type:[ot],default:null,write:!0}})],ql.prototype,"color",void 0),ql=h([I("esri.symbols.LineStyleMarker3D")],ql);var Z2,Qm;let us=(Qm=class extends ms{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=uo(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new Z2(e)}static fromSimpleLineSymbol(e){var r;const i={enabled:!0,size:e.width??uo(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new Ad({style:e.style}):null,material:new mn({color:(e.color||r1).clone()}),marker:e.marker?new ql({placement:e.marker.placement,style:e.marker.style,color:((r=e.marker.color)==null?void 0:r.clone())??null}):null};return new Z2(i)}},Z2=Qm,Qm);h([f({type:mn,json:{write:!0}})],us.prototype,"material",void 0),h([ke({Line:"line"},{readOnly:!0})],us.prototype,"type",void 0),h([f({type:sJ,json:{write:!0,default:"miter"}})],us.prototype,"join",void 0),h([f({type:y6,json:{write:!0,default:"butt"}})],us.prototype,"cap",void 0),h([f({...Ua,json:{write:{isRequired:!0}}})],us.prototype,"size",void 0),h([f(KY)],us.prototype,"pattern",void 0),h([f({types:{key:"type",base:ql,typeMap:{style:ql}},json:{write:!0}})],us.prototype,"marker",void 0),us=Z2=h([I("esri.symbols.LineSymbol3DLayer")],us);var O4;const g_e=wr()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let vv=O4=class extends ae{clone(){return new O4({href:this.href,primitive:this.primitive})}};h([f({type:String,json:{read:wT,write:up}})],vv.prototype,"href",void 0),h([ke(g_e)],vv.prototype,"primitive",void 0),vv=O4=h([I("esri.symbols.support.ObjectSymbol3DLayerResource")],vv);const y7e="sphere";var k4;let vd=k4=class extends $e{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new k4({x:this.x,y:this.y,z:this.z})}};h([f({type:Number})],vd.prototype,"x",void 0),h([f({type:Number})],vd.prototype,"y",void 0),h([f({type:Number})],vd.prototype,"z",void 0),vd=k4=h([I("esri.symbols.support.Symbol3DAnchorPosition3D")],vd);var C4,ey;let mr=(ey=class extends ms{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){var e,i,r;return new C4({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:(e=this.anchorPosition)==null?void 0:e.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:((i=this.material)==null?void 0:i.clone())??null,castShadows:this.castShadows,resource:(r=this.resource)==null?void 0:r.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}},C4=ey,ey);h([f({type:mn,json:{write:!0}})],mr.prototype,"material",void 0),h([f({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],mr.prototype,"castShadows",void 0),h([f({type:vv,json:{write:!0}})],mr.prototype,"resource",void 0),h([ke({Object:"object"},{readOnly:!0})],mr.prototype,"type",void 0),h([f({type:Number,json:{write:!0}})],mr.prototype,"width",void 0),h([f({type:Number,json:{write:!0}})],mr.prototype,"height",void 0),h([f({type:Number,json:{write:!0}})],mr.prototype,"depth",void 0),h([ke({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],mr.prototype,"anchor",void 0),h([f({type:vd,json:{type:[Number],read:{reader:t=>new vd({x:t[0],y:t[1],z:t[2]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y,t.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],mr.prototype,"anchorPosition",void 0),h([f({type:Number,json:{write:!0}})],mr.prototype,"heading",void 0),h([f({type:Number,json:{write:!0}})],mr.prototype,"tilt",void 0),h([f({type:Number,json:{write:!0}})],mr.prototype,"roll",void 0),h([f({readOnly:!0})],mr.prototype,"isPrimitive",null),mr=C4=h([I("esri.symbols.ObjectSymbol3DLayer")],mr);var R4,ty;let Er=(ty=class extends ms{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,i){return e??(i.height==null&&i.size!=null?i.size:void 0)}readHeight(e,i){return e??(i.width==null&&i.size!=null?i.size:void 0)}clone(){return new R4({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}},R4=ty,ty);h([f({type:mn,json:{write:!0}})],Er.prototype,"material",void 0),h([f({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Er.prototype,"castShadows",void 0),h([ke({Path:"path"},{readOnly:!0})],Er.prototype,"type",void 0),h([f({type:["circle","quad"],nonNullable:!0,json:{write:!0,default:"circle"}})],Er.prototype,"profile",void 0),h([f({type:sJ,nonNullable:!0,json:{write:!0,default:"miter"}})],Er.prototype,"join",void 0),h([f({type:d_e,nonNullable:!0,json:{write:!0,default:"butt"}})],Er.prototype,"cap",void 0),h([f({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],Er.prototype,"width",void 0),h([Ie("width",["width","size","height"])],Er.prototype,"readWidth",null),h([f({type:Number,json:{write:!0}})],Er.prototype,"height",void 0),h([Ie("height",["height","size","width"])],Er.prototype,"readHeight",null),h([f({type:["center","bottom","top"],nonNullable:!0,json:{write:!0,default:"center"}})],Er.prototype,"anchor",void 0),h([f({type:["heading","all"],nonNullable:!0,json:{write:!0,default:"all"}})],Er.prototype,"profileRotation",void 0),Er=R4=h([I("esri.symbols.PathSymbol3DLayer")],Er);const v_e=["none","underline","line-through"],w_e=["normal","italic","oblique"],b_e=["normal","lighter","bold","bolder"],aJ={type:Number,cast:t=>{const e=ds(t);return e===0?1:_n(e,.1,4)},nonNullable:!0},__e=["left","right","center"],S_e=["baseline","top","middle","bottom"],lJ={type:__e,nonNullable:!0},uJ={type:S_e,nonNullable:!0},g7e=8;var I4;let Yn=I4=class extends ae{constructor(t){super(t),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(t){return ut(t)}clone(){return new I4({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};h([f({type:v_e,json:{default:"none",write:!0}})],Yn.prototype,"decoration",void 0),h([f({type:String,json:{write:!0}})],Yn.prototype,"family",void 0),h([f({type:Number,json:{write:{overridePolicy:(t,e,i)=>({enabled:!i||!i.textSymbol3D})}}})],Yn.prototype,"size",void 0),h([Ot("size")],Yn.prototype,"castSize",null),h([f({type:w_e,json:{default:"normal",write:!0}})],Yn.prototype,"style",void 0),h([f({type:b_e,json:{default:"normal",write:!0}})],Yn.prototype,"weight",void 0),Yn=I4=h([I("esri.symbols.Font")],Yn);var P4;let Tm=P4=class extends ae{constructor(){super(...arguments),this.color=new Ne([0,0,0,1]),this.size=0}clone(){const t={color:G(this.color),size:this.size};return new P4(t)}};h([f(ih())],Tm.prototype,"color",void 0),h([f(Ua)],Tm.prototype,"size",void 0),Tm=P4=h([I("esri.symbols.support.Symbol3DHalo")],Tm);let n1=class extends rt(ae){constructor(e){super(e),this.color=null}};h([f(ih())],n1.prototype,"color",void 0),n1=h([I("esri.symbols.support.Symbol3DTextBackground")],n1);var Y2,iy;let qi=(iy=class extends ms{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline",this.occludedVisibility=null}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,i,r,s){const n={...s,textSymbol3D:!0};i.font=e.write({},n),delete i.font.size}get size(){var e;return this._userSize!=null?this._userSize:((e=this.font)==null?void 0:e.size)!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new Y2({enabled:this.enabled,font:G(this.font),halo:G(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:G(this.background),occludedVisibility:G(this.occludedVisibility)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new Y2({font:e.font!=null?e.font.clone():new Yn,halo:x_e(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new mn({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new n1({color:e.backgroundColor.clone()}):null})}},Y2=iy,iy);function x_e(t,e){return t&&e!=null&&e>0?new Tm({color:G(t),size:e}):null}h([f({type:Yn,json:{write:!0}})],qi.prototype,"font",null),h([_e("font")],qi.prototype,"writeFont",null),h([f({type:Tm,json:{write:!0}})],qi.prototype,"halo",void 0),h([f({...lJ,json:{default:"center",write:!0}})],qi.prototype,"horizontalAlignment",void 0),h([f({...aJ,json:{default:1,write:!0}})],qi.prototype,"lineHeight",void 0),h([f({type:mn,json:{write:!0}})],qi.prototype,"material",void 0),h([f({type:n1,json:{write:!0}})],qi.prototype,"background",void 0),h([f(Ua)],qi.prototype,"size",null),h([f({type:String,json:{write:!0}})],qi.prototype,"text",void 0),h([ke({Text:"text"},{readOnly:!0})],qi.prototype,"type",void 0),h([f({...uJ,json:{default:"baseline",write:!0}})],qi.prototype,"verticalAlignment",void 0),h([f({type:nJ})],qi.prototype,"occludedVisibility",void 0),qi=Y2=h([I("esri.symbols.TextSymbol3DLayer")],qi);var j4,ry;let jl=(ry=class extends ms{constructor(e){super(e),this.color=N4.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new j4({color:this.color.clone(),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}},j4=ry,ry);h([f({type:Ne,nonNullable:!0,json:{type:[ot],write:(t,e,i)=>e[i]=t.toArray(1),default:()=>N4.clone(),defaultEquals:t=>t.toCss(!0)===N4.toCss(!0)}})],jl.prototype,"color",void 0),h([ke({Water:"water"},{readOnly:!0})],jl.prototype,"type",void 0),h([f({type:["small","medium","large"],json:{write:!0,default:"medium"}})],jl.prototype,"waterbodySize",void 0),h([f({type:Number,json:{write:!0,default:null}})],jl.prototype,"waveDirection",void 0),h([f({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],jl.prototype,"waveStrength",void 0),jl=j4=h([I("esri.symbols.WaterSymbol3DLayer")],jl);const N4=new Ne([0,119,190]);var D4;let Bl=D4=class extends $e{constructor(t){super(t),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new D4({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};h([f({type:String})],Bl.prototype,"name",void 0),h([f({type:String})],Bl.prototype,"styleUrl",void 0),h([f({type:String})],Bl.prototype,"styleName",void 0),h([f({type:le})],Bl.prototype,"portal",void 0),Bl=D4=h([I("esri.symbols.support.StyleOrigin")],Bl);var L4;let o1=L4=class extends $e{constructor(){super(...arguments),this.url=""}clone(){return new L4({url:this.url})}};h([f({type:String})],o1.prototype,"url",void 0),o1=L4=h([I("esri.symbols.support.Thumbnail")],o1);const cJ={icon:yr,object:mr,line:us,path:Er,fill:cs,extrude:Pl,text:qi,water:jl},T_e=ge.ofType({base:ms,key:"type",typeMap:cJ,errorContext:"symbol-layer"});let Ds=class extends Mi{constructor(e){super(e),this.styleOrigin=null,this.thumbnail=null,this.type=null;const i=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,r=i==null?void 0:i.type,s=r||ge;this._set("symbolLayers",new s)}get color(){return null}set color(e){this.constructed&&se.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(e){Da(e,this._get("symbolLayers"))}readStyleOrigin(e,i,r){if(e.styleUrl&&e.name){const s=Ep(e.styleUrl,r);return new Bl({styleUrl:s,name:e.name})}if(e.styleName&&e.name)return new Bl({portal:(r==null?void 0:r.portal)||le.getDefault(),styleName:e.styleName,name:e.name});r!=null&&r.messages&&r.messages.push(new lo("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:r,definition:e}))}writeStyleOrigin(e,i,r,s){if(e.styleUrl&&e.name){let n=lp(e.styleUrl,s);Gs(n)&&(n=Jo(n)),i.styleOrigin={styleUrl:n,name:e.name}}else e.styleName&&e.name&&(e.portal&&(s!=null&&s.portal)&&!GW(e.portal.restUrl,s.portal.restUrl)?s!=null&&s.messages&&s.messages.push(new lo("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):i.styleOrigin={styleName:e.styleName,name:e.name})}normalizeCtorArgs(e){return e instanceof ms||e&&cJ[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}};h([f({json:{read:!1,write:!1}})],Ds.prototype,"color",null),h([f({type:T_e,nonNullable:!0,json:{write:!0}}),Ot(WY)],Ds.prototype,"symbolLayers",null),h([f({type:Bl})],Ds.prototype,"styleOrigin",void 0),h([Ie("styleOrigin")],Ds.prototype,"readStyleOrigin",null),h([_e("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],Ds.prototype,"writeStyleOrigin",null),h([f({type:o1,json:{read:!1}})],Ds.prototype,"thumbnail",void 0),h([f({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],Ds.prototype,"type",void 0),Ds=h([I("esri.symbols.Symbol3D")],Ds);let $m=class extends ae{constructor(e){super(e),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};h([f({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],$m.prototype,"type",void 0),h([f({readOnly:!0})],$m.prototype,"visible",void 0),$m=h([I("esri.symbols.callouts.Callout3D")],$m);var V4;let J2=V4=class extends ae{constructor(t){super(t),this.color=new Ne("white")}clone(){return new V4({color:G(this.color)})}};h([f(ih({colorRequiredOnWrite:!0}))],J2.prototype,"color",void 0),J2=V4=h([I("esri.symbols.callouts.LineCallout3DBorder")],J2);const $_e=J2;var F4;let Nl=F4=class extends $m{constructor(t){super(t),this.type="line",this.color=new Ne([0,0,0,1]),this.size=uo(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new F4({color:G(this.color),size:this.size,border:G(this.border)})}};h([ke({line:"line"})],Nl.prototype,"type",void 0),h([f(ih({colorRequiredOnWrite:!0}))],Nl.prototype,"color",void 0),h([f({...Ua,json:{write:{isRequired:!0}}})],Nl.prototype,"size",void 0),h([f({type:$_e,json:{write:!0}})],Nl.prototype,"border",void 0),h([f({readOnly:!0})],Nl.prototype,"visible",null),Nl=F4=h([I("esri.symbols.callouts.LineCallout3D")],Nl);function g6(t){if(!t)return!1;const e=t.verticalOffset;return!(!e||e.screenLength<=0||e.maxWorldLength!=null&&e.maxWorldLength<=0)}function hJ(t){if(!t||!t.supportsCallout||!t.supportsCallout())return!1;const e=t.callout;return!!(e!=null&&e.visible)&&!!g6(t)}function _7e(t){return t.type==="point-3d"||t.type==="label-3d"}function S7e(t){return t.horizontalAlignment==="center"}const dJ={types:{key:"type",base:$m,typeMap:{line:Nl}},json:{write:!0}};var z4;let vc=z4=class extends ae{constructor(t){super(t),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new z4({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};h([f({...Ua,json:{write:{isRequired:!0}}})],vc.prototype,"screenLength",void 0),h([f({type:Number,nonNullable:!0,json:{write:!0,default:0}})],vc.prototype,"minWorldLength",void 0),h([f({type:Number,json:{write:!0}})],vc.prototype,"maxWorldLength",void 0),vc=z4=h([I("esri.symbols.support.Symbol3DVerticalOffset")],vc);var K2;const pJ=ge.ofType({base:null,key:"type",typeMap:{text:qi}});let Vo=K2=class extends Ds{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new pJ,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return hJ(this)}hasVisibleVerticalOffset(){return g6(this)}clone(){return new K2({styleOrigin:G(this.styleOrigin),symbolLayers:G(this.symbolLayers),thumbnail:G(this.thumbnail),callout:G(this.callout),verticalOffset:G(this.verticalOffset)})}static fromTextSymbol(t){return new K2({symbolLayers:new ge([qi.fromTextSymbol(t)])})}};h([f({type:vc,json:{write:!0}})],Vo.prototype,"verticalOffset",void 0),h([f(dJ)],Vo.prototype,"callout",void 0),h([f({json:{read:!1,write:!1}})],Vo.prototype,"styleOrigin",void 0),h([f({type:pJ})],Vo.prototype,"symbolLayers",void 0),h([ke({LabelSymbol3D:"label-3d"},{readOnly:!0})],Vo.prototype,"type",void 0),Vo=K2=h([I("esri.symbols.LabelSymbol3D")],Vo);var X2;const fJ=ge.ofType({base:null,key:"type",typeMap:{line:us,path:Er}}),M_e=ge.ofType({base:null,key:"type",typeMap:{line:us,path:Er}});let Yo=X2=class extends Ds{constructor(t){super(t),this.symbolLayers=new fJ,this.type="line-3d"}clone(){return new X2({styleOrigin:G(this.styleOrigin),symbolLayers:G(this.symbolLayers),thumbnail:G(this.thumbnail)})}static fromSimpleLineSymbol(t){return new X2({symbolLayers:new ge([us.fromSimpleLineSymbol(t)])})}};h([f({type:fJ,json:{type:M_e}})],Yo.prototype,"symbolLayers",void 0),h([ke({LineSymbol3D:"line-3d"},{readOnly:!0})],Yo.prototype,"type",void 0),Yo=X2=h([I("esri.symbols.LineSymbol3D")],Yo);var Q2;const mJ=ge.ofType({base:null,key:"type",typeMap:{fill:cs}});let Xl=Q2=class extends Ds{constructor(t){super(t),this.symbolLayers=new mJ,this.type="mesh-3d"}clone(){return new Q2({styleOrigin:G(this.styleOrigin),symbolLayers:G(this.symbolLayers),thumbnail:G(this.thumbnail)})}static fromSimpleFillSymbol(t){return new Q2({symbolLayers:new ge([cs.fromSimpleFillSymbol(t)])})}};h([f({type:mJ})],Xl.prototype,"symbolLayers",void 0),h([ke({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],Xl.prototype,"type",void 0),Xl=Q2=h([I("esri.symbols.MeshSymbol3D")],Xl);let wv=class extends Mi{constructor(e){super(e),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};h([ke({esriSLS:"simple-line"},{readOnly:!0})],wv.prototype,"type",void 0),h([f({type:Number,cast:ut,json:{write:!0}})],wv.prototype,"width",void 0),wv=h([I("esri.symbols.LineSymbol")],wv);var U4;let ya=U4=class extends ae{constructor(t){super(t),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(t,e,i,r){e[i]=(r==null?void 0:r.origin)==="web-map"?"arrow":t}set color(t){this._set("color",t)}readColor(t){return(t==null?void 0:t[0])!=null?[t[0],t[1],t[2],t[3]/255]:t}writeColor(t,e,i,r){(r==null?void 0:r.origin)==="web-map"||(e[i]=t)}clone(){return new U4({color:G(this.color),placement:this.placement,style:this.style})}hash(){var t;return`${this.placement}.${(t=this.color)==null?void 0:t.hash()}.${this.style}`}};h([f({type:["begin","end","begin-end"],json:{write:!0}})],ya.prototype,"placement",void 0),h([ke({"line-marker":"line-marker"},{readOnly:!0}),f({json:{origins:{"web-map":{write:!1}}}})],ya.prototype,"type",void 0),h([f({type:oJ})],ya.prototype,"style",void 0),h([_e("style")],ya.prototype,"writeStyle",null),h([f({type:Ne,value:null,json:{write:{allowNull:!0}}})],ya.prototype,"color",null),h([Ie("color")],ya.prototype,"readColor",null),h([_e("color")],ya.prototype,"writeColor",null),ya=U4=h([I("esri.symbols.LineSymbolMarker")],ya);const E_e=ya;var q4;const T5=new ct({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let Pi=q4=class extends wv{constructor(...t){super(...t),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(t,e,i,r,s,n){if(t&&typeof t!="string")return t;const o={};return t!=null&&(o.style=t),e!=null&&(o.color=e),i!=null&&(o.width=ut(i)),r!=null&&(o.cap=r),s!=null&&(o.join=s),n!=null&&(o.miterLimit=ut(n)),o}clone(){var t;return new q4({color:G(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:(t=this.marker)==null?void 0:t.clone()})}hash(){var t,e;return`${super.hash()}.${(t=this.color)==null?void 0:t.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${(e=this.marker)==null?void 0:e.hash()}`}};h([ke({esriSLS:"simple-line"},{readOnly:!0})],Pi.prototype,"type",void 0),h([f({type:T5.apiValues,json:{read:T5.read,write:T5.write}})],Pi.prototype,"style",void 0),h([f({type:["butt","round","square"],json:{write:{overridePolicy:(t,e,i)=>({enabled:t!=="round"&&(i==null?void 0:i.origin)==null})}}})],Pi.prototype,"cap",void 0),h([f({type:["miter","round","bevel"],json:{write:{overridePolicy:(t,e,i)=>({enabled:t!=="round"&&(i==null?void 0:i.origin)==null})}}})],Pi.prototype,"join",void 0),h([f({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":E_e}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],Pi.prototype,"marker",void 0),h([f({type:Number,json:{read:!1,write:!1}})],Pi.prototype,"miterLimit",void 0),Pi=q4=h([I("esri.symbols.SimpleLineSymbol")],Pi);let Mm=class extends Mi{constructor(e){super(e),this.outline=null,this.type=null}hash(){var e;return`${this.type}.${(e=this.outline)==null?void 0:e.hash()}`}};h([f({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Pi}},json:{default:null,write:!0}})],Mm.prototype,"outline",void 0),h([f({type:["simple-fill","picture-fill"],readOnly:!0})],Mm.prototype,"type",void 0),Mm=h([I("esri.symbols.FillSymbol")],Mm);function A_e(t,e,i){return e.imageData?HW({mediaType:e.contentType||"image/png",isBase64:!0,data:e.imageData}):yJ(e.url,i)}function yJ(t,e){if(!Gs(t)){const i=k_e(e);if(i)return Cw(i,"images",t)}return Ep(t,e)}function O_e(t,e,i,r){if(Mp(t)){const s=Ly(t);if(!s)return;e.contentType=s.mediaType,e.imageData=s.data,i&&i.imageData===e.imageData&&i.url&&up(i.url,e,"url",r)}else up(t,e,"url",r)}const gJ={json:{read:{source:["imageData","url"],reader:A_e},write:{writer(t,e,i,r){O_e(t,e,this.source,r)}}}},vJ={readOnly:!0,json:{read:{source:["imageData","url"],reader(t,e,i){const r={};return e.imageData&&(r.imageData=e.imageData),e.contentType&&(r.contentType=e.contentType),e.url&&(r.url=yJ(e.url,i)),r}}}};function k_e(t){var s,n;if(!t)return null;const{origin:e,layer:i}=t;if(e!=="service"&&e!=="portal-item")return null;const r=i==null?void 0:i.type;return r==="feature"||r==="stream"?(s=i.parsedUrl)==null?void 0:s.path:r==="map-image"||r==="tile"?(n=t.url)==null?void 0:n.path:null}var B4;let Is=B4=class extends Mm{constructor(...t){super(...t),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(t,e,i,r){if(t&&typeof t!="string"&&t.imageData==null)return t;const s={};return t&&(s.url=t),e&&(s.outline=e),i!=null&&(s.width=ut(i)),r!=null&&(s.height=ut(r)),s}clone(){const t=new B4({color:G(this.color),height:this.height,outline:G(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return t._set("source",G(this.source)),t}hash(){var t;return`${super.hash()}.${(t=this.color)==null?void 0:t.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};h([ke({esriPFS:"picture-fill"},{readOnly:!0})],Is.prototype,"type",void 0),h([f(gJ)],Is.prototype,"url",void 0),h([f({type:Number,json:{write:!0}})],Is.prototype,"xscale",void 0),h([f({type:Number,json:{write:!0}})],Is.prototype,"yscale",void 0),h([f({type:Number,cast:ut,json:{write:!0}})],Is.prototype,"width",void 0),h([f({type:Number,cast:ut,json:{write:!0}})],Is.prototype,"height",void 0),h([f({type:Number,cast:ut,json:{write:!0}})],Is.prototype,"xoffset",void 0),h([f({type:Number,cast:ut,json:{write:!0}})],Is.prototype,"yoffset",void 0),h([f(vJ)],Is.prototype,"source",void 0),Is=B4=h([I("esri.symbols.PictureFillSymbol")],Is);let Dl=class extends Mi{constructor(e){super(e),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};h([f({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],Dl.prototype,"angle",void 0),h([f({type:["simple-marker","picture-marker"],readOnly:!0})],Dl.prototype,"type",void 0),h([f({type:Number,cast:ut,json:{write:!0}})],Dl.prototype,"xoffset",void 0),h([f({type:Number,cast:ut,json:{write:!0}})],Dl.prototype,"yoffset",void 0),h([f({cast:t=>t==="auto"?t:ds(ut(t)),json:{write:!0}})],Dl.prototype,"size",void 0),Dl=h([I("esri.symbols.MarkerSymbol")],Dl);var G4;let ls=G4=class extends Dl{constructor(...t){super(...t),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(t,e,i){if(t&&typeof t!="string"&&t.imageData==null)return t;const r={};return t&&(r.url=t),e!=null&&(r.width=ut(e)),i!=null&&(r.height=ut(i)),r}readHeight(t,e){return e.size||t}readWidth(t,e){return e.size||t}clone(){const t=new G4({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return t._set("source",G(this.source)),t}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};h([f({json:{write:!1}})],ls.prototype,"color",void 0),h([ke({esriPMS:"picture-marker"},{readOnly:!0})],ls.prototype,"type",void 0),h([f(gJ)],ls.prototype,"url",void 0),h([f(vJ)],ls.prototype,"source",void 0),h([f({type:Number,cast:ut,json:{write:!0}})],ls.prototype,"height",void 0),h([Ie("height",["height","size"])],ls.prototype,"readHeight",null),h([f({type:Number,cast:ut,json:{write:!0}})],ls.prototype,"width",void 0),h([f({json:{write:!1}})],ls.prototype,"size",void 0),ls=G4=h([I("esri.symbols.PictureMarkerSymbol")],ls);var rd;const wJ=ge.ofType({base:null,key:"type",typeMap:{icon:yr,object:mr,text:qi}});let ps=rd=class extends Ds{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.symbolLayers=new wJ,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const t of this.symbolLayers.items)switch(t.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return hJ(this)}hasVisibleVerticalOffset(){return g6(this)}clone(){return new rd({verticalOffset:G(this.verticalOffset),callout:G(this.callout),styleOrigin:G(this.styleOrigin),symbolLayers:G(this.symbolLayers),thumbnail:G(this.thumbnail)})}static fromSimpleMarkerSymbol(t){return new rd({symbolLayers:new ge([yr.fromSimpleMarkerSymbol(t)])})}static fromPictureMarkerSymbol(t){return new rd({symbolLayers:new ge([yr.fromPictureMarkerSymbol(t)])})}static fromCIMSymbol(t){var r,s;if(((s=(r=t.data)==null?void 0:r.symbol)==null?void 0:s.type)!=="CIMPointSymbol")return null;const i=t.data.symbol;return new rd(i!=null&&i.callout?{symbolLayers:new ge([yr.fromCIMSymbol(t)]),callout:new Nl({size:.5,color:new Ne([0,0,0])}),verticalOffset:new vc({screenLength:40})}:{symbolLayers:new ge([yr.fromCIMSymbol(t)])})}static fromTextSymbol(t){return new rd({symbolLayers:new ge([qi.fromTextSymbol(t)])})}};h([f({type:vc,json:{write:!0}})],ps.prototype,"verticalOffset",void 0),h([f(dJ)],ps.prototype,"callout",void 0),h([f({type:wJ,json:{origins:{"web-scene":{write:!0}}}})],ps.prototype,"symbolLayers",void 0),h([ke({PointSymbol3D:"point-3d"},{readOnly:!0})],ps.prototype,"type",void 0),ps=rd=h([I("esri.symbols.PointSymbol3D")],ps);var bv;const bJ=ge.ofType({base:null,key:"type",typeMap:{extrude:Pl,fill:cs,icon:yr,line:us,object:mr,text:qi,water:jl}});let no=bv=class extends Ds{constructor(t){super(t),this.symbolLayers=new bJ,this.type="polygon-3d"}initialize(){const t=e=>{e.type==="line"&&Uc(se.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),e.type==="text"&&Uc(se.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const e of this.symbolLayers)t(e);this.addHandles(yp(()=>this.symbolLayers,"after-add",({item:e})=>t(e),za))}clone(){return new bv({styleOrigin:G(this.styleOrigin),symbolLayers:G(this.symbolLayers),thumbnail:G(this.thumbnail)})}static fromJSON(t){var i;const e=new bv;if(e.read(t),e.symbolLayers.length===2&&e.symbolLayers.at(0).type==="fill"&&e.symbolLayers.at(1).type==="line"){const r=e.symbolLayers.at(0),s=e.symbolLayers.at(1);!s.enabled||(i=t.symbolLayers)!=null&&i[1]&&t.symbolLayers[1].enable===!1||(r.outline={size:s.size,color:s.material!=null?s.material.color:null}),e.symbolLayers.removeAt(1)}return e}static fromSimpleFillSymbol(t){return new bv({symbolLayers:new ge([cs.fromSimpleFillSymbol(t)])})}};h([f({type:bJ,json:{write:!0}})],no.prototype,"symbolLayers",void 0),h([ke({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],no.prototype,"type",void 0),no=bv=h([I("esri.symbols.PolygonSymbol3D")],no);var H4;const $5=new ct({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let pn=H4=class extends Mm{constructor(...t){super(...t),this.color=new Ne([0,0,0,.25]),this.outline=new Pi,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(t,e,i){if(t&&typeof t!="string")return t;const r={};return t&&(r.style=t),e&&(r.outline=e),i&&(r.color=i),r}clone(){return new H4({color:G(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};h([f()],pn.prototype,"color",void 0),h([f()],pn.prototype,"outline",void 0),h([ke({esriSFS:"simple-fill"},{readOnly:!0})],pn.prototype,"type",void 0),h([f({type:$5.apiValues,json:{read:$5.read,write:$5.write}})],pn.prototype,"style",void 0),pn=H4=h([I("esri.symbols.SimpleFillSymbol")],pn);var W4;const M5=new ct({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let ir=W4=class extends Dl{constructor(...t){super(...t),this.color=new Ne([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Pi}normalizeCtorArgs(t,e,i,r){if(t&&typeof t!="string")return t;const s={};return t&&(s.style=t),e!=null&&(s.size=ut(e)),i&&(s.outline=i),r&&(s.color=r),s}writeColor(t,e){t&&this.style!=="x"&&this.style!=="cross"&&(e.color=t.toJSON()),t===null&&(e.color=null)}set path(t){this.style="path",this._set("path",t)}clone(){return new W4({angle:this.angle,color:G(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var t;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(t=this.outline)==null?void 0:t.hash()}`}};h([f()],ir.prototype,"color",void 0),h([_e("color")],ir.prototype,"writeColor",null),h([ke({esriSMS:"simple-marker"},{readOnly:!0})],ir.prototype,"type",void 0),h([f()],ir.prototype,"size",void 0),h([f({type:M5.apiValues,json:{read:M5.read,write:M5.write}})],ir.prototype,"style",void 0),h([f({type:String,json:{write:!0}})],ir.prototype,"path",null),h([f({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Pi}},json:{default:null,write:!0}})],ir.prototype,"outline",void 0),ir=W4=h([I("esri.symbols.SimpleMarkerSymbol")],ir);var Z4;let Et=Z4=class extends Mi{constructor(...t){super(...t),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new Yn,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(t,e,i){if(t&&typeof t!="string")return t;const r={};return t&&(r.text=t),e&&(r.font=e),i&&(r.color=i),r}writeLineWidth(t,e,i,r){r&&typeof r!="string"?r.origin:e[i]=t}castLineWidth(t){return ut(t)}writeLineHeight(t,e,i,r){r&&typeof r!="string"?r.origin:e[i]=t}clone(){return new Z4({angle:this.angle,backgroundColor:G(this.backgroundColor),borderLineColor:G(this.borderLineColor),borderLineSize:this.borderLineSize,color:G(this.color),font:this.font&&this.font.clone(),haloColor:G(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var t,e,i;return`${(t=this.backgroundColor)==null?void 0:t.hash()}.${this.borderLineColor}.${this.borderLineSize}.${(e=this.color)==null?void 0:e.hash()}.${this.font&&this.font.hash()}.${(i=this.haloColor)==null?void 0:i.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};h([f({type:Ne,json:{write:!0}})],Et.prototype,"backgroundColor",void 0),h([f({type:Ne,json:{write:!0}})],Et.prototype,"borderLineColor",void 0),h([f({type:Number,json:{write:!0},cast:ut})],Et.prototype,"borderLineSize",void 0),h([f({type:Yn,json:{write:!0}})],Et.prototype,"font",void 0),h([f({...lJ,json:{write:!0}})],Et.prototype,"horizontalAlignment",void 0),h([f({type:Boolean,json:{write:!0}})],Et.prototype,"kerning",void 0),h([f({type:Ne,json:{write:!0}})],Et.prototype,"haloColor",void 0),h([f({type:Number,cast:ut,json:{write:!0}})],Et.prototype,"haloSize",void 0),h([f({type:Boolean,json:{write:!0}})],Et.prototype,"rightToLeft",void 0),h([f({type:Boolean,json:{write:!0}})],Et.prototype,"rotated",void 0),h([f({type:String,json:{write:!0}})],Et.prototype,"text",void 0),h([ke({esriTS:"text"},{readOnly:!0})],Et.prototype,"type",void 0),h([f({...uJ,json:{write:!0}})],Et.prototype,"verticalAlignment",void 0),h([f({type:Number,cast:ut,json:{write:!0}})],Et.prototype,"xoffset",void 0),h([f({type:Number,cast:ut,json:{write:!0}})],Et.prototype,"yoffset",void 0),h([f({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],Et.prototype,"angle",void 0),h([f({type:Number,json:{write:!0}})],Et.prototype,"width",void 0),h([f({type:Number})],Et.prototype,"lineWidth",void 0),h([_e("lineWidth")],Et.prototype,"writeLineWidth",null),h([Ot("lineWidth")],Et.prototype,"castLineWidth",null),h([f(aJ)],Et.prototype,"lineHeight",void 0),h([_e("lineHeight")],Et.prototype,"writeLineHeight",null),Et=Z4=h([I("esri.symbols.TextSymbol")],Et);var Y4;let Or=Y4=class extends Mi{constructor(t){super(t),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const t=this.portal!=null?this.portal:le.getDefault(),e=t.user?t.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${e}:${t.url}`}read(t,e){this.portal=e==null?void 0:e.portal,super.read(t,e)}clone(){return new Y4({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(t){return this._fetchSymbol(t)}async fetchCIMSymbol(t){aB(se.getLogger(this),"WebStyleSymbol.fetchCIMSymbol is deprecated in favour of WebStyleSymbol.fetchSymbol which now supports both web and cim symbology",{version:"4.33",replacement:"WebStyleSymbol.fetchSymbol",see:"https://arcg.is/0CXPTr#fetchSymbol",warnOnce:!0});const e=await this._fetchSymbol({...t,acceptedFormats:["cim"]});if((e==null?void 0:e.type)!=="cim")throw new B("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return e}async _fetchSymbol(t){const e=t!=null?t.cache:null,i=e?this._fetchCacheKey:null;if(e!=null){const o=i&&e.get(i);if(o)return o.clone()}const{resolveWebStyleSymbol:r}=await te(()=>import("./webStyleSymbolUtils-kle_gY8U.js"),__vite__mapDeps([177,178]));Gt(t);const s=r(this,{portal:this.portal},t);s.catch(o=>{se.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",o)});const n=await s;return e!=null&&e.set(i,n.clone()),n}};h([f({json:{write:!1}})],Or.prototype,"color",void 0),h([f({type:String,json:{write:!0}})],Or.prototype,"styleName",void 0),h([f({type:le,json:{write:!1}})],Or.prototype,"portal",void 0),h([f({type:String,json:{read:wT,write:up}})],Or.prototype,"styleUrl",void 0),h([f({type:o1,json:{read:!1}})],Or.prototype,"thumbnail",void 0),h([f({type:String,json:{write:!0}})],Or.prototype,"name",void 0),h([ke({styleSymbolReference:"web-style"},{readOnly:!0})],Or.prototype,"type",void 0),h([f()],Or.prototype,"_fetchCacheKey",null),Or=Y4=h([I("esri.symbols.WebStyleSymbol")],Or);function M7e(t){if(!t)return!1;switch(t.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function _J(t){switch(t==null?void 0:t.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const Od={base:Mi,key:"type",typeMap:{"simple-fill":pn,"picture-fill":Is,"picture-marker":ls,"simple-line":Pi,"simple-marker":ir,text:Et,"label-3d":Vo,"line-3d":Yo,"mesh-3d":Xl,"point-3d":ps,"polygon-3d":no,"web-style":Or,cim:Hr},errorContext:"symbol"},E7e={base:Mi,key:"type",typeMap:{"picture-marker":ls,"simple-marker":ir,"point-3d":ps,cim:Hr},errorContext:"symbol"},A7e={base:Mi,key:"type",typeMap:{"simple-line":Pi,"line-3d":Yo,cim:Hr},errorContext:"symbol"},O7e={base:Mi,key:"type",typeMap:{"simple-fill":pn,"picture-fill":Is,"polygon-3d":no,cim:Hr},errorContext:"symbol"},C_e={base:Mi,key:"type",typeMap:{"picture-marker":ls,"simple-marker":ir,text:Et,"web-style":Or,cim:Hr},errorContext:"symbol"},R_e=hg({types:Od}),SJ={base:Mi,key:"type",typeMap:{"simple-fill":pn,"picture-fill":Is,"picture-marker":ls,"simple-line":Pi,"simple-marker":ir,text:Et,"line-3d":Yo,"mesh-3d":Xl,"point-3d":ps,"polygon-3d":no,"web-style":Or,cim:Hr},errorContext:"symbol"},I_e={base:Mi,key:"type",typeMap:{text:Et,"label-3d":Vo},errorContext:"symbol"},Z7={base:Mi,key:"type",typeMap:{"line-3d":Yo,"mesh-3d":Xl,"point-3d":ps,"polygon-3d":no,"web-style":Or,cim:Hr},errorContext:"symbol"},P_e={base:Mi,key:"type",typeMap:{"label-3d":Vo},errorContext:"symbol"},xJ=Bc(Od);var J4;function j_e(t){if(!t)return null;const e={};for(const i in t){const r=Jc(t[i]);r&&(e[i]=r)}return Object.keys(e).length!==0?e:null}function N_e(t){if(t==null)return null;const e={};for(const i in t){const r=t[i];r&&(e[i]=r.toJSON())}return Object.keys(e).length!==0?e:null}var sy;let er=(sy=class extends rt(ae){constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:y2(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&Zce(se.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const i=this._get("aggregateGeometries");JSON.stringify(i)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const i=this._get("attributes");i!==e&&(this._set("attributes",e),this._notifyLayer("attributes",i,e))}set geometry(e){const i=this._get("geometry");i!==e&&(this._set("geometry",e),(e==null?void 0:e.type)!=="mesh"&&this._notifyLayer("geometry",i,e))}set popupTemplate(e){const i=this._get("popupTemplate");i!==e&&(this._set("popupTemplate",e),this._notifyLayer("popupTemplate",i,e))}set symbol(e){const i=this._get("symbol");i!==e&&(this._set("symbol",e),this._notifyLayer("symbol",i,e))}get version(){return this._version}set visible(e){const i=this._get("visible");i!==e&&(this._set("visible",e),this._notifyLayer("visible",i,e))}cloneShallow(){return new J4({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const i=Ewe(this.origin);if(i)return i.popupTemplate??(e?i.defaultPopupTemplate:null)??null;const r=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const s of[r,this.sourceLayer,this.layer])if(s&&typeof s=="object"){if("popupTemplate"in s&&s.popupTemplate)return s.popupTemplate;if(e&&"defaultPopupTemplate"in s&&s.defaultPopupTemplate!=null)return s.defaultPopupTemplate}return null}getAttribute(e){var i;return(i=this.attributes)==null?void 0:i[e]}setAttribute(e,i){if(this.attributes){const r=this.getAttribute(e);this.attributes[e]=i,this._notifyLayer("attributes",r,i,e)}else this.attributes={[e]:i}}getObjectId(){const e=w7(this.origin);if(e)return z7(this,e);const i=this.sourceLayer??this.layer;return i?z7(this,i):null}getGlobalId(){const e=w7(this.origin);if(e!=null&&e.globalIdField)return this.getAttribute(e.globalIdField);const i=this.sourceLayer??this.layer;return i&&"globalIdField"in i&&i.globalIdField?this.getAttribute(i.globalIdField):null}toJSON(){var e;return{aggregateGeometries:N_e(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:L1(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:((e=this.popupTemplate)==null?void 0:e.toJSON())??null}}notifyMeshTransformChanged(e={}){const{geometry:i}=this;if((i==null?void 0:i.type)==="mesh"){const r={origin:i.origin,transform:i.transform};this._notifyLayer("origin-transform",r,r,e.action)}}_notifyLayer(e,i,r,s){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const n={graphic:this,property:e,oldValue:i,newValue:r};e==="origin-transform"&&(n.action=s),e==="attributes"&&(n.attributeName=s),this.layer.graphicChanged(n)}_watchMeshGeometryChanges(){this.addHandles([Sn(()=>{var e,i;return((e=this.geometry)==null?void 0:e.type)==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:(i=this.geometry.transform)==null?void 0:i.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0},({localMatrix:e,origin:i})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===i||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=i,this.notifyMeshTransformChanged())}),Sn(()=>{var e;return((e=this.geometry)==null?void 0:e.type)==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0},()=>{var i;const e=this.geometry;(e==null?void 0:e.type)==="mesh"&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=(i=e.transform)==null?void 0:i.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(e,i)=>e===i,sync:!0})])}},J4=sy,sy);h([f({value:null,json:{read:j_e}})],er.prototype,"aggregateGeometries",null),h([f({value:null})],er.prototype,"attributes",null),h([f({value:null,types:Nw,json:{read:Jc}})],er.prototype,"geometry",null),h([f({type:Boolean})],er.prototype,"isAggregate",void 0),h([f({clonable:!1})],er.prototype,"layer",void 0),h([f({clonable:"reference"})],er.prototype,"origin",void 0),h([f({type:gg,value:null})],er.prototype,"popupTemplate",null),h([f({clonable:"reference"})],er.prototype,"sourceLayer",void 0),h([f({value:null,types:Od})],er.prototype,"symbol",null),h([f({clonable:!1,json:{read:!1,write:!1}})],er.prototype,"_version",void 0),h([f({type:Boolean,value:!0})],er.prototype,"visible",null),er=J4=h([I("esri.Graphic")],er);var K4;let kd=K4=class extends ae{constructor(t){super(t),this.name=null,this.code=null}clone(){return new K4({name:this.name,code:this.code})}};h([f({type:String,json:{write:{isRequired:!0}}})],kd.prototype,"name",void 0),h([f({type:[String,Number],json:{write:{isRequired:!0}}})],kd.prototype,"code",void 0),kd=K4=h([I("esri.layers.support.CodedValue")],kd);const D_e=new ct({inherited:"inherited",codedValue:"coded-value",range:"range"});let $c=class extends ae{constructor(e){super(e),this.name=null,this.type=null}};h([f({type:String,json:{write:!0}})],$c.prototype,"name",void 0),h([ke(D_e),f({json:{write:{isRequired:!0}}})],$c.prototype,"type",void 0),$c=h([I("esri.layers.support.Domain")],$c);var X4,ny;let Mc=(ny=class extends $c{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let i=null;if(this.codedValues){const r=String(e);this.codedValues.some(s=>(String(s.code)===r&&(i=s.name),!!i))}return i}clone(){return new X4({codedValues:G(this.codedValues),name:this.name})}},X4=ny,ny);h([f({type:[kd],json:{write:{isRequired:!0}}})],Mc.prototype,"codedValues",void 0),h([ke({codedValue:"coded-value"})],Mc.prototype,"type",void 0),Mc=X4=h([I("esri.layers.support.CodedValueDomain")],Mc);var Q4,oy;let a1=(oy=class extends $c{constructor(e){super(e),this.type="inherited"}clone(){return new Q4}},Q4=oy,oy);h([ke({inherited:"inherited"})],a1.prototype,"type",void 0),a1=Q4=h([I("esri.layers.support.InheritedDomain")],a1);var eO,ay;let wd=(ay=class extends $c{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new eO({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}},eO=ay,ay);h([f({json:{type:[Number],read:{source:"range",reader:(t,e)=>{var i;return(i=e.range)==null?void 0:i[1]}},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(t,e,i){e[i]=[this.minValue||0,t]},isRequired:!0}}})],wd.prototype,"maxValue",void 0),h([f({json:{type:[Number],read:{source:"range",reader:(t,e)=>{var i;return(i=e.range)==null?void 0:i[0]}},write:{target:"range",writer(t,e,i){e[i]=[t,this.maxValue||0]},isRequired:!0}}})],wd.prototype,"minValue",void 0),h([ke({range:"range"})],wd.prototype,"type",void 0),wd=eO=h([I("esri.layers.support.RangeDomain")],wd);const L_e={key:"type",base:$c,typeMap:{range:wd,"coded-value":Mc,inherited:a1}};function V_e(t){if(!(t!=null&&t.type))return null;switch(t.type){case"range":return wd.fromJSON(t);case"codedValue":return Mc.fromJSON(t);case"inherited":return a1.fromJSON(t)}return null}const F_e=new ct({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});var tO;const z_e=new ct({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",currency:"currency",dateAndTime:"date-and-time",description:"description",emailAddress:"email-address",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",phoneNumber:"phone-number",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});var ly;let Qi=(ly=class extends ae{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:i}){let r=null;try{r=i?JSON.parse(i):null}catch{}return(r==null?void 0:r.value)??null}readValueType(e,{description:i}){let r=null;try{r=i?JSON.parse(i):null}catch{}return r?z_e.fromJSON(r.fieldValueType):null}clone(){var e;return new tO({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:((e=this.domain)==null?void 0:e.clone())??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}},tO=ly,ly);h([f({type:String,json:{write:!0}})],Qi.prototype,"alias",void 0),h([f({type:[String,Number],json:{write:{allowNull:!0}}})],Qi.prototype,"defaultValue",void 0),h([f()],Qi.prototype,"description",void 0),h([Ie("description")],Qi.prototype,"readDescription",null),h([f({types:L_e,json:{read:{reader:V_e},write:!0}})],Qi.prototype,"domain",void 0),h([f({type:Boolean,json:{write:!0}})],Qi.prototype,"editable",void 0),h([f({type:ot,json:{write:{overridePolicy:t=>({enabled:Number.isFinite(t)})}}})],Qi.prototype,"length",void 0),h([f({type:String,json:{write:!0}})],Qi.prototype,"name",void 0),h([f({type:Boolean,json:{write:!0}})],Qi.prototype,"nullable",void 0),h([ke(F_e)],Qi.prototype,"type",void 0),h([f()],Qi.prototype,"valueType",void 0),h([Ie("valueType",["description"])],Qi.prototype,"readValueType",null),h([f({type:Boolean,json:{read:!1}})],Qi.prototype,"visible",void 0),Qi=tO=h([I("esri.layers.support.Field")],Qi);var iO;const rO=new ct({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let pr=iO=class extends ae{constructor(t){super(t),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(t,e){return this.readFeaturesWithClass(t,e,er)}writeGeometryType(t,e,i,r){if(t)return void rO.write(t,e,i,r);const{features:s}=this;if(s){for(const n of s)if((n==null?void 0:n.geometry)!=null)return void rO.write(n.geometry.type,e,i,r)}}readQueryGeometry(t,e){if(!t)return null;const i=!!t.spatialReference,r=Jc(t);return r&&!i&&e.spatialReference&&(r.spatialReference=Se.fromJSON(e.spatialReference)),r}writeSpatialReference(t,e){if(t)return void(e.spatialReference=t.toJSON());const{features:i}=this;if(i){for(const r of i)if(r&&r.geometry!=null&&r.geometry.spatialReference)return void(e.spatialReference=r.geometry.spatialReference.toJSON())}}clone(){return new iO(this.cloneProperties())}cloneProperties(){return G({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(t){const e=this.write();if(e.features&&Array.isArray(t)&&t.length>0)for(let i=0;i<e.features.length;i++){const r=e.features[i];if(r.geometry){const s=t==null?void 0:t[i];r.geometry=(s==null?void 0:s.toJSON())||r.geometry}}return e}quantize(t){const{scale:[e,i],translate:[r,s]}=t,n=d=>Math.round((d-r)/e),o=d=>Math.round((s-d)/i),l=this.features,c=this._getQuantizationFunction(this.geometryType,n,o);for(let d=0,m=l.length;d<m;d++)c!=null&&c(l[d].geometry)||(l.splice(d,1),d--,m--);return this.transform=t,this}unquantize(){var w,_;const{geometryType:t,features:e,transform:i}=this;if(!i)return this;const{translate:[r,s],scale:[n,o]}=i,l=x=>x*n+r,c=x=>s-x*o;let d=null,m=null;if(this.hasZ&&((w=i==null?void 0:i.scale)==null?void 0:w[2])!=null){const{translate:[,,x],scale:[,,T]}=i;d=M=>M*T+x}if(this.hasM&&((_=i==null?void 0:i.scale)==null?void 0:_[3])!=null){const{translate:[,,,x],scale:[,,,T]}=i;m=M=>M==null?M:M*T+x}const v=this._getHydrationFunction(t,l,c,d,m);for(const{geometry:x}of e)x!=null&&v&&v(x);return this.transform=null,this}readFeaturesWithClass(t,e,i){var n;const r=Se.fromJSON(e.spatialReference),s=[];for(let o=0;o<t.length;o++){const l=t[o],c=i.fromJSON(l),d=(n=l.geometry)==null?void 0:n.spatialReference;c.geometry==null||d||(c.geometry.spatialReference=r);const m=l.aggregateGeometries,v=c.aggregateGeometries;if(m&&v!=null)for(const w in v){const _=v[w],x=m[w],T=x==null?void 0:x.spatialReference;_==null||T||(_.spatialReference=r)}s.push(c)}return s}_quantizePoints(t,e,i){let r,s;const n=[];for(let o=0,l=t.length;o<l;o++){const c=t[o];if(o>0){const d=e(c[0]),m=i(c[1]);d===r&&m===s||(n.push([d-r,m-s]),r=d,s=m)}else r=e(c[0]),s=i(c[1]),n.push([r,s])}return n.length>0?n:null}_getQuantizationFunction(t,e,i){return t==="point"?r=>(r.x=e(r.x),r.y=i(r.y),r):t==="polyline"||t==="polygon"?r=>{const s=Lm(r)?r.rings:r.paths,n=[];for(let o=0,l=s.length;o<l;o++){const c=s[o],d=this._quantizePoints(c,e,i);d&&n.push(d)}return n.length>0?(Lm(r)?r.rings=n:r.paths=n,r):null}:t==="multipoint"?r=>{const s=this._quantizePoints(r.points,e,i);return s&&s.length>0?(r.points=s,r):null}:t==="extent"?r=>r:null}_getHydrationFunction(t,e,i,r,s){return t==="point"?n=>{n.x=e(n.x),n.y=i(n.y),r&&(n.z=r(n.z))}:t==="polyline"||t==="polygon"?n=>{const o=Lm(n)?n.rings:n.paths;let l,c;for(let d=0,m=o.length;d<m;d++){const v=o[d];for(let w=0,_=v.length;w<_;w++){const x=v[w];w>0?(l+=x[0],c+=x[1]):(l=x[0],c=x[1]),x[0]=e(l),x[1]=i(c)}}if(r&&s)for(let d=0,m=o.length;d<m;d++){const v=o[d];for(let w=0,_=v.length;w<_;w++){const x=v[w];x[2]=r(x[2]),x[3]=s(x[3])}}else if(r)for(let d=0,m=o.length;d<m;d++){const v=o[d];for(let w=0,_=v.length;w<_;w++){const x=v[w];x[2]=r(x[2])}}else if(s)for(let d=0,m=o.length;d<m;d++){const v=o[d];for(let w=0,_=v.length;w<_;w++){const x=v[w];x[2]=s(x[2])}}}:t==="extent"?n=>{n.xmin=e(n.xmin),n.ymin=i(n.ymin),n.xmax=e(n.xmax),n.ymax=i(n.ymax),r&&n.zmax!=null&&n.zmin!=null&&(n.zmax=r(n.zmax),n.zmin=r(n.zmin)),s&&n.mmax!=null&&n.mmin!=null&&(n.mmax=s(n.mmax),n.mmin=s(n.mmin))}:t==="multipoint"?n=>{const o=n.points;let l,c;for(let d=0,m=o.length;d<m;d++){const v=o[d];d>0?(l+=v[0],c+=v[1]):(l=v[0],c=v[1]),v[0]=e(l),v[1]=i(c)}if(r&&s)for(let d=0,m=o.length;d<m;d++){const v=o[d];v[2]=r(v[2]),v[3]=s(v[3])}else if(r)for(let d=0,m=o.length;d<m;d++){const v=o[d];v[2]=r(v[2])}else if(s)for(let d=0,m=o.length;d<m;d++){const v=o[d];v[2]=s(v[2])}}:null}};h([f({type:String,json:{write:!0}})],pr.prototype,"displayFieldName",void 0),h([f({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],pr.prototype,"exceededTransferLimit",void 0),h([f({type:[er],json:{write:!0}})],pr.prototype,"features",void 0),h([Ie("features")],pr.prototype,"readFeatures",null),h([f({type:[Qi],json:{write:!0}})],pr.prototype,"fields",void 0),h([f({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:rO.read}}})],pr.prototype,"geometryType",void 0),h([_e("geometryType")],pr.prototype,"writeGeometryType",null),h([f({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],pr.prototype,"hasM",void 0),h([f({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],pr.prototype,"hasZ",void 0),h([f({types:Nw,json:{write:!0}})],pr.prototype,"queryGeometry",void 0),h([Ie("queryGeometry")],pr.prototype,"readQueryGeometry",null),h([f({type:Se,json:{write:!0}})],pr.prototype,"spatialReference",void 0),h([_e("spatialReference")],pr.prototype,"writeSpatialReference",null),h([f({json:{write:!0}})],pr.prototype,"transform",void 0),pr=iO=h([I("esri.rest.support.FeatureSet")],pr),pr.prototype.toJSON.isDefaultToJSON=!0;let sd=class extends _g{constructor(){super(...arguments),this.type="geojson",this.refresh=KC(async e=>{await this.load();const{extent:i,timeExtent:r}=await this._connection.invoke("refresh",e);return this.sourceJSON.extent=i,r&&(this.sourceJSON.timeInfo.timeExtent=[r.start,r.end]),{dataChanged:!0,updates:{extent:this.sourceJSON.extent,timeInfo:this.sourceJSON.timeInfo}}})}load(e){const i=e!=null?e.signal:null;return this.addResolvingPromise(this._startWorker(i)),Promise.resolve(this)}destroy(){var e;(e=this._connection)==null||e.close(),this._connection=null}applyEdits(e){return this.load().then(()=>this._applyEdits(e))}openPorts(){return this.load().then(()=>this._connection.openPorts())}queryFeatures(e,i={}){return this.load(i).then(()=>this._connection.invoke("queryFeatures",e?e.toJSON():null,i)).then(r=>pr.fromJSON(r))}queryFeaturesJSON(e,i={}){return this.load(i).then(()=>this._connection.invoke("queryFeatures",e?e.toJSON():null,i))}queryFeatureCount(e,i={}){return this.load(i).then(()=>this._connection.invoke("queryFeatureCount",e?e.toJSON():null,i))}queryObjectIds(e,i={}){return this.load(i).then(()=>this._connection.invoke("queryObjectIds",e?e.toJSON():null,i))}queryExtent(e,i={}){return this.load(i).then(()=>this._connection.invoke("queryExtent",e?e.toJSON():null,i)).then(r=>({count:r.count,extent:Ye.fromJSON(r.extent)}))}querySnapping(e,i={}){return this.load(i).then(()=>this._connection.invoke("querySnapping",e,i))}async queryAttributeBins(e,i={}){return await this.load(),this._connection.invoke("queryAttributeBins",e==null?void 0:e.toJSON(),i)}_applyEdits(e){if(!this._connection)throw new B("geojson-layer-source:edit-failure","Memory source not loaded");const i=this.layer.objectIdField,r=[],s=[],n=[];if(e.addFeatures)for(const o of e.addFeatures)r.push(this._serializeFeature(o));if(e.deleteFeatures)for(const o of e.deleteFeatures)"objectId"in o&&o.objectId!=null?s.push(o.objectId):"attributes"in o&&o.attributes[i]!=null&&s.push(o.attributes[i]);if(e.updateFeatures)for(const o of e.updateFeatures)n.push(this._serializeFeature(o));return this._connection.invoke("applyEdits",{adds:r,updates:n,deletes:s}).then(({extent:o,timeExtent:l,featureEditResults:c})=>(this.sourceJSON.extent=o,l&&(this.sourceJSON.timeInfo.timeExtent=[l.start,l.end]),this._createEditsResult(c)))}_createEditsResult(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(e){const i=e.success===!0?null:e.error||{code:void 0,description:""};return{objectId:e.objectId,globalId:e.globalId,error:i?new B("geojson-layer-source:edit-failure",i.description,{code:i.code}):null}}_serializeFeature(e){const{attributes:i}=e,r=this._geometryForSerialization(e);return r?{geometry:r.toJSON(),attributes:i}:{attributes:i}}_geometryForSerialization(e){const{geometry:i}=e;return i==null?null:i.type==="mesh"||i.type==="extent"?Qt.fromExtent(i.extent):i}async _startWorker(e){this._connection=await ybe("GeoJSONSourceWorker",{strategy:q("feature-layers-workers")?"dedicated":"local",signal:e,registryTarget:this});const{fields:i,spatialReference:r,hasZ:s,geometryType:n,objectIdField:o,url:l,timeInfo:c,customParameters:d}=this.layer,m=this.layer.originOf("spatialReference")==="defaults",v={url:l,customParameters:d,fields:i&&i.map(_=>_.toJSON()),geometryType:o6.toJSON(n),hasZ:s,objectIdField:o,timeInfo:c?c.toJSON():null,spatialReference:m?null:r&&r.toJSON()},w=await this._connection.invoke("load",v,{signal:e});for(const _ of w.warnings)se.getLogger(this.layer).warn("#load()",`${_.message} (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{warning:_});w.featureErrors.length&&se.getLogger(this.layer).warn("#load()",`Encountered ${w.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{errors:w.featureErrors}),this.sourceJSON=w.layerDefinition,this.capabilities=Mbe(this.sourceJSON.hasZ,!0)}};h([f()],sd.prototype,"capabilities",void 0),h([f()],sd.prototype,"type",void 0),h([f({constructOnly:!0})],sd.prototype,"layer",void 0),h([f()],sd.prototype,"sourceJSON",void 0),sd=h([I("esri.layers.graphics.sources.GeoJSONSource")],sd);const ji=(t=>t)(["operational-layers","basemap-base-layers","basemap-ground-layers","ground"]);function RT(){const t=new Float32Array(16);return t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function U_e(t){const e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function q_e(t,e,i,r,s,n,o,l,c,d,m,v,w,_,x,T){const M=new Float32Array(16);return M[0]=t,M[1]=e,M[2]=i,M[3]=r,M[4]=s,M[5]=n,M[6]=o,M[7]=l,M[8]=c,M[9]=d,M[10]=m,M[11]=v,M[12]=w,M[13]=_,M[14]=x,M[15]=T,M}const B_e=RT();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:B_e,clone:U_e,create:RT,fromValues:q_e},Symbol.toStringTag,{value:"Module"}));function TJ(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function sh(t,e,i,r,s,n,o,l,c,d,m,v,w,_,x,T,M){return t[0]=e,t[1]=i,t[2]=r,t[3]=s,t[4]=n,t[5]=o,t[6]=l,t[7]=c,t[8]=d,t[9]=m,t[10]=v,t[11]=w,t[12]=_,t[13]=x,t[14]=T,t[15]=M,t}function IT(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function nh(t,e){if(t===e){const i=e[1],r=e[2],s=e[3],n=e[6],o=e[7],l=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=i,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=n,t[11]=e[14],t[12]=s,t[13]=o,t[14]=l}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function G_e(t,e){return $J(t,e)||IT(t),t}function $J(t,e){const i=e[0],r=e[1],s=e[2],n=e[3],o=e[4],l=e[5],c=e[6],d=e[7],m=e[8],v=e[9],w=e[10],_=e[11],x=e[12],T=e[13],M=e[14],O=e[15],C=i*l-r*o,R=i*c-s*o,N=i*d-n*o,j=r*c-s*l,F=r*d-n*l,ee=s*d-n*c,X=m*T-v*x,J=m*M-w*x,re=m*O-_*x,fe=v*M-w*T,ye=v*O-_*T,Xe=w*O-_*M;let Ce=C*Xe-R*ye+N*fe+j*re-F*J+ee*X;return Ce?(Ce=1/Ce,t[0]=(l*Xe-c*ye+d*fe)*Ce,t[1]=(s*ye-r*Xe-n*fe)*Ce,t[2]=(T*ee-M*F+O*j)*Ce,t[3]=(w*F-v*ee-_*j)*Ce,t[4]=(c*re-o*Xe-d*J)*Ce,t[5]=(i*Xe-s*re+n*J)*Ce,t[6]=(M*N-x*ee-O*R)*Ce,t[7]=(m*ee-w*N+_*R)*Ce,t[8]=(o*ye-l*re+d*X)*Ce,t[9]=(r*re-i*ye-n*X)*Ce,t[10]=(x*F-T*N+O*C)*Ce,t[11]=(v*N-m*F-_*C)*Ce,t[12]=(l*J-o*fe-c*X)*Ce,t[13]=(i*fe-r*J+s*X)*Ce,t[14]=(T*R-x*j-M*C)*Ce,t[15]=(m*j-v*R+w*C)*Ce,t):null}function H_e(t,e){const i=e[0],r=e[1],s=e[2],n=e[3],o=e[4],l=e[5],c=e[6],d=e[7],m=e[8],v=e[9],w=e[10],_=e[11],x=e[12],T=e[13],M=e[14],O=e[15];return t[0]=l*(w*O-_*M)-v*(c*O-d*M)+T*(c*_-d*w),t[1]=-(r*(w*O-_*M)-v*(s*O-n*M)+T*(s*_-n*w)),t[2]=r*(c*O-d*M)-l*(s*O-n*M)+T*(s*d-n*c),t[3]=-(r*(c*_-d*w)-l*(s*_-n*w)+v*(s*d-n*c)),t[4]=-(o*(w*O-_*M)-m*(c*O-d*M)+x*(c*_-d*w)),t[5]=i*(w*O-_*M)-m*(s*O-n*M)+x*(s*_-n*w),t[6]=-(i*(c*O-d*M)-o*(s*O-n*M)+x*(s*d-n*c)),t[7]=i*(c*_-d*w)-o*(s*_-n*w)+m*(s*d-n*c),t[8]=o*(v*O-_*T)-m*(l*O-d*T)+x*(l*_-d*v),t[9]=-(i*(v*O-_*T)-m*(r*O-n*T)+x*(r*_-n*v)),t[10]=i*(l*O-d*T)-o*(r*O-n*T)+x*(r*d-n*l),t[11]=-(i*(l*_-d*v)-o*(r*_-n*v)+m*(r*d-n*l)),t[12]=-(o*(v*M-w*T)-m*(l*M-c*T)+x*(l*w-c*v)),t[13]=i*(v*M-w*T)-m*(r*M-s*T)+x*(r*w-s*v),t[14]=-(i*(l*M-c*T)-o*(r*M-s*T)+x*(r*c-s*l)),t[15]=i*(l*w-c*v)-o*(r*w-s*v)+m*(r*c-s*l),t}function W_e(t){const e=t[0],i=t[1],r=t[2],s=t[3],n=t[4],o=t[5],l=t[6],c=t[7],d=t[8],m=t[9],v=t[10],w=t[11],_=t[12],x=t[13],T=t[14],M=t[15];return(e*o-i*n)*(v*M-w*T)-(e*l-r*n)*(m*M-w*x)+(e*c-s*n)*(m*T-v*x)+(i*l-r*o)*(d*M-w*_)-(i*c-s*o)*(d*T-v*_)+(r*c-s*l)*(d*x-m*_)}function MJ(t,e,i){const r=e[0],s=e[1],n=e[2],o=e[3],l=e[4],c=e[5],d=e[6],m=e[7],v=e[8],w=e[9],_=e[10],x=e[11],T=e[12],M=e[13],O=e[14],C=e[15];let R=i[0],N=i[1],j=i[2],F=i[3];return t[0]=R*r+N*l+j*v+F*T,t[1]=R*s+N*c+j*w+F*M,t[2]=R*n+N*d+j*_+F*O,t[3]=R*o+N*m+j*x+F*C,R=i[4],N=i[5],j=i[6],F=i[7],t[4]=R*r+N*l+j*v+F*T,t[5]=R*s+N*c+j*w+F*M,t[6]=R*n+N*d+j*_+F*O,t[7]=R*o+N*m+j*x+F*C,R=i[8],N=i[9],j=i[10],F=i[11],t[8]=R*r+N*l+j*v+F*T,t[9]=R*s+N*c+j*w+F*M,t[10]=R*n+N*d+j*_+F*O,t[11]=R*o+N*m+j*x+F*C,R=i[12],N=i[13],j=i[14],F=i[15],t[12]=R*r+N*l+j*v+F*T,t[13]=R*s+N*c+j*w+F*M,t[14]=R*n+N*d+j*_+F*O,t[15]=R*o+N*m+j*x+F*C,t}function Z_e(t,e,i){const r=i[0],s=i[1],n=i[2];if(e===t)t[12]=e[0]*r+e[4]*s+e[8]*n+e[12],t[13]=e[1]*r+e[5]*s+e[9]*n+e[13],t[14]=e[2]*r+e[6]*s+e[10]*n+e[14],t[15]=e[3]*r+e[7]*s+e[11]*n+e[15];else{const o=e[0],l=e[1],c=e[2],d=e[3],m=e[4],v=e[5],w=e[6],_=e[7],x=e[8],T=e[9],M=e[10],O=e[11];t[0]=o,t[1]=l,t[2]=c,t[3]=d,t[4]=m,t[5]=v,t[6]=w,t[7]=_,t[8]=x,t[9]=T,t[10]=M,t[11]=O,t[12]=o*r+m*s+x*n+e[12],t[13]=l*r+v*s+T*n+e[13],t[14]=c*r+w*s+M*n+e[14],t[15]=d*r+_*s+O*n+e[15]}return t}function Y_e(t,e,i){const r=i[0],s=i[1],n=i[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*s,t[5]=e[5]*s,t[6]=e[6]*s,t[7]=e[7]*s,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function J_e(t,e,i,r){let s=r[0],n=r[1],o=r[2],l=Math.sqrt(s*s+n*n+o*o);if(l<=ws())return void TJ(t,e);l=1/l,s*=l,n*=l,o*=l;const c=Math.sin(i),d=Math.cos(i),m=1-d,v=e[0],w=e[1],_=e[2],x=e[3],T=e[4],M=e[5],O=e[6],C=e[7],R=e[8],N=e[9],j=e[10],F=e[11],ee=s*s*m+d,X=n*s*m+o*c,J=o*s*m-n*c,re=s*n*m-o*c,fe=n*n*m+d,ye=o*n*m+s*c,Xe=s*o*m+n*c,Ce=n*o*m-s*c,pt=o*o*m+d;t[0]=v*ee+T*X+R*J,t[1]=w*ee+M*X+N*J,t[2]=_*ee+O*X+j*J,t[3]=x*ee+C*X+F*J,t[4]=v*re+T*fe+R*ye,t[5]=w*re+M*fe+N*ye,t[6]=_*re+O*fe+j*ye,t[7]=x*re+C*fe+F*ye,t[8]=v*Xe+T*Ce+R*pt,t[9]=w*Xe+M*Ce+N*pt,t[10]=_*Xe+O*Ce+j*pt,t[11]=x*Xe+C*Ce+F*pt,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15])}function K_e(t,e,i){const r=Math.sin(i),s=Math.cos(i),n=e[4],o=e[5],l=e[6],c=e[7],d=e[8],m=e[9],v=e[10],w=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=n*s+d*r,t[5]=o*s+m*r,t[6]=l*s+v*r,t[7]=c*s+w*r,t[8]=d*s-n*r,t[9]=m*s-o*r,t[10]=v*s-l*r,t[11]=w*s-c*r,t}function X_e(t,e,i){const r=Math.sin(i),s=Math.cos(i),n=e[0],o=e[1],l=e[2],c=e[3],d=e[8],m=e[9],v=e[10],w=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=n*s-d*r,t[1]=o*s-m*r,t[2]=l*s-v*r,t[3]=c*s-w*r,t[8]=n*r+d*s,t[9]=o*r+m*s,t[10]=l*r+v*s,t[11]=c*r+w*s,t}function Q_e(t,e,i){const r=Math.sin(i),s=Math.cos(i),n=e[0],o=e[1],l=e[2],c=e[3],d=e[4],m=e[5],v=e[6],w=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=n*s+d*r,t[1]=o*s+m*r,t[2]=l*s+v*r,t[3]=c*s+w*r,t[4]=d*s-n*r,t[5]=m*s-o*r,t[6]=v*s-l*r,t[7]=w*s-c*r,t}function e2e(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function t2e(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function i2e(t,e,i){if(e===0)return IT(t);let r=i[0],s=i[1],n=i[2],o=Math.sqrt(r*r+s*s+n*n);if(o<=ws())return null;o=1/o,r*=o,s*=o,n*=o;const l=Math.sin(e),c=Math.cos(e),d=1-c;return t[0]=r*r*d+c,t[1]=s*r*d+n*l,t[2]=n*r*d-s*l,t[3]=0,t[4]=r*s*d-n*l,t[5]=s*s*d+c,t[6]=n*s*d+r*l,t[7]=0,t[8]=r*n*d+s*l,t[9]=s*n*d-r*l,t[10]=n*n*d+c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function r2e(t,e){const i=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=i,t[7]=0,t[8]=0,t[9]=-i,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function s2e(t,e){const i=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-i,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=i,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function n2e(t,e){const i=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=i,t[2]=0,t[3]=0,t[4]=-i,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function EJ(t,e,i){const r=e[0],s=e[1],n=e[2],o=e[3],l=r+r,c=s+s,d=n+n,m=r*l,v=r*c,w=r*d,_=s*c,x=s*d,T=n*d,M=o*l,O=o*c,C=o*d;return t[0]=1-(_+T),t[1]=v+C,t[2]=w-O,t[3]=0,t[4]=v-C,t[5]=1-(m+T),t[6]=x+M,t[7]=0,t[8]=w+O,t[9]=x-M,t[10]=1-(m+_),t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}function o2e(t,e){const i=a2e,r=-e[0],s=-e[1],n=-e[2],o=e[3],l=e[4],c=e[5],d=e[6],m=e[7],v=r*r+s*s+n*n+o*o;return v>0?(i[0]=2*(l*o+m*r+c*n-d*s)/v,i[1]=2*(c*o+m*s+d*r-l*n)/v,i[2]=2*(d*o+m*n+l*s-c*r)/v):(i[0]=2*(l*o+m*r+c*n-d*s),i[1]=2*(c*o+m*s+d*r-l*n),i[2]=2*(d*o+m*n+l*s-c*r)),EJ(t,e,i),t}const a2e=rh();function l2e(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function u2e(t,e){const i=e[0],r=e[1],s=e[2],n=e[4],o=e[5],l=e[6],c=e[8],d=e[9],m=e[10];return t[0]=Math.sqrt(i*i+r*r+s*s),t[1]=Math.sqrt(n*n+o*o+l*l),t[2]=Math.sqrt(c*c+d*d+m*m),t}function c2e(t,e){const i=e[0]+e[5]+e[10];let r=0;return i>0?(r=2*Math.sqrt(i+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t}function h2e(t,e,i,r){const s=e[0],n=e[1],o=e[2],l=e[3],c=s+s,d=n+n,m=o+o,v=s*c,w=s*d,_=s*m,x=n*d,T=n*m,M=o*m,O=l*c,C=l*d,R=l*m,N=r[0],j=r[1],F=r[2];return t[0]=(1-(x+M))*N,t[1]=(w+R)*N,t[2]=(_-C)*N,t[3]=0,t[4]=(w-R)*j,t[5]=(1-(v+M))*j,t[6]=(T+O)*j,t[7]=0,t[8]=(_+C)*F,t[9]=(T-O)*F,t[10]=(1-(v+x))*F,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}function d2e(t,e,i,r,s){const n=e[0],o=e[1],l=e[2],c=e[3],d=n+n,m=o+o,v=l+l,w=n*d,_=n*m,x=n*v,T=o*m,M=o*v,O=l*v,C=c*d,R=c*m,N=c*v,j=r[0],F=r[1],ee=r[2],X=s[0],J=s[1],re=s[2],fe=(1-(T+O))*j,ye=(_+N)*j,Xe=(x-R)*j,Ce=(_-N)*F,pt=(1-(w+O))*F,pe=(M+C)*F,ve=(x+R)*ee,de=(M-C)*ee,We=(1-(w+T))*ee;return t[0]=fe,t[1]=ye,t[2]=Xe,t[3]=0,t[4]=Ce,t[5]=pt,t[6]=pe,t[7]=0,t[8]=ve,t[9]=de,t[10]=We,t[11]=0,t[12]=i[0]+X-(fe*X+Ce*J+ve*re),t[13]=i[1]+J-(ye*X+pt*J+de*re),t[14]=i[2]+re-(Xe*X+pe*J+We*re),t[15]=1,t}function p2e(t,e){const i=e[0],r=e[1],s=e[2],n=e[3],o=i+i,l=r+r,c=s+s,d=i*o,m=r*o,v=r*l,w=s*o,_=s*l,x=s*c,T=n*o,M=n*l,O=n*c;return t[0]=1-v-x,t[1]=m+O,t[2]=w-M,t[3]=0,t[4]=m-O,t[5]=1-d-x,t[6]=_+T,t[7]=0,t[8]=w+M,t[9]=_-T,t[10]=1-d-v,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function f2e(t,e,i,r,s,n,o){const l=1/(i-e),c=1/(s-r),d=1/(n-o);return t[0]=2*n*l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*n*c,t[6]=0,t[7]=0,t[8]=(i+e)*l,t[9]=(s+r)*c,t[10]=(o+n)*d,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*n*2*d,t[15]=0,t}function m2e(t,e,i,r,s){const n=1/Math.tan(e/2);let o;return t[0]=n/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,s!=null&&s!==1/0?(o=1/(r-s),t[10]=(s+r)*o,t[14]=2*s*r*o):(t[10]=-1,t[14]=-2*r),t}function y2e(t,e,i,r){const s=Math.tan(e.upDegrees*Math.PI/180),n=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),l=Math.tan(e.rightDegrees*Math.PI/180),c=2/(o+l),d=2/(s+n);return t[0]=c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=d,t[6]=0,t[7]=0,t[8]=-(o-l)*c*.5,t[9]=(s-n)*d*.5,t[10]=r/(i-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*i/(i-r),t[15]=0,t}function g2e(t,e,i,r,s,n,o){const l=1/(e-i),c=1/(r-s),d=1/(n-o);return t[0]=-2*l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*d,t[11]=0,t[12]=(e+i)*l,t[13]=(s+r)*c,t[14]=(o+n)*d,t[15]=1,t}function v2e(t,e,i,r){const s=e[0],n=e[1],o=e[2];let l=s-i[0],c=n-i[1],d=o-i[2];const m=ws();if(Math.abs(l)<m&&Math.abs(c)<m&&Math.abs(d)<m)return void IT(t);let v=1/Math.sqrt(l*l+c*c+d*d);l*=v,c*=v,d*=v;const w=r[0],_=r[1],x=r[2];let T=_*d-x*c,M=x*l-w*d,O=w*c-_*l;v=Math.sqrt(T*T+M*M+O*O),v?(v=1/v,T*=v,M*=v,O*=v):(T=0,M=0,O=0);let C=c*O-d*M,R=d*T-l*O,N=l*M-c*T;v=Math.sqrt(C*C+R*R+N*N),v?(v=1/v,C*=v,R*=v,N*=v):(C=0,R=0,N=0),t[0]=T,t[1]=C,t[2]=l,t[3]=0,t[4]=M,t[5]=R,t[6]=c,t[7]=0,t[8]=O,t[9]=N,t[10]=d,t[11]=0,t[12]=-(T*s+M*n+O*o),t[13]=-(C*s+R*n+N*o),t[14]=-(l*s+c*n+d*o),t[15]=1}function w2e(t,e,i,r){const s=e[0],n=e[1],o=e[2],l=r[0],c=r[1],d=r[2];let m=s-i[0],v=n-i[1],w=o-i[2],_=m*m+v*v+w*w;_>0&&(_=1/Math.sqrt(_),m*=_,v*=_,w*=_);let x=c*w-d*v,T=d*m-l*w,M=l*v-c*m;return _=x*x+T*T+M*M,_>0&&(_=1/Math.sqrt(_),x*=_,T*=_,M*=_),t[0]=x,t[1]=T,t[2]=M,t[3]=0,t[4]=v*M-w*T,t[5]=w*x-m*M,t[6]=m*T-v*x,t[7]=0,t[8]=m,t[9]=v,t[10]=w,t[11]=0,t[12]=s,t[13]=n,t[14]=o,t[15]=1,t}function b2e(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function _2e(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2+t[9]**2+t[10]**2+t[11]**2+t[12]**2+t[13]**2+t[14]**2+t[15]**2)}function S2e(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t[9]=e[9]+i[9],t[10]=e[10]+i[10],t[11]=e[11]+i[11],t[12]=e[12]+i[12],t[13]=e[13]+i[13],t[14]=e[14]+i[14],t[15]=e[15]+i[15],t}function AJ(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t[9]=e[9]-i[9],t[10]=e[10]-i[10],t[11]=e[11]-i[11],t[12]=e[12]-i[12],t[13]=e[13]-i[13],t[14]=e[14]-i[14],t[15]=e[15]-i[15],t}function x2e(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12]*i,t[13]=e[13]*i,t[14]=e[14]*i,t[15]=e[15]*i,t}function T2e(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t[3]=e[3]+i[3]*r,t[4]=e[4]+i[4]*r,t[5]=e[5]+i[5]*r,t[6]=e[6]+i[6]*r,t[7]=e[7]+i[7]*r,t[8]=e[8]+i[8]*r,t[9]=e[9]+i[9]*r,t[10]=e[10]+i[10]*r,t[11]=e[11]+i[11]*r,t[12]=e[12]+i[12]*r,t[13]=e[13]+i[13]*r,t[14]=e[14]+i[14]*r,t[15]=e[15]+i[15]*r,t}function $2e(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function M2e(t,e){if(t===e)return!0;const i=t[0],r=t[1],s=t[2],n=t[3],o=t[4],l=t[5],c=t[6],d=t[7],m=t[8],v=t[9],w=t[10],_=t[11],x=t[12],T=t[13],M=t[14],O=t[15],C=e[0],R=e[1],N=e[2],j=e[3],F=e[4],ee=e[5],X=e[6],J=e[7],re=e[8],fe=e[9],ye=e[10],Xe=e[11],Ce=e[12],pt=e[13],pe=e[14],ve=e[15],de=ws();return Math.abs(i-C)<=de*Math.max(1,Math.abs(i),Math.abs(C))&&Math.abs(r-R)<=de*Math.max(1,Math.abs(r),Math.abs(R))&&Math.abs(s-N)<=de*Math.max(1,Math.abs(s),Math.abs(N))&&Math.abs(n-j)<=de*Math.max(1,Math.abs(n),Math.abs(j))&&Math.abs(o-F)<=de*Math.max(1,Math.abs(o),Math.abs(F))&&Math.abs(l-ee)<=de*Math.max(1,Math.abs(l),Math.abs(ee))&&Math.abs(c-X)<=de*Math.max(1,Math.abs(c),Math.abs(X))&&Math.abs(d-J)<=de*Math.max(1,Math.abs(d),Math.abs(J))&&Math.abs(m-re)<=de*Math.max(1,Math.abs(m),Math.abs(re))&&Math.abs(v-fe)<=de*Math.max(1,Math.abs(v),Math.abs(fe))&&Math.abs(w-ye)<=de*Math.max(1,Math.abs(w),Math.abs(ye))&&Math.abs(_-Xe)<=de*Math.max(1,Math.abs(_),Math.abs(Xe))&&Math.abs(x-Ce)<=de*Math.max(1,Math.abs(x),Math.abs(Ce))&&Math.abs(T-pt)<=de*Math.max(1,Math.abs(T),Math.abs(pt))&&Math.abs(M-pe)<=de*Math.max(1,Math.abs(M),Math.abs(pe))&&Math.abs(O-ve)<=de*Math.max(1,Math.abs(O),Math.abs(ve))}function E2e(t){const e=ws(),i=t[0],r=t[1],s=t[2],n=t[4],o=t[5],l=t[6],c=t[8],d=t[9],m=t[10];return Math.abs(1-(i*i+n*n+c*c))<=e&&Math.abs(1-(r*r+o*o+d*d))<=e&&Math.abs(1-(s*s+l*l+m*m))<=e}function A2e(t){return t[0]===1&&t[1]===0&&t[2]===0&&t[4]===0&&t[5]===1&&t[6]===0&&t[8]===0&&t[9]===0&&t[10]===1}const O2e=MJ,k2e=AJ;Object.freeze(Object.defineProperty({__proto__:null,add:S2e,adjoint:H_e,copy:TJ,determinant:W_e,equals:M2e,exactEquals:$2e,frob:_2e,fromQuat:p2e,fromQuat2:o2e,fromRotation:i2e,fromRotationTranslation:EJ,fromRotationTranslationScale:h2e,fromRotationTranslationScaleOrigin:d2e,fromScaling:t2e,fromTranslation:e2e,fromXRotation:r2e,fromYRotation:s2e,fromZRotation:n2e,frustum:f2e,getRotation:c2e,getScale:u2e,getTranslation:l2e,hasIdentityRotation:A2e,identity:IT,invert:$J,invertOrIdentity:G_e,isOrthoNormal:E2e,lookAt:v2e,mul:O2e,multiply:MJ,multiplyScalar:x2e,multiplyScalarAndAdd:T2e,ortho:g2e,perspective:m2e,perspectiveFromFieldOfView:y2e,rotate:J_e,rotateX:K_e,rotateY:X_e,rotateZ:Q_e,scale:Y_e,set:sh,str:b2e,sub:k2e,subtract:AJ,targetTo:w2e,translate:Z_e,transpose:nh},Symbol.toStringTag,{value:"Module"}));const C2e=(t,e)=>{const i=sh(t,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1);return nh(i,i)},R2e=(t,e)=>{const i=sh(t,e,0,0,.5-.5*e,0,e,0,.5-.5*e,0,0,e,.5-.5*e,0,0,0,1);return nh(i,i)},I2e=(t,e)=>{const i=1-e,r=sh(t,.2126+.7874*i,.7152-.7152*i,.0722-.0722*i,0,.2126-.2126*i,.7152+.2848*i,.0722-.0722*i,0,.2126-.2126*i,.7152-.7152*i,.0722+.9278*i,0,0,0,0,1);return nh(r,r)},P2e=(t,e)=>{const i=Math.sin(e*Math.PI/180),r=Math.cos(e*Math.PI/180),s=sh(t,.213+.787*r-.213*i,.715-.715*r-.715*i,.072-.072*r+.928*i,0,.213-.213*r+.143*i,.715+.285*r+.14*i,.072-.072*r-.283*i,0,.213-.213*r-.787*i,.715-.715*r+.715*i,.072+.928*r+.072*i,0,0,0,0,1);return nh(s,s)},j2e=(t,e)=>{const i=1-2*e,r=sh(t,i,0,0,e,0,i,0,e,0,0,i,e,0,0,0,1);return nh(r,r)},N2e=(t,e)=>{const i=sh(t,.213+.787*e,.715-.715*e,.072-.072*e,0,.213-.213*e,.715+.285*e,.072-.072*e,0,.213-.213*e,.715-.715*e,.072+.928*e,0,0,0,0,1);return nh(i,i)},D2e=(t,e)=>{const i=1-e,r=sh(t,.393+.607*i,.769-.769*i,.189-.189*i,0,.349-.349*i,.686+.314*i,.168-.168*i,0,.272-.272*i,.534-.534*i,.131+.869*i,0,0,0,0,1);return nh(r,r)};let OJ=class kJ{constructor(e,i,r){this.strength=e,this.radius=i,this.threshold=r,this.type="bloom"}interpolate(e,i,r){this.strength=Fs(e.strength,i.strength,r),this.radius=Fs(e.radius,i.radius,r),this.threshold=Fs(e.threshold,i.threshold,r)}clone(){return new kJ(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:l1(this.radius),strength:this.strength,threshold:this.threshold}}},CJ=class RJ{constructor(e){this.radius=e,this.type="blur"}interpolate(e,i,r){this.radius=Math.round(Fs(e.radius,i.radius,r))}clone(){return new RJ(this.radius)}toJSON(){return{type:"blur",radius:l1(this.radius)}}},sO=class IJ{constructor(e,i){this.type=e,this.amount=i,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,i,r){this.amount=Fs(e.amount,i.amount,r),this._updateMatrix()}clone(){return new IJ(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const e=this._colorMatrix||RT();switch(this.type){case"brightness":this._colorMatrix=C2e(e,this.amount);break;case"contrast":this._colorMatrix=R2e(e,this.amount);break;case"grayscale":this._colorMatrix=I2e(e,this.amount);break;case"invert":this._colorMatrix=j2e(e,this.amount);break;case"saturate":this._colorMatrix=N2e(e,this.amount);break;case"sepia":this._colorMatrix=D2e(e,this.amount)}}},PJ=class jJ{constructor(e,i,r,s){this.offsetX=e,this.offsetY=i,this.blurRadius=r,this.color=s,this.type="drop-shadow"}interpolate(e,i,r){this.offsetX=Fs(e.offsetX,i.offsetX,r),this.offsetY=Fs(e.offsetY,i.offsetY,r),this.blurRadius=Fs(e.blurRadius,i.blurRadius,r),this.color[0]=Math.round(Fs(e.color[0],i.color[0],r)),this.color[1]=Math.round(Fs(e.color[1],i.color[1],r)),this.color[2]=Math.round(Fs(e.color[2],i.color[2],r)),this.color[3]=Fs(e.color[3],i.color[3],r)}clone(){return new jJ(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const e=[...this.color];return e[3]*=255,{type:"drop-shadow",xoffset:l1(this.offsetX),yoffset:l1(this.offsetY),blurRadius:l1(this.blurRadius),color:e}}},NJ=class DJ{constructor(e){this.angle=e,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,i,r){this.angle=Fs(e.angle,i.angle,r),this._updateMatrix()}clone(){return new DJ(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const e=this._colorMatrix||RT();this._colorMatrix=P2e(e,this.angle)}},LJ=class VJ{constructor(e){this.amount=e,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(e,i,r){this.amount=Fs(e.amount,i.amount,r)}clone(){return new VJ(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}};function Fs(t,e,i){return t+(e-t)*i}function l1(t){return Math.round(1e3*uo(t))/1e3}function L2e(t){switch(t.type){case"grayscale":case"sepia":case"invert":return new sO(t.type,0);case"saturate":case"brightness":case"contrast":return new sO(t.type,1);case"opacity":return new LJ(1);case"hue-rotate":return new NJ(0);case"blur":return new CJ(0);case"drop-shadow":return new PJ(0,0,0,[...TR("transparent")]);case"bloom":return new OJ(0,0,1)}}function V2e(t,e){const i=t.length>e.length?t:e;return(t.length>e.length?e:t).every((r,s)=>r.type===i[s].type)}function F2e(t,e){const i=t.length>e.length?t:e,r=t.length>e.length?e:t;for(let s=r.length;s<i.length;s++)r.push(L2e(i[s]))}function z2e(t){const e=t[0];return!!e&&"type"in e}let Y7=class extends SyntaxError{constructor(e,i,r,s){super(e),this.expected=i,this.found=r,this.location=s,this.name="SyntaxError"}format(e){let i="Error: "+this.message;if(this.location){let r=null;const s=e.find(c=>c.source===this.location.source);s&&(r=s.text.split(/\r\n|\n|\r/g));const n=this.location.start,o=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(n):n,l=this.location.source+":"+o.line+":"+o.column;if(r){const c=this.location.end,d="".padEnd(o.line.toString().length," "),m=r[n.line-1],v=(n.line===c.line?c.column:m.length+1)-n.column||1;i+=`
 --> `+l+`
`+d+` |
`+o.line+" | "+m+`
`+d+" | "+"".padEnd(n.column-1," ")+"".padEnd(v,"^")}else i+=`
 at `+l}return i}static buildMessage(e,i){function r(w){return w.codePointAt(0).toString(16).toUpperCase()}const s=Object.prototype.hasOwnProperty.call(RegExp.prototype,"unicode")?new RegExp("[\\p{C}\\p{Mn}\\p{Mc}]","gu"):null;function n(w){return s?w.replace(s,_=>"\\u{"+r(_)+"}"):w}function o(w){return n(w.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,_=>"\\x0"+r(_)).replace(/[\x10-\x1F\x7F-\x9F]/g,_=>"\\x"+r(_)))}function l(w){return n(w.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,_=>"\\x0"+r(_)).replace(/[\x10-\x1F\x7F-\x9F]/g,_=>"\\x"+r(_)))}const c={literal:w=>'"'+o(w.text)+'"',class(w){const _=w.parts.map(x=>Array.isArray(x)?l(x[0])+"-"+l(x[1]):l(x));return"["+(w.inverted?"^":"")+_.join("")+"]"+(w.unicode?"u":"")},any:()=>"any character",end:()=>"end of input",other:w=>w.description};function d(w){return c[w.type](w)}function m(w){const _=w.map(d);if(_.sort(),_.length>0){let x=1;for(let T=1;T<_.length;T++)_[T-1]!==_[T]&&(_[x]=_[T],x++);_.length=x}switch(_.length){case 1:return _[0];case 2:return _[0]+" or "+_[1];default:return _.slice(0,-1).join(", ")+", or "+_[_.length-1]}}function v(w){return w?'"'+o(w)+'"':"end of input"}return"Expected "+m(e)+" but "+v(i)+" found."}};function U2e(t,e){const i={},r=(e=e!==void 0?e:{}).grammarSource,s={start:Rg};let n=Rg;const o="none",l=")",c=",",d="(",m="%",v="px",w="cm",_="mm",x="in",T="pt",M="pc",O="deg",C="rad",R="grad",N="turn",j="#",F=".",ee="e",X=/^[ \t\n\r]/,J=/^[a-z\-]/,re=/^[0-9a-fA-F]/,fe=/^[+\-]/,ye=/^[0-9]/,Xe=ri("none"),Ce=Ni("none",!1),pt=Ni(")",!1),pe=Ni(",",!1),ve=xs([" ","	",`
`,"\r"],!1,!1,!1),de=ri("function"),We=Ni("(",!1),L=ri("identifier"),he=xs([["a","z"],"-"],!1,!1,!1),Ue=ri("percentage"),Fe=Ni("%",!1),Te=ri("length"),ht=Ni("px",!1),Qe=Ni("cm",!1),br=Ni("mm",!1),bt=Ni("in",!1),pi=Ni("pt",!1),Lt=Ni("pc",!1),xn=ri("angle"),lh=Ni("deg",!1),ia=Ni("rad",!1),Cp=Ni("grad",!1),Rp=Ni("turn",!1),fu=ri("number"),Cg=ri("color"),Ip=Ni("#",!1),Pp=xs([["0","9"],["a","f"],["A","F"]],!1,!1,!1),jp=xs(["+","-"],!1,!1,!1),Tn=xs([["0","9"]],!1,!1,!1),n3=Ni(".",!1),o3=Ni("e",!1);function $n(){return[]}function a3(P,Z){return{type:"function",name:P,parameters:Z||[]}}function Jw(P,Z){return Z.length>0?g3(P,Z,3):[P]}function Kw(P){return{type:"quantity",value:P.value,unit:P.unit}}function Np(P){return{type:"color",colorType:P.type,value:P.value}}function fI(P){return P}function Xw(){return dh()}function l3(P){return{value:P,unit:"%"}}function u3(P){return{value:P,unit:"px"}}function uh(P){return{value:P,unit:"cm"}}function es(P){return{value:P,unit:"mm"}}function c3(P){return{value:P,unit:"in"}}function ra(P){return{value:P,unit:"pt"}}function ts(P){return{value:P,unit:"pc"}}function h3(P){return{value:P,unit:"deg"}}function d3(P){return{value:P,unit:"rad"}}function p3(P){return{value:P,unit:"grad"}}function Dp(P){return{value:P,unit:"turn"}}function Lp(P){return{value:P,unit:null}}function Ba(){return{type:"hex",value:dh()}}function Vp(P){return{type:"function",value:P}}function ch(){return{type:"named",value:dh()}}function f3(){return parseFloat(dh())}let Q=0|e.peg$currPos,Pt=Q;const sa=[{line:1,column:1}];let mo,Ks=Q,hh=e.peg$maxFailExpected||[],Ee=0|e.peg$silentFails;if(e.startRule){if(!(e.startRule in s))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');n=s[e.startRule]}function dh(){return t.substring(Pt,Q)}function Qw(P=Q){const Z=t.codePointAt(P);return Z===void 0?"":String.fromCodePoint(Z)}function Ni(P,Z){return{type:"literal",text:P,ignoreCase:Z}}function xs(P,Z,ce,Ve){return{type:"class",parts:P,inverted:Z,ignoreCase:ce,unicode:Ve}}function ar(){return{type:"end"}}function ri(P){return{type:"other",description:P}}function Ga(P){let Z,ce=sa[P];if(ce)return ce;if(P>=sa.length)Z=sa.length-1;else for(Z=P;!sa[--Z];);for(ce=sa[Z],ce={line:ce.line,column:ce.column};Z<P;)t.charCodeAt(Z)===10?(ce.line++,ce.column=1):ce.column++,Z++;return sa[P]=ce,ce}function Fp(P,Z,ce){const Ve=Ga(P),ft=Ga(Z);return{source:r,start:{offset:P,line:Ve.line,column:Ve.column},end:{offset:Z,line:ft.line,column:ft.column}}}function Ze(P){Q<Ks||(Q>Ks&&(Ks=Q,hh=[]),hh.push(P))}function m3(P,Z,ce){return new Y7(Y7.buildMessage(P,Z),P,Z,ce)}function Rg(){let P;return P=ph(),P===i&&(P=Ig()),P}function ph(){let P,Z;return Ee++,P=Q,Ht(),t.substr(Q,4)===o?(Z=o,Q+=4):(Z=i,Ee===0&&Ze(Ce)),Z!==i?(Ht(),Pt=P,P=$n()):(Q=P,P=i),Ee--,P===i&&Ee===0&&Ze(Xe),P}function Ig(){let P,Z;if(P=[],Z=yo(),Z!==i)for(;Z!==i;)P.push(Z),Z=yo();else P=i;return P}function yo(){let P,Z,ce,Ve;return P=Q,Ht(),Z=Di(),Z!==i?(Ht(),ce=mu(),ce===i&&(ce=null),Ht(),t.charCodeAt(Q)===41?(Ve=l,Q++):(Ve=i,Ee===0&&Ze(pt)),Ve!==i?(Ht(),Pt=P,P=a3(Z,ce)):(Q=P,P=i)):(Q=P,P=i),P}function mu(){let P,Z,ce,Ve,ft,Wt,ei,lr;if(P=Q,Z=Ha(),Z!==i){for(ce=[],Ve=Q,ft=Ht(),t.charCodeAt(Q)===44?(Wt=c,Q++):(Wt=i,Ee===0&&Ze(pe)),Wt===i&&(Wt=null),ei=Ht(),lr=Ha(),lr!==i?(ft=[ft,Wt,ei,lr],Ve=ft):(Q=Ve,Ve=i);Ve!==i;)ce.push(Ve),Ve=Q,ft=Ht(),t.charCodeAt(Q)===44?(Wt=c,Q++):(Wt=i,Ee===0&&Ze(pe)),Wt===i&&(Wt=null),ei=Ht(),lr=Ha(),lr!==i?(ft=[ft,Wt,ei,lr],Ve=ft):(Q=Ve,Ve=i);Pt=P,P=Jw(Z,ce)}else Q=P,P=i;return P}function Ha(){let P,Z;return P=Q,Z=eb(),Z===i&&(Z=Wa(),Z===i&&(Z=yu(),Z===i&&(Z=go()))),Z!==i&&(Pt=P,Z=Kw(Z)),P=Z,P===i&&(P=Q,Z=y3(),Z!==i&&(Pt=P,Z=Np(Z)),P=Z),P}function Ht(){let P,Z;for(Ee++,P=[],Z=t.charAt(Q),X.test(Z)?Q++:(Z=i,Ee===0&&Ze(ve));Z!==i;)P.push(Z),Z=t.charAt(Q),X.test(Z)?Q++:(Z=i,Ee===0&&Ze(ve));return Ee--,P}function Di(){let P,Z,ce;return Ee++,P=Q,Z=Pg(),Z!==i?(t.charCodeAt(Q)===40?(ce=d,Q++):(ce=i,Ee===0&&Ze(We)),ce!==i?(Pt=P,P=Z):(Q=P,P=i)):(Q=P,P=i),Ee--,P===i&&(Z=i,Ee===0&&Ze(de)),P}function Pg(){let P,Z,ce;if(Ee++,P=Q,Z=[],ce=t.charAt(Q),J.test(ce)?Q++:(ce=i,Ee===0&&Ze(he)),ce!==i)for(;ce!==i;)Z.push(ce),ce=t.charAt(Q),J.test(ce)?Q++:(ce=i,Ee===0&&Ze(he));else Z=i;return Z!==i&&(Pt=P,Z=Xw()),P=Z,Ee--,P===i&&(Z=i,Ee===0&&Ze(L)),P}function eb(){let P,Z,ce;return Ee++,P=Q,Ht(),Z=is(),Z!==i?(t.charCodeAt(Q)===37?(ce=m,Q++):(ce=i,Ee===0&&Ze(Fe)),ce!==i?(Pt=P,P=l3(Z)):(Q=P,P=i)):(Q=P,P=i),Ee--,P===i&&Ee===0&&Ze(Ue),P}function Wa(){let P,Z,ce;return Ee++,P=Q,Ht(),Z=is(),Z!==i?(t.substr(Q,2)===v?(ce=v,Q+=2):(ce=i,Ee===0&&Ze(ht)),ce!==i?(Pt=P,P=u3(Z)):(Q=P,P=i)):(Q=P,P=i),P===i&&(P=Q,Ht(),Z=is(),Z!==i?(t.substr(Q,2)===w?(ce=w,Q+=2):(ce=i,Ee===0&&Ze(Qe)),ce!==i?(Pt=P,P=uh(Z)):(Q=P,P=i)):(Q=P,P=i),P===i&&(P=Q,Ht(),Z=is(),Z!==i?(t.substr(Q,2)===_?(ce=_,Q+=2):(ce=i,Ee===0&&Ze(br)),ce!==i?(Pt=P,P=es(Z)):(Q=P,P=i)):(Q=P,P=i),P===i&&(P=Q,Ht(),Z=is(),Z!==i?(t.substr(Q,2)===x?(ce=x,Q+=2):(ce=i,Ee===0&&Ze(bt)),ce!==i?(Pt=P,P=c3(Z)):(Q=P,P=i)):(Q=P,P=i),P===i&&(P=Q,Ht(),Z=is(),Z!==i?(t.substr(Q,2)===T?(ce=T,Q+=2):(ce=i,Ee===0&&Ze(pi)),ce!==i?(Pt=P,P=ra(Z)):(Q=P,P=i)):(Q=P,P=i),P===i&&(P=Q,Ht(),Z=is(),Z!==i?(t.substr(Q,2)===M?(ce=M,Q+=2):(ce=i,Ee===0&&Ze(Lt)),ce!==i?(Pt=P,P=ts(Z)):(Q=P,P=i)):(Q=P,P=i)))))),Ee--,P===i&&Ee===0&&Ze(Te),P}function yu(){let P,Z,ce;return Ee++,P=Q,Z=is(),Z!==i?(t.substr(Q,3)===O?(ce=O,Q+=3):(ce=i,Ee===0&&Ze(lh)),ce!==i?(Pt=P,P=h3(Z)):(Q=P,P=i)):(Q=P,P=i),P===i&&(P=Q,Z=is(),Z!==i?(t.substr(Q,3)===C?(ce=C,Q+=3):(ce=i,Ee===0&&Ze(ia)),ce!==i?(Pt=P,P=d3(Z)):(Q=P,P=i)):(Q=P,P=i),P===i&&(P=Q,Z=is(),Z!==i?(t.substr(Q,4)===R?(ce=R,Q+=4):(ce=i,Ee===0&&Ze(Cp)),ce!==i?(Pt=P,P=p3(Z)):(Q=P,P=i)):(Q=P,P=i),P===i&&(P=Q,Z=is(),Z!==i?(t.substr(Q,4)===N?(ce=N,Q+=4):(ce=i,Ee===0&&Ze(Rp)),ce!==i?(Pt=P,P=Dp(Z)):(Q=P,P=i)):(Q=P,P=i)))),Ee--,P===i&&(Z=i,Ee===0&&Ze(xn)),P}function go(){let P,Z;return Ee++,P=Q,Ht(),Z=is(),Z!==i?(Pt=P,P=Lp(Z)):(Q=P,P=i),Ee--,P===i&&Ee===0&&Ze(fu),P}function y3(){let P,Z,ce,Ve;if(Ee++,P=Q,t.charCodeAt(Q)===35?(Z=j,Q++):(Z=i,Ee===0&&Ze(Ip)),Z!==i){if(ce=[],Ve=t.charAt(Q),re.test(Ve)?Q++:(Ve=i,Ee===0&&Ze(Pp)),Ve!==i)for(;Ve!==i;)ce.push(Ve),Ve=t.charAt(Q),re.test(Ve)?Q++:(Ve=i,Ee===0&&Ze(Pp));else ce=i;ce!==i?(Pt=P,P=Ba()):(Q=P,P=i)}else Q=P,P=i;return P===i&&(P=Q,Z=yo(),Z!==i&&(Pt=P,Z=Vp(Z)),P=Z,P===i&&(P=Q,Z=Pg(),Z!==i&&(Pt=P,Z=ch()),P=Z)),Ee--,P===i&&(Z=i,Ee===0&&Ze(Cg)),P}function is(){let P,Z,ce,Ve,ft,Wt,ei,lr;for(P=Q,Z=t.charAt(Q),fe.test(Z)?Q++:(Z=i,Ee===0&&Ze(jp)),Z===i&&(Z=null),ce=Q,Ve=[],ft=t.charAt(Q),ye.test(ft)?Q++:(ft=i,Ee===0&&Ze(Tn));ft!==i;)Ve.push(ft),ft=t.charAt(Q),ye.test(ft)?Q++:(ft=i,Ee===0&&Ze(Tn));if(t.charCodeAt(Q)===46?(ft=F,Q++):(ft=i,Ee===0&&Ze(n3)),ft!==i){if(Wt=[],ei=t.charAt(Q),ye.test(ei)?Q++:(ei=i,Ee===0&&Ze(Tn)),ei!==i)for(;ei!==i;)Wt.push(ei),ei=t.charAt(Q),ye.test(ei)?Q++:(ei=i,Ee===0&&Ze(Tn));else Wt=i;Wt!==i?(Ve=[Ve,ft,Wt],ce=Ve):(Q=ce,ce=i)}else Q=ce,ce=i;if(ce===i)if(ce=[],Ve=t.charAt(Q),ye.test(Ve)?Q++:(Ve=i,Ee===0&&Ze(Tn)),Ve!==i)for(;Ve!==i;)ce.push(Ve),Ve=t.charAt(Q),ye.test(Ve)?Q++:(Ve=i,Ee===0&&Ze(Tn));else ce=i;if(ce!==i){if(Ve=Q,t.charCodeAt(Q)===101?(ft=ee,Q++):(ft=i,Ee===0&&Ze(o3)),ft!==i){if(Wt=t.charAt(Q),fe.test(Wt)?Q++:(Wt=i,Ee===0&&Ze(jp)),Wt===i&&(Wt=null),ei=[],lr=t.charAt(Q),ye.test(lr)?Q++:(lr=i,Ee===0&&Ze(Tn)),lr!==i)for(;lr!==i;)ei.push(lr),lr=t.charAt(Q),ye.test(lr)?Q++:(lr=i,Ee===0&&Ze(Tn));else ei=i;ei!==i?(ft=[ft,Wt,ei],Ve=ft):(Q=Ve,Ve=i)}else Q=Ve,Ve=i;Ve===i&&(Ve=null),Pt=P,P=f3()}else Q=P,P=i;return P}function tb(P,Z){return P.map(function(ce){return ce[Z]})}function g3(P,Z,ce){return[P].concat(tb(Z,ce))}mo=n();const gu=mo!==i&&Q===t.length;function fh(){throw mo!==i&&Q<t.length&&Ze(ar()),m3(hh,Ks<t.length?Qw(Ks):null,Ks<t.length?Fp(Ks,Ks+1):Fp(Ks,Ks))}return e.peg$library?{peg$result:mo,peg$currPos:Q,peg$FAILED:i,peg$maxFailExpected:hh,peg$maxFailPos:Ks,peg$success:gu,peg$throw:gu?void 0:fh}:gu?mo:void fh()}function FJ(t){if(!t||t.length===0)return null;if(typeof t=="string"){const i=J7(t);return i&&i.length!==0?i:null}const e=t.map(i=>{if(!Number.isFinite(i.scale)||i.scale<=0)throw new B("effect:invalid-scale","scale must be finite and greater than 0",{stop:i});return{scale:i.scale,effects:J7(i.value)}});e.sort((i,r)=>r.effects.length-i.effects.length);for(let i=0;i<e.length-1;i++){if(!V2e(e[i].effects,e[i+1].effects))throw new B("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:e[i].effects,b:e[i+1].effects});F2e(e[i].effects,e[i+1].effects)}return e.sort((i,r)=>r.scale-i.scale),e}function J7(t){let e;if(!t)return[];try{e=U2e(t)}catch(i){throw new B("effect:invalid-syntax","Invalid effect syntax",{value:t,error:i})}return e.map(i=>q2e(i))}function q2e(t){try{switch(t.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return B2e(t);case"opacity":return G2e(t);case"hue-rotate":return H2e(t);case"blur":return W2e(t);case"drop-shadow":return Z2e(t);case"bloom":return Y2e(t)}}catch(e){throw e.details.filter=t,e}throw new B("effect:unknown-effect",`Effect '${t.name}' is not supported`,{effect:t})}function B2e(t){let e=1;return xg(t.parameters,1),t.parameters.length===1&&(e=Fo(t.parameters[0])),new sO(t.name,e)}function G2e(t){let e=1;return xg(t.parameters,1),t.parameters.length===1&&(e=Fo(t.parameters[0])),new LJ(e)}function H2e(t){let e=0;return xg(t.parameters,1),t.parameters.length===1&&(e=tSe(t.parameters[0])),new NJ(e)}function W2e(t){let e=0;return xg(t.parameters,1),t.parameters.length===1&&(e=b6(t.parameters[0]),Uw(e,t.parameters[0])),new CJ(e)}function Z2e(t){const e=[];let i=null;for(const r of t.parameters)if(r.type==="color"){if(e.length&&Object.freeze(e),i)throw new B("effect:type-error","Accepts only one color",{});i=iSe(r)}else{const s=b6(r);if(Object.isFrozen(e))throw new B("effect:type-error","<length> parameters not consecutive",{lengths:e});e.push(s),e.length===3&&Uw(s,r)}if(e.length<2||e.length>3)throw new B("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${e.length}}`,{lengths:e});return new PJ(e[0],e[1],e[2]||0,i||zJ("black"))}function Y2e(t){let e=1,i=0,r=0;return xg(t.parameters,3),t.parameters[0]&&(e=Fo(t.parameters[0])),t.parameters[1]&&(i=b6(t.parameters[1]),Uw(i,t.parameters[1])),t.parameters[2]&&(r=Fo(t.parameters[2])),new OJ(e,i,r)}function xg(t,e){if(t.length>e)throw new B("effect:type-error",`Function supports up to ${e} parameters, Actual: ${t.length}`,{parameters:t})}function PT(t){if(t.type==="color")return"<color>";if(t.unit){if(t.unit in w6)return"<length>";if(t.unit in v6)return"<angle>";if(t.unit==="%")return"<percentage>"}return"<double>"}function Uw(t,e){if(t<0)throw new B("effect:type-error",`Negative values are not allowed, Actual: ${t}`,{term:e})}function J2e(t){if(t.type!=="quantity"||t.unit!==null)throw new B("effect:type-error",`Expected <double>, Actual: ${PT(t)}`,{term:t})}function K2e(t){if(t.type!=="quantity"||t.unit!==null&&t.unit!=="%")throw new B("effect:type-error",`Expected <double> or <percentage>, Actual: ${PT(t)}`,{term:t})}const v6={deg:1,grad:.9,rad:180/Math.PI,turn:360};function X2e(t){if(t.type!=="quantity"||!(t.value===0&&t.unit===null||t.unit&&v6[t.unit]!=null))throw new B("effect:type-error",`Expected <angle>, Actual: ${PT(t)}`,{term:t})}const w6={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function Q2e(t){if(t.type!=="quantity"||!(t.value===0&&t.unit===null||t.unit&&w6[t.unit]!=null))throw new B("effect:type-error",`Expected <length>, Actual: ${PT(t)}`,{term:t})}function Fo(t){K2e(t);const e=t.value;return Uw(e,t),t.unit==="%"?.01*e:e}function eSe(t){return J2e(t),Uw(t.value,t),t.value}function tSe(t){return X2e(t),t.value*v6[t.unit]||0}function b6(t){return Q2e(t),t.value*w6[t.unit]||0}function iSe(t){switch(t.colorType){case"hex":return ege(t.value);case"named":return zJ(t.value);case"function":return nSe(t.value)}}function zJ(t){if(!pW(t))throw new B("effect:unknown-color",`color '${t}' isn't valid`,{namedColor:t});return Qye(t)}const rSe=/^rgba?/i,sSe=/^hsla?/i;function nSe(t){if(xg(t.parameters,4),rSe.test(t.name))return[Fo(t.parameters[0]),Fo(t.parameters[1]),Fo(t.parameters[2]),t.parameters[3]?Fo(t.parameters[3]):1];if(sSe.test(t.name))return fW(eSe(t.parameters[0]),Fo(t.parameters[1]),Fo(t.parameters[2]),t.parameters[3]?Fo(t.parameters[3]):1);throw new B("effect:syntax-error",`Invalid color function '${t.name}'`,{colorFunction:t})}function tw(t,e,i){var r;try{return aSe(t)}catch(s){(r=i==null?void 0:i.messages)==null||r.push(s)}return null}function iw(t,e,i,r){try{const s=oSe(t);bs(i,s,e)}catch(s){r.messages&&r.messages.push(s)}}function oSe(t){const e=FJ(t);return e?z2e(e)?e.map(i=>i.toJSON()):e.map(({scale:i,effects:r})=>({scale:i,value:r.map(s=>s.toJSON())})):null}function aSe(t){if(!t||t.length===0)return null;if(lSe(t)){const e=[];for(const i of t)e.push({scale:i.scale,value:K7(i.value)});return e}return K7(t)}function lSe(t){const e=t[0];return!!e&&"scale"in e}function K7(t){if(!(t!=null&&t.length))return"";const e=[];for(const i of t){let r=[];switch(i.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":r=[cl(i,"amount")];break;case"blur":r=[cl(i,"radius","pt")];break;case"hue-rotate":r=[cl(i,"angle","deg")];break;case"drop-shadow":r=[cl(i,"xoffset","pt"),cl(i,"yoffset","pt"),cl(i,"blurRadius","pt"),uSe(i,"color")];break;case"bloom":r=[cl(i,"strength"),cl(i,"radius","pt"),cl(i,"threshold")]}const s=`${i.type}(${r.filter(Boolean).join(" ")})`;FJ(s),e.push(s)}return e.join(" ")}function cl(t,e,i){if(t[e]==null)throw new B("effect:missing-parameter",`Missing parameter '${e}' in ${t.type} effect`,{effect:t});return i?t[e]+i:""+t[e]}function uSe(t,e){if(t[e]==null)throw new B("effect:missing-parameter",`Missing parameter '${e}' in ${t.type} effect`,{effect:t});const i=t[e];return`rgba(${i[0]||0}, ${i[1]||0}, ${i[2]||0}, ${i[3]/255||0})`}const cSe={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:{layerContainerTypes:ji}},"portal-item":{read:!0,write:{layerContainerTypes:ji}}}}},X7={read:{reader:tw},write:{allowNull:!0,writer:iw,layerContainerTypes:ji}},hSe={json:{read:!1,write:!1,origins:{"web-map":X7,"portal-item":X7}}},dSe=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return h([f(cSe)],i.prototype,"blendMode",void 0),h([f(hSe)],i.prototype,"effect",void 0),i=h([I("esri.layers.mixins.BlendLayer")],i),i},pSe=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.customParameters=null}};return h([f({type:Object,json:{write:{overridePolicy:r=>({enabled:!!(r&&Object.keys(r).length>0)})}}})],i.prototype,"customParameters",void 0),i=h([I("esri.layers.mixins.CustomParametersMixin")],i),i},UJ=96;function I7e(t,e){const i=t.extent,r=t.width,s=ho(i==null?void 0:i.spatialReference);return i&&r?i.width/r*s*$Z*UJ:0}function P7e(t,e){return t/(ho(e)*$Z*UJ)}function j7e(t,e,i){return fSe(t,e)&&mSe(t,i)}function fSe(t,e){return e===0||vn(t,e)||t<e}function mSe(t,e){return e===0||vn(t,e)||t>e}function ySe(t,e){return vn(t,e)?0:(t||Number.POSITIVE_INFINITY)>(e||Number.POSITIVE_INFINITY)?1:-1}const gSe="randomUUID"in crypto;function Tg(){if(gSe)return crypto.randomUUID();const t=crypto.getRandomValues(new Uint16Array(8));t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;const e=i=>t[i].toString(16).padStart(4,"0");return e(0)+e(1)+"-"+e(2)+"-"+e(3)+"-"+e(4)+"-"+e(5)+e(6)+e(7)}function N7e(){return`{${Tg().toUpperCase()}}`}function D7e(){return`{${Tg()}}`}function vSe(t){const e=t.toUpperCase();return t.startsWith("{")?e:`{${e}}`}const Q7={write:{overridePolicy:(t,e,i)=>({enabled:!i||i.filterMode==="scale"})}};let Ll=class extends rt(ae){constructor(e){super(e),this.id=Tg(),this.maxScale=0,this.minScale=0,this.title="",this.where=null}};h([f({type:String,json:{write:!0}})],Ll.prototype,"id",void 0),h([f({type:Number,json:Q7})],Ll.prototype,"maxScale",void 0),h([f({type:Number,json:Q7})],Ll.prototype,"minScale",void 0),h([f({type:String,json:{write:!0}})],Ll.prototype,"title",void 0),h([f({type:String,json:{write:!0}})],Ll.prototype,"where",void 0),Ll=h([I("esri.layers.support.DisplayFilter")],Ll);function wSe(t,e){return{...e,filterMode:t.mode}}function V7e(t,e){return qJ(t,e).next().value??null}function F7e(t,e,i){const r=bSe(t);if(r&&(SW(e,r[0])||SA(i,r[1])))return"";const s=Array.from(qJ(t,e,i)),n=_Se(s,e,i)?"1=1":s.map(o=>o.where||"1=1").reduce((o,l)=>Mpe(o,l),"");return n&&n!=="1=1"?n:""}function bSe(t){if(BJ(t)==="manual")return null;const e=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const{minScale:i,maxScale:r}of t.filters)e[0]=Math.max(e[0],rw(i)),e[1]=Math.min(e[1],yx(r));return e}function*qJ(t,e,i){if(BJ(t)==="manual"){const r=t.filters.find(s=>s.id===t.activeFilterId);r&&(yield r)}else{typeof e=="object"&&(e=e.scale);for(const r of t.filters)SSe(r.minScale,r.maxScale,e,i)&&(yield r)}}function _Se(t,e,i){var n,o;if(t.length===0)return!0;const r=rw((n=t.at(0))==null?void 0:n.minScale),s=yx((o=t.at(-1))==null?void 0:o.maxScale);if(SA(r,e)||SW(s,i))return!0;for(let l=0;l<t.length-1;l++){const c=t[l],d=t[l+1];if(SA(rw(d.minScale),yx(c.maxScale)))return!0}return!1}function SSe(t,e,i,r){return t=rw(t),i=rw(i),e=yx(e),!(!vn(i,t)&&(r??i)>t)&&!rge(e,i)&&(r===void 0||!vn(r,t))}function BJ(t){return"mode"in t?t.mode:t.filterMode}function rw(t){return t||Number.POSITIVE_INFINITY}function yx(t){return t||0}let nd=class extends rt(ae){constructor(e){super(e),this.activeFilterId=null,this.filters=new(ge.ofType(Ll)),this.mode="manual"}writeFilters(e,i,r,s){const n=e.toArray();this.mode==="scale"&&n.sort((o,l)=>{const c=ySe(l.minScale,o.minScale),d=o.maxScale-l.maxScale;return c===0?d:c}),i[r]=n.map(o=>o.toJSON(s))}write(e,i){return super.write(e,wSe(this,i))}};h([f({type:String,json:{write:{overridePolicy:(t,e,i)=>({enabled:i.filterMode==="manual",isRequired:!0})}}})],nd.prototype,"activeFilterId",void 0),h([f({type:ge.ofType(Ll),nonNullable:!0,json:{write:!0}})],nd.prototype,"filters",void 0),h([_e("filters")],nd.prototype,"writeFilters",null),h([f({type:["manual","scale"],nonNullable:!0,json:{name:"filterMode",write:!0}})],nd.prototype,"mode",void 0),nd=h([I("esri.layers.support.DisplayFilterInfo")],nd);const xSe=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.displayFilterEnabled=!0,this.displayFilterInfo=null}};return h([f(TSe)],i.prototype,"displayFilterEnabled",void 0),h([f($Se)],i.prototype,"displayFilterInfo",void 0),i=h([I("esri.layers.mixins.DisplayFilteredLayer")],i),i},TSe={type:Boolean,json:{name:"layerDefinition.disableDisplayFilter",read:{reader:t=>!t},write:{layerContainerTypes:ji,writer(t,e,i){bs(i,!t,e)}},origins:{"web-scene":{write:!1,read:!1}}}},$Se={type:nd,json:{name:"layerDefinition.displayFilterInfo",write:{enabled:!0,allowNull:!0,layerContainerTypes:ji},origins:{"web-scene":{write:!1,read:!1}}}};var nO;let Gf=nO=class extends ae{constructor(t){super(t),this.type="map-layer"}clone(){const{mapLayerId:t,gdbVersion:e}=this;return new nO({mapLayerId:t,gdbVersion:e})}};h([ke({mapLayer:"map-layer"}),f({json:{write:{isRequired:!0}}})],Gf.prototype,"type",void 0),h([f({type:ot,json:{write:{isRequired:!0}}})],Gf.prototype,"mapLayerId",void 0),h([f({type:String,json:{write:!0}})],Gf.prototype,"gdbVersion",void 0),Gf=nO=h([I("esri.layers.support.source.MapLayerSource")],Gf);var oO;let bl=oO=class extends ae{constructor(t){super(t),this.type="query-table"}clone(){const{workspaceId:t,query:e,oidFields:i,spatialReference:r,geometryType:s}=this,n={workspaceId:t,query:e,oidFields:i,spatialReference:(r==null?void 0:r.clone())??void 0,geometryType:s};return new oO(n)}};h([ke({queryTable:"query-table"}),f({json:{write:{isRequired:!0}}})],bl.prototype,"type",void 0),h([f({type:String,json:{write:!0}})],bl.prototype,"workspaceId",void 0),h([f({type:String,json:{write:!0}})],bl.prototype,"query",void 0),h([f({type:String,json:{write:!0}})],bl.prototype,"oidFields",void 0),h([f({type:Se,json:{write:!0}})],bl.prototype,"spatialReference",void 0),h([ke(o6)],bl.prototype,"geometryType",void 0),bl=oO=h([I("esri.layers.support.source.QueryTableDataSource")],bl);var aO;let Hf=aO=class extends ae{constructor(t){super(t),this.type="raster"}clone(){const{workspaceId:t,dataSourceName:e}=this;return new aO({workspaceId:t,dataSourceName:e})}};h([ke({raster:"raster"}),f({json:{write:{isRequired:!0}}})],Hf.prototype,"type",void 0),h([f({type:String,json:{write:!0}})],Hf.prototype,"dataSourceName",void 0),h([f({type:String,json:{write:!0}})],Hf.prototype,"workspaceId",void 0),Hf=aO=h([I("esri.layers.support.source.RasterDataSource")],Hf);var lO;let od=lO=class extends ae{constructor(t){super(t),this.type="table"}clone(){const{workspaceId:t,gdbVersion:e,dataSourceName:i}=this;return new lO({workspaceId:t,gdbVersion:e,dataSourceName:i})}};h([ke({table:"table"}),f({json:{write:{isRequired:!0}}})],od.prototype,"type",void 0),h([f({type:String,json:{write:!0}})],od.prototype,"workspaceId",void 0),h([f({type:String,json:{write:!0}})],od.prototype,"gdbVersion",void 0),h([f({type:String,json:{write:!0}})],od.prototype,"dataSourceName",void 0),od=lO=h([I("esri.layers.support.source.TableDataSource")],od);var uO,cO;const MSe=wr()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let an=uO=class extends ae{constructor(t){super(t),this.type="join-table"}readLeftTableSource(t,e,i){return e9()(t,e,i)}castLeftTableSource(t){return Bc(hO(),t)}readRightTableSource(t,e,i){return e9()(t,e,i)}castRightTableSource(t){return Bc(hO(),t)}clone(){const{leftTableKey:t,rightTableKey:e,leftTableSource:i,rightTableSource:r,joinType:s}=this,n={leftTableKey:t,rightTableKey:e,leftTableSource:(i==null?void 0:i.clone())??void 0,rightTableSource:(r==null?void 0:r.clone())??void 0,joinType:s};return new uO(n)}};h([ke({joinTable:"join-table"}),f({json:{write:{isRequired:!0}}})],an.prototype,"type",void 0),h([f({type:String,json:{write:!0}})],an.prototype,"leftTableKey",void 0),h([f({type:String,json:{write:!0}})],an.prototype,"rightTableKey",void 0),h([f({json:{write:!0}})],an.prototype,"leftTableSource",void 0),h([Ie("leftTableSource")],an.prototype,"readLeftTableSource",null),h([Ot("leftTableSource")],an.prototype,"castLeftTableSource",null),h([f({json:{write:!0}})],an.prototype,"rightTableSource",void 0),h([Ie("rightTableSource")],an.prototype,"readRightTableSource",null),h([Ot("rightTableSource")],an.prototype,"castRightTableSource",null),h([ke(MSe)],an.prototype,"joinType",void 0),an=uO=h([I("esri.layers.support.source.JoinTableDataSource")],an);let E5=null;function e9(){return E5||(E5=hg({types:hO()})),E5}let A5=null;function hO(){return A5||(A5={key:"type",base:null,typeMap:{"data-layer":Ta,"map-layer":Gf}}),A5}const ESe={key:"type",base:null,typeMap:{"join-table":an,"query-table":bl,raster:Hf,table:od}};var uy;let Ta=(uy=class extends ae{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:i}=this;return new cO({fields:e,dataSource:i})}},cO=uy,uy);h([ke({dataLayer:"data-layer"}),f({json:{write:{isRequired:!0}}})],Ta.prototype,"type",void 0),h([f({type:[Qi],json:{write:!0}})],Ta.prototype,"fields",void 0),h([f({types:ESe,json:{write:!0}})],Ta.prototype,"dataSource",void 0),Ta=cO=h([I("esri.layers.support.source.DataLayerSource")],Ta),Ta.from=nr(Ta);let ad=class extends rt(ae){constructor(e){super(e),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};h([f({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.onFields!=null&&this.onFields.length>0}}}}})],ad.prototype,"onFields",void 0),h([f({type:String,json:{write:!0}})],ad.prototype,"operator",void 0),h([f({type:String,json:{write:!0}})],ad.prototype,"searchTerm",void 0),h([f({type:String,json:{write:!0}})],ad.prototype,"searchType",void 0),ad=h([I("esri.rest.support.FullTextSearch")],ad);const ASe=ad;var dO;const t9=new ct({upperLeft:"upper-left",lowerLeft:"lower-left"});let dc=dO=class extends ae{constructor(t){super(t),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new dO(G({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};h([f({type:Ye,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],dc.prototype,"extent",void 0),h([f({type:["view","edit"],json:{write:!0}})],dc.prototype,"mode",void 0),h([f({type:String,json:{read:t9.read,write:t9.write}})],dc.prototype,"originPosition",void 0),h([f({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],dc.prototype,"tolerance",void 0),dc=dO=h([I("esri.rest.support.QuantizationParameters")],dc);const OSe=t=>{const e=t;let i=class extends e{};return i=h([I("esri.rest.support.QueryMixin")],i),i},kSe=new ct({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});var pO;const i9=new ct({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let Co=pO=class extends ae{constructor(t){super(t),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(t,e){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(e.statisticParameters=G(t))}clone(){return new pO({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:G(this.statisticParameters)})}};h([f({type:Number,json:{write:!0}})],Co.prototype,"maxPointCount",void 0),h([f({type:Number,json:{write:!0}})],Co.prototype,"maxRecordCount",void 0),h([f({type:Number,json:{write:!0}})],Co.prototype,"maxVertexCount",void 0),h([f({type:String,json:{write:!0}})],Co.prototype,"onStatisticField",void 0),h([f({type:String,json:{write:!0}})],Co.prototype,"outStatisticFieldName",void 0),h([f({type:String,json:{read:{source:"statisticType",reader:i9.read},write:{target:"statisticType",writer:i9.write}}})],Co.prototype,"statisticType",void 0),h([f({type:Object})],Co.prototype,"statisticParameters",void 0),h([_e("statisticParameters")],Co.prototype,"writeStatisticParameters",null),Co=pO=h([I("esri.rest.support.StatisticDefinition")],Co);var eS;const CSe=new ct({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});var ep;let xe=(ep=class extends OSe(ae){static from(e){return Tw(eS,e)}constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.returnTrueCurves=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(e){return typeof e=="number"||typeof e=="object"?e:null}writeHistoricMoment(e,i){i.historicMoment=e&&e.getTime()}writeParameterValues(e,i){if(e){const r={};for(const s in e){const n=e[s];Array.isArray(n)?r[s]=n.map(o=>o instanceof Date?o.getTime():o):n instanceof Date?r[s]=n.getTime():r[s]=n}i.parameterValues=r}}writeStart(e,i){i.resultOffset=this.start,i.resultRecordCount=this.num||10,i.where="1=1"}writeWhere(e,i){i.where=e||"1=1"}clone(){return new eS(G({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment!=null?new Date(this.historicMoment):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,returnTrueCurves:this.returnTrueCurves,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}},eS=ep,ep.MAX_MAX_RECORD_COUNT_FACTOR=5,ep);h([f({json:{write:!0}})],xe.prototype,"aggregateIds",void 0),h([f({type:Boolean,json:{write:!0}})],xe.prototype,"cacheHint",void 0),h([f({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"compactGeometryEnabled",void 0),h([f({json:{write:!0}})],xe.prototype,"datumTransformation",void 0),h([Ot("datumTransformation")],xe.prototype,"castDatumTransformation",null),h([f({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"defaultSpatialReferenceEnabled",void 0),h([f({type:Number,json:{write:!0}})],xe.prototype,"distance",void 0),h([f({type:Ta,json:{write:!0}})],xe.prototype,"dynamicDataSource",void 0),h([f({type:String,json:{write:!0}})],xe.prototype,"formatOf3DObjects",void 0),h([f({type:[ASe],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.fullText!=null&&this.fullText.length>0}}}}})],xe.prototype,"fullText",void 0),h([f({type:String,json:{write:!0}})],xe.prototype,"gdbVersion",void 0),h([f({types:Nw,json:{read:Jc,write:!0}})],xe.prototype,"geometry",void 0),h([f({type:Number,json:{write:!0}})],xe.prototype,"geometryPrecision",void 0),h([f({type:[String],json:{write:!0}})],xe.prototype,"groupByFieldsForStatistics",void 0),h([f({type:String,json:{write:!0}})],xe.prototype,"having",void 0),h([f({type:Date})],xe.prototype,"historicMoment",void 0),h([_e("historicMoment")],xe.prototype,"writeHistoricMoment",null),h([f({type:Number,json:{write:!0}})],xe.prototype,"maxAllowableOffset",void 0),h([f({type:Number,cast:t=>t<1?1:t>xe.MAX_MAX_RECORD_COUNT_FACTOR?xe.MAX_MAX_RECORD_COUNT_FACTOR:t,json:{write:{overridePolicy:t=>({enabled:t>1})}}})],xe.prototype,"maxRecordCountFactor",void 0),h([f({type:["xyFootprint"],json:{write:!0}})],xe.prototype,"multipatchOption",void 0),h([f({type:Number,json:{read:{source:"resultRecordCount"}}})],xe.prototype,"num",void 0),h([f({json:{write:!0}})],xe.prototype,"objectIds",void 0),h([f({type:[String],json:{write:!0}})],xe.prototype,"orderByFields",void 0),h([f({type:[String],json:{write:!0}})],xe.prototype,"outFields",void 0),h([f({type:Se,json:{name:"outSR",write:!0}})],xe.prototype,"outSpatialReference",void 0),h([f({type:[Co],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.outStatistics!=null&&this.outStatistics.length>0}}}}})],xe.prototype,"outStatistics",void 0),h([f({json:{write:!0}})],xe.prototype,"parameterValues",void 0),h([_e("parameterValues")],xe.prototype,"writeParameterValues",null),h([f({type:Re,json:{write:!0}})],xe.prototype,"pixelSize",void 0),h([f({type:dc,json:{write:!0}})],xe.prototype,"quantizationParameters",void 0),h([f({type:[Object],json:{write:!0}})],xe.prototype,"rangeValues",void 0),h([f({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],xe.prototype,"relationParameter",void 0),h([f({type:String,json:{write:!0}})],xe.prototype,"resultType",void 0),h([f({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"returnCentroid",void 0),h([f({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"returnDistinctValues",void 0),h([f({type:Boolean,json:{default:!0,write:!0}})],xe.prototype,"returnExceededLimitFeatures",void 0),h([f({type:Boolean,json:{write:!0}})],xe.prototype,"returnGeometry",void 0),h([f({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"returnQueryGeometry",void 0),h([f({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"returnM",void 0),h([f({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],xe.prototype,"returnZ",void 0),h([f({type:Boolean,json:{write:!0}})],xe.prototype,"returnTrueCurves",void 0),h([f({type:Se,json:{write:!0}})],xe.prototype,"sourceSpatialReference",void 0),h([ke(kSe,{ignoreUnknown:!1,name:"spatialRel"})],xe.prototype,"spatialRelationship",void 0),h([f({type:Number,json:{read:{source:"resultOffset"}}})],xe.prototype,"start",void 0),h([_e("start"),_e("num")],xe.prototype,"writeStart",null),h([f({type:String,json:{write:!0}})],xe.prototype,"sqlFormat",void 0),h([f({type:String,json:{write:!0}})],xe.prototype,"text",void 0),h([f({type:Ii,json:{write:!0}})],xe.prototype,"timeExtent",void 0),h([f({type:Boolean,json:{default:!1,write:!0}})],xe.prototype,"timeReferenceUnknownClient",void 0),h([ke(CSe,{ignoreUnknown:!1}),f({json:{write:{overridePolicy(t){return{enabled:!!t&&this.distance!=null}}}}})],xe.prototype,"units",void 0),h([f({type:String,json:{write:{overridePolicy(t){return{enabled:t!=null||this.start!=null&&this.start>0}}}}})],xe.prototype,"where",void 0),h([_e("where")],xe.prototype,"writeWhere",null),xe=eS=h([I("esri.rest.support.Query")],xe);var fO;const O5=new ct({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),k5=new ct({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let ga=fO=class extends ae{constructor(t){super(t),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(t={}){const{where:e,geometry:i,spatialRelationship:r,timeExtent:s,objectIds:n,units:o,distance:l}=this;return new xe({geometry:G(i),objectIds:G(n),spatialRelationship:r,timeExtent:G(s),where:e,units:o,distance:l,...t})}clone(){const{where:t,geometry:e,spatialRelationship:i,timeExtent:r,objectIds:s,units:n,distance:o}=this;return new fO({geometry:G(e),objectIds:G(s),spatialRelationship:i,timeExtent:G(r),where:t,units:n,distance:o})}};h([f({type:String,json:{write:!0}})],ga.prototype,"where",void 0),h([f({types:Nw,json:{write:!0}})],ga.prototype,"geometry",void 0),h([f({type:O5.apiValues,json:{name:"spatialRel",read:{reader:O5.read},write:{allowNull:!1,writer:O5.write,overridePolicy(){return{enabled:this.geometry!=null}}}}})],ga.prototype,"spatialRelationship",void 0),h([f({type:Number,json:{write:{overridePolicy(t){return{enabled:t!=null&&this.geometry!=null}}}}})],ga.prototype,"distance",void 0),h([f({type:[Number],json:{write:!0}})],ga.prototype,"objectIds",void 0),h([f({type:k5.apiValues,json:{read:k5.read,write:{writer:k5.write,overridePolicy(t){return{enabled:t!=null&&this.geometry!=null}}}}})],ga.prototype,"units",void 0),h([f({type:Ii,json:{write:!0}})],ga.prototype,"timeExtent",void 0),ga=fO=h([I("esri.layers.support.FeatureFilter")],ga);const RSe=ga;var mO;const r9={read:{reader:tw},write:{writer:iw,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}},s9={read:{reader:tw},write:{writer:iw,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}},n9={name:"showExcludedLabels",default:!0};let ld=mO=class extends ae{constructor(t){super(t),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(t,e){var r,s;const i=super.write(t,e);if(e!=null&&e.origin){if(i.filter){const n=Object.keys(i.filter);if(n.length>1||n[0]!=="where")return(r=e.messages)==null||r.push(new B("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:e.layer,effect:this})),null}if("showExcludedLabels"in i)return(s=e.messages)==null||s.push(new B("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:e.layer,effect:this})),null}return i}clone(){return new mO({filter:this.filter!=null?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};h([f({type:RSe,json:{write:{allowNull:!0,writer(t,e,i,r){const s=t==null?void 0:t.write({},r);s&&Object.keys(s).length!==0?bs(i,s,e):bs(i,null,e)}}}})],ld.prototype,"filter",void 0),h([f({json:{read:tw,write:{writer:iw,allowNull:!0},origins:{"web-map":r9,"portal-item":r9}}})],ld.prototype,"includedEffect",void 0),h([f({json:{read:tw,write:{writer:iw,allowNull:!0},origins:{"web-map":s9,"portal-item":s9}}})],ld.prototype,"excludedEffect",void 0),h([f({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":n9,"portal-item":n9}}})],ld.prototype,"excludedLabelsVisible",void 0),ld=mO=h([I("esri.layers.support.FeatureEffect")],ld);const o9={write:{allowNull:!0}},ISe={type:ld,json:{origins:{"web-map":o9,"portal-item":o9}}},PSe=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return h([f(ISe)],i.prototype,"featureEffect",void 0),i=h([I("esri.layers.mixins.FeatureEffectLayer")],i),i};let jSe=class extends K1{constructor(e){super(),this.type="aggregate",this.featureReductionProvider=e}get id(){return this.featureReductionProvider.id}get[Dw](){const e=this.featureReductionProvider.featureReduction;return e&&"popupTemplate"in e?e:null}},wc=class extends rt(ae){constructor(e){super(e),this.expression=null,this.title=null,this.returnType=null}};h([f({type:String,json:{write:!0}})],wc.prototype,"expression",void 0),h([f({type:String,json:{write:!0}})],wc.prototype,"title",void 0),h([f({type:String,json:{write:!0}})],wc.prototype,"returnType",void 0),wc=h([I("esri.layers.support.ExpressionInfo")],wc);var yO,cy;let Br=(cy=class extends ae{constructor(e){super(e),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new yO({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:G(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}},yO=cy,cy);h([f({type:Boolean,json:{write:!0}})],Br.prototype,"isAutoGenerated",void 0),h([f({type:String,json:{write:!0}})],Br.prototype,"name",void 0),h([f({type:String,json:{write:!0}})],Br.prototype,"alias",void 0),h([f({type:String,json:{write:!0}})],Br.prototype,"onStatisticField",void 0),h([f({type:wc,json:{write:!0}})],Br.prototype,"onStatisticExpression",void 0),h([f({type:String,json:{write:!0}})],Br.prototype,"statisticType",void 0),Br=yO=h([I("esri.layers.support.AggregateField")],Br);let Ic=class extends ae{constructor(){super(...arguments),this.type=null}};h([f({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],Ic.prototype,"type",void 0),Ic=h([I("esri.layers.support.FeatureReduction")],Ic);var gO;let _v=gO=class extends ae{constructor(t){super(t),this.expression=void 0,this.title=void 0}async collectRequiredFields(t,e){return Ss(t,e,null,this.expression)}clone(){return new gO({expression:this.expression,title:this.title})}equals(t){return this.expression===t.expression&&this.title===t.title}};h([f({type:String,json:{write:{isRequired:!0}}})],_v.prototype,"expression",void 0),h([f({type:String,json:{write:!0}})],_v.prototype,"title",void 0),_v=gO=h([I("esri.symbols.support.FeatureExpressionInfo")],_v);const a9=_v,jT={unknown:1,inches:_i(1,"meters","inches"),feet:_i(1,"meters","feet"),"us-feet":_i(1,"meters","us-feet"),yards:_i(1,"meters","yards"),miles:_i(1,"meters","miles"),"nautical-miles":_i(1,"meters","nautical-miles"),millimeters:_i(1,"meters","millimeters"),centimeters:_i(1,"meters","centimeters"),decimeters:_i(1,"meters","decimeters"),meters:_i(1,"meters","meters"),kilometers:_i(1,"meters","kilometers"),"decimal-degrees":1/nve(1,"meters",hi.radius)};function H7e(t){return!!t&&jT[t]!=null}function W7e(t){return 1/(jT[t]||1)}function NSe(){const t=Object.keys(jT);return UC(t,"decimal-degrees"),t.sort(),t}const DSe=NSe(),A_=wr()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),l9=new ct({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let _l=class extends rt(ae){constructor(e){super(e),this.featureExpressionInfo=void 0,this.offset=null}readFeatureExpressionInfo(e,i){return e!=null?e.expression?e:void 0:i.featureExpression&&i.featureExpression.value===0?{expression:"0"}:void 0}writeFeatureExpressionInfo(e,i,r,s){i[r]=e.write({},s),e.expression==="0"&&(i.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:i}=this;return this._isOverridden("mode")?this._get("mode"):e!=null||i?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,i){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,i):null}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&dhe(this.featureExpressionInfo,e.featureExpressionInfo)}};h([f({type:a9,json:{write:!0}})],_l.prototype,"featureExpressionInfo",void 0),h([Ie("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],_l.prototype,"readFeatureExpressionInfo",null),h([_e("featureExpressionInfo",{featureExpressionInfo:{type:a9},"featureExpression.value":{type:[0]}})],_l.prototype,"writeFeatureExpressionInfo",null),h([f({type:A_.apiValues,nonNullable:!0,json:{type:A_.jsonValues,read:A_.read,write:{writer:A_.write,isRequired:!0}}})],_l.prototype,"mode",null),h([f({type:Number,json:{write:!0}})],_l.prototype,"offset",void 0),h([f({type:DSe,json:{type:String,read:l9.read,write:l9.write}})],_l.prototype,"unit",null),_l=h([I("esri.symbols.support.ElevationInfo")],_l);let Wf=class extends ae{constructor(e){super(e),this.description=null,this.label=null,this.type=null}};h([f({type:String,json:{write:!0}})],Wf.prototype,"description",void 0),h([f({type:String,json:{write:!0}})],Wf.prototype,"label",void 0),h([f()],Wf.prototype,"type",void 0),Wf=h([I("esri.tables.elements.AttributeTableElement")],Wf);const $g=Wf;let Sv=class extends rt($g){constructor(e){super(e),this.displayType="auto",this.type="attachment"}clone(){return super.clone()}};h([f({type:["auto"],json:{write:!0}})],Sv.prototype,"displayType",void 0),h([f({type:["attachment"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],Sv.prototype,"type",void 0),Sv=h([I("esri.tables.elements.AttributeTableAttachmentElement")],Sv);const GJ=Sv;let ud=class extends rt($g){constructor(e){super(e),this.description=null,this.fieldName=null,this.label=null,this.type="field"}clone(){return super.clone()}};h([f({type:String,json:{read:!1,write:!1}})],ud.prototype,"description",void 0),h([f({type:String,json:{write:{enabled:!0,isRequired:!0}}})],ud.prototype,"fieldName",void 0),h([f({type:String,json:{read:!1,write:!1}})],ud.prototype,"label",void 0),h([f({type:["field"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],ud.prototype,"type",void 0),ud=h([I("esri.tables.elements.AttributeTableFieldElement")],ud);const HJ=ud;let xv=class extends rt($g){constructor(e){super(e),this.relationshipId=null,this.type="relationship"}clone(){return super.clone()}};h([f({type:Number,json:{type:ot,write:{enabled:!0,isRequired:!0}}})],xv.prototype,"relationshipId",void 0),h([f({type:["relationship"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],xv.prototype,"type",void 0),xv=h([I("esri.tables.elements.AttributeTableRelationshipElement")],xv);const WJ=xv,ZJ={base:$g,key:"type",typeMap:{attachment:GJ,field:HJ,relationship:WJ}};function LSe(t){return{typesWithGroup:{base:$g,key:"type",typeMap:{attachment:GJ,field:HJ,group:t,relationship:WJ}},typesWithoutGroup:ZJ}}let Tv=class extends rt($g){constructor(e){super(e),this.elements=null,this.type="group"}clone(){return super.clone()}};h([f({types:[ZJ],json:{name:"attributeTableElements",write:!0}})],Tv.prototype,"elements",void 0),h([f({type:["group"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],Tv.prototype,"type",void 0),Tv=h([I("esri.tables.elements.AttributeTableGroupElement")],Tv);const VSe=Tv;let $v=class extends rt(ae){constructor(e){super(e),this.field=null,this.order=null}};h([f({type:String,json:{write:!0}})],$v.prototype,"field",void 0),h([f({type:["asc","desc"],json:{write:!0}})],$v.prototype,"order",void 0),$v=h([I("esri.tables.support.FieldOrder")],$v);const FSe=$v;var vO;const zSe=LSe(VSe);let Mv=vO=class extends ae{constructor(t){super(t),this.elements=null,this.orderByFields=null}clone(){return new vO({elements:G(this.elements),orderByFields:G(this.orderByFields)})}};h([f({types:[zSe.typesWithGroup],json:{name:"attributeTableElements",write:!0}})],Mv.prototype,"elements",void 0),h([f({type:[FSe],json:{write:!0}})],Mv.prototype,"orderByFields",void 0),Mv=vO=h([I("esri.tables.AttributeTableTemplate")],Mv);const USe=Mv,qSe={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:ji}}},NT={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(t,e)=>!e.disablePopup},write:{enabled:!0,writer(t,e,i){e[i]=!t}}}},DT={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:ji}}},BSe={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:up}}},GSe={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:ji}}},HSe={value:null,type:_l,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:ji}}};function t9e(t){return{type:t,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const YJ={write:{enabled:!0,layerContainerTypes:ji},read:!0},gx={type:Number,json:{origins:{"web-document":YJ,"portal-item":{write:{layerContainerTypes:ji}}}}},i9e={...gx,json:{...gx.json,origins:{"web-document":{...YJ,write:{enabled:!0,layerContainerTypes:ji,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(t,e,i)=>{var r;return i&&i.origin!=="service"||!e.drawingInfo||e.drawingInfo.transparency===void 0?(r=e.layerDefinition)!=null&&r.drawingInfo&&e.layerDefinition.drawingInfo.transparency!==void 0?ew(e.layerDefinition.drawingInfo.transparency):void 0:ew(e.drawingInfo.transparency)}}}},r9e={type:Ye,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(t,e)=>{const i=Ye.fromJSON(t);return e.spatialReference!=null&&typeof e.spatialReference=="object"&&(i.spatialReference=Se.fromJSON(e.spatialReference)),i}}}},read:!1}},WSe={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},s9e={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.minScale",write:{layerContainerTypes:ji}}},n9e={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.maxScale",write:{layerContainerTypes:ji}}},ZSe={json:{write:{ignoreOrigin:!0,layerContainerTypes:ji},origins:{"web-map":{read:!1,write:!1}}}},YSe={type:USe,json:{name:"attributeTableInfo",write:!0}};function o9e(t,e,i){return JC(t.map((r,s)=>e.apply(i,[r,s])))}async function JSe(t,e,i){return(await JC(t.map((r,s)=>e.apply(i,[r,s])))).map(r=>r.value)}function _6(t){return{ok:!0,value:t}}function S6(t){return{ok:!1,error:t}}function KSe(t){return t!=null&&t.ok===!0?t.value:null}function XSe(t){return t!=null&&t.ok===!1?t.error:null}async function x6(t){if(t==null)return{ok:!1,error:new Error("no promise provided")};try{return _6(await t)}catch(e){return S6(e)}}async function QSe(t){try{return _6(await t)}catch(e){return Oa(e),S6(e)}}function LT(t,e){return new ec(t,e)}let ec=class extends $e{get value(){return KSe(this._result)}get error(){return XSe(this._result)}get finished(){return this._result!=null}constructor(e,i){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=np(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:r}=this._abortController;this.promise=e(r),this.promise.then(s=>{this._result=_6(s),this._cleanup()},s=>{this._result=S6(s),this._cleanup()}),this._abortHandle=ao(i,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=Dt(this._abortHandle),this._abortController=null}};h([f()],ec.prototype,"value",null),h([f()],ec.prototype,"error",null),h([f()],ec.prototype,"finished",null),h([f()],ec.prototype,"promise",void 0),h([f()],ec.prototype,"_result",void 0),ec=h([I("esri.core.asyncUtils.ReactiveTask")],ec);async function exe(t,e,i){e=e.clone(),t.capabilities.query.supportsMaxRecordCountFactor&&(e.maxRecordCountFactor=JJ(t));const r=txe(t),s=t.capabilities.query.supportsPagination;e.start=0,e.num=r;let n=null;for(;;){const o=await t.source.queryFeaturesJSON(e,i);if(n==null?n=o:n.features=n.features.concat(o.features),n.exceededTransferLimit=o.exceededTransferLimit,!s||!o.exceededTransferLimit)break;e.start+=r}return n}function txe(t){return JJ(t)*ixe(t)}function ixe(t){return t.capabilities.query.maxRecordCount||2e3}function JJ(t){return t.capabilities.query.supportsMaxRecordCountFactor?xe.MAX_MAX_RECORD_COUNT_FACTOR:1}const O_=new WeakMap;function KJ(t){return!t.destroyed&&(O_.has(t)||t.addHandles([Le(()=>{const{parent:e}=t;return!!(e&&e instanceof Kt)&&(e.type==="catalog-dynamic-group"||KJ(e))},e=>O_.set(t,e),qr),at(()=>O_.delete(t))]),O_.get(t))}const XJ=Symbol("BasemapInstance");function l9e(t){return t!=null&&typeof t=="object"&&XJ in t}function rxe(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="feature"}function u9e(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="graphics"}function sxe(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="map-image"}function nxe(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="knowledge-graph"&&"layers"in t}function c9e(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="knowledge-graph-sublayer"}function u9(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="subtype-group"&&"sublayers"in t}function Zf(t){return(t==null?void 0:t.type)==="subtype-sublayer"}const h9e={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function wO(t){const e=t==null?void 0:t.type;return e==="building-scene"||e==="integrated-mesh"||e==="point-cloud"||e==="scene"}function d9e(t){return t.type==="integrated-mesh"||t.type==="integrated-mesh-3dtiles"}function VT(t){var e;return(t==null?void 0:t.type)==="feature"&&!t.url&&((e=t.source)==null?void 0:e.type)==="memory"}function p9e(t){var i;const e=t==null?void 0:t.type;return(e==="feature"||e==="subtype-group"||e==="oriented-imagery")&&((i=t==null?void 0:t.source)==null?void 0:i.type)==="feature-layer"}function oxe(t){var e;return(t==null?void 0:t.type)==="feature"&&((e=t.source)==null?void 0:e.type)==="feature-layer"}function f9e(t){return rxe(t)&&oxe(t)}async function T6(t,e){const i=ze==null?void 0:ze.findServerInfo(t);if((i==null?void 0:i.currentVersion)!=null)return i.owningSystemUrl||null;const r=t.toLowerCase().indexOf("/rest/services");if(r===-1)return null;const s=`${t.slice(0,r)}/rest/info`,n=e!=null?e.signal:null,{data:o}=await Bt(s,{query:{f:"json"},responseType:"json",signal:n});return(o==null?void 0:o.owningSystemUrl)||null}function QJ(t){if(!("capabilities"in t))return!1;switch(t.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function axe(t){return QJ(t)?"effectiveCapabilities"in t?t.effectiveCapabilities:t.capabilities:null}function lxe(t){if(!("editingEnabled"in t))return!1;switch(t.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":case"knowledge-graph-sublayer":return!0;default:return!1}}function uxe(t){return!!lxe(t)&&("effectiveEditingEnabled"in t?t.effectiveEditingEnabled:t.editingEnabled)}function cxe(t,e){return null}function m9e(t){return null}function hxe(t){return!t||t.type==="Feature Service"&&!t.sourceUrl}function y9e(t,e){!e||!hxe(t)||cxe(t.url)}var bO;let Ev=bO=class extends ae{constructor(t){super(t),this.minValue=0,this.maxValue=0}clone(){return new bO({minValue:this.minValue,maxValue:this.maxValue})}};h([f({type:Number,json:{write:!0}})],Ev.prototype,"minValue",void 0),h([f({type:Number,json:{write:!0}})],Ev.prototype,"maxValue",void 0),Ev=bO=h([I("esri.renderers.support.AuthoringInfoClassBreakInfo")],Ev);var _O;let pc=_O=class extends ae{constructor(t){super(t),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=new Array}clone(){return new _O({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:G(this.classBreakInfos)})}};h([f({type:String,json:{write:!0}})],pc.prototype,"field",void 0),h([f({type:String,json:{write:!0}})],pc.prototype,"normalizationField",void 0),h([f({type:String,json:{write:!0}})],pc.prototype,"label",void 0),h([f({type:[Ev],json:{write:!0}})],pc.prototype,"classBreakInfos",void 0),pc=_O=h([I("esri.renderers.support.AuthoringInfoFieldInfo")],pc);var SO;let Yf=SO=class extends ae{constructor(t){super(t),this.label=null,this.size=null,this.value=null}clone(){return new SO({label:this.label,value:this.value,size:this.size})}};h([f({type:String,json:{write:!0}})],Yf.prototype,"label",void 0),h([f({type:Number,json:{write:!0}})],Yf.prototype,"size",void 0),h([f({type:Number,json:{write:!0}})],Yf.prototype,"value",void 0),Yf=SO=h([I("esri.renderers.support.AuthoringInfoSizeStop")],Yf);const dxe=Yf;var xO;const k_=new ct({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),C_=new ct({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),c9={key:t=>typeof t=="number"?"number":"string",typeMap:{number:Number,string:String},base:null},h9=["high-to-low","above-and-below","centered-on","extremes"],d9=[...new Set(["high-to-low","above-and-below","centered-on","extremes","above","below","high-to-low","above-and-below","above","below","reference-size","spike"])],p9=["seconds","minutes","hours","days","months","years"],pxe=["circle","diamond","hexagon-flat","hexagon-pointy","square"],fxe=["triangle-closed-outline","triangle-gradient-fill-closed","triangle-gradient-fill-closed-outline","triangle-gradient-fill-open","triangle-gradient-fill-open-outline","triangle-open-outline","triangle-solid-fill-closed","triangle-solid-fill-closed-outline","triangle-solid-fill-open","triangle-solid-fill-open-outline"];let Ji=xO=class extends ae{constructor(t){super(t),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(t){return typeof t=="string"||typeof t=="number"?t:null}get normalizationField(){return this.theme==="reference-size"||this.theme==="spike"?this._get("normalizationField"):null}set normalizationField(t){this._set("normalizationField",t)}get referenceSizeScale(){return this.theme==="reference-size"?this._get("referenceSizeScale"):null}set referenceSizeScale(t){this._set("referenceSizeScale",t)}get referenceSizeSymbolStyle(){return this.theme==="reference-size"?this._get("referenceSizeSymbolStyle"):null}set referenceSizeSymbolStyle(t){this._set("referenceSizeSymbolStyle",t)}get spikeSymbolStyle(){return this.theme==="spike"?this._get("spikeSymbolStyle"):null}set spikeSymbolStyle(t){this._set("spikeSymbolStyle",t)}castStartTime(t){return typeof t=="string"||typeof t=="number"?t:null}get sizeStops(){return this.theme==="reference-size"||this.theme==="spike"?this._get("sizeStops"):null}set sizeStops(t){this._set("sizeStops",t)}get style(){return this.type==="color"?this._get("style"):null}set style(t){this._set("style",t)}get theme(){return this.type==="color"||this.type==="size"?this._get("theme")||"high-to-low":null}set theme(t){this._set("theme",t)}clone(){return new xO({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,normalizationField:this.normalizationField,referenceSizeScale:this.referenceSizeScale,referenceSizeSymbolStyle:this.referenceSizeSymbolStyle,spikeSymbolStyle:this.spikeSymbolStyle,sizeStops:G(this.sizeStops),startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};h([f({types:c9,json:{write:!0}})],Ji.prototype,"endTime",void 0),h([Ot("endTime")],Ji.prototype,"castEndTime",null),h([f({type:String,json:{write:!0}})],Ji.prototype,"field",void 0),h([f({type:Number,json:{write:!0}})],Ji.prototype,"maxSliderValue",void 0),h([f({type:Number,json:{write:!0}})],Ji.prototype,"minSliderValue",void 0),h([f({type:String,json:{origins:{"web-scene":{write:!1}},write:!0}})],Ji.prototype,"normalizationField",null),h([f({type:Number,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],Ji.prototype,"referenceSizeScale",null),h([f({type:pxe,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],Ji.prototype,"referenceSizeSymbolStyle",null),h([f({type:fxe,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],Ji.prototype,"spikeSymbolStyle",null),h([f({types:c9,json:{write:!0}})],Ji.prototype,"startTime",void 0),h([Ot("startTime")],Ji.prototype,"castStartTime",null),h([f({type:[dxe],json:{origins:{"web-scene":{write:!1}},write:!0}})],Ji.prototype,"sizeStops",null),h([f({type:k_.apiValues,value:null,json:{type:k_.jsonValues,read:k_.read,write:k_.write}})],Ji.prototype,"style",null),h([f({type:d9,value:null,json:{type:d9,origins:{"web-scene":{type:h9,write:{writer:(t,e)=>{h9.includes(t)&&(e.theme=t)}}}},write:!0}})],Ji.prototype,"theme",null),h([f({type:C_.apiValues,json:{type:C_.jsonValues,read:C_.read,write:C_.write}})],Ji.prototype,"type",void 0),h([f({type:p9,json:{type:p9,write:!0}})],Ji.prototype,"units",void 0),Ji=xO=h([I("esri.renderers.support.AuthoringInfoVisualVariable")],Ji);const mxe=Ji;let Vm=class extends ae{constructor(e){super(e),this.type=null}};h([f({readOnly:!0,json:{read:!1,write:!0}})],Vm.prototype,"type",void 0),Vm=h([I("esri.rest.support.ColorRamp")],Vm);var TO;let Gl=TO=class extends Vm{constructor(t){super(t),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new TO({fromColor:G(this.fromColor),toColor:G(this.toColor),algorithm:this.algorithm})}};h([ke({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],Gl.prototype,"algorithm",void 0),h([f({type:Ne,json:{type:[ot],write:{isRequired:!0}}})],Gl.prototype,"fromColor",void 0),h([f({type:Ne,json:{type:[ot],write:{isRequired:!0}}})],Gl.prototype,"toColor",void 0),h([f({type:["algorithmic"],json:{write:{isRequired:!0}}})],Gl.prototype,"type",void 0),Gl=TO=h([I("esri.rest.support.AlgorithmicColorRamp")],Gl);var $O;let Vl=$O=class extends Vm{constructor(t){super(t),this.colorRamps=null,this.type="multipart",this.weights=void 0}writeColorRamps(t,e,i,r){const s=t==null?void 0:t.map(o=>o.toJSON(r)),{weights:n}=this;if(s&&(n!=null&&n.length)&&s.length===(n==null?void 0:n.length)){const o=100/n.reduce((c,d)=>c+d);let l=0;s.forEach((c,d)=>{c.start=l,l+=n[d]*o,c.stop=l})}e.colorRamps=s}readWeights(t,e){var r;const i=(r=e.colorRamps)==null?void 0:r.map(({start:s,stop:n})=>s==null||n==null?-1:n-s);if(!(i!=null&&i.some(s=>s<0)))return i}clone(){return new $O({colorRamps:G(this.colorRamps)})}};h([f({type:[Gl],json:{write:{isRequired:!0}}})],Vl.prototype,"colorRamps",void 0),h([_e("colorRamps")],Vl.prototype,"writeColorRamps",null),h([f({type:["multipart"],json:{write:{isRequired:!0}}})],Vl.prototype,"type",void 0),h([f({type:[Number]})],Vl.prototype,"weights",void 0),h([Ie("weights",["colorRamps"])],Vl.prototype,"readWeights",null),Vl=$O=h([I("esri.rest.support.MultipartColorRamp")],Vl);const yxe={key:"type",base:Vm,typeMap:{algorithmic:Gl,multipart:Vl}};function gxe(t){return t!=null&&t.type?t.type==="algorithmic"?Gl.fromJSON(t):t.type==="multipart"?Vl.fromJSON(t):null:null}var MO;const Dh=new ct({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),R_=new ct({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),f9=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers"],vxe=["high-to-low","above-and-below","above","below"],wxe=["flow-line","wave-front"],bxe=["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"];let Yt=MO=class extends ae{constructor(t){super(t),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const t=this._get("classificationMethod"),e=this.type;return e&&e!=="relationship"?e==="class-breaks-size"||e==="class-breaks-color"?t||"manual":null:t}set classificationMethod(t){this._set("classificationMethod",t)}readColorRamp(t){return t?gxe(t):void 0}get fields(){return this.type&&this.type!=="predominance"?null:this._get("fields")}set fields(t){this._set("fields",t)}get field1(){return this.type&&this.type!=="relationship"?null:this._get("field1")}set field1(t){this._set("field1",t)}get field2(){return this.type&&this.type!=="relationship"?null:this._get("field2")}set field2(t){this._set("field2",t)}get flowTheme(){return this.type==="flow"?this._get("flowTheme"):null}set flowTheme(t){this._set("flowTheme",t)}get focus(){return this.type&&this.type!=="relationship"?null:this._get("focus")}set focus(t){this._set("focus",t)}get numClasses(){return this.type&&this.type!=="relationship"?null:this._get("numClasses")}set numClasses(t){this._set("numClasses",t)}get statistics(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("statistics"):null}set statistics(t){this._set("statistics",t)}get standardDeviationInterval(){const t=this.type;return t&&t!=="relationship"&&t!=="class-breaks-size"&&t!=="class-breaks-color"||this.classificationMethod&&this.classificationMethod!=="standard-deviation"?null:this._get("standardDeviationInterval")}set standardDeviationInterval(t){this._set("standardDeviationInterval",t)}get type(){return this._get("type")}set type(t){let e=t;t==="classed-size"?e="class-breaks-size":t==="classed-color"&&(e="class-breaks-color"),this._set("type",e)}get univariateSymbolStyle(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(t){this._set("univariateSymbolStyle",t)}get univariateTheme(){return this.type==="univariate-color-size"?this._get("univariateTheme"):null}set univariateTheme(t){this._set("univariateTheme",t)}clone(){var t;return new MO({classificationMethod:this.classificationMethod,colorRamp:G(this.colorRamp),fadeRatio:G(this.fadeRatio),fields:(t=this.fields)==null?void 0:t.slice(),field1:G(this.field1),field2:G(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(e=>e.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};h([f({type:Dh.apiValues,value:null,json:{type:Dh.jsonValues,read:Dh.read,write:Dh.write,origins:{"web-document":{default:"manual",type:Dh.jsonValues,read:Dh.read,write:Dh.write}}}})],Yt.prototype,"classificationMethod",null),h([f({types:yxe,json:{write:!0}})],Yt.prototype,"colorRamp",void 0),h([Ie("colorRamp")],Yt.prototype,"readColorRamp",null),h([f({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Yt.prototype,"fadeRatio",void 0),h([f({type:[String],value:null,json:{write:!0}})],Yt.prototype,"fields",null),h([f({type:pc,value:null,json:{write:!0}})],Yt.prototype,"field1",null),h([f({type:pc,value:null,json:{write:!0}})],Yt.prototype,"field2",null),h([f({type:wxe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Yt.prototype,"flowTheme",null),h([f({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],Yt.prototype,"focus",null),h([f({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],Yt.prototype,"isAutoGenerated",void 0),h([f({type:Number,value:null,json:{type:ot,write:!0}})],Yt.prototype,"numClasses",null),h([f({type:f9,json:{type:f9,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],Yt.prototype,"lengthUnit",void 0),h([f({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Yt.prototype,"maxSliderValue",void 0),h([f({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Yt.prototype,"minSliderValue",void 0),h([f({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Yt.prototype,"statistics",null),h([f({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],Yt.prototype,"standardDeviationInterval",null),h([f({type:R_.apiValues,value:null,json:{type:R_.jsonValues,read:R_.read,write:R_.write}})],Yt.prototype,"type",null),h([f({type:[mxe],json:{write:!0}})],Yt.prototype,"visualVariables",void 0),h([f({type:bxe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Yt.prototype,"univariateSymbolStyle",null),h([f({type:vxe,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],Yt.prototype,"univariateTheme",null),Yt=MO=h([I("esri.renderers.support.AuthoringInfo")],Yt);const C5=new ct({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let yn=class extends ae{constructor(e){super(e),this.authoringInfo=null,this.type=null}async getRequiredFields(e){if(!this.collectRequiredFields)return[];const i=new Set;return await this.collectRequiredFields(i,e),Array.from(i).sort()}getSymbol(e,i){}async getSymbolAsync(e,i){}get symbols(){return[]}get arcadeRequired(){return!1}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};h([f({type:Yt,json:{write:!0}})],yn.prototype,"authoringInfo",void 0),h([f({type:C5.apiValues,readOnly:!0,json:{type:C5.jsonValues,read:!1,write:{writer:C5.write,ignoreOrigin:!0,isRequired:!0}}})],yn.prototype,"type",void 0),yn=h([I("esri.renderers.Renderer")],yn);let Av=class extends rt(ae){constructor(){super(...arguments),this.showLegend=null,this.title=null}};h([f({type:Boolean,json:{write:!0}})],Av.prototype,"showLegend",void 0),h([f({type:String,json:{write:!0}})],Av.prototype,"title",void 0),Av=h([I("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],Av);const eK=Av,R5=new ct({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let zr=class extends ae{constructor(e){super(e),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(e){return e==null?e:typeof e=="function"?(se.getLogger(this).error(".field: field must be a string value"),null):xw(e)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};h([f()],zr.prototype,"index",void 0),h([f({type:R5.apiValues,readOnly:!0,json:{read:R5.read,write:{writer:R5.write,isRequired:!0}}})],zr.prototype,"type",void 0),h([f({type:String,json:{write:!0}})],zr.prototype,"field",void 0),h([Ot("field")],zr.prototype,"castField",null),h([f({type:String,json:{write:!0}})],zr.prototype,"valueExpression",void 0),h([f({type:String,json:{write:!0}})],zr.prototype,"valueExpressionTitle",void 0),h([f({readOnly:!0})],zr.prototype,"arcadeRequired",null),h([f({type:eK,json:{write:!0}})],zr.prototype,"legendOptions",void 0),zr=h([I("esri.renderers.visualVariables.VisualVariable")],zr);var EO;let cd=EO=class extends ae{constructor(t){super(t),this.color=null,this.label=null,this.value=null}writeValue(t,e,i){e[i]=t??0}clone(){return new EO({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};h([f({type:Ne,json:{type:[ot],write:{isRequired:!0}}})],cd.prototype,"color",void 0),h([f({type:String,json:{write:!0}})],cd.prototype,"label",void 0),h([f({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],cd.prototype,"value",void 0),h([_e("value")],cd.prototype,"writeValue",null),cd=EO=h([I("esri.renderers.visualVariables.support.ColorStop")],cd);const _xe=cd;var AO;let fc=AO=class extends zr{constructor(t){super(t),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(t){t&&Array.isArray(t)&&(t=t.filter(e=>!!e)).sort((e,i)=>e.value-i.value),this._set("stops",t)}clone(){var t;return new AO({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:(t=this.legendOptions)==null?void 0:t.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(t=>t.value||0)}};h([f({readOnly:!0})],fc.prototype,"cache",null),h([f({type:["color"],json:{type:["colorInfo"]}})],fc.prototype,"type",void 0),h([f({type:String,json:{write:!0}})],fc.prototype,"normalizationField",void 0),h([f({type:[_xe],json:{write:!0}})],fc.prototype,"stops",null),fc=AO=h([I("esri.renderers.visualVariables.ColorVariable")],fc);var OO;let tc=OO=class extends ae{constructor(t){super(t),this.label=null,this.opacity=null,this.value=null}readOpacity(t,e){return ew(e.transparency)}writeOpacity(t,e,i){e[i]=d6(t)}clone(){return new OO({label:this.label,opacity:this.opacity,value:this.value})}};h([f({type:String,json:{write:!0}})],tc.prototype,"label",void 0),h([f({type:Number,json:{type:ot,write:{target:"transparency",isRequired:!0}}})],tc.prototype,"opacity",void 0),h([Ie("opacity",["transparency"])],tc.prototype,"readOpacity",null),h([_e("opacity")],tc.prototype,"writeOpacity",null),h([f({type:Number,json:{write:{isRequired:!0}}})],tc.prototype,"value",void 0),tc=OO=h([I("esri.renderers.visualVariables.support.OpacityStop")],tc);const Sxe=tc;var kO;let Hl=kO=class extends zr{constructor(t){super(t),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(t){t&&Array.isArray(t)&&(t=t.filter(e=>!!e)).sort((e,i)=>e.value-i.value),this._set("stops",t)}clone(){var t;return new kO({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(e=>e.clone()),legendOptions:(t=this.legendOptions)==null?void 0:t.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(t=>t.value||0)}};h([f({readOnly:!0})],Hl.prototype,"cache",null),h([f({type:["opacity"],json:{type:["transparencyInfo"]}})],Hl.prototype,"type",void 0),h([f({type:String,json:{write:!0}})],Hl.prototype,"normalizationField",void 0),h([f({type:[Sxe],json:{write:!0}})],Hl.prototype,"stops",null),Hl=kO=h([I("esri.renderers.visualVariables.OpacityVariable")],Hl);var CO;let mc=CO=class extends zr{constructor(t){super(t),this.axis=null,this.type="rotation",this.rotationType="geographic"}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}clone(){var t;return new CO({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:(t=this.legendOptions)==null?void 0:t.clone()})}};h([f({readOnly:!0})],mc.prototype,"cache",null),h([f({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],mc.prototype,"axis",void 0),h([f({type:["rotation"],json:{type:["rotationInfo"]}})],mc.prototype,"type",void 0),h([f({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],mc.prototype,"rotationType",void 0),mc=CO=h([I("esri.renderers.visualVariables.RotationVariable")],mc);function xxe(t){return ut(t)}var RO;let zo=RO=class extends ae{constructor(t){super(t),this.label=null,this.size=null,this.value=null,this.useMinValue=null,this.useMaxValue=null}clone(){return new RO({label:this.label,size:this.size,value:this.value,useMaxValue:this.useMaxValue,useMinValue:this.useMinValue})}};h([f({type:String,json:{write:!0}})],zo.prototype,"label",void 0),h([f({type:Number,cast:ut,json:{write:{isRequired:!0}}})],zo.prototype,"size",void 0),h([f({type:Number,json:{write:{isRequired:!0}}})],zo.prototype,"value",void 0),h([f({type:Boolean,json:{write:!1}})],zo.prototype,"useMinValue",void 0),h([f({type:Boolean,json:{write:!1}})],zo.prototype,"useMaxValue",void 0),zo=RO=h([I("esri.renderers.visualVariables.support.SizeStop")],zo);let tS=class extends eK{constructor(){super(...arguments),this.customValues=null}};h([f({type:[Number],json:{write:!0}})],tS.prototype,"customValues",void 0),tS=h([I("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],tS);const Txe=tS;function Em(t){return t&&t.declaredClass==="esri.renderers.visualVariables.SizeVariable"}function gp(t){return t!=null&&!isNaN(t)&&isFinite(t)}function tK(t){return t.valueExpression?"expression":t.field&&typeof t.field=="string"?"field":"unknown"}function $xe(t,e){const i=e||tK(t),r=t.valueUnit||"unknown";return i==="unknown"?"constant":t.stops?"stops":t.minSize!=null&&t.maxSize!=null&&t.minDataValue!=null&&t.maxDataValue!=null?"clamped-linear":r==="unknown"?t.minSize!=null&&t.minDataValue!=null?t.minSize&&t.minDataValue?"proportional":"additive":"identity":"real-world-size"}const iK=()=>se.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),FT=t=>iK().warn(`The visualVariable should be an instance of esri.renderers.visualVariables.${t}`),zT=()=>iK().error("Use of arcade expressions requires an arcade context"),m9=new er,iS=Math.PI,rK=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function sK(t,e,i){var x;const r="visualVariables"in t?(x=t.visualVariables)==null?void 0:x.find(T=>T.type==="color"):t;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.ColorVariable")return void FT("ColorVariable");const s=typeof e=="number",n=s?null:e,o=n==null?void 0:n.attributes;let l=s?e:null;const c=r.field,{ipData:d,hasExpression:m}=r.cache;let v=r.cache.compiledFunc;if(!c&&!m){const T=r.stops;return T&&T[0]&&T[0].color}if(typeof l!="number")if(m){if((i==null?void 0:i.arcade)==null)return void zT();const T={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},M=i.arcade.arcadeUtils,O=M.getViewInfo(T),C=M.createExecContext(n,O,i.timeZone);if(!v){const R=M.createSyntaxTree(r.valueExpression);v=M.createFunction(R),r.cache.compiledFunc=v}l=M.executeFunction(v,C)}else o&&(l=o[c]);const w=r.normalizationField,_=o!=null&&w!=null?parseFloat(o[w]):void 0;if(l!=null&&(!w||s||!isNaN(_)&&_!==0)){gp(_)&&!s&&(l/=_);const T=$6(l,d);if(T){const M=T[0],O=T[1],C=M===O?r.stops[M].color:Ne.blendColors(r.stops[M].color,r.stops[O].color,T[2],i!=null?i.color:void 0);return new Ne(C)}}}function nK(t,e,i){var x;const r="visualVariables"in t?(x=t.visualVariables)==null?void 0:x.find(T=>T.type==="opacity"):t;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.OpacityVariable")return void FT("OpacityVariable");const s=typeof e=="number",n=s?null:e,o=n==null?void 0:n.attributes;let l=s?e:null;const c=r.field,{ipData:d,hasExpression:m}=r.cache;let v=r.cache.compiledFunc;if(!c&&!m){const T=r.stops;return T&&T[0]&&T[0].opacity}if(typeof l!="number")if(m){if((i==null?void 0:i.arcade)==null)return void zT();const T={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},M=i.arcade.arcadeUtils,O=M.getViewInfo(T),C=M.createExecContext(n,O,i.timeZone);if(!v){const R=M.createSyntaxTree(r.valueExpression);v=M.createFunction(R),r.cache.compiledFunc=v}l=M.executeFunction(v,C)}else o&&(l=o[c]);const w=r.normalizationField,_=o!=null&&w!=null?parseFloat(o[w]):void 0;if(l!=null&&(!w||s||!isNaN(_)&&_!==0)){gp(_)&&!s&&(l/=_);const T=$6(l,d);if(T){const M=T[0],O=T[1];if(M===O)return r.stops[M].opacity;{const C=r.stops[M].opacity;return C+(r.stops[O].opacity-C)*T[2]}}}}function oK(t,e,i){var _;const r="visualVariables"in t?(_=t.visualVariables)==null?void 0:_.find(x=>x.type==="rotation"):t;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.RotationVariable")return void FT("RotationVariable");const s=r.axis||"heading",n=s==="heading"&&r.rotationType==="arithmetic"?90:0,o=s==="heading"&&r.rotationType==="arithmetic"?-1:1,l=typeof e=="number"?null:e,c=l==null?void 0:l.attributes,d=r.field,{hasExpression:m}=r.cache;let v=r.cache.compiledFunc,w=null;if(!d&&!m)return w;if(m){if((i==null?void 0:i.arcade)==null)return void zT();const x={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},T=i.arcade.arcadeUtils,M=T.getViewInfo(x),O=T.createExecContext(l,M,i.timeZone);if(!v){const C=T.createSyntaxTree(r.valueExpression);v=T.createFunction(C),r.cache.compiledFunc=v}w=T.executeFunction(v,O)}else c&&(w=c[d]);return w=typeof w!="number"||isNaN(w)?null:n+o*w,w}function Mxe(t,e,i){const r=typeof e=="number",s=r?null:e,n=s==null?void 0:s.attributes;let o=r?e:null;const{isScaleDriven:l}=t.cache;let c=t.cache.compiledFunc;if(l){const m=i!=null?i.scale:void 0,v=i!=null?i.view:void 0;o=m==null||v==="3d"?Exe(t):m}else if(!r)switch(t.inputValueType){case"expression":{if((i==null?void 0:i.arcade)==null)return void zT();const m={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},v=i.arcade.arcadeUtils,w=v.getViewInfo(m),_=v.createExecContext(s,w,i.timeZone);if(!c){const x=v.createSyntaxTree(t.valueExpression);c=v.createFunction(x),t.cache.compiledFunc=c}o=v.executeFunction(c,_);break}case"field":n&&(o=n[t.field]);break;case"unknown":o=null}if(!gp(o))return null;if(r||!t.normalizationField)return o;const d=n?parseFloat(n[t.normalizationField]):null;return gp(d)&&d!==0?o/d:null}function Exe(t){let e=null,i=null;const r=t.stops;return r?(e=r[0].value,i=r[r.length-1].value):(e=t.minDataValue||0,i=t.maxDataValue||0),(e+i)/2}function UT(t,e,i){var n;const r="visualVariables"in t?(n=t.visualVariables)==null?void 0:n.find(o=>o.type==="size"):t;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.SizeVariable")return void FT("SizeVariable");const s=lK(Mxe(r,e,i),r,e,i,r.cache.ipData);return s==null||isNaN(s)?void 0:s}function Hs(t,e,i){return t==null?null:Em(t)?UT(t,e,i):gp(t)?t:null}function aK(t,e,i){return gp(i)&&t>i?i:gp(e)&&t<e?e:t}function Axe(t,e,i,r){const s=Hs(e.minSize,i,r)||e.minDataValue;return t==null&&s==null?null:(t??0)+(s??0)}function Oxe(t,e,i){const r=t.stops;let s=(r==null?void 0:r.length)&&r[0].size;return s==null&&(s=t.minSize),Hs(s,e,i)}function kxe(t,e,i,r){const s=Hs(e.minSize,i,r);if(t==null)return s;const{minDataValue:n,maxDataValue:o}=e;if(n==null||o==null)return null;const l=(t-n)/(o-n),c=Hs(e.maxSize,i,r),d=r!=null?r.shape:void 0;if(t<=n)return s;if(t>=o)return c;if(s==null||c==null)return null;if(e.scaleBy==="area"&&d){const m=d==="circle",v=m?iS*(s/2)**2:s*s,w=v+l*((m?iS*(c/2)**2:c*c)-v);return m?2*Math.sqrt(w/iS):Math.sqrt(w)}return s+l*(c-s)}function Cxe(t,e,i,r){const s=Hs(e.minSize,i,r);if(t==null||s==null)return s;const n=r!=null?r.shape:void 0,{minDataValue:o}=e;if(o==null)return null;const l=t/o,c=Hs(e.maxSize,i,r);let d=null;return d=n==="circle"?2*Math.sqrt(l*(s/2)**2):n==="square"||n==="diamond"||n==="image"?Math.sqrt(l*s**2):l*s,aK(d,s,c)}function Rxe(t,e,i,r,s){var c,d,m;if(t==null)return null;const[n,o,l]=$6(t,s);if(n===o)return Hs((c=e.stops)==null?void 0:c[n].size,i,r);{const v=Hs((d=e.stops)==null?void 0:d[n].size,i,r),w=Hs((m=e.stops)==null?void 0:m[o].size,i,r);return v==null||w==null?null:v+(w-v)*l}}function Ixe(t,e,i,r){const s=((r==null?void 0:r.resolution)??1)*jT[e.valueUnit],n=Hs(e.minSize,i,r),o=Hs(e.maxSize,i,r),{valueRepresentation:l}=e;if(t==null)return n;let c=null;return c=l==="area"?2*Math.sqrt(t/iS)/s:l==="radius"||l==="distance"?2*t/s:t/s,aK(c,n,o)}function lK(t,e,i,r,s){switch(e.transformationType){case"additive":return Axe(t,e,i,r);case"constant":return Oxe(e,i,r);case"clamped-linear":return kxe(t,e,i,r);case"proportional":return Cxe(t,e,i,r);case"stops":return Rxe(t,e,i,r,s);case"real-world-size":return Ixe(t,e,i,r);case"identity":return t;case"unknown":return null}}function Pxe(t,e,i){const{isScaleDriven:r}=t.cache;if(!(r&&i==="3d"||e))return null;const s={scale:e,view:i};let n=Hs(t.minSize,m9,s),o=Hs(t.maxSize,m9,s);if(n!=null||o!=null){if(n>o){const l=o;o=n,n=l}return{minSize:n,maxSize:o}}}function jxe(t,e,i){if(!t.visualVariables)return;const r=[],s=[],n=[],o=[],l=[];for(const c of t.visualVariables)switch(c.type){case"color":s.push(c);break;case"opacity":n.push(c);break;case"rotation":l.push(c);break;case"size":o.push(c)}return s.forEach(c=>{const d=sK(c,e,i);r.push({variable:c,value:d})}),n.forEach(c=>{const d=nK(c,e,i);r.push({variable:c,value:d})}),l.forEach(c=>{const d=oK(c,e,i);r.push({variable:c,value:d})}),o.forEach(c=>{const d=UT(c,e,i);r.push({variable:c,value:d})}),r}function $6(t,e){if(!e)return;let i=0,r=e.length-1;return e.some((s,n)=>t<s?(r=n,!0):(i=n,!1)),[i,r,(t-e[i])/(e[r]-e[i])]}function Nxe(t,e,i){const r=["proportional","proportional","proportional"];for(const s of t){const n=s.useSymbolValue?"symbol-value":UT(s,e,i)??"proportional";switch(s.axis){case"width":r[0]=n;break;case"depth":r[1]=n;break;case"height":r[2]=n;break;case"width-and-depth":r[0]=n,r[1]=n;break;case"all":case void 0:case null:r[0]=n,r[1]=n,r[2]=n;break;default:s.axis}}return r}const S9e=Object.freeze(Object.defineProperty({__proto__:null,getAllSizes:Nxe,getColor:sK,getOpacity:nK,getRotationAngle:oK,getSize:UT,getSizeForValue:lK,getSizeFromNumberOrVariable:Hs,getSizeRangeAtScale:Pxe,getVisualVariableValues:jxe,viewScaleRE:rK},Symbol.toStringTag,{value:"Module"}));var IO;const I_=new ct({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),PO=new ct({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers"});function y9(t){if(t!=null)return typeof t=="string"||typeof t=="number"?xxe(t):t.type==="size"?Em(t)?t:(delete(t={...t}).type,new yt(t)):void 0}function g9(t,e,i){if(typeof t!="object")return t;const r=new yt;return r.read(t,i),r}let yt=IO=class extends zr{constructor(t){super(t),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:this.valueExpression!=null&&rK.test(this.valueExpression)}}set index(t){Em(this.maxSize)&&(this.maxSize.index=`visualVariables[${t}].maxSize`),Em(this.minSize)&&(this.minSize.index=`visualVariables[${t}].minSize`),this._set("index",t)}get inputValueType(){return tK(this)}set maxDataValue(t){t&&this.stops&&(se.getLogger(this).warn("cannot set maxDataValue when stops is not null."),t=null),this._set("maxDataValue",t)}set maxSize(t){t&&this.stops&&(se.getLogger(this).warn("cannot set maxSize when stops is not null."),t=null),this._set("maxSize",t)}castMaxSize(t){return y9(t)}readMaxSize(t,e,i){return g9(t,e,i)}set minDataValue(t){t&&this.stops&&(se.getLogger(this).warn("cannot set minDataValue when stops is not null."),t=null),this._set("minDataValue",t)}set minSize(t){t&&this.stops&&(se.getLogger(this).warn("cannot set minSize when stops is not null."),t=null),this._set("minSize",t)}castMinSize(t){return y9(t)}readMinSize(t,e,i){return g9(t,e,i)}get arcadeRequired(){return!!this.valueExpression||this.minSize!=null&&typeof this.minSize=="object"&&this.minSize.arcadeRequired||this.maxSize!=null&&typeof this.maxSize=="object"&&this.maxSize.arcadeRequired}set stops(t){this.minDataValue==null&&this.maxDataValue==null&&this.minSize==null&&this.maxSize==null?t&&Array.isArray(t)&&(t=t.filter(e=>!!e)).sort((e,i)=>e.value-i.value):t&&(se.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),t=null),this._set("stops",t)}get transformationType(){return $xe(this,this.inputValueType)}readValueExpression(t,e){return t||e.expression&&"$view.scale"}writeValueExpressionWebScene(t,e,i,r){if(t==="$view.scale"){if(r!=null&&r.messages){const s=this.index,n=typeof s=="string"?s:`visualVariables[${s}]`;r.messages.push(new B("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:n+".valueExpression",context:r}))}}else e[i]=t}readValueUnit(t){return t?PO.read(t):null}clone(){var t,e;return new IO({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:Em(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:Em(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:(t=this.stops)==null?void 0:t.map(i=>i.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:(e=this.legendOptions)==null?void 0:e.clone()})}flipSizes(){if(this.transformationType==="clamped-linear"){const{minSize:t,maxSize:e}=this;return this.minSize=e,this.maxSize=t,this}if(this.transformationType==="stops"){const t=this.stops;if(!t)return this;const e=t.map(r=>r.size).reverse(),i=t.length;for(let r=0;r<i;r++)t[r].size=e[r];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){var t;return(t=this.stops)==null?void 0:t.map(e=>e.value||0)}};h([f({readOnly:!0})],yt.prototype,"cache",null),h([f({type:I_.apiValues,json:{type:I_.jsonValues,origins:{"web-map":{read:!1}},read:I_.read,write:I_.write}})],yt.prototype,"axis",void 0),h([f()],yt.prototype,"index",null),h([f({type:String,readOnly:!0})],yt.prototype,"inputValueType",null),h([f({type:Txe,json:{write:!0}})],yt.prototype,"legendOptions",void 0),h([f({type:Number,value:null,json:{write:!0}})],yt.prototype,"maxDataValue",null),h([f({type:Number,value:null,json:{write:!0}})],yt.prototype,"maxSize",null),h([Ot("maxSize")],yt.prototype,"castMaxSize",null),h([Ie("maxSize")],yt.prototype,"readMaxSize",null),h([f({type:Number,value:null,json:{write:!0}})],yt.prototype,"minDataValue",null),h([f({type:Number,value:null,json:{write:!0}})],yt.prototype,"minSize",null),h([Ot("minSize")],yt.prototype,"castMinSize",null),h([Ie("minSize")],yt.prototype,"readMinSize",null),h([f({type:String,json:{write:!0}})],yt.prototype,"normalizationField",void 0),h([f({readOnly:!0})],yt.prototype,"arcadeRequired",null),h([f({type:String})],yt.prototype,"scaleBy",void 0),h([f({type:[zo],value:null,json:{write:!0}})],yt.prototype,"stops",null),h([f({type:["outline"],json:{write:!0}})],yt.prototype,"target",void 0),h([f({type:String,readOnly:!0})],yt.prototype,"transformationType",null),h([f({type:["size"],json:{type:["sizeInfo"]}})],yt.prototype,"type",void 0),h([f({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],yt.prototype,"useSymbolValue",void 0),h([f({type:String,json:{write:!0}})],yt.prototype,"valueExpression",void 0),h([Ie("valueExpression",["valueExpression","expression"])],yt.prototype,"readValueExpression",null),h([_e("web-scene","valueExpression")],yt.prototype,"writeValueExpressionWebScene",null),h([f({type:["radius","diameter","area","width","distance"],json:{write:!0}})],yt.prototype,"valueRepresentation",void 0),h([f({type:PO.apiValues,json:{write:PO.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],yt.prototype,"valueUnit",void 0),h([Ie("valueUnit")],yt.prototype,"readValueUnit",null),yt=IO=h([I("esri.renderers.visualVariables.SizeVariable")],yt);const Dxe={color:fc,size:yt,opacity:Hl,rotation:mc},Lxe=new ct({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),Vxe=/^\[([^\]]+)\]$/i;let rS=class extends $e{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(e){if(this._resetVariables(),e=e==null?void 0:e.filter(i=>!!i),e==null?void 0:e.length){for(const i of e)switch(i.type){case"color":this.colorVariables.push(i);break;case"opacity":this.opacityVariables.push(i);break;case"rotation":this.rotationVariables.push(i);break;case"size":this.sizeVariables.push(i)}this.sizeVariables.length&&this.sizeVariables.some(i=>!!i.target)&&e.sort((i,r)=>{let s=null;return s=i.target===r.target?0:i.target?1:-1,s});for(let i=0;i<e.length;i++)e[i].index=i;this._set("visualVariables",e)}else this._set("visualVariables",e)}readVariables(e,i,r){const{rotationExpression:s,rotationType:n}=i,o=s==null?void 0:s.match(Vxe),l=o==null?void 0:o[1];if(l&&(e||(e=[]),e.push({type:"rotationInfo",rotationType:n,field:l})),e)return e.map(c=>{const d=Lxe.read(c.type),m=Dxe[d];m||(se.getLogger(this).warn(`Unknown variable type: ${d}`),r!=null&&r.messages&&r.messages.push(new lo("visual-variable:unsupported",`visualVariable of type '${d}' is not supported`,{definition:c,context:r})));const v=new m;return v.read(c,r),v})}writeVariables(e,i){const r=[];for(const s of e){const n=s.toJSON(i);n&&r.push(n)}return r}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};h([f()],rS.prototype,"visualVariables",null),rS=h([I("esri.renderers.visualVariables.VisualVariableFactory")],rS);const Fxe={base:zr,key:"type",typeMap:{opacity:Hl,color:fc,rotation:mc,size:yt}},Mg=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this._vvFactory=new rS}set visualVariables(r){this._vvFactory.visualVariables=r,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(r,s,n){return this._vvFactory.readVariables(r,s,n)}writeVisualVariables(r,s,n,o){s[n]=this._vvFactory.writeVariables(r,o)}get arcadeRequiredForVisualVariables(){var r;return((r=this.visualVariables)==null?void 0:r.some(({arcadeRequired:s})=>s))??!1}hasVisualVariables(r,s){return r?this.getVisualVariablesForType(r,s).length>0:this.getVisualVariablesForType("size",s).length>0||this.getVisualVariablesForType("color",s).length>0||this.getVisualVariablesForType("opacity",s).length>0||this.getVisualVariablesForType("rotation",s).length>0}getVisualVariablesForType(r,s){var n;return((n=this.visualVariables)==null?void 0:n.filter(o=>o.type===r&&(typeof s=="string"?o.target===s:s!==!1||!o.target)))??[]}async collectVVRequiredFields(r,s){let n=[];this.visualVariables&&(n=n.concat(this.visualVariables));for(const o of n)o&&(o.field&&qs(r,s,o.field),o.normalizationField&&qs(r,s,o.normalizationField),o.valueExpression&&(zxe(o.valueExpression,r,s)||await Ss(r,s,null,o.valueExpression)))}};return h([f({types:[Fxe],value:null,json:{write:!0}})],i.prototype,"visualVariables",null),h([Ie("visualVariables",["visualVariables","rotationType","rotationExpression"])],i.prototype,"readVisualVariables",null),h([_e("visualVariables")],i.prototype,"writeVisualVariables",null),i=h([I("esri.renderers.mixins.VisualVariablesMixin")],i),i};function zxe(t,e,i){const r=Vme(t);return r!=null&&(qs(e,i,r),!0)}const vx=ir.fromJSON(LY),M6=Pi.fromJSON(VY),uK=pn.fromJSON(FY),Uxe=Et.fromJSON(bbe);function T9e(t){if(t==null)return null;switch(t.type){case"mesh":return null;case"point":case"multipoint":return vx;case"polyline":return M6;case"polygon":case"extent":return uK}return null}const $9e=ir.fromJSON(_be),M9e=Pi.fromJSON(Sbe),E9e=pn.fromJSON(xbe),qxe=ps.fromSimpleMarkerSymbol(vx),Bxe=Yo.fromSimpleLineSymbol(M6),Gxe=no.fromSimpleFillSymbol(uK),Hxe=new Xl({symbolLayers:new ge([new cs({material:{color:u6},edges:new YY({size:uo(1),color:new Ne(wbe)})})])}),Wxe=new Yo({symbolLayers:new ge([new us({material:{color:new Ne([0,0,0])},size:uo(1)})])}),Zxe=new no({symbolLayers:new ge([new cs({outline:{color:new Ne([0,0,0]),size:uo(1)}})])});function A9e(t){if(t==null)return null;switch(t.type){case"mesh":return Hxe;case"point":case"multipoint":return qxe;case"polyline":return Bxe;case"polygon":case"extent":return Gxe}return null}const v9="#useCIMFallbackSymbology()",Tf={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function Yxe(t,e=Tf){var c,d,m,v;if(!t)return{symbol:null};const{retainId:i=Tf.retainId,ignoreDrivers:r=Tf.ignoreDrivers,hasLabelingContext:s=Tf.hasLabelingContext,retainCIM:n=Tf.retainCIM,cimFallbackEnabled:o=Tf.cimFallbackEnabled}=e;let l=null;if(_J(t))l=t.clone();else if(t.type==="web-style")l=t.clone();else if(t.type==="cim"){const w=(d=(c=t.data)==null?void 0:c.symbol)==null?void 0:d.type;switch(w){case"CIMPointSymbol":l=n?t.clone():ps.fromCIMSymbol(t);break;case"CIMLineSymbol":o&&(l=Wxe.clone(),(m=e==null?void 0:e.logWarning)==null||m.call(e,v9,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":o&&(l=Zxe.clone(),(v=e==null?void 0:e.logWarning)==null||v.call(e,v9,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!l)return{error:new B("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${w||"unknown"}' is unsupported in 3D`,{symbol:t})}}else if(t instanceof Pi)l=Yo.fromSimpleLineSymbol(t);else if(t instanceof ir)l=ps.fromSimpleMarkerSymbol(t);else if(t instanceof ls)l=ps.fromPictureMarkerSymbol(t);else if(t instanceof pn)l=e.geometryType&&e.geometryType==="mesh"?Xl.fromSimpleFillSymbol(t):no.fromSimpleFillSymbol(t);else{if(!(t instanceof Et))return{error:new B("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${t.type||t.declaredClass}' is unsupported in 3D`,{symbol:t})};l=s?Vo.fromTextSymbol(t):ps.fromTextSymbol(t)}return i&&l&&l.type!=="cim"&&(l.id=t.id),!r||l.type==="cim"||l instanceof Or||l.symbolLayers.forEach(w=>w.ignoreDrivers=!0),{symbol:l}}function wx(t,e,i,r){const s=cK(t,{},{context:r,isLabelSymbol:!1});s!=null&&bs(i,s,e)}function w9(t,e,i,r){const s=cK(t,{},{context:r,isLabelSymbol:!0});s!=null&&(e[i]=s)}function b9(t){return _J(t)||t instanceof Or}function Jxe(t){return(t==null?void 0:t.type)==="polygon-3d"||(t==null?void 0:t.type)==="line-3d"}function cK(t,e,i){var l;if(t==null)return null;const{context:r,isLabelSymbol:s}=i,n=r==null?void 0:r.origin,o=r==null?void 0:r.messages;if(n==="web-scene"&&!b9(t)){const c=Yxe(t,{retainCIM:!0,hasLabelingContext:s});return c.symbol!=null?c.symbol.write(e,r):(o==null||o.push(new B("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:t,context:r,error:c.error})),null)}return wO(r==null?void 0:r.layer)&&Jxe(t)?(o==null||o.push(new B("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported on layers of type '${(l=r==null?void 0:r.layer)==null?void 0:l.declaredClass}'.`,{symbol:t,context:r})),null):(n==="web-map"||n==="portal-item"&&!wO(r==null?void 0:r.layer))&&b9(t)?(o==null||o.push(new B("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:t,context:r})),null):t.write(e,r)}function O9e(t,e){return R_e(t,null,e)}const qT={types:SJ,json:{write:{writer:wx},origins:{"web-scene":{types:Z7,write:{writer:wx},read:{reader:hg({types:Z7})}}}}},E6=WC({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},qT),A6={types:{base:Mi,key:"type",typeMap:{"simple-fill":Od.typeMap["simple-fill"],"picture-fill":Od.typeMap["picture-fill"],"polygon-3d":Od.typeMap["polygon-3d"],cim:Od.typeMap.cim}},json:{write:{writer:wx},origins:{"web-scene":{type:no,write:{writer:wx}}}}},sS={cast:t=>t==null||typeof t=="string"||typeof t=="number"?t:`${t}`,json:{type:String,write:{writer:(t,e)=>{e.value=t==null?void 0:t.toString()}}}};var jO;let fs=jO=class extends Mg(yn){constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(t,e){await Promise.all([this.collectSymbolFields(t,e),this.collectVVRequiredFields(t,e)])}async collectSymbolFields(t,e){await Promise.all(this.symbols.map(i=>i.collectRequiredFields(t,e)))}getSymbol(t,e){return this.symbol}async getSymbolAsync(t,e){return this.symbol}get symbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){var t;return((t=this.visualVariables)==null?void 0:t.reduce((e,i)=>e+i.getAttributeHash(),""))??""}getMeshHash(){return this.symbols.reduce((t,e)=>t+JSON.stringify(e),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new jO({description:this.description,label:this.label,symbol:G(this.symbol),visualVariables:G(this.visualVariables),authoringInfo:G(this.authoringInfo)})}};h([f({type:String,json:{write:!0}})],fs.prototype,"description",void 0),h([f({type:String,json:{write:!0}})],fs.prototype,"label",void 0),h([f(E6)],fs.prototype,"symbol",void 0),h([ke({simple:"simple"})],fs.prototype,"type",void 0),fs=jO=h([I("esri.renderers.SimpleRenderer")],fs);const Kxe=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function NO(t){return t instanceof $e}function _9(t){return t instanceof ge?Object.keys(t.items):NO(t)?_s(t).keys():t?Object.keys(t):[]}function P_(t,e){return t instanceof ge?t.items[e]:t[e]}function Xxe(t,e){return!(!Array.isArray(t)||!Array.isArray(e))&&t.length!==e.length}function u1(t){return t?t.declaredClass:null}function hK(t,e){var v;const i=t.diff;if(i&&typeof i=="function")return i(t,e);const r=_9(t),s=_9(e);if(r.length===0&&s.length===0)return;if(!r.length||!s.length||Xxe(t,e))return{type:"complete",oldValue:t,newValue:e};const n=s.filter(w=>!r.includes(w)),o=r.filter(w=>!s.includes(w)),l=r.filter(w=>s.includes(w)&&P_(t,w)!==P_(e,w)).concat(n,o).sort(),c=u1(t);if(c&&Kxe.has(c)&&l.length)return{type:"complete",oldValue:t,newValue:e};let d;const m=NO(t)&&NO(e);for(const w of l){const _=P_(t,w),x=P_(e,w);let T;if((m||typeof _!="function"&&typeof x!="function")&&_!==x&&(_!=null||x!=null)){if(i&&i[w]&&typeof i[w]=="function")T=(v=i[w])==null?void 0:v.call(i,_,x);else if(_ instanceof Date&&x instanceof Date){if(_.getTime()===x.getTime())continue;T={type:"complete",oldValue:_,newValue:x}}else T=typeof _=="object"&&typeof x=="object"&&u1(_)===u1(x)?hK(_,x):{type:"complete",oldValue:_,newValue:x};T!=null&&(d!=null?d.diff[w]=T:d={type:"partial",diff:{[w]:T}})}}return d}function k9e(t,e){if(t==null)return!1;const i=e.split(".");let r=t;for(const s of i){if(r.type==="complete")return!0;if(r.type!=="partial")return!1;{const n=r.diff[s];if(!n)return!1;r=n}}return!0}function Qxe(t,e){if(typeof t!="function"&&typeof e!="function"&&(t!=null||e!=null))return t==null||e==null||typeof t=="object"&&typeof e=="object"&&u1(t)!==u1(e)?{type:"complete",oldValue:t,newValue:e}:hK(t,e)}function j_(t){if(t==null)return!0;switch(t.type){case"complete":return!1;case"collection":{const e=t;for(const i of e.added)if(!j_(i))return!1;for(const i of e.removed)if(!j_(i))return!1;for(const i of e.changed)if(!j_(i))return!1;return!0}case"partial":for(const e in t.diff)if(!j_(t.diff[e]))return!1;return!0}}var DO;const eTe=wr()({ascendingValues:"ascending-values",descendingValues:"descending-values"});let Ov=DO=class extends rt(ae){static from(t){return Tw(DO,t)}constructor(t){super(t),this.title=null,this.order=null}};h([f({type:String,json:{write:!0}})],Ov.prototype,"title",void 0),h([ke(eTe)],Ov.prototype,"order",void 0),Ov=DO=h([I("esri.renderers.support.RendererLegendOptions")],Ov);const O6=Ov;let Bo=class extends rt(ae){constructor(e){super(e),this.value=null,this.value2=null,this.value3=null}};h([f(sS)],Bo.prototype,"value",void 0),h([f(sS)],Bo.prototype,"value2",void 0),h([f(sS)],Bo.prototype,"value3",void 0),Bo=h([I("esri.renderers.support.UniqueValue")],Bo);let Fl=class extends rt(ae){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(e){if(e==null)return null;const i=typeof(e=Array.isArray(e)?e:[e])[0];return i==="string"||i==="number"?e.map(r=>new Bo({value:r})):i==="object"?e[0]instanceof Bo?e:e.map(r=>new Bo(r)):null}};h([f({type:String,json:{write:!0}})],Fl.prototype,"description",void 0),h([f({type:String,json:{write:!0}})],Fl.prototype,"label",void 0),h([f(qT)],Fl.prototype,"symbol",void 0),h([f({type:[Bo],json:{type:[[String]],read:{reader:t=>t?t.map(e=>new Bo({value:e[0],value2:e[1],value3:e[2]})):null},write:{writer:(t,e)=>{const i=[];for(const r of t){const s=[r.value,r.value2,r.value3].filter(qc).map(n=>n.toString());i.push(s)}e.values=i}}}})],Fl.prototype,"values",void 0),h([Ot("values")],Fl.prototype,"castValues",null),Fl=h([I("esri.renderers.support.UniqueValueClass")],Fl);let Cd=class extends rt(ae){constructor(e){super(e),this.heading=null,this.classes=null}};h([f({type:String,json:{write:!0}})],Cd.prototype,"heading",void 0),h([f({type:[Fl],json:{write:{isRequired:!0}}})],Cd.prototype,"classes",void 0),Cd=h([I("esri.renderers.support.UniqueValueGroup")],Cd);var LO;let qo=LO=class extends ae{constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new LO({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){var e;const t=JSON.stringify((e=this.symbol)==null?void 0:e.toJSON());return`${this.value}.${t}`}};h([f({type:String,json:{write:!0}})],qo.prototype,"description",void 0),h([f({type:String,json:{write:!0}})],qo.prototype,"label",void 0),h([f(E6)],qo.prototype,"symbol",void 0),h([f(sS)],qo.prototype,"value",void 0),qo=LO=h([I("esri.renderers.support.UniqueValueInfo")],qo);const S9=new Map;async function tTe(t,e){try{return{data:(await nTe(t,e)).data,baseUrl:Bge(t),styleUrl:t}}catch(i){return Oa(i),null}}function iTe(t,e,i){var c;const r=e.portal!=null?e.portal:le.getDefault();let s;const n=`${r.url} - ${(c=r.user)==null?void 0:c.username} - ${t}`,o=S9.get(n);if(o)return o;const l=rTe(t,r,i).then(d=>(s=d,d.fetchData())).then(d=>({data:d,baseUrl:s.itemUrl??"",styleName:t}));return S9.set(n,l),l}function rTe(t,e,i){return e.load(i).then(()=>{const r=new Si({disableExtraQuery:!0,query:`owner:${x9} AND type:${T9} AND typekeywords:"${t}"`});return e.queryItems(r,i)}).then(({results:r})=>{var o;let s=null;const n=t.toLowerCase();if(r&&Array.isArray(r)){for(const l of r)if(((o=l.typeKeywords)==null?void 0:o.some(d=>d.toLowerCase()===n))&&l.type===T9&&l.owner===x9){s=l;break}}if(!s)throw new B("symbolstyleutils:style-not-found",`The style '${t}' could not be found`,{styleName:t});return s.load(i)})}function sTe(t,e,i){return(t==null?void 0:t.styleUrl)!=null?tTe(t.styleUrl,i):(t==null?void 0:t.styleName)!=null?iTe(t.styleName,e,i):Promise.reject(new B("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function P9e(t){return t===null||t.type==="CIMSymbolReference"?t:{type:"CIMSymbolReference",symbol:t}}function j9e(t,e){for(const i of e)switch(i){case"cim":if(t.cimRef)return{format:i,url:encodeURI(t.cimRef)};break;case"web-gltf-basisu":{const r=I5(t,"gltf_basisu");if(r)return{format:i,url:r};break}case"web-gltf":{const r=I5(t,"gltf");if(r)return{format:i,url:r};break}case"web":{const r=I5(t,"gltf");if(r)return{format:"web-gltf",url:r};if(t.webRef)return{format:i,url:encodeURI(t.webRef)};break}}}function I5(t,e){var i,r;if(!q("enable-feature:force-wosr"))return(r=(i=t.formatInfos)==null?void 0:i.find(s=>s.type===e))==null?void 0:r.href}function nTe(t,e){const i={responseType:"json",query:{f:"json"},...e};return Bt(Jo(t),i)}const x9="esri_en",T9="Style",N9e="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json";var kv;const $9="uvInfos-watcher",M9="uvGroups-watcher",oTe=",",aTe=nr(qo);function lTe(t){const{field1:e,field2:i,field3:r,fieldDelimiter:s,uniqueValueInfos:n,valueExpression:o}=t,l=!(!e||!i);return[{classes:(n??[]).map(c=>{var O;const{symbol:d,label:m,value:v,description:w}=c,[_,x,T]=l?((O=v==null?void 0:v.toString())==null?void 0:O.split(s||""))||[]:[v],M=[];return(e||o)&&M.push(_),i&&M.push(x),r&&M.push(T),{symbol:d,label:m,values:[M],description:w}})}]}function $f(t){return t!=null&&t!==""&&(typeof t!="string"||t.trim()!==""&&t.toLowerCase()!=="<null>")||(t=null),t+""}let Nt=kv=class extends Mg(yn){constructor(t){super(t),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(e,i){if(!e&&!i)return;if(!e||!i)return{type:"complete",oldValue:e,newValue:i};let r=!1;const s={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let n=0;n<i.length;n++){const o=e.find(l=>l.value===i[n].value);o?Qxe(o,i[n])?(s.changed.push({type:"complete",oldValue:o,newValue:i[n]}),r=!0):s.unchanged.push({oldValue:o,newValue:i[n]}):(s.added.push(i[n]),r=!0)}for(let n=0;n<e.length;n++)i.find(o=>o.value===e[n].value)||(s.removed.push(e[n]),r=!0);return r?s:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(t){this._set("field",t),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(t){return t==null||typeof t=="function"?t:xw(t)}writeField(t,e,i,r){typeof t=="string"?e[i]=t:r!=null&&r.messages?r.messages.push(new B("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):se.getLogger(this).error(".field: cannot write field to JSON since it's not a string value")}set field2(t){this._set("field2",t),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(t){this._set("field3",t),this._updateUniqueValues()}set valueExpression(t){this._set("valueExpression",t),this._updateUniqueValues()}set defaultSymbol(t){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",t)}set fieldDelimiter(t){this._set("fieldDelimiter",t),this._updateUniqueValues()}readPortal(t,e,i){return i.portal||le.getDefault()}readStyleOrigin(t,e,i){if(e.styleName)return Object.freeze({styleName:e.styleName});if(e.styleUrl){const r=Ep(e.styleUrl,i);return Object.freeze({styleUrl:r})}}writeStyleOrigin(t,e,i,r){t.styleName?e.styleName=t.styleName:t.styleUrl&&(e.styleUrl=lp(t.styleUrl,r))}set uniqueValueGroups(t){this.styleOrigin?se.getLogger(this).error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",t),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(t){this.styleOrigin?se.getLogger(this).error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",t),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(t,e){var r;if(this.styleOrigin)return void se.getLogger(this).error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let i;i=typeof t=="object"?aTe(t):new qo({value:t,symbol:xJ(e)}),(r=this.uniqueValueInfos)==null||r.push(i),this._valueInfoMap[$f(i.value)]=i,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(t){if(this.styleOrigin)return void se.getLogger(this).error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");const e=this.uniqueValueInfos;if(e)for(let i=0;i<e.length;i++){const r=e[i];if(String(r.value)===String(t)){delete this._valueInfoMap[$f(t)],e.splice(i,1);break}}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}async getUniqueValueInfo(t,e){let i=e;return this.valueExpression&&(e==null?void 0:e.arcade)==null&&(i={...i,arcade:await jy()}),this._getUniqueValueInfo(t,i)}getSymbol(t,e){if(this.valueExpression&&(e==null?void 0:e.arcade)==null)return void se.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this._getUniqueValueInfo(t,e);return(i==null?void 0:i.symbol)||this.defaultSymbol}async getSymbolAsync(t,e){let i=e;if(this.valueExpression&&(i==null?void 0:i.arcade)==null){const s=await jy(),{arcadeUtils:n}=s;n.hasGeometryOperations(this.valueExpression)&&await n.enableGeometryOperations(),i={...i,arcade:s}}const r=this._getUniqueValueInfo(t,i);return(r==null?void 0:r.symbol)||this.defaultSymbol}get symbols(){const t=[];if(this._isInfosSource)for(const e of this.uniqueValueInfos??[])e.symbol&&t.push(e.symbol);else for(const e of this.uniqueValueGroups??[])for(const i of e.classes??[])i.symbol&&t.push(i.symbol);return this.defaultSymbol&&t.push(this.defaultSymbol),t}getAttributeHash(){var t;return((t=this.visualVariables)==null?void 0:t.reduce((e,i)=>e+i.getAttributeHash(),""))??""}getMeshHash(){var r;const t=JSON.stringify(this.backgroundFillSymbol),e=JSON.stringify(this.defaultSymbol),i=(r=this.uniqueValueInfos)==null?void 0:r.reduce((s,n)=>s+n.getMeshHash(),"");return`${t}.${e}.${i}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const t=new kv({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:G(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:G(this.visualVariables),legendOptions:G(this.legendOptions),authoringInfo:G(this.authoringInfo),backgroundFillSymbol:G(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(t._isDefaultSymbolDerived=!0),t._set("portal",this.portal);const e=G(this.uniqueValueInfos),i=G(this.uniqueValueGroups);return this.styleOrigin&&(t._set("styleOrigin",Object.freeze(G(this.styleOrigin))),Object.freeze(e),Object.freeze(i)),t._set("uniqueValueInfos",e),t._updateValueInfoMap(),t._set("uniqueValueGroups",i),t._isInfosSource=this._isInfosSource,t._watchUniqueValueInfosAndGroups(),t}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(t,e){const i=[this.collectVVRequiredFields(t,e),this.collectSymbolFields(t,e)];await Promise.all(i)}async collectSymbolFields(t,e){const i=[...this.symbols.map(r=>r.collectRequiredFields(t,e)),Ss(t,e,null,this.valueExpression)];qs(t,e,this.field),qs(t,e,this.field2),qs(t,e,this.field3),await Promise.all(i)}populateFromStyle(){return sTe(this.styleOrigin,{portal:this.portal}).then(t=>{var i;const e=[];return this._valueInfoMap={},t!=null&&t.data&&Array.isArray(t.data.items)&&t.data.items.forEach(r=>{const s=new Or({styleUrl:t.styleUrl,styleName:t.styleName,portal:this.portal,name:r.name});this.defaultSymbol||r.name!==t.data.defaultItem||(this.defaultSymbol=s,this._isDefaultSymbolDerived=!0);const n=new qo({value:r.name,symbol:s});e.push(n),this._valueInfoMap[$f(r.name)]=n}),this._set("uniqueValueInfos",Object.freeze(e)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&((i=this.uniqueValueInfos)!=null&&i.length)&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",oTe)}_updateUniqueValues(){this._isInfosSource!=null&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:t}=this;if(t)for(const e of t)this._valueInfoMap[$f(e.value)]=e}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles($9);const{uniqueValueInfos:t}=this;if(t){const e=[];for(const i of t)e.push(Le(()=>({symbol:i.symbol,value:i.value,label:i.label,description:i.description}),(r,s)=>{r!==s&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(e,$9)}}_watchUniqueValueGroups(){this.removeHandles(M9);const{uniqueValueGroups:t}=this;if(t){const e=[];for(const i of t){e.push(Le(()=>({classes:i.classes}),(r,s)=>{r!==s&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const r of i.classes??[])e.push(Le(()=>({symbol:r.symbol,values:r.values,label:r.label,description:r.description}),(s,n)=>{s!==n&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(e,M9)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const t=[],{field:e,field2:i,field3:r,fieldDelimiter:s,uniqueValueGroups:n,valueExpression:o}=this;if(!e&&!o)return this._set("uniqueValueInfos",t),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const l=!(!e||!i);for(const c of n)for(const d of c.classes??[]){const{symbol:m,label:v,values:w,description:_}=d;for(const x of w??[]){const{value:T,value2:M,value3:O}=x,C=[T];i&&C.push(M),r&&C.push(O);const R=l?C.join(s||""):C[0]??void 0;t.push(new qo({symbol:m,label:v,value:R,description:_}))}}this._set("uniqueValueInfos",t),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(t=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();const{field:e,field2:i,valueExpression:r,fieldDelimiter:s,uniqueValueInfos:n}=this;if(!e&&!r||!n.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();const o=!(!e||!i),l=n.map(d=>{var O;const{symbol:m,label:v,value:w,description:_}=d,[x,T,M]=o?((O=w==null?void 0:w.toString())==null?void 0:O.split(s||""))||[]:[w];return new Fl({symbol:m,label:v,description:_,values:[new Bo({value:x,value2:T,value3:M})]})}),c=[new Cd({classes:l})];t&&Object.freeze(c),this._set("uniqueValueGroups",c),this._watchUniqueValueGroups()}_getUniqueValueInfo(t,e){return this.valueExpression?this._getUnqiueValueInfoForExpression(t,e):this._getUnqiueValueInfoForFields(t)}_getUnqiueValueInfoForExpression(t,e){const{viewingMode:i,scale:r,spatialReference:s,arcade:n,timeZone:o}=e??{};let l=this._cache.compiledFunc;const c=n.arcadeUtils;if(!l){const m=c.createSyntaxTree(this.valueExpression);l=c.createFunction(m),this._cache.compiledFunc=l}const d=c.executeFunction(l,c.createExecContext(t,c.getViewInfo({viewingMode:i,scale:r,spatialReference:s}),o));return this._valueInfoMap[$f(d)]}_getUnqiueValueInfoForFields(t){const e=this.field,i=t.attributes;let r;if(this.field2){const s=this.field2,n=this.field3,o=[];e&&o.push(i[e]),s&&o.push(i[s]),n&&o.push(i[n]),r=o.join(this.fieldDelimiter||"")}else e&&(r=i[e]);return this._valueInfoMap[$f(r)]}static fromPortalStyle(t,e){const i=new kv(e==null?void 0:e.properties);i._set("styleOrigin",Object.freeze({styleName:t})),i._set("portal",(e==null?void 0:e.portal)||le.getDefault());const r=i.populateFromStyle();return r.catch(s=>{se.getLogger(this.prototype).error(`#fromPortalStyle('${t}'[, ...])`,"Failed to create unique value renderer from style name",s)}),r}static fromStyleUrl(t,e){const i=new kv(e==null?void 0:e.properties);i._set("styleOrigin",Object.freeze({styleUrl:t}));const r=i.populateFromStyle();return r.catch(s=>{se.getLogger(this.prototype).error(`#fromStyleUrl('${t}'[, ...])`,"Failed to create unique value renderer from style URL",s)}),r}};h([f({readOnly:!0})],Nt.prototype,"_cache",null),h([ke({uniqueValue:"unique-value"})],Nt.prototype,"type",void 0),h([f(A6)],Nt.prototype,"backgroundFillSymbol",void 0),h([f({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],Nt.prototype,"field",null),h([Ot("field")],Nt.prototype,"castField",null),h([_e("field")],Nt.prototype,"writeField",null),h([f({type:String,value:null,json:{write:!0}})],Nt.prototype,"field2",null),h([f({type:String,value:null,json:{write:!0}})],Nt.prototype,"field3",null),h([f({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],Nt.prototype,"orderByClassesEnabled",void 0),h([f({type:String,value:null,json:{write:!0}})],Nt.prototype,"valueExpression",null),h([f({type:String,json:{write:!0}})],Nt.prototype,"valueExpressionTitle",void 0),h([f({type:O6,json:{write:!0}})],Nt.prototype,"legendOptions",void 0),h([f({type:String,json:{write:!0}})],Nt.prototype,"defaultLabel",void 0),h([f(WC({...qT},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],Nt.prototype,"defaultSymbol",null),h([f({type:String,value:null,json:{write:!0}})],Nt.prototype,"fieldDelimiter",null),h([f({type:le,readOnly:!0})],Nt.prototype,"portal",void 0),h([Ie("portal",["styleName"])],Nt.prototype,"readPortal",null),h([f({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],Nt.prototype,"styleOrigin",void 0),h([Ie("styleOrigin",["styleName","styleUrl"])],Nt.prototype,"readStyleOrigin",null),h([_e("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],Nt.prototype,"writeStyleOrigin",null),h([f({type:[Cd],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(t,e,i)=>(e.uniqueValueGroups||lTe(e)).map(r=>Cd.fromJSON(r,i))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],Nt.prototype,"uniqueValueGroups",null),h([f({type:[qo],json:{read:!1,write:{isRequired:!0,overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0,isRequired:!0}}}}})],Nt.prototype,"uniqueValueInfos",null),Nt=kv=h([I("esri.renderers.UniqueValueRenderer")],Nt);var VO,hy;let Ki=(hy=class extends ae{constructor(e){super(e),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.orderByFields=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(e,i){i.resultOffset=this.start,i.resultRecordCount=this.num||10}clone(){return new VO(G({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}},VO=hy,hy);h([f({type:[String],json:{write:!0}})],Ki.prototype,"attachmentTypes",void 0),h([f({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],Ki.prototype,"attachmentsWhere",void 0),h([f({type:Boolean,json:{write:!0}})],Ki.prototype,"cacheHint",void 0),h([f({type:[String],json:{write:!0}})],Ki.prototype,"keywords",void 0),h([f({type:[String],json:{write:!0}})],Ki.prototype,"globalIds",void 0),h([f({json:{write:!0}})],Ki.prototype,"name",void 0),h([f({type:Number,json:{read:{source:"resultRecordCount"}}})],Ki.prototype,"num",void 0),h([f({type:[Number],json:{write:!0}})],Ki.prototype,"objectIds",void 0),h([f({type:[String],json:{write:!0}})],Ki.prototype,"orderByFields",void 0),h([f({type:Boolean,json:{default:!1,write:!0}})],Ki.prototype,"returnMetadata",void 0),h([f({type:[Number],json:{write:!0}})],Ki.prototype,"size",void 0),h([f({type:Number,json:{read:{source:"resultOffset"}}})],Ki.prototype,"start",void 0),h([_e("start"),_e("num")],Ki.prototype,"writeStart",null),h([f({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Ki.prototype,"where",void 0),Ki=VO=h([I("esri.rest.support.AttachmentQuery")],Ki),Ki.from=nr(Ki);const dK=wr()({naturalLog:"natural-log",squareRoot:"square-root",percentOfTotal:"percent-of-total",log:"log",field:"field"}),E9="percent-of-total",A9="field",D9e=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.normalizationField=null,this.normalizationMaxValue=null,this.normalizationMinValue=null,this.normalizationTotal=null}get normalizationType(){let r=this._get("normalizationType");const s=!!this.normalizationField,n=this.normalizationTotal!=null;return s||n?(r=s&&A9||n&&E9||null,s&&n&&se.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):r!==A9&&r!==E9||(r=null),r}set normalizationType(r){this._set("normalizationType",r)}};return h([f({type:String,json:{name:"parameters.normalizationField",write:!0}})],i.prototype,"normalizationField",void 0),h([f({type:Number,json:{name:"parameters.normalizationMaxValue",write:!0}})],i.prototype,"normalizationMaxValue",void 0),h([f({type:Number,json:{name:"parameters.normalizationMinValue",write:!0}})],i.prototype,"normalizationMinValue",void 0),h([f({type:Number,json:{name:"parameters.normalizationTotal",write:!0}})],i.prototype,"normalizationTotal",void 0),h([ke(dK,{name:"parameters.normalizationType"})],i.prototype,"normalizationType",null),i=h([I("esri.rest.support.NormalizationBinParametersMixin")],i),i};var FO,dy;let Ut=(dy=class extends ae{constructor(e){super(e),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,i){i.historicMoment=e&&e.getTime()}writeStart(e,i){i.resultOffset=this.start,i.resultRecordCount=this.num||10,this.start>0&&this.where==null&&(i.definitionExpression="1=1")}clone(){return new FO(G({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}},FO=dy,dy);h([f({type:Boolean,json:{write:!0}})],Ut.prototype,"cacheHint",void 0),h([f({type:Ta,json:{write:!0}})],Ut.prototype,"dynamicDataSource",void 0),h([f({type:String,json:{write:!0}})],Ut.prototype,"gdbVersion",void 0),h([f({type:Number,json:{write:!0}})],Ut.prototype,"geometryPrecision",void 0),h([f({type:Date})],Ut.prototype,"historicMoment",void 0),h([_e("historicMoment")],Ut.prototype,"_writeHistoricMoment",null),h([f({type:Number,json:{write:!0}})],Ut.prototype,"maxAllowableOffset",void 0),h([f({json:{write:!0}})],Ut.prototype,"objectIds",void 0),h([f({type:[String],json:{write:!0}})],Ut.prototype,"orderByFields",void 0),h([f({type:[String],json:{write:!0}})],Ut.prototype,"outFields",void 0),h([f({type:Se,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Ut.prototype,"outSpatialReference",void 0),h([f({json:{write:!0}})],Ut.prototype,"relationshipId",void 0),h([f({type:Number,json:{read:{source:"resultOffset"}}})],Ut.prototype,"start",void 0),h([_e("start"),_e("num")],Ut.prototype,"writeStart",null),h([f({type:Number,json:{read:{source:"resultRecordCount"}}})],Ut.prototype,"num",void 0),h([f({json:{write:!0}})],Ut.prototype,"returnGeometry",void 0),h([f({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],Ut.prototype,"returnM",void 0),h([f({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],Ut.prototype,"returnZ",void 0),h([f({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Ut.prototype,"where",void 0),Ut=FO=h([I("esri.rest.support.RelationshipQuery")],Ut),Ut.from=nr(Ut);const L9e=Object.freeze(Object.defineProperty({__proto__:null,get default(){return Ut}},Symbol.toStringTag,{value:"Module"})),V9e=new ct({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});async function F9e(t,e,i,r){const s=await oh(t);if(await k6(t,e,r),!s.addAttachment)throw new B(r,"Layer source does not support addAttachment capability");return s.addAttachment(e,i)}function k6(t,e,i){var n,o;const{attributes:r}=e,{objectIdField:s}=t;return(o=(n=t.capabilities)==null?void 0:n.data)!=null&&o.supportsAttachment?e?r?s&&r[s]?Promise.resolve():Promise.reject(new B(i,`feature is missing the identifying attribute ${s}`)):Promise.reject(new B(i,"'attributes' are required on a feature to query attachments")):Promise.reject(new B(i,"A feature is required to add/delete/update attachments")):Promise.reject(new B(i,"this layer doesn't support attachments"))}async function z9e(t,e,i,r,s){const n=await oh(t);if(await k6(t,e,s),!n.updateAttachment)throw new B(s,"Layer source does not support updateAttachment capability");return n.updateAttachment(e,i,r)}async function U9e(t,e,i){const{applyEdits:r}=await te(()=>import("./editingSupport-hz_HjTg_.js"),__vite__mapDeps([179,180,181])),s=await t.load();let n=i;return s.type==="feature"&&s.infoFor3D&&e.deleteFeatures!=null&&s.globalIdField!=null&&(n={...n,globalIdToObjectId:await fTe(s,e.deleteFeatures,s.globalIdField)}),r(s,s.source,e,i)}async function q9e(t,e,i){const{uploadAssets:r}=await te(()=>import("./editingSupport-hz_HjTg_.js"),__vite__mapDeps([179,180,181])),s=await t.load();return r(s,s.source,e,i)}async function B9e(t,e,i,r){const s=await oh(t);if(await k6(t,e,r),!s.deleteAttachments)throw new B(r,"Layer source does not support deleteAttachments capability");return s.deleteAttachments(e,i)}async function G9e(t,e,i){const r=(await t.load({signal:e==null?void 0:e.signal})).source;if(!r.fetchRecomputedExtents)throw new B(i,"Layer source does not support fetchUpdates capability");return r.fetchRecomputedExtents(e)}async function H9e(t,e,i,r){var _,x,T,M;e=Ki.from(e),await t.load();const s=t.source,n=t.capabilities;if(!((_=n==null?void 0:n.data)!=null&&_.supportsAttachment))throw new B(r,"this layer doesn't support attachments");const{attachmentTypes:o,objectIds:l,globalIds:c,num:d,size:m,start:v,where:w}=e;if(!((x=n==null?void 0:n.operations)!=null&&x.supportsQueryAttachments)&&((o==null?void 0:o.length)>0||(c==null?void 0:c.length)>0||(m==null?void 0:m.length)>0||d||v||w))throw new B(r,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",e);if(!(l!=null&&l.length||c!=null&&c.length||w))throw new B(r,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",e);if(!s.queryAttachments)throw new B(r,"Layer source does not support queryAttachments capability",e);return!((T=n==null?void 0:n.attachment)!=null&&T.supportsOrderByFields)&&((M=e.orderByFields)!=null&&M.length)&&((e=e.clone()).orderByFields=null),s.queryAttachments(e)}async function W9e(t,e,i,r){const s=await oh(t);if(!s.queryObjectIds)throw new B(r,"Layer source does not support queryObjectIds capability");return s.queryObjectIds(xe.from(e)??t.createQuery(),i)}async function Z9e(t,e,i,r){const s=await oh(t);if(!s.queryFeatureCount)throw new B(r,"Layer source does not support queryFeatureCount capability");return s.queryFeatureCount(xe.from(e)??t.createQuery(),i)}async function Y9e(t,e,i,r){const s=await oh(t);if(!s.queryExtent)throw new B(r,"Layer source does not support queryExtent capability");return s.queryExtent(xe.from(e)??t.createQuery(),i)}async function J9e(t,e,i,r){const s=await oh(t);if(!s.queryRelatedFeatures)throw new B(r,"Layer source does not support queryRelatedFeatures capability");return s.queryRelatedFeatures(Ut.from(e),i)}async function K9e(t,e,i,r){const s=await oh(t);if(!s.queryRelatedFeaturesCount)throw new B(r,"Layer source does not support queryRelatedFeaturesCount capability");return s.queryRelatedFeaturesCount(Ut.from(e),i)}async function X9e(t){const e=t.source;if(e!=null&&e.refresh)try{const{dataChanged:i,updates:r}=await e.refresh();if(r!=null&&(t.sourceJSON={...t.sourceJSON,...r},t.read(r,{origin:"service",url:t.parsedUrl})),i)return!0}catch{}if(t.definitionExpression)try{return(await xG(t.definitionExpression,t.fieldsIndex)).hasDateFunctions}catch{}return!1}function Q9e(t){var o,l;const e=new xe;e.historicMoment=t.historicMoment,e.gdbVersion=t.gdbVersion,e.returnGeometry=!0,e.outFields=["*"],e.multipatchOption=t.geometryType==="multipatch"?"xyFootprint":null;const i=(o=t.capabilities)==null?void 0:o.query;i&&(e.compactGeometryEnabled=i.supportsCompactGeometry,e.defaultSpatialReferenceEnabled=i.supportsDefaultSpatialReference);const r=(l=t.capabilities)==null?void 0:l.data;r!=null&&r.supportsZ&&t.returnZ!=null&&(e.returnZ=t.returnZ),r!=null&&r.supportsM&&t.returnM!=null&&(e.returnM=t.returnM);const{timeOffset:s,timeExtent:n}=t;return e.timeExtent=s!=null&&n!=null?n.offset(-s.value,s.unit):n||null,e}function eVe(t){const{globalIdField:e,fields:i}=t;if(e)return e;if(i){for(const r of i)if(r.type==="esriFieldTypeGlobalID")return r.name}}function tVe(t){const{objectIdField:e,fields:i}=t;if(e)return e;if(i){for(const r of i)if(r.type==="esriFieldTypeOID")return r.name}}function iVe(t){return t.currentVersion?t.currentVersion:t.hasOwnProperty("capabilities")||t.hasOwnProperty("drawingInfo")||t.hasOwnProperty("hasAttachments")||t.hasOwnProperty("htmlPopupType")||t.hasOwnProperty("relationships")||t.hasOwnProperty("timeInfo")||t.hasOwnProperty("typeIdField")||t.hasOwnProperty("types")?10:9.3}function rVe(t,e,i,r){var c,d;const s=i==null?void 0:i.feature,n=!!((c=t.subtypes)!=null&&c.length);if(n&&!(i!=null&&i.excludeImpliedDomains)){const m=cTe(t,e);if(m)return m}const o=n&&uTe(t,s);if(o){const m=(d=o==null?void 0:o.domains)==null?void 0:d[e];return(m==null?void 0:m.type)==="inherited"?r:m}const l=mTe(t.types,t.typeIdField,s);if(l){const m=l.domains&&l.domains[e];if(m&&(m==null?void 0:m.type)!=="inherited")return m}if(r)return r;if(!(i!=null&&i.excludeImpliedDomains)){const m=hTe(t,e);if(m)return m}return null}function uTe(t,e){const{subtypes:i,subtypeField:r}=t;if(!(e!=null&&e.attributes)||!(i!=null&&i.length)||!r)return null;const s=e.attributes[r];return s==null?null:i.find(n=>n.code===s)}function cTe(t,e){var o,l;const{fieldsIndex:i,subtypeField:r}=t,{name:s,type:n}=i.get(e)??{};if(!s)return null;if((r&&((o=i.get(r))==null?void 0:o.name))===s&&((l=t.subtypes)!=null&&l.length)){const c=t.subtypes.map(d=>new kd({code:pK(d.code,n),name:d.name}));if(c!=null&&c.length)return new Mc({codedValues:c})}return null}function hTe(t,e){var n,o;const{fieldsIndex:i}=t,{name:r,type:s}=i.get(e)??{};if(!r)return null;if(("typeIdField"in t?(n=i.get(t.typeIdField))==null?void 0:n.name:null)===r&&"types"in t&&((o=t.types)!=null&&o.length)){const l=t.types.map(c=>new kd({code:pK(c.id,s),name:c.name}));return new Mc({codedValues:l})}return null}function pK(t,e){return e?DH({type:e})&&typeof t=="number"?`${t}`:fye({type:e})&&typeof t=="string"?Number.parseInt(t,10):t:t}async function oh(t){return(await t.load()).source}async function sVe(t,e){if(!ze)return;const i=ze.findCredential(t);if(i)return i.userId;let r;try{const s=await T6(t,e);s&&(r=await ze.checkSignInStatus(`${s}/sharing`))}catch{}return r?r.userId:null}async function fK(t,e){if(!ze||ze.findCredential(t))return;let i;try{const r=await T6(t,e);r&&(i=await ze.checkSignInStatus(`${r}/sharing`))}catch{}if(i)try{const r=e!=null?e.signal:null;await ze.getCredential(t,{signal:r})}catch{}}async function nVe(t,e,i){var s;const r=(s=t.parsedUrl)==null?void 0:s.path;r&&t.authenticationTriggerEvent===e&&await fK(r,i)}async function oVe(t){var i;const e=(i=t.parsedUrl)==null?void 0:i.path;e&&dTe(t)&&await fK(e)}function dTe(t){return pTe(t)&&("serviceDefinitionExpression"in t&&O9(t.serviceDefinitionExpression)||"definitionExpression"in t&&O9(t.definitionExpression))}function pTe(t){var e;return!(!QJ(t)||!((e=t.capabilities)!=null&&e.query.supportsCurrentUser))}function O9(t){return!!(t!=null&&t.toLowerCase().includes("current_user"))}function aVe(t){return!yTe(t)&&(t.userHasUpdateItemPrivileges||t.editingEnabled)}const P5=hg({types:SJ});function mK(t,e){var i;if(t.defaultSymbol)return(i=t.types)!=null&&i.length?new Nt({defaultSymbol:P5(t.defaultSymbol,t,e),field:t.typeIdField,uniqueValueInfos:t.types.map(r=>({id:r.id,symbol:P5(r.symbol,r,e)}))}):new fs({symbol:P5(t.defaultSymbol,t,e)})}function lVe(t){var r,s,n;let e=(r=t.sourceJSON)==null?void 0:r.cacheMaxAge;if(!e)return!1;const i=(n=(s=t.editingInfo)==null?void 0:s.lastEditDate)==null?void 0:n.getTime();return i==null||(e*=1e3,Date.now()-i<e)}async function fTe(t,e,i){if(e==null)return null;const r=[],{objectIdField:s}=t;if(e.forEach(d=>{let m=null;if("attributes"in d){const{attributes:v}=d;m={globalId:v[i],objectId:v[s]!=null&&v[s]!==-1?v[s]:null}}else m={globalId:d.globalId,objectId:d.objectId!=null&&d.objectId!==-1?d.objectId:null};m.globalId!=null&&(m.objectId!=null&&m.objectId!==-1||r.push(m.globalId))}),r.length===0)return null;const n=t.createQuery();n.where=r.map(d=>`${i}='${d}'`).join(" OR "),n.returnGeometry=!1,n.outFields=[s,i],n.cacheHint=!1;const o=await QSe(exe(t,n));if(!o.ok)return null;const l=new Map,c=o.value.features;for(const d of c){const m=d.attributes[i],v=d.attributes[s];m!=null&&v!=null&&v!==-1&&l.set(vSe(m),v)}return l}function mTe(t,e,i){if(!e||!i||!t)return null;const r=i.getAttribute(e);return r==null?null:t.find(s=>{const{id:n}=s;return n!=null&&n.toString()===r.toString()})??null}function yTe(t){var e;return((e=t.sourceJSON)==null?void 0:e.isMultiServicesView)||gTe(t)}function gTe(t){var e,i;return!!((i=(e=t.sourceJSON)==null?void 0:e.capabilities)!=null&&i.toLowerCase().split(",").map(r=>r.trim()).includes("map"))}function vTe(t,e,i){var n;const r=e==null?void 0:e.queryAttributeBins;if(!((n=e==null?void 0:e.operations)!=null&&n.supportsQueryBins)||!r)throw new B(i,"Layer source does not support binning");switch(t.binParameters.type){case"auto-interval":if(!r.supportsAutoInterval)throw new B(i,"Layer source does not support auto-interval binning");if(t.binParameters.normalizationType&&(!r.supportsNormalization||!k9(t.binParameters.normalizationType,r.supportedNormalizationTypes)))throw new B(i,"Layer source does not support normalization binning");break;case"date":if(!r.supportsDate)throw new B(i,"Layer source does not support date binning");if(t.binParameters.snapToData&&!r.supportsSnapToData)throw new B(i,"Layer source does not support snapToData binning");if(t.binParameters.returnFullIntervalBin&&!r.supportsReturnFullIntervalBin)throw new B(i,"Layer source does not support returnFullIntervalBin binning");break;case"fixed-boundaries":if(!r.supportsFixedBoundaries)throw new B(i,"Layer source does not support fixed-boundaries binning");break;case"fixed-interval":if(!r.supportsFixedInterval)throw new B(i,"Layer source does not support fixed-interval binning");if(t.binParameters.normalizationType&&(!r.supportsNormalization||!k9(t.binParameters.normalizationType,r.supportedNormalizationTypes)))throw new B(i,"Layer source does not support normalization binning")}if(t.binParameters.stackBy&&!r.supportsStackBy)throw new B(i,"Layer source does not support stackBy binning");if(t.binParameters.splitBy&&!r.supportsSplitBy)throw new B(i,"Layer source does not support splitBy binning");if(t.binParameters.firstDayOfWeek&&!r.supportsFirstDayOfWeek)throw new B(i,"Layer source does not support firstDayOfWeek binning");const s=r==null?void 0:r.supportedStatistics;if(t.outStatistics&&s){const o=new Map([["count","count"],["sum","sum"],["min","min"],["max","max"],["avg","avg"],["stddev","stddev"],["var","var"],["percentile-continuous","percentileContinuous"],["percentile-discrete","percentileDiscrete"],["centroid-aggregate","centroid"],["convex-hull-aggregate","convexHull"],["envelope-aggregate","envelope"]]);for(const{statisticType:l}of t.outStatistics){const c=o.get(l);if(c&&!s[c])throw new B(i,`Layer source does not support ${l} statistic type`)}}}function k9(t,e){return t!=null&&!!(e!=null&&e[dK.toJSON(t)])}const C6="__begin__",R6="__end__",wTe=new RegExp(C6,"ig"),bTe=new RegExp(R6,"ig"),C9=new RegExp("^"+C6,"i"),R9=new RegExp(R6+"$","i"),bx='"',_Te=bx+" + ",STe=" + "+bx;function xTe(t){return t.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function TTe(t){return t.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function I6(t){const e={expression:"",type:"none"};return t.labelExpressionInfo?t.labelExpressionInfo.value?(e.expression=t.labelExpressionInfo.value,e.type="conventional"):t.labelExpressionInfo.expression&&(e.expression=t.labelExpressionInfo.expression,e.type="arcade"):t.labelExpression!=null&&(e.expression=xTe(t.labelExpression),e.type="conventional"),e}function $Te(t){const e=I6(t);if(!e)return null;switch(e.type){case"conventional":return zO(e.expression);case"arcade":return e.expression}return null}function MTe(t){const e=I6(t);if(!e)return null;switch(e.type){case"conventional":return ATe(e.expression);case"arcade":return yK(e.expression)}return null}function zO(t){let e;return t?(e=Sp(t,i=>C6+'$feature["'+i+'"]'+R6),e=C9.test(e)?e.replace(C9,""):bx+e,e=R9.test(e)?e.replace(R9,""):e+bx,e=e.replaceAll(wTe,_Te).replaceAll(bTe,STe)):e='""',e}const ETe=/^\s*\{([^}]+)\}\s*$/i;function ATe(t){const e=t==null?void 0:t.match(ETe);return(e==null?void 0:e[1].trim())||null}const OTe=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,kTe=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,CTe=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function yK(t){if(!t)return null;let e=OTe.exec(t)||kTe.exec(t);return e?e[1]||e[3]:(e=CTe.exec(t),e?e[2]:null)}var UO,py;let zl=(py=class extends ae{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,i){return i.value?zO(i.value):e}writeExpression(e,i,r){this.value!=null&&(e=zO(this.value)),e!=null&&(i[r]=e)}clone(){return new UO({expression:this.expression,title:this.title,value:this.value})}},UO=py,py);h([f({type:String,json:{write:{writerEnsuresNonNull:!0}}})],zl.prototype,"expression",void 0),h([Ie("expression",["expression","value"])],zl.prototype,"readExpression",null),h([_e("expression")],zl.prototype,"writeExpression",null),h([f({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],zl.prototype,"title",void 0),h([f({json:{read:!1,write:!1}})],zl.prototype,"value",void 0),zl=UO=h([I("esri.layers.support.LabelExpressionInfo")],zl);var qO;const N_=new ct({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function D_(t,e,i){return{enabled:!wO(i==null?void 0:i.layer)}}function gK(t){var e;return!t||t.origin!=="service"&&((e=t.layer)==null?void 0:e.type)!=="map-image"}function RTe(t){return(t==null?void 0:t.type)==="map-image"}function vK(t){var e,i;return!!RTe(t)&&!!((i=(e=t.capabilities)==null?void 0:e.exportMap)!=null&&i.supportsArcadeExpressionForLabeling)}function ITe(t){return gK(t)||vK(t==null?void 0:t.layer)}var fy;let qt=(fy=class extends ae{static evaluateWhere(e,i){const r=(s,n,o)=>{switch(n){case"=":return s==o;case"<>":return s!=o;case">":return s>o;case">=":return s>=o;case"<":return s<o;case"<=":return s<=o}return!1};try{if(e==null)return!0;const s=e.split(" ");if(s.length===3)return r(i[s[0]],s[1],s[2]);if(s.length===7){const n=r(i[s[0]],s[1],s[2]),o=s[3],l=r(i[s[4]],s[5],s[6]);switch(o){case"AND":return n&&l;case"OR":return n||l}}return!1}catch{}}constructor(e){super(e),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=Uxe,this.useCodedValues=void 0,this.where=null}readLabelExpression(e,i){const r=i.labelExpressionInfo;if(!r||!r.value&&!r.expression)return e}writeLabelExpression(e,i,r){if(this.labelExpressionInfo){if(this.labelExpressionInfo.value!=null)e=TTe(this.labelExpressionInfo.value);else if(this.labelExpressionInfo.expression!=null){const s=yK(this.labelExpressionInfo.expression);s&&(e="["+s+"]")}}e!=null&&(i[r]=e)}writeLabelExpressionInfo(e,i,r,s){if(e==null&&this.labelExpression!=null&&gK(s))e=new zl({expression:this.getLabelExpressionArcade()});else if(!e)return;const n=e.toJSON(s);n.expression&&(i[r]=n)}writeMaxScale(e,i){(e||this.minScale)&&(i.maxScale=e)}writeMinScale(e,i){(e||this.maxScale)&&(i.minScale=e)}getLabelExpression(){return I6(this)}getLabelExpressionArcade(){return $Te(this)}getLabelExpressionSingleField(){return MTe(this)}hash(){return JSON.stringify(this)}clone(){return new qO({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:G(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:G(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}},qO=fy,fy);h([f({type:String,json:{write:!0}})],qt.prototype,"name",void 0),h([f({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:D_}}}}})],qt.prototype,"allowOverrun",void 0),h([f({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:D_}}}}})],qt.prototype,"deconflictionStrategy",void 0),h([f({type:String,json:{write:{overridePolicy(t,e,i){return this.labelExpressionInfo&&(i==null?void 0:i.origin)==="service"&&vK(i.layer)?{enabled:!1}:{allowNull:!0}}}}})],qt.prototype,"labelExpression",void 0),h([Ie("labelExpression")],qt.prototype,"readLabelExpression",null),h([_e("labelExpression")],qt.prototype,"writeLabelExpression",null),h([f({type:zl,json:{write:{overridePolicy:(t,e,i)=>ITe(i)?{allowNull:!0}:{enabled:!1}}}})],qt.prototype,"labelExpressionInfo",void 0),h([_e("labelExpressionInfo")],qt.prototype,"writeLabelExpressionInfo",null),h([f({type:N_.apiValues,json:{type:N_.jsonValues,read:N_.read,write:N_.write}})],qt.prototype,"labelPlacement",void 0),h([f({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],qt.prototype,"labelPosition",void 0),h([f({type:Number})],qt.prototype,"maxScale",void 0),h([_e("maxScale")],qt.prototype,"writeMaxScale",null),h([f({type:Number})],qt.prototype,"minScale",void 0),h([_e("minScale")],qt.prototype,"writeMinScale",null),h([f({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:D_}}}}})],qt.prototype,"repeatLabel",void 0),h([f({type:Number,cast:ut,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:D_}}}}})],qt.prototype,"repeatLabelDistance",void 0),h([f({types:I_e,json:{origins:{"web-scene":{types:P_e,write:w9,default:null}},write:w9,default:null}})],qt.prototype,"symbol",void 0),h([f({type:Boolean,json:{write:!0}})],qt.prototype,"useCodedValues",void 0),h([f({type:String,json:{write:!0}})],qt.prototype,"where",void 0),qt=qO=h([I("esri.layers.support.LabelClass")],qt);var BO;let Uo=BO=class extends ae{constructor(t){super(t),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){var t;return new BO({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:((t=this.symbol)==null?void 0:t.clone())??null})}getMeshHash(){const t=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${t}`}};h([f({type:String,json:{write:!0}})],Uo.prototype,"description",void 0),h([f({type:String,json:{write:!0}})],Uo.prototype,"label",void 0),h([f({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],Uo.prototype,"minValue",void 0),h([f({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],Uo.prototype,"maxValue",void 0),h([f(E6)],Uo.prototype,"symbol",void 0),Uo=BO=h([I("esri.renderers.support.ClassBreakInfo")],Uo);var GO;const wK="log",nS="percent-of-total",oS="field",L_=new ct({esriNormalizeByLog:wK,esriNormalizeByPercentOfTotal:nS,esriNormalizeByField:oS}),PTe=nr(Uo);let Oi=GO=class extends Mg(yn){constructor(t){super(t),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(t,e,i){if(!Array.isArray(t))return;let r=e.minValue;return t.map(s=>{const n=new Uo;return n.read(s,i),n.minValue==null&&(n.minValue=r),n.maxValue==null&&(n.maxValue=n.minValue),r=n.maxValue,n})}writeClassBreakInfos(t,e,i,r){const s=t.map(n=>n.write({},r));this._areClassBreaksConsecutive()&&s.forEach(n=>delete n.classMinValue),e[i]=s}castField(t){return t==null?t:typeof t=="function"?(se.getLogger(this).error(".field: field must be a string value"),null):xw(t)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let t=this._get("normalizationType");const e=!!this.normalizationField,i=this.normalizationTotal!=null;return e||i?(t=e&&oS||i&&nS||null,e&&i&&se.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):t!==oS&&t!==nS||(t=null),t}set normalizationType(t){this._set("normalizationType",t)}addClassBreakInfo(t,e,i){let r=null;r=typeof t=="number"?new Uo({minValue:t,maxValue:e,symbol:xJ(i)}):PTe(G(t)),this.classBreakInfos.push(r),this.classBreakInfos.length===1&&this.notifyChange("minValue")}removeClassBreakInfo(t,e){const i=this.classBreakInfos.length;for(let r=0;r<i;r++){const s=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(s[0]===t&&s[1]===e){this.classBreakInfos.splice(r,1);break}}}getBreakIndex(t,e){return this.valueExpression&&(e==null?void 0:e.arcade)==null&&se.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(t,e):this._getBreakIndexForField(t)}async getClassBreakInfo(t,e){let i=e;this.valueExpression&&(e==null?void 0:e.arcade)==null&&(i={...i,arcade:await jy()});const r=this.getBreakIndex(t,i);return r!==-1?this.classBreakInfos[r]:null}getSymbol(t,e){if(this.valueExpression&&(e==null?void 0:e.arcade)==null)return void se.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this.getBreakIndex(t,e);return i>-1?this.classBreakInfos[i].symbol:this.defaultSymbol}async getSymbolAsync(t,e){let i=e;if(this.valueExpression&&(e==null?void 0:e.arcade)==null){const s=await jy(),{arcadeUtils:n}=s;n.hasGeometryOperations(this.valueExpression)&&await n.enableGeometryOperations(),i={...i,arcade:s}}const r=this.getBreakIndex(t,i);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}get symbols(){const t=[];return this.classBreakInfos.forEach(e=>{e.symbol&&t.push(e.symbol)}),this.defaultSymbol&&t.push(this.defaultSymbol),t}getAttributeHash(){var t;return((t=this.visualVariables)==null?void 0:t.reduce((e,i)=>e+i.getAttributeHash(),""))??""}getMeshHash(){const t=JSON.stringify(this.backgroundFillSymbol),e=JSON.stringify(this.defaultSymbol),i=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${t}.${e}.${this.classBreakInfos.reduce((r,s)=>r+s.getMeshHash(),"")}.${i}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){var t,e;return new GO({field:this.field,backgroundFillSymbol:(t=this.backgroundFillSymbol)==null?void 0:t.clone(),defaultLabel:this.defaultLabel,defaultSymbol:(e=this.defaultSymbol)==null?void 0:e.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:G(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:G(this.visualVariables),legendOptions:G(this.legendOptions),authoringInfo:G(this.authoringInfo)})}async collectRequiredFields(t,e){const i=[this.collectVVRequiredFields(t,e),this.collectSymbolFields(t,e)];await Promise.all(i)}async collectSymbolFields(t,e){const i=[...this.symbols.map(r=>r.collectRequiredFields(t,e)),Ss(t,e,null,this.valueExpression)];qs(t,e,this.field),qs(t,e,this.normalizationField),await Promise.all(i)}_getBreakIndexForExpression(t,e){const{viewingMode:i,scale:r,spatialReference:s,arcade:n,timeZone:o}=e??{},{valueExpression:l}=this;let c=this._compiledValueExpression.valueExpression===l?this._compiledValueExpression.compiledFunction:null;const d=n.arcadeUtils;if(!c){const v=d.createSyntaxTree(l);c=d.createFunction(v),this._compiledValueExpression.compiledFunction=c}this._compiledValueExpression.valueExpression=l;const m=d.executeFunction(c,d.createExecContext(t,d.getViewInfo({viewingMode:i,scale:r,spatialReference:s}),o));return this._getBreakIndexfromInfos(m)}_getBreakIndexForField(t){const e=this.field,i=t.attributes,r=this.normalizationType;let s=parseFloat(i[e]);if(r){const n=this.normalizationTotal,o=parseFloat(this.normalizationField?i[this.normalizationField]:void 0);if(r===wK)s=Math.log(s)*Math.LOG10E;else if(r!==nS||n==null||isNaN(n)){if(r===oS&&!isNaN(o)){if(isNaN(s)||isNaN(o))return-1;s/=o}}else s=s/n*100}return this._getBreakIndexfromInfos(s)}_getBreakIndexfromInfos(t){const e=this.isMaxInclusive;if(t!=null&&typeof t=="number"&&!isNaN(t))for(let i=0;i<this.classBreakInfos.length;i++){const r=[this.classBreakInfos[i].minValue,this.classBreakInfos[i].maxValue];if(r[0]<=t&&(e?t<=r[1]:t<r[1]))return i}return-1}_areClassBreaksConsecutive(){const t=this.classBreakInfos,e=t.length;for(let i=1;i<e;i++)if(t[i-1].maxValue!==t[i].minValue)return!1;return!0}};h([f(A6)],Oi.prototype,"backgroundFillSymbol",void 0),h([f({type:[Uo],json:{write:{isRequired:!0}}})],Oi.prototype,"classBreakInfos",void 0),h([Ie("classBreakInfos")],Oi.prototype,"readClassBreakInfos",null),h([_e("classBreakInfos")],Oi.prototype,"writeClassBreakInfos",null),h([f({type:String,json:{write:!0}})],Oi.prototype,"defaultLabel",void 0),h([f(qT)],Oi.prototype,"defaultSymbol",void 0),h([f({type:String,json:{write:!0}})],Oi.prototype,"field",void 0),h([Ot("field")],Oi.prototype,"castField",null),h([f({type:Boolean})],Oi.prototype,"isMaxInclusive",void 0),h([f({type:O6,json:{write:!0}})],Oi.prototype,"legendOptions",void 0),h([f({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return this.classBreakInfos.length!==0&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],Oi.prototype,"minValue",null),h([f({type:String,json:{write:!0}})],Oi.prototype,"normalizationField",void 0),h([f({type:Number,json:{write:!0}})],Oi.prototype,"normalizationTotal",void 0),h([f({type:L_.apiValues,value:null,json:{type:L_.jsonValues,read:L_.read,write:L_.write}})],Oi.prototype,"normalizationType",null),h([ke({classBreaks:"class-breaks"})],Oi.prototype,"type",void 0),h([f({type:String,json:{write:!0}})],Oi.prototype,"valueExpression",void 0),h([f({type:String,json:{write:!0}})],Oi.prototype,"valueExpressionTitle",void 0),Oi=GO=h([I("esri.renderers.ClassBreaksRenderer")],Oi);const HO=-3,jTe=HO-1,NTe=!!q("esri-tests-disable-gpu-memory-measurements");let DTe=class{get size(){return this._size}constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._users=new Map,this._sizeLimits=new Map}destroy(){this.clearAll(),this._sizeLimits.clear(),this._users.clear(),this._db=null}register(e){this._users.set(e.id.slice(0,-1),e)}deregister(e){this.clear(e),this._sizeLimits.delete(e),this._users.delete(e.id.slice(0,-1))}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,-1),this._checkSize()}getSize(e,i){const r=this._db.get(e.id+i);return(r==null?void 0:r.size)??0}put(e,i,r,s,n){i=e.id+i;const o=this._db.get(i);if(o&&(this._size-=o.size,e.size-=o.size,this._db.delete(i),o.entry!==r&&this._notifyRemove(i,o.entry,o.size,0)),s>this._maxSize)return void this._notifyRemove(i,r,s,0);if(r===void 0)return void console.warn("Refusing to cache undefined entry ");if(!s||s<0)return NTe||console.warn(`Refusing to cache entry with size ${s} for key ${i}`),void this._notifyRemove(i,r,0,0);const l=1+Math.max(n,jTe)-HO;this._db.set(i,new LTe(r,s,l)),this._size+=s,e.size+=s,this._checkSize()}updateSize(e,i){i=e.id+i;const r=this._db.get(i);if(!r)return;this._size-=r.size,e.size-=r.size;let s=r.entry.usedMemory;for(;s>this._maxSize;){const n=this._notifyRemove(i,r.entry,s,1);if(!(n!=null&&n>0))return void this._db.delete(i);s=n}r.size=s,this._size+=s,e.size+=s,this._checkSize()}pop(e,i){i=e.id+i;const r=this._db.get(i);if(r)return this._size-=r.size,e.size-=r.size,this._db.delete(i),++this._hit,r.entry;++this._miss}get(e,i){i=e.id+i;const r=this._db.get(i);if(r!==void 0)return this._db.delete(i),r.lives=r.lifetime,this._db.set(i,r),++this._hit,r.entry;++this._miss}peek(e,i){const r=this._db.get(e.id+i);return r?++this._hit:++this._miss,r==null?void 0:r.entry}get performanceInfo(){const e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},i={},r=new Array;this._db.forEach((o,l)=>{const c=o.lifetime;r[c]=(r[c]||0)+o.size,this._users.forEach(d=>{const{id:m,name:v}=d;if(l.startsWith(m)){const w=i[v]||0;i[v]=w+o.size}})});const s={};this._users.forEach(o=>{const l=o.name;if("hitRate"in o&&typeof o.hitRate=="number"&&!isNaN(o.hitRate)&&o.hitRate>0){const c=i[l]||0;i[l]=c,s[l]=Math.round(100*o.hitRate)+"%"}else s[l]="0%"});const n=Object.keys(i);n.sort((o,l)=>i[l]-i[o]),n.forEach(o=>e[o]=Math.round(i[o]/2**20)+"MB / "+s[o]);for(let o=r.length-1;o>=0;--o){const l=r[o];l&&(e["Priority "+(o+HO-1)]=Math.round(l/this._size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forEach(e=>e.resetHitRate())}clear(e){const i=e.id;this._db.forEach((r,s)=>{s.startsWith(i)&&(this._size-=r.size,this._db.delete(s),this._notifyRemove(s,r.entry,r.size,0))}),e.size=0}clearAll(){this._db.forEach((e,i)=>this._notifyRemove(i,e.entry,e.size,0)),this._users.forEach(e=>e.size=0),this._size=0,this._db.clear()}*values(e){for(const[i,r]of this._db)i.startsWith(e.id)&&(yield r.entry)}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(e,i,r,s){var l;const n=(l=this._users.get(e.split(j5)[0]))==null?void 0:l.removeFunc,o=n==null?void 0:n(i,s,r);return typeof o=="number"?o:null}_checkSize(){this._sizeLimits.forEach((e,i)=>this._checkSizeLimits(e,i)),this._checkSizeLimits(this.maxSize)}setMaxSize(e,i){i==null||i<=0?this._sizeLimits.delete(e):this._sizeLimits.set(e,i)}_checkSizeLimits(e,i){const r=i??this;if(r.size<=e)return;const s=i==null?void 0:i.id;let n=!0;for(;n;){n=!1;for(const[o,l]of this._db)if(l.lifetime===0&&(!s||o.startsWith(s))){const c=i??this._users.get(o.split(j5)[0]);if(this._purgeItem(o,l,c),r.size<=.9*e)return;n||(n=this._db.has(o))}}for(const[o,l]of this._db)if(!s||o.startsWith(s)){const c=i??this._users.get(o.split(j5)[0]);if(this._purgeItem(o,l,c),r.size<=.9*e)return}}_purgeItem(e,i,r){if(this._db.delete(e),i.lives<=1){this._size-=i.size,r&&(r.size-=i.size);const s=this._notifyRemove(e,i.entry,i.size,1);s!=null&&s>0&&(this._size+=s,r&&(r.size+=s),i.lives=i.lifetime,i.size=s,this._db.set(e,i))}else--i.lives,this._db.set(e,i)}},LTe=class{constructor(e,i,r){this.entry=e,this.size=i,this.lifetime=r,this.lives=r}};const j5=":";let VTe=class{constructor(e,i){this.removeFunc=i,this._storage=new DTe,this.id="",this.name="",this.size=0,this._storage.maxSize=e,this._storage.register(this)}destroy(){this._storage.deregister(this),this._storage.destroy(),this._storage=null}put(e,i,r=1){this._storage.put(this,e,i,r,1)}pop(e){return this._storage.pop(this,e)}get(e){return this._storage.get(this,e)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(e){this._storage.maxSize=e}resetHitRate(){}},I9=class bK{static parse(e,i,r){const s=[],n=[],o=e.split(";");for(let l=0;l<o.length;l++){const c=o[l];if(c){if(c.includes("po:")){const d=c.slice(3).split("|");if(d.length===3){const[m,v,w]=d,_=zTe(m,v,w);_&&n.push(_)}continue}if(c.includes("|")){for(const d of c.split("|"))if(i.has(d)){s.push(d);break}}else if(i.has(c))s.push(c);else if(l===0){s.length=0,s.push(UTe(r));break}}}return new bK(s,n)}constructor(e,i){this.partNames=e,this.overrides=i}};function FTe(t,e){if(t==="DashTemplate")return e.split(" ").map(i=>Number(i));if(t==="Color"){const i=new Ne(e).toRgba();return[i[0],i[1],i[2],255*i[3]]}return Number(e)}function zTe(t,e,i){return{primitiveName:t,propertyName:e,value:FTe(e,i),defaultValue:null}}function UTe(t){switch(t){case"esriGeometryPolyline":return"Invalid_L";case"esriGeometryPolygon":return"Invalid_A";default:return"Invalid_P"}}let _K=class WO{constructor(e,i,r=""){this.major=e,this.minor=i,this._context=r}lessThan(e,i){return this.major<e||e===this.major&&this.minor<i}greaterEqual(e,i){return!this.lessThan(e,i)}validate(e){if(this.major!==e.major){const i=this._context&&this._context+":",r=this._context&&this._context+" ";throw new B(i+"unsupported-version",`Required major ${r}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:e})}}clone(){return new WO(this.major,this.minor,this._context)}static parse(e,i=""){const[r,s]=e.split("."),n=/^\s*\d+\s*$/;if(!(r!=null&&r.match)||!n.test(r))throw new B((i&&i+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:e});if(!(s!=null&&s.match)||!n.test(s))throw new B((i&&i+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:e});const o=parseInt(r,10),l=parseInt(s,10);return new WO(o,l,i)}};var my;let Ca=(my=class{},my.instance=new Ys("Etc/UTC"),my);function qTe(t){return t instanceof $p?t===Ca.instance:(t==null?void 0:t.toString().toLowerCase())==="unknown"}function dVe(t){return qTe(t)?Ca.instance:t}function BTe(t){return"timeZone"in t}function GTe(t){return"timeZone"in t}function HTe(t){return"dateFieldsTimeZone"in t}const WTe=new Map;let _x=class aS{static fromJSON(e){return new aS(e.fields,e.timeZoneByFieldName)}static fromLayer(e){return new aS(e.fields??[],j9(e))}static fromLayerJSON(e){return new aS(e.fields??[],j9(e))}constructor(e=[],i){var s;this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=e||[],this._timeZoneByFieldName=i?new Map(i):null;const r=[];for(const n of this.fields){const o=n==null?void 0:n.name,l=P9(o);if(o&&l){const c=bd(o);this._fieldsMap.set(o,n),this._fieldsMap.set(c,n),this._normalizedFieldsMap.set(l,n),r.push(`${c}:${n.type}:${(s=this._timeZoneByFieldName)==null?void 0:s.get(o)}`),LH(n)?(this.dateFields.push(n),this._dateFieldsSet.add(n)):yR(n)&&(this._numericFieldsSet.add(n),this.numericFields.push(n)),ML(n)||EL(n)||(n.editable=n.editable==null||!!n.editable,n.nullable=n.nullable==null||!!n.nullable)}}r.sort(),this.uid=r.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const e of this.fields)ML(e)||EL(e)||e.nullable||sye(e)!==void 0||this._requiredFields.push(e)}return this._requiredFields}equals(e){return this.uid===(e==null?void 0:e.uid)}has(e){return this.get(e)!=null}get(e){if(!e)return;let i=this._fieldsMap.get(e);return i||(i=this._fieldsMap.get(bd(e))??this._normalizedFieldsMap.get(P9(e)),i&&this._fieldsMap.set(e,i),i)}getTimeZone(e){const i=this.get(e&&typeof e!="string"?e.name:e);return i?this._timeZoneByFieldName?this._timeZoneByFieldName.get(i.name):i.type==="date"||i.type==="esriFieldTypeDate"?(se.getLogger("esri.layers.support.FieldsIndex").errorOnce(new B("getTimeZone:no-timezone-information",`no time zone information for field '${i.name}'`)),Hc):SK.has(i.type)?Gc:null:null}getLuxonTimeZone(e){const i=this.getTimeZone(e);return i?i===Gc?Ca.instance:i===Hc?Wi.utcInstance:cg(WTe,i,()=>Ys.create(i)):null}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isTimeOnlyField(e){return VH(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){var i;return((i=this.get(e))==null?void 0:i.name)??void 0}toJSON(){return{fields:this.fields.map(e=>L1(e)?e.toJSON():e),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}};function bd(t){return t.trim().toLowerCase()}function P9(t){var e;return((e=qme(t))==null?void 0:e.toLowerCase())??""}const SK=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function j9(t){const e=new Map;if(!t.fields)return e;const i=t.datesInUnknownTimezone===!0,{timeInfo:r,editFieldsInfo:s}=t,n=(r?"startField"in r?r.startField:r.startTimeField:"")??"",o=(r?"endField"in r?r.endField:r.endTimeField:"")??"",l=HTe(t)?t.dateFieldsTimeZone??null:t.dateFieldsTimeReference?$2(t.dateFieldsTimeReference):null,c=s?BTe(s)?s.timeZone??l:s.dateFieldsTimeReference?$2(s.dateFieldsTimeReference):l??Hc:null,d=r?GTe(r)?r.timeZone??l:r.timeReference?$2(r.timeReference):l:null,m=new Map([[bd((s==null?void 0:s.creationDateField)??""),c],[bd((s==null?void 0:s.editDateField)??""),c],[bd(n),d],[bd(o),d]]);for(const{name:v,type:w}of t.fields)if(SK.has(w))e.set(v,Gc);else if(w!=="date"&&w!=="esriFieldTypeDate")e.set(v,null);else if(i)e.set(v,Gc);else{const _=m.get(bd(v??""))??l;e.set(v,_)}return e}const xK={TypeNotAllowedInFeature:"Feature attributes only support dates, numbers, strings, guids.",LogicError:"Logic error - {reason}",CannotCompareDateAndTime:"Cannot compare date or dateonly with timeonly types",NeverReach:"Encountered unreachable logic",AsyncNotEnabled:"Async Arcade must be enabled for this script",ModuleAccessorMustBeString:"Module accessor must be a string",ModuleExportNotFound:"Module has no export with provided identifier",ModulesNotSupported:"Current profile does not support modules",ArrayAccessMustBeNumber:"Array accessor must be a number",FunctionNotFound:"Function not found",FieldNotFound:"Key not found - {key}",CircularModules:"Circular module dependencies are not allowed",Cancelled:"Execution cancelled",UnsupportedHashType:"Type not supported in hash function",IllegalResult:"Value is not a supported return type",PortalRequired:"Portal is required",InvalidParameter:"Invalid parameter",WrongNumberOfParameters:"Call with wrong number of parameters",Unrecognized:"Unrecognized code structure",UnrecognizedType:"Unrecognized type",WrongSpatialReference:"Cannot work with geometry in this spatial reference. It is different to the execution spatial reference",BooleanConditionRequired:"Conditions must use booleans",NoFunctionInDictionary:"Dictionaries cannot contain functions.",NoFunctionInArray:"Arrays cannot contain functions.",NoFunctionInTemplateLiteral:"Template Literals do not expect functions by value.",KeyAccessorMustBeString:"Accessor must be a string",KeyMustBeString:"Object keys must be a string",Immutable:"Object is immutable",UnexpectedToken:"Unexpected token",MemberOfNull:"Cannot access property of null object",MaximumCallDepth:"Exceeded maximum function depth",OutOfBounds:"Out of bounds",InvalidIdentifier:"Identifier not recognized",CallNonFunction:"Expression is not a function",InvalidMemberAccessKey:"Cannot access value using a key of this type",AssignModuleFunction:"Cannot assign function to module variable",UnsupportUnaryOperator:"Unsupported unary operator",UnsupportedOperator:"Unsupported operator",LogicalExpressionOnlyBoolean:"Logical expressions must be boolean",LogicExpressionOrAnd:"Logical expression can only be combined with || or &&",CannotChangeTimeZoneTime:"Cannot change the timezone of a Time",CannotChangeTimeZoneDateOnly:"Cannot change the timezone of a DateOnly",FeatureSetDoesNotHaveSubtypes:"FeatureSet does not have subtypes"};let ZTe=class extends Error{constructor(...e){super(...e)}},N9=class TK extends ZTe{constructor(e,i){super(P6(i)+e.message,{cause:e}),this.loc=null,Error.captureStackTrace&&Error.captureStackTrace(this,TK),i!=null&&i.loc&&(this.loc=i.loc)}},YTe=class $K extends Error{constructor(e,i,r,s){super("Execution error - "+P6(r)+Sp(xK[i],s)),this.loc=null,this.declaredRootClass="esri.arcade.arcadeexecutionerror",Error.captureStackTrace&&Error.captureStackTrace(this,$K),r!=null&&r.loc&&(this.loc=r.loc)}};function P6(t){var e,i;return t&&t.loc?`Line : ${(e=t.loc.start)==null?void 0:e.line}, ${(i=t.loc.start)==null?void 0:i.column}: `:""}let fVe=class MK extends Error{constructor(e,i,r,s){super("Compilation error - "+P6(r)+Sp(xK[i],s)),this.loc=null,this.declaredRootClass="esri.arcade.arcadecompilationerror",Error.captureStackTrace&&Error.captureStackTrace(this,MK),r!=null&&r.loc&&(this.loc=r.loc)}},mVe=class EK extends Error{constructor(){super("Uncompilable code structures"),this.declaredRootClass="esri.arcade.arcadeuncompilableerror",Error.captureStackTrace&&Error.captureStackTrace(this,EK)}};function yVe(t,e,i){return i.declaredRootClass==="esri.arcade.arcadeexecutionerror"||i.declaredRootClass==="esri.arcade.arcadecompilationerror"?i.loc===null&&(e!=null&&e.loc)?new N9(i,{cause:i}):i:(i.declaredRootClass==="esri.arcade.featureset.support.featureseterror"||i.declaredRootClass==="esri.arcade.featureset.support.sqlerror"||i.declaredRootClass,e!=null&&e.loc?new N9(i,{cause:i}):i)}const JTe={UnrecognizedUri:"Unrecognized uri - {uri}",UnsupportedUriProtocol:"Unrecognized uri protocol"};let gVe=class AK extends Error{constructor(e,i){super(Sp(JTe[e],i)),this.declaredRootClass="esri.arcade.arcademoduleerror",Error.captureStackTrace&&Error.captureStackTrace(this,AK)}};function lS(t){return t.toLowerCase().replaceAll(/[\s-]+/g,"")}let vVe=class{constructor(e,i){const r=new Map;for(const s of e){const n=lS(s);if(r.has(n))throw new Error(`${s} already added as ${r.get(n)}`);r.set(n,s)}if(i!=null)for(const[s,n]of i){const o=lS(s);if(r.has(o))throw new Error(`${s} already associated with ${r.get(o)}`);r.set(o,n)}this._enumMap=r}lookup(e){return this._enumMap.get(lS(e))}get(e){const i=this.lookup(e);if(i==null)throw new YTe(null,"InvalidParameter",null);return i}};const KTe={TimeZoneNotRecognized:"Timezone identifier has not been recognized."};let XTe=class OK extends Error{constructor(e,i){super(Sp(KTe[e],i)),this.declaredRootClass="esri.arcade.arcadedate.dateerror",Error.captureStackTrace&&Error.captureStackTrace(this,OK)}};function Mf(t,e,i){return t<e?t-e:t>i?t-i:0}function Ef(t,e,i){return t<e?e:t>i?i:t}let Ql=class Ai{constructor(e){this._date=e,this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(e=0,i=1,r=1,s=0,n=0,o=0,l=0,c){if(isNaN(e)||isNaN(i)||isNaN(r)||isNaN(s)||isNaN(n)||isNaN(o)||isNaN(l))return null;const d=be.local(e,i).daysInMonth;let m=be.fromObject({day:Ef(r,1,d),year:e,month:Ef(i,1,12),hour:Ef(s,0,23),minute:Ef(n,0,59),second:Ef(o,0,59),millisecond:Ef(l,0,999)},{zone:$a(c)});return m=m.plus({months:Mf(i,1,12),days:Mf(r,1,d),hours:Mf(s,0,23),minutes:Mf(n,0,59),seconds:Mf(o,0,59),milliseconds:Mf(l,0,999)}),new Ai(m)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(e,i){const r=$a(i);return e.isUnknownTimeZone||r===Ca.instance?Ai.fromParts(e.year,e.monthJS+1,e.day,e.hour,e.minute,e.second,e.millisecond,r):new Ai(e._date.setZone(r))}static dateJSToArcadeDate(e){return new Ai(be.fromJSDate(e,{zone:"system"}))}static dateJSAndZoneToArcadeDate(e,i="system"){const r=$a(i);return new Ai(be.fromJSDate(e,{zone:r}))}static unknownEpochToArcadeDate(e){return new Ai(be.fromMillis(e,{zone:Ca.instance}))}static unknownDateJSToArcadeDate(e){return new Ai(be.fromMillis(e.getTime(),{zone:Ca.instance}))}static epochToArcadeDate(e,i="system"){const r=$a(i);return new Ai(be.fromMillis(e,{zone:r}))}static dateTimeToArcadeDate(e){return new Ai(e)}clone(){return new Ai(this._date)}changeTimeZone(e){const i=$a(e);return Ai.dateTimeToArcadeDate(this._date.setZone(i))}static dateTimeAndZoneToArcadeDate(e,i){const r=$a(i);return e.zone===Ca.instance||r===Ca.instance?Ai.fromParts(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond,r):new Ai(e.setZone(r))}static nowToArcadeDate(e){const i=$a(e);return new Ai(be.fromJSDate(new Date,{zone:i}))}static nowUTCToArcadeDate(){return new Ai(be.utc())}get isSystem(){return this.timeZone==="system"||this.timeZone===Ai.systemTimeZoneCanonicalName}equals(e){return this.isSystem&&e.isSystem?this.toNumber()===e.toNumber():this.isUnknownTimeZone===e.isUnknownTimeZone&&this._date.equals(e._date)}get isUnknownTimeZone(){return this._date.zone===Ca.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let e=this._date.weekday;return e>6&&(e=0),e}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if(this._date.zone.type==="system")return"system";const e=this.zone;return e.type==="fixed"?e.fixed===0?"UTC":e.formatOffset(0,"short"):e.name}stringify(){return JSON.stringify(this.toJSDate())}plus(e){return new Ai(this._date.plus(e))}diff(e,i){return this._date.diff(e._date,i)[i]}toISODate(){return this._date.toISODate()}toISOString(e){return e?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toISOTime(e,i){return this._date.toISOTime({suppressMilliseconds:e,includeOffset:i&&!this.isUnknownTimeZone})}toFormat(e,i){return this.isUnknownTimeZone&&(e=e.replaceAll("Z","")),this._date.toFormat(e,i)}toJSDate(){return this._date.toJSDate()}toSQLValue(){return this._date.toFormat("yyyy-LL-dd HH:mm:ss")}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new Ai(this._date.toUTC())}toLocal(){return new Ai(this._date.toLocal())}toString(){return this.toISOString(!0)}static fromReaderAsTimeStampOffset(e){if(!e)return null;const i=be.fromISO(e,{setZone:!0});return new Ai(i)}};function $a(t,e=!0){if(t instanceof $p)return t;switch(lS(t)){case"system":return"system";case"utc":return"UTC";case"unknown":return Ca.instance}if(/^[+-]?[0-9]{1,2}(:[0-9]{2})?$/.test(t)){const r=Wi.parseSpecifier("UTC"+(t.startsWith("+")||t.startsWith("-")?"":"+")+t);if(r)return r}const i=Ys.create(t);if(!i.isValid){if(e)throw new XTe("TimeZoneNotRecognized");return null}return i}function D9(t){t=t.replaceAll(/LTS|LT|L{1,4}|l{1,4}/g,"[$&]");let e="";const i=/(\[[^[]*\])|(\\)?([Hh]mm(ss)?|Mo|M{1,4}|Do|DDDo|D{1,4}|d{2,4}|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const r of t.match(i)||[])switch(r){case"D":e+="d";break;case"DD":e+="dd";break;case"DDD":e+="o";break;case"d":e+="c";break;case"ddd":e+="ccc";break;case"dddd":e+="cccc";break;case"M":e+="L";break;case"MM":e+="LL";break;case"MMM":e+="LLL";break;case"MMMM":e+="LLLL";break;case"YY":e+="yy";break;case"Y":case"YYYY":e+="yyyy";break;case"Q":e+="q";break;case"X":case"x":e+=r;break;default:r.length>=2&&r.startsWith("[")&&r.endsWith("]")?e+=`'${r.slice(1,-1)}'`:e+=`'${r}'`}return e}const L9="esri.core.sql.dateonly";let QTe=class ln{constructor(e,i,r){this._year=e,this._month=i,this._day=r,this.declaredRootClass=L9}static isDateOnly(e){return typeof e=="object"&&e!=null&&"declaredRootClass"in e&&e.declaredRootClass===L9}get month(){return this._month}get monthJS(){return this._month-1}get year(){return this._year}get day(){return this._day}get isValid(){return this.toDateTime("unknown").isValid}equals(e){return ln.isDateOnly(e)&&e.day===this.day&&e.month===this.month&&e.year===this.year}clone(){return new ln(this._year,this._month,this._day)}toDateTime(e){return be.fromObject({day:this.day,month:this.month,year:this.year},{zone:$a(e)})}toDateTimeLuxon(e){return be.fromObject({day:this.day,month:this.month,year:this.year},{zone:$a(e)})}toString(){return`${this.year.toString().padStart(4,"0")}-${this.month.toString().padStart(2,"0")}-${this.day.toString().padStart(2,"0")}`}toFormat(e=null,i=!0){if(e===null||e==="")return this.toString();if(i&&(e=D9(e)),!e)return"";const r=this.toDateTime("unknown");return Ql.dateTimeToArcadeDate(r).toFormat(e,{locale:Bs(),numberingSystem:"latn"})}toArcadeDate(){const e=this.toDateTime("unknown");return Ql.dateTimeToArcadeDate(e)}toNumber(){return this.toDateTime("unknown").toMillis()}toJSDate(){return this.toDateTime("unknown").toJSDate()}toStorageFormat(){return this.toFormat("yyyy-LL-dd",!1)}toSQLValue(){return this.toFormat("yyyy-LL-dd",!1)}toSQLWithKeyword(){return"date '"+this.toFormat("yyyy-LL-dd",!1)+"'"}plus(e,i){return ln.fromDateTime(this.toUTCDateTime().plus({[e]:i}))}toUTCDateTime(){return be.utc(this.year,this.month,this.day,0,0,0,0)}difference(e,i){switch(i.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(e.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return i==="M"?this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(e.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(e.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(e.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(e.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(e.toUTCDateTime(),"years").years}}static fromMilliseconds(e){const i=be.fromMillis(e,{zone:Wi.utcInstance});return i.isValid?ln.fromParts(i.year,i.month,i.day):null}static fromSeconds(e){const i=be.fromSeconds(e,{zone:Wi.utcInstance});return i.isValid?ln.fromParts(i.year,i.month,i.day):null}static fromReader(e){if(!e)return null;const i=e.split("-");return i.length!==3?null:new ln(parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10))}static fromParts(e,i,r){const s=new ln(e,i,r);return s.isValid===!1?null:s}static fromDateJS(e){return ln.fromParts(e.getFullYear(),e.getMonth()+1,e.getDay())}static fromDateTime(e){return ln.fromParts(e.year,e.month,e.day)}static fromSqlTimeStampOffset(e){return this.fromDateTime(e.toDateTime())}static fromString(e,i=null){if(e===""||e===null)return null;const r=[];if(i)(i=D9(i))&&r.push(i);else if(i===null||i===""){const s=be.fromISO(e,{setZone:!0});return s.isValid?ln.fromParts(s.year,s.month,s.day):null}for(const s of r){const n=be.fromFormat(e,i??s);if(n.isValid)return new ln(n.year,n.month,n.day)}return null}static fromNow(e="system"){const i=be.fromJSDate(new Date).setZone($a(e));return new ln(i.year,i.month,i.day)}};function bVe(t){if(t==null)return null;switch(t.type){case"polygon":case"multipoint":case"polyline":return t.extent;case"point":return new Ye({xmin:t.x,ymin:t.y,xmax:t.x,ymax:t.y,spatialReference:t.spatialReference});case"extent":return t}return null}function _Ve(t){if(t==null)return null;const e=t.clone();return t.cache._geVersion!==void 0&&(e.cache._geVersion=t.cache._geVersion),e}function V_(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function V9(t){if(!t)return"";const e=/(a|A|hh?|HH?|mm?|ss?|SSS|S|.)/g;let i="";for(const r of t.match(e)||[])switch(r){case"SSS":case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":i+=r;break;case"A":case"a":i+="a";break;default:i+=`'${r}'`}return i}const F9="esri.core.sql.timeonly";let e3e=class va{constructor(e,i,r,s){this._hour=e,this._minute=i,this._second=r,this._millisecond=s,this.declaredRootClass=F9}static isTimeOnly(e){return typeof e=="object"&&e!=null&&"declaredRootClass"in e&&e.declaredRootClass===F9}get hour(){return this._hour}get minute(){return this._minute}get second(){return this._second}get millisecond(){return this._millisecond}equals(e){return va.isTimeOnly(e)&&e.hour===this.hour&&e.minute===this.minute&&e.second===this.second&&e.millisecond===this.millisecond}clone(){return new va(this.hour,this.minute,this.second,this.millisecond)}isValid(){return V_(this.hour)&&V_(this.minute)&&V_(this.second)&&V_(this.millisecond)&&this.hour>=0&&this.hour<24&&this.minute>=0&&this.minute<60&&this.second>=0&&this.second<60&&this.millisecond>=0&&this.millisecond<1e3}toString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`+(this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):"")}toSQLValue(){return this.toString()}toSQLWithKeyword(){return`time '${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}${this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):""}'`}toStorageString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`}toFormat(e=null){return e===null||e===""?this.toString():(e=V9(e))?be.local(1970,1,1,this._hour,this._minute,this._second,this._millisecond).toFormat(e,{locale:Bs(),numberingSystem:"latn"}):""}toNumber(){return this.millisecond+1e3*this.second+1e3*this.minute*60+60*this.hour*60*1e3}static fromParts(e,i,r,s){const n=new va(e,i,r,s);return n.isValid()?n:null}static fromReader(e){if(!e)return null;const i=e.split(":");return i.length!==3?null:new va(parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10),0)}static fromMilliseconds(e){if(e>864e5||e<0)return null;const i=Math.floor(e/1e3%60),r=Math.floor(e/6e4%60),s=Math.floor(e/36e5%24),n=Math.floor(e%1e3);return new va(s,r,i,n)}static fromDateJS(e){return new va(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}static fromDateTime(e){return new va(e.hour,e.minute,e.second,e.millisecond)}static fromSqlTimeStampOffset(e){return this.fromDateTime(e.toDateTime())}static fromString(e,i=null){if(e===""||e===null)return null;const r=[];i?(i=V9(i))&&r.push(i):i!==null&&i!==""||(r.push("HH:mm:ss"),r.push("HH:mm:ss.SSS"),r.push("hh:mm:ss a"),r.push("hh:mm:ss.SSS a"),r.push("HH:mm"),r.push("hh:mm a"),r.push("H:mm"),r.push("h:mm a"),r.push("H:mm:ss"),r.push("h:mm:ss a"),r.push("H:mm:ss.SSS"),r.push("h:mm:ss.SSS a"));for(const s of r){const n=be.fromFormat(e,s);if(n.isValid)return new va(n.hour,n.minute,n.second,n.millisecond)}return null}plus(e,i){switch(e){case"days":case"years":case"months":return this.clone();case"hours":case"minutes":case"seconds":case"milliseconds":return va.fromDateTime(this.toUTCDateTime().plus({[e]:i}))}return null}toUTCDateTime(){return be.utc(1970,1,1,this.hour,this.minute,this.second,this.millisecond)}difference(e,i){switch(i.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(e.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return i==="M"?this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(e.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(e.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(e.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(e.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(e.toUTCDateTime(),"years").years}}};const t3e=["geometry","scale","timeProperties"];function SVe(t,e){if(e!=null)for(const i of t3e)e.hasArcadeDependency(i)&&t.add(i);return t}function xVe(t,e){return kK.create(t,e,null,["$feature","$view"])}function i3e(t,e,i){return kK.create(t,e,i,["$feature","$view","$config"])}let kK=class CK{static async create(e,i,r,s){const{arcade:n,Dictionary:o}=await jy();let l;try{l=n.parseScript(e)}catch(_){throw new B("arcade-bad-expression","Failed to parse arcade script",{script:e,error:_})}const c=n.scriptUsesGeometryEngine(l);c&&await n.enableGeometrySupport(),await n.loadDependentModules(new Set,l,null,!1,c);const d={vars:s.reduce((_,x)=>({..._,[x]:null}),{}),spatialReference:i,useAsync:!1},m=n.compileScript(l,d);let v=null;r!=null&&(v=new o(r),v.immutable=!0);const w=new o;return w.immutable=!1,w.setField("scale",0),new CK(e,n,l,m,i,w,v,o)}constructor(e,i,r,s,n,o,l,c){this.script=e,this._arcade=i,this._syntaxTree=r,this._compiled=s,this._spatialReference=n,this._viewDict=o,this._configDict=l,this._dictionaryCtor=c,this._dependencies=new Map,this._featureReader=new RK,this._dependencies.set("geometry",i.scriptTouchesGeometry(this._syntaxTree)),this._dependencies.set("scale",this._arcade.referencesMember(this._syntaxTree,"scale")),this._dependencies.set("timeProperties",this._arcade.scriptUsesViewProperties(this._syntaxTree,["timeProperties"]))}evaluate(e,i){var s;const r=(s=i.$view)==null?void 0:s.timeZone;if(i.$view){let n;if(this._viewDict.setField("scale",i.$view.scale),i.$view.timeProperties!=null){const{currentStart:o,currentEnd:l}=i.$view.timeProperties;n=new this._dictionaryCtor({currentStart:o!=null?r!=null?Ql.epochToArcadeDate(o,r):Ql.unknownEpochToArcadeDate(o):void 0,currentEnd:l!=null?r!=null?Ql.epochToArcadeDate(l,r):Ql.unknownEpochToArcadeDate(l):void 0,startIncluded:!0,endIncluded:!0})}this._viewDict.setField("timeProperties",n)}return this._compiled({vars:{$view:this._viewDict,$config:this._configDict,$feature:e},spatialReference:this._spatialReference,timeZone:r})}repurposeFeature(e,i){return this._featureReader.bind(e,i,this._spatialReference),this._featureReader}references(e){return this._dependencies.get(e)??!1}},RK=class{constructor(){this._boundTarget=null,this._boundSchema={fields:null,fieldsIndex:null,spatialReference:null,get geometryType(){return null},get objectIdField(){return null}},this.arcadeDeclaredClass="esri.arcade.Feature",this._contextTimeZone=null}bind(e,i,r){const s=i??new _x(IK(e.attributes));this._boundTarget=e,this._boundSchema.fields=s.fields,this._boundSchema.fieldsIndex=s,this._boundSchema.spatialReference=r}_getField(e){return this._boundSchema.fieldsIndex.get(e)}get contextTimeZone(){return this._contextTimeZone}set contextTimeZone(e){this._contextTimeZone=e}readArcadeFeature(){return this}hasField(e){return this._boundSchema.fieldsIndex.has(e)}geometry(){if("fromJSON"in this._boundTarget)return this._boundTarget.geometry;const e=Jc(this._boundTarget.geometry);if(e){if(!this._boundSchema.spatialReference)throw new Error("InternalError: Expected spatial reference to be defined");e.spatialReference=this._boundSchema.spatialReference}return e}_hasGeometry(){return this._boundTarget.geometry!=null}isUnknownDateTimeField(e){return this._boundSchema.fieldsIndex.getTimeZone(e)===Gc}field(e,i=!0){const r=this._getField(e);if(r){const s=this._boundTarget.attributes[r.name];if(s==null)return null;switch(r.type){case"date-only":case"esriFieldTypeDateOnly":return QTe.fromReader(s);case"time-only":case"esriFieldTypeTimeOnly":return e3e.fromReader(s);case"esriFieldTypeTimestampOffset":case"timestamp-offset":return Ql.fromReaderAsTimeStampOffset(s);case"date":case"esriFieldTypeDate":return this.isUnknownDateTimeField(e)?Ql.unknownEpochToArcadeDate(s):Ql.epochToArcadeDate(s,this.contextTimeZone??ea);default:return s}}if(i)throw new Error(`Field ${e} does not exist`);return null}setField(e,i){throw new Error("Unable to update feature attribute values, feature is readonly")}keys(){return this._boundSchema.fieldsIndex.fields.map(e=>e.name)}isEmpty(){return this._boundSchema.fields.length<=0&&!this._hasGeometry()}castToText(e=!1){return JSON.stringify(this._boundTarget)}gdbVersion(){return null}fullSchema(){return this._boundSchema}castAsJson(e=null){var i;return{attributes:this._boundTarget.attributes,geometry:(e==null?void 0:e.keepGeometryType)===!0?this.geometry():((i=this.geometry())==null?void 0:i.toJSON())??null}}castAsJsonAsync(e=null,i=null){return Promise.resolve(this.castAsJson(i))}};function IK(t){const e=[];for(const i in t)e.push({name:i,alias:i,type:typeof t[i]=="string"?"esriFieldTypeString":"esriFieldTypeDouble"});return e}let r3e=class PK{static async from(e,i,r){const s=e.dictionary_version?_K.parse(e.dictionary_version):null,n=new Set(e.itemsNames),o={};if(i)for(const v in i)o[v]=i[v];if(e.authoringInfo.configuration)for(const v of e.authoringInfo.configuration)o.hasOwnProperty(v.name)||(o[v.name]=v.value);const l=new Set(e.authoringInfo.symbol);for(const v of Object.keys(r))l.delete(v);l.size&&se.getLogger("esri.renderers.support.DictionaryScriptEvaluator").warnOnce("missing-fields: fieldMap entries for the following symbol fields are missing",{symbolFields:l});const c=await i3e(e.expression,null,o);if(!c)throw new B("dictionary-renderer:expression-error","Unable to create dictionary renderer expression");const d=!s||!s.greaterEqual(4,0);d&&se.getLogger("esri.renderers.support.DictionaryScriptEvaluator").warnOnce("Dictionary script does not support native field types. Applying fallback",{version:s});const m=new s3e(r,d);return new PK(d,n,c,m)}constructor(e,i,r,s){this._requiresFieldCoercionToString=e,this._itemNames=i,this._compiled=r,this._reader=s}get itemNames(){return this._itemNames}evaluate(e,i,r,s){try{return this._reader.bind(e,r,s),this._compiled.evaluate(this._reader,{$view:{scale:i}})}catch(n){se.getLogger("esri.renderers.support.DictionaryScriptEvaluator").warnOnce("arcade: dictionary script evaluation failed",{error:n})}return null}createDictionaryFieldsIndex(e){if(!this._requiresFieldCoercionToString)return new _x(e);const i=e.map(r=>({...r,type:"esriFieldTypeString"}));return new _x(i)}},s3e=class extends RK{constructor(e,i){super(),this._fieldMap=e,this._requiresFieldCoercionToString=i}_getField(e){const i=this._fieldMap[e]??e;return this._boundSchema.fieldsIndex.get(i)}field(e){if(!this._requiresFieldCoercionToString)return super.field(e,!1);const i=this._getField(e);return i==null||this._boundTarget.attributes[i.name]==null?"":""+this._boundTarget.attributes[i.name]}};const z9={Relative:0,Absolute:1},n3e={color:[128,128,128,1],outlinecolor:[0,0,0,1],backgroundcolor:[128,128,128,1],borderlinecolor:[0,0,0,1],tintcolor:[255,255,255,1]},ZO={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:"Draft",anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMTextSymbol:{angle:0,anglex:0,angley:0,halosize:1,height:10,horizontalalignment:"Left",kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:"Normal",textstring:"",underline:!1,verticalalignment:"Bottom",enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:"Draft",capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMGradientStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1,gradientMethod:"AcrossLine",gradientSize:75,gradientSizeUnits:z9.Relative,gradientType:"Discrete",interval:5},CIMSolidFill:{enable:!0,colorlocked:!1},CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:"Draft",enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,separation:4,enable:!0,colorlocked:!1},CIMGradientFill:{enable:!0,angle:90,gradientMethod:"Linear",gradientSize:75,gradientSizeUnits:z9.Relative,gradientType:"Discrete",interval:5},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:"OpenEnded",width:5},CIMGeometricEffectBuffer:{size:1},CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:"NoConstraint",offsetalongline:0},CIMGeometricEffectDonut:{method:"Mitered",option:"Accurate",width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:"FullGeometry"},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:"Square",offset:1,option:"Fast"},CIMGeometricEffectRadial:{angle:0,length:5},CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,yscalefactor:1.15},CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:"Sinus"},CIMMarkerPlacementAlongLine:{customendingoffset:0,endings:"WithHalfGap",offsetalongline:0,placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:"Both",offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:"Fixed",offsetx:0,offsety:0,randomness:100,seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:"ClipAtBoundary"},CIMMarkerPlacementOnLine:{relativeto:"LineMiddle",startpointoffset:0,angletoline:!0,offset:0},CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:"OnPolygon",offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:"Loop",repeatdelay:0,easing:"Linear"},CIMSymbolAnimationSize:{tosize:10},CIMSymbolAnimationScale:{scalefactor:1},CIMSymbolAnimationColor:{tocolor:[255,255,255,1]},CIMSymbolAnimationTransparency:{totransparency:0},CIMSymbolAnimationRotation:{torotation:0,rotateclockwise:!1},CIMSymbolAnimationOffset:{offsetx:0,offsety:0},CIMSymbolAnimationMoveAlongLine:{speed:30,distanceAlong:100}};function o3e(t){return typeof t=="function"}function MVe(t,e,i,r){return o3e(t)?t(e,i,r):t}function EVe(t){return[t.r,t.g,t.b,t.a]}const a3e=` /-,
`;function U9(t){let e=t.length;for(;e--;)if(!a3e.includes(t.charAt(e)))return!1;return!0}function AVe(t,e){const i=[];let r=0,s=-1;do if(s=t.indexOf("[",r),s>=r){if(s>r){const n=t.slice(r,s);i.push([n,null,U9(n)])}if(r=s+1,s=t.indexOf("]",r),s>=r){if(s>r){const n=e[t.slice(r,s)];n&&i.push([null,n,!1])}r=s+1}}while(s!==-1);if(r<t.length){const n=t.slice(r);i.push([n,null,U9(n)])}return i}function OVe(t,e,i){let r="",s=null;for(const n of e){const[o,l,c]=n;if(o!=null&&o!=="")c?s=o:(s!=null&&(r+=s,s=null),r+=o);else{const d=t.readAttribute(l);d!=null&&d!==""&&(s!==null&&(r+=s,s=null),r+=d)}}return jK(r,i)}function kVe(t,e,i,r){let s="",n=null;for(const o of e){const[l,c,d]=o;if(l!=null&&l!=="")d?n=l:(n!=null&&(s+=n,n=null),s+=l);else{let m=c;i!=null&&(m=m3e(c,i));const v=t.attributes[m];v!=null&&v!==""&&(n!=null&&(s+=n,n=null),s+=v)}}return jK(s,r)}function jK(t,e){switch(typeof t!="string"&&(t=String(t)),e){case"LowerCase":return t.toLowerCase();case"Allcaps":return t.toUpperCase();default:return t}}function CVe(t,e,i,r,s,n,o=!0){const l=e/s,c=i/n,d=Math.ceil(l/2),m=Math.ceil(c/2);for(let v=0;v<n;v++)for(let w=0;w<s;w++){const _=4*(w+(o?n-v-1:v)*s);let x=0,T=0,M=0,O=0,C=0,R=0,N=0;const j=(v+.5)*c;for(let F=Math.floor(v*c);F<(v+1)*c;F++){const ee=Math.abs(j-(F+.5))/m,X=(w+.5)*l,J=ee*ee;for(let re=Math.floor(w*l);re<(w+1)*l;re++){let fe=Math.abs(X-(re+.5))/d;const ye=Math.sqrt(J+fe*fe);ye>=-1&&ye<=1&&(x=2*ye*ye*ye-3*ye*ye+1,x>0&&(fe=4*(re+F*e),N+=x*t[fe+3],M+=x,t[fe+3]<255&&(x=x*t[fe+3]/250),O+=x*t[fe],C+=x*t[fe+1],R+=x*t[fe+2],T+=x))}}r[_]=O/T,r[_+1]=C/T,r[_+2]=R/T,r[_+3]=N/M}}function l3e(t){return t?[t[0],t[1],t[2],t[3]/255]:[0,0,0,0]}function RVe(t){var e;return((e=t.data)==null?void 0:e.symbol)??null}function IVe(t){return t.type==="CIMVectorMarker"||t.type==="CIMPictureMarker"||t.type==="CIMBarChartMarker"||t.type==="CIMCharacterMarker"||t.type==="CIMPieChartMarker"||t.type==="CIMStackedBarChartMarker"}function PVe(t){return t.type==="CIMGradientStroke"||t.type==="CIMPictureStroke"||t.type==="CIMSolidStroke"}function jVe(t){return t!=null&&(t.type==="CIMGradientFill"||t.type==="CIMHatchFill"||t.type==="CIMPictureFill"||t.type==="CIMSolidFill"||t.type==="CIMWaterFill")}function u3e(t){return t!=null&&(t.type==="CIMMarkerPlacementAlongLineRandomSize"||t.type==="CIMMarkerPlacementAlongLineSameSize"||t.type==="CIMMarkerPlacementAlongLineVariableSize"||t.type==="CIMMarkerPlacementAtExtremities"||t.type==="CIMMarkerPlacementAtMeasuredUnits"||t.type==="CIMMarkerPlacementAtRatioPositions"||t.type==="CIMMarkerPlacementOnLine"||t.type==="CIMMarkerPlacementOnVertices")}const NVe=(t,e=0)=>t==null||isNaN(t)?e:t,DVe=(t,e)=>t??e,LVe=(t,e)=>t??e,VVe=t=>t.tintColor?l3e(t.tintColor):[255,255,255,1];let c3e=class{constructor(e){this._import=e}getImportPromise(){return this._promise==null&&(this._promise=this._import().then(e=>this.module=e)),this._promise}};function zVe(t){return new c3e(t)}function UVe(t){if(!t)return"normal";switch(t.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function qVe(t){if(!t)return"normal";switch(t.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function BVe(t){let e="normal",i="normal";if(t){const r=t.toLowerCase();r.includes("italic")?e="italic":r.includes("oblique")&&(e="oblique"),r.includes("bold")?i="bold":r.includes("light")&&(i="lighter")}return{style:e,weight:i}}function GVe(t){return t.underline?"underline":t.strikethrough?"line-through":"none"}function q9(t){if(!t)return null;switch(t.type){case"CIMPolygonSymbol":if(t.symbolLayers)for(const e of t.symbolLayers){const i=q9(e);if(i!=null)return i}break;case"CIMTextSymbol":return q9(t.symbol);case"CIMSolidFill":return t.color}return null}function B9(t){if(t)switch(t.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const e=t.symbolLayers;if(e)for(const i of e){const r=B9(i);if(r!=null)return r}break}case"CIMTextSymbol":return B9(t.symbol);case"CIMSolidStroke":return t.color}}function HVe(t){for(const e of t)if(e.enable)switch(e.type){case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return!0}return!1}function G9(t){if(t)switch(t.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(t.symbolLayers)for(const e of t.symbolLayers){const i=G9(e);if(i!==void 0)return i}break;case"CIMTextSymbol":return G9(t.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return t.width}}function WVe(t){switch(t){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function ZVe(t){switch(t){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function YVe(t){return(t?Object.keys(t):[]).map(e=>({name:e,alias:e,type:typeof t[e]=="string"?"esriFieldTypeString":"esriFieldTypeDouble"}))}const JVe=t=>t.includes("data:image/svg+xml");function KVe(t){if(!t)return null;switch(t.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}function BT(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function XVe(t,e,i,r,s,n,o=!0){const{infos:l}=n;let c=1,d=0,m=0,v=0,w=1;for(const{absoluteAnchorPoint:T,offsetX:M,offsetY:O,rotation:C,size:R,frameHeight:N,rotateClockWise:j,scaleSymbolsProportionally:F}of l)w=T?1:c,m=W9(M,O,d,w,m),v=H9(M,O,d,w,v),N&&(F||o)&&(c*=R/N),d=Z9(C,j,d);const _=W9(r,s,d,w,m),x=H9(r,s,d,w,v);return{size:t*c,rotation:Z9(e,i,d),offsetX:_,offsetY:x}}function h3e(t){if(t==null)return!1;if(Array.isArray(t))return t.every(e=>h3e(e));switch(typeof t){case"string":return!!t;case"number":return!isNaN(t)}}function d3e(t,e){if(e==="color"||e==="outlinecolor"||e==="backgroundcolor"||e==="borderlinecolor"||e==="tintcolor")return[...n3e[e]];const i=ZO[t];if(!i)throw new Error(`InternalError: default value for type ${t}.`);return i[e]}function p3e(t){return t.split(" ").map(e=>Number(e))}function f3e(t){return typeof t=="string"?p3e(t):t}function QVe(t){return t!=null&&t.dashTemplate&&(t.dashTemplate=f3e(t.dashTemplate)),t}function YO(t){if(t==null)return"Normal";switch(t.type){case"CIMTextSymbol":return t.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const e=t.symbolLayers;if(!e)return"Normal";for(const i of e)if(i.type==="CIMVectorMarker")return YO(i)}break;case"CIMVectorMarker":{const e=t.markerGraphics;if(!e)return"Normal";for(const i of e)if(i.symbol)return YO(i.symbol)}}return"Normal"}function eFe(t){if(t)switch(t.type){case"CIMTextSymbol":return t.height;case"CIMPointSymbol":{let e=0;if(t.symbolLayers){for(const i of t.symbolLayers)if(i)switch(i.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":{const r=i.size??ZO.CIMVectorMarker.size;r>e&&(e=r);break}}}return e}case"CIMLineSymbol":case"CIMPolygonSymbol":{let e=0;if(t.symbolLayers){for(const i of t.symbolLayers)if(i)switch(i.type){case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{const r=i.width;r!=null&&r>e&&(e=r);break}case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":if(i.markerPlacement&&u3e(i.markerPlacement)){const r=i.size??ZO.CIMVectorMarker.size;r>e&&(e=r)}break;case"CIMPictureFill":{const r=i.height;r!=null&&r>e&&(e=r)}}}return e}}}function m3e(t,e){if(e!==null){const i=e.get(t);return i?i.name:t}return t}function tFe(t){return t.map(e=>({...e,propertyName:BT(e.propertyName)}))}function iFe(t){const e={};for(const i in t){const r=t[i];e[BT(i)]=r}return e}function H9(t,e,i,r,s){const n=i*Math.PI/180;if(n){const o=Math.cos(n);return(Math.sin(n)*t+o*e)*r+s}return e*r+s}function W9(t,e,i,r,s){const n=i*Math.PI/180;return n?(Math.cos(n)*t-Math.sin(n)*e)*r+s:t*r+s}function Z9(t,e,i){return e?i-t:i+t}function rFe(t,e,i){const r=i==="Color"||i==="TintColor"||i==="ToColor",s=i==="Rotation"||i==="Angle"||i==="ToRotation";let n=e[BT(i)];if(n!=null&&(r?n=[n[0]/255,n[1]/255,n[2]/255,n[3]/255]:s&&(n*=Math.PI/180)),n==null&&(n=d3e(e.type,i.toLowerCase()),n!=null&&(r?n=[n[0]/255,n[1]/255,n[2]/255,n[3]]:s&&(n*=Math.PI/180))),e.primitiveName!=null){const o=t[e.primitiveName];if(o!=null){const l=o[i];l==null||(typeof l=="string"||typeof l=="number"||Array.isArray(l)?(n=l,n!=null&&(r?n=[n[0]/255,n[1]/255,n[2]/255,n[3]/255]:s&&(n*=Math.PI/180))):(n={valueExpressionInfo:l,defaultValue:n},n!=null&&(r?n={type:"Process",op:"ArcadeColor",value:n}:s&&(n={type:"Process",op:"Divide",left:n,right:180/Math.PI}))))}}if(n==null)throw new Error(`Failed to derive a value or an expression for "${i}".`);return n}function sFe(t,e,i){if(e[BT(i)]!=null)return!0;if(e.primitiveName!=null){const r=t[e.primitiveName];if(r!=null&&r[i]!=null)return!0}return!1}function nFe(t,e){return Math.max(Math.min((t??e)/100,1),0)}const y3e={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};let NK=class{constructor(e,i,r,s){this.url=e,this.fieldMap=r,this.dictionaryInfo=s,this._symbolPartCache=new VTe(100);const n=async()=>r3e.from(await s,i,r);this._evaluator=n()}async getSymbolAsync(e,i,r=!0){var v;const s=await this._evaluator,n=(i==null?void 0:i.fields)??IK(e.attributes),o=s.createDictionaryFieldsIndex(n),l=s.evaluate(e,(i==null?void 0:i.scale)??0,o,i==null?void 0:i.spatialReference);if(l==null)return null;const c=CT(e.geometry),d=I9.parse(l,s.itemNames,c),m=c==="esriGeometryPoint"&&!((v=e.geometry)!=null&&v.hasZ);return await this._cimPartsToCIMSymbol(e,d.partNames,d.overrides,m,i,r,o)}async getSymbolForControlString(e,i,r){const s=await this._evaluator,n=I9.parse(e,s.itemNames,i),o=i==="esriGeometryPoint"&&!r,l=Y9(await Promise.all(n.partNames.map(c=>this._getSymbolPart(c))),n.overrides,o);return new Hr({data:l})}async _cimPartsToCIMSymbol(e,i,r,s,n,o,l){const c=i.map(v=>this._getSymbolPart(v,n));let d=await Promise.all(c);if(o&&this.fieldMap&&d.length>0){const{OverrideHelper:v}=await te(()=>import("./OverrideHelper-CRvnOItt.js"),__vite__mapDeps([182,127,183,33]));d=G(d);for(const w of d)v.applyDictionaryTextOverrides(w,e,this.fieldMap,l,YO(w))}const m=Y9(d,r,s);return new Hr({data:m})}async _fetchSymbolPart(e,i){const r=await this.dictionaryInfo,s=(this.url+"/"+r.cimRefTemplateUrl).replaceAll(/\{itemName\}/gi,e),{data:n}=await Bt(s,{responseType:"json",query:{f:"json"},...i});return n}async _getSymbolPart(e,i){let r=this._symbolPartCache.get(e);return r||(r=this._fetchSymbolPart(e,i),this._symbolPartCache.put(e,r)),r}};function Y9(t,e,i){if(!t||t.length===0)return null;const r={...t[0]};if(t.length>1){r.effects=null,r.symbolLayers=[];for(const s of t){const n=s;if(n.effects!=null)for(const o of n.symbolLayers)o.effects==null?o.effects=n.effects:o.effects.unshift(...n.effects);r.symbolLayers.unshift(...n.symbolLayers)}}return i&&(r.callout=y3e),{type:"CIMSymbolReference",symbol:r,primitiveOverrides:e}}var JO;let Ro=JO=class extends Mg(yn){constructor(t){super(t),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){const t=this.getDictionaryInfo();return new NK(this.url,this.config,this.fieldMap??{},t)}writeData(t,e){t&&(e.scalingExpressionInfo={expression:t,returnType:"number"})}writeVisualVariables(t,e,i,r){r!=null&&r.origin||super.writeVisualVariables(t,e,i,r)}clone(){return new JO({config:G(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:G(this.fieldMap),url:G(this.url),visualVariables:G(this.visualVariables)})}async getSymbolAsync(t,e,i=!0){return this._loader.getSymbolAsync(t,e,i)}async getSymbolForControlString(t,e,i){return this._loader.getSymbolForControlString(t,e,i)}getDictionaryInfo(){return this._dictionaryInfoPromise||(this._dictionaryInfoPromise=this._fetchDictionaryInfo()),this._dictionaryInfoPromise}async collectRequiredFields(t,e){await this.collectVVRequiredFields(t,e),this.scaleExpression&&await Ss(t,e,null,this.scaleExpression);for(const i in this.fieldMap){const r=this.fieldMap[i];e.has(r)&&t.add(r)}}get arcadeRequired(){return!0}getSymbol(){return null}get symbols(){return[]}getAttributeHash(){var t;return((t=this.visualVariables)==null?void 0:t.reduce((e,i)=>e+i.getAttributeHash(),""))??""}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}async _fetchDictionaryInfo(){const{data:t}=await Bt(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"}});return t}};h([f({type:NK})],Ro.prototype,"_loader",null),h([f({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],Ro.prototype,"config",void 0),h([f({type:Object,json:{write:!0}})],Ro.prototype,"fieldMap",void 0),h([f({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],Ro.prototype,"scaleExpression",void 0),h([_e("scaleExpression")],Ro.prototype,"writeData",null),h([f({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(t){return{enabled:!!t&&!!this.scaleExpression}}}}})],Ro.prototype,"scaleExpressionTitle",void 0),h([f({type:String,json:{write:!0}})],Ro.prototype,"url",void 0),h([_e("visualVariables")],Ro.prototype,"writeVisualVariables",null),Ro=JO=h([I("esri.renderers.DictionaryRenderer")],Ro);var KO;let Sl=KO=class extends ae{constructor(t){super(t),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(t){return t==null?t:typeof t=="function"?(se.getLogger(this).error(".field: field must be a string value"),null):xw(t)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){var t;return new KO({color:(t=this.color)==null?void 0:t.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};h([f({type:Ne,json:{type:[Number],write:!0}})],Sl.prototype,"color",void 0),h([f({type:String,json:{write:!0}})],Sl.prototype,"field",void 0),h([Ot("field")],Sl.prototype,"castField",null),h([f({type:String,json:{write:!0}})],Sl.prototype,"label",void 0),h([f({type:String,json:{write:!0}})],Sl.prototype,"valueExpression",void 0),h([f({type:String,json:{write:!0}})],Sl.prototype,"valueExpressionTitle",void 0),Sl=KO=h([I("esri.renderers.support.AttributeColorInfo")],Sl);const DK=Sl;var XO;let uS=XO=class extends ae{constructor(){super(...arguments),this.unit=null}clone(){return new XO({unit:this.unit})}};h([f({type:String,json:{write:!0}})],uS.prototype,"unit",void 0),uS=XO=h([I("esri.renderers.support.DotDensityLegendOptions")],uS);const g3e=uS;var QO;let Es=QO=class extends Mg(yn){constructor(t){super(t),this.attributes=null,this.backgroundColor=new Ne([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new Pi,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}set visualVariables(t){super.visualVariables=t}calculateDotValue(t){if(this.referenceScale==null)return this.dotValue;const e=t/this.referenceScale*this.dotValue;return e<1?1:e}getSymbol(){return new pn({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}getAttributeHash(){var t;return((t=this.attributes)==null?void 0:t.reduce((e,i)=>e+i.getAttributeHash(),""))??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new QO({attributes:G(this.attributes),backgroundColor:G(this.backgroundColor),dotBlendingEnabled:G(this.dotBlendingEnabled),dotShape:G(this.dotShape),dotSize:G(this.dotSize),dotValue:G(this.dotValue),legendOptions:G(this.legendOptions),outline:G(this.outline),referenceScale:G(this.referenceScale),seed:G(this.seed),visualVariables:G(this.visualVariables),authoringInfo:G(this.authoringInfo)})}getControllerHash(){var e;return`${(e=this.attributes)==null?void 0:e.map(i=>i.field||i.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(t,e){await this.collectVVRequiredFields(t,e);for(const i of this.attributes??[])i.valueExpression&&await Ss(t,e,null,i.valueExpression),i.field&&t.add(i.field)}};h([f({type:[DK],json:{write:!0}})],Es.prototype,"attributes",void 0),h([f({type:Ne,json:{write:!0}})],Es.prototype,"backgroundColor",void 0),h([f({type:Boolean,json:{write:!0}})],Es.prototype,"dotBlendingEnabled",void 0),h([f({type:String,json:{write:!1}})],Es.prototype,"dotShape",void 0),h([f({type:Number,json:{write:!0}})],Es.prototype,"dotSize",void 0),h([f({type:g3e,json:{write:!0}})],Es.prototype,"legendOptions",void 0),h([f({type:Pi,json:{default:null,write:!0}})],Es.prototype,"outline",void 0),h([f({type:Number,json:{write:!0}})],Es.prototype,"dotValue",void 0),h([f({type:Number,json:{write:!0}})],Es.prototype,"referenceScale",void 0),h([f({type:Number,json:{write:!0}})],Es.prototype,"seed",void 0),h([ke({dotDensity:"dot-density"})],Es.prototype,"type",void 0),Es=QO=h([I("esri.renderers.DotDensityRenderer")],Es);var ek;let Ec=ek=class extends ae{constructor(t){super(t),this.color=null,this.ratio=null}clone(){return new ek({color:this.color&&this.color.clone(),ratio:this.ratio})}};h([f({type:Ne,json:{type:[ot],default:null,write:{isRequired:!0}}})],Ec.prototype,"color",void 0),h([f({type:Number,json:{write:{isRequired:!0}}})],Ec.prototype,"ratio",void 0),Ec=ek=h([I("esri.renderers.support.HeatmapColorStop")],Ec);let Jf=class extends rt(ae){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};h([f({type:String,json:{write:!0}})],Jf.prototype,"minLabel",void 0),h([f({type:String,json:{write:!0}})],Jf.prototype,"maxLabel",void 0),h([f({type:String,json:{write:!0}})],Jf.prototype,"title",void 0),Jf=h([I("esri.renderers.support.HeatmapLegendOptions")],Jf);function v3e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function w3e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function b3e(t,e,i,r,s){return t[0]=e,t[1]=i,t[2]=r,t[3]=s,t}function _3e(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t}function LK(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t}function VK(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t[3]=e[3]*i[3],t}function FK(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t[3]=e[3]/i[3],t}function S3e(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function x3e(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function T3e(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t[3]=Math.min(e[3],i[3]),t}function $3e(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t[3]=Math.max(e[3],i[3]),t}function M3e(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function E3e(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t}function A3e(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t[3]=e[3]+i[3]*r,t}function zK(t,e){const i=e[0]-t[0],r=e[1]-t[1],s=e[2]-t[2],n=e[3]-t[3];return Math.sqrt(i*i+r*r+s*s+n*n)}function UK(t,e){const i=e[0]-t[0],r=e[1]-t[1],s=e[2]-t[2],n=e[3]-t[3];return i*i+r*r+s*s+n*n}function qK(t){const e=t[0],i=t[1],r=t[2],s=t[3];return Math.sqrt(e*e+i*i+r*r+s*s)}function BK(t){const e=t[0],i=t[1],r=t[2],s=t[3];return e*e+i*i+r*r+s*s}function O3e(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function k3e(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function C3e(t,e){const i=e[0],r=e[1],s=e[2],n=e[3];let o=i*i+r*r+s*s+n*n;return o>0&&(o=1/Math.sqrt(o),t[0]=i*o,t[1]=r*o,t[2]=s*o,t[3]=n*o),t}function R3e(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function GK(t,e,i,r){const s=e[0],n=e[1],o=e[2],l=e[3];return t[0]=s+r*(i[0]-s),t[1]=n+r*(i[1]-n),t[2]=o+r*(i[2]-o),t[3]=l+r*(i[3]-l),t}function I3e(t,e=1){const i=MT;let r,s,n,o,l,c;do r=2*i()-1,s=2*i()-1,l=r*r+s*s;while(l>=1);do n=2*i()-1,o=2*i()-1,c=n*n+o*o;while(c>=1);const d=Math.sqrt((1-l)/c);return t[0]=e*r,t[1]=e*s,t[2]=e*n*d,t[3]=e*o*d,t}function P3e(t,e,i){const r=e[0],s=e[1],n=e[2],o=e[3];return t[0]=i[0]*r+i[4]*s+i[8]*n+i[12]*o,t[1]=i[1]*r+i[5]*s+i[9]*n+i[13]*o,t[2]=i[2]*r+i[6]*s+i[10]*n+i[14]*o,t[3]=i[3]*r+i[7]*s+i[11]*n+i[15]*o,t}function j3e(t,e,i){const r=e[0],s=e[1],n=e[2],o=i[0],l=i[1],c=i[2],d=i[3],m=d*r+l*n-c*s,v=d*s+c*r-o*n,w=d*n+o*s-l*r,_=-o*r-l*s-c*n;return t[0]=m*d+_*-o+v*-c-w*-l,t[1]=v*d+_*-l+w*-o-m*-c,t[2]=w*d+_*-c+m*-l-v*-o,t[3]=e[3],t}function N3e(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function D3e(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function L3e(t,e){const i=t[0],r=t[1],s=t[2],n=t[3],o=e[0],l=e[1],c=e[2],d=e[3],m=ws();return Math.abs(i-o)<=m*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(r-l)<=m*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(s-c)<=m*Math.max(1,Math.abs(s),Math.abs(c))&&Math.abs(n-d)<=m*Math.max(1,Math.abs(n),Math.abs(d))}const V3e=LK,F3e=VK,z3e=FK,U3e=zK,q3e=UK,B3e=qK,G3e=BK;Object.freeze(Object.defineProperty({__proto__:null,add:_3e,ceil:S3e,copy:v3e,copyVec3:w3e,dist:U3e,distance:zK,div:z3e,divide:FK,dot:R3e,equals:L3e,exactEquals:D3e,floor:x3e,inverse:k3e,len:B3e,length:qK,lerp:GK,max:$3e,min:T3e,mul:F3e,multiply:VK,negate:O3e,normalize:C3e,random:I3e,round:M3e,scale:E3e,scaleAndAdd:A3e,set:b3e,sqrDist:q3e,sqrLen:G3e,squaredDistance:UK,squaredLength:BK,str:N3e,sub:V3e,subtract:LK,transformMat4:P3e,transformQuat:j3e},Symbol.toStringTag,{value:"Module"}));function GT(){return[0,0,0,0]}function H3e(t){return[t[0],t[1],t[2],t[3]]}function Eg(t,e,i,r){return[t,e,i,r]}function W3e(t,e,i,r){return[t,e,i,r]}function Z3e(t,e=GT()){const i=Math.min(4,t.length);for(let r=0;r<i;++r)e[r]=t[r];return e}function HK(){return GT()}function WK(){return Eg(1,1,1,1)}function ZK(){return Eg(1,0,0,0)}function YK(){return Eg(0,1,0,0)}function JK(){return Eg(0,0,1,0)}function KK(){return Eg(0,0,0,1)}const Y3e=HK(),J3e=WK(),K3e=ZK(),X3e=YK(),Q3e=JK(),e$e=KK();Object.freeze(Object.defineProperty({__proto__:null,ONES:J3e,UNIT_W:e$e,UNIT_X:K3e,UNIT_Y:X3e,UNIT_Z:Q3e,ZEROS:Y3e,clone:H3e,create:GT,freeze:W3e,fromArray:Z3e,fromValues:Eg,ones:WK,unitW:KK,unitX:ZK,unitY:YK,unitZ:JK,zeros:HK},Symbol.toStringTag,{value:"Module"}));const j6=2.4;function t$e(t){return uo(t*j6)}function i$e(t){return Dbe(t)/j6}function r$e(t,e,i,r){let{color:s,ratio:n}=e,{color:o,ratio:l}=i;l===n&&(l===1?n-=1e-6:l+=1e-6);const c=_n((r-n)/(l-n),0,1);GK(t,s.toArray(),o.toArray(),c)}function lFe(t){const i=new Uint8ClampedArray(2048);if(t=t.filter(({ratio:l})=>l>=0&&l<=1).sort((l,c)=>l.ratio-c.ratio).map(({color:l,ratio:c})=>({color:l,ratio:Math.max(c,.001)})),t.length<1)return i;let r=t[0],s=t[0],n=1;const o=GT();for(let l=0;l<512;l++){const c=(l+.5)/512;for(;c>s.ratio&&n<t.length;)r=s,s=t[n++];r$e(o,r,s,c),i.set(o,4*l)}return i}function uFe(t,e,i){const r=Math.sqrt(t**2+e**2)/i;return r>1?0:3/(Math.PI*i**2)*(1-r**2)**2}function cFe(t){return typeof t=="function"?t:t?e=>+e[t]:()=>1}var tk;function J9(t){if(t!=null){const{maxDensity:e,minDensity:i,radius:r}=t;if(e!=null||i!=null||r!=null){const{blurRadius:s,maxPixelIntensity:n,minPixelIntensity:o,...l}=t;return l}}return t}let Xi=tk=class extends yn{constructor(t){super(t),this.authoringInfo=null,this.colorStops=[new Ec({ratio:0,color:new Ne("rgba(255, 140, 0, 0)")}),new Ec({ratio:.75,color:new Ne("rgba(255, 140, 0, 1)")}),new Ec({ratio:.9,color:new Ne("rgba(255, 0,   0, 1)")})],this.field=null,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null}normalizeCtorArgs(t){return J9(t)}get blurRadius(){return i$e(this.radius)}set blurRadius(t){const e=this.maxPixelIntensity,i=this.minPixelIntensity;this._set("radius",t$e(t)),this._set("maxDensity",e*this._pixelIntensityToDensity),this._set("minDensity",i*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(t){this._set("maxDensity",t*this._pixelIntensityToDensity)}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(t){this._set("minDensity",t*this._pixelIntensityToDensity)}get _pixelIntensityToDensity(){return 24/(j6**2*this.blurRadius**4)}read(t,e){t=J9(t),super.read(t,e)}getSymbol(){return new ir}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}async collectRequiredFields(t,e){const i=this.field,r=this.valueExpression;i&&typeof i=="string"&&qs(t,e,i),r&&typeof r=="string"&&await Ss(t,e,null,r)}getAttributeHash(){return""}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new tk({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:G(this.colorStops),field:this.field,legendOptions:G(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};h([f({type:Yt,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Xi.prototype,"authoringInfo",void 0),h([f({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Xi.prototype,"blurRadius",null),h([f({type:[Ec],json:{write:{isRequired:!0}}})],Xi.prototype,"colorStops",void 0),h([f({type:String,json:{write:!0}})],Xi.prototype,"field",void 0),h([f({type:Jf,json:{write:!0}})],Xi.prototype,"legendOptions",void 0),h([f({type:Number,json:{write:!0}})],Xi.prototype,"maxDensity",void 0),h([f({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Xi.prototype,"maxPixelIntensity",null),h([f({type:Number,json:{write:!0}})],Xi.prototype,"minDensity",void 0),h([f({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Xi.prototype,"minPixelIntensity",null),h([f({type:Number,cast:ut,json:{write:!0}})],Xi.prototype,"radius",void 0),h([f({type:Number,range:{min:0},json:{default:0,write:!0}})],Xi.prototype,"referenceScale",void 0),h([ke({heatmap:"heatmap"})],Xi.prototype,"type",void 0),h([f({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],Xi.prototype,"valueExpression",void 0),h([f({type:String})],Xi.prototype,"valueExpressionTitle",void 0),h([f({readOnly:!0})],Xi.prototype,"_pixelIntensityToDensity",null),Xi=tk=h([I("esri.renderers.HeatmapRenderer")],Xi);let _d=class extends rt(ae){constructor(){super(...arguments),this.color=new Ne([0,0,0,0]),this.label=null,this.threshold=0}};h([f({type:Ne,json:{write:!0}})],_d.prototype,"color",void 0),h([f({type:String,json:{write:!0}})],_d.prototype,"label",void 0),h([f({type:Number,range:{min:0,max:1},json:{write:!0}})],_d.prototype,"threshold",void 0),_d=h([I("esri.renderers.support.OthersCategory")],_d);const s$e={base:zr,key:"type",typeMap:{size:yt,opacity:Hl}};let As=class extends Mg(rt(yn)){constructor(e){super(e),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new Ne([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new _d,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart",this.visualVariables=null}getSymbol(){var e;return new ir({size:this.size?this.size/2+(((e=this.outline)==null?void 0:e.width)||0):0})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(qc)}getAttributeHash(){var e;return((e=this.visualVariables)==null?void 0:e.reduce((i,r)=>i+r.getAttributeHash(),""))??""}getMeshHash(){return this.symbols.reduce((e,i)=>e+JSON.stringify(i),"")}async collectRequiredFields(e,i){await this.collectVVRequiredFields(e,i);for(const r of this.attributes)r.valueExpression&&await Ss(e,i,null,r.valueExpression),r.field&&e.add(r.field)}};h([f({type:[DK],json:{write:!0}})],As.prototype,"attributes",void 0),h([f(A6)],As.prototype,"backgroundFillSymbol",void 0),h([f({type:Ne,json:{write:!0}})],As.prototype,"defaultColor",void 0),h([f({type:String,json:{write:!0}})],As.prototype,"defaultLabel",void 0),h([f({type:Number,range:{min:0,max:1},json:{write:!0}})],As.prototype,"holePercentage",void 0),h([f({type:_d,json:{write:!0}})],As.prototype,"othersCategory",void 0),h([f({type:O6,json:{write:!0}})],As.prototype,"legendOptions",void 0),h([f({type:Pi,json:{default:null,write:!0}})],As.prototype,"outline",void 0),h([f({type:Number,cast:ut,json:{write:!0}})],As.prototype,"size",void 0),h([ke({pieChart:"pie-chart"})],As.prototype,"type",void 0),h([f({types:[s$e]})],As.prototype,"visualVariables",void 0),As=h([I("esri.renderers.PieChartRenderer")],As);const qw={key:"type",base:yn,typeMap:{heatmap:Xi,simple:fs,"unique-value":Nt,"class-breaks":Oi,"dot-density":Es,dictionary:Ro,"pie-chart":As},errorContext:"renderer"},n$e={key:"type",base:yn,typeMap:{simple:fs,"unique-value":Nt,"class-breaks":Oi,heatmap:Xi},errorContext:"renderer",validate:o$e};function o$e(t){switch(t.type){case"simple":return a$e(t);case"unique-value":return l$e(t);case"class-breaks":return u$e(t);case"heatmap":return t}}function a$e(t){if(t.symbol)return t;se.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene.")}function l$e(t){const e=t.uniqueValueInfos,i=e==null?void 0:e.filter(({symbol:r,label:s},n)=>(r||se.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${n}] ${s}) without a symbol from web scene.`),!!r));return(i==null?void 0:i.length)!==(e==null?void 0:e.length)&&(t.uniqueValueInfos=i),t}function u$e(t){const e=t.classBreakInfos,i=e==null?void 0:e.filter(({symbol:r,label:s},n)=>(r||se.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${n}] ${s}) without a symbol from web scene.`),!!r));return(i==null?void 0:i.length)!==(e==null?void 0:e.length)&&(t.classBreakInfos=i),t}function pFe(t,e){return Sx(t,null,e)}const c$e=hg({types:qw});function Sx(t,e,i){return t?t&&(t.styleName||t.styleUrl)&&t.type!=="uniqueValue"?(i!=null&&i.messages&&i.messages.push(new lo("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+t.type+"'",{definition:t,context:i})),null):c$e(t,e,i):null}var ik;let Mr=ik=class extends Ic{constructor(t){super(t),this.type="binning",this.binType="geohash",this.fixedBinLevel=null,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.size=ut("12px"),this.fields=[],this.renderer=null}writeFields(t,e,i){const r=t.filter(s=>s.statisticType!=="avg_angle").map(s=>s.toJSON());bs(i,r,e)}readRenderer(t,e,i){var s;const r=(s=e.drawingInfo)==null?void 0:s.renderer;return r?Sx(r,e,i)??void 0:mK(e,i)}clone(){return new ik({fields:G(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:G(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:G(this.popupTemplate),renderer:G(this.renderer),binType:G(this.binType),size:this.size})}};h([ke({binning:"binning"})],Mr.prototype,"type",void 0),h([ke({geohash:"geohash",square:"square"}),f({type:["geohash","square"]})],Mr.prototype,"binType",void 0),h([f({type:Number,json:{write:!0}})],Mr.prototype,"fixedBinLevel",void 0),h([f({type:[qt],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],Mr.prototype,"labelingInfo",void 0),h([f(DT)],Mr.prototype,"labelsVisible",void 0),h([f({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],Mr.prototype,"maxScale",void 0),h([f(NT)],Mr.prototype,"popupEnabled",void 0),h([f({type:gg,json:{name:"popupInfo",write:!0}})],Mr.prototype,"popupTemplate",void 0),h([f({cast:t=>t==="auto"?t:ds(ut(t))})],Mr.prototype,"size",void 0),h([f({type:[Br],json:{write:!0}})],Mr.prototype,"fields",void 0),h([_e("fields")],Mr.prototype,"writeFields",null),h([f({types:qw,json:{write:{target:"drawingInfo.renderer"}}})],Mr.prototype,"renderer",void 0),h([Ie("renderer",["drawingInfo.renderer"])],Mr.prototype,"readRenderer",null),Mr=ik=h([I("esri.layers.support.FeatureReductionBinning")],Mr);var rk;function K9(t){var e;return t.type==="simple"&&!((e=t.visualVariables)!=null&&e.length)}let ki=rk=class extends ae{constructor(t){super(t),this.type="cluster",this.clusterRadius=ut("80px"),this.clusterMinSize=ut("12px"),this.clusterMaxSize=ut("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=[]}readRenderer(t,e,i){var s,n;const r=(s=e.drawingInfo)==null?void 0:s.renderer;return(n=r==null?void 0:r.authoringInfo)!=null&&n.isAutoGenerated?null:r?K9(r)?null:Sx(r,e,i)??void 0:mK(e,i)}readSymbol(t,e,i){var s,n;const r=(s=e.drawingInfo)==null?void 0:s.renderer;if((n=r==null?void 0:r.authoringInfo)!=null&&n.isAutoGenerated)return null;if(r&&K9(r)){const o=Sx(r,e,i);return o==null?void 0:o.symbol}return null}writeSymbol(t,e,i,r){var n,o;const s=(o=(n=this.renderer)==null?void 0:n.authoringInfo)==null?void 0:o.isAutoGenerated;if(!this.renderer||s){const l=new fs({symbol:t});e.drawingInfo={renderer:l.write({},r)}}}writeFields(t,e,i){const r=t.filter(s=>s.statisticType!=="avg_angle").map(s=>s.toJSON());bs(i,r,e)}readFields(t,e,i){return t.filter(r=>!r.isAutoGenerated).map(r=>Br.fromJSON(r))}clone(){return new rk({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:G(this.labelingInfo),labelsVisible:this.labelsVisible,fields:G(this.fields),maxScale:this.maxScale,renderer:G(this.renderer),symbol:G(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:G(this.popupTemplate)})}};h([f({type:["cluster"],readOnly:!0,json:{write:!0}})],ki.prototype,"type",void 0),h([f({cast:t=>t==="auto"?t:ds(ut(t)),json:{write:!0}})],ki.prototype,"clusterRadius",void 0),h([f({type:Number,cast:ut,json:{write:!0}})],ki.prototype,"clusterMinSize",void 0),h([f({type:Number,cast:ut,json:{write:!0}})],ki.prototype,"clusterMaxSize",void 0),h([f({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],ki.prototype,"maxScale",void 0),h([f(NT)],ki.prototype,"popupEnabled",void 0),h([f({type:gg,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],ki.prototype,"popupTemplate",void 0),h([f({types:qw,json:{write:{target:"drawingInfo.renderer"}}})],ki.prototype,"renderer",void 0),h([Ie("renderer",["drawingInfo.renderer"])],ki.prototype,"readRenderer",null),h([f({types:C_e})],ki.prototype,"symbol",void 0),h([Ie("symbol",["drawingInfo.renderer"])],ki.prototype,"readSymbol",null),h([_e("symbol")],ki.prototype,"writeSymbol",null),h([f({type:[qt],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],ki.prototype,"labelingInfo",void 0),h([f(DT)],ki.prototype,"labelsVisible",void 0),h([f({type:[Br],json:{write:!0}})],ki.prototype,"fields",void 0),h([_e("fields")],ki.prototype,"writeFields",null),h([Ie("fields")],ki.prototype,"readFields",null),ki=rk=h([I("esri.layers.support.FeatureReductionCluster")],ki);var sk;let c1=sk=class extends Ic{constructor(t){super(t),this.type="selection"}clone(){return new sk}};h([f({type:["selection"]})],c1.prototype,"type",void 0),c1=sk=h([I("esri.layers.support.FeatureReductionSelection")],c1);const X9={key:"type",base:Ic,typeMap:{cluster:ki,binning:Mr}},h$e={types:{key:"type",base:Ic,typeMap:{selection:c1,cluster:ki,binning:Mr}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:X9},"portal-item":{types:X9},"web-scene":{types:{key:"type",base:Ic,typeMap:{selection:c1}},name:"layerDefinition.featureReduction",write:{allowNull:!0,layerContainerTypes:ji}}}}},Af={Base64:0,Hex:1,String:2,Raw:3},Fm=8,XK=(1<<Fm)-1;function Ac(t,e){const i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function d$e(t){const e=[];for(let i=0,r=t.length*Fm;i<r;i+=Fm)e[i>>5]|=(t.charCodeAt(i/Fm)&XK)<<i%32;return e}function p$e(t){const e=[];for(let i=0,r=32*t.length;i<r;i+=Fm)e.push(String.fromCharCode(t[i>>5]>>>i%32&XK));return e.join("")}function f$e(t){const e="0123456789abcdef",i=[];for(let r=0,s=4*t.length;r<s;r++)i.push(e.charAt(t[r>>2]>>r%4*8+4&15)+e.charAt(t[r>>2]>>r%4*8&15));return i.join("")}function m$e(t){const e="=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=[];for(let s=0,n=4*t.length;s<n;s+=3){const o=(t[s>>2]>>s%4*8&255)<<16|(t[s+1>>2]>>(s+1)%4*8&255)<<8|t[s+2>>2]>>(s+2)%4*8&255;for(let l=0;l<4;l++)8*s+6*l>32*t.length?r.push(e):r.push(i.charAt(o>>6*(3-l)&63))}return r.join("")}function y$e(t,e){return t<<e|t>>>32-e}function HT(t,e,i,r,s,n){return Ac(y$e(Ac(Ac(e,t),Ac(r,n)),s),i)}function jr(t,e,i,r,s,n,o){return HT(e&i|~e&r,t,e,s,n,o)}function Nr(t,e,i,r,s,n,o){return HT(e&r|i&~r,t,e,s,n,o)}function Dr(t,e,i,r,s,n,o){return HT(e^i^r,t,e,s,n,o)}function Lr(t,e,i,r,s,n,o){return HT(i^(e|~r),t,e,s,n,o)}function g$e(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;let i=1732584193,r=-271733879,s=-1732584194,n=271733878;for(let o=0;o<t.length;o+=16){const l=i,c=r,d=s,m=n;i=jr(i,r,s,n,t[o],7,-680876936),n=jr(n,i,r,s,t[o+1],12,-389564586),s=jr(s,n,i,r,t[o+2],17,606105819),r=jr(r,s,n,i,t[o+3],22,-1044525330),i=jr(i,r,s,n,t[o+4],7,-176418897),n=jr(n,i,r,s,t[o+5],12,1200080426),s=jr(s,n,i,r,t[o+6],17,-1473231341),r=jr(r,s,n,i,t[o+7],22,-45705983),i=jr(i,r,s,n,t[o+8],7,1770035416),n=jr(n,i,r,s,t[o+9],12,-1958414417),s=jr(s,n,i,r,t[o+10],17,-42063),r=jr(r,s,n,i,t[o+11],22,-1990404162),i=jr(i,r,s,n,t[o+12],7,1804603682),n=jr(n,i,r,s,t[o+13],12,-40341101),s=jr(s,n,i,r,t[o+14],17,-1502002290),r=jr(r,s,n,i,t[o+15],22,1236535329),i=Nr(i,r,s,n,t[o+1],5,-165796510),n=Nr(n,i,r,s,t[o+6],9,-1069501632),s=Nr(s,n,i,r,t[o+11],14,643717713),r=Nr(r,s,n,i,t[o],20,-373897302),i=Nr(i,r,s,n,t[o+5],5,-701558691),n=Nr(n,i,r,s,t[o+10],9,38016083),s=Nr(s,n,i,r,t[o+15],14,-660478335),r=Nr(r,s,n,i,t[o+4],20,-405537848),i=Nr(i,r,s,n,t[o+9],5,568446438),n=Nr(n,i,r,s,t[o+14],9,-1019803690),s=Nr(s,n,i,r,t[o+3],14,-187363961),r=Nr(r,s,n,i,t[o+8],20,1163531501),i=Nr(i,r,s,n,t[o+13],5,-1444681467),n=Nr(n,i,r,s,t[o+2],9,-51403784),s=Nr(s,n,i,r,t[o+7],14,1735328473),r=Nr(r,s,n,i,t[o+12],20,-1926607734),i=Dr(i,r,s,n,t[o+5],4,-378558),n=Dr(n,i,r,s,t[o+8],11,-2022574463),s=Dr(s,n,i,r,t[o+11],16,1839030562),r=Dr(r,s,n,i,t[o+14],23,-35309556),i=Dr(i,r,s,n,t[o+1],4,-1530992060),n=Dr(n,i,r,s,t[o+4],11,1272893353),s=Dr(s,n,i,r,t[o+7],16,-155497632),r=Dr(r,s,n,i,t[o+10],23,-1094730640),i=Dr(i,r,s,n,t[o+13],4,681279174),n=Dr(n,i,r,s,t[o],11,-358537222),s=Dr(s,n,i,r,t[o+3],16,-722521979),r=Dr(r,s,n,i,t[o+6],23,76029189),i=Dr(i,r,s,n,t[o+9],4,-640364487),n=Dr(n,i,r,s,t[o+12],11,-421815835),s=Dr(s,n,i,r,t[o+15],16,530742520),r=Dr(r,s,n,i,t[o+2],23,-995338651),i=Lr(i,r,s,n,t[o],6,-198630844),n=Lr(n,i,r,s,t[o+7],10,1126891415),s=Lr(s,n,i,r,t[o+14],15,-1416354905),r=Lr(r,s,n,i,t[o+5],21,-57434055),i=Lr(i,r,s,n,t[o+12],6,1700485571),n=Lr(n,i,r,s,t[o+3],10,-1894986606),s=Lr(s,n,i,r,t[o+10],15,-1051523),r=Lr(r,s,n,i,t[o+1],21,-2054922799),i=Lr(i,r,s,n,t[o+8],6,1873313359),n=Lr(n,i,r,s,t[o+15],10,-30611744),s=Lr(s,n,i,r,t[o+6],15,-1560198380),r=Lr(r,s,n,i,t[o+13],21,1309151649),i=Lr(i,r,s,n,t[o+4],6,-145523070),n=Lr(n,i,r,s,t[o+11],10,-1120210379),s=Lr(s,n,i,r,t[o+2],15,718787259),r=Lr(r,s,n,i,t[o+9],21,-343485551),i=Ac(i,l),r=Ac(r,c),s=Ac(s,d),n=Ac(n,m)}return[i,r,s,n]}function N6(t,e=Af.Hex){const i=e||Af.Base64,r=g$e(d$e(t),t.length*Fm);switch(i){case Af.Raw:return r;case Af.Hex:return f$e(r);case Af.String:return p$e(r);case Af.Base64:return m$e(r)}}const v$e=()=>se.getLogger("esri.views.2d.layers.support.clusterUtils");q.add("esri-cluster-arcade-enabled",!0);const w$e=q("esri-cluster-arcade-enabled"),b$e=new Set(["simple-line","simple-fill","picture-fill"]);function Q9(t,e){let i=e.clone();if(!_$e(i))return i;if(e.symbols.some(r=>b$e.has(r.type))&&(i=new fs({symbol:new ir})),i.authoringInfo||(i.authoringInfo=new Yt),i.authoringInfo.isAutoGenerated=!0,"visualVariables"in i){const r=(i.visualVariables||[]).filter(s=>s.valueExpression!=="$view.scale");r.forEach(s=>{s.type==="rotation"?s.field?s.field=Lh(t,s.field,"avg_angle","number"):s.valueExpression&&(s.field=U0(t,s.valueExpression,"avg_angle","number"),s.valueExpression=null):s.normalizationField?(s.field=Lh(t,s.field,"avg_norm","number",s.normalizationField),s.normalizationField=null):s.field?s.field=Lh(t,s.field,"avg","number"):s.valueExpression&&(s.field=U0(t,s.valueExpression,"avg","number"),s.valueExpression=null)}),i.visualVariables=r}switch(i.type){case"simple":break;case"pie-chart":for(const r of i.attributes)r.field?r.field=Lh(t,r.field,"sum","number"):r.valueExpression&&(r.field=U0(t,r.valueExpression,"sum","number"),r.valueExpression=null);break;case"unique-value":i.field?i.field=Lh(t,i.field,"mode","string"):i.valueExpression&&(i.field=U0(t,i.valueExpression,"mode","string"),i.valueExpression=null);break;case"class-breaks":i.normalizationField?(i.field=Lh(t,i.field,"avg_norm","number",i.normalizationField),i.normalizationField=null):i.field?i.field=Lh(t,i.field,"avg","number"):i.valueExpression&&(i.field=U0(t,i.valueExpression,"avg","number"),i.valueExpression=null)}return i}const _$e=t=>{const e=i=>v$e().error(new B("Unsupported-renderer",i,{renderer:t}));if(!t)return!1;switch(t.type){case"unique-value":if(t.field2||t.field3)return e("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(t.normalizationField){const i=t.normalizationType;if(i!=="field")return e(`FeatureReductionCluster does not support a normalizationType of ${i}`),!1}break;case"simple":case"pie-chart":break;default:return e(`FeatureReductionCluster does not support renderers of type ${t.type}`),!1}if(!w$e){if("valueExpression"in t&&t.valueExpression)return e("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in t&&t.visualVariables||[]).some(i=>!(!("valueExpression"in i)||!i.valueExpression)))return e("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function S$e(t,e,i){switch(t){case"sum":return`cluster_sum_${e}`;case"avg":case"avg_angle":return`cluster_avg_${e}`;case"mode":return`cluster_type_${e}`;case"avg_norm":{const r=i,s="field",n=e.toLowerCase()+",norm:"+s+","+r.toLowerCase();return"cluster_avg_"+N6(n)}}}function U0(t,e,i,r){const s=N6(e),n=i==="mode"?`cluster_type_${s}`:i==="sum"?`cluster_sum_${s}`:`cluster_avg_${s}`;return t.some(o=>o.name===n)||t.push(new Br({name:n,isAutoGenerated:!0,onStatisticExpression:new wc({expression:e,returnType:r}),statisticType:i})),n}function Lh(t,e,i,r,s){if(e==="cluster_count"||t.some(o=>o.name===e))return e;const n=S$e(i,e,s);return t.some(o=>o.name===n)||(i==="avg_norm"?t.push(new Br({name:n,isAutoGenerated:!0,onStatisticExpression:new wc({expression:`$feature.${e} / $feature.${s}`,returnType:r}),statisticType:"avg"})):t.push(new Br({name:n,isAutoGenerated:!0,onStatisticField:e,statisticType:i}))),n}const x$e=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.aggregateGraphicOrigin=new jSe(this),this.addHandles(Le(()=>this.renderer,()=>{if(this.featureReduction){const s=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",s)}},za))}set featureReduction(r){const s=this._normalizeFeatureReduction(r);this._set("featureReduction",s)}set renderer(r){}_withClusterVariable(r,s,n){const o=r.clone();return"visualVariables"in o&&(o.visualVariables||(o.visualVariables=[]),o.visualVariables.some(l=>l.type==="size")||o.visualVariables.push(new yt({field:"cluster_count",stops:[new zo({value:1}),new zo({useMinValue:!0,size:s}),new zo({useMaxValue:!0,size:n})]}))),o}_normalizeFeatureReduction(r){var w;if((r==null?void 0:r.type)!=="cluster")return r;const s=r.clone(),n=[new Br({name:"cluster_count",alias:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],o=(s.fields??[]).filter(_=>!_.isAutoGenerated),l=r.renderer&&!((w=r.renderer.authoringInfo)!=null&&w.isAutoGenerated),{clusterMinSize:c,clusterMaxSize:d}=s;if(l){s.fields=[...n,...o];const _=this._withClusterVariable(s.renderer,c,d);return s.effectiveFeatureRenderer=_,s.effectiveClusterRenderer=_,s}if(r.symbol){if(s.fields=[...n,...o],s.renderer=null,!this.renderer)return s.effectiveFeatureRenderer=null,s.effectiveClusterRenderer=null,s;const _=Q9(n,this.renderer),x=this._withClusterVariable(_,c,d),T="visualVariables"in x&&x.visualVariables?x.visualVariables:[],M=new fs({symbol:r.symbol,visualVariables:T});return s.fields=[...n,...o],s.effectiveFeatureRenderer=x,s.effectiveClusterRenderer=M,s}if(!this.renderer)return r;const m=Q9(n,this.renderer);s.fields=[...n,...o],s.renderer=m;const v=this._withClusterVariable(m,c,d);return s.effectiveFeatureRenderer=v,s.effectiveClusterRenderer=v,s}};return h([f({readOnly:!0,clonable:!1})],i.prototype,"aggregateGraphicOrigin",void 0),h([f(h$e)],i.prototype,"featureReduction",null),i=h([I("esri.layers.mixins.FeatureReductionLayer")],i),i},eV={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,ArcGISVideoLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},tV={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},iV={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},T$e={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GaussianSplatLayer:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,Object3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,Voxel:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap-base-layers":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap-ground-layers":{IntegratedMesh3DTilesLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":eV,"web-map/basemap-base-layers":tV,"web-map/tables":iV,"link-chart/operational-layers":{...eV,LinkChartLayer:!0},"link-chart/basemap-base-layers":tV,"link-chart/tables":iV,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0,WCS:!0},"portal-item/tables":{ArcGISFeatureLayer:!0,SubtypeGroupTable:!0}},$$e=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(r,s,n){var o;return((o=n==null?void 0:n.portalItem)==null?void 0:o.type)==="Group Layer"?void 0:r}writeListMode(r,s,n,o){(o&&o.layerContainerType==="ground"||r&&wpe(this,n,{},o))&&(s[n]=r)}writeOperationalLayerType(r,s,n){r&&(s[n]=r)}writeTitle(r,s){s.title=r??"Layer"}readVisibilityTimeExtent(r){return r?Ii.fromArray(r):null}writeVisibilityTimeExtent(r,s,n,o){r&&o.layerContainerType!=="tables"&&(r.isEmpty?o!=null&&o.messages&&o.messages.push(new B("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):s[n]=r.toArray())}read(r,s){s&&(s.layer=this),ype(this,r,n=>super.read(r,n),s)}write(r,s){var l,c;if(!this.persistenceEnabled&&!(s!=null&&s.ignorePersistenceEnabled))return null;if(s!=null&&s.origin){const d=`${s.origin}/${s.layerContainerType||"operational-layers"}`,m=T$e[d];let v=!!(m!=null&&m[this.operationalLayerType]);if(this.operationalLayerType==="ArcGISTiledElevationServiceLayer"&&d==="web-scene/operational-layers"&&(v=!1),this.operationalLayerType==="ArcGISDimensionLayer"&&d==="web-map/operational-layers"&&(v=!1),!v)return(l=s.messages)==null||l.push(new B("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${d}'`,{layer:this})),null}const n=super.write(r,{...s,layer:this}),o=!!s&&!!s.messages&&!!s.messages.filter(d=>d instanceof B&&d.name==="web-document-write:property-required").length;return wg(n==null?void 0:n.url)?((c=s==null?void 0:s.messages)==null||c.push(new B("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&o?null:n}beforeSave(){}};return h([f({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],i.prototype,"id",void 0),h([Ie("id",["id"])],i.prototype,"readId",null),h([f(ZSe)],i.prototype,"listMode",void 0),h([_e("listMode")],i.prototype,"writeListMode",null),h([f({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:ji,isRequired:!0}}}}})],i.prototype,"operationalLayerType",void 0),h([_e("operationalLayerType")],i.prototype,"writeOperationalLayerType",null),h([f(gx)],i.prototype,"opacity",void 0),h([f({type:Boolean,readOnly:!1})],i.prototype,"persistenceEnabled",void 0),h([f({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],i.prototype,"title",void 0),h([_e("title"),_e(["web-scene"],"title")],i.prototype,"writeTitle",null),h([f({type:Ii,json:{origins:{"web-scene":{write:{layerContainerTypes:ji}}}}})],i.prototype,"visibilityTimeExtent",void 0),h([Ie("visibilityTimeExtent")],i.prototype,"readVisibilityTimeExtent",null),h([_e(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[ot,nT]]}})],i.prototype,"writeVisibilityTimeExtent",null),h([f({type:Boolean,json:{name:"visibility",write:{layerContainerTypes:ji}}})],i.prototype,"visible",void 0),i=h([I("esri.layers.mixins.OperationalLayer")],i),i};var nk;const F_=new ct({asc:"ascending",desc:"descending"});var yy;let Sd=(yy=class extends ae{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new nk({field:this.field,valueExpression:this.valueExpression,order:this.order})}},nk=yy,yy);h([f({type:String,json:{write:!0}})],Sd.prototype,"field",void 0),h([f({type:String,json:{write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],Sd.prototype,"valueExpression",void 0),h([f({type:F_.apiValues,json:{type:F_.jsonValues,read:F_.read,write:F_.write}})],Sd.prototype,"order",void 0),Sd=nk=h([I("esri.layers.support.OrderByInfo")],Sd);function M$e(t,e,i){if(!t)return null;const r=t.find(n=>!!n.field);if(!r)return null;const s=new Sd;return s.read(r,i),[s]}function E$e(t,e,i,r){const s=t.find(n=>!!n.field);s&&bs(i,[s.toJSON()],e)}const A$e={type:[Sd],json:{origins:{"web-scene":{write:!1,read:!1}},name:"layerDefinition.orderBy",read:{reader:M$e},write:{writer:E$e}}},O$e=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.orderBy=null}};return h([f(A$e)],i.prototype,"orderBy",void 0),i=h([I("esri.layers.mixins.OrderedLayer")],i),i};let xl=class extends $e{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e!=null&&e.portalItem&&e.path?{...e,path:rV(e.path,e.portalItem)}:e}set path(e){e!=null&&Gs(e)?se.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return rV(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",i){const r=this.cdnUrl;if(r==null)throw new B("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(r,{responseType:e,query:{token:this.portalItem.apiKey,_ts:i!=null&&i.cacheBust?Date.now():null},signal:i==null?void 0:i.signal})}async update(e,i){const{addOrUpdateResources:r}=await te(()=>import("./resourceUtils-3r7prayq.js"),[]);return await r(this.portalItem,[{resource:this,content:e,compress:i==null?void 0:i.compress,access:i==null?void 0:i.access}],"update",i),this}hasPath(){return this.path!=null}};function rV(t,e){return t==null?t:(t=t.replace(/^\/+/,""),e!=null&&Gs(t)&&(t=PR(t,e.itemUrl)),t==null?void 0:t.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}h([f()],xl.prototype,"portalItem",void 0),h([f({type:String,value:null})],xl.prototype,"path",null),h([Ot("path")],xl.prototype,"_castPath",null),h([f({type:String,readOnly:!0})],xl.prototype,"url",null),h([f({type:String,readOnly:!0})],xl.prototype,"cdnUrl",null),h([f({type:String,readOnly:!0})],xl.prototype,"itemRelativeUrl",null),xl=h([I("esri.portal.PortalItemResource")],xl);let Rd=class extends $e{constructor(e){super(e),this.created=null,this.rating=null}};h([f({type:Date})],Rd.prototype,"created",void 0),h([f()],Rd.prototype,"rating",void 0),Rd=h([I("esri.portal.PortalRating")],Rd);var hd;const k$e=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Knowledge Graph Layer","Map Service","Media Layer","Scene Service","Stream Service","Video Service","Vector Tile Service","WCS","WFS","WMS","WMTS"]),C$e=new Set(["KML","GeoJson","CSV"]);let qe=hd=class extends th(_g){static from(t){return Tw(hd,t)}constructor(t){super(t),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.classification=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const t=this.type,e=this.typeKeywords||[];let i=t;return t==="Feature Service"||t==="Feature Collection"?i=e.includes("Table")?"Table":e.includes("Route Layer")?"Route Layer":e.includes("Markup")?"Markup":"Feature Layer":t==="Image Service"?i=e.includes("Elevation 3D Layer")?"Elevation Layer":e.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":t==="Scene Service"?i="Scene Layer":t==="Video Service"?i="Video Layer":t==="Scene Package"?i="Scene Layer Package":t==="Stream Service"?i="Feature Layer":t==="Geoprocessing Service"?i=e.includes("Web Tool")?"Tool":"Geoprocessing Service":t==="Geoenrichment Service"?i="GeoEnrichment Service":t==="Geocoding Service"?i="Locator":t==="Microsoft Powerpoint"?i="Microsoft PowerPoint":t==="GeoJson"?i="GeoJSON":t==="Globe Service"?i="Globe Layer":t==="Vector Tile Service"?i="Tile Layer":t==="netCDF"?i="NetCDF":t==="Map Service"?i=e.includes("Spatiotemporal")||!e.includes("Hosted Service")&&!e.includes("Tiled")||e.includes("Relational")?"Map Image Layer":"Tile Layer":t!=null&&t.toLowerCase().includes("add in")?i=t.replaceAll(/(add in)/gi,"Add-In"):t==="datastore catalog service"?i="Big Data File Share":t==="Compact Tile Package"?i="Tile Package (tpkx)":t==="Raster function template"?i="Raster Function Template":t==="OGCFeatureServer"?i="OGC Feature Layer":t==="web mapping application"&&e.includes("configurableApp")?i="Instant App":t==="Insights Page"?i="Insights Report":t==="Excalibur Imagery Project"?i="Excalibur Project":t==="3DTiles Service"?i="3D tiles layer":t==="3DTiles Package"&&(i="3D tiles package"),i}readExtent(t){return t&&t.length?new Ye(t[0][0],t[0][1],t[1][0],t[1][1]):null}get iconUrl(){var _;const t=((_=this.type)==null?void 0:_.toLowerCase())||"",e=this.typeKeywords||[],i="esri/images/portal/",r="16";let s,n=!1,o=!1,l=!1,c=!1,d=!1,m=!1,v=!1,w=!1;return t.indexOf("service")>0||t==="feature collection"||t==="kml"||t==="wms"||t==="wmts"||t==="wfs"?(n=e.includes("Hosted Service"),t==="feature service"||t==="feature collection"||t==="kml"||t==="wfs"?(o=e.includes("Table"),l=e.includes("Route Layer"),c=e.includes("Markup"),d=e.includes("Spatiotemporal"),m=e.includes("UtilityNetwork"),s=d&&o?"spatiotemporaltable":o?"table":l?"routelayer":c?"markup":d?"spatiotemporal":m?"utilitynetwork":n?"featureshosted":"features"):t==="map service"||t==="wms"||t==="wmts"?(d=e.includes("Spatiotemporal"),v=e.includes("Relational"),s=d||v?"mapimages":n||e.includes("Tiled")||t==="wmts"?"maptiles":"mapimages"):s=t==="scene service"?e.includes("Line")?"sceneweblayerline":e.includes("3DObject")?"sceneweblayermultipatch":e.includes("Point")?"sceneweblayerpoint":e.includes("IntegratedMesh")?"sceneweblayermesh":e.includes("PointCloud")?"sceneweblayerpointcloud":e.includes("Polygon")?"sceneweblayerpolygon":e.includes("Building")?"sceneweblayerbuilding":e.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":t==="image service"?e.includes("Elevation 3D Layer")?"elevationlayer":e.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":t==="stream service"?"streamlayer":t==="vector tile service"?"vectortile":t==="datastore catalog service"?"datastorecollection":t==="geocoding service"?"geocodeservice":t==="video service"?e.includes("Live Stream")?"livestreamvideolayer":"videolayer":t==="geoprocessing service"?e.includes("Web Tool")?"tool":"layers":t==="geodata service"?"geodataservice":t==="3dtiles service"?e.includes("3DObject")?"3dobjecttileslayer":e.includes("IntegratedMesh")?"integratedmeshtileslayer":e.includes("GaussianSplat")?"gaussiansplatlayer":"3dtileslayer":"layers"):t==="web map"||t==="cityengine web scene"?s="maps":t==="web scene"?s=e.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":t==="web mapping application"&&e.includes("configurableApp")?s="instantapps":t==="web mapping application"||t==="mobile application"||t==="application"||t==="operation view"||t==="desktop application"?s="apps":t==="map document"||t==="map package"||t==="published map"||t==="scene document"||t==="globe document"||t==="basemap package"||t==="mobile basemap package"||t==="mobile map package"||t==="project package"||t==="project template"||t==="pro map"||t==="layout"||t==="layer"&&e.includes("ArcGIS Pro")||t==="explorer map"&&e.indexOf("Explorer Document")?s="mapsgray":t==="service definition"||t==="shapefile"||t==="cad drawing"||t==="geojson"||t==="netcdf"||t==="administrative report"?s="datafiles":t==="360 vr experience"?s="360vr":t==="explorer add in"||t==="desktop add in"||t==="windows viewer add in"||t==="windows viewer configuration"?s="appsgray":t==="arcgis pro add in"||t==="arcgis pro configuration"?s="addindesktop":t==="pdf"?s="pdf":t==="microsoft word"?s="word":t==="microsoft excel"?s="excel":t==="microsoft powerpoint"?s="ppt":t==="rule package"||t==="file geodatabase"||t==="sqlite geodatabase"||t==="csv collection"||t==="kml collection"||t==="windows mobile package"||t==="map template"||t==="desktop application template"||t==="gml"||t==="arcpad package"||t==="code sample"||t==="document link"||t==="earth configuration"||t==="operations dashboard add in"||t==="rules package"||t==="workflow manager package"||t==="explorer map"&&e.includes("Explorer Mapping Application")||e.includes("Document")?s="datafilesgray":t==="network analysis service"||t==="geoprocessing service"||t==="geodata service"||t==="geometry service"||t==="geoprocessing package"||t==="locator package"||t==="geoprocessing sample"||t==="workflow manager service"?s="toolsgray":t==="layer"||t==="layer package"||t==="explorer layer"?s="layersgray":t==="analysis model"?s="analysismodel":t==="scene package"?s="scenepackage":t==="3dtiles package"?s="3dtileslayerpackage":t==="3dtiles service"?s="3dtileslayer":t==="mobile scene package"?s="mobilescenepackage":t==="tile package"||t==="compact tile package"?s="tilepackage":t==="task file"?s="taskfile":t==="report template"?s="report-template":t==="statistical data collection"?s="statisticaldatacollection":t==="insights workbook"?s="workbook":t==="insights model"?s="insightsmodel":t==="insights page"?s="insightspage":t==="insights theme"?s="insightstheme":t==="hub initiative"?s="hubinitiative":t==="hub page"?s="hubpage":t==="hub site application"?s="hubsite":t==="hub event"?s="hubevent":t==="hub project"?s="hubproject":t==="relational database connection"?s="relationaldatabaseconnection":t==="big data file share"?s="datastorecollection":t==="image collection"?s="imagecollection":t==="desktop style"?s="desktopstyle":t==="style"?s=e.includes("Dictionary")?"dictionarystyle":"style":t==="dashboard"?s="dashboard":t==="raster function template"?s="rasterprocessingtemplate":t==="vector tile package"?s="vectortilepackage":t==="ortho mapping project"?s="orthomappingproject":t==="ortho mapping template"?s="orthomappingtemplate":t==="solution"?s="solutions":t==="geopackage"?s="geopackage":t==="deep learning package"?s="deeplearningpackage":t==="real time analytic"?s="realtimeanalytics":t==="reality mapping project"?s="realitymappingproject":t==="big data analytic"?s="bigdataanalytics":t==="feed"?s="feed":t==="excalibur imagery project"?s="excaliburimageryproject":t==="notebook"?s="notebook":t==="storymap"?s="storymap":t==="survey123 add in"?s="survey123addin":t==="mission"?s="mission":t==="mission report"?s="missionreport":t==="mission template"?s="missiontemplate":t==="quickcapture project"?s="quickcaptureproject":t==="pro report"?s="proreport":t==="pro report template"?s="proreporttemplate":t==="urban model"?s="urbanmodel":t==="urban project"?s="urbanproject":t==="web experience"?s="experiencebuilder":t==="web experience template"?s="webexperiencetemplate":t==="experience builder widget"?s="experiencebuilderwidget":t==="experience builder widget package"?s="experiencebuilderwidgetpackage":t==="workflow"?s="workflow":t==="kernel gateway connection"?s="kernelgatewayconnection":t==="insights script"?s="insightsscript":t==="hub initiative template"?s="hubinitiativetemplate":t==="storymap theme"?s="storymaptheme":t==="knowledge graph"?s="knowledgegraph":t==="knowledge graph layer"?s="knowledgegraphlayer":t==="knowledge studio project"?s="knowledgestudio":t==="native application"?s="nativeapp":t==="native application installer"?s="nativeappinstaller":t==="web link chart"?s="linkchart":t==="knowledge graph web investigation"?s="investigation":t==="ogcfeatureserver"?s="features":t==="pro presentation"?s="propresentation":t==="pro project"?s="proproject":t==="insights workbook package"?s="insightsworkbookpackage":t==="apache parquet"?s="apacheparquet":t==="notebook code snippet library"?s="notebookcodesnippets":t==="suitability model"?s="suitabilitymodel":t==="esri classifier definition"?s="classifierdefinition":t==="esri classification schema"?s="classificationschema":t==="insights data engineering workbook"?s="dataengineeringworkbook":t==="insights data engineering model"?s="dataengineeringmodel":t==="deep learning studio project"?s="deeplearningproject":t==="discussion"?s="discussion":t==="allsource project"?s="allsourceproject":t==="api key"?s="apikey":t==="data pipeline"?s="datapipelines":t==="group layer"?(w=e.includes("Map"),s=w?"layergroup2d":"layergroup"):s=t==="media layer"?"onlinemedialayer":t==="form"?e.includes("Survey123")?"survey":"datafilesgray":t==="csv"?"csv":t==="image"?"image":t==="xr experience"?"xrexperience":"maps",s?bi(i+s+r+".png"):null}get isLayer(){return this.type!=null&&k$e.has(this.type)}get itemCdnUrl(){return VR(this.itemUrl)}get itemPageUrl(){var e;const t=(e=this.portal)==null?void 0:e.itemPageUrl;return t&&this.id?`${t}?id=${this.id}`:null}get itemUrl(){var e;const t=(e=this.portal)==null?void 0:e.restUrl;return t&&this.id?`${t}/content/items/${this.id}`:null}get loaded(){return super.loaded}get thumbnailUrl(){var i;const t=this.itemUrl,e=this.thumbnail;return t&&e?((i=this.portal)==null?void 0:i.normalizeUrl(`${t}/info/${e}?f=json`))??null:null}get userItemUrl(){var i,r,s;const t=(i=this.portal)==null?void 0:i.restUrl;if(!t)return null;const e=this.owner||((s=(r=this.portal)==null?void 0:r.user)==null?void 0:s.id);return e?`${t}/content/users/${this.ownerFolder?`${e}/${this.ownerFolder}`:e}/items/${this.id}`:null}load(t){const e=this.portal??(this.portal=le.getDefault()),i=e.load(t).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?e.request(this.itemUrl,{signal:t!=null?t.signal:null,query:{token:this.apiKey}}):{}).then(r=>{this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(i),Promise.resolve(this)}async addRating(t){const e={method:"post",query:{}},i=t instanceof Rd?t.rating:t;return i==null||isNaN(i)||typeof t!="number"||(e.query.rating=i),this.portal?(await this.portal.request(this.itemUrl+"/addRating",e),new Rd({rating:i,created:new Date})):null}clone(){const t={access:this.access,accessInformation:this.accessInformation,applicationProxies:G(this.applicationProxies),avgRating:this.avgRating,categories:G(this.categories),classification:G(this.classification),created:G(this.created),culture:this.culture,description:this.description,extent:G(this.extent),groupCategories:G(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:G(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:G(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:G(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:G(this.typeKeywords),url:this.url};this.loaded&&(t.loadStatus="loaded");const e=new hd({sourceJSON:this.sourceJSON}).set(t);return e._set("isOrgItem",this.isOrgItem),e}createPostQuery(){var e;const t=this.toJSON();for(const i of["tags","typeKeywords","categories"])t[i]=(e=t[i])==null?void 0:e.join(", ");for(const i of["extent","classification"]){const r=t[i];r&&(t[i]=JSON.stringify(r))}return t}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(t="json",e){return this.portal.request(this.itemUrl+"/data",{responseType:t,...e,query:{token:this.apiKey}})}async fetchRating(t){const e=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...t});return e.rating!=null?(e.created=new Date(e.created),new Rd(e)):null}fetchRelatedItems(t,e){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...t,token:this.apiKey},...e},hd)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(t=>(this.applicationProxies&&!Object.hasOwn(t,"appProxies")&&(this.applicationProxies=null),this.sourceJSON=t,this.read(t),this))}update(t){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const e=t==null?void 0:t.data,i={method:"post"};i.query=this.createPostQuery();for(const r in i.query)i.query[r]===null&&(i.query[r]="");return i.query.clearEmptyFields=!0,e!=null&&(typeof e=="string"?i.query.text=e:typeof e=="object"&&(i.query.text=JSON.stringify(e))),this.portal.request(`${this.userItemUrl}/update`,i).then(()=>this.reload())}):Promise.reject(new B("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(t){if(!this.id)throw new B("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:e,itemUrl:i}=this;await e.signIn();const{copyResources:r,folder:s,tags:n,title:o}=t||{},l={method:"post",query:{copyPrivateResources:r==="all",folder:typeof s=="string"?s:s==null?void 0:s.id,includeResources:!!r,tags:n==null?void 0:n.join(","),title:o}},{itemId:c}=await e.request(`${i}/copy`,l);return new hd({id:c,portal:e})}updateThumbnail(t){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const e=t.thumbnail,i=t.filename,r={method:"post"};if(typeof e=="string")Mp(e)?r.query={data:e}:r.query={url:eo(e)},i!=null&&(r.query.filename=i);else{const s=new FormData;i!=null?s.append("file",e,i):s.append("file",e),r.body=s}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,r).then(()=>this.reload())}):Promise.reject(new B("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(t={},e){const{fetchResources:i}=await te(()=>import("./resourceUtils-3r7prayq.js"),[]);return i(this,t,e)}async addResource(t,e,i){const{addOrUpdateResources:r}=await te(()=>import("./resourceUtils-3r7prayq.js"),[]);return t.portalItem=this,await r(this,[{resource:t,content:e,compress:i==null?void 0:i.compress,access:i==null?void 0:i.access}],"add",i),t}async removeResource(t,e){const{removeResource:i}=await te(()=>import("./resourceUtils-3r7prayq.js"),[]);if(t.portalItem&&t.portalItem.itemUrl!==this.itemUrl)throw new B("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return i(this,t,e)}async removeAllResources(t){const{removeAllResources:e}=await te(()=>import("./resourceUtils-3r7prayq.js"),[]);return e(this,t)}resourceFromPath(t){return new xl({portalItem:this,path:t})}toJSON(){var i,r;const t=this.extent,e={accessInformation:this.accessInformation,categories:G(this.categories),classification:G(this.classification),created:(i=this.created)==null?void 0:i.getTime(),description:this.description,extent:t&&[[t.xmin,t.ymin],[t.xmax,t.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:(r=this.modified)==null?void 0:r.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:G(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:G(this.typeKeywords),url:this.url};return nhe(e)}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");return new hd({sourceJSON:t})}_getPostQuery(){const t=this.toJSON();for(const e in t)e==="tags"&&t[e]!==null&&(t[e]=t[e].join(", ")),e==="typeKeywords"&&t[e]!==null&&(t[e]=t[e].join(", ")),e==="extent"&&t[e]&&(t[e]=JSON.stringify(t[e]));return t}};h([f({type:["private","shared","org","public"]})],qe.prototype,"access",void 0),h([f()],qe.prototype,"accessInformation",void 0),h([f({type:String})],qe.prototype,"apiKey",void 0),h([f({json:{read:{source:"appProxies"}}})],qe.prototype,"applicationProxies",void 0),h([f()],qe.prototype,"avgRating",void 0),h([f()],qe.prototype,"categories",void 0),h([f()],qe.prototype,"classification",void 0),h([f({type:Date})],qe.prototype,"created",void 0),h([f()],qe.prototype,"culture",void 0),h([f()],qe.prototype,"description",void 0),h([f({readOnly:!0})],qe.prototype,"displayName",null),h([f({type:Ye})],qe.prototype,"extent",void 0),h([Ie("extent")],qe.prototype,"readExtent",null),h([f()],qe.prototype,"groupCategories",void 0),h([f({readOnly:!0})],qe.prototype,"iconUrl",null),h([f()],qe.prototype,"id",void 0),h([f({readOnly:!0})],qe.prototype,"isLayer",null),h([f({type:Boolean,readOnly:!0})],qe.prototype,"isOrgItem",void 0),h([f()],qe.prototype,"itemControl",void 0),h([f({readOnly:!0})],qe.prototype,"itemPageUrl",null),h([f({readOnly:!0})],qe.prototype,"itemUrl",null),h([f()],qe.prototype,"licenseInfo",void 0),h([f({type:Date})],qe.prototype,"modified",void 0),h([f()],qe.prototype,"name",void 0),h([f()],qe.prototype,"numComments",void 0),h([f()],qe.prototype,"numRatings",void 0),h([f()],qe.prototype,"numViews",void 0),h([f()],qe.prototype,"owner",void 0),h([f()],qe.prototype,"ownerFolder",void 0),h([f({type:le})],qe.prototype,"portal",void 0),h([f()],qe.prototype,"screenshots",void 0),h([f()],qe.prototype,"size",void 0),h([f()],qe.prototype,"snippet",void 0),h([f()],qe.prototype,"sourceJSON",void 0),h([f({type:String})],qe.prototype,"sourceUrl",void 0),h([f({type:String})],qe.prototype,"spatialReference",void 0),h([f()],qe.prototype,"tags",void 0),h([f()],qe.prototype,"thumbnail",void 0),h([f({readOnly:!0})],qe.prototype,"thumbnailUrl",null),h([f()],qe.prototype,"title",void 0),h([f()],qe.prototype,"type",void 0),h([f()],qe.prototype,"typeKeywords",void 0),h([f({type:String,json:{read(t,e){var i;if(C$e.has(e.type)){const r=(i=this.portal)==null?void 0:i.restUrl;t||(t=r&&this.id?`${r}/content/items/${this.id}/data`:null)}return t}}})],qe.prototype,"url",void 0),h([f({readOnly:!0})],qe.prototype,"userItemUrl",null),qe=hd=h([I("esri.portal.PortalItem")],qe);const QK=Object.freeze(Object.defineProperty({__proto__:null,get default(){return qe}},Symbol.toStringTag,{value:"Module"}));var ok;let Kf=ok=class extends $e{constructor(t){super(t),this.isInverse=!1,this.wkt=null,this.wkid=null}getInverse(){return new ok({isInverse:!this.isInverse,wkid:this.wkid,wkt:this.wkt})}};h([f()],Kf.prototype,"isInverse",void 0),h([f()],Kf.prototype,"wkt",void 0),h([f()],Kf.prototype,"wkid",void 0),Kf=ok=h([I("esri.geometry.operators.support.GeographicTransformationStep")],Kf);var ak;let h1=ak=class extends $e{constructor(t){super(t),this.steps=[]}getInverse(){const t=new ak;for(let e=this.steps.length-1;e>=0;e--){const i=this.steps[e];t.steps.push(i.getInverse())}return t}};h([f({type:[Kf],nonNullable:!0})],h1.prototype,"steps",void 0),h1=ak=h([I("esri.geometry.operators.support.GeographicTransformation")],h1);const yFe=Math.PI/180,gFe=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,Wu=hi.radius,Mo=hi.eccentricitySquared,R$e={a1:Wu*Mo,a2:Wu*Mo*Wu*Mo,a3:Wu*Mo*Mo/2,a4:Wu*Mo*Wu*Mo*2.5,a5:Wu*Mo+Wu*Mo*Mo/2,a6:1-Mo},vFe={4267:{a:63782064e-1,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:hi.radius,f:hi.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:Wc.radius,f:Wc.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:Na.radius,f:Na.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:Na.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}},I$e={2:{5:Jt,7:null,9:null,10:Jt,1:p1,6:null,8:null,0:null,3:zm,11:Um,2:Jt,4:Gm},5:{5:Jt,7:null,9:null,10:Jt,1:p1,6:null,8:null,0:null,3:zm,11:Um,2:Jt,4:Gm},7:{5:null,7:Jt,9:null,10:Jt,1:null,6:oV,8:null,0:null,3:null,11:null,2:null,4:null},9:{5:null,7:null,9:Jt,10:Jt,1:null,6:null,8:nV,0:null,3:null,11:null,2:null,4:null},3:{5:d1,7:null,9:null,10:d1,1:j$e,6:null,8:null,0:null,3:Jt,11:L$e,2:d1,4:N$e},4:{5:Hm,7:null,9:null,10:Hm,1:W$e,6:null,8:null,0:null,3:Z$e,11:V$e,2:Hm,4:Jt},1:{5:Bm,7:null,9:null,10:Bm,1:Jt,6:null,8:null,0:null,3:B$e,11:F$e,2:Bm,4:G$e},6:{5:null,7:lV,9:null,10:lV,1:null,6:Jt,8:null,0:null,3:null,11:null,2:null,4:null},8:{5:null,7:null,9:aV,10:aV,1:null,6:null,8:Jt,0:null,3:null,11:null,2:null,4:null},0:{5:null,7:null,9:null,10:null,1:null,6:null,8:null,0:Jt,3:null,11:null,2:null,4:null},10:{5:Jt,7:Jt,9:Jt,10:Jt,1:p1,6:oV,8:nV,0:null,3:zm,11:Um,2:Jt,4:Gm},11:{5:qm,7:null,9:null,10:qm,1:z$e,6:null,8:null,0:null,3:U$e,11:Jt,2:qm,4:q$e}};function eX(t,e){var i;return(i=P$e(t,e))==null?void 0:i.projector}function P$e(t,e){if(t==null||e==null)return null;if(hl.source.spatialReference===t&&hl.dest.spatialReference===e)return hl;const i=sV(t,hl.source),r=sV(e,hl.dest);return i===0&&r===0?vr(t,e)?hl.projector=Jt:hl.projector=null:hl.projector=I$e[i][r],hl}function sV(t,e){return t?e.spatialReference===t?e.spatialReferenceId:(e.spatialReference=t,"metersPerUnit"in e&&(e.metersPerUnit=ho(t,1)),hx(t)?e.spatialReferenceId=1:hp(t)?e.spatialReferenceId=2:Fa(t)?e.spatialReferenceId=3:D0e(t)?e.spatialReferenceId=11:t.wkt===z0e.wkt?e.spatialReferenceId=4:t.wkid===4490?e.spatialReferenceId=5:t.wkt===BR.wkt?e.spatialReferenceId=6:t.wkt===GR.wkt?e.spatialReferenceId=8:_Z(t)?e.spatialReferenceId=7:SZ(t)?e.spatialReferenceId=9:e.spatialReferenceId=0):0}function Jt(t,e,i,r){t!==i&&(i[r++]=t[e++],i[r++]=t[e++],i[r]=t[e])}function d1(t,e,i,r){i[r]=Wy*(t[e]/Wd),i[r+1]=Wy*(tX-2*Math.atan(Math.exp(-t[e+1]/Wd))),i[r+2]=t[e+2]}function j$e(t,e,i,r){const s=t[e]/Wd,n=tX-2*Math.atan(Math.exp(-t[e+1]/Wd)),o=Wd+t[e+2],l=Math.cos(n)*o;i[r]=Math.cos(s)*l,i[r+1]=Math.sin(s)*l,i[r+2]=Math.sin(n)*o}function N$e(t,e,i,r){d1(t,e,i,r),Gm(i,r,i,r)}function D$e(t,e,i,r,s){const n=.4999999*Math.PI,o=_n(Hy*t[e+1],-n,n),l=Math.sin(o);i[r++]=Hy*t[e]*s.radius,i[r++]=s.halfSemiMajorAxis*Math.log((1+l)/(1-l)),i[r]=t[e+2]}function zm(t,e,i,r){D$e(t,e,i,r,hi)}function Um(t,e,i,r){i[r]=t[e]*uV,i[r+1]=t[e+1]*uV,i[r+2]=t[e+2]}function qm(t,e,i,r){i[r]=t[e]*cV,i[r+1]=t[e+1]*cV,i[r+2]=t[e+2]}function L$e(t,e,i,r){d1(t,e,i,r),Um(i,r,i,r)}function V$e(t,e,i,r){Hm(t,e,i,r),Um(i,r,i,r)}function F$e(t,e,i,r){Bm(t,e,i,r),Um(i,r,i,r)}function z$e(t,e,i,r){qm(t,e,i,r),p1(i,r,i,r)}function U$e(t,e,i,r){qm(t,e,i,r),zm(i,r,i,r)}function q$e(t,e,i,r){qm(t,e,i,r),Gm(i,r,i,r)}function D6(t,e,i,r,s){const n=s+t[e+2],o=Hy*t[e+1],l=Hy*t[e],c=Math.cos(o)*n;i[r]=Math.cos(l)*c,i[r+1]=Math.sin(l)*c,i[r+2]=Math.sin(o)*n}function nV(t,e,i,r){D6(t,e,i,r,Wc.radius)}function oV(t,e,i,r){D6(t,e,i,r,Na.radius)}function p1(t,e,i,r){D6(t,e,i,r,hi.radius)}function L6(t,e,i,r,s){const n=t[e],o=t[e+1],l=t[e+2],c=Math.sqrt(n*n+o*o+l*l),d=ige(l/(c===0?1:c)),m=Math.atan2(o,n);i[r++]=Wy*m,i[r++]=Wy*d,i[r]=c-s}function aV(t,e,i,r){L6(t,e,i,r,Wc.radius)}function lV(t,e,i,r){L6(t,e,i,r,Na.radius)}function Bm(t,e,i,r){L6(t,e,i,r,hi.radius)}function B$e(t,e,i,r){Bm(t,e,i,r),zm(i,r,i,r)}function G$e(t,e,i,r){Bm(t,e,i,r),Gm(i,r,i,r)}function H$e(t,e,i,r,s){const n=Hy*t[e],o=Hy*t[e+1],l=t[e+2],c=Math.sin(o),d=Math.cos(o),m=s.radius/Math.sqrt(1-s.eccentricitySquared*c*c);i[r++]=(m+l)*d*Math.cos(n),i[r++]=(m+l)*d*Math.sin(n),i[r++]=(m*(1-s.eccentricitySquared)+l)*c}function Gm(t,e,i,r){H$e(t,e,i,r,hi)}function Hm(t,e,i,r){const s=R$e,n=t[e],o=t[e+1],l=t[e+2];let c,d,m,v,w,_,x,T,M,O,C,R,N,j,F,ee,X,J,re,fe,ye;c=Math.abs(l),d=n*n+o*o,m=Math.sqrt(d),v=d+l*l,w=Math.sqrt(v),fe=Math.atan2(o,n),_=l*l/v,x=d/v,j=s.a2/w,F=s.a3-s.a4/w,x>.3?(T=c/w*(1+x*(s.a1+j+_*F)/w),re=Math.asin(T),O=T*T,M=Math.sqrt(1-O)):(M=m/w*(1-_*(s.a5-j-x*F)/w),re=Math.acos(M),O=1-M*M,T=Math.sqrt(O)),C=1-hi.eccentricitySquared*O,R=hi.radius/Math.sqrt(C),N=s.a6*R,j=m-R*M,F=c-N*T,X=M*j+T*F,ee=M*F-T*j,J=ee/(N/C+X),re+=J,ye=X+ee*J/2,l<0&&(re=-re),i[r++]=Wy*fe,i[r++]=Wy*re,i[r]=ye}function W$e(t,e,i,r){Hm(t,e,i,r),p1(i,r,i,r)}function Z$e(t,e,i,r){Hm(t,e,i,r),zm(i,r,i,r)}const hl={source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:Jt},Hy=kw(1),Wy=_W(1),tX=.5*Math.PI,Wd=hi.radius,uV=Wd*Math.PI/180,cV=180/(Wd*Math.PI);function Bw(t,e,i,r,s,n,o=Math.floor(t.length/3)){const l=eX(e,s);if(l==null)return!1;if(l===Jt){if(t===r&&i===n)return!0;const d=i+3*o;for(let m=i,v=n;m<d;m++,v++)r[v]=t[m];return!0}const c=i+3*o;for(let d=i,m=n;d<c;d+=3,m+=3)l(t,d,r,m);return!0}const wFe=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:Bw},Symbol.toStringTag,{value:"Module"}));function hV(t,e,i,r,s,n){return z_[0]=t,z_[1]=e,z_[2]=i,Bw(z_,r,0,s,n,0)}const z_=rh();function Y$e(t,e,i){if(e==null||i==null||i.vcsWkid||vr(e,i)||Yc(e)||Yc(i))return null;const r=n7(e)/n7(i);if(r===1)return null;switch(t){case"point":case"esriGeometryPoint":return s=>J$e(s,r);case"polyline":case"esriGeometryPolyline":return s=>X$e(s,r);case"polygon":case"esriGeometryPolygon":return s=>K$e(s,r);case"multipoint":case"esriGeometryMultipoint":return s=>Q$e(s,r);case"extent":case"esriGeometryEnvelope":return s=>eMe(s,r);default:return null}}function J$e(t,e){(t==null?void 0:t.z)!=null&&(t.z*=e)}function K$e(t,e){if(t)for(const i of t.rings)for(const r of i)r.length>2&&(r[2]*=e)}function X$e(t,e){if(t)for(const i of t.paths)for(const r of i)r.length>2&&(r[2]*=e)}function Q$e(t,e){if(t)for(const i of t.points)i.length>2&&(i[2]*=e)}function eMe(t,e){t&&t.zmin!=null&&t.zmax!=null&&(t.zmin*=e,t.zmax*=e)}let f1=null,Zd=null,Yd=null,Pc=null,lk={};const V6=new $w;function pu(){return!!(Zd!=null&&Zd.isLoaded()&&(Yd!=null&&Yd.isLoaded())&&(Pc!=null&&Pc.isLoaded()))}function iX(){return!!pu()||(je(V6),Kc(),!1)}function rX(t,e){return!t||!e||ta(t,e)||iX()}function tMe(t,e){return!ta(t,e)&&!pu()}async function Kc(t){f1==null&&(f1=Promise.all([te(()=>import("./projectOperator-BISr2UKm.js"),__vite__mapDeps([184,185,107])).then(e=>(Zd=e,Zd.load())),te(()=>import("./projectOperator-BAJefTM6.js"),__vite__mapDeps([186,185,107])).then(e=>(Yd=e,Yd.load())),te(()=>import("./geographicTransformationUtils-Dvedrnyw.js"),[]).then(e=>(Pc=e,Pc.load()))])),await f1,Gt(t),V6.notify()}function ah(t,e,i){return Array.isArray(t)?t.length===0?[]:(dve(t),uk(t,t[0].spatialReference,e,i)):(zy(t),uk([t],t.spatialReference,e,i)[0])}function uk(t,e,i,r){if(e==null||i==null)return t;if(ta(e,i,r))return t.map(s=>cS(s,e,i));if((r==null?void 0:r.geographicTransformation)==null&&hx(e))return t.map(s=>cS(s,e,Se.WGS84)).map(s=>sw(s,i));if((r==null?void 0:r.geographicTransformation)==null&&hx(i))return t.map(s=>sw(s,Se.WGS84)).map(s=>cS(s,Se.WGS84,i));if(!pu())throw new nX;if(!(r!=null&&r.geographicTransformation)){if(r!=null&&r.extendedParams)r={...r,geographicTransformation:Pc.getTransformation(e,i,r.areaOfInterestExtent)||new h1};else if(!(r!=null&&r.areaOfInterestExtent)){const s=iMe(e,i);let n=lk[s];n||(n=Pc.getTransformation(e,i)||new h1,lk[s]=n),r={geographicTransformation:n}}}return t[0].spatialReference||(t[0].spatialReference=e),t[0]instanceof tr?Zd.executeMany(t,i,r):Yd.executeMany(t,i,r)}function iMe(t,e){var i,r,s,n,o,l;return[((i=t.wkid)==null?void 0:i.toString())??"-1",((r=t.wkt)==null?void 0:r.toString())??"",((s=t.wkt2)==null?void 0:s.toString())??"",((n=e.wkid)==null?void 0:n.toString())??"-1",((o=e.wkt)==null?void 0:o.toString())??"",((l=e.wkt2)==null?void 0:l.toString())??""].join()}function rMe(t,e){const i=sX([t],e);return i.pending!=null?{pending:i.pending,geometry:null}:i.geometries!=null?{pending:null,geometry:i.geometries[0]}:{pending:null,geometry:null}}function sX(t,e){if(!pu()){for(const i of t)if(i!=null&&!vr(i.spatialReference,e)&&fn(i.spatialReference)&&fn(e)&&!ta(i.spatialReference,e))return je(V6),{pending:Kc(),geometries:null}}return{pending:null,geometries:t.map(i=>i==null?null:vr(i.spatialReference,e)?i:fn(i.spatialReference)&&fn(e)?sw(i,e):null)}}let nX=class extends B{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}};function sMe(){f1=null,Zd=null,Yd=null,Pc=null,lk={}}const nMe={get loadPromise(){return f1}};function sw(t,e){try{const i=ah(t,e);if(i==null)return null;"xmin"in t&&"xmin"in i&&(i.zmin=t.zmin,i.zmax=t.zmax);const r=Y$e(i.type,t.spatialReference,e);return r!=null&&r(i),i}catch(i){if(!(i instanceof nX))throw i;return null}}async function oX(t,e,i){const r=t.spatialReference;return r!=null&&e!=null&&await F6(r,e,null,i),sw(t,e)}function ta(t,e,i){return!(i!=null&&i.areaOfInterestExtent||i!=null&&i.extendedParams||i!=null&&i.geographicTransformation)&&(!!vr(t,e)||fn(t)&&fn(e)&&!!eX(t,e))}function oMe(t,e){if(vr(t,e))return!0;if(!fn(t)||!fn(e))return!1;const i=hp(t)||Fa(t)||r7(t),r=hp(e)||Fa(e)||r7(e);return i&&r}async function F6(t,e,i,r){if(pu())return C8(r);if(Array.isArray(t)){for(const{source:s,dest:n,options:o}of t)if(s&&n&&!ta(s,n,o))return Kc(r)}else if(t&&e&&!ta(t,e,i))return Kc(r);return C8(r)}function cS(t,e,i){return t?"x"in t?aX(t,e,new Re,i,0):"xmin"in t?dX(t,e,new Ye,i,0):"rings"in t?hX(t,e,new Qt,i,0):"paths"in t?uX(t,e,new Hi,i,0):"points"in t?lX(t,e,new Lo,i,0):null:null}function aMe(t,e,i=e.spatialReference,r=0){return i!=null&&t.spatialReference!=null&&aX(t,t.spatialReference,e,i,r)!=null}function aX(t,e,i,r,s){Gr[0]=t.x,Gr[1]=t.y;const n=t.z;return Gr[2]=n!==void 0?n:s,Bw(Gr,e,0,Gr,r,0)?(i.x=Gr[0],i.y=Gr[1],i.spatialReference=r,n!==void 0||Yc(r)?(i.z=Gr[2],i.hasZ=!0):(i.z=void 0,i.hasZ=!1),t.m===void 0?(i.m=void 0,i.hasM=!1):(i.m=t.m,i.hasM=!0),i):null}function lMe(t,e,i=e.spatialReference,r=0){return t.spatialReference!=null&&i!=null&&lX(t,t.spatialReference,e,i,r)!=null}function lX(t,e,i,r,s){const{points:n,hasZ:o,hasM:l}=t,c=[],d=n.length,m=[];for(const w of n)m.push(w[0],w[1],o?w[2]:s);if(!Bw(m,e,0,m,r,0,d))return null;const v=o||Yc(r);for(let w=0;w<d;++w){const _=3*w,x=m[_],T=m[_+1];v&&l?c.push([x,T,m[_+2],n[w][3]]):v?c.push([x,T,m[_+2]]):l?c.push([x,T,n[w][2]]):c.push([x,T])}return i.points=c,i.spatialReference=r,i.hasZ=o,i.hasM=l,i}function uMe(t,e,i=e.spatialReference,r=0){return t.spatialReference!=null&&i!=null&&uX(t,t.spatialReference,e,i,r)!=null}function uX(t,e,i,r,s){const{paths:n,hasZ:o,hasM:l}=t,c=[];if(!pX(n,o??!1,l??!1,e,c,r,s))return null;const d=o||Yc(r);return i.paths=c,i.spatialReference=r,i.hasZ=d,i.hasM=l,i}function cX(t,e,i=e.spatialReference,r=0){return t.spatialReference!=null&&i!=null&&hX(t,t.spatialReference,e,i,r)!=null}function hX(t,e,i,r,s){const{rings:n,hasZ:o,hasM:l}=t,c=[];if(!pX(n,o??!1,l??!1,e,c,r,s))return null;const d=o||Yc(r);return i.rings=c,i.spatialReference=r,i.hasZ=d,i.hasM=l,i}function cMe(t,e,i=e.spatialReference,r=0){return t.spatialReference!=null&&i!=null&&dX(t,t.spatialReference,e,i,r)!=null}function dX(t,e,i,r,s){const{xmin:n,ymin:o,xmax:l,ymax:c,hasZ:d,hasM:m}=t,v=d?t.zmin:s;if(!hV(n,o,v,e,Gr,r))return null;const w=d||Yc(r);i.xmin=Gr[0],i.ymin=Gr[1],w&&(i.zmin=Gr[2]);const _=d?t.zmax:s;return hV(l,c,_,e,Gr,r)?(i.xmax=Gr[0],i.ymax=Gr[1],w&&(i.zmax=Gr[2]),m&&(i.mmin=t.mmin,i.mmax=t.mmax),i.spatialReference=r,i):null}function pX(t,e,i,r,s,n,o=0){const l=new Array;for(const m of t)for(const v of m)l.push(v[0],v[1],e?v[2]:o);if(!Bw(l,r,0,l,n,0))return!1;let c=0;s.length=0;const d=e||Yc(n);for(const m of t){const v=new Array;for(const w of m)d&&i?v.push([l[c++],l[c++],l[c++],w[3]]):d?v.push([l[c++],l[c++],l[c++]]):i?(v.push([l[c++],l[c++],w[2]]),c++):(v.push([l[c++],l[c++]]),c++);s.push(v)}return!0}const Gr=rh(),_Fe=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:ta,initializeProjection:F6,isEqualBaseGCS:oMe,isLoaded:pu,isLoadedOrLoad:iX,isLoadedOrLoadFor:rX,load:Kc,project:ah,projectExtent:cMe,projectMany:uk,projectMultipoint:lMe,projectOrLoad:rMe,projectOrLoadMany:sX,projectPoint:aMe,projectPolygon:cX,projectPolyline:uMe,projectWithZConversion:oX,projectWithoutEngine:cS,requiresLoad:tMe,test:nMe,tryProjectWithZConversion:sw,unload:sMe},Symbol.toStringTag,{value:"Module"}));async function hMe(t){const e=t.spatialReference;if(e.isWGS84)return t.clone();if(e.isWebMercator)return bm(t);const i=Se.WGS84;return await F6(e,i),ah(t,i)}function dMe(t,e){if(!fX(t,e)){const i=t.typeKeywords;i?i.push(e):t.typeKeywords=[e]}}function fX(t,e){var i;return!!((i=t.typeKeywords)!=null&&i.includes(e))}function SFe(t){return fX(t,fMe.HOSTED_SERVICE)}function pMe(t,e){const i=t.typeKeywords;if(i){const r=i.indexOf(e);r>-1&&i.splice(r,1)}}function xFe(t,e,i){i?dMe(t,e):pMe(t,e)}async function TFe(t){const e=t.clone().normalize();let i;if(e.length>1)for(const r of e)i?r.width>i.width&&(i=r):i=r;else i=e[0];return hMe(i)}const fMe={CHARTS:"Charts",DYNAMIC:"Dynamic",GROUP_LAYER_MAP:"Map",HOSTED_SERVICE:"Hosted Service",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer",SINGLE_LAYER:"Singlelayer",SUBTYPE_GROUP_LAYER:"SubtypeGroupLayer",SUBTYPE_GROUP_TABLE:"SubtypeGroupTable",TABLE:"Table",TILED_IMAGERY:"Tiled Imagery"};function mMe(t){var c;const{portal:e,isOrgItem:i,itemControl:r}=t,s=(c=e.user)==null?void 0:c.privileges;let n=!s||s.includes("features:user:edit"),o=!!i&&!!(s!=null&&s.includes("features:user:fullEdit"));const l=r==="update"||r==="admin";return l?o=n=!0:o&&(n=!0),{features:{edit:n,fullEdit:o},content:{updateItem:l}}}const yMe=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=ti(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(r){r!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",r))}readPortalItem(r,s,n){if(s.itemId)return new qe({id:s.itemId,portal:n==null?void 0:n.portal})}writePortalItem(r,s){r!=null&&r.id&&(s.itemId=r.id)}async loadFromPortal(r,s){var n;if((n=this.portalItem)!=null&&n.id)try{const{load:o}=await te(()=>import("./layersLoader-CHs5ojrh.js"),__vite__mapDeps([187,27,28,26,188,189]));return Gt(s),await o({instance:this,supportedTypes:r.supportedTypes,validateItem:r.validateItem,supportsData:r.supportsData,layerModuleTypeMap:r.layerModuleTypeMap,populateGroupLayer:r.populateGroupLayer},s)}catch(o){throw Cr(o)||se.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})
  ${o}`),o}}async finishLoadEditablePortalLayer(r){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(r).catch(s=>(Oa(s),!0)))}async setUserPrivileges(r,s){if(!dt.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(s);if(this.url)try{const{features:{edit:n,fullEdit:o},content:{updateItem:l}}=await this._fetchUserPrivileges(r,s);this._set("userHasEditingPrivileges",n),this._set("userHasFullEditingPrivileges",o),this._set("userHasUpdateItemPrivileges",l)}catch(n){Oa(n)}}async _fetchUserPrivileges(r,s){let n=this.portalItem;if(!r||!n||!n.loaded||n.sourceUrl)return this._fetchFallbackUserPrivileges(s);const o=!(ze!=null&&ze.findCredential(this.url)),l=r===n.id;if(l&&n.portal.user)return this._getUserPrivileges(n,o);let c,d;if(l)c=n.portal.url;else try{c=await T6(this.url,s)}catch(_){Oa(_)}if(!c||!Pge(c,n.portal.url))return this._fetchFallbackUserPrivileges(s);try{const _=s!=null?s.signal:null;d=await(ze==null?void 0:ze.getCredential(`${c}/sharing`,{prompt:!1,signal:_}))}catch(_){Oa(_)}const m=!0,v=!1,w=!1;if(!d)return{features:{edit:m,fullEdit:v},content:{updateItem:w}};try{if(l?await n.reload():(n=new qe({id:r,portal:{url:c}}),await n.load(s)),n.portal.user)return this._getUserPrivileges(n,o)}catch(_){Oa(_)}return{features:{edit:m,fullEdit:v},content:{updateItem:w}}}_getUserPrivileges(r,s){const n=mMe(r);return s&&(n.features.edit=!0),n}async _fetchFallbackUserPrivileges(r){let s=!0;try{s=await this._fetchUserHasEditingPrivileges(r)}catch(n){Oa(n)}return{features:{edit:s,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(r){const s=this.url?ze==null?void 0:ze.findCredential(this.url):null;if(!s)return!0;const n=U_.credential===s?U_.user:await this._fetchEditingUser(r);return U_.credential=s,U_.user=n,(n==null?void 0:n.privileges)==null||n.privileges.includes("features:user:edit")}async _fetchEditingUser(r){var v,w;const s=(w=(v=this.portalItem)==null?void 0:v.portal)==null?void 0:w.user;if(s)return s;const n=ze==null?void 0:ze.findServerInfo(this.url??"");if(!(n!=null&&n.owningSystemUrl))return null;const o=`${n.owningSystemUrl}/sharing/rest`,l=le.getDefault();if(l&&l.loaded&&Jo(l.restUrl)===Jo(o))return l.user;const c=`${o}/community/self`,d=r!=null?r.signal:null,m=await x6(Bt(c,{authMode:"no-prompt",query:{f:"json"},signal:d}));return m.ok?Mt.fromJSON(m.value.data):null}read(r,s){s&&(s.layer=this),super.read(r,s)}write(r,s){var l;const n=s==null?void 0:s.portal,o=((l=this.portalItem)==null?void 0:l.id)&&(this.portalItem.portal||le.getDefault());return n&&o&&!GW(o.restUrl,n.restUrl)?(s.messages&&s.messages.push(new B("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(r,{...s,layer:this})}};return h([f({type:qe})],i.prototype,"portalItem",null),h([Ie("web-document","portalItem",["itemId"])],i.prototype,"readPortalItem",null),h([_e("web-document","portalItem",{itemId:{type:String}})],i.prototype,"writePortalItem",null),h([f({clonable:!1})],i.prototype,"resourceReferences",void 0),h([f({type:Boolean,readOnly:!0})],i.prototype,"userHasEditingPrivileges",void 0),h([f({type:Boolean,readOnly:!0})],i.prototype,"userHasFullEditingPrivileges",void 0),h([f({type:Boolean,readOnly:!0})],i.prototype,"userHasUpdateItemPrivileges",void 0),i=h([I("esri.layers.mixins.PortalLayer")],i),i},U_={credential:null,user:null},Oc=new ge,m1=new WeakMap;function gMe(t){wMe(t)&&Oc.push(new WeakRef(t))}function vMe(t){const e=Oc.find(i=>i.deref()===t);e&&Oc.remove(e)}function wMe(t){return t!=null&&typeof t=="object"&&"refreshInterval"in t&&"refresh"in t}function mX(t,e){return Number.isFinite(t)&&Number.isFinite(e)?e<=0?t:mX(e,t%e):0}let N5=0,q_=0;function bMe(){const t=Date.now();let e=!1;for(const i of Oc){const r=i.deref();r?r.refreshInterval&&t-(m1.get(r)??0)+5>=6e4*r.refreshInterval&&(m1.set(r,t),r.refresh(t)):e=!0}if(e)for(let i=Oc.length-1;i>=0;i--)Oc.at(i).deref()||Oc.removeAt(i)}KB(()=>{const t=Date.now();let e=0;for(const i of Oc){const r=i.deref();r&&(e=mX(Math.round(6e4*r.refreshInterval),e),r.refreshInterval?m1.get(r)||m1.set(r,t):m1.delete(r))}if(e!==q_){if(q_=e,clearInterval(N5),q_===0)return void(N5=0);N5=setInterval(bMe,q_)}},za);const dV=.1,_Me=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=KC(()=>this.hasDataChanged()),this.when().then(()=>{this.destroyed||gMe(this)},()=>{})}destroy(){vMe(this)}castRefreshInterval(r){return r>=dV?r:r<=0?0:dV}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(r=Date.now()){j1(this._debounceHasDataChanged()).then(s=>{s&&this._set("refreshTimestamp",r),this.emit("refresh",{dataChanged:s})},s=>{se.getLogger(this).error(s),this.emit("refresh",{dataChanged:!1,error:s})})}async hasDataChanged(){return!0}get test(){}};return h([f({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:ji}}}}})],i.prototype,"refreshInterval",void 0),h([Ot("refreshInterval")],i.prototype,"castRefreshInterval",null),h([f({readOnly:!0})],i.prototype,"refreshTimestamp",void 0),h([f({readOnly:!0})],i.prototype,"refreshParameters",null),i=h([I("esri.layers.mixins.RefreshableLayer")],i),i},SMe=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const r={minScale:this.minScale,maxScale:this.maxScale},s=this.parent;(s==null?void 0:s.effectiveScaleRange)!==void 0&&xMe(r,s.effectiveScaleRange);const n=this._get("effectiveScaleRange");return n&&n.minScale===r.minScale&&n.maxScale===r.maxScale?n:r}};return h([f({type:Number,nonNullable:!0,json:{write:!0}})],i.prototype,"minScale",void 0),h([f({type:Number,nonNullable:!0,json:{write:!0}})],i.prototype,"maxScale",void 0),h([f({readOnly:!0})],i.prototype,"effectiveScaleRange",null),i=h([I("esri.layers.mixins.ScaleRangeLayer")],i),i};function xMe(t,e){return t.minScale=t.minScale>0?e.minScale>0?Math.min(t.minScale,e.minScale):t.minScale:e.minScale,t.maxScale=t.maxScale>0?e.maxScale>0?Math.max(t.maxScale,e.maxScale):t.maxScale:e.maxScale,t}const yX=wr()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});let eu=class extends rt(ae){constructor(e){super(e),this.unit="milliseconds",this.value=0}toMilliseconds(){return TY(this.value,this.unit,"milliseconds")}};h([ke(yX,{nonNullable:!0})],eu.prototype,"unit",void 0),h([f({type:Number,json:{write:!0},nonNullable:!0})],eu.prototype,"value",void 0),eu=h([I("esri.time.TimeInterval")],eu);function pV(t,e){return eu.fromJSON({value:t,unit:e})}let $r=class extends rt(ae){constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0,this.stops=null}readFullTimeExtent(e,i){return i.timeExtent&&Array.isArray(i.timeExtent)&&i.timeExtent.length===2?Ii.fromArray(i.timeExtent):null}writeFullTimeExtent(e,i){(e==null?void 0:e.start)!=null&&e.end!=null?i.timeExtent=e.toArray():i.timeExtent=null}readInterval(e,i){return i.timeInterval&&i.timeIntervalUnits?pV(i.timeInterval,i.timeIntervalUnits):i.defaultTimeInterval&&i.defaultTimeIntervalUnits?pV(i.defaultTimeInterval,i.defaultTimeIntervalUnits):null}writeInterval(e,i){i.timeInterval=(e==null?void 0:e.toJSON().value)??null,i.timeIntervalUnits=(e==null?void 0:e.toJSON().unit)??null}};h([f({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],$r.prototype,"cumulative",void 0),h([f({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],$r.prototype,"endField",void 0),h([f({type:Ii,json:{write:{enabled:!0,allowNull:!0}}})],$r.prototype,"fullTimeExtent",void 0),h([Ie("fullTimeExtent",["timeExtent"])],$r.prototype,"readFullTimeExtent",null),h([_e("fullTimeExtent")],$r.prototype,"writeFullTimeExtent",null),h([f({type:Boolean,json:{write:!0}})],$r.prototype,"hasLiveData",void 0),h([f({type:eu,json:{write:{enabled:!0,allowNull:!0}}})],$r.prototype,"interval",void 0),h([Ie("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],$r.prototype,"readInterval",null),h([_e("interval")],$r.prototype,"writeInterval",null),h([f({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],$r.prototype,"startField",void 0),h([f(JH("timeReference",!0))],$r.prototype,"timeZone",void 0),h([f({type:String,json:{write:{enabled:!0,allowNull:!0}}})],$r.prototype,"trackIdField",void 0),h([f({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],$r.prototype,"useTime",void 0),h([f({type:[Date],json:{read:!1}})],$r.prototype,"stops",void 0),$r=h([I("esri.layers.support.TimeInfo")],$r);const TMe={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:ji}}},$Me=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(r,s){const n=s.timeInfo.exportOptions;if(!n)return null;const o=n.timeOffset,l=yX.fromJSON(n.timeOffsetUnits);return o&&l?new eu({value:o,unit:l}):null}set timeInfo(r){OH(r,this.fieldsIndex),this._set("timeInfo",r)}};return h([f({type:Ii,json:{write:!1}})],i.prototype,"timeExtent",void 0),h([f({type:eu})],i.prototype,"timeOffset",void 0),h([Ie("service","timeOffset",["timeInfo.exportOptions"])],i.prototype,"readOffset",null),h([f({value:null,type:$r,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],i.prototype,"timeInfo",null),h([f(TMe)],i.prototype,"useViewTime",void 0),i=h([I("esri.layers.mixins.TemporalLayer")],i),i};let MMe=class extends K1{constructor(e){super(),this.type="track",this.trackInfoProvider=e}get id(){return this.trackInfoProvider.id}get[Dw](){return this.trackInfoProvider.trackInfo}},Qn=class extends rt(ae){constructor(e){super(e),this.labelingInfo=null,this.labelsVisible=!0,this.renderer=null,this.visible=!0}};h([f({type:[qt],json:{write:!0}})],Qn.prototype,"labelingInfo",void 0),h([f(DT)],Qn.prototype,"labelsVisible",void 0),h([f({types:qw,json:{write:!0}})],Qn.prototype,"renderer",void 0),h([f({type:Boolean,json:{write:!0}})],Qn.prototype,"visible",void 0),Qn=h([I("esri.layers.support.TrackPartInfo")],Qn);let Os=class extends rt(ae){constructor(e){super(e),this.enabled=!0,this.fields=[],this.latestObservations=new Qn({renderer:new fs({symbol:vx.clone()})}),this.maxDisplayDuration=null,this.maxDisplayObservationsPerTrack=0,this.popupEnabled=!0,this.popupTemplate=null,this.previousObservations=new Qn({renderer:new fs({symbol:vx.clone()})}),this.trackLines=new Qn({renderer:new fs({symbol:M6.clone()})}),this.timeField="startTimeField"}writeFields(e,i,r){const s=e.filter(n=>n.statisticType!=="avg_angle").map(n=>n.toJSON());bs(r,s,i)}};h([f({type:Boolean,json:{write:!0}})],Os.prototype,"enabled",void 0),h([f({type:[Br],json:{write:!0}})],Os.prototype,"fields",void 0),h([_e("fields")],Os.prototype,"writeFields",null),h([f({type:Qn,json:{write:!0}})],Os.prototype,"latestObservations",void 0),h([f({type:eu,json:{write:!0}})],Os.prototype,"maxDisplayDuration",void 0),h([f({type:Number,json:{write:!0}})],Os.prototype,"maxDisplayObservationsPerTrack",void 0),h([f(NT)],Os.prototype,"popupEnabled",void 0),h([f({type:gg,json:{name:"popupInfo",write:!0}})],Os.prototype,"popupTemplate",void 0),h([f({type:Qn,json:{write:!0}})],Os.prototype,"previousObservations",void 0),h([f({type:Qn,json:{write:!0}})],Os.prototype,"trackLines",void 0),h([f({type:["timeReceived","startTimeField","endTimeField"],json:{read:!0,write:!0}})],Os.prototype,"timeField",void 0),Os=h([I("esri.layers.support.TrackInfo")],Os);const EMe=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.trackGraphicOrigin=new MMe(this),this.trackInfo=null}};return h([f({readOnly:!0,clonable:!1})],i.prototype,"trackGraphicOrigin",void 0),h([f({type:Os})],i.prototype,"trackInfo",void 0),i=h([I("esri.layers.mixins.TrackableLayer")],i),i},fV=new ct({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let ic=class extends rt(ae){constructor(e){super(e),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};h([f({json:{write:!0}})],ic.prototype,"name",void 0),h([f({json:{write:!0}})],ic.prototype,"description",void 0),h([f({json:{read:fV.read,write:fV.write}})],ic.prototype,"drawingTool",void 0),h([f({json:{write:!0}})],ic.prototype,"prototype",void 0),h([f({json:{write:!0}})],ic.prototype,"thumbnail",void 0),ic=h([I("esri.layers.support.FeatureTemplate")],ic);function AMe(){return{fields:{type:[Qi],value:null,set:function(t){if(t&&q("big-integer-warning-enabled")){const e=t.filter(i=>i.type==="big-integer"||i.type==="oid"&&(i.length||0)>=8);if(e.length){const i=e.map(r=>`'${r.name}'`).join(", ");se.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${i}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`)}}this._set("fields",t)}},fieldsIndex:{readOnly:!0,get(){return _x.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(t){this._userOutFields=t,this.notifyChange("outFields")},get:function(){var e;const t=this._userOutFields;if(!(t!=null&&t.length))return null;if(t.includes("*"))return["*"];if(!this.fields)return t;for(const i of t)((e=this.fieldsIndex)==null?void 0:e.has(i))||se.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${i} found in outFields`,{layer:this,outFields:t});return dT(this.fieldsIndex,t)}}}}const D5=()=>se.getLogger("esri.layers.support.labelingInfo"),OMe=/\[([^[\]]+)\]/gi;function kMe(t,e,i){return t?t.map(r=>{var n;const s=new qt;if(s.read(r,i),s.labelExpression){const o=e.fields||((n=e.layerDefinition)==null?void 0:n.fields)||this.fields;s.labelExpression=s.labelExpression.replaceAll(OMe,(l,c)=>`[${CMe(c,o)}]`)}return s}):null}function CMe(t,e){if(!e)return t;const i=t.toLowerCase();for(let r=0;r<e.length;r++){const s=e[r].name;if(s.toLowerCase()===i)return s}return t}const mV=["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],RMe={esriGeometryPoint:mV,esriGeometryMultiPatch:["always-horizontal"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along","above-along","below-along"],esriGeometryMultipoint:mV,esriGeometryEnvelope:null};function CFe(t,e){const i=[];for(const r of t){const s=r.labelPlacement,n=RMe[e];if(!r.symbol)return D5().warn("No ILabelClass symbol specified."),[];if(!n)return D5().error(new B("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${e}' is not supported`)),[];if(n.includes(s))i.push(r);else{const o=n[0];s&&D5().warn(`Found invalid label placement type ${s} for ${e}. Defaulting to ${o}`);const l=r.clone();l.labelPlacement=o,i.push(l)}}return i}function IMe({displayField:t,editFieldsInfo:e,fields:i,objectIdField:r,title:s},n){if(!i)return null;const o=DMe({editFieldsInfo:e,fields:i,objectIdField:r},n);if(!o.length)return null;const l=FMe({titleBase:s,fields:i,displayField:t}),c=VMe();return new gg({title:l,content:c,fieldInfos:o})}const PMe=(t,e)=>e.visibleFieldNames?e.visibleFieldNames.has(t.name):rye(t,e);function jMe({fields:t,ignoreFieldTypes:e,sortDisabled:i}){const r=t;return e&&(t=t.filter(s=>!e.includes(s.type))),t===r&&(t=t.slice()),i!==!0&&t.sort(NMe),t}function NMe(t,e){return t.type==="oid"?-1:e.type==="oid"?1:yV(t)?-1:yV(e)?1:(t.alias||t.name).toLocaleLowerCase().localeCompare((e.alias||e.name).toLocaleLowerCase())}function DMe(t,e){const i=e==null?void 0:e.visibleFieldNames;return jMe({fields:t.fields??[],ignoreFieldTypes:(e==null?void 0:e.ignoreFieldTypes)||zMe,sortDisabled:e==null?void 0:e.sortDisabled}).map(r=>new SR({fieldName:r.name,isEditable:iye(r,t),label:r.alias,format:LMe(r),visible:PMe(r,{...t,visibleFieldNames:i})}))}function LMe(t){switch(t.type){case"small-integer":case"integer":return new ru({digitSeparator:!0,places:0});case"single":case"double":return new ru({digitSeparator:!0,places:2});case"string":return $ye(t.name)?new ru({digitSeparator:!0,places:0}):void 0;default:return}}function VMe(){return[new Dy,new Ny]}function FMe(t){const e=Hme(t),{titleBase:i}=t;return e?`${i}: {${e.trim()}}`:i??""}function yV(t){var i;return(t.name&&t.name.toLowerCase())==="name"?!0:((i=t.alias)==null?void 0:i.toLowerCase())==="name"}const zMe=["geometry","blob","raster","guid","xml"],gV=AMe();let tt=class extends O$e(xSe(pSe(x$e(PSe(dSe($Me(EMe(SMe(_Me($$e(yMe(NW(Kt))))))))))))){constructor(e){super(e),this.attributeTableTemplate=null,this.copyright=null,this.dateFieldsTimeZone=null,this.definitionExpression=null,this.displayField=null,this.editingEnabled=!1,this.elevationInfo=null,this.fields=null,this.fieldsIndex=null,this.fullExtent=null,this.geometryType=null,this.graphicOrigin=new kwe(this),this.hasZ=void 0,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType="GeoJSON",this.outFields=null,this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.source=new sd({layer:this}),this.spatialReference=Se.WGS84,this.templates=null,this.title="GeoJSON",this.type="geojson"}destroy(){var e;(e=this.source)==null||e.destroy()}load(e){const i=this.loadFromPortal({supportedTypes:["GeoJson"],supportsData:!1},e).catch(Oa).then(()=>this.source.load(e)).then(()=>{this.read(this.source.sourceJSON,{origin:"service",url:this.parsedUrl}),this.revert(["objectIdField","fields","timeInfo"],"service"),TL(this.renderer,this.fieldsIndex),OH(this.timeInfo,this.fieldsIndex)});return this.addResolvingPromise(i),Promise.resolve(this)}set portalItem(e){super.portalItem=e}set timeInfo(e){super.timeInfo=e}get capabilities(){return this.source?this.source.capabilities:null}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("capabilities"),(this._get("createQueryVersion")||0)+1}get defaultPopupTemplate(){return this.createPopupTemplate()}get isTable(){return this.loaded&&this.geometryType==null}get parsedUrl(){return Rr(this.url)}set renderer(e){TL(e,this.fieldsIndex),this._set("renderer",e)}set url(e){if(!e)return void this._set("url",e);const i=Rr(e);this._set("url",i.path),i.query&&(this.customParameters={...this.customParameters,...i.query})}async applyEdits(e,i){const{applyEdits:r}=await te(()=>import("./editingSupport-hz_HjTg_.js"),__vite__mapDeps([179,180,181]));await this.load();const s=await r(this,this.source,e,i);return this.read({extent:this.source.sourceJSON.extent,timeInfo:this.source.sourceJSON.timeInfo},{origin:"service",ignoreDefaults:!0}),s}createPopupTemplate(e){return IMe(this,e)}createQuery(){var n;const e=new xe,i=(n=this.capabilities)==null?void 0:n.data;e.returnGeometry=!0,i&&i.supportsZ&&(e.returnZ=!0),e.outFields=["*"],e.where=this.definitionExpression||"1=1";const{timeOffset:r,timeExtent:s}=this;return e.timeExtent=r!=null&&s!=null?s.offset(-r.value,r.unit):s||null,e}getFieldDomain(e,i){var r;return(r=this.getField(e))==null?void 0:r.domain}getField(e){return this.fieldsIndex.get(e)}queryFeatures(e,i){return this.load().then(()=>this.source.queryFeatures(xe.from(e)||this.createQuery(),i)).then(r=>{if(r!=null&&r.features)for(const s of r.features)s.layer=s.sourceLayer=this,s.origin=this.graphicOrigin;return r})}queryObjectIds(e,i){return this.load().then(()=>this.source.queryObjectIds(xe.from(e)||this.createQuery(),i))}queryFeatureCount(e,i){return this.load().then(()=>this.source.queryFeatureCount(xe.from(e)||this.createQuery(),i))}queryExtent(e,i){return this.load().then(()=>this.source.queryExtent(xe.from(e)||this.createQuery(),i))}async queryAttributeBins(e,i){const{source:r,capabilities:s}=await this.load();vTe(e,s,"GeoJSONLayer");const n=await te(()=>import("./AttributeBinsQuery-B7kw3cLN.js"),__vite__mapDeps([190,47,51])),o=await r.queryAttributeBins(n.default.from(e),i);if(o.features)for(const l of o.features)l.layer=l.sourceLayer=this;return o}async hasDataChanged(){try{const{dataChanged:e,updates:i}=await this.source.refresh(this.customParameters);return i!=null&&this.read(i,{origin:"service",url:this.parsedUrl,ignoreDefaults:!0}),e}catch{}return!1}};h([f(YSe)],tt.prototype,"attributeTableTemplate",void 0),h([f({readOnly:!0,json:{read:!1,write:!1}})],tt.prototype,"capabilities",null),h([f({type:String})],tt.prototype,"copyright",void 0),h([f({readOnly:!0})],tt.prototype,"createQueryVersion",null),h([f(JH("dateFieldsTimeReference"))],tt.prototype,"dateFieldsTimeZone",void 0),h([f({readOnly:!0})],tt.prototype,"defaultPopupTemplate",null),h([f({type:String,json:{name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],tt.prototype,"definitionExpression",void 0),h([f({type:String})],tt.prototype,"displayField",void 0),h([f({type:Boolean})],tt.prototype,"editingEnabled",void 0),h([f(HSe)],tt.prototype,"elevationInfo",void 0),h([f({type:[Qi],json:{name:"layerDefinition.fields",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"fields"}}}})],tt.prototype,"fields",void 0),h([f(gV.fieldsIndex)],tt.prototype,"fieldsIndex",void 0),h([f({type:Ye,json:{name:"extent"}})],tt.prototype,"fullExtent",void 0),h([f({type:["point","polygon","polyline","multipoint"],json:{read:{reader:o6.read}}})],tt.prototype,"geometryType",void 0),h([f({readOnly:!0,clonable:!1})],tt.prototype,"graphicOrigin",void 0),h([f({type:Boolean})],tt.prototype,"hasZ",void 0),h([f(WSe)],tt.prototype,"id",void 0),h([f({type:Boolean,readOnly:!0})],tt.prototype,"isTable",null),h([f(DT)],tt.prototype,"labelsVisible",void 0),h([f({type:[qt],json:{name:"layerDefinition.drawingInfo.labelingInfo",read:{reader:kMe},write:!0}})],tt.prototype,"labelingInfo",void 0),h([f(GSe)],tt.prototype,"legendEnabled",void 0),h([f({type:["show","hide"]})],tt.prototype,"listMode",void 0),h([f({type:String,json:{name:"layerDefinition.objectIdField",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"objectIdField"}}}})],tt.prototype,"objectIdField",void 0),h([f(gx)],tt.prototype,"opacity",void 0),h([f({type:["GeoJSON"]})],tt.prototype,"operationalLayerType",void 0),h([f(gV.outFields)],tt.prototype,"outFields",void 0),h([f({readOnly:!0})],tt.prototype,"parsedUrl",null),h([f(NT)],tt.prototype,"popupEnabled",void 0),h([f({type:gg,json:{name:"popupInfo",write:!0}})],tt.prototype,"popupTemplate",void 0),h([f({types:qw,json:{name:"layerDefinition.drawingInfo.renderer",write:!0,origins:{service:{name:"drawingInfo.renderer"},"web-scene":{types:n$e}}}})],tt.prototype,"renderer",null),h([f(qSe)],tt.prototype,"screenSizePerspectiveEnabled",void 0),h([f({readOnly:!0})],tt.prototype,"source",void 0),h([f({type:Se})],tt.prototype,"spatialReference",void 0),h([f({type:[ic]})],tt.prototype,"templates",void 0),h([f()],tt.prototype,"title",void 0),h([f({json:{read:!1},readOnly:!0})],tt.prototype,"type",void 0),h([f(BSe)],tt.prototype,"url",null),tt=h([I("esri.layers.GeoJSONLayer")],tt);const ck=tt,IFe=Object.freeze(Object.defineProperty({__proto__:null,default:ck},Symbol.toStringTag,{value:"Module"}));async function gX(t,e){return await t.load(),UMe(t,e)}async function UMe(t,e){const i=[],r=(...n)=>{for(const o of n)o!=null&&(Array.isArray(o)?r(...o):ge.isCollection(o)?o.forEach(l=>r(l)):l4(o)&&i.push(o))};e(r);let s=null;if(await JSe(i,async n=>{const o=await x6(qMe(n)?n.loadAll():n.load());o.ok!==!1||s||(s=o)}),s)throw s.error;return t}function qMe(t){return"loadAll"in t&&typeof t.loadAll=="function"}async function BMe(t){if(!t)return;const e=t.includes("-vector")?t.slice(0,t.indexOf("-vector")):t.includes("-3d")?t.slice(0,t.indexOf("-3d")):t,i=await IY("esri/t9n/basemaps");return i[t]||i[e]}const hk={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return bi("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return bi("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return bi("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-hillshade",url:"https://services.arcgisonline.com/ArcGIS/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1},{id:"terrain-base",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/33064a20de0c48d2bb61efa8faca93a8/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Terrain Base"},{id:"terrain-reference",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/14fbc125ccc9488888b014db09f35f67/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Reference Reference",isReference:!0}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return bi("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/94329802cbfa44a18f423e6f1a0b875c/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return bi("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return bi("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return bi("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return bi("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return bi("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return bi("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return bi("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return bi("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return bi("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Open3D_Trees_v1/SceneServer",itemId:"9d3d89d42cfe4e2c9d108a2f0d518406",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return bi("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return bi("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return bi("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Open3D_Trees_v1/SceneServer",itemId:"9d3d89d42cfe4e2c9d108a2f0d518406",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Open3D_Buildings_v1/SceneServer",itemId:"cd33b09dde0a419c986ca1a78a5fc06d",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return bi("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]}};let Tl=class extends $e{constructor(e){super(e),this.apiKey=null,this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2",this.worldview=null}get languageParameter(){const e=this.language;let i=e==="local"||e==="global"?e:PY(e??Bs())??"global";return i=i==="no"?"nb":i,i}};h([f()],Tl.prototype,"apiKey",void 0),h([f()],Tl.prototype,"id",void 0),h([f()],Tl.prototype,"language",void 0),h([f()],Tl.prototype,"places",void 0),h([f()],Tl.prototype,"serviceUrl",void 0),h([f()],Tl.prototype,"worldview",void 0),Tl=h([I("esri.support.BasemapStyle")],Tl);const GMe=Tl,HMe=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wcs","wms","wmts"]),WMe=new Set(["integrated-mesh-3dtiles"]),vX=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","video","web-tile","wcs","wfs","wms","wmts"]),ZMe=new Set([...vX,"link-chart"]);function YMe(t){switch(t.layerContainerType){case"basemap-base-layers":return HMe;case"basemap-ground-layers":return WMe;case"operational-layers":return t.origin==="link-chart"?ZMe:vX;default:return null}}function JMe(t,e){if(e.restrictedWebMapWriting){const i=YMe(e);return i==null||i.has(t.type)&&!VT(t)}return!0}function KMe(t,e){var i;if(e)if(VT(t)){const r=Qx("featureCollection.layers",e),s=(i=r==null?void 0:r[0])==null?void 0:i.layerDefinition;s&&vV(t,s)}else t.type!=="group"&&vV(t,e)}function vV(t,e){"maxScale"in t&&(e.maxScale=QS(t.maxScale)??void 0),"minScale"in t&&(e.minScale=QS(t.minScale)??void 0)}function XMe(t,e){if(KMe(t,e),e&&(e.id=t.id,"blendMode"in t&&(e.blendMode=t.blendMode,e.blendMode==="normal"&&delete e.blendMode),e.opacity=QS(t.opacity)??void 0,e.title=t.title||"Layer",e.visibility=t.visible,"legendEnabled"in t&&t.type!=="wmts"))if(VT(t)){const i=e.featureCollection;i&&(i.showLegend=t.legendEnabled)}else e.showLegend=t.legendEnabled}function L5(t,e,i){if(!t.persistenceEnabled)return null;if(!("write"in t)||!t.write)return i!=null&&i.messages&&i.messages.push(new B("layer:unsupported",`Layers (${t.title}, ${t.id}) of type '${t.declaredClass}' cannot be persisted`,{layer:t})),null;if(VT(t)&&!t.isTable)e=t.resourceInfo;else if(JMe(t,i)){const r={};return t.write(r,i)?r:null}return e!=null&&XMe(t,e=G(e)),e}var wV,Xf,tp;let ks=(tp=class extends th(_g){constructor(e){super(e),this[wV]=!0,this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.type="Basemap",this.id=Date.now().toString(16)+"-basemap-"+Xf.idCounter++,this.baseLayers=new ge,this.referenceLayers=new ge,this.groundLayers=new ge;const i=l=>{var d;const{parent:c}=l;c&&c!==this&&"remove"in c&&((d=c.remove)==null||d.call(c,l)),l.parent=this,l.type!=="elevation"&&l.type!=="integrated-mesh-3dtiles"||se.getLogger(this).error(`Layer '${l.title}, id:${l.id}' of type '${l.type}' is not supported as a basemap layer and will therefore be ignored.`)},r=l=>{var d;const{parent:c}=l;c&&c!==this&&"remove"in c&&((d=c.remove)==null||d.call(c,l)),l.parent=this},s=l=>{const c=l.item;return c.parent===this?(se.getLogger(this).error(`Layer '${c.title}, id:${c.id}' of type '${c.type}' already a ground layer, second add will be ignored.`),void l.preventDefault()):c.type!=="integrated-mesh-3dtiles"&&c.type!=="integrated-mesh"?(se.getLogger(this).error(`Layer '${c.title}, id:${c.id}' of type '${c.type}' is not supported as a ground layer and will therefore be ignored.`),void l.preventDefault()):void 0},n=l=>{l.parent=null},o=l=>{l.parent===this&&(l.parent=null)};this.addHandles([this.baseLayers.on("after-add",l=>i(l.item)),this.baseLayers.on("after-remove",l=>n(l.item)),this.referenceLayers.on("after-add",l=>i(l.item)),this.referenceLayers.on("after-remove",l=>n(l.item)),this.groundLayers.on("before-add",s),this.groundLayers.on("after-add",l=>r(l.item)),this.groundLayers.on("after-remove",l=>o(l.item))])}initialize(){this.when().catch(e=>{se.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.baseLayers.toArray();for(const s of e)s.destroyed||s.destroy();const i=this.groundLayers.toArray();for(const s of i)s.destroyed||s.destroy();const r=this.referenceLayers.toArray();for(const s of r)s.destroyed||s.destroy();this.baseLayers.destroy(),this.groundLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=ti(this.portalItem)}removeChildLayer(e){for(const i of[this.baseLayers,this.referenceLayers,this.groundLayers])i.remove(e)}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",Da(e,this._get("baseLayers")))}_writeBaseLayers(e,i,r){const s=[];e&&(r={...r,layerContainerType:"basemap-base-layers"},this.baseLayers.forEach(n=>{const o=L5(n,r.webmap?r.webmap.getLayerJSONFromResourceInfo(n):null,r);o!=null&&s.push(o)}),this.referenceLayers.forEach(n=>{const o=L5(n,r.webmap?r.webmap.getLayerJSONFromResourceInfo(n):null,r);o!=null&&(n.type!=="scene"&&(o.isReference=!0),s.push(o))})),i.baseMapLayers=s}set groundLayers(e){this._set("groundLayers",Da(e,this._get("groundLayers")))}_writeGroundLayers(e,i,r){const s=[];e&&(r={...r,layerContainerType:"basemap-ground-layers"},this.groundLayers.forEach(n=>{const o=L5(n,r.webmap?r.webmap.getLayerJSONFromResourceInfo(n):null,r);o!=null&&s.push(o)}),s.length>0&&(i.groundLayers=s))}get loaded(){return super.loaded}set referenceLayers(e){this._set("referenceLayers",Da(e,this._get("referenceLayers")))}writeTitle(e,i){i.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return gX(this,e=>{e(this.baseLayers,this.groundLayers,this.referenceLayers)})}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(i=>Yv(i)?i.clone():i),groundLayers:this.groundLayers.map(i=>Yv(i)?i.clone():i),referenceLayers:this.referenceLayers.map(i=>Yv(i)?i.clone():i)};return this.loaded&&(e.loadStatus="loaded"),new Xf({resourceInfo:this.resourceInfo}).set(e)}read(e,i){this.resourceInfo||this._set("resourceInfo",{data:e,context:i}),super.read(e,i)}write(e,i){var r;return e=e||{},i!=null&&i.origin||(i={origin:"web-map",...i}),super.write(e,i),!this.loaded&&((r=this.resourceInfo)!=null&&r.data.baseMapLayers)&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(s=>{const n=G(s);return n.url&&Va(n.url)&&(n.url=`https:${n.url}`),n.templateUrl&&Va(n.templateUrl)&&(n.templateUrl=`https:${n.templateUrl}`),n})),e}async _loadFromSource(e){const{resourceInfo:i,portalItem:r,style:s}=this;Gt(e);const n=[];if(i){const o=i.context?i.context.url:null;if(n.push(this._loadLayersFromJSON(i.data,o,e)),i.data.id&&!i.data.title){const l=i.data.id;n.push(BMe(l).then(c=>{c&&this.read({title:c},i.context)}))}}else r?n.push(this._loadFromItem(r,e)):s&&n.push(this._loadFromStylesService(s,e));await Promise.all(n)}async _loadLayersFromJSON(e,i,r){var d,m;const s=(d=this.resourceInfo)==null?void 0:d.context,n=((m=this.portalItem)==null?void 0:m.portal)||(s==null?void 0:s.portal)||null,o=e5e[(s==null?void 0:s.origin)||""]??"web-map",{populateOperationalLayers:l}=await te(async()=>{const{populateOperationalLayers:v}=await import("./layersCreator-Br3tleiZ.js");return{populateOperationalLayers:v}},__vite__mapDeps([191,28,27,26,29,25,189])),c=[];if(Gt(r),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const v={context:{...s,origin:o,url:i,portal:n,layerContainerType:"basemap-base-layers"},defaultLayerType:"DefaultTileLayer"},w=T=>o==="web-scene"&&T.layerType==="ArcGISSceneServiceLayer"||T.isReference,_=l(this.baseLayers,e.baseMapLayers.filter(T=>!w(T)),v);c.push(_);const x=l(this.referenceLayers,e.baseMapLayers.filter(w),v);c.push(x)}if(e.groundLayers&&Array.isArray(e.groundLayers)){const v={context:{...s,origin:o,url:i,portal:n,layerContainerType:"basemap-ground-layers"},defaultLayerType:"IntegratedMesh3DTilesLayer"},w=l(this.groundLayers,e.groundLayers,v);c.push(w)}await Promise.allSettled(c)}async _loadFromItem(e,i){const r=await e.load(i),s=await r.fetchData("json",i),n=Rr(e.itemUrl??"");return this._set("resourceInfo",{data:s.baseMap??{},context:{origin:QMe[e.type||""]??"web-map",portal:e.portal||le.getDefault(),url:n}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:s.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||le.getDefault(),url:n}),this._loadLayersFromJSON(this.resourceInfo.data,n,i)}async _loadFromStylesService(e,i){const r=e.serviceUrl.endsWith("/webmaps")?e.serviceUrl.slice(0,-8):e.serviceUrl,s=`${r}/styles/${e.id}/self`,n=`${r}/webmaps/${e.id}`,o=e.apiKey??dt.apiKeys.basemapStyles,[l,c]=await Promise.all([(await Bt(s,{query:{token:o},signal:i==null?void 0:i.signal})).data,(await Bt(n,{query:{language:e.languageParameter,places:e.places,worldview:e.worldview,token:o},signal:i==null?void 0:i.signal})).data]);this.thumbnailUrl??(this.thumbnailUrl=l.thumbnailUrl);const d=Rr(n);if(this._set("resourceInfo",{data:c.baseMap??{},context:{origin:"web-map",url:d}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:c.spatialReference},this.resourceInfo.context),await this._loadLayersFromJSON(this.resourceInfo.data,d,i),o)for(const m of[...this.baseLayers,...this.groundLayers,...this.referenceLayers])"apiKey"in m&&(m.apiKey=o)}static fromId(e){const i=hk[e];return i?i.itemId?new Xf({portalItem:{id:i.itemId,portal:{url:"https://www.arcgis.com"}}}):Xf.fromJSON(i,i.is3d?{origin:"web-scene",portal:new le({url:"https://www.arcgis.com"})}:{origin:"web-map"}):null}},wV=XJ,Xf=tp,tp.idCounter=0,tp);h([f({json:{read:!1,write:{ignoreOrigin:!0,target:"baseMapLayers",writer(t,e,i,r){this._writeBaseLayers(t,e,r)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:ge}},writer(t,e,i,r){this._writeBaseLayers(t,e,r)}}}}}})],ks.prototype,"baseLayers",null),h([f({json:{read:!1,write:{ignoreOrigin:!0,target:"groundLayers",writer(t,e,i,r){this._writeGroundLayers(t,e,r)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{groundLayers:{type:ge}},writer(t,e,i,r){this._writeGroundLayers(t,e,r)}}}}}})],ks.prototype,"groundLayers",null),h([f({type:String,json:{origins:{"web-scene":{write:!0}}}})],ks.prototype,"id",void 0),h([f({type:qe})],ks.prototype,"portalItem",void 0),h([f()],ks.prototype,"referenceLayers",null),h([f({readOnly:!0})],ks.prototype,"resourceInfo",void 0),h([f({type:Se})],ks.prototype,"spatialReference",void 0),h([f({type:GMe})],ks.prototype,"style",void 0),h([f()],ks.prototype,"thumbnailUrl",void 0),h([f({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],ks.prototype,"title",void 0),h([_e("title")],ks.prototype,"writeTitle",null),ks=Xf=h([I("esri.Basemap")],ks);const QMe={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},e5e={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},y1=ks,t5e=Object.freeze(Object.defineProperty({__proto__:null,default:y1},Symbol.toStringTag,{value:"Module"}));let Go=class extends ge{constructor(e){super(e),this.getCollections=null}initialize(){this.addHandles(KB(()=>this._refresh(),za))}destroy(){this.getCollections=null}_refresh(){var r;const e=(r=this.getCollections)==null?void 0:r.call(this);if(e==null)return void this.removeAll();let i=0;for(const s of e)s!=null&&(i=this._processCollection(i,s));this.splice(i)}_createNewInstance(e){return new ge(e)}_processCollection(e,i){if(!i)return e;const r=this.itemFilterFunction??(s=>!!s);for(const s of i)if(s){if(r(s)){const n=this.indexOf(s,e);n>=0?n!==e&&this.reorder(s,e):this.add(s,e),++e}if(this.getChildrenFunction){const n=this.getChildrenFunction(s);if(Array.isArray(n))for(const o of n)e=this._processCollection(e,o);else e=this._processCollection(e,n)}}return e}};h([f()],Go.prototype,"getCollections",void 0),h([f()],Go.prototype,"getChildrenFunction",void 0),h([f()],Go.prototype,"itemFilterFunction",void 0),Go=h([I("esri.core.CollectionFlattener")],Go);var dk;let hS=dk=class extends ae{constructor(t){super(t),this.type="none"}clone(){return new dk({type:this.type})}};h([ke({none:"none",stayAbove:"stay-above"}),f({json:{write:{isRequired:!0}}})],hS.prototype,"type",void 0),hS=dk=h([I("esri.ground.NavigationConstraint")],hS);const wX=Symbol("GroundInstance");function NFe(t){return t!=null&&typeof t=="object"&&wX in t}var bV,pk,Nz;let qn=pk=(Nz=class extends th(_g){constructor(t){super(t),this[bV]=!0,this.parent=null,this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new ge;const e=r=>{var n;const{parent:s}=r;s&&s!==this&&"remove"in s&&((n=s.remove)==null||n.call(s,r)),r.parent=this,r.type!=="elevation"&&r.type!=="base-elevation"&&se.getLogger(this).error(`Layer '${r.title}, id:${r.id}' of type '${r.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},i=r=>{r.parent=null};this.addHandles([this.layers.on("after-add",r=>e(r.item)),this.layers.on("after-remove",r=>i(r.item))]),this.allLayers=new Go({getCollections:()=>{var r,s;return[this.layers,(s=(r=this.parent)==null?void 0:r.basemap)==null?void 0:s.groundLayers]}})}removeChildLayer(t){this.layers.remove(t)}initialize(){this.when().catch(t=>{Cr(t)||se.getLogger(this).error("#load()","Failed to load ground",t)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}get integratedMeshGround(){var e,i;const t=(i=(e=this.parent)==null?void 0:e.basemap)==null?void 0:i.groundLayers.at(0);return t!=null&&t.replacesTerrain?t:null}destroy(){const t=this.layers.removeAll();for(const e of t)ti(e);this.layers.destroy()}normalizeCtorArgs(t){return t&&"resourceInfo"in t&&(this._set("resourceInfo",t.resourceInfo),delete(t={...t}).resourceInfo),t}get loaded(){return super.loaded}get layers(){return this._get("layers")}set layers(t){this._set("layers",Da(t,this._get("layers")))}writeLayers(t,e,i,r){const s=[];t&&(r={...r,layerContainerType:"ground"},t.forEach(n=>{if("write"in n){const o={};Jce(n)().write(o,r)&&s.push(o)}else r!=null&&r.messages&&r.messages.push(new B("layer:unsupported",`Layers (${n.title}, ${n.id}) of type '${n.declaredClass}' cannot be persisted in the ground`,{layer:n}))})),e.layers=s}load(t){return this.addResolvingPromise(this._loadFromSource(t)),Promise.resolve(this)}loadAll(){return gX(this,t=>{t(this.layers)})}async queryElevation(t,e){await this.load({signal:e==null?void 0:e.signal});const{queryAll:i}=await te(()=>import("./ElevationQuery-AKJcT54b.js"),__vite__mapDeps([192,193]));return Gt(e),i(this.layers.filter(_V).toArray(),t,e)}async createElevationSampler(t,e){await this.load({signal:e==null?void 0:e.signal});const{createSampler:i}=await te(()=>import("./ElevationQuery-AKJcT54b.js"),__vite__mapDeps([192,193]));return Gt(e),i(this.layers.filter(_V).toArray(),t,e)}clone(){const t={opacity:this.opacity,surfaceColor:G(this.surfaceColor),navigationConstraint:G(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(t.loadStatus="loaded"),new pk({resourceInfo:this.resourceInfo}).set(t)}read(t,e){this.resourceInfo||this._set("resourceInfo",{data:t,context:e}),super.read(t,e)}_loadFromSource(t){const e=this.resourceInfo;return e?this._loadLayersFromJSON(e.data,e.context,t):Promise.resolve()}async _loadLayersFromJSON(t,e,i){const r=(e==null?void 0:e.origin)||"web-scene",s=(e==null?void 0:e.portal)||null,n=(e==null?void 0:e.url)||null,{populateOperationalLayers:o}=await te(async()=>{const{populateOperationalLayers:c}=await import("./layersCreator-Br3tleiZ.js");return{populateOperationalLayers:c}},__vite__mapDeps([191,28,27,26,29,25,189]));Gt(i);const l=[];if(t.layers&&Array.isArray(t.layers)){const c={context:{origin:r,url:n,portal:s,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};l.push(o(this.layers,t.layers,c))}await Promise.allSettled(l)}},bV=wX,Nz);function _V(t){return t&&"createElevationSampler"in t}h([f()],qn.prototype,"parent",void 0),h([f()],qn.prototype,"integratedMeshGround",null),h([f({json:{read:!1,write:{isRequired:!0}}})],qn.prototype,"layers",null),h([f()],qn.prototype,"allLayers",void 0),h([_e("layers")],qn.prototype,"writeLayers",null),h([f({readOnly:!0})],qn.prototype,"resourceInfo",void 0),h([f({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:ot,read:{reader:ew,source:"transparency"},write:{writer:(t,e)=>{e.transparency=d6(t)},target:"transparency"}}})],qn.prototype,"opacity",void 0),h([f({type:Ne,json:{type:[ot],write:(t,e)=>{e.surfaceColor=t.toJSON().slice(0,3)}}})],qn.prototype,"surfaceColor",void 0),h([f({type:hS,json:{write:!0}})],qn.prototype,"navigationConstraint",void 0),qn=pk=h([I("esri.Ground")],qn);const xx=qn;function i5e(t){return t&&"getAtOrigin"in t&&"originOf"in t}function fk(t){return z6[r5e(t)]||n5e}function r5e(t){return t.type==="json"?"application/json":t.type==="blob"?t.blob.type:s5e(t.url)}function s5e(t){const e=YW(t);return mk[e]||bX}const z6={},bX="text/plain",n5e=z6[bX],mk={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const t in mk)z6[mk[t]]=t;function o5e(t){const e=(t==null?void 0:t.origins)??[void 0];return(i,r)=>{const s=a5e(t,i,r);for(const n of e){const o=iR(i,n,r);for(const l in s)o[l]=s[l]}}}function a5e(t,e,i){if((t==null?void 0:t.type)==="resource")return l5e(t,e,i);switch((t==null?void 0:t.type)??"other"){case"other":return{read:!0,write:!0};case"url":{const{read:r,write:s}=e0e;return{read:r,write:s}}}}function l5e(t,e,i){var s,n;const r=_w(e,i);return{type:String,read:(o,l,c)=>{const d=wT(o,l,c);return r.type===String?d:typeof r.type=="function"?new r.type({url:d}):void 0},write:{isRequired:(n=(s=r.json)==null?void 0:s.write)==null?void 0:n.isRequired,writer(o,l,c,d){if(!(d!=null&&d.resources))return typeof o=="string"?void(l[c]=lp(o,d)):void(l[c]=o.write({},d));const m=h5e(o),v=lp(m,{...d,verifyItemRelativeUrls:d!=null&&d.verifyItemRelativeUrls?{writtenUrls:d.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},1),w=r.type!==String&&(!i5e(this)||(d==null?void 0:d.origin)&&this.originIdOf(i)>Kl(d.origin)),_={object:this,propertyName:i,value:o,targetUrl:v,dest:l,targetPropertyName:c,context:d,params:t};d!=null&&d.portalItem&&v&&!Gs(v)?w&&(t!=null&&t.contentAddressed)?yk(_):w?u5e(_):c5e(_):d!=null&&d.portalItem&&(v==null||QW(v)!=null||wg(v)||w)?yk(_):l[c]=v}}}}function yk(t){var x;const{targetUrl:e,params:i,value:r,context:s,dest:n,targetPropertyName:o}=t;if(!s.portalItem)return;const l=eZ(e),c=SX(r,e,s);if(i!=null&&i.contentAddressed&&c.type!=="json")return void((x=s.messages)==null?void 0:x.push(new B("persistable:contentAddressingUnsupported",`Property "${o}" is trying to serializing a resource with content of type ${c.type} with content addressing. Content addressing is only supported for json resources.`,{content:c})));const d=i!=null&&i.contentAddressed&&c.type==="json"?N6(c.jsonString):(l==null?void 0:l.filename)??Tg(),m=Cw((i==null?void 0:i.prefix)??(l==null?void 0:l.prefix),d),v=`${m}.${fk(c)}`;if(i!=null&&i.contentAddressed&&s.resources&&c.type==="json"){const T=s.resources.toKeep.find(({resource:M})=>M.path===v)??s.resources.toAdd.find(({resource:M})=>M.path===v);if(T)return void(n[o]=T.resource.itemRelativeUrl)}const w=s.portalItem.resourceFromPath(v);wg(e)&&s.resources&&s.resources.pendingOperations.push(Lge(e).then(T=>{w.path=`${m}.${fk({type:"blob",blob:T})}`,n[o]=w.itemRelativeUrl}).catch(()=>{}));const _=(i==null?void 0:i.compress)??!1;s.resources&&_X({...t,resource:w,content:c,compress:_,updates:s.resources.toAdd}),n[o]=w.itemRelativeUrl}function u5e(t){const{context:e,targetUrl:i,params:r,value:s,dest:n,targetPropertyName:o}=t;if(!e.portalItem)return;const l=e.portalItem.resourceFromPath(i),c=SX(s,i,e),d=fk(c),m=YW(l.path),v=(r==null?void 0:r.compress)??!1;d===m?(e.resources&&_X({...t,resource:l,content:c,compress:v,updates:e.resources.toUpdate}),n[o]=i):yk(t)}function c5e({context:t,targetUrl:e,dest:i,targetPropertyName:r}){t.portalItem&&t.resources&&(t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(e),compress:!1}),i[r]=e)}function _X({object:t,propertyName:e,updates:i,resource:r,content:s,compress:n}){const o=l=>{d5e(t,e,l)};i.push({resource:r,content:s,compress:n,finish:o})}function SX(t,e,i){return typeof t=="string"?{type:"url",url:e}:{type:"json",jsonString:JSON.stringify(t.toJSON(i))}}function h5e(t){return t==null?null:typeof t=="string"?t:t.url}function d5e(t,e,i){typeof t[e]=="string"?t[e]=i.url:t[e].url=i.url}let dS=class extends rt(ae){constructor(e){super(e),this.color=null}};h([f({type:Ne,json:{type:[ot],write:!0}})],dS.prototype,"color",void 0),dS=h([I("esri.effects.FocusAreaOutline")],dS);const p5e=dS;var pS;let gk=pS=class extends th(ge.ofType(Qt)){constructor(t){super(t)}clone(){return new pS(this.items.map(t=>t.clone()))}write(t,e){return this.toJSON(e)}toJSON(t){var i;const e=(i=t==null?void 0:t.layer)==null?void 0:i.spatialReference;return e?this.toArray().map(r=>{var n;if(!e.equals(r.spatialReference)){if(!ta(r.spatialReference,e))return(n=t==null?void 0:t.messages)==null||n.push(new lo("scenefilter:unsupported","Scene filters with incompatible spatial references are not supported",{modification:this,spatialReference:t.layer.spatialReference,context:t})),null;const o=new Qt;cX(r,o,e),r=o}const s=r.toJSON(t);return delete s.spatialReference,s}).filter(r=>r!=null):this.toArray().map(r=>r.toJSON(t))}static fromJSON(t,e){const i=new pS;return t.forEach(r=>i.add(Qt.fromJSON(r,e))),i}};gk=pS=h([I("esri.layers.support.PolygonCollection")],gk);const g1=gk;let $l=class extends th(oR){constructor(e){super(e),this.id=`focusarea-${Tg()}`,this.title=null,this.enabled=!0,this.outline=null,this.geometries=new g1}readGeometries(e,i,r){var s,n;Array.isArray(e)?this.geometries=g1.fromJSON(e,r):r.origin!=="web-scene"&&r.origin!=="portal-item"||((n=(s=r.hooks)==null?void 0:s.onAfterLoad)==null||n.call(s,()=>this._loadGeometries(Ep(e,r),r)))}async _loadGeometries(e,i){const r=await Bt(e,{responseType:"json"});this.geometries=g1.fromJSON(r.data,i)}};h([f({type:String,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}}),f()],$l.prototype,"id",void 0),h([f({type:String,json:{write:!0}})],$l.prototype,"title",void 0),h([f({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],$l.prototype,"enabled",void 0),h([f({type:p5e,json:{write:!0}})],$l.prototype,"outline",void 0),h([f({type:g1,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}},clonable:t=>new g1(t.items.map(e=>e.clone()))}),o5e({origins:["web-scene","portal-item"],type:"resource",prefix:"geometries",contentAddressed:!0})],$l.prototype,"geometries",void 0),h([Ie(["web-scene","portal-item","service"],"geometries")],$l.prototype,"readGeometries",null),$l=h([I("esri.effects.FocusArea")],$l);const f5e=$l;let Cv=class extends th(oR){constructor(e){super(e),this.areas=new ge,this.style="bright"}};h([f({type:ge.ofType(f5e),nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}},clonable:t=>new ge(t.items.map(e=>e.clone()))})],Cv.prototype,"areas",void 0),h([f({type:["bright","dark"],nonNullable:!0,json:{write:!0}})],Cv.prototype,"style",void 0),Cv=h([I("esri.effects.FocusAreas")],Cv);const xX=Cv;function m5e(t){return typeof t=="object"&&t!=null&&"loaded"in t&&t.loaded===!0&&"type"in t}function y5e(t){var e,i;return!(!m5e(t)||!((i=(e=axe(t))==null?void 0:e.operations)!=null&&i.supportsEditing)||"editingEnabled"in t&&!uxe(t)||KJ(t))}const V5=()=>se.getLogger("esri.support.basemapUtils");function g5e(){return{}}function v5e(t){for(const e in t){const i=t[e];i&&!i.destroyed&&i.destroy(),delete t[e]}}function w5e(t,e){let i;if(typeof t=="string"){const r=t in hk,s=!r&&t.includes("/");if(!r&&!s){if(WA())V5().warn(`Unable to find basemap definition for: ${t}. See available styles at https://developers.arcgis.com/rest/basemap-styles/`);else{const n=Object.entries(hk).filter(([o,l])=>l.classic||l.is3d).map(([o])=>`"${o}"`).sort().join(", ");V5().warn(`Unable to find basemap definition for: ${t}. Try one of these: ${n}`)}return null}e&&(i=e[t]),i||(i=r?y1.fromId(t):new y1({style:{id:t}}),e&&(e[t]=i))}else i=nr(y1,t);return i!=null&&i.destroyed&&(V5().warn("The provided basemap is already destroyed",{basemap:i}),i=null),i}function b5e(t){return new Go({getCollections:()=>[t.tables,t.layers],getChildrenFunction:e=>{const i=[];return"tables"in e&&i.push(e.tables),"layers"in e&&i.push(e.layers),i},itemFilterFunction:e=>{const i=e.parent;return!!i&&"tables"in i&&i.tables.includes(e)}})}function F5(t){for(const e of t.values())e==null||e.destroy();t.clear()}const SV={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function _5e(t){let e=null;if(typeof t=="string")if(t in SV){const i=SV[t];e=new xx({resourceInfo:{data:{layers:[i]}}})}else se.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${t}. Try "world-elevation"`);else e=nr(xx,t);return e}function vk(t,e,i){let r,s;if(t)for(let n=0,o=t.length;n<o;n++){if(r=t.at(n),(r==null?void 0:r[e])===i)return r;if((r==null?void 0:r.type)==="group"&&(s=vk(r.layers,e,i),s))return s}}const S5e=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.layers=new ge;const s=l=>{l.parent&&l.removeFromParent()},n=l=>{l.parent=this,this.layerAdded(l),l.type!=="elevation"&&l.type!=="base-elevation"||se.getLogger(this).error(`Layer 'title:${l.title}, id:${l.id}' of type '${l.type}' is not supported as an operational layer and will therefore be ignored.`)},o=l=>{l.parent=null,this.layerRemoved(l)};this.addHandles([this.layers.on("before-add",l=>{if(l.item===this)return l.preventDefault(),void se.getLogger(this).error("#add()","Cannot add layer to itself.");s(l.item)}),this.layers.on("after-add",l=>n(l.item)),this.layers.on("after-remove",l=>o(l.item))])}destroy(){const r=this.layers.toArray();for(const s of r)s.destroy();this.layers.destroy()}removeChildLayer(r){var s;this.layers.remove(r),(s=super.removeChildLayer)==null||s.call(this,r)}set layers(r){this._set("layers",Da(r,this._get("layers")))}add(r,s){const n=this.layers;if(s=n.getNextIndex(s),r instanceof Kt){const o=r;o.parent===this?this.reorder(o,s):n.add(o,s)}else Xr(r)?r.then(o=>{this.destroyed||this.add(o,s)}):se.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(r,s){const n=this.layers;let o=n.getNextIndex(s);r.slice().forEach(l=>{l.parent!==this?(n.add(l,o),o+=1):this.reorder(l,o)})}findLayerById(r){return vk(this.layers,"id",r)}findLayerByUid(r){return vk(this.layers,"uid",r)}remove(r){return this.layers.remove(r)}removeMany(r){return this.layers.removeMany(r)}removeAll(){return this.layers.removeAll()}reorder(r,s){return this.layers.reorder(r,s)}layerAdded(r){}layerRemoved(r){}};return h([f()],i.prototype,"layers",null),i=h([I("esri.support.LayersMixin")],i),i},x5e=new Set(["feature","subtype-group"]);function wk(t,e,i){if(t)for(let r=0,s=t.length;r<s;r++){const n=t.at(r);if(n[e]===i)return n;if((n==null?void 0:n.type)==="group"){const o=wk(n.tables,e,i);if(o)return o}}}const T5e=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.tables=new ge,this.addHandles([this.tables.on("after-add",s=>{const n=s.item;n.parent&&n.parent!==this&&n.removeFromParent(),n.parent=this,x5e.has(n.type)||se.getLogger(this).error(`Layer 'title:${n.title}, id:${n.id}' of type '${n.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",s=>{s.item.parent=null})])}destroy(){const r=this.tables.toArray();for(const s of r)s.destroy();this.tables.destroy()}removeChildLayer(r){var s;this.tables.remove(r),(s=super.removeChildLayer)==null||s.call(this,r)}set tables(r){this._set("tables",Da(r,this._get("tables")))}findTableById(r){return wk(this.tables,"id",r)}findTableByUid(r){return wk(this.tables,"uid",r)}};return h([f()],i.prototype,"tables",null),i=h([I("esri.support.TablesMixin")],i),i};let Bn=class extends T5e(S5e(dg)){constructor(e){super(e),this.allLayers=new Go({getCollections:()=>{var i,r,s,n;return[(i=this.basemap)==null?void 0:i.baseLayers,(r=this.basemap)==null?void 0:r.groundLayers,(s=this.ground)==null?void 0:s.layers,this.layers,(n=this.basemap)==null?void 0:n.referenceLayers]},getChildrenFunction:i=>"layers"in i?i.layers:null}),this.focusAreas=new xX,this.allTables=b5e(this),this.basemap=null,this.editableLayers=new Go({getCollections:()=>[this.allLayers],itemFilterFunction:y5e}),this.ground=new xx,this._basemapCache=g5e(),this.addHandles(Sn(()=>this.ground,(i,r)=>{(r==null?void 0:r.parent)===this&&(r.parent=null),i.parent=this},{sync:!0}))}destroy(){v5e(this._basemapCache),this._basemapCache=null,this.focusAreas.destroy(),this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=ti(this.basemap),ti(this.ground),this._set("ground",null)}castBasemap(e){return w5e(e,this._basemapCache)}castGround(e){return _5e(e)??this._get("ground")}findLayerById(e){return this.allLayers.find(i=>i.id===e)}findTableById(e){return this.allTables.find(i=>i.id===e)}};h([f({readOnly:!0,dependsOn:[]})],Bn.prototype,"allLayers",void 0),h([f({type:xX,nonNullable:!0,json:{write:{overridePolicy:t=>({enabled:t.areas.length>0,ignoreOrigin:!0})}}})],Bn.prototype,"focusAreas",void 0),h([f({readOnly:!0})],Bn.prototype,"allTables",void 0),h([f({type:y1,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],Bn.prototype,"basemap",void 0),h([Ot("basemap")],Bn.prototype,"castBasemap",null),h([f({readOnly:!0})],Bn.prototype,"editableLayers",void 0),h([f({type:xx,nonNullable:!0})],Bn.prototype,"ground",void 0),h([Ot("ground")],Bn.prototype,"castGround",null),h([f()],Bn.prototype,"undoRedo",void 0),Bn=h([I("esri.Map")],Bn);const TX=Bn;let dd=class extends oR{constructor(e){super(e),this.row=0,this.column=0,this.rows=1,this.columns=1}equals(e){return e!=null&&this.row===e.row&&this.rows===e.rows&&this.column===e.column&&this.columns===e.columns}};h([f({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],dd.prototype,"row",void 0),h([f({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],dd.prototype,"column",void 0),h([f({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],dd.prototype,"rows",void 0),h([f({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],dd.prototype,"columns",void 0),dd=h([I("esri.CameraLayout")],dd);const $X=dd;let WT=class{constructor(e,i){this.min=e,this.max=i,this.range=i-e}normalize(e,i=0,r=!1){return xV(this.range,this.min,this.max,e,i,r)}clamp(e,i=0){return _n(e-i,this.min,this.max)+i}monotonic(e,i,r){return e<i?i:i+bk(this.range,e-i,r)}minimalMonotonic(e,i,r){return xV(this.range,e,e+this.range,i,r)}center(e,i,r){return i=this.monotonic(e,i,r),this.normalize((e+i)/2,r)}diff(e,i,r){return this.monotonic(e,i,r)-e}shortestSignedDiff(e,i){e=this.normalize(e);const r=(i=this.normalize(i))-e,s=i<e?this.minimalMonotonic(e,i)-e:i-this.minimalMonotonic(i,e);return Math.abs(r)<Math.abs(s)?r:s}contains(e,i,r){return i=this.minimalMonotonic(e,i),(r=this.minimalMonotonic(e,r))>e&&r<i}};function xV(t,e,i,r,s=0,n=!1){return(r-=s)<e?r+=bk(t,e-r):r>i&&(r-=bk(t,r-i)),n&&r===i&&(r=e),r+s}function bk(t,e,i=0){return Math.ceil((e-i)/t)*t+i}const qFe=new WT(0,2*Math.PI),BFe=new WT(-Math.PI,Math.PI),$5e=new WT(0,360);let wa=class extends rt(ae){constructor(...e){super(...e),this.position=new Re([0,0,0]),this.heading=0,this.tilt=0,this.fov=55,this.layout=new $X}normalizeCtorArgs(e,i,r,s){if(e&&typeof e=="object"&&("x"in e||Array.isArray(e))){const n={position:e};return i!=null&&(n.heading=i),r!=null&&(n.tilt=r),s!=null&&(n.fov=s),n}return e}writePosition(e,i,r,s){const n=e.clone();n.x=ds(e.x||0),n.y=ds(e.y||0),n.z=e.hasZ?ds(e.z||0):e.z,i[r]=n.write({},s)}readPosition(e,i){const r=new Re;return r.read(e,i),r.x=ds(r.x||0),r.y=ds(r.y||0),r.z=r.hasZ?ds(r.z||0):r.z,r}equals(e){return e!=null&&this.tilt===e.tilt&&this.heading===e.heading&&this.fov===e.fov&&this.position.equals(e.position)&&this.layout.equals(e.layout)}};h([f({type:Re,json:{write:{isRequired:!0}}})],wa.prototype,"position",void 0),h([_e("position")],wa.prototype,"writePosition",null),h([Ie("position")],wa.prototype,"readPosition",null),h([f({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Ot(t=>$5e.normalize(ds(t)))],wa.prototype,"heading",void 0),h([f({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),Ot(t=>_n(ds(t),-180,180))],wa.prototype,"tilt",void 0),h([f({type:Number,nonNullable:!0,json:{default:55,write:!0}}),Ot(t=>_n(ds(t,55),1,170))],wa.prototype,"fov",void 0),h([f({type:$X,nonNullable:!0,json:{read:!1,write:!1}})],wa.prototype,"layout",void 0),wa=h([I("esri.Camera")],wa);const M5e=wa;var _k;let rc=_k=class extends ae{constructor(t){super(t),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(t){return(t%=360)<0&&(t+=360),t}clone(){return new _k({rotation:this.rotation,scale:this.scale,targetGeometry:this.targetGeometry!=null?this.targetGeometry.clone():null,camera:this.camera!=null?this.camera.clone():null})}};h([f({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:z5}}}}})],rc.prototype,"rotation",void 0),h([Ot("rotation")],rc.prototype,"castRotation",null),h([f({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:z5}}}}})],rc.prototype,"scale",void 0),h([f({types:Nw,json:{read:Jc,write:!0,origins:{"web-scene":{read:Jc,write:{overridePolicy:z5}}}}})],rc.prototype,"targetGeometry",void 0),h([f({type:M5e,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],rc.prototype,"camera",void 0),rc=_k=h([I("esri.Viewpoint")],rc);const Ws=rc;function z5(){return{enabled:!this.camera}}let v1=class extends ge{constructor(e){super(e),this.addHandles([this.on("before-add",i=>{i.item==null&&i.preventDefault()}),this.on("after-add",i=>this._own(i.item)),this.on("after-remove",i=>this._release(i.item))])}get owner(){return this._get("owner")}set owner(e){this.destroyed||e!==this._get("owner")&&(this._releaseAll(),this._set("owner",e),this._ownAll())}_ownAll(){for(const e of this.items)this._own(e)}_releaseAll(){for(const e of this.items)this._release(e)}_createNewInstance(e){return this.itemType?new(ge.ofType(this.itemType.Type))(e):new ge(e)}};function Sk(t,e){return{type:t,cast:WY,set(i){const r=Da(i,this._get(e),t);r&&!r.destroyed&&(r.owner=this),this._set(e,r)}}}h([f()],v1.prototype,"owner",null),v1=h([I("esri.core.support.OwningCollection")],v1);var xk,gy;let kr=(gy=class extends ae{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new xk({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}},xk=gy,gy);h([f({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],kr.prototype,"cols",void 0),h([f({type:ot,json:{write:!0}})],kr.prototype,"level",void 0),h([f({type:String,json:{write:!0}})],kr.prototype,"levelValue",void 0),h([f({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],kr.prototype,"origin",void 0),h([f({type:Number,json:{write:!0}})],kr.prototype,"resolution",void 0),h([f({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],kr.prototype,"rows",void 0),h([f({type:Number,json:{write:!0}})],kr.prototype,"scale",void 0),kr=xk=h([I("esri.layers.support.LOD")],kr);let E5e=class MX{constructor(e,i,r,s=Us()){this._level=e,this._row=i,this._col=r,this.extent=s}get id(){return this._id??(this._id=`${this.level}/${this.row}/${this.col}`),this._id}get level(){return this._level}set level(e){this._level=e,this._id=null}get row(){return this._row}set row(e){this._row=e,this._id=null}get col(){return this._col}set col(e){this._col=e,this._id=null}toJSON(){return{level:this._level,row:this._row,col:this._col,extent:this.extent}}static fromJSON(e){return new MX(e.level,e.row,e.col,e.extent)}};var Qf;const TV=new ct({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});var vy;let ns=(vy=class extends ae{static create(e={}){const{resolutionFactor:i=1,scales:r,size:s=256,spatialReference:n=Se.WebMercator,numLODs:o=24}=e;if(!fn(n)){const w=[];if(r)for(let _=0;_<r.length;_++){const x=r[_];w.push(new kr({level:_,scale:x,resolution:x}))}else{let _=5e-4;for(let x=o-1;x>=0;x--)w.unshift(new kr({level:x,scale:_,resolution:_})),_*=2}return new Qf({dpi:96,lods:w,origin:new Re(0,0,n),size:[s,s],spatialReference:n})}const l=vs(n),c=e.origin?new Re({x:e.origin.x,y:e.origin.y,spatialReference:n}):new Re(l?{x:l.origin[0],y:l.origin[1],spatialReference:n}:{x:0,y:0,spatialReference:n}),d=96,m=1/(ho(n)*39.37*d),v=[];if(r)for(let w=0;w<r.length;w++){const _=r[w],x=_*m;v.push(new kr({level:w,scale:_,resolution:x}))}else{let w=bg(n)?512/s*5916575275917094e-7:256/s*591657527591555e-6;const _=Math.ceil(o/i);v.push(new kr({level:0,scale:w,resolution:w*m}));for(let x=1;x<_;x++){const T=w/2**i,M=T*m;v.push(new kr({level:x,scale:T,resolution:M})),w=T}}return new Qf({dpi:d,lods:v,origin:c,size:[s,s],spatialReference:n})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:i}=this;if(e&&i){const r=vs(e);return e.isWrappable&&!!r&&Math.abs(r.origin[0]-i.x)<=r.dx}return!1}readOrigin(e,i){return Re.fromJSON({spatialReference:i.spatialReference,...e})}set lods(e){let i=0,r=0;const s=[],n=this._levelToLOD={};e&&(i=-1/0,r=1/0,e.forEach(o=>{s.push(o.scale),i=o.scale>i?o.scale:i,r=o.scale<r?o.scale:r,n[o.level]=o})),this._set("scales",s),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,i){return[i.cols,i.rows]}writeSize(e,i){i.cols=e[0],i.rows=e[1]}zoomToScale(e){const i=this.scales;if(e<=0)return i[0];if(e>=i.length-1)return i[i.length-1];const r=Math.floor(e),s=r+1;return i[r]/(i[r]/i[s])**(e-r)}scaleToZoom(e){const i=this.scales,r=i.length-1;let s=0;for(;s<r;s++){const n=i[s],o=i[s+1];if(n<=e)return s;if(o===e)return s+1;if(n>e&&o<e)return s+Math.log(n/e)/Math.log(n/o)}return s}tileAt(e,i,r,s){const n=this.lodAt(e);if(!n)return null;let o,l;if(typeof i=="number")o=i,l=r;else if(vr(i.spatialReference,this.spatialReference))o=i.x,l=i.y,s=r;else{const m=TT(i,this.spatialReference);if(m==null)return null;o=m.x,l=m.y,s=r}const c=n.resolution*this.size[0],d=n.resolution*this.size[1];return s??(s=new E5e(0,0,0)),s.level=e,s.row=Math.floor((this.origin.y-l)/d+.001),s.col=Math.floor((o-this.origin.x)/c+.001),this.updateTileInfo(s),s}updateTileInfo(e,i=0){if(!("extent"in e))return!1;let r=this.lodAt(e.level);if(!r&&i===1){const l=this.lods[this.lods.length-1];l.level<e.level&&(r=l)}if(!r)return!1;const s=e.level-r.level,n=r.resolution*this.size[0]/2**s,o=r.resolution*this.size[1]/2**s;return e.extent[0]=this.origin.x+e.col*n,e.extent[1]=this.origin.y-(e.row+1)*o,e.extent[2]=e.extent[0]+n,e.extent[3]=e.extent[1]+o,!0}upsampleTile(e){const i=this._upsampleLevels[e.level];return!(!i||i.parentLevel===-1)&&(e.level=i.parentLevel,e.row=Math.floor(e.row/i.factor+.001),e.col=Math.floor(e.col/i.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,i){const r=this.lodAt(i.level);if(r==null)return null;const{resolution:s}=r,n=s*this.size[0],o=s*this.size[1];return e[0]=this.origin.x+i.col*n,e[1]=this.origin.y-(i.row+1)*o,e[2]=e[0]+n,e[3]=e[1]+o,e}lodAt(e){var i;return((i=this._levelToLOD)==null?void 0:i[e])??null}clone(){return Qf.fromJSON(this.write({}))}getCompatibleForVTL(e){if(this.size[0]!==this.size[1]||this.size[0]===256&&e===512)return null;const i=(this.size[0]===512&&e===256?-1:0)+(this.spatialReference.isGeographic?1:0);if(this.size[0]===e&&i===0)return this;const r=[],s=this.lods.length-i;for(let n=0;n<s;n++){const o=n+i,{scale:l,resolution:c}=o>=0?this.lods[o]:{scale:2*this.lods[0].scale,resolution:2*this.lods[0].resolution};r.push(new kr({level:n,scale:l,resolution:c}))}return new Qf({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:r})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let i=null;for(let r=0;r<e.length;r++){const s=e[r];this._upsampleLevels[s.level]={parentLevel:i?i.level:-1,factor:i?i.resolution/s.resolution:0},i=s}}},Qf=vy,vy);h([f({type:Number,json:{write:!0}})],ns.prototype,"compressionQuality",void 0),h([f({type:Number,json:{write:!0}})],ns.prototype,"dpi",void 0),h([f({type:String,json:{read:TV.read,write:TV.write,origins:{"web-scene":{read:!1,write:!1}}}})],ns.prototype,"format",void 0),h([f({readOnly:!0})],ns.prototype,"isWrappable",null),h([f({type:Re,json:{write:!0}})],ns.prototype,"origin",void 0),h([Ie("origin")],ns.prototype,"readOrigin",null),h([f({type:[kr],value:null,json:{write:!0}})],ns.prototype,"lods",null),h([f({readOnly:!0})],ns.prototype,"scales",void 0),h([f({cast:t=>Array.isArray(t)?t:typeof t=="number"?[t,t]:[256,256]})],ns.prototype,"size",void 0),h([Ie("size",["rows","cols"])],ns.prototype,"readSize",null),h([_e("size",{cols:{type:ot},rows:{type:ot}})],ns.prototype,"writeSize",null),h([f({type:Se,json:{write:!0}})],ns.prototype,"spatialReference",void 0),ns=Qf=h([I("esri.layers.support.TileInfo")],ns);let Zy=class extends v1{constructor(e){super(e),this.addHandles(this.on("before-add",i=>{i.item!=null&&i.item.parent===this.owner&&(se.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),i.preventDefault())}))}_own(e){e.parent=this.owner}_release(e){e.parent=null}};Zy=h([I("esri.support.AnalysesCollection")],Zy);const fS={widthBreakpoint:{getValue(t){const e=t.viewSize[0],i=t.breakpoints,r=this.values;return e<=i.xsmall?r.xsmall:e<=i.small?r.small:e<=i.medium?r.medium:e<=i.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(t){const e=t.viewSize[1],i=t.breakpoints,r=this.values;return e<=i.xsmall?r.xsmall:e<=i.small?r.small:e<=i.medium?r.medium:e<=i.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(t){const e=t.viewSize,i=e[0],r=e[1],s=this.values;return r>=i?s.portrait:s.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},U5={xsmall:544,small:768,medium:992,large:1200};function A5e(t){const e=t;return e&&e.xsmall<e.small&&e.small<e.medium&&e.medium<e.large}function q5(t,e){return e?fS[t].valueToClassName[e].split(" "):[]}const O5e=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=U5}initialize(){this.addHandles(Le(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),Qr))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(r){if(r!==this._get("breakpoints")){if(!A5e(r)){const s=JSON.stringify(U5,null,2);console.warn("provided breakpoints are not valid, using defaults:"+s),r=U5}this._set("breakpoints",{...r})}}_updateClassNames(){if(!this.container)return;const r=hs.acquire(),s=hs.acquire();let n,o=!1;for(n in fS){const l=this[n],c=fS[n].getValue({viewSize:this.size,breakpoints:this.breakpoints});l!==c&&(o=!0,this[n]=c,q5(n,l).forEach(d=>s.push(d)),q5(n,c).forEach(d=>r.push(d)))}o&&(this._applyClassNameChanges(r,s),hs.release(r),hs.release(s))}_applyClassNameChanges(r,s){const n=this.container;n&&(s.forEach(o=>n.classList.remove(o)),r.forEach(o=>n.classList.add(o)))}_removeActiveClassNames(){const r=this.container;if(!r)return;let s;for(s in fS)q5(s,this[s]).forEach(n=>r.classList.remove(n))}};return h([f()],i.prototype,"breakpoints",null),h([f()],i.prototype,"orientation",void 0),h([f()],i.prototype,"widthBreakpoint",void 0),h([f()],i.prototype,"heightBreakpoint",void 0),i=h([I("esri.views.BreakpointsOwner")],i),i};function U6(t){return typeof t=="string"?document.getElementById(t):t??null}function $V(t,e){for(;;){const i=t.firstChild;if(!i)break;e.appendChild(i)}}let Jd=class extends $e{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(e,i,r={}){return this._installWatch(e,i,r,Le)}addWhen(e,i,r={}){return this._installWatch(e,i,r,Sn)}addOnCollectionChange(e,i,{initial:r=!1,final:s=!1}={}){const n=++this._handleId;return this.addHandles([yp(e,"after-changes",this._createSyncUpdatingCallback(),za),yp(e,"change",i,{onListenerAdd:r?o=>i({added:o.toArray(),removed:[]}):void 0,onListenerRemove:s?o=>i({added:[],removed:o.toArray()}):void 0})],n),at(()=>this.removeHandles(n))}addPromise(e){if(e==null)return e;const i=++this._handleId;this.addHandles(at(()=>{this._pendingPromises.delete(e)&&(this._pendingPromises.size!==0||this.hasHandles(B_)||this._set("updating",!1))}),i),this._pendingPromises.add(e),this._set("updating",!0);const r=()=>this.removeHandles(i);return e.then(r,r),e}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(e,i,r={},s){const n=++this._handleId;r.sync||this._installSyncUpdatingWatch(e,n);const o=s(e,i,r);return this.addHandles(o,n),at(()=>this.removeHandles(n))}_installSyncUpdatingWatch(e,i){const r=this._createSyncUpdatingCallback(),s=Le(e,r,{sync:!0,equals:()=>!1});return this.addHandles(s,i),s}_createSyncUpdatingCallback(){return()=>{this.removeHandles(B_),++this._scheduleHandleId;const e=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles(ug(()=>{e===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(B_))}),B_)}}};h([f({readOnly:!0})],Jd.prototype,"updating",void 0),Jd=h([I("esri.core.support.UpdatingHandles")],Jd);const B_=-42;/*!
 * @esri/arcgis-html-sanitizer - v4.1.0 - Tue Dec 03 2024 09:13:28 GMT-0500 (Eastern Standard Time)
 * Copyright (c) 2024 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2018 Zongmin Lei() <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Tx=function(){return Tx=Object.assign||function(e){for(var i,r=1,s=arguments.length;r<s;r++){i=arguments[r];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Tx.apply(this,arguments)},Tk={exports:{}},di={},$k={exports:{}},kp={};function EX(){var t={};return t["align-content"]=!1,t["align-items"]=!1,t["align-self"]=!1,t["alignment-adjust"]=!1,t["alignment-baseline"]=!1,t.all=!1,t["anchor-point"]=!1,t.animation=!1,t["animation-delay"]=!1,t["animation-direction"]=!1,t["animation-duration"]=!1,t["animation-fill-mode"]=!1,t["animation-iteration-count"]=!1,t["animation-name"]=!1,t["animation-play-state"]=!1,t["animation-timing-function"]=!1,t.azimuth=!1,t["backface-visibility"]=!1,t.background=!0,t["background-attachment"]=!0,t["background-clip"]=!0,t["background-color"]=!0,t["background-image"]=!0,t["background-origin"]=!0,t["background-position"]=!0,t["background-repeat"]=!0,t["background-size"]=!0,t["baseline-shift"]=!1,t.binding=!1,t.bleed=!1,t["bookmark-label"]=!1,t["bookmark-level"]=!1,t["bookmark-state"]=!1,t.border=!0,t["border-bottom"]=!0,t["border-bottom-color"]=!0,t["border-bottom-left-radius"]=!0,t["border-bottom-right-radius"]=!0,t["border-bottom-style"]=!0,t["border-bottom-width"]=!0,t["border-collapse"]=!0,t["border-color"]=!0,t["border-image"]=!0,t["border-image-outset"]=!0,t["border-image-repeat"]=!0,t["border-image-slice"]=!0,t["border-image-source"]=!0,t["border-image-width"]=!0,t["border-left"]=!0,t["border-left-color"]=!0,t["border-left-style"]=!0,t["border-left-width"]=!0,t["border-radius"]=!0,t["border-right"]=!0,t["border-right-color"]=!0,t["border-right-style"]=!0,t["border-right-width"]=!0,t["border-spacing"]=!0,t["border-style"]=!0,t["border-top"]=!0,t["border-top-color"]=!0,t["border-top-left-radius"]=!0,t["border-top-right-radius"]=!0,t["border-top-style"]=!0,t["border-top-width"]=!0,t["border-width"]=!0,t.bottom=!1,t["box-decoration-break"]=!0,t["box-shadow"]=!0,t["box-sizing"]=!0,t["box-snap"]=!0,t["box-suppress"]=!0,t["break-after"]=!0,t["break-before"]=!0,t["break-inside"]=!0,t["caption-side"]=!1,t.chains=!1,t.clear=!0,t.clip=!1,t["clip-path"]=!1,t["clip-rule"]=!1,t.color=!0,t["color-interpolation-filters"]=!0,t["column-count"]=!1,t["column-fill"]=!1,t["column-gap"]=!1,t["column-rule"]=!1,t["column-rule-color"]=!1,t["column-rule-style"]=!1,t["column-rule-width"]=!1,t["column-span"]=!1,t["column-width"]=!1,t.columns=!1,t.contain=!1,t.content=!1,t["counter-increment"]=!1,t["counter-reset"]=!1,t["counter-set"]=!1,t.crop=!1,t.cue=!1,t["cue-after"]=!1,t["cue-before"]=!1,t.cursor=!1,t.direction=!1,t.display=!0,t["display-inside"]=!0,t["display-list"]=!0,t["display-outside"]=!0,t["dominant-baseline"]=!1,t.elevation=!1,t["empty-cells"]=!1,t.filter=!1,t.flex=!1,t["flex-basis"]=!1,t["flex-direction"]=!1,t["flex-flow"]=!1,t["flex-grow"]=!1,t["flex-shrink"]=!1,t["flex-wrap"]=!1,t.float=!1,t["float-offset"]=!1,t["flood-color"]=!1,t["flood-opacity"]=!1,t["flow-from"]=!1,t["flow-into"]=!1,t.font=!0,t["font-family"]=!0,t["font-feature-settings"]=!0,t["font-kerning"]=!0,t["font-language-override"]=!0,t["font-size"]=!0,t["font-size-adjust"]=!0,t["font-stretch"]=!0,t["font-style"]=!0,t["font-synthesis"]=!0,t["font-variant"]=!0,t["font-variant-alternates"]=!0,t["font-variant-caps"]=!0,t["font-variant-east-asian"]=!0,t["font-variant-ligatures"]=!0,t["font-variant-numeric"]=!0,t["font-variant-position"]=!0,t["font-weight"]=!0,t.grid=!1,t["grid-area"]=!1,t["grid-auto-columns"]=!1,t["grid-auto-flow"]=!1,t["grid-auto-rows"]=!1,t["grid-column"]=!1,t["grid-column-end"]=!1,t["grid-column-start"]=!1,t["grid-row"]=!1,t["grid-row-end"]=!1,t["grid-row-start"]=!1,t["grid-template"]=!1,t["grid-template-areas"]=!1,t["grid-template-columns"]=!1,t["grid-template-rows"]=!1,t["hanging-punctuation"]=!1,t.height=!0,t.hyphens=!1,t.icon=!1,t["image-orientation"]=!1,t["image-resolution"]=!1,t["ime-mode"]=!1,t["initial-letters"]=!1,t["inline-box-align"]=!1,t["justify-content"]=!1,t["justify-items"]=!1,t["justify-self"]=!1,t.left=!1,t["letter-spacing"]=!0,t["lighting-color"]=!0,t["line-box-contain"]=!1,t["line-break"]=!1,t["line-grid"]=!1,t["line-height"]=!1,t["line-snap"]=!1,t["line-stacking"]=!1,t["line-stacking-ruby"]=!1,t["line-stacking-shift"]=!1,t["line-stacking-strategy"]=!1,t["list-style"]=!0,t["list-style-image"]=!0,t["list-style-position"]=!0,t["list-style-type"]=!0,t.margin=!0,t["margin-bottom"]=!0,t["margin-left"]=!0,t["margin-right"]=!0,t["margin-top"]=!0,t["marker-offset"]=!1,t["marker-side"]=!1,t.marks=!1,t.mask=!1,t["mask-box"]=!1,t["mask-box-outset"]=!1,t["mask-box-repeat"]=!1,t["mask-box-slice"]=!1,t["mask-box-source"]=!1,t["mask-box-width"]=!1,t["mask-clip"]=!1,t["mask-image"]=!1,t["mask-origin"]=!1,t["mask-position"]=!1,t["mask-repeat"]=!1,t["mask-size"]=!1,t["mask-source-type"]=!1,t["mask-type"]=!1,t["max-height"]=!0,t["max-lines"]=!1,t["max-width"]=!0,t["min-height"]=!0,t["min-width"]=!0,t["move-to"]=!1,t["nav-down"]=!1,t["nav-index"]=!1,t["nav-left"]=!1,t["nav-right"]=!1,t["nav-up"]=!1,t["object-fit"]=!1,t["object-position"]=!1,t.opacity=!1,t.order=!1,t.orphans=!1,t.outline=!1,t["outline-color"]=!1,t["outline-offset"]=!1,t["outline-style"]=!1,t["outline-width"]=!1,t.overflow=!1,t["overflow-wrap"]=!1,t["overflow-x"]=!1,t["overflow-y"]=!1,t.padding=!0,t["padding-bottom"]=!0,t["padding-left"]=!0,t["padding-right"]=!0,t["padding-top"]=!0,t.page=!1,t["page-break-after"]=!1,t["page-break-before"]=!1,t["page-break-inside"]=!1,t["page-policy"]=!1,t.pause=!1,t["pause-after"]=!1,t["pause-before"]=!1,t.perspective=!1,t["perspective-origin"]=!1,t.pitch=!1,t["pitch-range"]=!1,t["play-during"]=!1,t.position=!1,t["presentation-level"]=!1,t.quotes=!1,t["region-fragment"]=!1,t.resize=!1,t.rest=!1,t["rest-after"]=!1,t["rest-before"]=!1,t.richness=!1,t.right=!1,t.rotation=!1,t["rotation-point"]=!1,t["ruby-align"]=!1,t["ruby-merge"]=!1,t["ruby-position"]=!1,t["shape-image-threshold"]=!1,t["shape-outside"]=!1,t["shape-margin"]=!1,t.size=!1,t.speak=!1,t["speak-as"]=!1,t["speak-header"]=!1,t["speak-numeral"]=!1,t["speak-punctuation"]=!1,t["speech-rate"]=!1,t.stress=!1,t["string-set"]=!1,t["tab-size"]=!1,t["table-layout"]=!1,t["text-align"]=!0,t["text-align-last"]=!0,t["text-combine-upright"]=!0,t["text-decoration"]=!0,t["text-decoration-color"]=!0,t["text-decoration-line"]=!0,t["text-decoration-skip"]=!0,t["text-decoration-style"]=!0,t["text-emphasis"]=!0,t["text-emphasis-color"]=!0,t["text-emphasis-position"]=!0,t["text-emphasis-style"]=!0,t["text-height"]=!0,t["text-indent"]=!0,t["text-justify"]=!0,t["text-orientation"]=!0,t["text-overflow"]=!0,t["text-shadow"]=!0,t["text-space-collapse"]=!0,t["text-transform"]=!0,t["text-underline-position"]=!0,t["text-wrap"]=!0,t.top=!1,t.transform=!1,t["transform-origin"]=!1,t["transform-style"]=!1,t.transition=!1,t["transition-delay"]=!1,t["transition-duration"]=!1,t["transition-property"]=!1,t["transition-timing-function"]=!1,t["unicode-bidi"]=!1,t["vertical-align"]=!1,t.visibility=!1,t["voice-balance"]=!1,t["voice-duration"]=!1,t["voice-family"]=!1,t["voice-pitch"]=!1,t["voice-range"]=!1,t["voice-rate"]=!1,t["voice-stress"]=!1,t["voice-volume"]=!1,t.volume=!1,t["white-space"]=!1,t.widows=!1,t.width=!0,t["will-change"]=!1,t["word-break"]=!0,t["word-spacing"]=!0,t["word-wrap"]=!0,t["wrap-flow"]=!1,t["wrap-through"]=!1,t["writing-mode"]=!1,t["z-index"]=!1,t}function k5e(t,e,i){}function C5e(t,e,i){}var R5e=/javascript\s*\:/img;function I5e(t,e){return R5e.test(e)?"":e}kp.whiteList=EX();kp.getDefaultWhiteList=EX;kp.onAttr=k5e;kp.onIgnoreAttr=C5e;kp.safeAttrValue=I5e;var P5e={indexOf:function(t,e){var i,r;if(Array.prototype.indexOf)return t.indexOf(e);for(i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1},forEach:function(t,e,i){var r,s;if(Array.prototype.forEach)return t.forEach(e,i);for(r=0,s=t.length;r<s;r++)e.call(i,t[r],r,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(t){return String.prototype.trimRight?t.trimRight():t.replace(/(\s*$)/g,"")}},q0=P5e;function j5e(t,e){t=q0.trimRight(t),t[t.length-1]!==";"&&(t+=";");var i=t.length,r=!1,s=0,n=0,o="";function l(){if(!r){var m=q0.trim(t.slice(s,n)),v=m.indexOf(":");if(v!==-1){var w=q0.trim(m.slice(0,v)),_=q0.trim(m.slice(v+1));if(w){var x=e(s,o.length,w,_,m);x&&(o+=x+"; ")}}}s=n+1}for(;n<i;n++){var c=t[n];if(c==="/"&&t[n+1]==="*"){var d=t.indexOf("*/",n+2);if(d===-1)break;n=d+1,s=n+1,r=!1}else c==="("?r=!0:c===")"?r=!1:c===";"?r||l():c===`
`&&l()}return q0.trim(o)}var N5e=j5e,G_=kp,D5e=N5e;function MV(t){return t==null}function L5e(t){var e={};for(var i in t)e[i]=t[i];return e}function AX(t){t=L5e(t||{}),t.whiteList=t.whiteList||G_.whiteList,t.onAttr=t.onAttr||G_.onAttr,t.onIgnoreAttr=t.onIgnoreAttr||G_.onIgnoreAttr,t.safeAttrValue=t.safeAttrValue||G_.safeAttrValue,this.options=t}AX.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,i=e.options,r=i.whiteList,s=i.onAttr,n=i.onIgnoreAttr,o=i.safeAttrValue,l=D5e(t,function(c,d,m,v,w){var _=r[m],x=!1;if(_===!0?x=_:typeof _=="function"?x=_(v):_ instanceof RegExp&&(x=_.test(v)),x!==!0&&(x=!1),v=o(m,v),!!v){var T={position:d,sourcePosition:c,source:w,isWhite:x};if(x){var M=s(m,v,T);return MV(M)?m+":"+v:M}else{var M=n(m,v,T);if(!MV(M))return M}}});return l};var V5e=AX;(function(t,e){var i=kp,r=V5e;function s(o,l){var c=new r(l);return c.process(o)}e=t.exports=s,e.FilterCSS=r;for(var n in i)e[n]=i[n]})($k,$k.exports);var q6=$k.exports,B6={indexOf:function(t,e){var i,r;if(Array.prototype.indexOf)return t.indexOf(e);for(i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1},forEach:function(t,e,i){var r,s;if(Array.prototype.forEach)return t.forEach(e,i);for(r=0,s=t.length;r<s;r++)e.call(i,t[r],r,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(t){var e=/\s|\n|\t/,i=e.exec(t);return i?i.index:-1}},F5e=q6.FilterCSS,z5e=q6.getDefaultWhiteList,$x=B6;function OX(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var kX=new F5e;function U5e(t,e,i){}function q5e(t,e,i){}function B5e(t,e,i){}function G5e(t,e,i){}function CX(t){return t.replace(W5e,"&lt;").replace(Z5e,"&gt;")}function H5e(t,e,i,r){if(i=DX(i),e==="href"||e==="src"){if(i=$x.trim(i),i==="#")return"#";if(!(i.substr(0,7)==="http://"||i.substr(0,8)==="https://"||i.substr(0,7)==="mailto:"||i.substr(0,4)==="tel:"||i.substr(0,11)==="data:image/"||i.substr(0,6)==="ftp://"||i.substr(0,2)==="./"||i.substr(0,3)==="../"||i[0]==="#"||i[0]==="/"))return""}else if(e==="background"){if(H_.lastIndex=0,H_.test(i))return""}else if(e==="style"){if(EV.lastIndex=0,EV.test(i)||(AV.lastIndex=0,AV.test(i)&&(H_.lastIndex=0,H_.test(i))))return"";r!==!1&&(r=r||kX,i=r.process(i))}return i=LX(i),i}var W5e=/</g,Z5e=/>/g,Y5e=/"/g,J5e=/&quot;/g,K5e=/&#([a-zA-Z0-9]*);?/gim,X5e=/&colon;?/gim,Q5e=/&newline;?/gim,H_=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,EV=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,AV=/u\s*r\s*l\s*\(.*/gi;function RX(t){return t.replace(Y5e,"&quot;")}function IX(t){return t.replace(J5e,'"')}function PX(t){return t.replace(K5e,function(i,r){return r[0]==="x"||r[0]==="X"?String.fromCharCode(parseInt(r.substr(1),16)):String.fromCharCode(parseInt(r,10))})}function jX(t){return t.replace(X5e,":").replace(Q5e," ")}function NX(t){for(var e="",i=0,r=t.length;i<r;i++)e+=t.charCodeAt(i)<32?" ":t.charAt(i);return $x.trim(e)}function DX(t){return t=IX(t),t=PX(t),t=jX(t),t=NX(t),t}function LX(t){return t=RX(t),t=CX(t),t}function eEe(){return""}function tEe(t,e){typeof e!="function"&&(e=function(){});var i=!Array.isArray(t);function r(o){return i?!0:$x.indexOf(t,o)!==-1}var s=[],n=!1;return{onIgnoreTag:function(o,l,c){if(r(o))if(c.isClosing){var d="[/removed]",m=c.position+d.length;return s.push([n!==!1?n:c.position,m]),n=!1,d}else return n||(n=c.position),"[removed]";else return e(o,l,c)},remove:function(o){var l="",c=0;return $x.forEach(s,function(d){l+=o.slice(c,d[0]),c=d[1]}),l+=o.slice(c),l}}}function iEe(t){for(var e="",i=0;i<t.length;){var r=t.indexOf("<!--",i);if(r===-1){e+=t.slice(i);break}e+=t.slice(i,r);var s=t.indexOf("-->",r);if(s===-1)break;i=s+3}return e}function rEe(t){var e=t.split("");return e=e.filter(function(i){var r=i.charCodeAt(0);return r===127?!1:r<=31?r===10||r===13:!0}),e.join("")}di.whiteList=OX();di.getDefaultWhiteList=OX;di.onTag=U5e;di.onIgnoreTag=q5e;di.onTagAttr=B5e;di.onIgnoreTagAttr=G5e;di.safeAttrValue=H5e;di.escapeHtml=CX;di.escapeQuote=RX;di.unescapeQuote=IX;di.escapeHtmlEntities=PX;di.escapeDangerHtml5Entities=jX;di.clearNonPrintableCharacter=NX;di.friendlyAttrValue=DX;di.escapeAttrValue=LX;di.onIgnoreTagStripAll=eEe;di.StripTagBody=tEe;di.stripCommentTag=iEe;di.stripBlankChar=rEe;di.cssFilter=kX;di.getDefaultCSSWhiteList=z5e;var ZT={},yc=B6;function sEe(t){var e=yc.spaceIndex(t),i;return e===-1?i=t.slice(1,-1):i=t.slice(1,e+1),i=yc.trim(i).toLowerCase(),i.slice(0,1)==="/"&&(i=i.slice(1)),i.slice(-1)==="/"&&(i=i.slice(0,-1)),i}function nEe(t){return t.slice(0,2)==="</"}function oEe(t,e,i){var r="",s=0,n=!1,o=!1,l=0,c=t.length,d="",m="";e:for(l=0;l<c;l++){var v=t.charAt(l);if(n===!1){if(v==="<"){n=l;continue}}else if(o===!1){if(v==="<"){r+=i(t.slice(s,l)),n=l,s=l;continue}if(v===">"){r+=i(t.slice(s,n)),m=t.slice(n,l+1),d=sEe(m),r+=e(n,r.length,d,m,nEe(m)),s=l+1,n=!1;continue}if(v==='"'||v==="'")for(var w=1,_=t.charAt(l-w);_.trim()===""||_==="=";){if(_==="="){o=v;continue e}_=t.charAt(l-++w)}}else if(v===o){o=!1;continue}}return s<t.length&&(r+=i(t.substr(s))),r}var aEe=/[^a-zA-Z0-9\\_:.-]/gim;function lEe(t,e){var i=0,r=0,s=[],n=!1,o=t.length;function l(w,_){if(w=yc.trim(w),w=w.replace(aEe,"").toLowerCase(),!(w.length<1)){var x=e(w,_||"");x&&s.push(x)}}for(var c=0;c<o;c++){var d=t.charAt(c),m,v;if(n===!1&&d==="="){n=t.slice(i,c),i=c+1,r=t.charAt(i)==='"'||t.charAt(i)==="'"?i:cEe(t,c+1);continue}if(n!==!1&&c===r){if(v=t.indexOf(d,c+1),v===-1)break;m=yc.trim(t.slice(r+1,v)),l(n,m),n=!1,c=v,i=c+1;continue}if(/\s|\n|\t/.test(d))if(t=t.replace(/\s|\n|\t/g," "),n===!1)if(v=uEe(t,c),v===-1){m=yc.trim(t.slice(i,c)),l(m),n=!1,i=c+1;continue}else{c=v-1;continue}else if(v=hEe(t,c-1),v===-1){m=yc.trim(t.slice(i,c)),m=OV(m),l(n,m),n=!1,i=c+1;continue}else continue}return i<t.length&&(n===!1?l(t.slice(i)):l(n,OV(yc.trim(t.slice(i))))),yc.trim(s.join(" "))}function uEe(t,e){for(;e<t.length;e++){var i=t[e];if(i!==" ")return i==="="?e:-1}}function cEe(t,e){for(;e<t.length;e++){var i=t[e];if(i!==" ")return i==="'"||i==='"'?e:-1}}function hEe(t,e){for(;e>0;e--){var i=t[e];if(i!==" ")return i==="="?e:-1}}function dEe(t){return t[0]==='"'&&t[t.length-1]==='"'||t[0]==="'"&&t[t.length-1]==="'"}function OV(t){return dEe(t)?t.substr(1,t.length-2):t}ZT.parseTag=oEe;ZT.parseAttr=lEe;var pEe=q6.FilterCSS,No=di,VX=ZT,fEe=VX.parseTag,mEe=VX.parseAttr,mS=B6;function W_(t){return t==null}function yEe(t){var e=mS.spaceIndex(t);if(e===-1)return{html:"",closing:t[t.length-2]==="/"};t=mS.trim(t.slice(e+1,-1));var i=t[t.length-1]==="/";return i&&(t=mS.trim(t.slice(0,-1))),{html:t,closing:i}}function gEe(t){var e={};for(var i in t)e[i]=t[i];return e}function vEe(t){var e={};for(var i in t)Array.isArray(t[i])?e[i.toLowerCase()]=t[i].map(function(r){return r.toLowerCase()}):e[i.toLowerCase()]=t[i];return e}function FX(t){t=gEe(t||{}),t.stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=No.onIgnoreTagStripAll),t.whiteList||t.allowList?t.whiteList=vEe(t.whiteList||t.allowList):t.whiteList=No.whiteList,t.onTag=t.onTag||No.onTag,t.onTagAttr=t.onTagAttr||No.onTagAttr,t.onIgnoreTag=t.onIgnoreTag||No.onIgnoreTag,t.onIgnoreTagAttr=t.onIgnoreTagAttr||No.onIgnoreTagAttr,t.safeAttrValue=t.safeAttrValue||No.safeAttrValue,t.escapeHtml=t.escapeHtml||No.escapeHtml,this.options=t,t.css===!1?this.cssFilter=!1:(t.css=t.css||{},this.cssFilter=new pEe(t.css))}FX.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,i=e.options,r=i.whiteList,s=i.onTag,n=i.onIgnoreTag,o=i.onTagAttr,l=i.onIgnoreTagAttr,c=i.safeAttrValue,d=i.escapeHtml,m=e.cssFilter;i.stripBlankChar&&(t=No.stripBlankChar(t)),i.allowCommentTag||(t=No.stripCommentTag(t));var v=!1;i.stripIgnoreTagBody&&(v=No.StripTagBody(i.stripIgnoreTagBody,n),n=v.onIgnoreTag);var w=fEe(t,function(_,x,T,M,O){var C={sourcePosition:_,position:x,isClosing:O,isWhite:Object.prototype.hasOwnProperty.call(r,T)},R=s(T,M,C);if(!W_(R))return R;if(C.isWhite){if(C.isClosing)return"</"+T+">";var N=yEe(M),j=r[T],F=mEe(N.html,function(ee,X){var J=mS.indexOf(j,ee)!==-1,re=o(T,ee,X,J);return W_(re)?J?(X=c(T,ee,X,m),X?ee+'="'+X+'"':ee):(re=l(T,ee,X,J),W_(re)?void 0:re):re});return M="<"+T,F&&(M+=" "+F),N.closing&&(M+=" /"),M+=">",M}else return R=n(T,M,C),W_(R)?d(M):R},d);return v&&(w=v.remove(w)),w};var wEe=FX;(function(t,e){var i=di,r=ZT,s=wEe;function n(l,c){var d=new s(c);return d.process(l)}e=t.exports=n,e.filterXSS=n,e.FilterXSS=s,function(){for(var l in i)e[l]=i[l];for(var c in r)e[c]=r[c]}();function o(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}o()&&(self.filterXSS=t.exports)})(Tk,Tk.exports);var Of=Tk.exports,bEe=function(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},zX=function(){function t(e,i){var r=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],del:["style"],details:["open","style"],div:["align","aria-hidden","aria-label","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["aria-hidden","aria-label","style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=Tx(Tx({},Of.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(n,o,l,c){return n==="a"&&o==="href"||(n==="img"||n==="source")&&o==="src"?r.sanitizeUrl(l):Of.safeAttrValue(n,o,l,c)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"};var s;e&&!i?s=e:e&&i?(s=Object.create(this.arcgisFilterOptions),s.css={whiteList:this.arcgisCSSWhiteList},Object.keys(e).forEach(function(n){if(n==="whiteList")s.whiteList=r._extendObjectOfArrays([r.arcgisWhiteList,e.whiteList||{}]);else if(n==="css"){var o=e.css.whiteList;o!=null&&e.css instanceof Object&&Object.keys(o).forEach(function(l){return s.css.whiteList[l]=o[l]})}else s[n]=e[n]})):(s=Object.create(this.arcgisFilterOptions),s.whiteList=this.arcgisWhiteList,s.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=s,this._xssFilter=new Of.FilterXSS(s)}return t.prototype.sanitize=function(e,i){switch(i===void 0&&(i={}),typeof e){case"number":return isNaN(e)||!isFinite(e)?null:e;case"boolean":return e;case"string":return this._xssFilter.process(e);case"object":return this._iterateOverObject(e,i);default:return i.allowUndefined&&typeof e>"u"?void 0:null}},t.prototype.sanitizeUrl=function(e,i){var r=(i??{}).isProtocolRequired,s=r===void 0?!0:r,n=this._trim(e.substring(0,e.indexOf(":"))),o=e==="/",l=/^#/.test(e),c=n&&this.allowedProtocols.indexOf(n.toLowerCase())>-1;return o||l||c?Of.escapeAttrValue(e):!n&&!s?Of.escapeAttrValue("https://".concat(e)):""},t.prototype.sanitizeHTMLAttribute=function(e,i,r,s){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(e,i,r,s):Of.safeAttrValue(e,i,r,s)},t.prototype.validate=function(e,i){i===void 0&&(i={});var r=this.sanitize(e,i);return{isValid:e===r,sanitized:r}},t.prototype.encodeHTML=function(e){var i=this;return String(e).replace(/[&<>"'\/]/g,function(r){return i._entityMap[r]})},t.prototype.encodeAttrValue=function(e){var i=/^[a-zA-Z0-9]$/;return String(e).replace(/[\x00-\xFF]/g,function(r,s){return i.test(r)?r:"&#x".concat(Number(e.charCodeAt(s)).toString(16),";")})},t.prototype._extendObjectOfArrays=function(e){var i={};return e.forEach(function(r){Object.keys(r).forEach(function(s){Array.isArray(r[s])&&Array.isArray(i[s])?i[s]=i[s].concat(r[s]):i[s]=r[s]})}),i},t.prototype._iterateOverObject=function(e,i){var r=this;i===void 0&&(i={});try{var s=!1,n=void 0;if(Array.isArray(e))n=e.reduce(function(l,c){var d=r.validate(c,i);return d.isValid?l.concat([c]):(s=!0,l.concat([d.sanitized]))},[]);else if(bEe(e)){var o=Object.keys(e);n=o.reduce(function(l,c){var d=e[c],m=r.validate(d,i);return m.isValid?l[c]=d:(s=!0,l[c]=m.sanitized),l},{})}else return i.allowUndefined&&typeof e>"u"?void 0:null;return s?n:e}catch{return null}},t.prototype._trim=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},t}();const _Ee=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],SEe=_Ee.reduce((t,e)=>(t[e]=[],t),{}),xEe=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],UX=new zX({whiteList:SEe,onTagAttr:(t,e,i)=>{const r=`${e}="${i}"`;if(xEe.includes(e))return r},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0),YFe=new zX({whiteList:{br:[]},stripIgnoreTag:!0,escapeHtml:t=>t},!1),qX="http://www.w3.org/",YT=`${qX}2000/svg`,BX=`${qX}1999/xlink`;let kV=[],G6=(t,e)=>{let i={};return Object.keys(t).forEach(r=>{i[r]=t[r]}),e&&Object.keys(e).forEach(r=>{i[r]=e[r]}),i},H6=(t,e)=>t.vnodeSelector===e.vnodeSelector&&(t.properties&&e.properties?t.properties.key===e.properties.key&&t.properties.bind===e.properties.bind:!t.properties&&!e.properties),GX=t=>{if(typeof t!="string")throw new Error("Style values must be strings")},TEe=(t,e,i)=>{if(e.vnodeSelector!==""){for(let r=i;r<t.length;r++)if(H6(t[r],e))return r}return-1},B5=(t,e,i,r)=>{let s=t[e];if(s.vnodeSelector==="")return;let n=s.properties;if(!(n&&(n.key===void 0?n.bind:n.key))){for(let o=0;o<t.length;o++)if(o!==e){let l=t[o];if(H6(l,s))throw new Error(`${i.vnodeSelector} had a ${s.vnodeSelector} child ${r==="added"?r:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},$Ee=t=>{if(t.properties){let e=t.properties.enterAnimation;e&&e(t.domNode,t.properties)}},Mk=[],Ek=!1,HX=t=>{(t.children||[]).forEach(HX),t.properties&&t.properties.afterRemoved&&t.properties.afterRemoved.apply(t.properties.bind||t.properties,[t.domNode])},CV=()=>{Ek=!1,Mk.forEach(HX),Mk.length=0},RV=t=>{Mk.push(t),Ek||(Ek=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(CV,{timeout:16}):setTimeout(CV,16))},IV=t=>{let e=t.domNode;if(t.properties){let i=t.properties.exitAnimation;if(i)return e.style.pointerEvents="none",void i(e,()=>{e.parentNode&&(e.parentNode.removeChild(e),RV(t))},t.properties)}e.parentNode&&(e.parentNode.removeChild(e),RV(t))},MEe=(t,e,i)=>{if(!e)return;let r=i.eventHandlerInterceptor,s=Object.keys(e),n=s.length;for(let o=0;o<n;o++){let l=s[o],c=e[l];if(l==="className")throw new Error('Property "className" is not supported, use "class".');if(l==="class")Ok(t,c,!0);else if(l==="classes"){let d=Object.keys(c),m=d.length;for(let v=0;v<m;v++){let w=d[v];c[w]&&t.classList.add(w)}}else if(l==="styles"){let d=Object.keys(c),m=d.length;for(let v=0;v<m;v++){let w=d[v],_=c[w];_&&(GX(_),i.styleApplyer(t,w,_))}}else if(l!=="key"&&c!=null){let d=typeof c;d==="function"?(l.lastIndexOf("on",0)===0&&(r&&(c=r(l,c,t,e)),l==="oninput"&&function(){let m=c;c=function(v){m.apply(this,[v]),v.target["oninput-value"]=v.target.value}}()),t[l]=c):i.namespace===YT?l==="href"?t.setAttributeNS(BX,l,c):t.setAttribute(l,c):d==="string"&&l!=="value"?l==="innerHTML"?t[l]=UX.sanitize(c):Ak(t)&&l in t?t[l]=c:t.setAttribute(l,c):t[l]=c}}};function Ak(t){if(!(t instanceof Element&&t.tagName.includes("-")))return!1;const e=window.customElements.get(t.tagName.toLowerCase());return!!e&&t instanceof e}let Mx,EEe=(t,e,i)=>{if(e)for(let r of e)w1(r,t,void 0,i)},WX=(t,e,i)=>{EEe(t,e.children,i),e.text&&(t.textContent=e.text),MEe(t,e.properties,i),e.properties&&e.properties.afterCreate&&e.properties.afterCreate.apply(e.properties.bind||e.properties,[t,i,e.vnodeSelector,e.properties,e.children])},w1=(t,e,i,r)=>{let s,n=0,o=t.vnodeSelector,l=e.ownerDocument;if(o==="")s=t.domNode=l.createTextNode(t.text),i!==void 0?e.insertBefore(s,i):e.appendChild(s);else{for(let c=0;c<=o.length;++c){let d=o.charAt(c);if(c===o.length||d==="."||d==="#"){let m=o.charAt(n-1),v=o.slice(n,c);m==="."?s.classList.add(v):m==="#"?s.id=v:(v==="svg"&&(r=G6(r,{namespace:YT})),r.namespace!==void 0?s=t.domNode=l.createElementNS(r.namespace,v):(s=t.domNode=t.domNode||l.createElement(v),v==="input"&&t.properties&&t.properties.type!==void 0&&s.setAttribute("type",t.properties.type)),i!==void 0?e.insertBefore(s,i):s.parentNode!==e&&e.appendChild(s)),n=c+1}}WX(s,t,r)}},Ok=(t,e,i)=>{e&&e.split(" ").forEach(r=>{r&&t.classList.toggle(r,i)})},AEe=(t,e,i,r)=>{if(!i)return;let s=!1,n=Object.keys(i),o=n.length;for(let l=0;l<o;l++){let c=n[l],d=i[c],m=e[c];if(c==="class")m!==d&&(Ok(t,m,!1),Ok(t,d,!0));else if(c==="classes"){let v=t.classList,w=Object.keys(d),_=w.length;for(let x=0;x<_;x++){let T=w[x],M=!!d[T];M!==!!m[T]&&(s=!0,M?v.add(T):v.remove(T))}}else if(c==="styles"){let v=Object.keys(d),w=v.length;for(let _=0;_<w;_++){let x=v[_],T=d[x];T!==m[x]&&(s=!0,T?(GX(T),r.styleApplyer(t,x,T)):r.styleApplyer(t,x,""))}}else if(d||typeof m!="string"||(d=""),c!=="value"||Ak(t)){if(d!==m){let v=typeof d;v==="function"&&r.eventHandlerInterceptor||(r.namespace===YT?c==="href"?t.setAttributeNS(BX,c,d):t.setAttribute(c,d):v==="string"?c==="innerHTML"?t[c]=UX.sanitize(d):c==="role"&&d===""?t.removeAttribute(c):Ak(t)&&c in t?t[c]=d:t.setAttribute(c,d):t[c]!==d&&(t[c]=d),s=!0)}}else{let v=t[c];v!==d&&(t["oninput-value"]?v===t["oninput-value"]:d!==m)&&(t[c]=d,t["oninput-value"]=void 0),d!==m&&(s=!0)}}return s},OEe=(t,e,i,r,s)=>{if(i===r)return!1;r=r||kV;let n,o=(i=i||kV).length,l=r.length,c=0,d=0,m=!1;for(;d<l;){let v=c<o?i[c]:void 0,w=r[d];if(v!==void 0&&H6(v,w))m=Mx(v,w,s)||m,c++;else{let _=TEe(i,w,c+1);if(_>=0){for(n=c;n<_;n++)IV(i[n]),B5(i,n,t,"removed");m=Mx(i[_],w,s)||m,c=_+1}else w1(w,e,c<o?i[c].domNode:void 0,s),$Ee(w),B5(r,d,t,"added")}d++}if(o>c)for(n=c;n<o;n++)IV(i[n]),B5(i,n,t,"removed");return m};Mx=(t,e,i)=>{let r=t.domNode,s=!1;if(t===e)return!1;let n=!1;if(e.vnodeSelector===""){if(e.text!==t.text){let o=r.ownerDocument.createTextNode(e.text);return r.parentNode.replaceChild(o,r),e.domNode=o,s=!0,s}e.domNode=r}else e.vnodeSelector.lastIndexOf("svg",0)===0&&(i=G6(i,{namespace:YT})),t.text!==e.text&&(n=!0,e.text===void 0?r.removeChild(r.firstChild):r.textContent=e.text),e.domNode=r,n=OEe(e,r,t.children,e.children,i)||n,n=AEe(r,t.properties,e.properties,i)||n,e.properties&&e.properties.afterUpdate&&e.properties.afterUpdate.apply(e.properties.bind||e.properties,[r,i,e.vnodeSelector,e.properties,e.children]);return n&&e.properties&&e.properties.updateAnimation&&e.properties.updateAnimation(r,e.properties,t.properties),s};let Z_=(t,e)=>({getLastRender:()=>t,update:i=>{if(t.vnodeSelector!==i.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let r=t;t=i,Mx(r,i,e)},domNode:t.domNode});const kEe={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(t,e,i)=>{e.charAt(0)==="-"?t.style.setProperty(e,i):t.style[e]=i}};let Rv=t=>G6(kEe,t),kc={append:(t,e,i)=>(i=Rv(i),w1(e,t,void 0,i),Z_(e,i)),insertBefore:(t,e,i)=>(i=Rv(i),w1(e,t.parentNode,t,i),Z_(e,i)),merge:(t,e,i)=>(i=Rv(i),e.domNode=t,WX(t,e,i),Z_(e,i)),replace:(t,e,i)=>(i=Rv(i),w1(e,t.parentNode,t,i),t.parentNode.removeChild(t),Z_(e,i))},ZX,CEe=(t,e)=>{let i=[];for(;t&&t!==e;)i.push(t),t=t.parentNode;return i};ZX=Array.prototype.find?(t,e)=>t.find(e):(t,e)=>t.filter(e)[0];let REe=(t,e)=>{let i=t;return e.forEach(r=>{i=i&&i.children?ZX(i.children,s=>s.domNode===r):void 0}),i},IEe=(t,e,i)=>{let r=function(s){i("domEvent",s);let n=e(),o=CEe(s.currentTarget,n.domNode);o.reverse();let l,c=REe(n.getLastRender(),o);return t.scheduleRender(),c&&(l=c.properties[`on${s.type}`].apply(c.properties.bind||this,arguments)),i("domEventProcessed",s),l};return(s,n,o,l)=>r},PV=t=>{let e,i,r=Rv(t),s=r.performanceLogger,n=!0,o=!1,l=[],c=[],d=(v,w,_)=>{let x,T=()=>x;r.eventHandlerInterceptor=IEe(e,T,s),x=v(w,_(),r),l.push(x),c.push(_)},m=()=>{if(i=void 0,n){n=!1,s("renderStart",void 0);for(let v=0;v<l.length;v++){let w=c[v]();s("rendered",void 0),l[v].update(w),s("patched",void 0)}s("renderDone",void 0),n=!0}};return e={renderNow:m,scheduleRender:()=>{i||o||(i=requestAnimationFrame(m))},stop:()=>{i&&(cancelAnimationFrame(i),i=void 0),o=!0},resume:()=>{o=!1,n=!0,e.scheduleRender()},append:(v,w)=>{d(kc.append,v,w)},insertBefore:(v,w)=>{d(kc.insertBefore,v,w)},merge:(v,w)=>{d(kc.merge,v,w)},replace:(v,w)=>{d(kc.replace,v,w)},detach:v=>{for(let w=0;w<c.length;w++)if(c[w]===v)return c.splice(w,1),l.splice(w,1)[0];throw new Error("renderFunction was not found")}},e},sc=class extends $e{constructor(){super(...arguments),this.items=new ge,this._watchUpdatingTracking=new Jd,this._callbacks=new Map,this._projector=PV(),this._hiddenProjector=PV()}get needsRender(){return this.items.length>0}get updating(){var e;return((e=this._watchUpdatingTracking)==null?void 0:e.updating)??!1}initialize(){const e=document.createElement("div");e.className="esri-overlay-surface",this._set("surface",e),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),e.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,i=>{for(const r of i.added){const s=()=>r.render();this._callbacks.set(r,s),this._projector.append(this.surface,s)}for(const r of i.removed){const s=this._projector.detach(this._callbacks.get(r));this.surface.removeChild(s.domNode),this._callbacks.delete(r)}})}addItem(e){this.items.add(e)}removeItem(e){this.items.remove(e)}destroy(){this.items.removeAll(),this._callbacks.forEach(e=>this._projector.detach(e)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(e){const i=this._hiddenSurface,r=this._hiddenProjector;let s;const n=()=>(s=e.render(),s);r.append(i,n),r.renderNow();const o={left:0,top:0,right:0,bottom:0};if(s!=null&&s.domNode){const l=s.domNode.getBoundingClientRect();o.left=l.left,o.top=l.top,o.right=l.right,o.bottom=l.bottom}for(r.detach(n);i.firstChild;)i.removeChild(i.firstChild);return o}overlaps(e,i){const r=this.computeBoundingRect(e),s=this.computeBoundingRect(i);return Math.max(r.left,s.left)<=Math.min(r.right,s.right)&&Math.max(r.top,s.top)<=Math.min(r.bottom,s.bottom)}get hasVisibleItems(){return this.items.some(e=>e.visible)}async prepare(){await document.fonts.load(this._fontString()).catch(()=>{})}renderCanvas(e,i){const r=!!(i!=null&&i.disableDecorations);if(!this.items.some(n=>n.visible&&!(r&&n.isDecoration)))return;const s=e.getContext("2d");s.save(),s.font=this._fontString(),this.items.forEach(n=>{r&&n.isDecoration||(s.save(),n.renderCanvas(s),s.restore())}),s.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};h([f({readOnly:!0})],sc.prototype,"surface",void 0),h([f({readOnly:!0})],sc.prototype,"items",void 0),h([f({readOnly:!0})],sc.prototype,"needsRender",null),h([f({readOnly:!0})],sc.prototype,"_watchUpdatingTracking",void 0),h([f({readOnly:!0})],sc.prototype,"updating",null),sc=h([I("esri.views.overlay.ViewOverlay")],sc);const jV=sc,G5=[0,0];function PEe(t){const e=(t.ownerDocument||window.document).defaultView,i=t.getBoundingClientRect();return G5[0]=i.left+((e==null?void 0:e.pageXOffset)??0),G5[1]=i.top+((e==null?void 0:e.pageYOffset)??0),G5}function NV(t){t&&(t.textContent="",t.parentNode&&t.parentNode.removeChild(t))}function jEe(t){const e=document.createElement("div");return t.appendChild(e),e}const kf=16,B0=750,NEe=512,DEe=2,LEe=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this._freqInfo={freq:kf,time:B0},this._overlayRenderTaskHandle=null,this.aria={},this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([Le(()=>this.cursor,s=>{const{surface:n}=this;n&&n.setAttribute("data-cursor",s)}),Le(()=>this.navigating,s=>{const{surface:n}=this;n&&n.setAttribute("data-navigating",s.toString())}),Le(()=>[this.aria,this.surface],()=>this._updateAria(),{initial:!0})])}initialize(){const r=this;this.addHandles([Le(()=>this.ui,(s,n)=>this._handleUIChange(s,n),Qr),r.on("focus",()=>this.notifyChange("focused")),r.on("blur",()=>this.notifyChange("focused"))])}destroy(){var r;this.destroyed||((r=this.ui)==null||r.destroy(),this.container=null)}get container(){return this._get("container")??null}set container(r){const s=this._get("container"),n=U6(r);if(n||typeof r!="string"||se.getLogger(this).error("#container",`element with id '${r}' not found`),s===n)return;if(this._stopMeasuring(),s&&(s.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(NV(this.root),this._set("root",null)),this.userContent&&($V(this.userContent,s),NV(this.userContent),this._set("userContent",null))),!n)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);n.classList.add("esri-view");const o=document.createElement("div");o.className="esri-view-user-storage",$V(n,o),n.appendChild(o),this._set("userContent",o);const l=document.createElement("div");l.className="esri-view-root",n.insertBefore(l,n.firstChild),this._set("root",l);const c=document.createElement("div");c.className="esri-view-surface",c.setAttribute("role","application"),c.tabIndex=0,l.appendChild(c),this._set("surface",c);const d=new jV;l.appendChild(d.surface),this._set("overlay",d),this.addHandles(Le(()=>d.needsRender,m=>{m&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=Iy({render:()=>{var v;return(v=this.overlay)==null?void 0:v.render()}}):this._overlayRenderTaskHandle=Dt(this._overlayRenderTaskHandle)})),this.forceDOMReadyCycle(),this._set("container",n),this._startMeasuring()}get focused(){const r=document.activeElement===this.surface;return document.hasFocus()&&r}get size(){return[this.width,this.height]}set ui(r){const s=this._get("ui");s!==r&&(s==null||s.destroy()),this._set("ui",r)}blur(){var r;(r=this.surface)==null||r.blur()}focus(){var r;(r=this.surface)==null||r.focus()}pageToContainer(r,s,n){const o=this.position;return r-=o?o[0]:0,s-=o?o[1]:0,n?(n[0]=r,n[1]=s):n=[r,s],n}containerToPage(r,s,n){const o=this.position;return r+=o?o[0]:0,s+=o?o[1]:0,n?(n[0]=r,n[1]=s):n=[r,s],n}_updateAria(){const{surface:r,aria:s}=this;r&&(r.ariaLabelledByElements=(s==null?void 0:s.labelledByElements)??null,r.ariaDescribedByElements=(s==null?void 0:s.describedByElements)??null,r.ariaLabel=(s==null?void 0:s.label)??null,r.ariaDescription=(s==null?void 0:s.description)??null)}_handleUIChange(r,s){this.removeHandles("ui"),s&&s!==r&&s.destroy(),r&&(r.view=this,this.addHandles(Le(()=>this.root,n=>{r.container=n?jEe(n):null},Qr),"ui")),this._set("ui",r)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const r=this._freqInfo;r.freq=kf,r.time=B0;const s=Iy({prepare:l=>{const c=this._measure(),d=this._freqInfo;if(d.time+=l.deltaTime,c&&(d.freq=kf,this._get("resizing")||this._set("resizing",!0)),d.time<d.freq)return;d.time=0;const m=this._position();d.freq=m||c?kf:Math.min(B0,d.freq*DEe),!c&&d.freq>=NEe&&(s.pause(),this._get("resizing")&&this._set("resizing",!1))}}),n=new ResizeObserver(l=>{r.freq=kf,r.time=B0,s.resume()});this.container!=null&&n.observe(this.container);const o=at(()=>n.disconnect());this.addHandles([lg(window,"resize",()=>{r.freq=kf,r.time=B0,s.resume()}),o,s],"measuring"),this._measure(),this._position()}_measure(){const r=this.container,s=r?r.clientWidth:0,n=r?r.clientHeight:0;if(s===0||n===0)return this.suspended||this._set("suspended",!0),!1;const o=this.width,l=this.height;return s===o&&n===l?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",s),this._set("height",n),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:o,oldHeight:l,width:s,height:n}),!0)}_position(){const r=this.container,s=this.position,n=r&&PEe(r);return!!n&&(!s||n[0]!==s[0]||n[1]!==s[1])&&(this._set("position",[n[0],n[1]]),!0)}forceDOMReadyCycle(){}};return h([f()],i.prototype,"aria",void 0),h([f()],i.prototype,"container",null),h([f({readOnly:!0})],i.prototype,"focused",null),h([f({readOnly:!0})],i.prototype,"height",void 0),h([f()],i.prototype,"messagesCommon",void 0),h([f({type:jV})],i.prototype,"overlay",void 0),h([f({readOnly:!0})],i.prototype,"position",void 0),h([f({readOnly:!0})],i.prototype,"resizing",void 0),h([f({readOnly:!0})],i.prototype,"root",void 0),h([f({value:null,readOnly:!0})],i.prototype,"size",null),h([f({readOnly:!0})],i.prototype,"surface",void 0),h([f({readOnly:!0})],i.prototype,"suspended",void 0),h([f({nonNullable:!0})],i.prototype,"ui",null),h([f({readOnly:!0})],i.prototype,"userContent",void 0),h([f({readOnly:!0})],i.prototype,"width",void 0),h([f()],i.prototype,"widthBreakpoint",void 0),i=h([I("esri.views.DOMContainer")],i),i},Y_="popup",DV="manual";function nu(t){return t!=null&&"open"in t&&"declaredClass"in t}function Xc(t){return!!t&&t.tagName.toLowerCase()==="arcgis-popup"&&"open"in t}function VEe(t,e,i){const[r,s,n]=e;if(i){const[o,l,c]=i;o&&nu(l)&&(l.view=null,o.remove(l,Y_),l!==s&&s&&l.destroy()),o&&c&&Xc(c)&&(c.view=null,o.remove(c,Y_),c!==n&&n&&c.remove())}r&&nu(s)&&(s.view=t,r.add(s,{key:Y_,position:DV,internal:!0})),r&&n&&Xc(n)&&(n.view=t,r.add(n,{key:Y_,position:DV,internal:!0}))}async function FEe(t,e){var s,n;const{popup:i,popupElement:r}=t;if(nu(i)){const o=await i.viewModel.handleViewClick(e);(s=o==null?void 0:o.promises)!=null&&s.length&&i.open(o)}else if(r&&Xc(r)){const o=await r.handleViewClick(e);(n=o==null?void 0:o.promises)!=null&&n.length&&r.open(o)}else e==null||e.defer(async()=>{var c,d;await t.setupPopup();const{popup:o,popupElement:l}=t;if(nu(o)&&!t.destroyed&&t.ready&&t.popupEnabled){const m=await o.viewModel.handleViewClick(e);(c=m==null?void 0:m.promises)!=null&&c.length&&o.open(m)}else if(l&&Xc(l)){const m=await l.handleViewClick(e);(d=m==null?void 0:m.promises)!=null&&d.length&&l.open(m)}})}function zEe(t,e){const{popup:i,popupElement:r}=t;if(nu(i))return i.open(e);r&&Xc(r)&&r.open(e)}function UEe(t,e){nu(t)&&t.close(),e&&Xc(e)&&(e.visible=!1)}const YX=q("mac")?"Meta":"Control",qEe=new Set(["Alt","Control","Meta","Shift","Ctrl","Primary"]),BEe=t=>qEe.has(t);let GEe=class{constructor(e,i=[]){this.eventType=e,this.keyModifiers=i}matches(e){if(e.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;const i=e.modifiers;for(const r of this.keyModifiers)if(!i.has(r))return!1;return!0}},or=class{constructor(e){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=e}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const e in this._incoming){const i=this._incoming[e];for(const r of i)this._incomingEventMatches.push(r.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(e=>e.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(e){this._manager||(e.setEventCallback(i=>this._handleEvent(i)),e.setUninstallCallback(()=>this._onUninstall()),this._manager=e)}onUninstall(){}registerIncoming(e,i,r){let s;typeof i=="function"?(r=i,s=[]):s=i||[];const n=typeof e=="string"?new GEe(e,s):e,o=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},l=m=>{const v=this._incoming[m.match.eventType];if(v){const w=v.indexOf(m);v.splice(w,1),o(),this._manager&&this._manager.updateDependencies()}},c=new HEe(n,r,{onPause:l,onRemove:l,onResume:m=>{const v=this._incoming[m.match.eventType];v&&!v.includes(m)&&(v.push(m),o(),this._manager&&this._manager.updateDependencies())}});let d=this._incoming[n.eventType];return d||(d=[],this._incoming[n.eventType]=d),d.push(c),o(),this._manager&&this._manager.updateDependencies(),c}registerOutgoing(e){if(this._outgoing[e])throw new Error("There is already a callback registered for this outgoing InputEvent: "+e);const i=new WEe(e,{onEmit:(r,s,n,o)=>{var l;(l=this._manager)==null||l.emit(r.eventType,s,n,o)},onRemove:r=>{var s;delete this._outgoing[r.eventType],(s=this._manager)==null||s.updateDependencies()}});return this._outgoing[e]=i,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),i}startCapturingPointer(e){var i;(i=this._manager)==null||i.setPointerCapture(e,!0)}stopCapturingPointer(e){var i;(i=this._manager)==null||i.setPointerCapture(e,!1)}refreshHasPendingInputs(){var e;(e=this._manager)==null||e.refreshHasPendingInputs()}_onUninstall(){this._manager&&(this.onUninstall(),this._manager=null)}_handleEvent(e){var r;const i=this._incoming[e.type];if(i){for(const s of i)if(s.match.matches(e)&&((r=s.callback)==null||r.call(s,e),e.shouldStopPropagation()))break}}},HEe=class{constructor(e,i,r){this.match=e,this._callback=i,this._handler=r}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}},WEe=class{constructor(e,i){this.eventType=e,this._removed=!1,this._handler=i}emit(e,i,r){this._removed||this._handler.onEmit(this,e,i,r)}remove(){this._removed=!0,this._handler.onRemove(this)}},ZEe=class extends or{constructor(e){super(!0),this._onChange=e,this._value="mouse",this._x=null,this._y=null,this._id=null,this.registerIncoming("pointer-move",i=>this._update(i.data))}_update(e){const i=e.native.pointerType==="touch"?"touch":"mouse",{x:r,y:s,native:{pointerId:n}}=e;i===this._value&&this._x===r&&this._y===s&&this._id===n||(this._value=i,this._x=r,this._y=s,this._id=n,this._onChange(n,i,r,s))}},YEe=class{constructor(e,i){this._observable=new $w,this._value=e,this._equalityFunction=i}get value(){return je(this._observable),this._value}set value(e){this._equalityFunction(e,this._value)||(this._value=e,this._observable.notify())}mutate(e){e(this._value),this._observable.notify()}};function Yy(t,e=bB){return new YEe(t,e)}let JEe=class extends or{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=Yy(!1),this._onPointerAdd=({data:e})=>{e.pointerType==="touch"&&(this._activeTouchPointerIds.add(e.native.pointerId),this._update())},this._onPointerRemove=({data:e})=>{e.pointerType==="touch"&&(this._activeTouchPointerIds.delete(e.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}},KEe=class{constructor(e,i){this._owner=i,this._properties={},this._afterDispatchHandle=null;for(const r in e){const s=e[r],n=new VB(s,void 0,void 0,2,2);this._properties[r]={pool:n,acquired:[]}}this._afterDispatchHandle=gde(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const e in this._properties){const i=this._properties[e];for(const r of i.acquired)P8(r)||i.pool.release(r);i.pool.destroy(),i.pool=null,i.acquired=null}this._properties=null,this._owner=null}get(e){const i=this._owner._get(e),r=this._properties[e];let s=r.pool.acquire();for(r.acquired.push(s);s===i;)s=r.pool.acquire(),r.acquired.push(s);return eG(),s}_release(){for(const e in this._properties){const i=this._properties[e];let r=0;for(const s of i.acquired)P8(s)?i.acquired[r++]=s:i.pool.release(s);i.acquired.length=r}}},XEe=class{constructor(){this.id=0,this.type="mouse",this.location=rr()}},Io=class extends $e{constructor(e){super(e),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=YX,this._propertiesPool=new KEe({latestPointerInfo:()=>new XEe},this),this._latestPointerInfo=void 0,this._paused=!1,this._testTimestamp=void 0}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const e=Object.keys(this._nameToGroup);for(const i of e)this.uninstallHandlers(i);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(e=>e.handler.hasPendingInputs)}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get latestPointerInfo(){return this._latestPointerInfo}get updating(){return this.hasPendingInputs||this._paused}installHandlers(e,i,r=ou.INTERNAL){if(this._nameToGroup[e]||i.length===0)return;const s={name:e,handlers:i.map(n=>({handler:n,active:!0,removed:!1,priorityIndex:0,groupPriority:r,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[e]=s;for(let n=s.handlers.length-1;n>=0;n--){const o=s.handlers[n];this._handlers.push(o),o.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(l,c,d,m,v)=>{this._emitInputEvent(o.priorityIndex+1,l,c,d,v,m)},setPointerCapture:(l,c)=>{this._setPointerCapture(s,o,l,c)},setEventCallback:l=>{o.eventCallback=l},setUninstallCallback:l=>{o.uninstallCallback=l},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(e){const i=this._nameToGroup[e];i?(i.handlers.forEach(r=>{var s;r.removed=!0,(s=r.uninstallCallback)==null||s.call(r)}),delete this._nameToGroup[e],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):se.getLogger(this).error("There is no InputHandler group registered under the name `"+e+"`")}hasHandlers(e){return this._nameToGroup[e]!==void 0}isModifierKeyDown(e){return this._activeKeyModifiers.has(e)}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const e=new Set,i=new Set;this._handlersPriority=[];for(let r=this._handlers.length-1;r>=0;r--){const s=this._handlers[r];s.priorityIndex=r,this._handlersPriority.push(s)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let r=this._handlersPriority.length-1;r>=0;r--){const s=this._handlersPriority[r];s.priorityIndex=r;let n=s.handler.hasSideEffects;if(!n){for(const o of s.handler.outgoingEventTypes)if(e.has(o)){n=!0;break}}if(n)for(const o of s.handler.incomingEventMatches){e.add(o.eventType);for(const l of o.keyModifiers)BEe(l)||i.add(l)}s.active=n}this._sourceEvents=e,this._keyModifiers=i,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(e,i,r,s){const n=this._latestPointerInfo;if(n==null||n.id!==e||n.type!==i||n.location.x!==r||n.location.y!==s){const o=this._propertiesPool.get("latestPointerInfo");o.id=e,o.type=i,o.location.x=r,o.location.y=s,this._latestPointerInfo=o}}_onEventReceived(e,i){var n,o;if(e==="pointer-capture-lost"){const l=i;this._pointerCaptures.delete(l.native.pointerId)}this._updateKeyModifiers(e,i);const r=this._testTimestamp??((n=i.native)==null?void 0:n.timestamp),s=(o=i.native)==null?void 0:o.cancelable;this._emitInputEventFromSource(e,i,r,s)}_updateKeyModifiers(e,i){if(!i)return;let r=!1;const s=()=>{r||(this._activeKeyModifiers=new Set(this._activeKeyModifiers),r=!0)},n=(l,c)=>{c&&!this._activeKeyModifiers.has(l)?(s(),this._activeKeyModifiers.add(l)):!c&&this._activeKeyModifiers.has(l)&&(s(),this._activeKeyModifiers.delete(l))};if(e==="key-down"||e==="key-up"){const l=i.key;this._keyModifiers.has(l)&&n(l,e==="key-down")}const o=i.native;n("Alt",!!(o!=null&&o.altKey)),n("Control",!!(o!=null&&o.ctrlKey)),n("Ctrl",!!(o!=null&&o.ctrlKey)),n("Shift",!!(o!=null&&o.shiftKey)),n("Meta",!!(o!=null&&o.metaKey)),n("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new ZEe((e,i,r,s)=>this._setLatestPointer(e,i,r,s)),this._multiTouchHandler=new JEe,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],ou.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,ou.INTERNAL)}_setPointerCapture(e,i,r,s){const n=e.name+"-"+i.priorityIndex,o=this._pointerCaptures.get(r.pointerId)||new Set;this._pointerCaptures.set(r.pointerId,o),s?(o.add(n),o.size===1&&this.eventSource&&this.eventSource.setPointerCapture(r,!0)):o.has(n)&&(o.delete(n),o.size===0&&(this._pointerCaptures.delete(r.pointerId),this.eventSource&&this.eventSource.setPointerCapture(r,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(e=>!e.removed),this.updateDependencies()}_emitInputEventFromSource(e,i,r,s){this._emitInputEvent(0,e,i,r,s)}_emitInputEvent(e,i,r,s,n,o){var m;const l=s??((m=this._currentPropagation)==null?void 0:m.timestamp)??performance.now(),c=n??!1,d={event:new QEe(i,r,l,o||this._activeKeyModifiers,c),priorityIndex:e};this._currentPropagation?this._currentPropagation.events.push(d):this._doNewPropagation(d)}_doNewPropagation(e){this._currentPropagation={events:new X1,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:e.event.timestamp},this._currentPropagation.events.push(e),this._continuePropagation()}_continuePropagation(){var i,r,s;this._paused=!1;const e=this._currentPropagation;if(e){for(;e.events.length>0;){const{event:n,priorityIndex:o}=e.events.pop(),l=(i=n.data)==null?void 0:i.eventId;if(!(l!=null&&this._stoppedPropagationEventIds.has(l)))for(e.currentHandler=this._handlersPriority[o];e.currentHandler;){if(e.currentHandler.removed)e.needsHandlerGarbageCollect=!0;else{if(e.currentHandler.active&&!n.shouldStopPropagation()&&((s=(r=e.currentHandler).eventCallback)==null||s.call(r,n)),n.shouldStopPropagation()){l!=null&&this._stoppedPropagationEventIds.add(l);break}if(n.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:n,priorityIndex:e.currentHandler.priorityIndex+1})}e.currentHandler=this._handlersPriority[e.currentHandler.priorityIndex+1]}}e.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(e){const i=new X1;i.push(e);const r=this._currentPropagation;if(r){for(;r.events.length;)i.push(r.events.pop());r.events=i,r.currentHandler=null,this._paused=!0}}_compareHandlerPriority(e,i){if(e.handler.hasSideEffects!==i.handler.hasSideEffects)return e.handler.hasSideEffects?1:-1;if(e.groupPriority!==i.groupPriority)return e.groupPriority>i.groupPriority?-1:1;for(const r of e.handler.incomingEventMatches)for(const s of i.handler.incomingEventMatches){if(r.eventType!==s.eventType)continue;const n=r.keyModifiers.filter(o=>s.keyModifiers.includes(o));if(n.length===r.keyModifiers.length!=(n.length===s.keyModifiers.length))return r.keyModifiers.length>s.keyModifiers.length?-1:1}return e.priorityIndex>i.priorityIndex?-1:1}_sortHandlersPriority(e){const i=[];for(const r of e){let s=0;for(;s<i.length&&this._compareHandlerPriority(r,i[s])>=0;)s++;i.splice(s,0,r)}return i}get test(){}};h([f({readOnly:!0})],Io.prototype,"hasPendingInputs",null),h([f({constructOnly:!0})],Io.prototype,"eventSource",void 0),h([f({constructOnly:!0})],Io.prototype,"recognizers",void 0),h([f()],Io.prototype,"multiTouchActive",null),h([f()],Io.prototype,"_latestPointerInfo",void 0),h([f()],Io.prototype,"latestPointerInfo",null),h([f()],Io.prototype,"_paused",void 0),h([f({readOnly:!0})],Io.prototype,"updating",null),Io=h([I("esri.views.input.InputManager")],Io);let QEe=class{constructor(e,i,r,s,n){this.type=e,this.data=i,this.timestamp=r,this.modifiers=s,this.cancelable=n,this._propagationState=0,this._resumeCallback=null}stopPropagation(){this._propagationState|=1}shouldStopPropagation(){return!!(1&this._propagationState)}defer(e){this._propagationState|=2;const i=(r,s)=>{this._propagationState&=-3;const n=this._resumeCallback;if(this._resumeCallback=null,n&&n(),s)throw r;return r};return(typeof e=="function"?e():e).then(r=>i(r,!1),r=>i(r,!0))}shouldPausePropagation(e){return!!(2&this._propagationState)&&(this._resumeCallback=e,!0)}preventDefault(){this.data.native.preventDefault()}};const ou={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3},eAe=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){this.addHandles([Le(()=>[this.ui,this.popup,this.popupElement],([r,s,n],o)=>{const[l,c,d]=o??[];VEe(this,[r,s,n],[l,c,d])},qr),this.on("click",r=>{this.popup&&this.popupEnabled&&(r.pointerType!=="mouse"||r.button===0)&&FEe(this,r)},ou.WIDGET)]),h6(()=>this.ready&&this.popupEnabled&&!this.updating).then(()=>te(()=>import("./Popup-ChgBAmCo.js").then(r=>r.P),__vite__mapDeps([194,195,24,196,197,198,199,34,200,201,202,77,75,76,12,11,13,78,7,18,19,203,204,205,206,175,180,207,208,209,210,211,181,212,213,214,189,16,215,216,217,218])))}destroy(){this.destroyed||this.closePopup()}async openPopup(r){if(nu(this.popup))return this.popup.open(r);if(this.popupElement&&Xc(this.popupElement))this.popupElement.open(r).catch(()=>{});else try{if(await this.setupPopup(),!this.popup)return void se.getLogger(this).error(new B("view:null-popup","Popup is null and can't be opened"));zEe(this,r)}catch{}}closePopup(){var r;(r=this._popupSetupTask)==null||r.abort(),UEe(this.popup,this.popupElement)}async fetchPopupFeatures(r,s){return await this.when(),this._popupHitsToFeatures(await this._getPopupHits(r,s),s)}async setupPopup(){var r;if((r=this._popupSetupTask)==null||r.abort(),this.popup&&!nu(this.popup))return this._popupSetupTask=LT(async s=>{if(!this.popupEnabled||!Xc(this.popupElement))if(this.dependencies.popup&&typeof this.dependencies.popup=="function")await this.dependencies.popup(),Gt(s),customElements.get("arcgis-popup")||se.getLogger(this).error(new B("view:undefined-popup-element","`arcgis-popup` custom element is undefined and can't be opened")),this.popupElement=document.createElement("arcgis-popup");else{const{default:n}=await te(()=>import("./Popup-ChgBAmCo.js").then(l=>l.P),__vite__mapDeps([194,195,24,196,197,198,199,34,200,201,202,77,75,76,12,11,13,78,7,18,19,203,204,205,206,175,180,207,208,209,210,211,181,212,213,214,189,16,215,216,217,218]));if(Gt(s),!this.popup||nu(this.popup))return;const o=this.popup;if("open"in o||"close"in o){const{open:l,close:c,...d}=o;this.popup=new n({...d})}else this.popup=new n(o)}}),this._popupSetupTask.promise}async _popupHitsToFeatures({location:r,hits:s},n){const o=[],l=[];let c=!1;const d=Zhe(n,q("popup-view-fetch-timeout")??iAe),m=_=>{const x=new tAe(_);return l.push(x),o.push(x.promise),x},v=_=>{const x=l.at(-1);return x&&x.layerView===_&&!c?x:m(_)};for(const _ of s)"graphic"in _?(v(_.layerView).graphics.push(_.graphic),c=!1):(o.push(_.layerView.fetchPopupFeaturesAtLocation(_.mapPoint,d)),c=!0);l.forEach(_=>_.resolve(d));const w=Whe(o).then(_=>_.filter(x=>!!x).flat());return{pendingFeatures:o,allGraphicsPromise:w,location:r}}async _getPopupHits(r,s){const{hits:n,location:o}=await this.popupHitTest(r);Gt(s);const l=[];for(const c of n)if("graphic"in c){if(this._isValidPopupGraphic(c.graphic,s)){const d=this._isValidPopupGraphicsLayerView(c.layerView)?c.layerView:void 0;l.push({graphic:c.graphic,layerView:d})}}else this._isValidPopupLocationLayerView(c.layerView)&&l.push({mapPoint:c.mapPoint,layerView:c.layerView});return{hits:l,location:o}}_isValidPopupGraphic(r,s){return r&&!!r.getEffectivePopupTemplate(s==null?void 0:s.defaultPopupTemplateEnabled)}_isValidPopupGraphicsLayerView(r){return!r||(!("layer"in r)||!r.suspended)&&"fetchPopupFeaturesFromGraphics"in r}_isValidPopupLocationLayerView(r){return(!("layer"in r)||!r.suspended)&&"fetchPopupFeaturesAtLocation"in r}};return h([f()],i.prototype,"popup",void 0),h([f()],i.prototype,"popupElement",void 0),h([f()],i.prototype,"popupEnabled",void 0),i=h([I("esri.views.PopupView")],i),i};let tAe=class{constructor(e){this.layerView=e,this._resolver=bn(),this.graphics=[]}get promise(){return this._resolver.promise}resolve(e){const{layerView:i,graphics:r,_resolver:s}=this;if(!i)return s.resolve(r),s.promise;let n;return i.fetchPopupFeaturesFromGraphics(r,e).catch(o=>(n=o,null)).then(o=>{o?s.resolve(o):s.reject(n)}),s.promise}};const iAe=5e3;var Iv;const Ex=wr()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),JX=Ex.jsonValues.slice();HE(JX,"orthometric");const b1=wr()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let Ns=Iv=class extends ae{constructor(t){super(t),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(t,e,i){return Ex.write(t,e,i)}readHeightModel(t,e,i){return Ex.read(t)||(i!=null&&i.messages&&i.messages.push(rAe(t,{context:i})),null)}readHeightUnit(t,e,i){return b1.read(t)||(i!=null&&i.messages&&i.messages.push(LV(t,{context:i})),null)}readHeightUnitService(t,e,i){return HR(t)||b1.read(t)||(i!=null&&i.messages&&i.messages.push(LV(t,{context:i})),null)}readVertCRS(t,e){return e.vertCRS||e.ellipsoid||e.geoid}clone(){return new Iv({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(t){return!!t&&(this===t||this.heightModel===t.heightModel&&this.heightUnit===t.heightUnit&&this.vertCRS===t.vertCRS)}static deriveUnitFromSR(t,e){const i=OZ(e);return new Iv({heightModel:t.heightModel,heightUnit:i??void 0,vertCRS:t.vertCRS})}write(t,e){return e={origin:"web-scene",...e},super.write(t,e)}static fromJSON(t){if(!t)return null;const e=new Iv;return e.read(t,{origin:"web-scene"}),e}};function LV(t,e){return new lo("height-unit:unsupported",`Height unit of value '${t}' is not supported`,e)}function rAe(t,e){return new lo("height-model:unsupported",`Height model of value '${t}' is not supported`,e)}h([f({type:Ex.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:JX,default:"ellipsoidal",write:{isRequired:!0}}}}})],Ns.prototype,"heightModel",void 0),h([_e("web-scene","heightModel")],Ns.prototype,"writeHeightModel",null),h([Ie(["web-scene","service"],"heightModel")],Ns.prototype,"readHeightModel",null),h([f({type:b1.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:b1.jsonValues,write:{writer:b1.write,isRequired:!0}}}}})],Ns.prototype,"heightUnit",void 0),h([Ie("web-scene","heightUnit")],Ns.prototype,"readHeightUnit",null),h([Ie("service","heightUnit")],Ns.prototype,"readHeightUnitService",null),h([f({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],Ns.prototype,"vertCRS",void 0),h([Ie("service","vertCRS",["vertCRS","ellipsoid","geoid"])],Ns.prototype,"readVertCRS",null),Ns=Iv=h([I("esri.geometry.HeightModelInfo")],Ns);let _1=class extends v1{_own(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}_release(e){e.layer===this.owner&&(e.layer=null)}};h([mG({Type:er,ensureType:nr(er)})],_1.prototype,"itemType",void 0),_1=h([I("esri.support.GraphicsCollection")],_1);let Ml=class extends $e{constructor(e){super(e),this.view=null,this.baseLayerViews=new ge,this.groundLayerViews=new ge,this.referenceLayerViews=new ge,this._loadingHandle=Le(()=>{var i,r;return(r=(i=this.view)==null?void 0:i.map)==null?void 0:r.basemap},i=>{i&&i.load().catch(()=>{})},Qr)}destroy(){this._set("view",null),this._loadingHandle=Dt(this._loadingHandle),this.baseLayerViews.destroyAll(),this.groundLayerViews.destroyAll(),this.referenceLayerViews.destroyAll()}get suspended(){var e;return((e=this.view)==null?void 0:e.suspended)??!0}get updating(){var i,r,s;if((i=this.view)!=null&&i.suspended)return!1;const e=(s=(r=this.view)==null?void 0:r.map)==null?void 0:s.basemap;return!!(e!=null&&e.loaded)&&(this.baseLayerViews.some(n=>n.updating)||this.groundLayerViews.some(n=>n.updating)||this.referenceLayerViews.some(n=>n.updating))}};h([f({constructOnly:!0})],Ml.prototype,"view",void 0),h([f({readOnly:!0})],Ml.prototype,"baseLayerViews",void 0),h([f({readOnly:!0})],Ml.prototype,"groundLayerViews",void 0),h([f({readOnly:!0})],Ml.prototype,"referenceLayerViews",void 0),h([f({readOnly:!0})],Ml.prototype,"suspended",null),h([f({type:Boolean,readOnly:!0})],Ml.prototype,"updating",null),Ml=h([I("esri.views.BasemapView")],Ml);const sAe=Ml;let un=class extends $e{constructor(e){super(e),this.factor=1.5,this.offset=rr(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};h([f({type:Number})],un.prototype,"factor",void 0),h([f({nonNullable:!0})],un.prototype,"offset",void 0),h([f()],un.prototype,"position",void 0),h([f({type:Number,range:{min:0}})],un.prototype,"size",void 0),h([f()],un.prototype,"maskUrl",void 0),h([f()],un.prototype,"maskEnabled",void 0),h([f()],un.prototype,"overlayUrl",void 0),h([f()],un.prototype,"overlayEnabled",void 0),h([f({readOnly:!0})],un.prototype,"version",null),h([f({type:Boolean})],un.prototype,"visible",void 0),un=h([I("esri.views.Magnifier")],un);const KX=un;let Wm=class{constructor(e){this._observable=new $w,this._map=new Map(e)}get size(){return je(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(e){const i=this._map.delete(e);return i&&this._observable.notify(),i}entries(){return je(this._observable),this._map.entries()}forEach(e,i){je(this._observable),this._map.forEach((r,s)=>e.call(i,r,s,this),i)}get(e){return je(this._observable),this._map.get(e)}has(e){return je(this._observable),this._map.has(e)}keys(){return je(this._observable),this._map.keys()}set(e,i){return this._map.set(e,i),this._observable.notify(),this}values(){return je(this._observable),this._map.values()}[Symbol.iterator](){return je(this._observable),this._map[Symbol.iterator]()}[Symbol.dispose](){this._observable.destroy()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}};function Zu(t){return!(t==null||typeof t!="object"||!("createQuery"in t)||!t.createQuery)}let Gn=class extends dg{constructor(e){super(e),this._selectionMap=new Wm,this._sources=new ge,this._trashCan=[],this._layerEditHandles=new ge,this._vizTaskId=0,this.view=null,this.showHighlight=!0,this.highlightName="default"}initialize(){this.addHandles([Le(()=>[this.view,this.showHighlight],()=>this._refreshVisualization()),Le(()=>this.view,e=>{e==null||e.when().then(()=>this.syncSources())},Qr),yp(()=>this.sources,"change",e=>{var s;const i=this._selectionMap,r=[];for(const n of e.removed){const o=i.get(n);o&&(i.delete(n),(s=o.highlightHandle)==null||s.remove(),r.push({layer:n,selection:[],added:[],removed:[...o.selection]}))}this._refreshListeners(),r.length&&this._onSelectionChange(r)},{onListenerAdd:()=>this._refreshListeners()})])}destroy(){this.clear(),this._layerEditHandles.drain(Dt)}get selections(){return Array.from(this._selectionMap.entries()).map(e=>{const[i,r]=e;return{layer:i,selection:[...r.selection]}})}get count(){let e=0;for(const i of this._selectionMap.values())e+=i.selection.length;return e}get hasSelection(){return this.count>0}get sources(){return this._sources}set sources(e){Da(e,this._sources)}syncSources(){var s;const e=new Set,i=(s=this.view)==null?void 0:s.map;if(!i)return;const r=n=>{var o,l,c,d,m;nxe(n)?((o=n.layers)==null||o.forEach(r),(l=n.tables)==null||l.forEach(r)):sxe(n)?((c=n.sublayers)==null||c.forEach(r),(d=n.subtables)==null||d.forEach(r)):u9(n)?(m=n.sublayers)==null||m.forEach(r):Zu(n)&&e.add(n)};i.allLayers.forEach(r),i.allTables.forEach(r),this.sources=[...e]}async getSelectedFeatures(e,i={},r="layerView"){const{view:s,selections:n}=this;if(!s&&r==="layerView")return se.getLogger(this).warn("Cannot query layer views without a view."),[];const o=(e!=null&&e.length?n.filter(l=>e.includes(l.layer)):n).map(async l=>{const{layer:c,selection:d}=l;if(!d.length)return;const m=Zf(c)?c.parent:c;if(m!=null){if(s&&r==="layerView"&&!VV(m)&&FV(m)){const v=await s.whenLayerView(m).catch(()=>null);if(v)return zV(v,d,i)}return zV(m,d,i)}}).filter(qc);return(await Promise.all(o)).filter(qc)}updateSelection(e){const i=new Map;for(const[n,o]of this._selectionMap)i.set(n,[...o.selection]);let r=!1;const s=e.current.concat(e.added);for(const n of s){const o=n.sourceLayer,l=n.getObjectId();if(this.sources.includes(o)&&(Zu(o)||Zf(o))&&l!==null){const c=cg(i,o,()=>[]);c.includes(l)||(c.push(l),r=!0)}}for(const n of e.removed){const o=n.sourceLayer,l=n.getObjectId();if(this.sources.includes(o)&&(Zu(o)||Zf(o))&&l!==null){const c=i.get(o),d=c==null?void 0:c.indexOf(l);d!==void 0&&d>=0&&(c==null||c.splice(d,1),r=!0)}}if(r){const{_selectionMap:n,_trashCan:o}=this,l=[];for(const[c,d]of i){const m=n.get(c);m!==void 0&&o.push(m),n.set(c,{selection:d}),l.push({layer:c,selection:d,...g8(m!==void 0?m.selection:[],d)})}this._onSelectionChange(l)}}setSelection(e,i){this._setSelection(e,i)}getSelection(e){const i=this._selectionMap.get(e);return i==null?void 0:i.selection}appendToSelection(e,i){const r=this._selectionMap.get(e),s=r!==void 0?[...r.selection]:[];for(const n of i)s.includes(n)||s.push(n);this._setSelection(e,s)}removeFromSelection(e,i){const r=this._selectionMap.get(e);if(!r)return;const s=[];for(const n of r.selection)i.includes(n)||s.push(n);this._setSelection(e,s)}toggleInSelection(e,i){const r=this._selectionMap.get(e);if(!r||r.selection.length===0)return void this._setSelection(e,i);const s=new Set(r.selection),n=new Set(i),o=ude(s,n);this._setSelection(e,Array.from(o))}clear(){const e=this._selectionMap.values();this._trashCan.push(...e);const i=[];for(const[r,s]of this._selectionMap.entries())i.push({layer:r,added:[],removed:[...s.selection],selection:[]});this._selectionMap.clear(),this._onSelectionChange(i)}_onSelectionChange(e){this._refreshVisualization(),this.emit("selection-change",{view:this.view,changes:e})}_refreshVisualization(){var o;for(this._vizTaskId++;this._trashCan.length>0;){const l=this._trashCan.pop();(o=l==null?void 0:l.highlightHandle)==null||o.remove()}if(this.view==null)return;const{sources:e,view:i,_selectionMap:r,showHighlight:s}=this,n=this._vizTaskId;for(const l of e){const c=r.get(l),d=Zf(l)?l.parent:l;if(d!=null&&FV(d)){if(VV(d))continue;i.whenLayerView(d).then(m=>{var v;(v=c==null?void 0:c.highlightHandle)==null||v.remove(),c!=null&&s&&n===this._vizTaskId&&"highlight"in m&&typeof m.highlight=="function"&&c.selection.length>0&&(c.highlightHandle=m.highlight(c.selection,this.highlightName))}).catch(()=>{var m;(m=c==null?void 0:c.highlightHandle)==null||m.remove()})}}}_refreshListeners(){this._layerEditHandles.drain(Dt);const e=new Set(this.sources.map(i=>Zf(i)?i.parent:i));for(const i of e)Zu(i)&&"on"in i&&i.on&&this._layerEditHandles.push(i.on("edits",r=>this._onLayerEdit(r,i)))}_onLayerEdit(e,i){if(u9(i))this._onParentLayerEdit(e,i);else if(e.deletedFeatures.length&&this._selectionMap.has(i)){const r=[];e.deletedFeatures.forEach(({error:s,objectId:n})=>{n!=null&&s==null&&r.push(n)}),this.removeFromSelection(i,r)}}_onParentLayerEdit(e,i){var o;const{deletedFeatures:r,edits:s,updatedFeatures:n}=e;if((o=s==null?void 0:s.updateFeatures)==null||o.forEach(l=>{var v;const c=l.getObjectId()??l.attributes[i.objectIdField];if(c==null||(v=n.find(w=>w.objectId===c))!=null&&v.error)return;const d=i.findSublayerForFeature(l);if(!Zu(d))return;const m=i.sublayers.find(w=>{var _;return!(!Zu(w)||!((_=this.getSelection(w))!=null&&_.includes(c)))});Zu(m)&&m!==d&&(this.removeFromSelection(m,[c]),this.appendToSelection(d,[c]))}),r.length){const l=[];r.forEach(({error:c,objectId:d})=>{d!=null&&c==null&&l.push(d)}),i.sublayers.forEach(c=>{Zu(c)&&this._selectionMap.has(c)&&this.removeFromSelection(c,l)})}}_setSelection(e,i){if(!this.sources.includes(e))throw new Error(`Cannot set selection on layer ${e.title} because it is not in 'sources'`);const r=this._selectionMap.get(e);if(r===void 0||!oAe(r,{selection:i})){r!==void 0&&this._trashCan.push(r),this._selectionMap.set(e,{selection:[...i]});const s={layer:e,selection:[...i],...g8(r!==void 0?r.selection:[],i)};this._onSelectionChange([s])}}};h([f()],Gn.prototype,"_selectionMap",void 0),h([f()],Gn.prototype,"_sources",void 0),h([f({readOnly:!0,nonNullable:!0})],Gn.prototype,"selections",null),h([f({readOnly:!0,nonNullable:!0})],Gn.prototype,"count",null),h([f()],Gn.prototype,"view",void 0),h([f({readOnly:!0,nonNullable:!0})],Gn.prototype,"hasSelection",null),h([f()],Gn.prototype,"showHighlight",void 0),h([f()],Gn.prototype,"sources",null),h([f()],Gn.prototype,"highlightName",void 0),Gn=h([I("esri.views.SelectionManager")],Gn);const VV=t=>{var e;return Zf(t)?((e=t.parent)==null?void 0:e.isTable)===!0:t.isTable},nAe=t=>t.layer!==void 0,FV=t=>(t==null?void 0:t.when)!==void 0,oAe=(t,e)=>{if(t==null&&e==null)return!0;if(t!=null&&e==null||t==null&&e!=null)return!1;if(t!=null&&e!=null&&t.selection!=null&&e.selection!=null){const i=[...t.selection],r=[...e.selection];if(i.length!==r.length)return!1;i.sort(),r.sort();for(let s=0;s<i.length;s++)if(i[s]!==r[s])return!1}return!0},zV=async(t,e,i={})=>{let r;if(nAe(t)){const s=t;r=s===void 0?null:await s.queryFeatures(new xe({...i,objectIds:e})).then(n=>({data:n,layer:t.layer}))}else{const s=t;r=s===void 0?null:await s.queryFeatures(new xe({...i,objectIds:e})).then(n=>({data:n,layer:s}))}return r},aAe=Gn;let Pv=class extends rt($e){constructor(e){super(e),this.accentColor=new Ne([255,127,0]),this.textColor=new Ne([255,255,255])}};h([f({type:Ne,nonNullable:!0})],Pv.prototype,"accentColor",void 0),h([f({type:Ne,nonNullable:!0})],Pv.prototype,"textColor",void 0),Pv=h([I("esri.views.Theme")],Pv);const kk=Pv,XX=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],QX={};function eQ(t){return!!QX[t]}function lAe(t){for(const e of t)if(!eQ(e))return!1;return!0}XX.forEach(t=>{QX[t]=!0});let tQ=class{constructor(e){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=e,this.inputManager=null}connect(e){e&&this.disconnect(),this.inputManager=e,this._handlers.forEach(({handler:i,priority:r},s)=>{var n;return(n=this.inputManager)==null?void 0:n.installHandlers(s,[i],r)})}disconnect(){this.inputManager&&this._handlers.forEach((e,i)=>{var r;return(r=this.inputManager)==null?void 0:r.uninstallHandlers(i)}),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(e,i,r,s){const n=Array.isArray(e)?e:e.split(",");if(!lAe(n))return n.some(eQ)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let o,l;Array.isArray(i)?l=i:(o=i,l=[]),typeof r=="function"?o=r:s=r,s=s??ou.DEFAULT;const c=this._createUniqueGroupName(),d=new uAe(this.view,n,l,o);this._handlers.set(c,{handler:d,priority:s});for(const m of n){const v=this._handlerCounts.get(m)||0;this._handlerCounts.set(m,v+1)}return this.inputManager&&this.inputManager.installHandlers(c,[d],s),at(()=>this._removeHandler(c,n))}hasHandler(e){return!!this._handlerCounts.get(e)}_removeHandler(e,i){if(this._handlers.has(e)){this._handlers.delete(e);for(const r of i){const s=this._handlerCounts.get(r);s===void 0||(s===1?this._handlerCounts.delete(r):this._handlerCounts.set(r,s-1))}}this.inputManager&&this.inputManager.uninstallHandlers(e)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}},uAe=class extends or{constructor(e,i,r,s){super(!0),this._latestDragStart=void 0,this.view=e;for(const n of i)switch(n){case"click":this.registerIncoming("click",r,o=>s(dAe(e,o)));break;case"double-click":this.registerIncoming("double-click",r,o=>s(pAe(e,o)));break;case"immediate-click":this.registerIncoming("immediate-click",r,o=>s(fAe(e,o)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",r,o=>s(mAe(e,o)));break;case"hold":this.registerIncoming("hold",r,o=>s(yAe(e,o)));break;case"drag":this.registerIncoming("drag",r,o=>{const l=this._wrapDrag(o);l&&s(l)});break;case"key-down":this.registerIncoming("key-down",r,o=>s(gAe(o)));break;case"key-up":this.registerIncoming("key-up",r,o=>s(vAe(o)));break;case"pointer-down":this.registerIncoming("pointer-down",r,o=>s(G0(o,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",r,o=>s(G0(o,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",r,o=>s(G0(o,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",r,o=>s(wAe(o)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",r,o=>s(bAe(o)));break;case"pointer-enter":this.registerIncoming("pointer-enter",r,o=>s(G0(o,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",r,o=>s(G0(o,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",r,o=>{s(_Ae(o))});break;case"focus":this.registerIncoming("focus",r,o=>{s(cAe(o))});break;case"blur":this.registerIncoming("blur",r,o=>{s(hAe(o))})}}_wrapDrag(e){const i=e.data,{x:r,y:s}=i.center,{action:n,pointerType:o,button:l}=i;if(n==="start"&&(this._latestDragStart=i),!this._latestDragStart)return;const c=i.pointer.native,d=i.buttons,{cancelable:m,timestamp:v}=e,w={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return n==="end"&&(this._latestDragStart=void 0),{type:"drag",action:n,x:r,y:s,origin:w,pointerType:o,button:l,buttons:d,radius:i.radius,angle:_W(i.angle),native:c,timestamp:v,cancelable:m,stopPropagation:()=>e.stopPropagation(),defer:_=>e.defer(_),preventDefault:()=>e.preventDefault()}}};function cAe(t){return{type:"focus",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),defer:e=>t.defer(e),preventDefault:()=>t.preventDefault()}}function hAe(t){return{type:"blur",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),defer:e=>t.defer(e),preventDefault:()=>t.preventDefault()}}function dAe(t,e){const{pointerType:i,button:r,buttons:s,x:n,y:o,native:l,eventId:c}=e.data,{cancelable:d,timestamp:m}=e;return{type:"click",pointerType:i,button:r,buttons:s,x:n,y:o,native:l,timestamp:m,screenPoint:rr(n,o),mapPoint:Gw(t,n,o),eventId:c,cancelable:d,stopPropagation:()=>e.stopPropagation(),defer:v=>e.defer(v),preventDefault:()=>e.preventDefault()}}function pAe(t,e){const{pointerType:i,button:r,buttons:s,x:n,y:o,native:l,eventId:c}=e.data,{cancelable:d,timestamp:m}=e;return{type:"double-click",pointerType:i,button:r,buttons:s,x:n,y:o,native:l,timestamp:m,mapPoint:Gw(t,n,o),eventId:c,cancelable:d,stopPropagation:()=>e.stopPropagation(),defer:v=>e.defer(v),preventDefault:()=>e.preventDefault()}}function fAe(t,e){const{pointerType:i,button:r,buttons:s,x:n,y:o,native:l,eventId:c}=e.data,d=l.pointerId,{cancelable:m,timestamp:v}=e;return{type:"immediate-click",pointerId:d,pointerType:i,button:r,buttons:s,x:n,y:o,native:l,timestamp:v,mapPoint:Gw(t,n,o),eventId:c,cancelable:m,stopPropagation:()=>e.stopPropagation(),defer:w=>e.defer(w),preventDefault:()=>e.preventDefault()}}function mAe(t,e){const{pointerType:i,button:r,buttons:s,x:n,y:o,native:l,eventId:c}=e.data,d=l.pointerId,{cancelable:m,timestamp:v}=e;return{type:"immediate-double-click",pointerId:d,pointerType:i,button:r,buttons:s,x:n,y:o,native:l,timestamp:v,mapPoint:Gw(t,n,o),eventId:c,cancelable:m,stopPropagation:()=>e.stopPropagation(),defer:w=>e.defer(w),preventDefault:()=>e.preventDefault()}}function yAe(t,e){const{pointerType:i,button:r,buttons:s,x:n,y:o,native:l}=e.data,{cancelable:c,timestamp:d}=e;return{type:"hold",pointerType:i,button:r,buttons:s,x:n,y:o,native:l,timestamp:d,mapPoint:Gw(t,n,o),cancelable:c,stopPropagation:()=>e.stopPropagation(),defer:m=>e.defer(m),preventDefault:()=>e.preventDefault()}}function Gw(t,e,i){return t.toMap(rr(e,i),{exclude:[]})}function gAe(t){const{key:e,repeat:i,native:r}=t.data,{cancelable:s,timestamp:n}=t;return{type:"key-down",key:e,repeat:i,native:r,timestamp:n,cancelable:s,stopPropagation:()=>t.stopPropagation(),defer:o=>t.defer(o),preventDefault:()=>t.preventDefault()}}function vAe(t){const{key:e,native:i}=t.data,{cancelable:r,timestamp:s}=t;return{type:"key-up",key:e,native:i,timestamp:s,cancelable:r,stopPropagation:()=>t.stopPropagation(),defer:n=>t.defer(n),preventDefault:()=>t.preventDefault()}}function G0(t,e){const{x:i,y:r,button:s,buttons:n,native:o,eventId:l}=t.data,c=o.pointerId,d=o.pointerType,{cancelable:m,timestamp:v}=t;return{type:e,x:i,y:r,pointerId:c,pointerType:d,button:s,buttons:n,native:o,timestamp:v,eventId:l,cancelable:m,stopPropagation:()=>t.stopPropagation(),defer:w=>t.defer(w),preventDefault:()=>t.preventDefault()}}function wAe(t){const{x:e,y:i,buttons:r,native:s,eventId:n}=t.data.currentEvent,{button:o}=t.data.startEvent,l=t.data.startEvent.native.pointerId,c=t.data.startEvent.native.pointerType,d=t.data.action,m={x:t.data.startEvent.x,y:t.data.startEvent.y},{cancelable:v,timestamp:w}=t;return{type:"pointer-drag",x:e,y:i,pointerId:l,pointerType:c,button:o,buttons:r,action:d,origin:m,native:s,timestamp:w,eventId:n,cancelable:v,stopPropagation:()=>t.stopPropagation(),defer:_=>t.defer(_),preventDefault:()=>t.preventDefault()}}function bAe(t){const{cancelable:e,data:i,timestamp:r}=t,{x:s,y:n,deltaY:o,native:l}=i;return{type:"mouse-wheel",x:s,y:n,deltaY:o,native:l,timestamp:r,cancelable:e,stopPropagation:()=>t.stopPropagation(),defer:c=>t.defer(c),preventDefault:()=>t.preventDefault()}}function _Ae(t){const{action:e,state:i,device:r}=t.data,{cancelable:s,timestamp:n}=t,{buttons:o,axes:l}=i;return{type:"gamepad",device:r,timestamp:n,action:e,buttons:o,axes:l,cancelable:s,stopPropagation:()=>t.stopPropagation(),defer:c=>t.defer(c),preventDefault:()=>t.preventDefault()}}const SAe="z",xAe="r",iQ={cancel:"Escape",complete:"Enter"},gze={...iQ,redo:xAe,undo:SAe,center:"Alt",constraint:"Shift",delete:["Backspace","Delete"],vertexAdd:"f",pan:" "},vze={toggle:"Control"},wze={enterInputMode:"Tab",commit:"Enter",discard:"Escape",next:"Tab"},bze={moveUp:{key:"ArrowUp",modifier:"Shift",repeats:!0},moveDown:{key:"ArrowDown",modifier:"Shift",repeats:!0},moveLeft:{key:"ArrowLeft",modifier:"Shift",repeats:!0},moveRight:{key:"ArrowRight",modifier:"Shift",repeats:!0},scaleUp:{key:"+",modifier:"Shift"},scaleDown:{key:"-",modifier:"Shift"},factorModifier:{key:YX,continuePropagation:!0},toggleOpacity:"t",preserveAspectRatio:{key:"Shift",continuePropagation:!0},rotateIncrements:{key:"Shift",continuePropagation:!0}};let _ze=class{constructor(){this._bindings=new Map}add(e,i){return this.addToggle(e,r=>{r.type==="key-down"&&i(r)})}addToggle(e,i){const r=TAe.fromDefinition(e,i),s=cg(this._bindings,r.key,()=>[]);return s.push(r),at(()=>UC(s,r))}register(e,i=ou.WIDGET){return xp([e.on("key-down",r=>this.dispatch(e.inputManager,r),i),e.on("key-up",r=>this.dispatch(e.inputManager,r),i)])}dispatch(e,i){const r=i.key,s=this._bindings.get(r);if(s)for(const n of s)n.process(e,i)}},TAe=class Ck{constructor(e,i,r,s,n){this.key=e,this.modifiers=i,this.repeats=r,this.continuePropagation=s,this.callback=n}process(e,i){if(!(i.key!==this.key||"repeat"in i&&i.repeat&&!this.repeats)){for(const r of this.modifiers)if(!e.isModifierKeyDown(r))return;this.continuePropagation||i.stopPropagation(),this.callback(i)}}static fromDefinition(e,i){if(typeof e=="string")return new Ck(e,[],!1,!1,i);const{key:r,modifier:s,repeats:n,continuePropagation:o}=e;return new Ck(r,s?Array.isArray(s)?s:[s]:[],!!n,!!o,i)}};function $Ae(t){return[t.on("before-add",e=>{const i=e.item;if(i==null||t.includes(i))return se.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void e.preventDefault();i.onAdd()}),t.on("after-remove",e=>{const i=e.item;i.active&&(i.view.activeTool=null),i.destroy()})]}function Rk(t){return t.visible&&t.getEditableFlag!=null&&t.getEditableFlag(0)&&t.getEditableFlag(1)}function MAe(t){return t.type==="key-down"&&t.key===iQ.cancel}function ba(t){return rr(t.x,t.y)}function rQ(t,e){var r;const i=(r=t instanceof HTMLElement?t:t.surface)==null?void 0:r.getBoundingClientRect();return i?rr(e.clientX-i.left,e.clientY-i.top):rr(0,0)}function sQ(t,e){return e instanceof Event?rQ(t,e):ba(e)}function nQ(t){if(t instanceof Event)return!0;if(typeof t=="object"&&"type"in t)switch(t.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}let yS=class extends $e{constructor(){super(...arguments),this._pointerLocations=new Map,this._hoveredManipulators=new Wm,this._grabbedManipulators=new Wm,this._draggedManipulators=new Map,this._stopDrag=!1,this._externallyDragging=!1,this._revertToNullActiveTool=!1}get cursor(){return this._cursorFromMap(this._grabbedManipulators,"grabbing")??this._cursorFromMap(this._hoveredManipulators,"pointer")}get hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(e,i){const r=()=>e.stopPropagation();switch(e.type){case"pointer-move":UV(e.pointerType)&&this._pointerLocations.set(e.pointerId,{x:e.x,y:e.y,pointerType:e.pointerType});break;case"drag":this._grabbedManipulators.size>0?this._stopDrag=!0:e.action==="start"?this._externallyDragging=!0:e.action==="end"&&(this._externallyDragging=!1),this._stopDrag&&(r(),e.action==="end"&&(this._stopDrag=!1));break;case"pointer-down":{if(!qV(e))break;const s=ba(e),n=Cf(s,e.pointerType,i.tools);if(n==null)break;const o=n.manipulator,l=n.tool;o==null||l==null||!o.interactive||o.grabbable&&o.grabbableForEvent(e)||!o.grabbing||o.dragging||this._releaseManipulatorBeforeDragging(o,e,i),o!=null&&l!=null&&o.interactive&&o.grabbable&&o.grabbableForEvent(e)&&!o.grabbing&&(this._grabbedManipulators.set(e.pointerId,{manipulator:o,tool:l,start:s,pointerType:e.pointerType}),this._grabbedManipulators.size===1&&i.activeTool==null&&(this._revertToNullActiveTool=!0,i.setActiveTool(n.tool)),o.grabbing=!0,o.events.emit("grab-changed",{action:"start",pointerType:e.pointerType,screenPoint:s}),r());break}case"pointer-up":this._draggedManipulators.has(e.pointerId)||this._handlePointerEnd(e,i);break;case"pointer-drag":{if(!qV(e))break;const s=this._grabbedManipulators.get(e.pointerId),n=s==null?void 0:s.manipulator,o=s==null?void 0:s.tool;if(n==null||o==null)break;const l=ba(e);l.x=_n(l.x,0,i.view.width),l.y=_n(l.y,0,i.view.height);const c=s.start,d=this._draggedManipulators.get(e.pointerId);switch(e.action){case"start":case"update":e.action!=="update"&&this._grabbedManipulators.size!==1||(n.dragging=!0,d?n.events.emit("drag",{action:"update",start:c,screenPoint:l}):n.events.emit("drag",{action:"start",start:c,screenPoint:l,pointerType:e.pointerType}),this._draggedManipulators.set(e.pointerId,{tool:o,manipulator:n,start:c}));break;case"end":n.dragging=!1,d&&n.events.emit("drag",{action:"end",start:c,screenPoint:l}),this._draggedManipulators.delete(e.pointerId),this._handlePointerEnd(e,i)}r();break}case"immediate-click":{const s=ba(e),n=Cf(s,e.pointerType,i.tools);if(!EAe(e)){for(const d of i.tools)if((n==null||n.tool!==d||d.automaticManipulatorSelection)&&d.manipulators){let m=!1;d.manipulators.forEach(({manipulator:v})=>{v.selected&&(v.selected=!1,m=!0)}),m&&d.onManipulatorSelectionChanged&&d.onManipulatorSelectionChanged()}}if(n==null)break;const{manipulator:o,tool:l}=n;if(!o.interactive)break;o.selectable&&l.automaticManipulatorSelection&&(o.selected=!o.selected,l.onManipulatorSelectionChanged&&l.onManipulatorSelectionChanged());const c=e.native.shiftKey;o.events.emit("immediate-click",{screenPoint:s,button:e.button,pointerType:e.pointerType,shiftKey:c,stopPropagation:r}),H5(o,r);break}case"click":{const s=ba(e),n=Cf(s,e.pointerType,i.tools),o=n==null?void 0:n.manipulator;if(o==null||!o.interactive)break;const l=e.native.shiftKey;o.events.emit(e.type,{screenPoint:s,button:e.button,pointerType:e.pointerType,shiftKey:l}),r();break}case"double-click":{const s=ba(e),n=Cf(s,e.pointerType,i.tools),o=n!=null?n.manipulator:null;if(o==null||!o.interactive)break;const l=e.native.shiftKey;o.events.emit("double-click",{screenPoint:s,button:e.button,pointerType:e.pointerType,shiftKey:l,stopPropagation:r}),H5(o,r);break}case"immediate-double-click":{const s=ba(e),n=Cf(s,e.pointerType,i.tools),o=n!=null?n.manipulator:null;if(o==null||!o.interactive)break;const l=e.native.shiftKey;o.events.emit("immediate-double-click",{screenPoint:s,button:e.button,pointerType:e.pointerType,shiftKey:l,stopPropagation:r}),e.pointerType==="mouse"&&H5(o,r);break}}this._onFocusChange(i.tools)}_releaseManipulatorBeforeDragging(e,i,r){e.grabbing=!1,e.events.emit("grab-changed",{action:"end",pointerType:i.pointerType,screenPoint:ba(i)}),this._grabbedManipulators.forEach(({manipulator:s},n)=>{s===e&&this._grabbedManipulators.delete(n)}),this._afterManipulatorRelease(r.setActiveTool)}_handlePointerEnd(e,i){var s;const r=(s=this._grabbedManipulators.get(e.pointerId))==null?void 0:s.manipulator;r!=null&&r.grabbing&&(r.grabbing=!1,r.events.emit("grab-changed",{action:"end",pointerType:e.pointerType,screenPoint:ba(e)}),this._grabbedManipulators.delete(e.pointerId),this._afterManipulatorRelease(i.setActiveTool))}_onFocusChange(e){this._updateFocusedManipulatorTools(e)}_updateFocusedManipulatorTools(e){const i=new Set,r=new Set;this._grabbedManipulators.forEach(({tool:s})=>i.add(s)),this._hoveredManipulators.forEach(({tool:s})=>r.add(s));for(const s of e){s.hasGrabbedManipulators=i.has(s),s.hasHoveredManipulators=r.has(s);const n=this._grabbedManipulators.values(),o=Yce(n,({tool:l})=>l===s);s.firstGrabbedManipulator=o!=null?o.manipulator:null}}clearPointers(e,{tools:i,setActiveTool:r},s=!0,n){const o=(l,c)=>l===e&&(n==null||n===c);this._grabbedManipulators.forEach(({tool:l,manipulator:c,pointerType:d},m)=>{o(l,c)&&(this._grabbedManipulators.delete(m),c.grabbing=!1,c.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:d}))}),this._draggedManipulators.forEach(({tool:l,manipulator:c},d)=>{o(l,c)&&(this._draggedManipulators.delete(d),c.dragging=!1,c.events.emit("drag",{action:"cancel"}))}),s&&this._hoveredManipulators.forEach(({tool:l,manipulator:c},d)=>{o(l,c)&&(this._hoveredManipulators.delete(d),c.hovering=!1)}),this._afterManipulatorRelease(r),this._onFocusChange(i)}updateHoveredStateFromKnownPointers(e){this._pointerLocations.forEach((i,r)=>{this._updateHoveredStateForPointerAtScreenPosition(rr(i.x,i.y),r,i.pointerType,e)})}handleHoverEvent(e,i){const r=e.type;r!=="pointer-up"&&r!=="immediate-click"&&r!=="pointer-move"||!UV(e.pointerType)||(r!=="pointer-up"&&this._externallyDragging?this._clearHoveredManipulatorStates(e.pointerId):this._updateHoveredStateForPointerAtScreenPosition(ba(e),e.pointerId,e.pointerType,i))}_updateHoveredStateForPointerAtScreenPosition(e,i,r,s){var l;let n=Cf(e,r,s);const o=(l=this._hoveredManipulators.get(i))==null?void 0:l.manipulator;n==null||n.manipulator.interactive||(n=null),n!=null&&o===n.manipulator||(o!=null&&(o.hovering=!1),n!=null?(n.manipulator.hovering=!0,this._hoveredManipulators.set(i,n)):this._hoveredManipulators.delete(i),this._onFocusChange(s))}_afterManipulatorRelease(e){this._grabbedManipulators.size===0&&this._revertToNullActiveTool&&(e(null),this._revertToNullActiveTool=!1)}_clearHoveredManipulatorStates(e){this._hoveredManipulators.forEach(({manipulator:i},r)=>{e===r&&(this._hoveredManipulators.delete(e),i.hovering=!1)})}_cursorFromMap(e,i){if(!(e!=null&&e.size))return null;for(const{manipulator:r}of e.values())if(r!=null&&r.interactive){if(r.grabbing&&r.grabCursor)return r.grabCursor;if(r.cursor)return r.cursor}return i}};function Cf(t,e,i){for(const r of i){if(r.manipulators==null||!Rk(r))continue;const s=r.manipulators.intersect(t,e);if(s!=null)return{tool:r,manipulator:s}}return null}function UV(t){return t==="mouse"}function qV(t){return t.pointerType!=="mouse"||t.button===0}function EAe(t){return!!t.native.shiftKey}function H5(t,e){t!=null&&t.consumesClicks&&e()}h([f()],yS.prototype,"cursor",null),yS=h([I("esri.views.interactive.ToolViewManagerManipulatorState")],yS);const BV="attached",W5="tools",AAe=1e3;let _a=class extends $e{constructor(e){super(e),this._updatingHandles=new Jd,this._clock=ag,this._manipulatorState=new yS,this.tools=new ge,this._interacting=!1,this._interactingTimeout=AAe,this._interactingTimeoutHandle=null}initialize(){this.addHandles([this.view.on(XX,e=>{this._handleInputEvent(e)},ou.TOOL),...$Ae(this.tools),this.tools.on("before-add",({item:e})=>{this._updateToolEditableFlag(e)}),this.tools.on("before-remove",({item:e})=>{this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs)}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null,this.tools.drain(e=>e.destroy()),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy(),this._manipulatorState.destroy()}get _manipulatorStateEventArgs(){return{tools:this.tools,activeTool:this.activeTool,setActiveTool:e=>{this.activeTool=e},view:this.view}}set activeTool(e){if(e!=null&&!this.view.ready)return void se.getLogger(this).error("Cannot set active tool while view is not ready.");if(e===this.activeTool)return;const i=this.activeTool;this._set("activeTool",e),i!=null&&i.deactivate(),e!=null&&e.activate(),this._removeIncompleteTools(e);for(const r of this.tools){this._updateToolEditableFlag(r);const s=Rk(r);this.activeTool!=null&&s||this._manipulatorState.clearPointers(r,this._manipulatorStateEventArgs,!s)}}get cursor(){const e=this._manipulatorState.cursor;if(e!=null)return e;for(const i of this.tools)if(i.visible&&i.cursor!=null)return i.cursor;return null}get updating(){return this._updatingHandles.updating||this.tools.some(e=>e.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=Dt(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){this.view.type==="3d"?this.addHandles([Le(()=>{const{state:e}=this.view;return"camera"in e&&e.camera},()=>this._forEachManipulator(e=>e.onViewChange())),this.view.elevationProvider.on("elevation-change",e=>this._forEachManipulator(i=>i.onElevationChange(e)))],BV):this.addHandles(Le(()=>this.view.extent,()=>this._forEachManipulator(e=>e.onViewChange())))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(BV),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(e){for(const i of this.tools)i.manipulators&&i.manipulators.forEach(({manipulator:r})=>e(r,i))}_handleInputEvent(e){let i=!1;const r={...e,stopPropagation:()=>{i=!0,e.stopPropagation()}};if(this.activeTool!=null)this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(r);else for(const s of this.tools)!i&&s.visible&&s.handleInputEvent(r);!i&&MAe(e)&&this.activeTool&&(e.stopPropagation(),e.preventDefault(),this.activeTool.cancel(),this.activeTool=null),this._manipulatorState.handleInputEvent(r,this._manipulatorStateEventArgs),i||this.activeTool==null||this.activeTool.handleInputEventAfter(r),this._manipulatorState.handleHoverEvent(r,this.tools),e.type==="pointer-move"&&(this._manipulatorState.hasFocusedManipulators||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles(W5);for(const e of this.tools){if(e instanceof $e){const i=Le(()=>[e.cursor,e.visible,e.editable],()=>{Rk(e)||this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs)});this.addHandles(i,W5)}e.manipulators&&this.addHandles([e.manipulators.on("after-remove",i=>{this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs,!0,i.item.manipulator)}),e.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this.tools)})],W5)}this._manipulatorState.updateHoveredStateFromKnownPointers(this.tools)}_updateToolEditableFlag(e){var i;(i=e.setEditableFlag)==null||i.call(e,1,this.activeTool==null||e===this.activeTool)}_removeIncompleteTools(e){this.tools.filter(i=>(e==null||i!==e)&&!i.created&&i.removeIncompleteOnCancel).forEach(i=>{this.tools.remove(i)})}get test(){}};h([f({constructOnly:!0,nonNullable:!0})],_a.prototype,"view",void 0),h([f({value:null})],_a.prototype,"activeTool",null),h([f({readOnly:!0,type:ge})],_a.prototype,"tools",void 0),h([f()],_a.prototype,"cursor",null),h([f({readOnly:!0})],_a.prototype,"updating",null),h([f()],_a.prototype,"_interacting",void 0),h([f({readOnly:!0})],_a.prototype,"interacting",null),_a=h([I("esri.views.ToolViewManager")],_a);const OAe=new Ne("cyan"),kAe=1,CAe=.25,RAe=new Ne("black"),IAe=.4,PAe=.2,$ze=.25,oQ="default",jAe="temporary",NAe=new Ne("yellow");var Ik;let cn=Ik=class extends $e{constructor(t){super(t),this.name=oQ,this.color=OAe.clone(),this.haloColor=null,this.haloOpacity=kAe,this.fillOpacity=CAe,this.shadowColor=RAe.clone(),this.shadowOpacity=IAe,this.shadowDifference=PAe,this.haloWidth=2.1,this.haloBlur=.8/this.haloWidth}equals(t){return this.color.equals(t.color)&&(this.haloColor||this.color).equals(t.haloColor||t.color)&&this.haloOpacity===t.haloOpacity&&this.fillOpacity===t.fillOpacity&&this.haloWidth===t.haloWidth&&this.haloBlur===t.haloBlur&&this.shadowColor.equals(t.shadowColor)&&this.shadowOpacity===t.shadowOpacity&&this.shadowDifference===t.shadowDifference}clone(){var t,e;return new Ik({...this,color:this.color.clone(),haloColor:(t=this.haloColor)==null?void 0:t.clone(),shadowColor:(e=this.shadowColor)==null?void 0:e.clone()})}assignFrom(t){var e;this.color=t.color.clone(),this.haloColor=(e=t.haloColor)==null?void 0:e.clone(),this.haloOpacity=t.haloOpacity,this.fillOpacity=t.fillOpacity,this.shadowColor=t.shadowColor.clone(),this.shadowDifference=t.shadowDifference,this.shadowOpacity=t.shadowOpacity,this.haloBlur=t.haloBlur,this.haloWidth=t.haloWidth}};h([f({type:String,constructOnly:!0,nonNullable:!0})],cn.prototype,"name",void 0),h([f({type:Ne,nonNullable:!0})],cn.prototype,"color",void 0),h([f({type:Ne})],cn.prototype,"haloColor",void 0),h([f({nonNullable:!0})],cn.prototype,"haloOpacity",void 0),h([f({nonNullable:!0})],cn.prototype,"fillOpacity",void 0),h([f({type:Ne,nonNullable:!0})],cn.prototype,"shadowColor",void 0),h([f({nonNullable:!0})],cn.prototype,"shadowOpacity",void 0),h([f({nonNullable:!0})],cn.prototype,"shadowDifference",void 0),h([f({nonNullable:!0})],cn.prototype,"haloWidth",void 0),h([f({nonNullable:!0})],cn.prototype,"haloBlur",void 0),cn=Ik=h([I("esri.views.support.HighlightOptions")],cn);const jc=cn;function DAe(){return new(ge.ofType(jc))([new jc({name:oQ}),new jc({name:jAe,color:NAe})])}let em=class extends $e{constructor(e){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",e.mapping==="standard"?this._detectedDeviceType="standard":LAe.test(e.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=e.index}get native(){const e=navigator.getGamepads?navigator.getGamepads():[];return this.nativeIndex!=null&&this.nativeIndex<e.length?e[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return VAe[this.deviceType]}};h([f({nonNullable:!0,readOnly:!0})],em.prototype,"nativeIndex",void 0),h([f({type:String,readOnly:!0})],em.prototype,"deviceType",null),h([f({type:Number,readOnly:!0})],em.prototype,"axisThreshold",null),em=h([I("esri.views.input.gamepad.GamepadInputDevice")],em);const W6=em,LAe=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),VAe={standard:.15,spacemouse:.025,unknown:0};let jv=class extends $e{constructor(e){super(e),this.devices=new ge,this.enabledFocusMode="document"}};h([f({type:ge.ofType(W6),readOnly:!0})],jv.prototype,"devices",void 0),h([f({type:["document","view","none"]})],jv.prototype,"enabledFocusMode",void 0),jv=h([I("esri.views.input.gamepad.GamepadSettings")],jv);const FAe=jv;let gS=class extends $e{constructor(){super(...arguments),this.gamepad=new FAe}};h([f({readOnly:!0})],gS.prototype,"gamepad",void 0),gS=h([I("esri.views.input.Input")],gS);const zAe=gS,Z5=()=>f({type:["pan","rotate","zoom","none"],nonNullable:!0});let pd=class extends $e{constructor(e){super(e),this.dragPrimary="pan",this.dragSecondary="rotate",this.dragTertiary="zoom",this.mouseWheel="zoom"}};h([Z5()],pd.prototype,"dragPrimary",void 0),h([Z5()],pd.prototype,"dragSecondary",void 0),h([Z5()],pd.prototype,"dragTertiary",void 0),h([f({type:["zoom","none"],nonNullable:!0})],pd.prototype,"mouseWheel",void 0),pd=h([I("esri.views.navigation.NavigationActionMap")],pd);const Z6=pd;let nc=class extends $e{constructor(e){super(e),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};h([f({type:Boolean,nonNullable:!0})],nc.prototype,"enabled",void 0),h([f({type:W6})],nc.prototype,"device",void 0),h([f({type:["pan","zoom"],nonNullable:!0})],nc.prototype,"mode",void 0),h([f({type:["forward-down","forward-up"],nonNullable:!0})],nc.prototype,"tiltDirection",void 0),h([f({type:Number,nonNullable:!0})],nc.prototype,"velocityFactor",void 0),nc=h([I("esri.views.navigation.gamepad.GamepadSettings")],nc);const aQ=nc;let oc=class extends $e{constructor(e){super(e),this.actionMap=new Z6,this.browserTouchPanEnabled=!0,this.gamepad=new aQ,this.momentumEnabled=!0}get mouseWheelZoomEnabled(){return this.actionMap.mouseWheel==="zoom"}set mouseWheelZoomEnabled(e){BE(se.getLogger(this),"mouseWheelZoomEnabled",{replacement:"actionMap.mouseWheel",version:"4.32",warnOnce:!0}),this.actionMap.mouseWheel=e?"zoom":"none"}};h([f({type:Z6,nonNullable:!0})],oc.prototype,"actionMap",void 0),h([f({type:Boolean})],oc.prototype,"browserTouchPanEnabled",void 0),h([f({type:aQ,nonNullable:!0})],oc.prototype,"gamepad",void 0),h([f({type:Boolean})],oc.prototype,"momentumEnabled",void 0),h([f({type:Boolean})],oc.prototype,"mouseWheelZoomEnabled",null),oc=h([I("esri.views.navigation.Navigation")],oc);const JT=oc;function Rze(t,e,i){const r=lQ(t),s=e,n=UAe(r,s,i);if(r){const o=Ns.deriveUnitFromSR(r,t.spatialReference).heightUnit;if(!i&&o!==r.heightUnit){const l=new B("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${o})`,{horizontalUnit:o});return new B("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:r,error:l})}}if(!qAe(t)||n===4)return new B("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:r});switch(n){case 1:{const o=(r==null?void 0:r.heightUnit)||"unknown",l=(s==null?void 0:s.heightUnit)||"unknown",c=new B("layerview:incompatible-height-unit",`The vertical units of the layer (${o}) must match the vertical units of the scene (${l})`,{layerUnit:o,sceneUnit:l});return new B("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:s,error:c})}case 2:{const o=(r==null?void 0:r.heightModel)||"unknown",l=(s==null?void 0:s.heightModel)||"unknown",c=new B("layerview:incompatible-height-model",`The height model of the layer (${o}) must match the height model of the scene (${l})`,{layerHeightModel:o,sceneHeightModel:l});return new B("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:s,error:c})}case 3:{const o=(r==null?void 0:r.vertCRS)||"unknown",l=(s==null?void 0:s.vertCRS)||"unknown",c=new B("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${o}) must match the vertical datum of the scene (${l})`,{layerDatum:o,sceneDatum:l});return new B("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:s,error:c})}}return null}function UAe(t,e,i){if(!GV(t)||!GV(e))return 4;if(t==null||e==null)return 0;if(!i&&t.heightUnit!==e.heightUnit)return 1;if(t.heightModel!==e.heightModel)return 2;switch(t.heightModel){case"gravity-related-height":return 0;case"ellipsoidal":return t.vertCRS===e.vertCRS?0:3;default:return 4}}function GV(t){return t==null||t.heightModel!=null&&t.heightUnit!=null}function qAe(t){return"heightModelInfo"in t&&t.heightModelInfo!=null||t.spatialReference!=null||!hQ(t)}function lQ(t){var r;if(t.type==="integrated-mesh-3dtiles"||t.type==="gaussian-splat")return null;const e=t.url?Rw(t.url):void 0;return!(((r=t.spatialReference)==null?void 0:r.vcsWkid)==null&&e!=null&&e.serverType==="ImageServer")&&uQ(t)&&t.heightModelInfo?t.heightModelInfo:hQ(t)?Ns.deriveUnitFromSR(GAe,t.spatialReference):null}function uQ(t){return"heightModelInfo"in t}function cQ(t){if(t.type==="unknown"||!("capabilities"in t))return!1;switch(t.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function hQ(t){return cQ(t)?!!(t.capabilities&&t.capabilities.data&&t.capabilities.data.supportsZ):dQ(t)}function BAe(t){return t.layers!=null||dQ(t)||cQ(t)||uQ(t)}function dQ(t){switch(t.type){case"building-scene":case"elevation":case"integrated-mesh":case"integrated-mesh-3dtiles":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"catalog":case"catalog-footprint":case"catalog-dynamic-group":case"csv":case"dimension":case"gaussian-splat":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"parquet":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"video":case"viewshed":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}const GAe=new Ns({heightModel:"gravity-related-height"});let Pk,Y5=null;async function HAe(t){Y5||(Y5=te(()=>import("./geometryServiceUtils-CJ_TGwU8.js"),__vite__mapDeps([219,220])).then(e=>Pk=e)),await Y5,Gt(t)}async function pQ(t,e,i,r){if(!t)return null;const s=t.spatialReference;return pu()||ta(s,e)?ah(t,e):Pk?Pk.projectGeometry(t,e,i,r):(await Promise.race([HAe(r),Kc(r)]),pQ(t,e,i,r))}async function Ize(t,e){try{return t!=null&&t.spatialReference?await oX(t,e):null}catch{return null}}let It=class extends $e{constructor(e){super(e),this.required={extent:!1,heightModelInfo:!1,tileInfo:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=np(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference??this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return this.userSpatialReference==null||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){var r,s,n,o,l;const e=(r=this.map)==null?void 0:r.call(this),i=[];return this.priorityCollection!=null&&i.push(this.priorityCollection),i.push({parent:e==null?void 0:e.basemap,layers:(s=e==null?void 0:e.basemap)==null?void 0:s.baseLayers},{parent:e==null?void 0:e.basemap,layers:(n=e==null?void 0:e.basemap)==null?void 0:n.groundLayers},{layers:e==null?void 0:e.layers},{parent:e==null?void 0:e.ground,layers:(o=e==null?void 0:e.ground)==null?void 0:o.layers},{parent:e==null?void 0:e.basemap,layers:(l=e==null?void 0:e.basemap)==null?void 0:l.referenceLayers}),i}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};let e;if(this._collectLayers(this.mapCollections,r=>{const s=this._getSupportedSpatialReferences(r);if(s.length>0){const n=this._narrowDownSpatialReferenceCandidates(e,s);n!=null&&(e=n)}return(e==null?void 0:e.length)===1})&&(e==null?void 0:e.length)!==1)return{updating:!0};const i=this._pickSpatialReferenceCandidate(e);return{spatialReference:(i==null?void 0:i.spatialReference)??null,viewingMode:(i==null?void 0:i.viewingMode)??null,updating:!1}}get _tileInfoTask(){var n,o,l;if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};const e=(n=this.map)==null?void 0:n.call(this),i=this.spatialReference;if(!i)return{updating:this._spatialReferenceTask.updating};let r;const s=this._collectLayers([{parent:e==null?void 0:e.basemap,layers:(o=e==null?void 0:e.basemap)==null?void 0:o.baseLayers},{parent:e==null?void 0:e.basemap,layers:(l=e==null?void 0:e.basemap)==null?void 0:l.groundLayers},{layers:e==null?void 0:e.layers}],c=>{var d;return!(!("tileInfo"in c)||!((d=c.tileInfo)!=null&&d.spatialReference.equals(i)))&&(r=c,!0)},c=>"tileInfo"in c);return r?{tileInfo:r.tileInfo,updating:!1}:{updating:s}}get _heightModelInfoTask(){var r;if(!this.required.heightModelInfo||this.suspended&&((r=this._get("_heightModelInfoTask"))!=null&&r.heightModelInfo))return this._get("_heightModelInfoTask")??{updating:!1};let e={};const i=this._collectLayers(this.mapCollections,s=>{var o,l;const n=lQ(s);return!!n&&(e={heightModelInfo:n,vcsWkid:(o=s.spatialReference)==null?void 0:o.vcsWkid,latestVcsWkid:(l=s.spatialReference)==null?void 0:l.latestVcsWkid},!0)},s=>BAe(s));return{...e,updating:i}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const e=[],i=this._collectLayers(this.mapCollections,r=>{const s="fullExtents"in r&&r.fullExtents||(r.fullExtent!=null?[r.fullExtent]:[]),n=this.requiresExtentInSpatialReference?null:s[0],o=s.find(l=>l.spatialReference.equals(this.spatialReference))??n;if(o)return e.push({extent:o,layer:r}),!0;if(this._getSupportedSpatialReferences(r).length>0)for(const l of s)e.push({extent:l,layer:r});return!1});return{candidates:e,updating:i}}get _extentTask(){const{candidates:e,updating:i}=this._extentCandidatesTask;if(i)return{updating:i};if(e==null||e.length===0)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const r=this._pickExtentCandidate(e),s=this.spatialReference;return r.extent.equals(this._projectExtentTask.input)&&s.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:this._projectExtentTask.task!=null&&!this._projectExtentTask.task.finished}:(this._projectExtentTask.task!=null&&(this._projectExtentTask.task=np(this._projectExtentTask.task)),this._projectExtentTask={input:r.extent.clone(),output:null,spatialReference:s.clone(),task:LT(async n=>{try{const o=await pQ(r.extent,s,"portalItem"in r.layer?r.layer.portalItem:void 0,n);this._projectExtentTask={...this._projectExtentTask,task:null,output:o}}catch{if(Kr(n))return;this._projectExtentTask={...this._projectExtentTask,task:null}}})},{updating:!0})}_narrowDownSpatialReferenceCandidates(e,i){if(e==null)return i;const r=new Array;for(const s of e)for(const n of i){if(!s.spatialReference.equals(n.spatialReference))continue;const o=ZAe(s.viewingMode,n.viewingMode);if(o!==!1){r.push({spatialReference:s.spatialReference,viewingMode:o});break}}return r.length>0?r:null}_pickSpatialReferenceCandidate(e){const i=this.defaultSpatialReference;return e==null||e.length<1?i?{spatialReference:i,viewingMode:null}:null:(i!=null&&e.length>1&&e.some(({spatialReference:r})=>r.equals(i))&&(e=e.filter(({spatialReference:r})=>r.equals(i))),e.length>1&&e.some(({viewingMode:r})=>r!==2)&&(e=e.filter(({viewingMode:r})=>r!==2)),e[0])}_getSupportedSpatialReferences(e){const i="supportedSpatialReferences"in e&&e.supportedSpatialReferences||(e.spatialReference?[e.spatialReference]:[]);if(i.length===0)return[];const r=[];for(const s of i){const n=this.getSpatialReferenceSupport(s,e);if(n!=null){const o=n.constraints??[{spatialReference:s,viewingMode:null}];for(const{spatialReference:l,viewingMode:c}of o)this.requiresExtentInSpatialReference&&this.userSpatialReference!=null&&!l.equals(this.userSpatialReference)||r.push({spatialReference:l,viewingMode:c})}}return r}_pickExtentCandidate(e){const i=this.spatialReference;return e.find(({extent:r})=>i.equals(r.spatialReference))||e[0]}_collectLayers(e,i,r=()=>!0){var n;switch(this._loadMaybe((n=this.map)==null?void 0:n.call(this))){case"loading":return!0;case"failed":return!1}const s=new WAe(r,i);for(const o of e)if(this._collectCollection(o,s),s.done||s.preloading===this.sourcePreloadCount)break;return s.updating}_collectCollection(e,i){if(e.layers){switch(this._loadMaybe(e.parent)){case"loading":return i.updating=!0,void++i.preloading;case"failed":return}for(const r of e.layers)if((r.type!=="graphics"||!r.internal)&&i.layerFilter(r)){switch(this._loadMaybe(r)){case"failed":continue;case"loading":i.updating=!0,++i.preloading;break;case"loaded":if(i.updating||(i.done=i.pushLayer(r)),i.done||i.preloading===this.sourcePreloadCount)break;"layers"in r&&this._collectCollection({layers:r.layers},i)}if(i.done||i.preloading===this.sourcePreloadCount)break}}}_loadMaybe(e){return e&&"loadStatus"in e&&e.loadStatus!=null?e.loadStatus==="not-loaded"?(e.load().catch(i=>{Cr(i)}),"loading"):e.loadStatus:"loaded"}};h([f()],It.prototype,"required",void 0),h([f({constructOnly:!0})],It.prototype,"map",void 0),h([f({constructOnly:!0})],It.prototype,"getSpatialReferenceSupport",void 0),h([f()],It.prototype,"defaultSpatialReference",void 0),h([f()],It.prototype,"userSpatialReference",void 0),h([f()],It.prototype,"sourcePreloadCount",void 0),h([f()],It.prototype,"priorityCollection",void 0),h([f()],It.prototype,"requiresExtentInSpatialReference",void 0),h([f()],It.prototype,"suspended",void 0),h([f({readOnly:!0})],It.prototype,"ready",null),h([f({readOnly:!0})],It.prototype,"heightModelInfoReady",null),h([f({readOnly:!0})],It.prototype,"spatialReference",null),h([f({readOnly:!0})],It.prototype,"extent",null),h([f({readOnly:!0})],It.prototype,"heightModelInfo",null),h([f({readOnly:!0})],It.prototype,"vcsWkid",null),h([f({readOnly:!0})],It.prototype,"latestVcsWkid",null),h([f({readOnly:!0})],It.prototype,"viewingMode",null),h([f({readOnly:!0})],It.prototype,"tileInfo",null),h([f({readOnly:!0})],It.prototype,"mapCollections",null),h([f({readOnly:!0})],It.prototype,"_spatialReferenceTask",null),h([f({readOnly:!0})],It.prototype,"_tileInfoTask",null),h([f({readOnly:!0})],It.prototype,"_heightModelInfoTask",null),h([f({readOnly:!0})],It.prototype,"_extentCandidatesTask",null),h([f()],It.prototype,"_extentTask",null),h([f()],It.prototype,"_projectExtentTask",void 0),It=h([I("esri.views.support.DefaultsFromMap")],It);let WAe=class{constructor(e,i){this.layerFilter=e,this.pushLayer=i,this.preloading=-1,this.updating=!1,this.done=!1}};function ZAe(t,e){return t!=null?e!=null?t===e&&t:t:e}function YAe(t){return"tryRecycleWith"in t}let JAe=class{constructor(e,i,r){this.layer=e,this.view=i,this.layerViewImporter=r,this._controller=new AbortController,this._started=!1,this.done=!1,this._deferred=bn(),this.promise=this._deferred.promise,ao(this._controller.signal,()=>{var n,o;(n=this._recycleController)==null||n.abort();const s=new B("cancelled:layerview-create","layerview creation cancelled",{layer:e});(o=this._deferred)==null||o.reject(s)})}tryRecycle(e){var s;if(!this.done||!this.layerView||!YAe(this.layerView))return null;(s=this._recycleController)==null||s.abort(),this._recycleController=new AbortController;const i=this.layer.type,r=this._recycleController.signal;for(let n=0;n<e.length;n++){const o=e[n];if(o.type!==i)continue;const l=this.layerView.tryRecycleWith(o,{signal:r});if(l){e.splice(n,1),this.layer=o;const c=this.layerView,d=c.view;return this.promise=l.then(()=>(Gt(r),o.emit("layerview-destroy",{view:d,layerView:c}),d.emit("layerview-destroy",{view:d,layerView:c}),o.emit("layerview-create",{view:d,layerView:c}),d.emit("layerview-create",{view:d,layerView:c}),c)),this.promise}}return null}destroy(){this._controller.abort();const{layerView:e}=this;if(e){const{layer:i,view:r}=this;i.emit("layerview-destroy",{view:r,layerView:e}),r.emit("layerview-destroy",{layer:i,layerView:e})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null,this.promise=null,this._deferred=null}async start(){var s,n,o,l,c;const{view:e}=this;if(this._started||!e.map)return;this._started=!0;const{_controller:{signal:i},layer:r}=this;this._map=e.map;try{let d,m;if(await r.load({signal:i}),r.prefetchResources&&await r.prefetchResources({signal:i}),KAe(r))d=await r.createLayerView(e,{signal:i});else{if(!this.layerViewImporter.hasLayerViewModule(r))throw new B("layer:view-not-supported","No layerview implementation was found");const _=await this.layerViewImporter.importLayerView(r);Gt(i),d="default"in _?new _.default({layer:r,view:e}):new _({layer:r,view:e})}const v=()=>{m=Dt(m),d.destroyed||d.destroy(),this.done=!0};m=ao(i,v),Gt(i);try{await d.when()}catch(_){throw v(),_}if(!((n=(s=this._map)==null?void 0:s.allLayers)==null?void 0:n.includes(r)))return v(),void((o=this._deferred)==null?void 0:o.reject(new B("view:no-layerview-for-layer","The layer has been removed from the map",{layer:r})));this.layerView=d,r.emit("layerview-create",{view:e,layerView:d}),e.emit("layerview-create",{layer:r,layerView:d}),this.done=!0,(l=this._deferred)==null||l.resolve(d)}catch(d){r.emit("layerview-create-error",{view:e,error:d}),e.emit("layerview-create-error",{layer:r,error:d}),this.done=!0,(c=this._deferred)==null||c.reject(new B("layerview:create-error","layerview creation failed",{layer:r,error:d}))}}};function KAe(t){return t.createLayerView!==Kt.prototype.createLayerView}function XAe(t){return t!=null&&typeof t=="object"&&"layerViews"in t}let Cs=class extends $e{constructor(e){super(e),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new Jd,this.supportsGround=!0,this._preloadLayerViewModules=()=>{var r,s;const i=(r=this.view.map)==null?void 0:r.allLayers;if(i)for(const n of i)((s=this.layerViewFilter)==null?void 0:s.call(this,n))!==!1&&this.layerViewImporter.hasLayerViewModule(n)&&this.layerViewImporter.importLayerView(n)},this._reschedule=()=>this.destroyed?Promise.reject():(this._workPromise==null&&(this._workPromise=bn(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles(ug(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{var m,v,w,_;if(this.destroyed)return;const{map:i}=this.view;if(!i)return void this.clear();if(this._map!==i&&(this.clear(),this._map=i),this._workPromise==null)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const r=new Set,s=[],n=this.view.ready,o=x=>{var T;if(x!=null){for(const M of x)if(M){if(((T=this.layerViewFilter)==null?void 0:T.call(this,M))===!1)continue;r.add(M);const O=this._layerLayerViewInfoMap.get(M);O&&n?O.start():O||this._recyclingInfoMap.has(M)||s.push(M),"layers"in M&&M.layers&&o(M.layers)}}};for(const x of this._rootCollectionNames)o(Ho(this,x));const l=new Array,c=x=>{const T=x.tryRecycle(s);T?(this._recyclingInfoMap.set(x.layer,x),this.notifyChange("updating"),T.then(()=>{this._recyclingInfoMap.delete(x.layer),this._layerLayerViewInfoMap.set(x.layer,x),this._reschedule(),this.notifyChange("updating")}).catch(M=>{Cr(M)||(this._recyclingInfoMap.delete(x.layer),x.destroy(),this._reschedule(),this.notifyChange("updating"))})):l.push(x)};for(const x of this._layerLayerViewInfoMap.values())r.has(x.layer)||(this._layerLayerViewInfoMap.delete(x.layer),c(x));for(const x of this._recyclingInfoMap.values())r.has(x.layer)||(this._recyclingInfoMap.delete(x.layer),c(x));for(const x of s)this._createLayerView(x);this._refreshCollections(),l.forEach(x=>x.destroy());const d=[(m=i==null?void 0:i.ground)==null?void 0:m.layers,(v=i==null?void 0:i.basemap)==null?void 0:v.baseLayers,(w=i==null?void 0:i.basemap)==null?void 0:w.groundLayers,(_=i==null?void 0:i.basemap)==null?void 0:_.referenceLayers,i==null?void 0:i.layers].filter(x=>!!x);r.forEach(x=>"layers"in x&&d.push(x.layers)),this.addHandles(d.map(x=>this._watchUpdatingTracking.addOnCollectionChange(()=>x,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null},this._layersToLayerViews=new Map(e.layerviewMapping)}initialize(){this.addHandles([yp(()=>{var e,i;return(i=(e=this.view)==null?void 0:e.map)==null?void 0:i.allLayers},"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),Le(()=>{const e=this.view,i=e==null?void 0:e.map;return[i==null?void 0:i.basemap,i==null?void 0:i.ground,i==null?void 0:i.layers,e==null?void 0:e.ready]},()=>this._reschedule(),qr)]),this._preloadLayerViewModules(),this._reschedule()}clearHandles(){this._watchUpdatingTracking.removeAll()}destroy(){this.clear(),F5(this._recyclingInfoMap),F5(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,this._workPromise!=null&&(this._workPromise.reject($t()),this._workPromise=null)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return this._workPromise!=null||this._watchUpdatingTracking.updating||Tde(this._layerLayerViewInfoMap,e=>!e.done)||this._recyclingInfoMap.size>0}get updatingRemaining(){let e=0;for(const i of this._layerLayerViewInfoMap.values())i.done||++e;return e}clear(){this.destroyed||(this._clearCollections(),F5(this._layerLayerViewInfoMap))}async whenLayerView(e){var r,s;await this._reschedule();const i=(r=this._layerLayerViewInfoMap.get(e))==null?void 0:r.promise;if(!i){const n=(s=this._recyclingInfoMap.get(e))==null?void 0:s.promise;if(!n)throw new B("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:e});return n}return i}isCreatingLayerViewsForLayer(e,i){var n;this.commitProperty("updatingRemaining");const r=this._layerLayerViewInfoMap.get(e);if(!(r!=null&&r.done))return!0;const s=r.layerView;return!(!s||!i||s.parent===i)||!!(r.done&&s&&"layers"in e&&((n=e.layers)!=null&&n.length))&&e.layers.some(o=>this.isCreatingLayerViewsForLayer(o,s))}_refreshCollections(){for(const[e,i]of this._layersToLayerViews)this._populateLayerViewsOwners(Ho(this,e),Ho(this,i),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_clearCollections(){var e;for(const i of this._layersToLayerViews.values())(e=Ho(this,i))==null||e.removeAll()}_populateLayerViewsOwners(e,i,r){if(!e||!i)return void(i==null?void 0:i.removeAll());let s=0;for(const n of e){const o=this._layerLayerViewInfoMap.get(n);if(!(o!=null&&o.layerView))continue;const{layerView:l}=o;l.layer=n,l.parent=r,i.at(s)!==l&&i.splice(s,0,l),"layers"in n&&XAe(l)&&this._populateLayerViewsOwners(n.layers,l.layerViews,l),++s}s<i.length&&i.splice(s)}_createLayerView(e){var r;e.load().catch(s=>{se.getLogger("LayerViewManager").error(`Error loading layer "${e.title}"`,s)}),this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e);const i=new JAe(e,this.view,this.layerViewImporter);(r=i.promise)==null||r.then(()=>this._refreshCollections(),s=>{s&&(Cr(s)||s.name==="cancelled:layerview-create")||se.getLogger(this).error(`Failed to create layerview for layer title:'${e.title??"no title"}', id:'${e.id??"no id"}' of type '${e.type}'.`,{layer:e,error:s}),this.destroyed||this._refreshCollections()}),this._layerLayerViewInfoMap.set(e,i),this.view.ready&&i.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};h([f()],Cs.prototype,"_workPromise",void 0),h([f({readOnly:!0})],Cs.prototype,"_watchUpdatingTracking",void 0),h([f({readOnly:!0})],Cs.prototype,"_layersToLayerViews",void 0),h([f({constructOnly:!0})],Cs.prototype,"layerviewMapping",void 0),h([f({readOnly:!0})],Cs.prototype,"_rootCollectionNames",null),h([f({constructOnly:!0})],Cs.prototype,"layerViewFilter",void 0),h([f()],Cs.prototype,"layerViewImporter",void 0),h([f()],Cs.prototype,"supportsGround",void 0),h([f({readOnly:!0})],Cs.prototype,"updating",null),h([f({readOnly:!0})],Cs.prototype,"updatingRemaining",null),h([f({constructOnly:!0})],Cs.prototype,"view",void 0),Cs=h([I("esri.views.support.LayerViewManager")],Cs);const QAe=Cs;let tm=class extends $e{constructor(e){super(e),this.featureTitleFields=!1,this.utilityNetworkFields=!1,this.globalIdField=!1}};h([f()],tm.prototype,"featureTitleFields",void 0),h([f()],tm.prototype,"utilityNetworkFields",void 0),h([f()],tm.prototype,"globalIdField",void 0),tm=h([I("esri.views.support.RequiredFieldsOptions")],tm);const e4e=tm;var im,Vc;let Me=(Vc=class extends oT(l6){constructor(e){super(e),this._userSpatialReference=null,this.handles=new sg,this.updatingHandles=new Jd,this.allLayerViews=new Go({getCollections:()=>this.layerviewCollections,getChildrenFunction:i4e}),this.analyses=new Zy,this.basemapView=null,this.dependencies={popup:void 0},this.displayFilterEnabled=!0,this.fatalError=null,this.graphics=new _1,this.typeSpecificPreconditionsReady=!0,this.layerViews=new ge,this.magnifier=new KX,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this._readyStateWaitingTask=null,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this._lowPriorityCursorHandles=new ge,this._highPriorityCursorHandles=new ge,this.input=new zAe,this.navigation=new JT,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new tQ(this),this.persistableViewModels=new ge,this.requiredFieldsOptions=new e4e,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this._userTimeExtent=null,this._lockedTimeExtent=null,this.theme=null,this.handles.add(Le(()=>this.preconditionsReady,i=>{var s,n,o,l;const r=this.ready;if(i?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,this._lockedTimeExtent=this.timeExtent,im.views.add(this)):(this._lockedSpatialReference=null,im.views.remove(this)),this.notifyChange("spatialReference"),!i&&r)(s=this.toolViewManager)==null||s.detach(),(n=this.analysisViewManager)==null||n.detach(),(o=this.layerViewManager)==null||o.clear(),this._teardown();else if(i&&!r){try{this._startup()}catch(c){return void queueMicrotask(()=>{this.fatalError=new B("view:startup-error","View._startup failed",c)})}(l=this.analysisViewManager)==null||l.attach(),this.toolViewManager.attach()}},za))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this._validateWithErrorDisplay()]).then(()=>(this._isValid=!0,h6(()=>this.ready)))),this.basemapView=new sAe({view:this}),this.layerViewManager=new QAe({view:this,layerViewFilter:e=>{var i;return((i=this.layerViewFilter)==null?void 0:i.call(this,e))??!0},layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},layerviewMapping:this._layerToLayerviewMapping}),this.toolViewManager=new _a({view:this}),this.selectionManager=new aAe({view:this}),this.addHandles([Sn(()=>this.readyState==="map-content-error"&&!this.spatialReference,()=>{se.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),Le(()=>this.initialExtentRequired,e=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:e},qr),Le(()=>this.ready,e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)},za),Le(()=>this._userSpatialReference,e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)},qr)])}get _layerToLayerviewMapping(){return im._layerToLayerview}destroy(){var e;this.destroyed||(im.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=ti(this.graphics),this.analyses=ti(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),this.analysisViewManager=ti(this.analysisViewManager),this.toolViewManager=ti(this.toolViewManager),this.layerViewManager=ti(this.layerViewManager),this.selectionManager=ti(this.selectionManager),this.basemapView=ti(this.basemapView),(e=this.layerViews)==null||e.forEach(i=>i.destroy()),this.layerViews.length=0,this.invalidate(),this.handles.destroy(),this.map=ti(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return se.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){var e;return(e=this.toolViewManager)==null?void 0:e.activeTool}set activeTool(e){this.toolViewManager&&(this.toolViewManager.activeTool=e)}get layerviewCollections(){var e,i,r;return[(e=this.basemapView)==null?void 0:e.baseLayerViews,(i=this.basemapView)==null?void 0:i.groundLayerViews,this.layerViews,(r=this.basemapView)==null?void 0:r.referenceLayerViews]}get animation(){return this._get("animation")}set animation(e){this._set("animation",e)}get center(){return null}get defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new It({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:(e,i)=>this.getSpatialReferenceSupport(e,i),...this.defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(e){this._set("extent",e)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get highlights(){return this._get("highlights")??DAe()}set highlights(e){this._set("highlights",Da(e,this._get("highlights"),ge.ofType(jc)))}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){var e;return!this.destroying&&!this.destroyed&&!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||l4(this.map)&&!this.map.loaded||this.width===0||this.height===0||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!((e=this.defaultsFromMap)!=null&&e.ready)||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(e){e!==this._get("map")&&(e!=null&&e.destroyed&&(se.getLogger(this).warn("#map","The provided map is already destroyed",{map:e}),e=null),l4(e)&&e.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",e))}get readyState(){var e,i,r,s;if(this.destroyed)return this._get("readyState");if(!this.map)return"missing-map";if("container"in this&&!this.container)return"missing-container";if(this.fatalError)return"rendering-error";if((((e=this.defaultsFromMap)==null?void 0:e.ready)??!1)&&!this.spatialReference){const n=!("loaded"in this.map)||this.map.loaded,o=this.map.ground.loaded,l=((i=this.map.basemap)==null?void 0:i.loaded)??!0;return n&&l&&o&&!((r=this.map)!=null&&r.allLayers.length)?"empty-map":(this._readyStateWaitingTask||(this._readyStateWaitingTask=LT(c=>BB(q("view-readyState-waiting-delay"),null,c)),this.addHandles(this._readyStateWaitingTask),this.addHandles(this._readyStateWaitingTask,"ready-state-task")),(s=this._readyStateWaitingTask)!=null&&s.finished?"map-content-error":"loading")}return this._readyStateWaitingTask=np(this._readyStateWaitingTask),this.removeHandles("ready-state-task"),this.ready?"ready":"loading"}get spatialReference(){var i,r;const e=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;if(e&&((r=(i=this.defaultsFromMap)==null?void 0:i.required)!=null&&r.heightModelInfo)){const s=e.clone();return s.vcsWkid=this.defaultsFromMap.vcsWkid,s.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,s}return e}set spatialReference(e){const i=!vr(e,this._get("spatialReference"));this._set("_userSpatialReference",e),i&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeExtent(){return this._userTimeExtent??this._lockedTimeExtent??this.getDefaultTimeExtent()??null}set timeExtent(e){this._userTimeExtent=e}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??ea}set timeZone(e){this._userTimeZone=e,Fye(e)||se.getLogger(this).warn("#timeZone",`the parsed value '${e}' may not be a valid IANA time zone`)}get tools(){var e;return(e=this.toolViewManager)==null?void 0:e.tools}get initialExtent(){var e;return(e=this.defaultsFromMap)==null?void 0:e.extent}get cursor(){var e,i,r;return((e=this.toolViewManager)==null?void 0:e.cursor)??((i=this._highPriorityCursorHandles.at(-1))==null?void 0:i.cursor)??((r=this._lowPriorityCursorHandles.at(-1))==null?void 0:r.cursor)??"default"}acquireCursor(e,i="low"){const r=i==="high"?this._highPriorityCursorHandles:this._lowPriorityCursorHandles,s={cursor:e},n=at(()=>r.remove(s));return r.add(s),this.addHandles(n),n}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new kk}whenLayerView(e){var i;return((i=this.layerViewManager)==null?void 0:i.whenLayerView(e))??Promise.reject()}getDefaultSpatialReference(){var e;return(e=this.defaultsFromMap)==null?void 0:e.spatialReference}getDefaultHeightModelInfo(){var e;return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??((e=this.defaultsFromMap)==null?void 0:e.heightModelInfo)??null}getDefaultTimeZone(){return null}getDefaultTimeExtent(){return null}getSurface(){return null}importLayerView(e){throw new B("view:importLayerView-missing","importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(e){return this.getSpatialReferenceSupport(e)!=null}when(e,i){return this.isResolved()&&!this.ready&&se.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,i)}forceReadyCycle(){this.ready&&(Sn(()=>this.destroyed||this.preconditionsReady===!1,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}on(e,i){return super.on(e,i)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}async _validateWithErrorDisplay(){try{await this.validate()}catch(e){const i=document.createElement("div");i.setAttribute("style","display: flex; flex-direction: column; gap: 8px; padding: 20px; height: 100%; justify-content: center; color: black; background: white; font-family: sans-serif;");const r=document.createElement("div");r.innerHTML="Unable to display map. WebGL2 support is required.",r.setAttribute("style","font-size: 24px; font-weight: bold;");const s=document.createElement("div");s.innerHTML="Ensure that your browser and hardware meet the minimum requirements.",s.setAttribute("style","font-size: 18px;");const n=document.createElement("a");n.innerHTML="https://esriurl.com/webgl-faq",n.target="_blank",n.setAttribute("style","font-size: 18px;"),n.href="https://esriurl.com/webgl-faq",i.appendChild(r),i.appendChild(s),i.appendChild(n);const o=this.getSurface();throw o&&o.appendChild(i),e}}},im=Vc,Vc._layerToLayerview=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.basemap.groundLayers","view.basemapView.groundLayerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"],["view.map.layers","view.layerViews"]],Vc.views=new ge,Vc);h([f()],Me.prototype,"_userSpatialReference",void 0),h([f()],Me.prototype,"activeTool",null),h([f({readOnly:!0})],Me.prototype,"allLayerViews",void 0),h([f({readOnly:!0})],Me.prototype,"layerviewCollections",null),h([f(Sk(Zy,"analyses"))],Me.prototype,"analyses",void 0),h([f()],Me.prototype,"animation",null),h([f()],Me.prototype,"basemapView",void 0),h([f()],Me.prototype,"center",null),h([f()],Me.prototype,"defaultsFromMapSettings",null),h([f()],Me.prototype,"defaultsFromMap",null),h([f()],Me.prototype,"dependencies",void 0),h([f()],Me.prototype,"displayFilterEnabled",void 0),h([f({type:Ye})],Me.prototype,"extent",null),h([f()],Me.prototype,"fatalError",void 0),h([f(Sk(_1,"graphics"))],Me.prototype,"graphics",void 0),h([f({readOnly:!0,type:Ns})],Me.prototype,"heightModelInfo",null),h([f({type:ge.ofType(jc)})],Me.prototype,"highlights",null),h([f({readOnly:!0})],Me.prototype,"interacting",null),h([f({constructOnly:!0})],Me.prototype,"layerViewFilter",void 0),h([f({readOnly:!0})],Me.prototype,"navigating",null),h([f({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_lockedSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],Me.prototype,"preconditionsReady",null),h([f({readOnly:!0})],Me.prototype,"typeSpecificPreconditionsReady",void 0),h([f({type:ge,readOnly:!0})],Me.prototype,"layerViews",void 0),h([f()],Me.prototype,"resolution",null),h([f({type:KX})],Me.prototype,"magnifier",void 0),h([f({value:null,type:TX})],Me.prototype,"map",null),h([f()],Me.prototype,"padding",void 0),h([f({readOnly:!0})],Me.prototype,"ready",void 0),h([f()],Me.prototype,"_readyStateWaitingTask",void 0),h([f({readOnly:!0})],Me.prototype,"readyState",null),h([f({type:Se})],Me.prototype,"spatialReference",null),h([f()],Me.prototype,"stationary",null),h([f({type:Ii})],Me.prototype,"timeExtent",null),h([f({type:String,nonNullable:!0})],Me.prototype,"timeZone",null),h([f()],Me.prototype,"tools",null),h([f()],Me.prototype,"toolViewManager",void 0),h([f({readOnly:!0})],Me.prototype,"type",void 0),h([f({type:Number})],Me.prototype,"scale",void 0),h([f({readOnly:!0})],Me.prototype,"updating",void 0),h([f({readOnly:!0})],Me.prototype,"initialExtentRequired",void 0),h([f({readOnly:!0})],Me.prototype,"initialExtent",null),h([f()],Me.prototype,"cursor",null),h([f({readOnly:!0})],Me.prototype,"input",void 0),h([f({type:JT,nonNullable:!0})],Me.prototype,"navigation",void 0),h([f()],Me.prototype,"layerViewManager",void 0),h([f()],Me.prototype,"analysisViewManager",void 0),h([f()],Me.prototype,"selectionManager",void 0),h([f()],Me.prototype,"width",void 0),h([f()],Me.prototype,"height",void 0),h([f({readOnly:!0})],Me.prototype,"resizing",void 0),h([f({value:null,readOnly:!0})],Me.prototype,"size",null),h([f({readOnly:!0})],Me.prototype,"suspended",void 0),h([f({readOnly:!0})],Me.prototype,"viewEvents",void 0),h([f({readOnly:!0})],Me.prototype,"persistableViewModels",void 0),h([f()],Me.prototype,"_isValid",void 0),h([f()],Me.prototype,"_readyCycleForced",void 0),h([f()],Me.prototype,"_lockedSpatialReference",void 0),h([f()],Me.prototype,"_userTimeZone",void 0),h([f()],Me.prototype,"_lockedTimeZone",void 0),h([f()],Me.prototype,"_userTimeExtent",void 0),h([f()],Me.prototype,"_lockedTimeExtent",void 0),h([f({type:kk})],Me.prototype,"theme",void 0),h([f({readOnly:!0,type:kk})],Me.prototype,"effectiveTheme",null),Me=im=h([I("esri.views.View")],Me);const J5=globalThis.$arcgis;J5&&!J5.views&&Object.defineProperty(J5,"views",{configurable:!1,enumerable:!0,writable:!1,value:Me.views});const t4e=Me;function i4e(t){return t.layerViews}function ci(){return[0,0]}function r4e(t){return[t[0],t[1]]}function Hw(t,e){return[t,e]}function s4e(t,e){return[t,e]}function n4e(t,e=ci()){const i=Math.min(2,t.length);for(let r=0;r<i;++r)e[r]=t[r];return e}function fQ(){return ci()}function mQ(){return Hw(1,1)}function yQ(){return Hw(1,0)}function gQ(){return Hw(0,1)}const o4e=fQ(),a4e=mQ(),l4e=yQ(),u4e=gQ();Object.freeze(Object.defineProperty({__proto__:null,ONES:a4e,UNIT_X:l4e,UNIT_Y:u4e,ZEROS:o4e,clone:r4e,create:ci,freeze:s4e,fromArray:n4e,fromValues:Hw,ones:mQ,unitX:yQ,unitY:gQ,zeros:fQ},Symbol.toStringTag,{value:"Module"}));function c4e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function vQ(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function h4e(t,e,i,r,s,n,o){return t[0]=e,t[1]=i,t[2]=r,t[3]=s,t[4]=n,t[5]=o,t}function Y6(t,e){const i=e[0],r=e[1],s=e[2],n=e[3],o=e[4],l=e[5];let c=i*n-r*s;return c?(c=1/c,t[0]=n*c,t[1]=-r*c,t[2]=-s*c,t[3]=i*c,t[4]=(s*l-n*o)*c,t[5]=(r*o-i*l)*c,t):null}function d4e(t){return t[0]*t[3]-t[1]*t[2]}function wQ(t,e,i){const r=e[0],s=e[1],n=e[2],o=e[3],l=e[4],c=e[5],d=i[0],m=i[1],v=i[2],w=i[3],_=i[4],x=i[5];return t[0]=r*d+n*m,t[1]=s*d+o*m,t[2]=r*v+n*w,t[3]=s*v+o*w,t[4]=r*_+n*x+l,t[5]=s*_+o*x+c,t}function Ww(t,e,i){const r=e[0],s=e[1],n=e[2],o=e[3],l=e[4],c=e[5],d=Math.sin(i),m=Math.cos(i);return t[0]=r*m+n*d,t[1]=s*m+o*d,t[2]=r*-d+n*m,t[3]=s*-d+o*m,t[4]=l,t[5]=c,t}function KT(t,e,i){const r=e[0],s=e[1],n=e[2],o=e[3],l=e[4],c=e[5],d=i[0],m=i[1];return t[0]=r*d,t[1]=s*d,t[2]=n*m,t[3]=o*m,t[4]=l,t[5]=c,t}function Jy(t,e,i){const r=e[0],s=e[1],n=e[2],o=e[3],l=e[4],c=e[5],d=i[0],m=i[1];return t[0]=r,t[1]=s,t[2]=n,t[3]=o,t[4]=r*d+n*m+l,t[5]=s*d+o*m+c,t}function bQ(t,e){const i=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=i,t[2]=-i,t[3]=r,t[4]=0,t[5]=0,t}function _Q(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function J6(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function p4e(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function f4e(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+1)}function m4e(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t}function SQ(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t}function y4e(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t}function g4e(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t[3]=e[3]+i[3]*r,t[4]=e[4]+i[4]*r,t[5]=e[5]+i[5]*r,t}function v4e(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function w4e(t,e){const i=t[0],r=t[1],s=t[2],n=t[3],o=t[4],l=t[5],c=e[0],d=e[1],m=e[2],v=e[3],w=e[4],_=e[5],x=ws();return Math.abs(i-c)<=x*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(r-d)<=x*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(s-m)<=x*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(n-v)<=x*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(o-w)<=x*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(l-_)<=x*Math.max(1,Math.abs(l),Math.abs(_))}const b4e=wQ,_4e=SQ;Object.freeze(Object.defineProperty({__proto__:null,add:m4e,copy:c4e,determinant:d4e,equals:w4e,exactEquals:v4e,frob:f4e,fromRotation:bQ,fromScaling:_Q,fromTranslation:J6,identity:vQ,invert:Y6,mul:b4e,multiply:wQ,multiplyScalar:y4e,multiplyScalarAndAdd:g4e,rotate:Ww,scale:KT,set:h4e,str:p4e,sub:_4e,subtract:SQ,translate:Jy},Symbol.toStringTag,{value:"Module"}));function La(){return[1,0,0,1,0,0]}function S4e(t){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function x4e(t,e,i,r,s,n){return[t,e,i,r,s,n]}const T4e=La();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:T4e,clone:S4e,create:La,fromValues:x4e},Symbol.toStringTag,{value:"Module"}));const J_={102100:{maxX:20037508342788905e-9,minX:-20037508342788905e-9,plus180Line:new Hi({paths:[[[20037508342788905e-9,-20037508342788905e-9],[20037508342788905e-9,20037508342788905e-9]]],spatialReference:Se.WebMercator}),minus180Line:new Hi({paths:[[[-20037508342788905e-9,-20037508342788905e-9],[-20037508342788905e-9,20037508342788905e-9]]],spatialReference:Se.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new Hi({paths:[[[180,-180],[180,180]]],spatialReference:Se.WGS84}),minus180Line:new Hi({paths:[[[-180,-180],[-180,180]]],spatialReference:Se.WGS84})}};function Id(t,e){return Math.ceil((t-e)/(2*e))}function xQ(t,e){const i=S1(t);for(const r of i)for(const s of r)s[0]+=e;return t}function S1(t){return Lm(t)?t.rings:t.paths}function Vze(t,e){return e?{...e,query:{...t,...e.query}}:{query:t}}function $4e(t){return typeof t=="string"?Rr(t):G(t)}function M4e(t,e,i){const r={};for(const s in t){if(s==="declaredClass")continue;const n=t[s];if(n!=null&&typeof n!="function")if(Array.isArray(n))r[s]=n.map(o=>M4e(o));else if(typeof n=="object")if(n.toJSON){const o=n.toJSON(i==null?void 0:i[s]);r[s]=e?o:JSON.stringify(o)}else r[s]=e?n:JSON.stringify(n);else r[s]=n}return r}function E4e(t,e){var i;return t?e&&zR(t)?e:FR(t)??((i=ze==null?void 0:ze.findCredential(t))==null?void 0:i.token):null}async function Fze(t,e,i){const r=E4e(t,e);if(r)return r;!ze&&dt.request.useIdentity&&await te(()=>import("./IdentityManager-iM417jI8.js"),__vite__mapDeps([23,24]));const s=await ze.getCredential(t,i);return s==null?void 0:s.token}async function A4e(t,e,i,r){const s=$4e(t),n=e[0].spatialReference,o={...r,responseType:"json",query:{...s.query,f:"json",sr:bZ(n),target:JSON.stringify({geometryType:CT(e[0]),geometries:e}),cutter:JSON.stringify(i)}},l=await Bt(s.path+"/cut",o),{cutIndexes:c,geometries:d=[]}=l.data;return{cutIndexes:c,geometries:d.map(m=>{const v=Jc(m);return v.spatialReference=n,v})}}function O4e(t){return{geometryType:CT(t[0]),geometries:t.map(e=>e.toJSON())}}function k4e(t,e,i){const r=Obe(e);return t.map(s=>{const n=r.fromJSON(s);return n.spatialReference=i,n})}async function C4e(t,e,i){const r=typeof t=="string"?Rr(t):t,s=e[0].spatialReference,n=CT(e[0]),o={...i,query:{...r.query,f:"json",sr:bZ(s),geometries:JSON.stringify(O4e(e))}},{data:l}=await Bt(r.path+"/simplify",o);return k4e(l.geometries,n,s)}const TQ=()=>se.getLogger("esri.geometry.support.normalizeUtils");function R4e(t){return t.type==="polygon"}function I4e(t){return t[0].type==="polygon"}function P4e(t){return t[0].type==="polyline"}function HV(t){const e=[];let i=0,r=0;for(let s=0;s<t.length;s++){const n=t[s];let o=null;for(let l=0;l<n.length;l++)o=n[l],e.push(o),l===0?(i=o[0],r=i):(i=Math.min(i,o[0]),r=Math.max(r,o[0]));o&&e.push([(i+r)/2,0])}return e}function j4e(t,e){if(!(t instanceof Hi||t instanceof Qt)){const s="straightLineDensify: the input geometry is neither polyline nor polygon";throw TQ().error(s),new B("internal:geometry",s)}const i=S1(t),r=[];for(const s of i){const n=[];r.push(n),n.push([s[0][0],s[0][1]]);for(let o=0;o<s.length-1;o++){const l=s[o][0],c=s[o][1],d=s[o+1][0],m=s[o+1][1],v=Math.sqrt((d-l)*(d-l)+(m-c)*(m-c)),w=(m-c)/v,_=(d-l)/v,x=v/e;if(x>1){for(let C=1;C<=x-1;C++){const R=C*e,N=_*R+l,j=w*R+c;n.push([N,j])}const T=(v+Math.floor(x-1)*e)/2,M=_*T+l,O=w*T+c;n.push([M,O])}n.push([d,m])}}return R4e(t)?new Qt({rings:r,spatialReference:t.spatialReference}):new Hi({paths:r,spatialReference:t.spatialReference})}function WV(t,e,i){if(e){const r=j4e(t,1e6);t=bm(r,!0)}return i&&(t=xQ(t,i)),t}function ZV(t,e,i){if(Array.isArray(t)){const r=t[0];if(r>e){const s=Id(r,e);t[0]=r+s*(-2*e)}else if(r<i){const s=Id(r,i);t[0]=r+s*(-2*i)}}else{const r=t.x;if(r>e){const s=Id(r,e);t=t.clone().offset(s*(-2*e),0)}else if(r<i){const s=Id(r,i);t=t.clone().offset(s*(-2*i),0)}}return t}function N4e(t,e){let i=-1;for(let r=0;r<e.cutIndexes.length;r++){const s=e.cutIndexes[r],n=e.geometries[r],o=S1(n);for(let l=0;l<o.length;l++){const c=o[l];c.some(d=>{if(d[0]<180)return!0;{let m=0;for(let w=0;w<c.length;w++){const _=c[w][0];m=_>m?_:m}m=Number(m.toFixed(9));const v=-360*Id(m,180);for(let w=0;w<c.length;w++){const _=n.getPoint(l,w);n.setPoint(l,w,_.clone().offset(v,0))}return!0}})}if(s===i){if(I4e(t))for(const l of S1(n))t[s]=t[s].addRing(l);else if(P4e(t))for(const l of S1(n))t[s]=t[s].addPath(l)}else i=s,t[s]=n}return t}async function D4e(t,e,i){if(!Array.isArray(t))return D4e([t],e);e&&typeof e!="string"&&TQ().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const r=typeof e=="string"?e:(e==null?void 0:e.url)??dt.geometryServiceUrl;let s,n,o,l,c,d,m,v,w=0;const _=[],x=[];for(const N of t)if(N!=null)if(s||(s=N.spatialReference,n=vs(s),o=s.isWebMercator,d=o?102100:4326,l=J_[d].maxX,c=J_[d].minX,m=J_[d].plus180Line,v=J_[d].minus180Line),n)if(N.type==="mesh")x.push(N);else if(N.type==="point")x.push(ZV(N.clone(),l,c));else if(N.type==="multipoint"){const j=N.clone();j.points=j.points.map(F=>ZV(F,l,c)),x.push(j)}else if(N.type==="extent"){const j=N.clone()._normalize(!1,!1,n);x.push(j.rings?new Qt(j):j)}else if(N.extent){const j=N.extent,F=Id(j.xmin,c)*(2*l);let ee=F===0?N.clone():xQ(N.clone(),F);j.offset(F,0);let{xmin:X,xmax:J}=j;X=Number(X.toFixed(9)),J=Number(J.toFixed(9)),j.intersects(m)&&J!==l?(w=J>w?J:w,ee=WV(ee,o),_.push(ee),x.push("cut")):j.intersects(v)&&X!==c?(w=J*(2*l)>w?J*(2*l):w,ee=WV(ee,o,360),_.push(ee),x.push("cut")):x.push(ee)}else x.push(N.clone());else x.push(N);else x.push(N);let T=Id(w,l),M=-90;const O=T,C=new Hi;for(;T>0;){const N=360*T-180;C.addPath([[N,M],[N,-1*M]]),M*=-1,T--}if(_.length>0&&O>0){const N=N4e(_,await A4e(r,_,C,i)),j=[],F=[];for(let J=0;J<x.length;J++){const re=x[J];if(re!=="cut")F.push(re);else{const fe=N.shift(),ye=t[J];ye!=null&&ye.type==="polygon"&&ye.rings&&ye.rings.length>1&&fe.rings.length>=ye.rings.length?(j.push(fe),F.push("simplify")):F.push(o?Gd(fe):fe)}}if(!j.length)return F;const ee=await C4e(r,j,i),X=[];for(let J=0;J<F.length;J++){const re=F[J];re!=="simplify"?X.push(re):X.push(o?Gd(ee.shift()):ee.shift())}return X}const R=[];for(let N=0;N<x.length;N++){const j=x[N];if(j!=="cut")R.push(j);else{const F=_.shift();R.push(o===!0?Gd(F):F)}}return R}function L4e(t){if(!t)return null;const e=t.extent;if(!e)return null;const i=t.spatialReference&&vs(t.spatialReference);if(!i)return e;const[r,s]=i.valid,n=2*s,{width:o}=e;let l,{xmin:c,xmax:d}=e;if([c,d]=[d,c],t.type==="extent"||o===0||o<=s||o>n||c<r||d>s)return e;switch(t.type){case"polygon":if(!(t.rings.length>1))return e;l=HV(t.rings);break;case"polyline":if(!(t.paths.length>1))return e;l=HV(t.paths);break;case"multipoint":l=t.points}const m=e.clone();for(let v=0;v<l.length;v++){let w=l[v][0];w<0?(w+=s,d=Math.max(w,d)):(w-=s,c=Math.min(w,c))}return m.xmin=c,m.xmax=d,m.width<o?(m.xmin-=s,m.xmax-=s,m):e}function K6(t,e,i){const r=vs(i);if(r==null)return t;const[s,n]=r.valid,o=2*n;let l=0,c=0;e>n?l=Math.ceil(Math.abs(e-n)/o):e<s&&(l=-Math.ceil(Math.abs(e-s)/o)),t>n?c=Math.ceil(Math.abs(t-n)/o):t<s&&(c=-Math.ceil(Math.abs(t-s)/o));let d=t+(l-c)*o;const m=d-e;return m>n?d-=o:m<s&&(d+=o),d}function zze(t,e){const i=X6(e);return(i==null?void 0:i.normalize(t))??t}function X6(t){const e=vs(t);if(e==null)return null;const[i,r]=e.valid;return new WT(i,r)}const Uze=X6(Se.WGS84);X6(Se.WebMercator);const $Q=96,MQ=39.37,V4e=180/Math.PI;function EQ(t){return t.wkid?t:t.spatialReference||Se.WGS84}function Q6(t,e){return e.type?gr(t,e.x,e.y):jm(t,e)}function AQ(t){return ho(t)}function XT(t,e,i=0){let r=t.width,s=t.height;if(i!==0){const l=kw(i),c=Math.abs(Math.cos(l)),d=Math.abs(Math.sin(l));r=t.width*c+t.height*d,s=t.width*d+t.height*c}const n=Math.max(1,e[0]),o=Math.max(1,e[1]);return Math.max(r/n,s/o)*W4e(t.spatialReference)}async function Nv(t,e,i,r){var l,c,d;let s,n;if(!t||Array.isArray(t)&&!t.length)return null;if(ge.isCollection(t)&&(t=t.toArray()),Array.isArray(t)&&t.length&&typeof t[0]=="object"){const m=t.every(_=>"attributes"in _),v=t.some(_=>!_.geometry);let w=t;if(m&&v&&e&&e.allLayerViews){const _=new Map;for(const O of t){const C=O.layer,R=_.get(C)||[],N=O.attributes[C.objectIdField];N!=null&&R.push(N),_.set(C,R)}const x=[];_.forEach((O,C)=>{var N;const R=(N=e.allLayerViews)==null?void 0:N.find(j=>j.layer.id===C.id);if(R&&"queryFeatures"in R){const j=C.createQuery();j.objectIds=O,j.returnGeometry=!0,x.push(R.queryFeatures(j))}});const T=await Promise.all(x),M=[];for(const O of T)if(O&&O.features&&O.features.length)for(const C of O.features)C.geometry!=null&&M.push(C.geometry);w=M}for(const _ of w)r=await Nv(_,e,i,r);return r}if(Array.isArray(t)&&t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number")s=new Re(t);else if(t instanceof tr)s=t;else if("geometry"in t){if(t.geometry)s=t.geometry;else if(t.layer){const m=t.layer,v=(l=e.allLayerViews)==null?void 0:l.find(w=>w.layer.id===m.id);if(v&&"queryFeatures"in v){const w=m.createQuery();w.objectIds=[t.attributes[m.objectIdField]],w.returnGeometry=!0;const _=await v.queryFeatures(w);s=(d=(c=_==null?void 0:_.features)==null?void 0:c[0])==null?void 0:d.geometry}}}if(s==null)return null;switch(s.type){case"point":n=new Ye({xmin:s.x,ymin:s.y,xmax:s.x,ymax:s.y,spatialReference:s.spatialReference});break;case"extent":case"multipoint":case"polygon":case"polyline":n=L4e(s);break;default:n=s.extent}if(!n)return null;pu()||ta(n.spatialReference,i)||await Kc();const o=ah(n,i);if(!o)return null;if(r){const m=o.center,v=m.clone();v.x=K6(m.x,r.center.x,i),v.x!==m.x&&o.centerAt(v),r=r.union(o)}else r=o;return r}function F4e(t){var e;if(t&&(!Array.isArray(t)||typeof t[0]!="number")&&(typeof t=="object"||Array.isArray(t)&&typeof t[0]=="object")){if("layer"in t&&((e=t.layer)==null?void 0:e.minScale)!=null&&t.layer.maxScale!=null){const i=t.layer;return{min:i.minScale,max:i.maxScale}}if(Array.isArray(t)&&t.length&&t.every(i=>"layer"in i)){let i=0,r=0;for(const s of t){const n=s.layer;n!=null&&n.minScale&&n.maxScale&&(i=n.minScale<i?n.minScale:i,r=n.maxScale>r?n.maxScale:r)}return i&&r?{min:i,max:r}:null}}}function YV(t,e){const i=EQ(t);return vr(i,e)||i.imageCoordinateSystem||e.imageCoordinateSystem?t:ah(t,e)}async function z4e(t,e){var M;if(!t||!e)return new Ws({targetGeometry:new Re,scale:0,rotation:0});let i=e.spatialReference;const{constraints:r,padding:s,viewpoint:n,size:o}=e,l=[s?o[0]-s.left-s.right:o[0],s?o[1]-s.top-s.bottom:o[1]];let c=null;t instanceof Ws?c=t:t.viewpoint?c=t.viewpoint:t.target&&t.target.declaredClass==="esri.Viewpoint"&&(c=t.target);let d=null;c!=null&&c.targetGeometry?d=c.targetGeometry:t instanceof Ye?d=t:t instanceof tr?d=await Nv(t,e,i):t&&(d=await Nv(t.center,e,i)||await Nv(t.target,e,i)||await Nv(t,e,i)),!d&&(n!=null&&n.targetGeometry)?d=n.targetGeometry:!d&&e.extent&&(d=e.extent),i||(i=EQ(e.spatialReference||e.extent||d)),pu()||vr(d.spatialReference,i)||ta(d.spatialReference,i)||await Kc();const m=YV(d,i),v="center"in m?m.center:m;e.pickClosestTarget!==!1&&v.type==="point"&&((M=n.targetGeometry)==null?void 0:M.type)==="point"&&(v.x=K6(v.x,n.targetGeometry.x,v.spatialReference));let w=0;c?w=c.rotation:t.hasOwnProperty("rotation")?w=t.rotation:n&&(w=n.rotation);let _=0;_=(c==null?void 0:c.targetGeometry)!=null&&c.targetGeometry.type==="point"?c.scale:"scale"in t&&t.scale?t.scale:"zoom"in t&&t.zoom!==-1&&r&&r.effectiveLODs?r.zoomToScale(t.zoom):Array.isArray(d)||d.type==="point"||d.type==="extent"&&d.width===0&&d.height===0?n.scale:XT(YV(d.extent,i),l,w);const x=F4e(t.target??t);x&&(x.min&&x.min<_?_=x.min:x.max&&x.max>_&&(_=x.max));let T=new Ws({targetGeometry:v,scale:_,rotation:w});return r&&(T=r.fit(T),r.constrainByGeometry(T),r.rotationEnabled||(T.rotation=n.rotation)),T}function Jr(t,e){const i=t.targetGeometry,r=e.targetGeometry;return i.x=r.x,i.y=r.y,i.spatialReference=r.spatialReference,t.scale=e.scale,t.rotation=e.rotation,t}function U4e(t,e,i){return i?gr(t,.5*(e[0]-i.right+i.left),.5*(e[1]-i.bottom+i.top)):Pw(t,e,.5)}const q4e=function(){const t=ci();return function(e,i,r){const s=i.targetGeometry;Q6(t,s);const n=.5*Ag(i);return e.xmin=t[0]-n*r[0],e.ymin=t[1]-n*r[1],e.xmax=t[0]+n*r[0],e.ymax=t[1]+n*r[1],e.spatialReference=s.spatialReference,e}}();function B4e(t,e,i,r,s){var n;return jk(t,e,i.center),t.scale=XT(i,r),(n=s==null?void 0:s.constraints)==null||n.constrain(t),t}function G4e(t,e,i,r){return iI(t,e,i,r),Y6(t,t)}const OQ=function(){const t=ci();return function(e,i,r){return QR(e,Z4e(e,i),U4e(t,i,r))}}(),H4e=function(){const t=La(),e=ci();return function(i,r,s,n){const o=Ag(r),l=eI(r);return gr(e,o,o),_Q(t,e),Ww(t,t,l),Jy(t,t,OQ(e,s,n)),Jy(t,t,[0,n.top-n.bottom]),gr(i,t[4],t[5])}}();function Ag(t){var e;return t.scale*kQ((e=t.targetGeometry)==null?void 0:e.spatialReference)}function kQ(t){return fn(t)?1/(AQ(t)*MQ*$Q):1}function eI(t){return XR(t.rotation)||0}function W4e(t){return fn(t)?AQ(t)*MQ*$Q:1}function Z4e(t,e){return Pw(t,e,.5)}const tI=function(){const t=ci(),e=ci(),i=ci();return function(r,s,n,o,l,c){return qZ(t,s),Pw(e,n,.5*c),gr(i,1/o*c,-1/o*c),J6(r,e),l&&Ww(r,r,l),KT(r,r,i),Jy(r,r,t),r}}(),iI=function(){const t=ci();return function(e,i,r,s){const n=Ag(i),o=eI(i);return Q6(t,i.targetGeometry),tI(e,t,r,n,o,s)}}(),Y4e=function(){const t=ci();return function(e,i,r,s){const n=Ag(i);return Q6(t,i.targetGeometry),tI(e,t,r,n,0,s)}}();function CQ(t){const e=vs(t);return e?e.valid[1]-e.valid[0]:0}function J4e(t,e){return Math.round(CQ(t)/e)}const K4e=function(){const t=ci(),e=ci(),i=[0,0,0];return function(r,s,n){W1(t,r,s),r4(t,t),W1(e,r,n),r4(e,e),GZ(i,t,e);let o=Math.acos(BZ(t,e)/(px(t)*px(e)))*V4e;return i[2]<0&&(o=-o),isNaN(o)&&(o=0),o}}(),X4e=function(){const t=ci();return function(e,i,r,s){const n=e.targetGeometry;return Jr(e,i),H4e(t,i,r,s),n.x+=t[0],n.y+=t[1],e}}(),jk=function(t,e,i){Jr(t,e);const r=t.targetGeometry;return r.x=i.x,r.y=i.y,r.spatialReference=i.spatialReference,t},Q4e=function(){const t=ci();return function(e,i,r,s,n){n||(n="center"),QR(t,r,s),Pw(t,t,.5);const o=t[0],l=t[1];switch(n){case"center":gr(t,0,0);break;case"left":gr(t,-o,0);break;case"top":gr(t,0,l);break;case"right":gr(t,o,0);break;case"bottom":gr(t,0,-l);break;case"top-left":gr(t,-o,l);break;case"bottom-left":gr(t,-o,-l);break;case"top-right":gr(t,o,l);break;case"bottom-right":gr(t,o,-l)}return QT(e,i,t),e}}();function qze(t,e,i){return Jr(t,e),t.rotation+=i,t}function eOe(t,e,i){return Jr(t,e),t.rotation=i,t}const tOe=function(){const t=ci();return function(e,i,r,s,n){return Jr(e,i),isNaN(r)||r===0||(IQ(t,s,i,n),e.scale=i.scale*r,PQ(t,t,e,n),QT(e,e,gr(t,t[0]-s[0],s[1]-t[1]))),e}}();function JV(t,e,i){return Jr(t,e),t.scale=i,t}const RQ=function(){const t=ci();return function(e,i,r,s,n,o){return Jr(e,i),isNaN(r)||r===0||(IQ(t,n,i,o),e.scale=i.scale*r,e.rotation+=s,PQ(t,t,e,o),QT(e,e,gr(t,t[0]-n[0],n[1]-t[1]))),e}}(),Bze=function(){const t=ci(),e=ci();return function(i,r,s,n,o,l,c){return OQ(e,l,c),VZ(t,o,e),n?RQ(i,r,s,n,t,l):tOe(i,r,s,t,l)}}(),IQ=function(){const t=La();return function(e,i,r,s){return ka(e,i,G4e(t,r,s,1))}}(),PQ=function(){const t=La();return function(e,i,r,s){return ka(e,i,iI(t,r,s,1))}}(),QT=function(){const t=ci(),e=La();return function(i,r,s){Jr(i,r);const n=Ag(r),o=i.targetGeometry;return bQ(e,eI(r)),KT(e,e,Hw(n,n)),ka(t,s,e),o.x+=t[0],o.y+=t[1],i}}();function jQ(){const t=new Float32Array(6);return t[0]=1,t[3]=1,t}function iOe(t){const e=new Float32Array(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function rOe(t,e,i,r,s,n){const o=new Float32Array(6);return o[0]=t,o[1]=e,o[2]=i,o[3]=r,o[4]=s,o[5]=n,o}function NQ(t,e,i,r){const s=e[r],n=e[r+1];t[r]=i[0]*s+i[2]*n+i[4],t[r+1]=i[1]*s+i[3]*n+i[5]}function sOe(t,e,i,r=0,s=0,n=2){const o=s||e.length/n;for(let l=r;l<o;l++)NQ(t,e,i,l*n)}Object.freeze(Object.defineProperty({__proto__:null,clone:iOe,create:jQ,fromValues:rOe,transform:NQ,transformMany:sOe},Symbol.toStringTag,{value:"Module"}));function vS(){const t=new Float32Array(9);return t[0]=1,t[4]=1,t[8]=1,t}function nOe(t){const e=new Float32Array(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function oOe(t,e,i,r,s,n,o,l,c){const d=new Float32Array(9);return d[0]=t,d[1]=e,d[2]=i,d[3]=r,d[4]=s,d[5]=n,d[6]=o,d[7]=l,d[8]=c,d}Object.freeze(Object.defineProperty({__proto__:null,clone:nOe,create:vS,fromValues:oOe},Symbol.toStringTag,{value:"Module"}));function DQ(){return new Float32Array(2)}function aOe(t){const e=new Float32Array(2);return e[0]=t[0],e[1]=t[1],e}function Ky(t,e){const i=new Float32Array(2);return i[0]=t,i[1]=e,i}function LQ(){return DQ()}function VQ(){return Ky(1,1)}function FQ(){return Ky(1,0)}function zQ(){return Ky(0,1)}const lOe=LQ(),uOe=VQ(),cOe=FQ(),hOe=zQ();Object.freeze(Object.defineProperty({__proto__:null,ONES:uOe,UNIT_X:cOe,UNIT_Y:hOe,ZEROS:lOe,clone:aOe,create:DQ,fromValues:Ky,ones:VQ,unitX:FQ,unitY:zQ,zeros:LQ},Symbol.toStringTag,{value:"Module"}));function dOe(t){return t instanceof Float32Array&&t.length>=2}function pOe(t){return Array.isArray(t)&&t.length>=2}function K5(t){return dOe(t)||pOe(t)}var Nk;const dl=[0,0];let El=Nk=class extends ae{constructor(t){super(t),this._viewpoint2D={center:ci(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new Ye,this.id=0,this.inverseTransform=La(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=La(),this.transformNoRotation=La(),this.displayMat3=vS(),this.displayViewMat3=vS(),this.viewMat3=vS(),this.viewMat2d=jQ(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(t){this._set("pixelRatio",t),this._update()}set size(t){this._set("size",t),this._update()}set viewpoint(t){if(t){const e=this._viewpoint2D,i=t.targetGeometry;e.center[0]=i.x,e.center[1]=i.y,e.rotation=t.rotation,e.scale=t.scale,e.spatialReference=i.spatialReference}this._update()}get visibleArea(){const[t,e]=this.size;return[this.toMap([0,0],0,0),this.toMap([0,0],0,e),this.toMap([0,0],t,e),this.toMap([0,0],t,0)]}copy(t){const e=this.size,i=this.viewpoint;return i&&e?(this.viewpoint=Jr(i,t.viewpoint),this._set("size",jm(e,t.size))):(this.viewpoint=t.viewpoint.clone(),this._set("size",[t.size[0],t.size[1]])),this._set("pixelRatio",t.pixelRatio),this}clone(){return new Nk({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(t,e,i){return K5(e)?ka(t,e,this.inverseTransform):(dl[0]=e,dl[1]=i,ka(t,dl,this.inverseTransform))}toScreen(t,e,i){return K5(e)?ka(t,e,this.transform):(dl[0]=e,dl[1]=i,ka(t,dl,this.transform))}toScreenNoRotation(t,e,i){return K5(e)?ka(t,e,this.transformNoRotation):(dl[0]=e,dl[1]=i,ka(t,dl,this.transformNoRotation))}wrapMapCoordinate(t,e){jm(t,e);const[i]=e,[r]=this.center,{extent:s,spatialReference:n}=this;let{xmin:o,xmax:l}=s;if(n.isWrappable){const c=CQ(n)/2;o=Math.max(o,r-c),l=Math.min(l,r+c)}return(i<o||i>l)&&(t[0]=K6(i,r,n)),t}getScreenTransform(t,e){const{center:i}=this._viewpoint2D,r=this._get("pixelRatio")||1,s=this._get("size");return tI(t,i,s,e,0,r),t}_update(){const{center:t,spatialReference:e,scale:i,rotation:r}=this._viewpoint2D,s=this._get("pixelRatio")||1,n=this._get("size"),o=new Ws({targetGeometry:new Re(t[0],t[1],e),scale:i,rotation:r});if(this._set("viewpoint",o),!n||!e||!i)return;this.resolution=Ag(o),this.rotation=r,this.scale=i,this.spatialReference=e,jm(this.center,t);const l=n[0]!==0?2/n[0]:0,c=n[1]!==0?-2/n[1]:0;Nm(this.displayMat3,l,0,0,0,c,0,-1,1,1);const d=KZ(this.viewMat3),m=Ky(n[0]/2,n[1]/2),v=Ky(-n[0]/2,-n[1]/2),w=XR(r);n4(d,d,m),eY(d,d,w),n4(d,d,v),Y1(this.displayViewMat3,this.displayMat3,d);const _=J6(this.viewMat2d,m);return Ww(_,_,w),Jy(_,_,v),q4e(this.extent,o,n),iI(this.transform,o,n,s),Y6(this.inverseTransform,this.transform),Y4e(this.transformNoRotation,o,n,s),this.worldScreenWidth=J4e(this.spatialReference,this.resolution),this._set("id",this.id+1),this.notifyChange("visibleArea"),this}};h([f({readOnly:!0})],El.prototype,"id",void 0),h([f({value:1,json:{write:!0}})],El.prototype,"pixelRatio",null),h([f({json:{write:!0}})],El.prototype,"size",null),h([f()],El.prototype,"spatialReference",void 0),h([f({type:Ws,json:{write:!0}})],El.prototype,"viewpoint",null),h([f({readOnly:!0})],El.prototype,"visibleArea",null),El=Nk=h([I("esri.views.2d.ViewState")],El);const KV=El;var Dk,Lk;let Wl=Dk=class extends $e{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new Dk({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};h([f()],Wl.prototype,"left",void 0),h([f()],Wl.prototype,"top",void 0),h([f()],Wl.prototype,"right",void 0),h([f()],Wl.prototype,"bottom",void 0),Wl=Dk=h([I("esri.views.2d.PaddedViewState.Padding")],Wl);let rm=Lk=class extends KV{constructor(...t){super(...t),this.paddedViewState=new KV,this._updateContent=(()=>{const e=ci();return()=>{const i=this._get("size"),r=this._get("padding");if(!i||!r)return;const s=this.paddedViewState;gr(e,r.left+r.right,r.top+r.bottom),W1(e,i,e),jm(s.size,e);const n=s.viewpoint;n&&(this.viewpoint=n)}})(),this.addHandles(Le(()=>[this.size,this.padding],()=>this._updateContent(),za)),this.padding=new Wl,this.size=[0,0]}set padding(t){this._set("padding",t||new Wl)}set viewpoint(t){if(t){this.paddedViewState.viewpoint=t;let e=t;const i=this._get("padding");i&&(e=X4e(t.clone(),t,this._get("size"),i));const{targetGeometry:r,rotation:s,scale:n}=e,{x:o,y:l,spatialReference:c}=r,d=this._viewpoint2D;d.center[0]=o,d.center[1]=l,d.rotation=s,d.scale=n,d.spatialReference=c,this._update()}}clone(){return new Lk({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};h([f()],rm.prototype,"paddedViewState",void 0),h([f({type:Wl})],rm.prototype,"padding",null),h([f()],rm.prototype,"viewpoint",null),rm=Lk=h([I("esri.views.2d.PaddedViewState")],rm);const rI=rm;let Dv=class extends $e{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};h([f()],Dv.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),h([f()],Dv.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),Dv=h([I("esri.views.support.debugFlags")],Dv);const fOe=new Dv,UQ=Symbol("Yield");let mOe=class{constructor(){this._tasks=new Array,this._numPendingTasks=Yy(0),this._readyToRun=Yy(!1)}get length(){return this._tasks.length}get updating(){return this._numPendingTasks.value>0}get readyToRun(){return this._readyToRun.value}_updateReadyToRun(){this._readyToRun.value=this._tasks.length>0}destroy(){this.cancelAll()}runTask(e){if(this.length===0)return UQ;for(;!e.done&&this._process(e);)e.madeProgress()}push(e,i,r){return this._addTask((s,n)=>new QV(s,n,e,i,r),Array.prototype.push)}unshift(e,i,r){return this._addTask((s,n)=>new QV(s,n,e,i,r),Array.prototype.unshift)}pushGenerator(e,i,r){return this._addTask((s,n)=>new yOe(s,n,e,i,r),Array.prototype.push)}_process(e){if(this._tasks.length===0)return!1;const i=this._tasks.shift();this._updateReadyToRun();try{if(Kr(i.signal))this._cancelTask(i,$t());else switch(i.type){case 0:this._processSimple(i,e);break;case 1:this._processGenerator(i,e);break;case 2:this._processIterator(i,e);break;default:}}catch(r){i.reject(r)}return!0}cancelAll(){const e=$t();for(const i of this._tasks)this._cancelTask(i,e);this._tasks.length=0,this._updateReadyToRun()}_cancelTask(e,i){if(e.abortCallback){const r=e.abortCallback(i);e.type===2&&e.iterator.return&&XV(e.iterator.return()),Xr(r)?r.then(e.resolve,e.reject):e.resolve(r)}else e.type===2&&e.iterator.throw&&XV(e.iterator.throw(i)),e.reject(i)}_onIteratorResult(e,i){i.done?e.resolve(i.value):(this._tasks.unshift(e),this._updateReadyToRun())}_processSimple(e,i){const r=e.callback(i);Xr(r)?r.then(e.resolve,e.reject):e.resolve(r)}_processGenerator(e,i){const r=e.generatorFunction(i),s=new gOe(e.resolve,e.reject,r,e.signal,e.abortCallback);this._processIterator(s,i)}_processIterator(e,i){const r=e.iterator.next(i);Xr(r)?r.then(s=>this._onIteratorResult(e,s),e.reject):this._onIteratorResult(e,r)}_addTask(e,i){return new Promise((r,s)=>{const n=e(r,s);i.call(this._tasks,n),++this._numPendingTasks.value,this._updateReadyToRun()}).finally(()=>--this._numPendingTasks.value)}};function XV(t){Xr(t)?t.then(X5,X5):X5(t)}function X5(t){Cr(t)||t instanceof Error||t instanceof B||t!=null&&typeof t=="object"&&"done"in t&&t.done||se.getLogger("esri.layers.support.PromiseQueue").warn("Generator iterator was aborted, but it is not done.")}let sI=class{constructor(e,i,r=void 0,s=void 0){this.resolve=e,this.reject=i,this.signal=r,this.abortCallback=s}},QV=class extends sI{constructor(e,i,r,s,n){super(e,i,s,n),this.callback=r,this.type=0}},yOe=class extends sI{constructor(e,i,r,s,n){super(e,i,s,n),this.generatorFunction=r,this.type=1}},gOe=class extends sI{constructor(e,i,r,s,n){super(e,i,s,n),this.iterator=r,this.type=2}};function vOe(){return new xOe}const Ke={RESOURCE_CONTROLLER_IMMEDIATE:"immediate",RESOURCE_CONTROLLER:"schedule",SLIDE:"slide",STREAM_DATA_LOADER:"stream loader",ELEVATION_QUERY:"elevation query",TERRAIN_SURFACE:"terrain",SURFACE_GEOMETRY_UPDATES:"surface geometry updates",LOD_RENDERER:"LoD renderer",GRAPHICS_CORE:"Graphics3D",I3S_CONTROLLER:"I3S",POINT_CLOUD_LAYER:"point cloud",FEATURE_TILE_FETCHER:"feature fetcher",STREAM_CONTROLLER:"stream controller",OVERLAY:"overlay",OVERLAY_RENDERER:"overlay renderer",STAGE:"stage",GRAPHICS_DECONFLICTOR:"graphics deconflictor",FILTER_VISIBILITY:"Graphics3D filter visibility",SCALE_VISIBILITY:"Graphics3D scale visibility",FRUSTUM_VISIBILITY:"Graphics3D frustum visibility",POINT_OF_INTEREST_FREQUENT:"POI frequent",POINT_OF_INTEREST_INFREQUENT:"POI infrequent",LABELER:"labeler",FEATURE_QUERY_ENGINE:"feature query",FEATURE_TILE_TREE:"feature tile tree",FEATURE_TILE_TREE_ACTIVE:"fast feature tile tree",ELEVATION_ALIGNMENT:"elevation alignment",ELEVATION_ALIGNMENT_SCENE:"elevation alignment scene",TEXT_TEXTURE_ATLAS:"text texture atlas",TEXTURE_UNLOAD:"texture unload",LINE_OF_SIGHT_TOOL:"line of sight tool",LINE_OF_SIGHT_TOOL_INTERACTIVE:"interactive line of sight tool",ELEVATION_PROFILE:"elevation profile",SNAPPING:"snapping",SHADOW_ACCUMULATOR:"shadow accumulator",CLOUDS_GENERATOR:"clouds generator",FLOW_GENERATOR:"flow generator",MAPVIEW_FETCH_QUEUE:"mapview fetch queue",MAPVIEW_LAYERVIEW_UPDATE:"mapview layerview update",MAPVIEW_VECTOR_TILE_PARSING_QUEUE:"mapview vector tile parsing queue",NONE:0,TEST_PRIO:1},Zn=0,eF=new Map([[Ke.RESOURCE_CONTROLLER_IMMEDIATE,Zn],[Ke.RESOURCE_CONTROLLER,4],[Ke.SLIDE,Zn],[Ke.STREAM_DATA_LOADER,Zn],[Ke.ELEVATION_QUERY,Zn],[Ke.TERRAIN_SURFACE,1],[Ke.SURFACE_GEOMETRY_UPDATES,1],[Ke.LOD_RENDERER,2],[Ke.GRAPHICS_CORE,2],[Ke.I3S_CONTROLLER,2],[Ke.POINT_CLOUD_LAYER,2],[Ke.FEATURE_TILE_FETCHER,2],[Ke.STREAM_CONTROLLER,2],[Ke.CLOUDS_GENERATOR,2],[Ke.OVERLAY,4],[Ke.OVERLAY_RENDERER,4],[Ke.STAGE,4],[Ke.GRAPHICS_DECONFLICTOR,4],[Ke.FILTER_VISIBILITY,4],[Ke.SCALE_VISIBILITY,4],[Ke.FRUSTUM_VISIBILITY,4],[Ke.POINT_OF_INTEREST_FREQUENT,6],[Ke.POINT_OF_INTEREST_INFREQUENT,30],[Ke.LABELER,8],[Ke.FEATURE_QUERY_ENGINE,8],[Ke.FEATURE_TILE_TREE,16],[Ke.FEATURE_TILE_TREE_ACTIVE,Zn],[Ke.ELEVATION_ALIGNMENT,12],[Ke.ELEVATION_ALIGNMENT_SCENE,14],[Ke.TEXT_TEXTURE_ATLAS,12],[Ke.TEXTURE_UNLOAD,12],[Ke.LINE_OF_SIGHT_TOOL,16],[Ke.LINE_OF_SIGHT_TOOL_INTERACTIVE,Zn],[Ke.SNAPPING,Zn],[Ke.SHADOW_ACCUMULATOR,30],[Ke.FLOW_GENERATOR,12],[Ke.MAPVIEW_FETCH_QUEUE,Zn],[Ke.MAPVIEW_LAYERVIEW_UPDATE,2],[Ke.MAPVIEW_VECTOR_TILE_PARSING_QUEUE,Zn]]);function tF(t){return eF.has(t)?eF.get(t):typeof t=="number"?t:1}const wOe=6.5,iF=1,bOe=30,_Oe=1e3/30,SOe=100,rF=.9;let xOe=class{get updating(){return this._updating.value}_updatingChanged(){this._updating.value=this._tasks.some(e=>e.needsUpdate)}constructor(){this._updating=Yy(!0),this._microTaskQueued=!1,this._frameNumber=0,this.performanceInfo={total:new Kv("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new qQ,this.state=1,this._tasks=new Array,this._runQueue=new Array,this._load=0,this._forceTask=!1,this._debug=!1,this._debugHandle=Le(()=>fOe.SCHEDULER_LOG_SLOW_TASKS,e=>this._debug=e,Qr);for(const e of Object.keys(Ke))this.performanceInfo.tasks.set(Ke[e],new Kv(String(Ke[e])))}destroy(){this._tasks.forEach(e=>e.remove()),this._tasks.length=0,this._runQueue.length=0,Dt(this._debugHandle),this._microTaskQueued=!1,this._updatingChanged()}taskRunningChanged(e){this._updatingChanged(),e&&this._budget.remaining>0&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.remaining>0&&this._schedule()&&this._runFrame())}))}registerTask(e,i){const r=new TOe(this,e,i);return this._tasks.push(r),this._updatingChanged(),this.performanceInfo.tasks.has(e)||this.performanceInfo.tasks.set(e,new Kv(e)),r}get load(){return this._load}frame(e){if(this._startFrameTaskTimes(),this._updateBudget(e)){const i=this._budget.now();return this._runFrame(),this._recordFrameTaskTimes(this._budget.now()-i),!0}return this._recordFrameTaskTimes(0),!1}_updateBudget(e){this._test&&(this._test.usedBudget=0),++this._frameNumber;let i=wOe,r=e.frameDuration,s=iF;switch(this.state){case 2:i=0,r=Math.max(SOe,e.frameDuration),s=bOe;break;case 1:r=Math.max(_Oe,e.frameDuration)}return r=r-e.elapsedFrameTime-i,this.state!==2&&r<iF&&!this._forceTask?(this._forceTask=!0,!1):(r=Math.max(r,s),this._budget.reset(r),this._updateLoad(),this._schedule())}_runFrame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case 2:this._runIdle();break;case 1:this._runInteracting();break;default:this._runAnimating()}this._test&&(this._test.usedBudget=this._budget.elapsed)}stopFrame(){this._budget.reset(0),this._budget.madeProgress()}removeTask(e){HE(this._tasks,e),HE(this._runQueue,e),this._updatingChanged()}_updateTask(e){this._tasks.forEach(i=>{i.name===e&&i.setPriority(e)})}_getState(e){if(this._runQueue.some(r=>r.name===e))return"s";let i="i";return this._tasks.forEach(r=>{r.name===e&&r.needsUpdate&&(r.schedulePriority<=1?i="r":i!=="r"&&(i="w"))}),i}_getRuntime(e){let i=0;return this._tasks.forEach(r=>{r.name===e&&(i+=r.runtime)}),i}_resetRuntimes(){this._tasks.forEach(e=>e.runtime=0)}_getRunning(){const e=new Map;if(this._tasks.forEach(r=>{r.needsUpdate&&e.set(r.name,(e.get(r.name)||0)+1)}),e.size===0)return null;let i="";return e.forEach((r,s)=>{i+=r>1?` ${r}x ${s}`:` ${s}`}),i}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const e=this._tasks.reduce((i,r)=>r.needsUpdate?++i:i,0);this._load=this._load*rF+e*(1-rF)}_schedule(){for(ihe(this._runQueue,e=>!!e.needsUpdate||(e.schedulePriority=e.basePriority,!1)),this._tasks.forEach(e=>{e.basePriority===Zn&&e.needsUpdate&&!this._runQueue.includes(e)&&e.blockFrame!==this._frameNumber&&this._runQueue.unshift(e)});this._runQueue.length===0;){let e=!1,i=0;if(this._tasks.forEach(r=>{r.needsUpdate&&r.schedulePriority!==0&&r.basePriority!==Zn&&r.blockFrame!==this._frameNumber&&(e=!0,i=Math.max(i,r.basePriority),r.schedulePriority===1?(r.schedulePriority=0,this._runQueue.push(r)):--r.schedulePriority)}),!e)return this._updatingChanged(),!1}return this._updatingChanged(),!0}_run(){do for(;this._runQueue.length>0;){const e=this._budget.now(),i=this._runQueue.pop();this._budget.resetProgress();try{i.task.runTask(this._budget)===UQ&&(i.blockFrame=this._frameNumber)}catch(s){se.getLogger("esri.views.support.Scheduler").error(`Exception in task "${i.name}"`,s),i.blockFrame=this._frameNumber}!this._budget.hasProgressed&&i.blockFrame!==this._frameNumber&&i.needsUpdate&&(i.name,i.blockFrame=this._frameNumber),i.schedulePriority=i.basePriority;const r=this._budget.now()-e;if(i.runtime+=r,this._frameTaskTimes.set(i.priority,this._frameTaskTimes.get(i.priority)+r),this._budget.remaining<=0)return void this._updatingChanged()}while(this._schedule());this._updatingChanged()}_startFrameTaskTimes(){for(const e of Object.keys(Ke))this._frameTaskTimes.set(Ke[e],0)}_recordFrameTaskTimes(e){this._frameTaskTimes.forEach((i,r)=>this.performanceInfo.tasks.get(r).push(i)),this.performanceInfo.total.push(e)}get test(){return this._test}},TOe=class{get task(){return this._task.value}get readyToRun(){return this._queue.readyToRun}get updating(){return this._queue.updating}constructor(e,i,r){this._scheduler=e,this.name=i,this.blockFrame=0,this.runtime=0,this._queue=new mOe,this._handles=new sg,this._basePriority=tF(i),this.schedulePriority=this._basePriority,this._task=Yy(r??this._queue),this._handles.add(Sn(()=>this.task.readyToRun,s=>e.taskRunningChanged(s)))}remove(){this.processQueue(x1),this._scheduler.removeTask(this),this.schedule=Q5.schedule,this.reschedule=Q5.reschedule,this.scheduleGenerator=Q5.scheduleGenerator,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(e){if(this.name===e)return;this.name=e;const i=tF(e);this._basePriority!==Zn&&this.schedulePriority===0||(this.schedulePriority=i),this._basePriority=i}get priority(){return this.name}set priority(e){this.setPriority(e)}get needsUpdate(){return this.readyToRun||!this.task.destroyed&&this.task.readyToRun}schedule(e,i,r){return this._queue.push(e,i,r)}reschedule(e,i,r){return this._queue.unshift(e,i,r)}scheduleGenerator(e,i,r){return this._queue.pushGenerator(e,i,r)}processQueue(e){return this._queue.runTask(e)}},qQ=class{constructor(){this._begin=(performance==null?void 0:performance.now())??0,this._budget=0,this._done=!1,this._progressed=!1,this._enabled=!0}run(e){return!this.done&&(e()===!0&&this.madeProgress(),!0)}get done(){return this._done}get budget(){return this._budget}madeProgress(){return this._progressed=!0,this._done=this.elapsed>=this._budget&&this._enabled,this._done}get enabled(){return this._enabled}set enabled(e){this._enabled=e}reset(e){this._begin=this.now(),this._budget=e,this.resetProgress()}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return this.now()-this._begin}resetProgress(){this._progressed=!1,this._done=!1}get hasProgressed(){return this._progressed}};const x1=new qQ;x1.enabled=!1;let $Oe=class{remove(){}processQueue(){}schedule(e,i,r){try{if(Kr(i)){const s=$t();return r?Promise.resolve(r(s)):Promise.reject(s)}return YE(e(x1))}catch(s){return Promise.reject(s)}}reschedule(e,i,r){return this.schedule(e,i,r)}async scheduleGenerator(e,i,r){if(Kr(i)){const n=$t();if(r)return r(n);throw n}const s=e(x1);for(;;){const n=s.next(x1),o=Xr(n)?await n:n;if(Kr(i)){const l=$t();if(r){const d=r(l),m=s.return(null);return Xr(m)&&await j1(m),d}const c=s.throw(l);throw Xr(c)&&await j1(c),l}if(o.done)return o.value}}};const Q5=new $Oe;let MOe=class{constructor(e){this.view=e,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this._scheduler=vOe(),this._schedulerHandle=Sn(()=>this._scheduler.updating,()=>this.requestFrame()),this.stationary=!0,this.prepare=()=>{var i;this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions,this._updateParameters.targetState.copy(this.view.state),((i=this.view.animation)==null?void 0:i.target)==null||Xr(this.view.animation.target)||(this._updateParameters.targetState.viewpoint=this.view.animation.target))},this.update=i=>{var l,c,d;if(this._updateRequested=!1,(l=this.view)==null?void 0:l.destroyed)return;const{allLayerViews:r,graphicsView:s,labelManager:n,state:{id:o}}=this.view;r==null||r.forEach(this._updateLayerView,this),n!=null&&(n.lastUpdateId!==o&&(n.viewChange(),n.lastUpdateId=o),n.updateRequested&&n.processUpdate(this._updateParameters)),s!=null&&(s.lastUpdateId!==o&&(s.viewChange(),s.lastUpdateId=o),s.updateRequested&&s.processUpdate(this._updateParameters)),(c=this.view.graphicsTileStore)==null||c.setViewState(this._updateParameters.state),this.view.animation?this._scheduler.state=0:this.view.interacting?this._scheduler.state=1:this._scheduler.state=2,this._scheduler.frame(i)||this._updateRequested||this._scheduler.state!==2||((d=this._frameTaskHandle)==null||d.pause())}}destroy(){this.stop(),this._schedulerHandle.remove(),this._scheduler.destroy()}get scheduler(){return this._scheduler}start(){if(this._frameTaskHandle)return;const e=this.view;this.stationary=e.stationary,this._updateParameters={state:e.state,targetState:new rI,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:e.renderingOptions},this._stationaryHandle=Le(()=>e.stationary,i=>{this.stationary=i,this.requestFrame()}),this._frameTaskHandle=Iy(this),this.requestUpdate()}stop(){var e;this._frameTaskHandle&&(this._updateRequested=!1,(e=this._stationaryHandle)==null||e.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(e){var s;if(!e.attached)return void this.requestUpdate();const i=this.view.state,r=e.lastUpdateId;r!=null&&(this.stationary||e.moving)||(e.moving=!0),r!==i.id&&e.viewChange(),this.stationary&&e.moving&&(e.moving=!1,e.moveEnd()),e.lastUpdateId=i.id,e.updateRequested&&e.processUpdate(this._updateParameters),"layerViews"in e&&((s=e.layerViews)==null||s.forEach(this._updateLayerView,this))}};function EOe(t,e){const{spatialReference:i}=e,r=[e.x,e.y];let s,n,o,l;const c=[0,0],d=AOe(t);for(let w=0;w<d.length;w++){const _=d[w];for(let x=0;x<_.length-1;x++){nwe(c,r,_,x);const T=ET(r,c);(s==null||T<s)&&(s=T,n=[...c],o=w,l=x)}}if(s==null||!n||o==null||l==null)throw new B("nearest-coordinate:failed","Failed to find the nearest coordinate");const[m,v]=n;return{coordinate:new Re({x:m,y:v,spatialReference:i}),distance:s}}function AOe(t){switch(t.type){case"extent":return[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]];case"polygon":return t.rings;case"polyline":return t.paths}}var Vk;let xd=Vk=class extends ER($e){constructor(t){super(t),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(this.geometry==null||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return ah(this.geometry,this.spatialReference)}catch(t){return se.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:t}),null}return this.geometry}constrain(t,e){if(this.normalizedGeometry==null)return t;const i=t.targetGeometry;if(this.normalizedGeometry.type==="extent"?Iw(this.normalizedGeometry,i):WR(this.normalizedGeometry,i))return t;const{coordinate:r}=EOe(this.normalizedGeometry,i);return r&&(t.targetGeometry=r),t}clone(){var t,e;return new Vk({geometry:(t=this.geometry)==null?void 0:t.clone(),spatialReference:(e=this.spatialReference)==null?void 0:e.clone()})}};h([f({constructOnly:!0})],xd.prototype,"geometry",void 0),h([f({readOnly:!0})],xd.prototype,"normalizedGeometry",null),h([f({constructOnly:!0})],xd.prototype,"spatialReference",void 0),xd=Vk=h([I("esri.views.2d.constraints.GeometryConstraint")],xd);var Fk;let Lv=Fk=class extends ER($e){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(t,e){return this.enabled&&e&&(this.rotationEnabled||(t.rotation=e.rotation)),t}clone(){return new Fk({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};h([f()],Lv.prototype,"enabled",void 0),h([f()],Lv.prototype,"rotationEnabled",void 0),Lv=Fk=h([I("esri.views.2d.constraints.RotationConstraint")],Lv);const BQ=Lv;var zk;let Rs=zk=class extends ER($e){constructor(t){super(t),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let t,{lods:e,minScale:i,maxScale:r,minZoom:s,maxZoom:n}=this,o=-1,l=-1,c=!1,d=!1;if(i!==0&&r!==0&&i<r&&([i,r]=[r,i]),!(e!=null&&e.length))return this._set("effectiveMinScale",i),void this._set("effectiveMaxScale",r);e=e.map(m=>m.clone()),e.sort((m,v)=>v.scale-m.scale),e.forEach((m,v)=>m.level=v);for(const m of e)!c&&i>0&&i>=m.scale&&(o=m.level,c=!0),!d&&r>0&&r>=m.scale&&(l=t?t.level:-1,d=!0),t=m;s===-1&&(s=i===0?0:o),n===-1&&(n=r===0?e.length-1:l),s=Math.max(s,0),s=Math.min(s,e.length-1),n=Math.max(n,0),n=Math.min(n,e.length-1),s>n&&([s,n]=[n,s]),i=e[s].scale,r=e[n].scale,e.splice(0,s),e.splice(n-s+1),e.forEach((m,v)=>{this._lodByScale[m.scale]=m,this._scales[v]=m.scale}),this._set("effectiveLODs",e),this._set("effectiveMinZoom",s),this._set("effectiveMaxZoom",n),this._set("effectiveMinScale",i),this._set("effectiveMaxScale",r)}constrain(t,e){if(e&&t.scale===e.scale)return t;const i=this.effectiveMinScale,r=this.effectiveMaxScale,s=t.targetGeometry,n=e&&e.targetGeometry,o=r!==0&&t.scale<r,l=i!==0&&t.scale>i;if(o||l){const c=l?i:r;if(e&&n){const d=(c-e.scale)/(t.scale-e.scale);s.x=n.x+(s.x-n.x)*d,s.y=n.y+(s.y-n.y)*d}t.scale=c}return this.snapToZoom&&this.effectiveLODs&&(t.scale=this._getClosestScale(t.scale)),t}fit(t){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(t,null);const e=this.scaleToZoom(t.scale),i=Math.abs(e-Math.floor(e));return t.scale=this.zoomToScale(i>.99?Math.round(e):Math.floor(e)),t}zoomToScale(t){if(!this.effectiveLODs)return 0;t-=this.effectiveMinZoom,t=Math.max(0,t);const e=this._scales;if(t<=0)return e[0];if(t>=e.length)return e[e.length-1];const i=Math.floor(t),r=Math.ceil(t);return e[i]+(t-i)*(e[r]-e[i])}scaleToZoom(t){if(!this.effectiveLODs)return-1;const e=this._scales;let i,r;if(t>=e[0])return this.effectiveMinZoom;if(t<=e[e.length-1])return this.effectiveMaxZoom;for(let s=0;s<e.length-1;s++){if(i=e[s],r=e[s+1],r===t)return s+this.effectiveMinZoom+1;if(i>t&&r<t)return s+this.effectiveMinZoom+1-(t-r)/(i-r)}return-1}snapToClosestScale(t){if(!this.effectiveLODs)return t;const e=this.scaleToZoom(t);return this.zoomToScale(Math.round(e))}snapToNextScale(t,e=.5){if(!this.effectiveLODs)return t*e;const i=Math.round(this.scaleToZoom(t));return this.zoomToScale(i+1)}snapToPreviousScale(t,e=2){if(!this.effectiveLODs)return t*e;const i=Math.round(this.scaleToZoom(t));return this.zoomToScale(i-1)}clone(){return new zk({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(t){return this._lodByScale[t]||(t=this._scales.reduce((e,i)=>Math.abs(i-t)<=Math.abs(e-t)?i:e,this._scales[0])),this._lodByScale[t].scale}};h([f({readOnly:!0})],Rs.prototype,"effectiveLODs",void 0),h([f({readOnly:!0})],Rs.prototype,"effectiveMinZoom",void 0),h([f({readOnly:!0})],Rs.prototype,"effectiveMaxZoom",void 0),h([f({readOnly:!0})],Rs.prototype,"effectiveMinScale",void 0),h([f({readOnly:!0})],Rs.prototype,"effectiveMaxScale",void 0),h([f()],Rs.prototype,"lods",void 0),h([f()],Rs.prototype,"minZoom",void 0),h([f()],Rs.prototype,"maxZoom",void 0),h([f()],Rs.prototype,"minScale",void 0),h([f()],Rs.prototype,"maxScale",void 0),h([f()],Rs.prototype,"snapToZoom",void 0),Rs=zk=h([I("esri.views.2d.constraints.ZoomConstraint")],Rs);const GQ=Rs,OOe={base:null,key:"type",typeMap:{extent:Ye,polygon:Qt}};let gi=class extends $e{constructor(e){super(e),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new ge}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(e){e?this._set("geometry",e):this._set("geometry",null)}get version(){var e,i,r;return`${(e=this._zoom)==null?void 0:e.uid}/${(i=this._rotation)==null?void 0:i.uid}/${(r=this._geometry)==null?void 0:r.uid}`}get _geometry(){var i,r;const e=this._get("_geometry");return e&&this.geometry===e.geometry&&((i=this.view)==null?void 0:i.constraintsInfo.spatialReference)===e.spatialReference?e:new xd({geometry:this.geometry,spatialReference:(r=this.view)==null?void 0:r.constraintsInfo.spatialReference})}get _rotation(){return new BQ({rotationEnabled:this.rotationEnabled})}get _zoom(){var c;const e=this._get("_zoom"),i=this.lods||((c=this.view)==null?void 0:c.constraintsInfo.lods),r=this.minZoom,s=this.maxZoom,n=this.minScale,o=this.maxScale,l=this.snapToZoom;return e&&e.lods===i&&e.minZoom===r&&e.maxZoom===s&&e.minScale===n&&e.maxScale===o&&e.snapToZoom===l?e:new GQ({lods:i,minZoom:r,maxZoom:s,minScale:n,maxScale:o,snapToZoom:l})}canZoomInTo(e){const i=this.effectiveMaxScale;return i===0||e>=i}canZoomOutTo(e){const i=this.effectiveMinScale;return i===0||e<=i}constrain(e,i){return this._zoom.constrain(e,i),this._rotation.constrain(e,i),this._geometry.constrain(e,i),this.customConstraints.forEach(r=>r.constrain(e,i)),e}constrainByGeometry(e){return this._geometry.constrain(e),this.customConstraints.forEach(i=>{var r;return(r=i.applyPanConstraint)==null?void 0:r.call(i,e)}),e}fit(e){return this._zoom.fit(e)}zoomToScale(e){return this._zoom.zoomToScale(e)}scaleToZoom(e){return this._zoom.scaleToZoom(e)}snapScale(e){return this._zoom.snapToClosestScale(e)}snapToNextScale(e){return this._zoom.snapToNextScale(e)}snapToPreviousScale(e){return this._zoom.snapToPreviousScale(e)}};h([f({readOnly:!0})],gi.prototype,"effectiveLODs",null),h([f({readOnly:!0})],gi.prototype,"effectiveMinScale",null),h([f({readOnly:!0})],gi.prototype,"effectiveMaxScale",null),h([f({readOnly:!0})],gi.prototype,"effectiveMinZoom",null),h([f({readOnly:!0})],gi.prototype,"effectiveMaxZoom",null),h([f({types:OOe,value:null})],gi.prototype,"geometry",null),h([f({type:[kr]})],gi.prototype,"lods",void 0),h([f()],gi.prototype,"minScale",void 0),h([f()],gi.prototype,"maxScale",void 0),h([f()],gi.prototype,"minZoom",void 0),h([f()],gi.prototype,"maxZoom",void 0),h([f()],gi.prototype,"rotationEnabled",void 0),h([f()],gi.prototype,"snapToZoom",void 0),h([f({type:ge})],gi.prototype,"customConstraints",void 0),h([f()],gi.prototype,"view",void 0),h([f({readOnly:!0})],gi.prototype,"version",null),h([f({type:xd,readOnly:!0})],gi.prototype,"_geometry",null),h([f({type:BQ})],gi.prototype,"_rotation",null),h([f({readOnly:!0,type:GQ})],gi.prototype,"_zoom",null),gi=h([I("esri.views.2d.MapViewConstraints")],gi);const sF=gi;let Vr=class extends $e{constructor(e){super(e),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([Le(()=>{var i;return(i=this.constraints)==null?void 0:i.version},i=>{this.constraints&&i&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))},za)])}get center(){if(!this.ready)return this._get("center");const{center:e,spatialReference:i}=this.state.paddedViewState;return this.state.commitProperty("id"),new Re({x:e[0],y:e[1],spatialReference:i})}set center(e){if(e==null)return;if(!this.ready)return void this._set("center",e);let i;try{i=this._project(e,this.state.spatialReference)}catch(s){return void se.getLogger(this).error(new B("mapview:invalid-center","could not project the value in the view's spatial reference",{input:e,error:s}))}const r=this.viewpoint;jk(r,r,i),this.viewpoint=r}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(e){if(e==null)return;if(!e.width||!e.height)return void se.getLogger(this).error(new B("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",e),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);let i;try{i=this._project(e,this.state.spatialReference)}catch(s){return void se.getLogger(this).error(new B("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:s}))}const r=this.viewpoint;B4e(r,r,i,this.state.size,{constraints:this.constraints}),this.viewpoint=r}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(e){this.ready?(this.state.padding=e,this._set("padding",this.state.padding)):this._set("padding",e)}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(e){if(isNaN(e))return;if(!this.ready)return void this._set("rotation",e);const i=this.viewpoint;eOe(i,i,e),this.viewpoint=i}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(e){if(!e||isNaN(e))return;if(!this.ready){this._set("scale",e),this._set("zoom",void 0);const r=this._get("extent");return void(r&&(this._set("extent",void 0),this._set("center",r.center)))}const i=this.viewpoint;JV(i,i,e),this.viewpoint=i}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")}set viewpoint(e){var n;if(e==null)return;if(!this.ready)return this._set("viewpoint",e),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);let i,r;try{i=this._project(e,this.state.spatialReference),!e.scale||isNaN(e.scale)?r=new B("mapview:invalid-viewpoint",`invalid scale value of ${e.scale}`):e.targetGeometry==null&&(r=new B("mapview:invalid-viewpoint","geometry not defined"))}catch(o){r=new B("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:o})}if(r)return void se.getLogger(this).error(r);this._scaleBeforeChangingSpatialReference=null;const s=new Ws({targetGeometry:new Re,scale:0,rotation:0});Jr(s,i),(n=this.constraints)==null||n.constrain(s,this.state.paddedViewState.viewpoint),this.state.viewpoint=s,this._set("viewpoint",s)}get visibleArea(){return this.ready?this.state.visibleArea:null}get zoom(){var e;return this.ready?((e=this.constraints)==null?void 0:e.scaleToZoom(this.scale))??-1:this._get("zoom")}set zoom(e){var s,n;if(!(e>=0))return;if(!this.ready){this._set("zoom",e),this._set("scale",void 0);const o=this._get("extent");return void(o&&(this._set("extent",void 0),this._set("center",o.center)))}const i=((s=this.constraints)==null?void 0:s.zoomToScale(e))??0;if(!i)return void this._set("zoom",-1);const r=this.viewpoint;JV(r,r,i),this.viewpoint=r,this._set("zoom",((n=this.constraints)==null?void 0:n.scaleToZoom(this.scale))??-1)}getUserStartupOptions(e){if(!e[0]&&!e[1])return{center:void 0,rotation:void 0,scale:void 0};const{padding:i,constraints:r}=this,s=this._get("center"),n=this._get("extent"),o=this._get("scale"),l=this._get("rotation"),c=this._get("viewpoint"),d=this._get("zoom"),m=d!=null&&r!=null&&r.zoomToScale(d)||void 0;let v,w,_;const x=c==null?void 0:c.rotation,T=c==null?void 0:c.targetGeometry;(T==null?void 0:T.type)==="extent"?v=T:(T==null?void 0:T.type)==="point"&&(w=T,_=c==null?void 0:c.scale);const M=n??v;return{center:s??w??(M==null?void 0:M.center),rotation:l??x,scale:(o??m??_??(M&&XT(M,[e[0]-i.left-i.right,e[1]-i.top-i.bottom])))||void 0}}startup(e,i,r,s){var o;const n=e.targetGeometry;try{this._project(e,r)}catch(l){se.getLogger(this).warn(new lo("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:n.toJSON(),spatialReference:r,error:l})),e.targetGeometry=s||new Re({x:0,y:0,spatialReference:r})}(o=this.constraints)==null||o.fit(e),this._set("state",new rI({padding:this.padding,size:i,viewpoint:e})),this._set("ready",!0)}teardown(){this._set("ready",!1);const{center:[e,i],spatialReference:r,rotation:s,scale:n}=this.state.paddedViewState,o=new Re({x:e,y:i,spatialReference:r});this._set("viewpoint",null),this._set("extent",null),this._set("center",o),this._set("zoom",-1),this._set("rotation",s),this._set("scale",n),this._set("state",null)}changeSpatialReference(e){var c;const i=this.state.paddedViewState.clone();if(this._scaleBeforeChangingSpatialReference==null)this._scaleBeforeChangingSpatialReference=i.scale;else{const d=i.viewpoint.clone();d.scale=this._scaleBeforeChangingSpatialReference,i.viewpoint=d}const r=i.clone(),[s,n]=i.center;let o=null;try{o=this._project(new Re({x:s,y:n,spatialReference:i.spatialReference}),e)}catch(d){hZ()||se.getLogger(this).warn(new lo("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:o==null?void 0:o.toJSON(),spatialReference:e,error:d}))}o||(o=new Re({x:0,y:0,spatialReference:e}));const l=jk(new Ws({targetGeometry:new Re,scale:0,rotation:0}),i.viewpoint,o);r.viewpoint=l;try{const m=[i.size[0]/2,i.size[1]/2],v=[m[0]+20,m[1]],w=i.toMap([0,0],v),{x:_,y:x}=this._project(new Re({x:w[0],y:w[1],spatialReference:i.spatialReference}),e);w[0]=_,w[1]=x,r.toScreen(w,w);const T=K4e(m,w,v),M=Math.hypot(w[0]-m[0],w[1]-m[1])/20;!Number.isFinite(M)||Math.abs(M)>4?(l.rotation=0,l.targetGeometry=new Re({x:0,y:0,spatialReference:e})):(l.scale*=M,l.scale>q("mapview-srswitch-adjust-rotation-scale-threshold")?l.rotation=0:l.rotation+=Number.isFinite(T)?T:0)}catch{}(c=this._get("constraints"))==null||c.constrain(l,void 0),this._get("state").viewpoint=l}resize(e,i){var o;if(!this.ready)return;const r=this.state;let s=this.state.paddedViewState.viewpoint;const n=this.state.paddedViewState.size.slice();r.size=[e,i],Q4e(s,s,n,this.state.paddedViewState.size,this.resizeAlign),s=((o=this.constraints)==null?void 0:o.constrain(s,void 0))??s,this.state.viewpoint=s}toMap(e){if(!this.ready)return null;const i=[0,0],[r,s]=this.state.toMap(i,[e.x,e.y]),n=this.state.spatialReference;return new Re({x:r,y:s,spatialReference:n})}toScreen(e,i){if(!this.ready)return null;const r=this._project(e,this.state.spatialReference),s=[r.x,r.y];return(i==null?void 0:i.pickClosestTarget)===!1||this.state.paddedViewState.wrapMapCoordinate(s,s),this.state.toScreen(s,s),rr(s[0],s[1])}_project(e,i){var n;const r=(e==null?void 0:e.targetGeometry)||e;if(!i)return e;if(!r)return null;if(i.imageCoordinateSystem||(n=r.spatialReference)!=null&&n.imageCoordinateSystem||vr(i,r.spatialReference))return e;const s=ah(r,i);if(!s)throw new B("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:r,spatialReference:i});return kOe(e)?(e.targetGeometry=s,e):s}};function kOe(t){return(t==null?void 0:t.declaredClass)==="esri.Viewpoint"}h([f({type:Re})],Vr.prototype,"center",null),h([f()],Vr.prototype,"constraints",void 0),h([f({type:Ye})],Vr.prototype,"extent",null),h([f({value:{top:0,right:0,bottom:0,left:0},cast:t=>({top:0,right:0,bottom:0,left:0,...t})})],Vr.prototype,"padding",null),h([f()],Vr.prototype,"ready",void 0),h([f()],Vr.prototype,"resizeAlign",void 0),h([f({readOnly:!0})],Vr.prototype,"resolution",null),h([f({type:Number})],Vr.prototype,"rotation",null),h([f({type:Number})],Vr.prototype,"scale",null),h([f({readOnly:!0})],Vr.prototype,"state",void 0),h([f({type:Ws})],Vr.prototype,"viewpoint",null),h([f({readOnly:!0})],Vr.prototype,"visibleArea",null),h([f()],Vr.prototype,"zoom",null),Vr=h([I("esri.views.2d.ViewStateManager")],Vr);const nF=160;let Vv=class extends $e{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),this._timer==null&&(this._timer=setInterval(()=>{performance.now()-this._timestamp>=nF&&this.clear()},nF))}clear(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}};h([f()],Vv.prototype,"_timer",void 0),h([f()],Vv.prototype,"stationary",null),Vv=h([I("esri.views.2d.support.StationaryManager")],Vv);const COe=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.fullOpacity=1,this.stateManager=new Vr({constraints:new sF({view:this})}),this.stationaryManager=new Vv,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!1,labelsAnimationTime:0,labelCollisionsEnabled:!1},this.frameTask=new MOe(this),this.viewEvents=new tQ(this),this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([Le(()=>this.viewpoint,()=>this.stationaryManager.flip(),za)])}get constraintsInfo(){return{lods:null,spatialReference:null}}get extent(){var r;return((r=this.stateManager)==null?void 0:r.extent)??null}set extent(r){this.stateManager.extent=r}get state(){return this.stateManager.state}get interacting(){return!1}get stationary(){return!this.animation&&this.stationaryManager.stationary}set animation(r){const s=this._get("animation");if(r===s)return;if(s&&s.stop(),r!==this.animationManager.animation&&this.animationManager.stop(),!r||r.isFulfilled())return void this._set("animation",null);this._set("animation",r);const n=()=>{var o;this.destroyed||r===this._get("animation")&&(this._set("animation",null),(o=this.frameTask)==null||o.requestFrame())};r.when(n,n)}get constraints(){var r;return(r=this.stateManager)==null?void 0:r.constraints}set constraints(r){r.view=this;const s=this.stateManager.constraints;this.stateManager.constraints=r,s==null||s.destroy()}get padding(){var r;return(r=this.stateManager)==null?void 0:r.padding}set padding(r){this.stateManager&&(this.stateManager.padding=r)}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(r){this.stateManager.resizeAlign=r}get rotation(){return this.stateManager.rotation??0}set rotation(r){const{rotationEnabled:s}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=r,this.constraints.rotationEnabled=s}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(r){this.stateManager.viewpoint=r,this.frameTask.requestFrame()}};return h([f({readOnly:!0})],i.prototype,"animationManager",void 0),h([f({readOnly:!0})],i.prototype,"fullOpacity",void 0),h([f()],i.prototype,"stateManager",void 0),h([f()],i.prototype,"constraintsInfo",null),h([f()],i.prototype,"extent",null),h([f({readOnly:!0})],i.prototype,"state",null),h([f({readOnly:!0})],i.prototype,"mapViewNavigation",void 0),h([f()],i.prototype,"renderingOptions",void 0),h([f({readOnly:!0})],i.prototype,"interacting",null),h([f()],i.prototype,"stationary",null),h([f()],i.prototype,"animation",null),h([f({type:sF})],i.prototype,"constraints",null),h([f()],i.prototype,"padding",null),h([f()],i.prototype,"resizeAlign",null),h([f()],i.prototype,"rotation",null),h([f({readOnly:!0})],i.prototype,"viewEvents",void 0),h([f({type:Ws})],i.prototype,"viewpoint",null),i=h([I("esri.views.Viewport2DBaseMixin")],i),i},ROe=()=>dt.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;var wy;let sm=(wy=class extends l6{constructor(e){super(e),this.state="running",this.target=null,this._resolver=null}initialize(){this._resolver=bn(),this.addResolvingPromise(this._resolver.promise)}get done(){return this.state==="finished"||this.state==="stopped"}stop(){var e;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","stopped"),(e=this._resolver)==null||e.reject(new B("view:animation-stopped","ViewAnimation stopped")))}finish(){var e;this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","finished"),(e=this._resolver)==null||e.resolve())}update(e,i){i||(i=Xr(e)?"waiting-for-target":"running"),this._set("target",e),this._set("state",i)}},wy.state={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"},wy);h([f({readOnly:!0})],sm.prototype,"done",null),h([f({readOnly:!0,type:String})],sm.prototype,"state",void 0),h([f()],sm.prototype,"target",void 0),sm=h([I("esri.views.ViewAnimation")],sm);const Uk=sm;let wS=class extends $e{constructor(e){super(e),this._gotoTask=null}destroy(){this._gotoTask=null}async goTo(e,i){if(!e)return void se.getLogger(this).error("#goTo()","target cannot be null or undefined");const r=new Uk;this.view.animation=r,await h6(()=>this.view.ready,i);const s={...i,animate:(i==null?void 0:i.animate)??(!ROe()&&this.view.animationsEnabled),animationMode:(i==null?void 0:i.animationMode)??"auto"},{extent:n,spatialReference:o,size:l,viewpoint:c,constraints:d,padding:m,allLayerViews:v}=this.view,w=z4e(e,{extent:n,spatialReference:o,size:l,viewpoint:c,constraints:d,padding:m,allLayerViews:v,pickClosestTarget:(i==null?void 0:i.pickClosestTarget)??!0});return r==null||r.update(w),this._gotoTask={},s.animate?this._gotoAnimated(w,s):this._gotoImmediate(w,s)}_gotoImmediate(e,i){const r=this._gotoTask,s=this.view.animation,n=e.then(o=>{if(Gt(i),r!==this._gotoTask)throw new B("view:goto-interrupted","Goto was interrupted");this.view.viewpoint=s.target=o,s.finish()});return this._cancellableGoTo(r,s,n,i)}_gotoAnimated(e,i){const r=this._gotoTask,s=this.view.animation;if(!s)return Promise.resolve();const n=e.then(o=>{if(Gt(i),r!==this._gotoTask)throw new B("view:goto-interrupted","Goto was interrupted");return s.update(o),this.view.animationManager.animate(s,this.view.viewpoint,i),s.when().then(()=>{},()=>{})});return this._cancellableGoTo(r,s,n,i)}_cancellableGoTo(e,i,r,s){const n=()=>e===this._gotoTask;return Hhe(r,s).finally(()=>{n()&&(i.done||i.stop())})}};h([f({constructOnly:!0})],wS.prototype,"view",void 0),wS=h([I("esri.views.2d.GoToManager")],wS);function HQ(t,e){switch(e){case"primary":return t.pointerType==="touch"||t.button===0;case"secondary":return t.pointerType!=="touch"&&t.button===2;case"tertiary":return t.pointerType!=="touch"&&t.button===1}}function WQ(t,e){return e.some(i=>HQ(t,i))}function oF(t,{dragPrimary:e,dragSecondary:i,dragTertiary:r}){return[{key:"primary",value:e},{key:"secondary",value:i},{key:"tertiary",value:r}].filter(s=>s.value===t).map(s=>s.key)}let aF=class extends or{constructor(e,i){super(!0),this._view=e,this.registerIncoming("double-click",i,r=>this._handleDoubleClick(r,i))}_handleDoubleClick(e,i){HQ(e.data,"primary")&&(e.stopPropagation(),i?this._view.mapViewNavigation.zoomOut([e.data.x,e.data.y]):this._view.mapViewNavigation.zoomIn([e.data.x,e.data.y]))}},IOe=class extends or{constructor(e,i,r){super(!0),this.view=e,this.pointerType=i,this.registerIncoming("double-tap-drag",r,s=>this._handleDoubleTapDrag(s))}_handleDoubleTapDrag(e){const{data:i}=e,{pointerType:r}=i;if(r!==this.pointerType)return;e.stopPropagation();const{action:s,delta:n}=i,{view:o}=this,{mapViewNavigation:l}=o;switch(s){case"begin":{const{scale:c}=o;this._startScale=c,this._currentScale=c,this._previousDelta=n,l.begin();break}case"update":{if(this._previousDelta.y===n.y)return;this._previousDelta=n;const c=1.015**n.y,d=this._startScale*c,m=d/this._currentScale;l.setViewpointImmediate(m),this._currentScale=d;break}case"end":{const{constraints:c}=o,{effectiveLODs:d,snapToZoom:m}=c;if(!m||!d)return void l.end();const v=c.snapScale(this._currentScale),w=(n.y>0?Math.max(v,c.snapToPreviousScale(this._startScale)):Math.min(v,c.snapToNextScale(this._startScale)))/this._currentScale;l.zoom(w).then(()=>{l.end()});break}}}},e3=class{constructor(e){this._callbacks=e,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(e){const i=e.data,r=i.pointers.size;switch(i.action){case"start":this._currentCount=r,this._emitStart(e);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=r,this._emitStart(e);break;case"update":this._emitUpdate(e);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=r,this._emitStart(e);break;case"end":this._emitEnd(e),this._currentCount=0}this._previousEvent=e}_emitStart(e){var i,r;this._startEvent=e,(r=(i=this._callbacks).condition)!=null&&r.call(i,this._currentCount,e)&&this._callbacks.start(this._currentCount,e,this._startEvent)}_emitUpdate(e){var i,r;(r=(i=this._callbacks).condition)!=null&&r.call(i,this._currentCount,e)&&this._callbacks.update(this._currentCount,e,this._startEvent)}_emitEnd(e){var i,r;(r=(i=this._callbacks).condition)!=null&&r.call(i,this._currentCount,e)&&this._callbacks.end(this._currentCount,e,this._startEvent),this._startEvent=null}},POe=class extends or{constructor(e,i,r){super(!0),this.view=e,this.pointerActions=i,this.registerIncoming("drag",r,s=>this._handleDrag(s)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(e){super.onInstall(e),this._dragEventSeparator=new e3({start:(i,r)=>{this.view.mapViewNavigation.pan.begin(this.view,r.data),r.stopPropagation()},update:(i,r)=>{this.view.mapViewNavigation.pan.update(this.view,r.data),r.stopPropagation()},end:(i,r)=>{this.view.mapViewNavigation.pan.end(this.view,r.data),r.stopPropagation()},condition:(i,r)=>i===1&&WQ(r.data,this.pointerActions)})}_handleDrag(e){const i=this.view.mapViewNavigation;i.pinch.zoomMomentum||i.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(e)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}},jOe=class extends or{constructor(e,i,r){super(!0),this._view=e,this.pointerActions=i;const s=this._view.mapViewNavigation;this._dragEventSeparator=new e3({start:(n,o)=>{s.rotate.begin(this._view,o.data),o.stopPropagation()},update:(n,o)=>{s.rotate.update(this._view,o.data),o.stopPropagation()},end:(n,o)=>{s.rotate.end(),o.stopPropagation()},condition:(n,o)=>n===1&&WQ(o.data,this.pointerActions)}),this.registerIncoming("drag",r,n=>this._dragEventSeparator.handle(n))}};function ZQ(t){const e=t[0],i=t[1],r=t[2];return Math.sqrt(e*e+i*i+r*r)}function NOe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function DOe(t,e,i,r){return t[0]=e,t[1]=i,t[2]=r,t}function LOe(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t}function YQ(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t}function JQ(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t}function KQ(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t}function VOe(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function FOe(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function zOe(t,e){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t}function UOe(t,e){return t[0]=Math.sign(e[0]),t[1]=Math.sign(e[1]),t[2]=Math.sign(e[2]),t}function qOe(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t}function BOe(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t}function GOe(t,e=0,i=1){return t[0]=Math.min(Math.max(t[0],e),i),t[1]=Math.min(Math.max(t[1],e),i),t[2]=Math.min(Math.max(t[2],e),i),t}function HOe(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function XQ(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function WOe(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t}function QQ(t,e){const i=e[0]-t[0],r=e[1]-t[1],s=e[2]-t[2];return Math.sqrt(i*i+r*r+s*s)}function eee(t,e){const i=e[0]-t[0],r=e[1]-t[1],s=e[2]-t[2];return i*i+r*r+s*s}function tee(t){const e=t[0],i=t[1],r=t[2];return e*e+i*i+r*r}function ZOe(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function YOe(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function qk(t,e){const i=e[0],r=e[1],s=e[2];let n=i*i+r*r+s*s;return n>0&&(n=1/Math.sqrt(n),t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n),t}function iee(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function JOe(t,e,i){const r=e[0],s=e[1],n=e[2],o=i[0],l=i[1],c=i[2];return t[0]=s*c-n*l,t[1]=n*o-r*c,t[2]=r*l-s*o,t}function KOe(t,e,i){const r=e[0],s=e[1],n=e[2],o=i[0],l=i[1],c=i[2],d=s*c-n*l,m=n*o-r*c,v=r*l-s*o,w=Math.sqrt(d*d+m*m+v*v);return t[0]=d/w,t[1]=m/w,t[2]=v/w,t}function XOe(t,e,i,r){const s=e[0],n=e[1],o=e[2];return t[0]=s+r*(i[0]-s),t[1]=n+r*(i[1]-n),t[2]=o+r*(i[2]-o),t}function QOe(t,e,i,r,s,n){const o=n*n,l=o*(2*n-3)+1,c=o*(n-2)+n,d=o*(n-1),m=o*(3-2*n);return t[0]=e[0]*l+i[0]*c+r[0]*d+s[0]*m,t[1]=e[1]*l+i[1]*c+r[1]*d+s[1]*m,t[2]=e[2]*l+i[2]*c+r[2]*d+s[2]*m,t}function eke(t,e,i,r,s,n){const o=1-n,l=o*o,c=n*n,d=l*o,m=3*n*l,v=3*c*o,w=c*n;return t[0]=e[0]*d+i[0]*m+r[0]*v+s[0]*w,t[1]=e[1]*d+i[1]*m+r[1]*v+s[1]*w,t[2]=e[2]*d+i[2]*m+r[2]*v+s[2]*w,t}function tke(t,e=1){const i=MT,r=2*i()*Math.PI,s=2*i()-1,n=Math.sqrt(1-s*s)*e;return t[0]=Math.cos(r)*n,t[1]=Math.sin(r)*n,t[2]=s*e,t}function ike(t,e,i){const r=e[0],s=e[1],n=e[2];return t[0]=i[0]*r+i[4]*s+i[8]*n+i[12],t[1]=i[1]*r+i[5]*s+i[9]*n+i[13],t[2]=i[2]*r+i[6]*s+i[10]*n+i[14],t}function rke(t,e,i){const r=e[0],s=e[1],n=e[2];return t[0]=r*i[0]+s*i[3]+n*i[6],t[1]=r*i[1]+s*i[4]+n*i[7],t[2]=r*i[2]+s*i[5]+n*i[8],t}function ske(t,e,i){const r=i[0],s=i[1],n=i[2],o=i[3],l=e[0],c=e[1],d=e[2],m=s*d-n*c,v=n*l-r*d,w=r*c-s*l,_=s*w-n*v,x=n*m-r*w,T=r*v-s*m,M=2*o;return t[0]=l+m*M+2*_,t[1]=c+v*M+2*x,t[2]=d+w*M+2*T,t}function nke(t,e,i,r){const s=[],n=[];return s[0]=e[0]-i[0],s[1]=e[1]-i[1],s[2]=e[2]-i[2],n[0]=s[0],n[1]=s[1]*Math.cos(r)-s[2]*Math.sin(r),n[2]=s[1]*Math.sin(r)+s[2]*Math.cos(r),t[0]=n[0]+i[0],t[1]=n[1]+i[1],t[2]=n[2]+i[2],t}function oke(t,e,i,r){const s=[],n=[];return s[0]=e[0]-i[0],s[1]=e[1]-i[1],s[2]=e[2]-i[2],n[0]=s[2]*Math.sin(r)+s[0]*Math.cos(r),n[1]=s[1],n[2]=s[2]*Math.cos(r)-s[0]*Math.sin(r),t[0]=n[0]+i[0],t[1]=n[1]+i[1],t[2]=n[2]+i[2],t}function ake(t,e,i,r){const s=[],n=[];return s[0]=e[0]-i[0],s[1]=e[1]-i[1],s[2]=e[2]-i[2],n[0]=s[0]*Math.cos(r)-s[1]*Math.sin(r),n[1]=s[0]*Math.sin(r)+s[1]*Math.cos(r),n[2]=s[2],t[0]=n[0]+i[0],t[1]=n[1]+i[1],t[2]=n[2]+i[2],t}function lke(t,e){qk(lF,t),qk(uF,e);const i=iee(lF,uF);return i>1?0:i<-1?Math.PI:Math.acos(i)}const lF=rh(),uF=rh();function uke(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function cke(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function hke(t,e){if(t===e)return!0;const i=t[0],r=t[1],s=t[2],n=e[0],o=e[1],l=e[2],c=ws();return Math.abs(i-n)<=c*Math.max(1,Math.abs(i),Math.abs(n))&&Math.abs(r-o)<=c*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(s-l)<=c*Math.max(1,Math.abs(s),Math.abs(l))}function dke(t,e,i){const r=i[0]-e[0],s=i[1]-e[1],n=i[2]-e[2];let o=r*r+s*s+n*n;return o>0?(o=1/Math.sqrt(o),t[0]=r*o,t[1]=s*o,t[2]=n*o,t):(t[0]=0,t[1]=0,t[2]=0,t)}const pke=YQ,fke=JQ,mke=KQ,yke=QQ,gke=eee,vke=ZQ,wke=tee;Object.freeze(Object.defineProperty({__proto__:null,abs:zOe,add:LOe,angle:lke,bezier:eke,ceil:VOe,clamp:GOe,copy:NOe,cross:JOe,crossAndNormalize:KOe,direction:dke,dist:yke,distance:QQ,div:mke,divide:KQ,dot:iee,equals:hke,exactEquals:cke,floor:FOe,hermite:QOe,inverse:YOe,len:vke,length:ZQ,lerp:XOe,max:BOe,min:qOe,mul:fke,multiply:JQ,negate:ZOe,normalize:qk,random:tke,rotateX:nke,rotateY:oke,rotateZ:ake,round:HOe,scale:XQ,scaleAndAdd:WOe,set:DOe,sign:UOe,sqrDist:gke,sqrLen:wke,squaredDistance:eee,squaredLength:tee,str:uke,sub:pke,subtract:YQ,transformMat3:rke,transformMat4:ike,transformQuat:ske},Symbol.toStringTag,{value:"Module"}));function Eo(t){let e=t*t;return t<0&&(e*=-1),e}function bke(t){return t.translation[0]=0,t.translation[1]=0,t.translation[2]=0,t.heading=0,t.tilt=0,t}function _ke(t,e,i){const r=i,s=t.state,n=t.device,o=e.tiltDirection==="forward-down"?1:-1,l=1;return n.deviceType==="standard"?(r.translation[0]=Eo(s.axes[0]),r.translation[1]=Eo(s.axes[1]),r.translation[2]=Eo(s.buttons[7])-Eo(s.buttons[6]),r.heading=Eo(s.axes[2]),r.tilt=Eo(s.axes[3])):n.deviceType==="spacemouse"&&(r.translation[0]=1.2*Eo(s.axes[0]),r.translation[1]=1.2*Eo(s.axes[1]),r.translation[2]=2*-Eo(s.axes[2]),r.heading=1.2*Eo(s.axes[5]),r.tilt=1.2*Eo(s.axes[3])),r.tilt*=o,XQ(r.translation,r.translation,l),r}function Ske(t){return t.translation[0]===0&&t.translation[1]===0&&t.translation[2]===0&&t.heading===0&&t.tilt===0&&t.zoom===0}let xke=class extends or{constructor(e){super(!0),this._view=e,this._frameTask=null,this._watchHandles=new sg,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",i=>this._handleGamePadEvent(i)),this._handle.pause()}onInstall(e){super.onInstall(e),this._watchHandles.add([Le(()=>{var i;return(i=this._view.navigation.gamepad)==null?void 0:i.enabled},i=>{i?(this._handle.resume(),this._frameTask||(this._frameTask=Iy({update:r=>this._frameUpdate(r.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},Qr)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(e){var r;const i=this._view.navigation.gamepad.device;i&&e.data.device!==i||this._currentDevice&&this._currentDevice!==e.data.device||(e.data.action==="end"?(this._currentDevice=null,bke(this._transformation)):(this._currentDevice=e.data.device,_ke(e.data,this._view.navigation.gamepad,this._transformation)),(r=this._frameTask)==null||r.resume())}_frameUpdate(e){var v;const i=this._transformation;if(Ske(i))return void((v=this._frameTask)==null?void 0:v.pause());const r=this._view.viewpoint.clone(),s=this._view.navigation.gamepad.velocityFactor,n=$ke*s*e;QT(r,r,[i.translation[0]*n,-i.translation[1]*n]);const o=1+i.translation[2]*Mke*e,l=this._view.constraints.rotationEnabled?-i.heading*Tke*e:0,c=this._view.size,d=[c[0]/2,c[1]];RQ(r,r,o,l,d,c);const m=this._view.constraints.constrain(r,this._view.viewpoint);this._view.viewpoint=m}};const Tke=.06,$ke=.7,Mke=6e-4;function ree(t){const e=()=>t(document.visibilityState==="visible");return document.addEventListener("visibilitychange",e),at(()=>document.removeEventListener("visibilitychange",e))}let Eke=class extends or{constructor(e,i,r){super(!0),this.view=e,this.keys=i,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=s=>{const n=this._keyMap[s.data.key];if(s.modifiers.has("Meta")||s.modifiers.has("Control"))return void this._stopMovement();if(n==null)return;s.stopPropagation(),s.preventDefault();const o=s.type==="key-down";if(this._pressedKeys[o?"add":"delete"](n),o){if(this._direction===n)return;this._direction=n,this._isSticky=!1,this._setTimeout(()=>{this._isSticky&&this._handlePopKey()})}else{const l=this._timeout===void 0,c=this._pressedKeys.size>0;l||c?this._handlePopKey():this._isSticky=!0}},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),this._direction==null&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[i.left]:"left",[i.right]:"right",[i.up]:"up",[i.down]:"down"},this.registerIncoming("key-down",r,this._handleKey),this.registerIncoming("key-up",r,this._handleKey),this.registerIncoming("blur",r,this._stopMovement),this._visibilityHandle=ree(s=>s?null:this._stopMovement())}onUninstall(){var e;this._stopMovement(),(e=this._visibilityHandle)==null||e.remove()}get _direction(){return this._currentDirection}set _direction(e){const i=this._currentDirection!=null;if(e!=null){if(i||this.view.mapViewNavigation.begin(),this._currentDirection!==e)switch(e){case"left":this.view.mapViewNavigation.continuousPanLeft();break;case"right":this.view.mapViewNavigation.continuousPanRight();break;case"up":this.view.mapViewNavigation.continuousPanUp();break;case"down":this.view.mapViewNavigation.continuousPanDown()}}else i&&this.view.mapViewNavigation.stop();this._currentDirection=e}_setTimeout(e){clearTimeout(this._timeout),this._timeout=e===void 0?void 0:setTimeout(()=>{this._timeout=void 0,e()},this._stickyKeyDuration)}},Ake=class extends or{constructor(e,i,r){super(!0),this.view=e,this.keys=i,this._keyToDirection=new Map,this._pressed=!1,this._addKeysMapping(i),this.registerIncoming("key-down",r,s=>this._handleKeyDown(s)),this.registerIncoming("key-up",r,s=>this._handleKeyUp(s)),this.registerIncoming("blur",r,()=>this._handleStop()),this._visibilityHandle=ree(s=>s?null:this._handleStop())}onUninstall(){var e;(e=this._visibilityHandle)==null||e.remove(),this._handleStop()}_addKeysMapping(e){this._addKeyMapping(e.clockwise,"clockwise"),this._addKeyMapping(e.counterClockwise,"counterClockwise"),this._addKeyMapping(e.reset,"reset")}_addKeyMapping(e,i){for(const r of e)this._keyToDirection.set(r,i)}_handleKeyDown(e){e.data.repeat||this._handleKey(e,!0)}_handleKeyUp(e){this._handleKey(e,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(e,i){const r=e.modifiers;if(r.size>0&&!r.has("Shift")||!this.view.constraints.rotationEnabled)return;const s=this._keyToDirection.get(e.data.key);if(this._pressed=s!=null,this._pressed){if(e.preventDefault(),i)switch(this.view.mapViewNavigation.begin(),s){case"clockwise":this.view.mapViewNavigation.continuousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continuousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();e.stopPropagation()}}},Oke=class extends or{constructor(e,i,r){super(!0),this.view=e,this.keys=i,this._keysToZoomAction={},this.registerIncoming("key-down",r,s=>this._handleKeyDown(s)),i.zoomIn.forEach(s=>this._keysToZoomAction[s]=0),i.zoomOut.forEach(s=>this._keysToZoomAction[s]=1)}_handleKeyDown(e){this._handleKey(e)}_handleKey(e){const i=e.modifiers;if(i.size>0&&!i.has("Shift"))return;const{key:r}=e.data;if(!(r in this._keysToZoomAction))return;const s=this._keysToZoomAction[r],{mapViewNavigation:n}=this.view;let o=null;switch(s){case 0:o=n.zoomIn();break;case 1:o=n.zoomOut();break;default:return}n.begin(),o.then(()=>n.end()),e.stopPropagation()}};const kke=.6;let Cke=class extends or{constructor(e,i){super(!0),this._view=e,this._canZoom=!0,this.registerIncoming("mouse-wheel",i,r=>this._handleMouseWheel(r))}_handleMouseWheel(e){if(this._view.navigation.actionMap.mouseWheel!=="zoom"||(e.preventDefault(),e.stopPropagation(),!this._canZoom))return;const i=this._view.mapViewNavigation,{x:r,y:s,deltaY:n}=e.data,o=1/kke**(1/60*n),l=i.zoom(o,[r,s]);this._canZoom=!1,l.catch(()=>{}).then(()=>{this._canZoom=!0,i.end()})}},Rke=class extends or{constructor(e){super(!0),this.view=e,this.registerIncoming("drag",r=>this._handleDrag(r)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const i=this.view.mapViewNavigation;this._dragEventSeparator=new e3({start:(r,s)=>{i.pinch.begin(this.view,s.data),s.stopPropagation()},update:(r,s)=>{i.pinch.update(this.view,s.data),s.stopPropagation()},end:(r,s)=>{i.pinch.end(this.view),s.stopPropagation()},condition:r=>r>=2})}_handleDrag(e){this._dragEventSeparator.handle(e)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}};function cF(t){const e=t.native;return e?{buttons:e.buttons.map(i=>i.pressed?i.value||1:0),axes:e.axes.map(i=>jke(i,t.axisThreshold))}:{buttons:[],axes:[]}}function Ike(t,e){if(t.axes.length!==e.axes.length||t.buttons.length!==e.buttons.length)return!1;for(let i=0;i<t.axes.length;i++)if(t.axes[i]!==e.axes[i])return!1;for(let i=0;i<t.buttons.length;i++)if(t.buttons[i]!==e.buttons[i])return!1;return!0}function Pke(t){for(let e=0;e<t.axes.length;e++)if(t.axes[e]!==0)return!1;for(let e=0;e<t.buttons.length;e++)if(t.buttons[e]!==0)return!1;return!0}function jke(t,e){const i=Math.abs(t);return i<e?0:Math.sign(t)*(i-e)/(1-e)}let Nke=class{constructor(e,i){this._element=e,this._input=i,this._hasEventListeners=!1,this._onConnectGamepad=n=>{this._connectGamepad(n.gamepad)},this._onDisconnectGamepad=n=>{const o=n.gamepad,l=o.index,c=this._inputDevices[l];c&&(this._emitGamepadEvent(o,cF(c),!1),this._inputDevices.splice(l,1),this._latestUpdate.splice(l,1),this._input.gamepad.devices.remove(c),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const r="getGamepads"in window.navigator,s=window.isSecureContext;this.supported=r&&s,this.supported&&(hF(n=>this._connectGamepad(n)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(e){this._hasEventListeners!==e&&(this._hasEventListeners=e,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(e){this._callback=e}_connectGamepad(e){const i=new W6(e);i.deviceType!=="unknown"&&(this._inputDevices[e.index]=i,this._input.gamepad.devices.add(i)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){this._frameTask==null&&(this._frameTask=Iy({update:()=>this._readGamepadState()}))}_stopPolling(){this._frameTask!=null&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const e=document.hasFocus(),i=this._element.contains(document.activeElement),r=this._input.gamepad.enabledFocusMode==="document"&&!e||this._input.gamepad.enabledFocusMode==="view"&&!i;hF(s=>{const n=this._inputDevices[s.index];if(!n)return;const o=this._latestUpdate[s.index],l=cF(n),c=r||Pke(l);o&&(o.timestamp===s.timestamp||!o.active&&c||Ike(o.state,l))||this._emitGamepadEvent(s,l,!c)})}_emitGamepadEvent(e,i,r){const s=this._latestUpdate[e.index],n=s&&s.active;if(!n&&!r)return;const o=!n&&r?"start":n&&r?"update":"end";this._latestUpdate[e.index]={timestamp:e.timestamp,state:i,active:r},this._callback&&this._callback({device:this._inputDevices[e.index],state:i,action:o})}};function Dke(t){if(!t||!t.connected)return!1;for(let e=0;e<t.axes.length;e++)if(isNaN(t.axes[e]))return!1;return!0}function hF(t){for(const e of navigator.getGamepads())Dke(e)&&t(e)}const dF=q("edge"),Lke=q("chrome"),Vke=q("ff"),Fke=q("safari"),pF="esri-view-surface",Rf={touchNone:`${pF}--touch-none`,touchPan:`${pF}--touch-pan`};var ip;let zke=(ip=class{constructor(e,i){this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=e,e.getAttribute("tabindex")||e.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new Nke(e,i),this._gamepadSource.onEvent=r=>this._callback("gamepad",r)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(e=>this._releasePointerCaptureSafe(e)),this._activePointerCaptures.clear(),this._gamepadSource=ti(this._gamepadSource),this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(e){this._browserTouchPanningEnabled=e,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(e){this._callback=e}set activeEvents(e){for(const i in this._active)if(!e||!e.has(i)){const r=this._active[i];this._element.removeEventListener(eE[i],r),delete this._active[i]}e&&e.forEach(i=>{if(!this._active[i]&&eE[i]){const r=(this._eventHandlers[i]||this._handleDefault).bind(this,i);this._element.addEventListener(eE[i],r),this._active[i]=r}}),this._gamepadSource&&(this._gamepadSource.hasEventListeners=(e==null?void 0:e.has("gamepad"))??!1)}setPointerCapture(e,i){i?this._setPointerCaptureSafe(e.pointerId):(this._releasePointerCaptureSafe(e.pointerId),this._activePointerCaptures.delete(e.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?Rf.touchNone:Rf.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?Rf.touchPan:Rf.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(Rf.touchNone),this._element.classList.remove(Rf.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_setPointerCaptureSafe(e){try{this._element.setPointerCapture(e),this._activePointerCaptures.add(e)}catch{}}_releasePointerCaptureSafe(e){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(e))return;this._element.releasePointerCapture(e)}catch{}}_updateNormalizedPointerLikeEvent(e,i){const r=rQ(this._element,e);return ip.test.disableSubpixelCoordinates&&(r.x=Math.round(r.x),r.y=Math.round(r.y)),i.x=r.x,i.y=r.y,i}_handleKey(e,i){const{key:r}=i;r&&e==="key-up"&&this._keyDownState.delete(r);const s={native:i,key:r,repeat:!!r&&this._keyDownState.has(r)};r&&e==="key-down"&&this._keyDownState.add(s.key),this._callback(e,s)}_handlePointer(e,i){const r=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});this._callback(e,r)}_handlePointerPreventDefault(e,i){const r=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});i.preventDefault(),this._callback(e,r)}_getDeltaFromTrackpadOrMouseWheel(e){return e.shiftKey&&q("mac")&&e.deltaY===0?e.deltaX:e.deltaY}_handleMouseWheel(e,i){let r=this._getDeltaFromTrackpadOrMouseWheel(i);switch(i.deltaMode){case 0:dF&&(r=r/document.documentElement.clientHeight*600);break;case 1:r*=30;break;case 2:r*=900}dF?r*=.7:Lke||Fke?r*=.6:Vke&&(r*=1.375);const s=100,n=Math.abs(r);n>s&&(r=r/n*200/(1+Math.exp(-.02*(n-s))));const o=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,deltaY:r});this._callback(e,o)}_handlePointerCaptureLost(e,i){this._activePointerCaptures.delete(i.pointerId),this._handleDefault(e,i)}_handleDefault(e,i){const r={native:i};i.preventDefault(),this._callback(e,r)}_preventAltKeyDefault(e){e.key==="Alt"&&e.preventDefault()}_preventMultiTouchPanning(e){e.touches.length>1&&e.preventDefault()}},ip.test={disableSubpixelCoordinates:!1},ip);const eE={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};let Uke=class extends or{constructor(){super(!0),this.registerIncoming("context-menu",e=>e.data.native.preventDefault())}};const see=()=>({maximumClickDelay:300}),qke=(t={})=>({...see(),movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500,...t}),nI=(t={})=>({...see(),maximumDoubleClickDistance:10,maximumDoubleTouchDistance:35,maximumDoubleClickDelay:250,maximumDoubleTouchDelay:350,...t});function Ax(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)}function Bke(t,e){const i=e.x-t.x,r=e.y-t.y;return Math.sqrt(i*i+r*r)}function Gke(t,e){if(e?(e.radius=0,e.center.x=0,e.center.y=0):e={radius:0,center:rr()},t.length===0)return e;if(t.length===1)return e.center.x=t[0].x,e.center.y=t[0].y,e;if(t.length===2){const[R,N]=t,[j,F]=[N.x-R.x,N.y-R.y];return e.radius=Math.sqrt(j*j+F*F)/2,e.center.x=(R.x+N.x)/2,e.center.y=(R.y+N.y)/2,e}let i=0,r=0;for(let R=0;R<t.length;R++)i+=t[R].x,r+=t[R].y;i/=t.length,r/=t.length;const s=t.map(R=>R.x-i),n=t.map(R=>R.y-r);let o=0,l=0,c=0,d=0,m=0,v=0,w=0;for(let R=0;R<s.length;R++){const N=s[R],j=n[R],F=N*N,ee=j*j;o+=F,l+=ee,c+=N*j,d+=F*N,m+=ee*j,v+=N*ee,w+=j*F}const _=.5*(d+v),x=.5*(m+w),T=o*l-c*c,M=(_*l-x*c)/T,O=(o*x-c*_)/T,C=rr(M+i,O+r);return{radius:Math.sqrt(M*M+O*O+(o+l)/t.length),center:C}}function Kd(t){const{native:e}=t,{pointerId:i,button:r,pointerType:s}=e;return s==="mouse"?`${i}:${r}`:`${s}`}let Hke=class extends or{constructor(e={},i=ag){super(!1),this._clock=i,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=rr(0,0),this._pointerState=new Map,this._parameters=nI(e),this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new e3({start:(r,s)=>this._dragStart(r,s),update:(r,s)=>this._dragUpdate(s),end:(r,s)=>this._dragEnd(s)}),this.registerIncoming("drag",r=>this._dragEventSeparator.handle(r)),this.registerIncoming("pointer-down",r=>this._handlePointerDown(r)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(e=>{e.doubleTapTimeout=Dt(e.doubleTapTimeout)})}get hasPendingInputs(){for(const e of this._pointerState.values())if(e.doubleTapTimeout!=null)return!0;return!1}_clearPointerDown(e){const i=this._pointerState.get(e);i&&(i.doubleTapTimeout=Dt(i.doubleTapTimeout),this._pointerState.delete(e),this.refreshHasPendingInputs())}_dragStart(e,i){if(!this._doubleTapDragReady||e!==1)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:r,modifiers:s}=i,{center:n}=r;this._dragStartCenter=n;const o=tE("begin",rr(0,0),r);this._doubleTapDrag.emit(o,void 0,s),i.stopPropagation()}_dragUpdate(e){if(!this._doubleTapDragActive)return;const{data:i,modifiers:r}=e,{center:s}=i,n=tE("update",rr(s.x-this._dragStartCenter.x,s.y-this._dragStartCenter.y),i);this._doubleTapDrag.emit(n,void 0,r),e.stopPropagation()}_dragEnd(e){if(!this._doubleTapDragActive)return;const{data:i,modifiers:r}=e,{center:s}=i,n=tE("end",rr(s.x-this._dragStartCenter.x,s.y-this._dragStartCenter.y),i);this._doubleTapDrag.emit(n,void 0,r),this._doubleTapDragActive=!1,e.stopPropagation()}_handlePointerDown(e){const{data:i}=e,r=Kd(i),s=this._pointerState.get(r),{pointerType:n}=i.native;if(s){const o=n==="touch"?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;this._clearPointerDown(r),Ax(s.event.data,i)>o?this._storePointerDown(e):this._doubleTapDragReady=!0}else this._storePointerDown(e)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(e){const{data:i}=e,{pointerType:r}=i.native,s=Kd(i),n=r==="touch"?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay,o=this._clock.setTimeout(()=>this._clearPointerDown(s),n);this._pointerState.set(s,{event:e,doubleTapTimeout:o}),this.refreshHasPendingInputs()}};function tE(t,e,i){const{button:r,buttons:s,pointer:n,pointers:o,pointerType:l,timestamp:c}=i;return{action:t,delta:e,button:r,buttons:s,pointer:n,pointers:o,pointerType:l,timestamp:c}}let Wke=class extends or{constructor(e){super(!1),this._navigationTouch=e,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(e,i,r,s){return{action:e,pointerType:this._pointerType,button:this._mouseButton,buttons:i.buttons,timestamp:s,pointers:Zke(this._activePointerMap),pointer:i,angle:r.angle,radius:r.radius,center:r.center}}_addPointer(e){const i=e.native.pointerId,r=K_(this._activePointerMap).angle,s={event:e,initialAngle:0,lastAngle:0};this._activePointerMap.set(i,s);const n=bS(s,nee(this._activePointerMap));s.initialAngle=n,s.lastAngle=n,this._updatePointerAngles(r)}_updatePointer(e){if(e&&e.x==null&&e.y==null)return;const i=e.native.pointerId,r=this._activePointerMap.get(i);r?r.event=e:this._addPointer(e)}_removePointer(e){const i=K_(this._activePointerMap).angle;this._activePointerMap.delete(e),this._updatePointerAngles(i)}_updatePointerAngles(e){const i=K_(this._activePointerMap);this._activePointerMap.forEach(r=>{r.initialAngle=bS(r,i)-e,r.lastAngle=bS(r,i)-e})}_emitEvent(e,i,r){const s=K_(this._activePointerMap);this._drag.emit(this._createPayload(e,i,s,r),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(e){const i=e.data.native.pointerId,r=e.timestamp;this._activePointerMap.get(i)&&(this._activePointerMap.size===1?(this._updatePointer(e.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",e.data,r),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(i)):(this._removePointer(i),this._emitEvent("removed",e.data,e.timestamp)))}_handlePointerDrag(e){const i=e.data,r=i.currentEvent,s=e.timestamp;switch(i.action){case"start":case"update":this._isDragging?this._activePointerMap.has(r.native.pointerId)?(this._updatePointer(r),!this._isCurrentDragSuppressed&&this._emitEvent("update",r,s)):(this._addPointer(r),this._emitEvent("added",r,s),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(r),this._pointerType=e.data.startEvent.pointerType,this._mouseButton=e.data.startEvent.button,this._startStateModifiers=e.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",r,s))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&this._pointerType==="touch"&&this._activePointerMap.size===1}};function nee(t){const e=[];return t.forEach(i=>{e.push(rr(i.event.x,i.event.y))}),Gke(e)}function K_(t){const e=nee(t);let i=0;return t.forEach(r=>{let s=bS(r,e),n=s-r.lastAngle;for(;n>Math.PI;)n-=2*Math.PI;for(;n<-Math.PI;)n+=2*Math.PI;s=r.lastAngle+n,r.lastAngle=s;const o=s-r.initialAngle;i+=o}),i/=t.size||1,{angle:i,radius:e.radius,center:e.center}}function Zke(t){const e=new Map;return t.forEach((i,r)=>e.set(r,i.event)),e}function bS(t,e){const i=t.event,r=i.x-e.center.x,s=i.y-e.center.y;return Math.atan2(s,r)}let Yke=class extends or{constructor(e={},i=ag){super(!1),this._clock=i,this._pointerState=new Map,this._parameters=nI(e),this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(e=>{e.immediateDoubleClick&&e.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(e){const i=e.data,r=Kd(i);if(!this._pointerState.has(r)){const s={downButton:i.native.button,x:i.x,y:i.y,immediateDoubleClick:null};this._pointerState.set(r,s),this.startCapturingPointer(i.native)}}_handlePointerUp(e){const i=e.data,r=Kd(i),s=this._pointerState.get(r);if(s&&s.downButton===i.native.button){const n=s.immediateDoubleClick,o=e.data.native.pointerType==="touch"?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;n?(n.timeoutHandle.remove(),Ax(n,e.data)>o?this._startImmediateDoubleClick(e,s):(this._immediateDoubleClick.emit(e.data,void 0,n.modifiers),this._removeState(i))):Ax(s,e.data)>o?this._removeState(i):this._startImmediateDoubleClick(e,s)}}_startImmediateDoubleClick(e,i){const r=e.data.native.pointerType==="touch"?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay;i.immediateDoubleClick={x:e.data.x,y:e.data.y,modifiers:e.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(e.data),r)}}_removeState(e){const i=Kd(e);this._pointerState.delete(i),this.stopCapturingPointer(e.native),this.refreshHasPendingInputs()}},Jke=class extends or{constructor(e={},i=ag){super(!1),this._clock=i,this._pointerState=new Map,this._parameters=qke(e),this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",r=>this._handlePointerDown(r)),this.registerIncoming("pointer-up",r=>this._handlePointerLoss(r,"pointer-up")),this.registerIncoming("pointer-capture-lost",r=>this._handlePointerLoss(r,"pointer-capture-lost")),this.registerIncoming("pointer-cancel",r=>this._handlePointerLoss(r,"pointer-cancel")),this._moveHandle=this.registerIncoming("pointer-move",r=>this._handlePointerMove(r)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(e=>{e.holdTimeout=Dt(e.holdTimeout)}),super.onUninstall()}_handlePointerDown(e){const i=e.data,r=i.native.pointerId;let s=null;this._pointerState.size===0&&(s=this._clock.setTimeout(()=>{const o=this._pointerState.get(r);if(o){if(!o.isDragging){const l=o.previousEvent;this._pointerHold.emit(l,void 0,e.modifiers),o.holdEmitted=!0}o.holdTimeout=null}},this._parameters.holdDelay));const n={startEvent:i,previousEvent:i,startTimestamp:e.timestamp,isDragging:!1,downButton:i.native.button,holdTimeout:s,modifiers:new Set};this._pointerState.set(r,n),this.startCapturingPointer(i.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(e)}_handlePointerMove(e){const i=e.data,r=i.native.pointerId,s=this._pointerState.get(r);s&&(s.isDragging?this._pointerDrag.emit(X_("update",s,i),void 0,s.modifiers):Bke(i,s.startEvent)>this._getDragThreshold(i.native.pointerType)&&this._startDragging(e),s.previousEvent=i)}_getDragThreshold(e){switch(e){case"touch":return this._parameters.movementUntilTouchDrag;case"pen":return this._parameters.movementUntilPenDrag;default:return this._parameters.movementUntilMouseDrag}}_startDragging(e){const i=e.data,r=i.native.pointerId;this._pointerState.forEach(s=>{s.holdTimeout!=null&&(s.holdTimeout.remove(),s.holdTimeout=null),s.isDragging||(s.modifiers=e.modifiers,s.isDragging=!0,r===s.startEvent.native.pointerId?this._pointerDrag.emit(X_("start",s,i)):this._pointerDrag.emit(X_("start",s,s.previousEvent),e.timestamp))})}_handlePointerLoss(e,i){const r=e.data,s=r.native.pointerId,n=this._pointerState.get(s);n&&(n.holdTimeout!=null&&(n.holdTimeout.remove(),n.holdTimeout=null),n.isDragging?this._pointerDrag.emit(X_("end",n,i==="pointer-up"?r:n.previousEvent),void 0,n.modifiers):i==="pointer-up"&&n.downButton===r.native.button&&e.timestamp-n.startTimestamp<=this._parameters.maximumClickDelay&&!n.holdEmitted&&this._immediateClick.emit(r),this._pointerState.delete(s),this.stopCapturingPointer(r.native),this._pointerState.size===0&&this._moveHandle.pause())}};function X_(t,e,i){return{action:t,startEvent:e.startEvent,previousEvent:e.previousEvent,currentEvent:i}}let Kke=class extends or{constructor(e={},i=ag){super(!1),this._clock=i,this._pointerState=new Map,this._parameters=nI(e),this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",r=>this._handleImmediateClick(r)),this.registerIncoming("pointer-down",r=>this._handlePointerDown(r))}onUninstall(){this._pointerState.forEach(e=>e.doubleClickTimer=Dt(e.doubleClickTimer))}get hasPendingInputs(){for(const e of this._pointerState.values())if(e.doubleClickTimer!=null)return!0;return!1}_clearDoubleClickTimer(e,i){const r=this._pointerState.get(e);r&&(r.doubleClickTimer=Dt(r.doubleClickTimer),i&&this._click.emit(r.event.data,void 0,r.event.modifiers),this._pointerState.delete(e),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(e){const i=this._pointerState.get(e);i.pointerDownCount===1&&this._click.emit(i.event.data,void 0,i.event.modifiers),i.doubleClickTimer=null,this._pointerState.delete(e),this.refreshHasPendingInputs()}_handleImmediateClick(e){const i=e.data,{pointerType:r}=i.native,s=Xke(i);if(!this._pointerState.has(s))return void this._startClick(e);const n=this._pointerState.get(s),{data:o,modifiers:l}=n.event,c=r==="touch"?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;Ax(o,i)>c?(this._clearDoubleClickTimer(s,!0),this._startClick(e)):(this._clearDoubleClickTimer(s,!1),n.pointerDownCount===2&&this._doubleClick.emit(o,void 0,l))}_handlePointerDown(e){const i=Kd(e.data),r=this._pointerState.get(i);r&&(r.pointerDownCount+=1)}_startClick(e){const{data:i}=e,{native:{pointerType:r}}=i,s=Kd(i),n=r==="touch"?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay,o=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(s),n);this._pointerState.set(s,{event:e,doubleClickTimer:o,pointerDownCount:1}),this.refreshHasPendingInputs()}};function Xke(t){const{pointerId:e,pointerType:i,button:r}=t.native;return i==="mouse"?`${e}:${r}`:`${i}`}const Q_={counter:"Control",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwise:["a","A"],counterClockwise:["d","D"],reset:["n","N"]}},fF=Symbol("handles");let nm=class extends $e{initialize(){const e=()=>{var i;return(i=this.view)==null?void 0:i.ready};this.addHandles([Sn(()=>!e(),()=>this._disconnect()),Sn(e,()=>this._connect())])}destroy(){this._disconnect()}get latestPointerInfo(){var e;return(e=this._inputManager)==null?void 0:e.latestPointerInfo}get multiTouchActive(){var e;return((e=this._inputManager)==null?void 0:e.multiTouchActive)??!1}isModifierKeyDown(e){var i;return((i=this._inputManager)==null?void 0:i.isModifierKeyDown(e))??!1}_disconnect(){this.view.viewEvents.disconnect(),this.removeHandles(fF),this._inputManager=ti(this._inputManager)}_connect(){const e=this.view.surface,i=new zke(e,this.view.input),r=[new Yke,new Jke,new Kke,new Wke(this.view.navigation),new Hke],s=new Io({eventSource:i,recognizers:r}),n=new POe(this.view,["primary"]),o=new jOe(this.view,["secondary"]);s.installHandlers("prevent-context-menu",[new Uke],ou.INTERNAL),s.installHandlers("navigation",[new Rke(this.view),new xke(this.view),new Cke(this.view),new aF(this.view),new aF(this.view,[Q_.counter]),n,new Eke(this.view,Q_.pan),new Oke(this.view,Q_.zoom),new Ake(this.view,Q_.rotate),o,new IOe(this.view,"touch")],ou.INTERNAL),this.view.viewEvents.connect(s),this._source=i,this._inputManager=s,this.addHandles([Le(()=>{var l,c;return(c=(l=this.view)==null?void 0:l.navigation)==null?void 0:c.browserTouchPanEnabled},l=>{this._source&&(this._source.browserTouchPanningEnabled=!l)},Qr),Le(()=>{const{actionMap:l}=this.view.navigation;return{panActions:oF("pan",l),rotateActions:oF("rotate",l)}},({panActions:l,rotateActions:c})=>{n.pointerActions=l,o.pointerActions=c},qr)],fF)}get test(){}};h([f()],nm.prototype,"view",void 0),h([f()],nm.prototype,"latestPointerInfo",null),h([f()],nm.prototype,"multiTouchActive",null),nm=h([I("esri.views.2d.input.MapViewInputManager")],nm);const Qke=nm,eCe=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.goToManager=new wS({view:this}),this.animationsEnabled=!0,this.inputManager=new Qke({view:this}),this.addHandles([this.on("resize",s=>this.stateManager.resize(s.width,s.height))])}get interacting(){return this.navigating}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}on(r,s,n,o){return this.viewEvents.on(r,s,n,o)||super.on(r,s)}hasEventListener(r){return super.hasEventListener(r)||this.viewEvents.hasHandler(r)}goTo(r,s){return this.goToManager.goTo(r,s)}toMap(r){if(!this.ready)return null;const s=nQ(r)?sQ(this,r):r;return this.stateManager.toMap(s)}};return h([f()],i.prototype,"goToManager",void 0),h([f({readOnly:!0})],i.prototype,"interacting",null),h([f()],i.prototype,"stationary",null),h([f()],i.prototype,"animationsEnabled",void 0),h([f({readOnly:!0})],i.prototype,"inputManager",void 0),i=h([I("esri.views.Viewport2DMixin")],i),i};let mF=class{constructor(e){this._view=e,this.viewpoint=new Ws({targetGeometry:new Re,scale:0,rotation:0})}get view(){return this._view}get size(){const[e,i]=this._view.size;return Math.sqrt(e*e+i*i)}get scale(){return this.viewpoint.scale}get rotation(){return this.viewpoint.rotation}get center(){return this.viewpoint.targetGeometry}get scaleToResolutionFactor(){return kQ(this.center.spatialReference)}pixelsPerPanAtZoom(e){return 1/(e*this.scaleToResolutionFactor)}zoomAtPixelsPerPan(e){return 1/(e*this.scaleToResolutionFactor)}pixelsPerRotate(){return this.size/2}compareTo(e,i){i.pan=IZ(this.center,e.center);let r=Math.abs(e.rotation-this.rotation);r=r>=180?360-r:r,i.rotate=kw(r),i.sourceZoom=this.scale,i.targetZoom=e.scale}interpolate(e,i,r){const{pan:s,rotate:n,zoom:o,zoomOffset:l}=r,{center:c}=this;c.spatialReference=e.center.spatialReference,c.x=lv(e.center.x,i.center.x,s),c.y=lv(e.center.y,i.center.y,s),this.viewpoint.scale=lv(e.scale,i.scale+l,o);let d=e.rotation;const m=i.rotation;Math.abs(m-d)>=180&&(d+=360*(d<m?1:-1)),this.viewpoint.rotation=lv(d,m,n)}copyFrom(e){Jr(this.viewpoint,e.viewpoint),this._view=e.view}};function H0(t,e,i,r){const s=3*t,n=3*(i-t)-s,o=1-s-n,l=3*e,c=3*(r-e)-l,d=1-l-c;function m(x){return((o*x+n)*x+s)*x}function v(x){return((d*x+c)*x+l)*x}function w(x){return(3*o*x+2*n)*x+s}function _(x,T){let M,O,C,R,N,j;for(C=x,j=0;j<8;j++){if(R=m(C)-x,Math.abs(R)<T)return C;if(N=w(C),Math.abs(N)<1e-6)break;C-=R/N}if(M=0,O=1,C=x,C<M)return M;if(C>O)return O;for(;M<O;){if(R=m(C),Math.abs(R-x)<T)return C;x>R?M=C:O=C,C=.5*(O-M)+M}return C}return function(x,T=1e-6){return v(_(x,T))}}const Jn={};Jn.ease=H0(.25,.1,.25,1),Jn.linear=H0(0,0,1,1),Jn.easeIn=Jn["ease-in"]=H0(.42,0,1,1),Jn.easeOut=Jn["ease-out"]=H0(0,0,.58,1),Jn.easeInOut=Jn["ease-in-out"]=H0(.42,0,.58,1);const tCe=t=>t,nw=t=>t*t,Ox=t=>1-nw(1-t),yF=t=>t<.5?nw(2*t)/2:(Ox(2*(t-.5))+1)/2,kx=t=>t*t*t,Bk=t=>1-kx(1-t),gF=t=>t<.5?kx(2*t)/2:(Bk(2*(t-.5))+1)/2,Cx=t=>t*t*t*t,Gk=t=>1-Cx(1-t),vF=t=>t<.5?Cx(2*t)/2:(Gk(2*(t-.5))+1)/2,Rx=t=>t*t*t*t*t,Hk=t=>1-Rx(1-t),wF=t=>t<.5?Rx(2*t)/2:(Hk(2*(t-.5))+1)/2,Ix=t=>1-Math.cos(t*Math.PI/2),Wk=t=>1-Ix(1-t),bF=t=>t<.5?Ix(2*t)/2:(Wk(2*(t-.5))+1)/2,Px=t=>2**(10*(t-1)),jx=t=>1-Px(1-t),_F=t=>t<.5?Px(2*t)/2:(jx(2*(t-.5))+1)/2,Nx=t=>-(Math.sqrt(1-t*t)-1),Zk=t=>1-Nx(1-t),SF=t=>t<.5?Nx(2*t)/2:(Zk(2*(t-.5))+1)/2;function po(t){const e=2*(t-Math.sqrt((t-1)*t)),i=e/2/t;return r=>r<i?t*r*r:e*r-e+1}function fo(t,e){return(i,r)=>i<e?e*t(i/e,r):1-t((1-i)/(1-e),r)*(1-e)}const xF=fo(po(1),1),TF=fo(po(1),0),Dx=fo(po(1),.5),$F=fo(po(2),1),MF=fo(po(2),0),EF=fo(po(2),.5),AF=fo(po(3),1),OF=fo(po(3),0),kF=fo(po(3),.5),CF=fo(po(4),1),RF=fo(po(4),0),IF=fo(po(4),.5),PF={linear:tCe,"in-quad":nw,"out-quad":Ox,"in-out-quad":yF,"in-coast-quad":xF,"out-coast-quad":TF,"in-out-coast-quad":Dx,"in-cubic":kx,"out-cubic":Bk,"in-out-cubic":gF,"in-coast-cubic":$F,"out-coast-cubic":MF,"in-out-coast-cubic":EF,"in-quart":Cx,"out-quart":Gk,"in-out-quart":vF,"in-coast-quart":AF,"out-coast-quart":OF,"in-out-coast-quart":kF,"in-quint":Rx,"out-quint":Hk,"in-out-quint":wF,"in-coast-quint":CF,"out-coast-quint":RF,"in-out-coast-quint":IF,"in-sine":Ix,"out-sine":Wk,"in-out-sine":bF,"in-expo":Px,"out-expo":jx,"in-out-expo":_F,"in-circ":Nx,"out-circ":Zk,"in-out-circ":SF,"quad-in":nw,"quad-out":Ox,"quad-in-out":yF,"quad-in-coast":xF,"quad-out-coast":TF,"quad-in-out-coast":Dx,"cubic-in":kx,"cubic-out":Bk,"cubic-in-out":gF,"cubic-in-coast":$F,"cubic-out-coast":MF,"cubic-in-out-coast":EF,"quart-in":Cx,"quart-out":Gk,"quart-in-out":vF,"quart-in-coast":AF,"quart-out-coast":OF,"quart-in-out-coast":kF,"quint-in":Rx,"quint-out":Hk,"quint-in-out":wF,"quint-in-coast":CF,"quint-out-coast":RF,"quint-in-out-coast":IF,"sine-in":Ix,"sine-out":Wk,"sine-in-out":bF,"expo-in":Px,"expo-out":jx,"expo-in-out":_F,"circ-in":Nx,"circ-out":Zk,"circ-in-out":SF,ease:t=>Jn.ease(t),"ease-in":t=>Jn.easeIn(t),"ease-out":t=>Jn.easeOut(t),"ease-in-out":t=>Jn.easeInOut(t)};let iCe=class{constructor(){this.pan=0,this.rotate=0,this.fov=0,this.sourceZoom=0,this.targetZoom=0}};const Lx={desiredScreenFlow:2,minDuration:500,maxDuration:8e3},oee={maxDuration:4e3};let rCe=class aee{constructor(e){this._createCamera=e,this.compared=new iCe,this.segmentStart=0,this.segmentEnd=1,this.settings={desiredScreenFlow:Lx.desiredScreenFlow},this.source=e(),this.target=e()}clone(){const e=new aee(this._createCamera);return e.copyFrom(this),e}copyFrom(e){this.update(e.source,e.target,e.settings)}update(e,i,r){this.source!==e&&this.source.copyFrom(e),this.target!==i&&this.target.copyFrom(i),this.source.compareTo(this.target,this.compared),this.settings.desiredScreenFlow=r.desiredScreenFlow??Lx.desiredScreenFlow,this.desiredPixelFlow=this.settings.desiredScreenFlow*this.target.size,this.halfWindowSize=this.target.size/2}halfWindowPanAtZoom(e){const i=this.target.pixelsPerPanAtZoom(e);return this.halfWindowSize/i}get hasZoom(){return Math.abs(this.compared.sourceZoom-this.compared.targetZoom)>1e-5}get hasPan(){return this.compared.pan>ws()}get hasFov(){return Math.abs(this.compared.fov)>ws()}get hasRotate(){return this.compared.rotate>ws()}},sCe=class{constructor(){this.pan=0,this.rotate=0,this.zoom=0,this.fov=0,this.zoomOffset=0}},nCe=class{constructor(){this.segments=new Array}get time(){return this.segments.reduce((e,i)=>e+i.time,0)}interpolateComponentsAt(e,i){e=Math.min(Math.max(e,0),1),e*=this.time;let r=0,s=0;const n=this.definition,o=this.segments.reduce((l,c)=>l||c.definition.hasZoom,!1);for(let l=0;l<this.segments.length;l++){const c=this.segments[l],d=c.definition;if(e<=c.time||l===this.segments.length-1){if(this.segmentInterpolateComponentsAt(c,c.time===0?0:e/c.time,i),n.hasPan&&!isNaN(i.pan)&&isFinite(n.compared.pan)?i.pan=(r+d.compared.pan*i.pan)/n.compared.pan:i.pan=1,n.hasRotate&&!isNaN(i.rotate)&&isFinite(n.compared.rotate)?i.rotate=(s+d.compared.rotate*i.rotate)/n.compared.rotate:i.rotate=1,o&&!isNaN(i.zoom)&&isFinite(d.compared.targetZoom)){const{sourceZoom:m,targetZoom:v}=d.compared,w=i.zoom*(v-m)+m,_=this.segments[0].definition.compared.sourceZoom,x=this.segments[this.segments.length-1].definition.compared.targetZoom,T=Math.abs(v-_)>Math.abs(m-_)?v:m;i.zoomOffset=T-x,i.zoom=(w-_)/(T-_)}else i.zoom=1;return i}e-=c.time,r+=d.compared.pan,s+=d.compared.rotate}}segmentInterpolateComponentsAt(e,i,r){e.interpolateComponentsAt(i,r)}},iE=class{get time(){return this._time}constructor(e){e&&this.update(e)}update(e){e&&(this.definition?this.definition.copyFrom(e):this.definition=e.clone()),this._updatePrecomputedVariables(),this._updatePixelFlow()}_updatePrecomputedVariables(){const e=this.definition,i=e.compared,r=i.sourceZoom,s=i.targetZoom;this._zoomSign=r>s?1:-1,this._panPixelsAtSource=i.pan*e.source.pixelsPerPanAtZoom(r);const n=(e.source.pixelsPerRotate()+e.target.pixelsPerRotate())/2;this._rotatePixels=i.rotate*n}_updatePixelFlow(){const e=this.definition.compared.sourceZoom,i=this.definition.compared.targetZoom,{hasZoom:r,hasPan:s,hasRotate:n}=this.definition;let o=0,l=0;r&&(s&&(o=(i/e-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),n&&(l=this._zoomSign*(Math.log(e/i)/Math.LN2)*this.definition.halfWindowSize/this._rotatePixels)),this._zoomPixelFlow=0,this._panPixelFlow=0,this._rotatePixelFlow=0;const c=this.definition.desiredPixelFlow;if(r&&s&&n){const d=o+l+o*l;this._zoomPixelFlow=o*l/d*c,this._panPixelFlow=l/d*c,this._rotatePixelFlow=o/d*c}else if(r&&s){const d=1+o;this._zoomPixelFlow=o/d*c,this._panPixelFlow=1/d*c}else if(r&&n){const d=1+l;this._zoomPixelFlow=l/d*c,this._rotatePixelFlow=1/d*c}else if(s&&n){const d=this._panPixelsAtSource/this._rotatePixels,m=1+d;this._panPixelFlow=d/m*c,this._rotatePixelFlow=1/m*c}else s?this._panPixelFlow=c:r?this._zoomPixelFlow=c:n&&(this._rotatePixelFlow=c);if(this._time=Math.max(this.rotateTime,this.zoomTime,this.panTime),this.fovTime>this._time){const d=this.fovTime/this._time;this._time=this.fovTime,this._zoomPixelFlow/=d,this._panPixelFlow/=d,this._rotatePixelFlow/=d}}get rotateTime(){return this.definition.hasRotate?this._rotatePixels/this._rotatePixelFlow:0}get zoomTime(){return this.definition.hasZoom?this._zoomSign*(Math.log(this.definition.compared.sourceZoom/this.definition.compared.targetZoom)/Math.LN2)*this.definition.halfWindowSize/this._zoomPixelFlow:0}get fovTime(){return this.definition.hasFov?Math.abs(this.definition.compared.fov)/oCe:0}get panTime(){if(!this.definition.hasPan)return 0;if(this.definition.hasZoom){const e=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2,i=e*this._panPixelsAtSource;return Math.log(i*(this._zoomPixelFlow/this._panPixelFlow)+1)/(e*this._zoomPixelFlow)}return this._panPixelsAtSource/this._panPixelFlow}_interpolateComponentsZoom(e){if(e===0||e===1)return e;if(this.definition.hasZoom){const i=this.definition.compared.sourceZoom,r=this.definition.compared.targetZoom;return(i*(i/r)**-e-i)/(r-i)}return e}_interpolateComponentsFov(e){if(e===0)return this.definition.segmentStart;if(e===1)return this.definition.segmentEnd;if(this.definition.hasFov){const{segmentStart:i,segmentEnd:r}=this.definition;return i+e*(r-i)}return this.definition.segmentStart}_interpolateComponentsPan(e){if(e===0||e===1)return e;if(this.definition.hasPan&&this.definition.hasZoom){const i=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*(this._panPixelFlow*(2**(i*e*this._time)-1))/(i*Math.LN2)}return e}_interpolateComponentsRotate(e){return e}interpolateComponentsAt(e,i){e=Math.min(Math.max(e,0),1),i.zoom=this._interpolateComponentsZoom(e),i.pan=this._interpolateComponentsPan(e),i.rotate=this._interpolateComponentsRotate(e),i.zoomOffset=0,i.fov=this._interpolateComponentsFov(e)}};const oCe=kw(45);function aCe(t,e,i){const r=e-t.compared.sourceZoom,s=t.halfWindowPanAtZoom(r);return-t.halfWindowSize*(i.ascensionFactor*Math.LN2*t.compared.pan+s)*Math.log(t.compared.sourceZoom/e)/(t.desiredPixelFlow*Math.LN2*s)}function lCe(t,e,i){const r=1/e,s=Math.log(t.compared.sourceZoom*r),n=1/t.desiredPixelFlow,o=1/Math.LN2,l=e-t.compared.sourceZoom,c=1/l,d=(i.ascensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(l))/t.halfWindowPanAtZoom(1);return t.halfWindowSize*r*n*o*c*d-t.halfWindowSize*s*n*o*c+t.halfWindowSize*s*n*o*d/(l*l)}function uCe(t,e,i){const r=e-t.compared.sourceZoom,s=1/r,n=1/e,o=Math.log(t.compared.sourceZoom*n),l=(i.ascensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(r))/t.halfWindowPanAtZoom(1);return t.halfWindowSize*s*(-2*s*n*l+2*s*o+2*n-2*o*l/(r*r)-l/(e*e))/(t.desiredPixelFlow*Math.LN2)}function cCe(t,e){return-t.halfWindowSize*Math.log(t.compared.sourceZoom/e)/(t.desiredPixelFlow*Math.LN2)}function hCe(t,e){return t.halfWindowSize/(e*t.desiredPixelFlow*Math.LN2)}function dCe(t,e){return-t.halfWindowSize/(e*e*t.desiredPixelFlow*Math.LN2)}function pCe(t,e,i){return-t.compared.pan*t.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(t.desiredPixelFlow*t.halfWindowPanAtZoom(e))}function fCe(t,e,i){return t.compared.pan*t.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(t.desiredPixelFlow*t.halfWindowPanAtZoom(e*e))}function mCe(t,e,i){return-2*t.compared.pan*t.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(t.desiredPixelFlow*t.halfWindowPanAtZoom(e*e*e))}function yCe(t,e,i){return t.halfWindowSize*(-t.halfWindowPanAtZoom(e)-i.descensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(t.compared.targetZoom))*Math.log(e/t.compared.targetZoom)/(t.desiredPixelFlow*Math.LN2*t.halfWindowPanAtZoom(-e+t.compared.targetZoom))}function gCe(t,e,i){const r=Math.log(e/t.compared.targetZoom),s=1/t.desiredPixelFlow,n=1/Math.LN2,o=-e+t.compared.targetZoom,l=1/o,c=(-t.halfWindowPanAtZoom(e)-i.descensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(t.compared.targetZoom))/t.halfWindowPanAtZoom(1);return-t.halfWindowSize*r*s*n*l+t.halfWindowSize*r*s*n*c/(o*o)+t.halfWindowSize*s*n*l*c/e}function vCe(t,e,i){const r=e-t.compared.targetZoom,s=1/r,n=1/e,o=Math.log(e/t.compared.targetZoom),l=(t.halfWindowPanAtZoom(e)+i.descensionFactor*Math.LN2*t.compared.pan-t.halfWindowPanAtZoom(t.compared.targetZoom))/t.halfWindowPanAtZoom(1);return t.halfWindowSize*s*(-2*s*n*l-2*s*o+2*n+2*o*l/(r*r)-l/(e*e))/(t.desiredPixelFlow*Math.LN2)}function wCe(t,e){return t.halfWindowSize*Math.log(e/t.compared.targetZoom)/(t.desiredPixelFlow*Math.LN2)}function bCe(t,e){return t.halfWindowSize/(e*t.desiredPixelFlow*Math.LN2)}function _Ce(t,e){return-t.halfWindowSize/(e*e*t.desiredPixelFlow*Math.LN2)}function SCe(t){const e=t.compared.sourceZoom-t.compared.targetZoom;if(e===0)return t.compared.pan*t.halfWindowSize/(t.desiredPixelFlow*t.halfWindowPanAtZoom(t.compared.sourceZoom));const i=Math.LN2*t.compared.pan,r=e,s=t.halfWindowPanAtZoom(r),n=t.halfWindowSize*Math.log(t.compared.sourceZoom/t.compared.targetZoom)/(t.desiredPixelFlow*Math.LN2*s);return t.compared.sourceZoom<=t.compared.targetZoom?n*(i-s):n*(i+s)}function xCe(t,e){let i=TCe(t,e);const r={ascensionFactor:e.ascensionFactor!=null?e.ascensionFactor:.5,descensionFactor:e.descensionFactor!=null?e.descensionFactor:.5},s=r.ascensionFactor===0,n=r.descensionFactor===0,o=s?cCe:aCe,l=s?hCe:lCe,c=s?dCe:uCe,d=n?wCe:yCe,m=n?bCe:gCe,v=n?_Ce:vCe,w=j=>o(t,j,r)+pCe(t,j,r)+d(t,j,r),_=j=>l(t,j,r)+fCe(t,j,r)+m(t,j,r),x=j=>c(t,j,r)+mCe(t,j,r)+v(t,j,r);let T=w(i);const M=SCe(t);let O;const C=e.maximumIterations||20,R=e.maximumDistance!=null?e.maximumDistance:1/0;for(O=0;O<C;O++){const j=e.desiredSlope??1e-6;let F=_(i);Math.abs(F)>j&&(F+=j);const ee=F/x(i);if(isNaN(ee)||i>=R&&ee<0){if(!isFinite(R))return null;i=R,T=w(i);break}if(i-=ee,i<=t.compared.sourceZoom||i<=t.compared.targetZoom)return null;const X=w(i);if(Math.abs(X-T)/T<=.005)break;T=X}return isNaN(T)||T>M*(1-.3)||i<=t.compared.sourceZoom||i<=t.compared.targetZoom?null:i}function TCe(t,e){const i=Math.max(t.compared.sourceZoom,t.compared.targetZoom),r=t.source.zoomAtPixelsPerPan(t.desiredPixelFlow/t.compared.pan)/2;return r<i?e.maximumDistance!=null?i+(e.maximumDistance-i)/2:1.5*i:e.maximumDistance?Math.min(e.maximumDistance,r):r}let $Ce=class extends nCe{constructor(e,i){super(),this._preallocSegments=[new iE,new iE,new iE],this._ascensionSegment=null,this._descensionSegment=null,this.update(e,i)}update(e,i){if(!e)return;this.definition?this.definition.copyFrom(e):this.definition=e.clone();const r=i!=null&&i.apex?xCe(e,i.apex):null;this.segments.length=0,this._ascensionSegment=null,this._descensionSegment=null,r?this._updateWithApex(r,i==null?void 0:i.apex):this._updateWithoutApex()}segmentInterpolateComponentsAt(e,i,r){e.interpolateComponentsAt(i,r),e===this._ascensionSegment?r.zoom=Ox(r.zoom):e===this._descensionSegment&&(r.zoom=nw(r.zoom))}_updateWithApex(e,i){const[r,s,n]=this._preallocSegments,o=(i==null?void 0:i.ascensionFactor)??.5,l=Math.min(1-o,(i==null?void 0:i.ascensionFactor)!=null&&i.descensionFactor!=null?i.descensionFactor:.5),c=1-o-l;r.definition?r.definition.copyFrom(this.definition):r.definition=this.definition.clone(),r.definition.compared.targetZoom=e,r.definition.compared.pan=this.definition.compared.pan*o,r.definition.compared.rotate=this.definition.compared.rotate*o,r.definition.segmentEnd=o,r.update(),this._ascensionSegment=r,this.segments.push(r),c>0&&(s.definition?s.definition.copyFrom(this.definition):s.definition=this.definition.clone(),s.definition.copyFrom(this.definition),s.definition.compared.sourceZoom=e,s.definition.compared.targetZoom=e,s.definition.compared.pan=this.definition.compared.pan*c,s.definition.compared.rotate=this.definition.compared.rotate*c,s.definition.segmentStart=r.definition.segmentEnd,s.definition.segmentEnd=r.definition.segmentEnd+c,s.update(),this.segments.push(s)),n.definition?n.definition.copyFrom(this.definition):n.definition=this.definition.clone(),n.definition.compared.sourceZoom=e,n.definition.compared.pan=this.definition.compared.pan*l,n.definition.compared.rotate=this.definition.compared.rotate*l,n.definition.segmentStart=o+c,n.update(),this._descensionSegment=n,this.segments.push(n)}_updateWithoutApex(){const[e]=this._preallocSegments;e.update(this.definition),this.segments.push(e)}};const MCe=new sCe;let ECe=class{get time(){return this._time}get isLinear(){return this.path.segments.length===1}constructor(e){this._time=0,this._easing=Dx,this.definition=new rCe(e),this.path=new $Ce}update(e,i,r){this.definition.update(e,i,r),this.path.update(this.definition,r),this._time=this._applyTimeSettings(Yhe(isFinite(this.path.time)?this.path.time:0),r),this._easing=r.easing??(this._time>=1e3?Dx:jx)}cameraAt(e,i){e=Math.min(Math.max(0,e),1),e=this._normalizedEasing(e);const r=this.path.interpolateComponentsAt(e,MCe);i.interpolate(this.definition.source,this.definition.target,r)}_normalizedEasing(e){const i=this._easing(0,this._time),r=this._easing(1,this._time);return(this._easing(e,this._time)-i)/(r-i)}_applyTimeSettings(e,i){const r=i.speedFactor!=null?i.speedFactor:1,s=i.minDuration??Lx.minDuration/r,n=i.maxDuration??Lx.maxDuration/r;return e=i.duration!=null?i.duration:Math.min(Math.max(e/r,s),n)}};const ACe=2e3,OCe=64;let kCe=class{constructor(e){this._view=e,this._animation=new ECe(()=>new mF(this._view)),this._current=new mF(this._view)}get _source(){return this._animation.definition.source}get _target(){return this._animation.definition.target}get duration(){return this._animation.time}get animation(){return this._animation}update(e,i,r={}){Jr(this._current.viewpoint,e),Jr(this._source.viewpoint,e),Jr(this._target.viewpoint,i),this._animation.update(this._source,this._target,r)}applyRatio(e,i){this._animation.cameraAt(i,this._current),Jr(e,this._current.viewpoint)}},om=class extends $e{constructor(e){super(e),this._animation=null,this._destinationViewState=new rI,this.updateFunction=null,this.easing=PF.ease,this.viewpoint=new Ws({targetGeometry:new Re,scale:0,rotation:0}),this._updateTask=Iy({postRender:this._postRender.bind(this)}),this._updateTask.pause(),this._transition=new kCe(e.view)}destroy(){this._updateTask=Dt(this._updateTask)}get animation(){return this._animation}set animation(e){this._animation=e,this.view.animation=e}animate(e,i,r){this.stop();const s=this.viewpoint;Jr(s,i);const n=e.target;this._transition.update(this.viewpoint,n,{apex:{maximumDistance:Math.min(Math.min(i.scale,n.scale)*OCe,this.view.constraints.effectiveMinScale),desiredSlope:5e-8},duration:r==null?void 0:r.duration,maxDuration:(r==null?void 0:r.animationMode)==="auto"?1/0:(r==null?void 0:r.maxDuration)??oee.maxDuration,speedFactor:r==null?void 0:r.speedFactor,easing:(typeof(r==null?void 0:r.easing)=="string"?PF[r.easing]:r==null?void 0:r.easing)||this.easing}),(r==null?void 0:r.animationMode)==="auto"&&(this._destinationViewState.copy(this.view.state),this._destinationViewState.viewpoint=n,CCe(this._transition.animation,r,this.view.state,this._destinationViewState)||this._transition.update(this.viewpoint,n,{duration:0}));const o=()=>{this.animation===e&&this._updateTask&&(e.state==="finished"&&(this._transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return e.when(o,o),this._startTime=performance.now(),this._updateTask.resume(),this.animation=e,e}animateContinuous(e,i){this.stop(),this.updateFunction=i,this.viewpoint=e;const r=new Uk({target:e.clone()}),s=()=>{this.animation===r&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return r.when(s,s),this._startTime=performance.now(),this._updateTask.resume(),this.animation=r,r}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(e){var r,s;const i=this.animation;if(i&&i.state!==Uk.state.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,e.deltaTime),(r=this.animation)==null||r.update(this.viewpoint);else{const n=performance.now()-this._startTime,o=this._transition.duration,l=o>0?n/o:1,c=l>=1;this._transition.applyRatio(this.viewpoint,l),c&&((s=this.animation)==null||s.finish())}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};function CCe(t,e,i,r){if((e==null?void 0:e.duration)!=null)return!0;const{time:s,isLinear:n}=t,o=(e==null?void 0:e.speedFactor)||1;if(s>((e==null?void 0:e.maxDuration)??oee.maxDuration/o))return!1;if(n){const c=ci(),d=rr(...r.toScreen(c,...i.center)),m=rr(...i.toScreen(c,...r.center)),v=m!=null&&m.x>-1*i.size[0]&&m.x<(1.5+.5)*i.size[0]&&m.y>-1*i.size[1]&&m.y<(1.5+.5)*i.size[1],w=d!=null&&d.x>-1*r.size[0]&&d.x<(1.5+.5)*r.size[0]&&d.y>-1*r.size[1]&&d.y<(1.5+.5)*r.size[1];if(s>ACe/o&&!v&&!w)return!1}return!0}h([f()],om.prototype,"easing",void 0),h([f()],om.prototype,"view",void 0),h([f()],om.prototype,"viewpoint",void 0),om=h([I("esri.views.2d.AnimationManager")],om);const RCe=om;function zt(){return Promise.all([te(()=>import("./webglDeps-CNhsypSh.js"),__vite__mapDeps([221,165,222,223,224,12,59])),te(()=>import("./mapViewDeps-CYPr_Hwl.js"),__vite__mapDeps([225,127,96,97,92,11,12,98,95,99,89,226,227,165,222,223,156,90,228,93,224,59,164,58,229,88,117,230,145,148,10,13,16,22,231,100,101,182,183,33,221,232,112,233,234,144,235,154,155,236,76,87,91,47,46,237,102,238,94,184,185,107,239,103,109,85,240,241,242,243,161,244,245]))])}const W0=()=>zt().then(()=>te(()=>import("./TileLayerView2D-BJLbX0d0.js"),__vite__mapDeps([246,95,96,97,92,11,12,98,99,89,182,127,183,33,230,229,88,58,223,224,59,164,165,117,145,148,10,13,232,227,222,156,228,93,112,233,234,144,76,226,90,16,22,100,101,154,155,239,87,91,47,46,103,109,85,247,248,249,243,250,218,251,241,242,252,253,254,255,256,257,258,259]))),Vh=()=>zt().then(()=>te(()=>import("./FeatureLayerView2D-DqILKZsm.js").then(t=>t.F),__vite__mapDeps([260,226,96,97,92,11,12,98,95,99,89,227,165,222,223,156,90,228,93,224,59,164,58,229,88,117,230,145,148,10,13,16,22,261,262,190,47,51,250,218,242,243,112,77,75,76,78,110,103,231,263,169,52,105,255,258,252,253,259]))),jF={"base-dynamic":()=>zt().then(()=>te(()=>import("./BaseDynamicLayerView2D-BJCS-3Xj.js"),__vite__mapDeps([264,265,229,88,89,58,223,224,12,59,164,165,117,230,145,148,10,11,13,248,227,222,156,249,250,218,266,252,253]))),"base-tile":W0,"bing-maps":W0,catalog:()=>zt().then(()=>te(()=>import("./CatalogLayerView2D-D1I1sMQU.js"),__vite__mapDeps([267,250,230,218,252]))),"catalog-dynamic-group":()=>zt().then(()=>te(()=>import("./CatalogDynamicGroupLayerView2D-roLvxJkt.js"),__vite__mapDeps([268,250,230,218,252]))),"catalog-footprint":()=>zt().then(()=>te(()=>import("./CatalogFootprintLayerView2D-BgLD0LhK.js"),__vite__mapDeps([269,260,226,96,97,92,11,12,98,95,99,89,227,165,222,223,156,90,228,93,224,59,164,58,229,88,117,230,145,148,10,13,16,22,261,262,190,47,51,250,218,242,243,112,77,75,76,78,110,103,231,263,169,52,105,255,258,252,253,259]))),csv:Vh,"geo-rss":()=>zt().then(()=>te(()=>import("./GeoRSSLayerView2D-BwV2bi2q.js"),__vite__mapDeps([270,250,230,218,240,241,242,12,90,88,89,58,222,165,243,229,223,224,59,164,117,145,148,10,11,13,226,96,97,92,98,95,99,227,156,228,93,16,22,239,182,127,183,33,87,91,47,46,103,109,85,252]))),feature:Vh,geojson:Vh,parquet:Vh,graphics:()=>zt().then(()=>te(()=>import("./GraphicsLayerView2D-DEu-2col.js"),__vite__mapDeps([271,250,230,218,240,241,242,12,90,88,89,58,222,165,243,229,223,224,59,164,117,145,148,10,11,13,226,96,97,92,98,95,99,227,156,228,93,16,22,239,182,127,183,33,87,91,47,46,103,109,85,252,259]))),group:()=>zt().then(()=>te(()=>import("./GroupLayerView2D-BA0wP1Mb.js"),__vite__mapDeps([272,250,230,218,252]))),imagery:()=>zt().then(()=>te(()=>import("./ImageryLayerView2D-849d6jHh.js"),__vite__mapDeps([273,274,224,12,59,164,165,58,132,229,88,89,223,117,230,145,148,10,11,13,126,124,250,218,239,96,97,92,98,95,99,182,127,183,33,87,90,91,93,47,46,226,227,222,156,228,16,22,103,109,85,251,241,242,243,265,248,249,266,130,20,261,258,252,253,259]))),"imagery-tile":()=>zt().then(()=>te(()=>import("./ImageryTileLayerView2D-BMiwEE5j.js"),__vite__mapDeps([275,276,274,224,12,59,164,165,58,132,229,88,89,223,117,230,145,148,10,11,13,126,124,250,218,129,277,243,227,222,156,238,228,93,249,278,130,259,20,261,258,252,253]))),kml:()=>zt().then(()=>te(()=>import("./KMLLayerView2D-_CUXo_gd.js"),__vite__mapDeps([279,280,248,230,227,165,222,223,156,249,265,229,88,89,58,224,12,59,164,117,145,148,10,11,13,250,218,240,241,242,90,243,226,96,97,92,98,95,99,228,93,16,22,239,182,127,183,33,87,91,47,46,103,109,85,252,184,185,107,130,235,221,154,155,233,277]))),"knowledge-graph":()=>zt().then(()=>te(()=>import("./KnowledgeGraphLayerView2D-C4l42y4i.js"),__vite__mapDeps([281,250,230,218,252]))),"link-chart":()=>zt().then(()=>te(()=>import("./KnowledgeGraphLayerView2D-C4l42y4i.js"),__vite__mapDeps([281,250,230,218,252]))),"knowledge-graph-sublayer":Vh,"map-image":()=>zt().then(()=>te(()=>import("./MapImageLayerView2D-CZr0QeOp.js"),__vite__mapDeps([282,265,229,88,89,58,223,224,12,59,164,165,117,230,145,148,10,11,13,248,227,222,156,249,250,218,239,96,97,92,98,95,99,182,127,183,33,87,90,91,93,47,46,226,228,16,22,103,109,85,251,241,242,243,266,252,283,255,257,261,253,254,256,258,259]))),"map-notes":()=>zt().then(()=>te(()=>import("./MapNotesLayerView2D-BXiZHzvf.js"),__vite__mapDeps([284,250,230,218,240,241,242,12,90,88,89,58,222,165,243,229,223,224,59,164,117,145,148,10,11,13,226,96,97,92,98,95,99,227,156,228,93,16,22,239,182,127,183,33,87,91,47,46,103,109,85,252,259]))),media:()=>zt().then(()=>te(()=>import("./MediaLayerView2D-DJjgFrbv.js"),__vite__mapDeps([285,286,109,95,96,97,92,11,12,98,99,89,182,127,183,33,230,229,88,58,223,224,59,164,165,117,145,148,10,13,232,227,222,156,228,93,112,233,234,144,76,226,90,16,22,100,101,154,155,239,87,91,47,46,103,85,237,102,287,238,250,218,252]))),"ogc-feature":()=>zt().then(()=>te(()=>import("./OGCFeatureLayerView2D-D_Qcx4K9.js"),__vite__mapDeps([288,260,226,96,97,92,11,12,98,95,99,89,227,165,222,223,156,90,228,93,224,59,164,58,229,88,117,230,145,148,10,13,16,22,261,262,190,47,51,250,218,242,243,112,77,75,76,78,110,103,231,263,169,52,105,255,258,252,253,259]))),"open-street-map":W0,"oriented-imagery":Vh,route:()=>zt().then(()=>te(()=>import("./RouteLayerView2D-DbYhiFed.js"),__vite__mapDeps([289,290,291,250,230,218,240,241,242,12,90,88,89,58,222,165,243,229,223,224,59,164,117,145,148,10,11,13,226,96,97,92,98,95,99,227,156,228,93,16,22,239,182,127,183,33,87,91,47,46,103,109,85,252,259]))),stream:()=>zt().then(()=>te(()=>import("./StreamLayerView2D-DbFATAB_.js"),__vite__mapDeps([292,260,226,96,97,92,11,12,98,95,99,89,227,165,222,223,156,90,228,93,224,59,164,58,229,88,117,230,145,148,10,13,16,22,261,262,190,47,51,250,218,242,243,112,77,75,76,78,110,103,231,263,169,52,105,255,258,252,253,259]))),"subtype-group":()=>zt().then(()=>te(()=>import("./SubtypeGroupLayerView2D-DG6HxezV.js"),__vite__mapDeps([293,260,226,96,97,92,11,12,98,95,99,89,227,165,222,223,156,90,228,93,224,59,164,58,229,88,117,230,145,148,10,13,16,22,261,262,190,47,51,250,218,242,243,112,77,75,76,78,110,103,231,263,169,52,105,255,258,252,253,259]))),tile:W0,"vector-tile":()=>zt().then(()=>te(()=>import("./VectorTileLayerView2D-DektJ4hd.js"),__vite__mapDeps([294,99,76,12,95,144,234,145,98,165,224,59,164,229,88,89,58,223,117,230,148,10,11,13,243,45,146,147,127,250,218,252,253]))),video:()=>zt().then(()=>te(()=>import("./VideoLayerView2D-Bq7CN4_O.js"),__vite__mapDeps([295,296,297,201,200,287,117,229,88,89,58,223,224,12,59,164,165,230,145,148,10,11,13,226,96,97,92,98,95,99,227,222,156,90,228,93,16,22,238,298,250,218,240,241,242,243,239,182,127,183,33,87,91,47,46,103,109,85,252]))),wcs:()=>zt().then(()=>te(()=>import("./ImageryTileLayerView2D-BMiwEE5j.js"),__vite__mapDeps([275,276,274,224,12,59,164,165,58,132,229,88,89,223,117,230,145,148,10,11,13,126,124,250,218,129,277,243,227,222,156,238,228,93,249,278,130,259,20,261,258,252,253]))),"web-tile":W0,wfs:Vh,wms:()=>zt().then(()=>te(()=>import("./WMSLayerView2D-CR2ckGHI.js"),__vite__mapDeps([299,265,229,88,89,58,223,224,12,59,164,165,117,230,145,148,10,11,13,248,227,222,156,249,250,218,266,252,253,300,261]))),wmts:()=>zt().then(()=>te(()=>import("./WMTSLayerView2D-DVeijdNA.js"),__vite__mapDeps([301,247,248,230,227,165,222,223,156,249,229,88,89,58,224,12,59,164,117,145,148,10,11,13,243,250,218,252,253]))),"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"gaussian-splat":null,"integrated-mesh-3dtiles":null,"integrated-mesh":null,"line-of-sight":null,"point-cloud":null,scene:null,unknown:null,unsupported:null,viewshed:null,voxel:null};function ICe(t){const e=t.declaredClass?t.declaredClass.slice(t.declaredClass.lastIndexOf(".")+1):"Unknown",i=e.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new B(`${i}:view-not-supported`,`${e} is not supported in 2D`)}const NF={hasLayerViewModule:t=>jF[t.type]!=null,importLayerView:t=>{const e=jF[t.type];if(e==null)throw ICe(t);return e(t)}};var hn;let Og=(hn=class{static getId(e,i,r,s){return typeof e=="object"?`${e.level}/${e.row}/${e.col}/${e.world}`:`${e}/${i}/${r}/${s}`}constructor(e,i,r,s){this.set(e,i,r,s)}get key(){return this}get id(){return this.toString()}get normalizedId(){return`${this.level}/${this.row}/${this.col}`}set id(e){this.set(e)}get hash(){const e=4095&this.row,i=4095&this.col,r=63&this.level;return(3&this.world)<<30|i<<22|e<<8|r}acquire(e,i,r,s){this.set(e,i,r,s)}contains(e){const i=e.level-this.level;return i>=0&&this.row===e.row>>i&&this.col===e.col>>i&&this.world===e.world}containsChild(e){const i=e.level-this.level;return i>0&&this.row===e.row>>i&&this.col===e.col>>i&&this.world===e.world}equals(e){return this.level===e.level&&this.row===e.row&&this.col===e.col&&this.world===e.world}clone(){return new hn(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(e,i,r,s){if(e==null)this.level=0,this.row=0,this.col=0,this.world=0;else if(typeof e=="object")this.level=e.level||0,this.row=e.row||0,this.col=e.col||0,this.world=e.world||0;else if(typeof e=="string"){const[n,o,l,c]=e.split("/");this.level=parseFloat(n),this.row=parseFloat(o),this.col=parseFloat(l),this.world=parseFloat(c)}else this.level=+e,this.row=+i,this.col=+r,this.world=+s||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new hn(this.level-1,this.row>>1,this.col>>1,this.world)}getNormalizedNeighbor(e,i,r){const s=this.clone();return s.col+=e,s.row+=i,r.normalizeKey(s),s}getChildKeys(){const e=this.level+1,i=this.row<<1,r=this.col<<1,s=this.world;return[new hn(e,i,r,s),new hn(e,i,r+1,s),new hn(e,i+1,r,s),new hn(e,i+1,r+1,s)]}compareRowMajor(e){return this.row<e.row?-1:this.row>e.row?1:this.col<e.col?-1:this.col>e.col?1:0}},hn.pool=new og(()=>new hn(""),null,null,25,50),hn);function If(t,e){return[t,e]}function Fh(t,e,i){return t[0]=e,t[1]=i,t}function PCe(t,e,i,r,s){return t[0]=e,t[1]=i,t[2]=r,t[3]=s,t}const Ao=new Og("0/0/0/0");let jCe=class lee{static create(e,i,r=null){const s=vs(e.spatialReference),n=i.origin||If(e.origin.x,e.origin.y),o=If(e.size[0]*i.resolution,e.size[1]*i.resolution),l=If(-1/0,-1/0),c=If(1/0,1/0),d=If(1/0,1/0);r!=null&&(Fh(l,Math.max(0,Math.floor((r.xmin-n[0])/o[0])),Math.max(0,Math.floor((n[1]-r.ymax)/o[1]))),Fh(c,Math.max(0,Math.floor((r.xmax-n[0])/o[0])),Math.max(0,Math.floor((n[1]-r.ymin)/o[1]))),Fh(d,c[0]-l[0]+1,c[1]-l[1]+1));const{cols:m,rows:v}=i;let w,_,x,T;return!r&&m&&v&&(Fh(l,m[0],v[0]),Fh(c,m[1],v[1]),Fh(d,m[1]-m[0]+1,v[1]-v[0]+1)),e.isWrappable?(w=If(Math.ceil(Math.round((s.valid[1]-s.valid[0])/i.resolution)/e.size[0]),d[1]),_=!0,x=s.origin,T=s.valid):(w=d,_=!1),new lee(i.level,i.resolution,i.scale,n,l,c,d,o,w,_,x,T)}constructor(e,i,r,s,n,o,l,c,d,m,v,w){this.level=e,this.resolution=i,this.scale=r,this.origin=s,this.first=n,this.last=o,this.size=l,this.norm=c,this.worldSize=d,this.wrap=m,this._spatialReferenceOrigin=v,this._spatialReferenceValid=w}normalizeCol(e){if(!this.wrap)return e;const i=this.worldSize[0];return e<0?i-1-Math.abs((e+1)%i):e%i}normalizeKey(e){if(!this.wrap)return;const i=this.worldSize[0],r=e.col;r<0?(e.col=r+i,e.world-=1):r>=i&&(e.col=r-i,e.world+=1)}denormalizeCol(e,i){return this.wrap?this.worldSize[0]*i+e:e}getWorldForColumn(e){return this.wrap?Math.floor(e/this.worldSize[0]):0}getFirstColumnForWorld(e){return e*this.worldSize[0]+this.first[0]}getLastColumnForWorld(e){return e*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(e){return(e-this.origin[0])/this.norm[0]}getXForColumn(e){const i=this.origin[0]+e*this.norm[0],r=this._spatialReferenceOrigin,s=this._spatialReferenceValid;return this.wrap&&r&&s?i===r[0]?s[0]:this.origin[0]===r[0]&&e===this.worldSize[0]?s[1]:i:i}getRowForY(e){return(this.origin[1]-e)/this.norm[1]}getYForRow(e){return this.origin[1]-e*this.norm[1]}getTileBounds(e,i,r=!1){Ao.set(i);const s=r?Ao.col:this.denormalizeCol(Ao.col,Ao.world),n=Ao.row;return PCe(e,this.getXForColumn(s),this.getYForRow(n+1),this.getXForColumn(s+1),this.getYForRow(n)),e}getTileCoords(e,i,r=!1){Ao.set(i);const s=r?Ao.col:this.denormalizeCol(Ao.col,Ao.world);return Array.isArray(e)?Fh(e,this.getXForColumn(s),this.getYForRow(Ao.row)):(e.x=this.getXForColumn(s),e.y=this.getYForRow(Ao.row)),e}};var rp;let oI=(rp=class{constructor(){this.spans=[]}acquire(e){this.lodInfo=e}release(){this.lodInfo=null,this.spans.length=0}*keys(){const e=this.lodInfo;for(const{row:i,colFrom:r,colTo:s}of this.spans)for(let n=r;n<=s;n++){const o=e.getWorldForColumn(n);yield new Og(e.level,i,e.normalizeCol(n),o)}}forEach(e,i){const{spans:r,lodInfo:s}=this,{level:n}=s;if(r.length!==0)for(const{row:o,colFrom:l,colTo:c}of r)for(let d=l;d<=c;d++)e.call(i,n,o,s.normalizeCol(d),s.getWorldForColumn(d))}},rp.pool=new og(()=>new rp),rp),rE=class{constructor(e,i,r){this.row=e,this.colFrom=i,this.colTo=r}};const Zt=new Og("0/0/0/0");let NCe=class uee{static create(e,i){e[1]>i[1]&&([e,i]=[i,e]);const[r,s]=e,[n,o]=i,l=n-r,c=o-s,d=c!==0?l/c:0,m=(Math.ceil(s)-s)*d,v=(Math.floor(s)-s)*d;return new uee(r,Math.floor(s),Math.ceil(o),d,l<0?m:v,l<0?v:m,l<0?n:r,l<0?r:n)}constructor(e,i,r,s,n,o,l,c){this.x=e,this.ymin=i,this.ymax=r,this.invM=s,this.leftAdjust=n,this.rightAdjust=o,this.leftBound=l,this.rightBound=c}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}};const sn=[[0,0],[0,0],[0,0],[0,0]],DCe=1e-6;let LCe=class{constructor(e,i=null,r=e.lods[0].level,s=e.lods[e.lods.length-1].level){this.tileInfo=e,this.fullExtent=i,this.scales=[],this._infoByScale={},this._infoByLevel={};const n=e.lods.filter(l=>l.level>=r&&l.level<=s);this.minScale=n[0].scale,this.maxScale=n[n.length-1].scale;const o=this._lodInfos=n.map(l=>jCe.create(e,l,i));n.forEach((l,c)=>{this._infoByLevel[l.level]=o[c],this._infoByScale[l.scale]=o[c],this.scales[c]=l.scale},this),this._wrap=e.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(e){return this._infoByLevel[typeof e=="number"?e:e.level]}getTileBounds(e,i,r=!1){Zt.set(i);const s=this._infoByLevel[Zt.level];return s?s.getTileBounds(e,Zt,r):e}getTileCoords(e,i,r=!1){Zt.set(i);const s=this._infoByLevel[Zt.level];return s?s.getTileCoords(e,Zt,r):e}getTileCoverage(e,i=192,r=!0,s="closest"){if(!r&&(e.scale>this.minScale||e.scale<this.maxScale))return null;const n=s==="closest"?this.getClosestInfoForScale(e.scale):this.getSmallestInfoForScale(e.scale),o=oI.pool.acquire(n),l=this._wrap;let c,d,m,v=1/0,w=-1/0;const _=o.spans;sn[0][0]=sn[0][1]=sn[1][1]=sn[3][0]=-i,sn[1][0]=sn[2][0]=e.size[0]+i,sn[2][1]=sn[3][1]=e.size[1]+i;for(const O of sn)e.toMap(O,O),O[0]=n.getColumnForX(O[0]),O[1]=n.getRowForY(O[1]);const x=[];let T=3;for(let O=0;O<4;O++){if(sn[O][1]===sn[T][1]){T=O;continue}const C=NCe.create(sn[O],sn[T]);v=Math.min(C.ymin,v),w=Math.max(C.ymax,w),x[C.ymin]===void 0&&(x[C.ymin]=[]),x[C.ymin].push(C),T=O}if(v==null||w==null||w-v>100)return null;let M=[];for(c=v;c<w;){x[c]!=null&&(M=M.concat(x[c])),d=1/0,m=-1/0;for(let O=M.length-1;O>=0;O--){const C=M[O];d=Math.min(d,C.getLeftCol()),m=Math.max(m,C.getRightCol())}if(d=Math.floor(d),m=Math.floor(m),c>=n.first[1]&&c<=n.last[1])if(l)if(n.size[0]<n.worldSize[0]){const O=Math.floor(m/n.worldSize[0]);for(let C=Math.floor(d/n.worldSize[0]);C<=O;C++)_.push(new rE(c,Math.max(n.getFirstColumnForWorld(C),d),Math.min(n.getLastColumnForWorld(C),m)))}else _.push(new rE(c,d,m));else d>n.last[0]||m<n.first[0]||(d=Math.max(d,n.first[0]),m=Math.min(m,n.last[0]),_.push(new rE(c,d,m)));c+=1;for(let O=M.length-1;O>=0;O--){const C=M[O];C.ymax>=c?C.incrRow():M.splice(O,1)}}return o}getTileParentId(e){Zt.set(e);const i=this._infoByLevel[Zt.level],r=this._lodInfos.indexOf(i)-1;return r<0?null:(this._getTileIdAtLOD(Zt,this._lodInfos[r],Zt),Zt.id)}getTileResolution(e){const i=this._infoByLevel[typeof e=="object"?e.level:e];return i?i.resolution:-1}getTileScale(e){const i=this._infoByLevel[e.level];return i?i.scale:-1}intersects(e,i){Zt.set(i);const r=this._infoByLevel[Zt.level],s=e.lodInfo;if(s.resolution>r.resolution){this._getTileIdAtLOD(Zt,s,Zt);const o=s.denormalizeCol(Zt.col,Zt.world);for(const l of e.spans)if(l.row===Zt.row&&l.colFrom<=o&&l.colTo>=o)return!0}if(s.resolution<r.resolution){const[o,l,c,d]=e.spans.reduce((T,M)=>(T[0]=Math.min(T[0],M.row),T[1]=Math.max(T[1],M.row),T[2]=Math.min(T[2],M.colFrom),T[3]=Math.max(T[3],M.colTo),T),[1/0,-1/0,1/0,-1/0]),m=r.denormalizeCol(Zt.col,Zt.world),v=s.getColumnForX(r.getXForColumn(m)),w=s.getRowForY(r.getYForRow(Zt.row)),_=s.getColumnForX(r.getXForColumn(m+1))-1,x=s.getRowForY(r.getYForRow(Zt.row+1))-1;return!(v>d||_<c||w>l||x<o)}const n=s.denormalizeCol(Zt.col,Zt.world);return e.spans.some(o=>o.row===Zt.row&&o.colFrom<=n&&o.colTo>=n)}normalizeBounds(e,i,r){if(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],this._wrap){const s=vs(this.tileInfo.spatialReference),n=-r*(s.valid[1]-s.valid[0]);e[0]+=n,e[2]+=n}return e}getSmallestInfoForScale(e){const i=this.scales;if(this._infoByScale[e])return this._infoByScale[e];if(e>i[0])return this._infoByScale[i[0]];for(let r=1;r<i.length-1;r++)if(e>i[r]+DCe)return this._infoByScale[i[r-1]];return this._infoByScale[i[i.length-1]]}getClosestInfoForScale(e){const i=this.scales;return this._infoByScale[e]||(e=i.reduce((r,s)=>Math.abs(s-e)<Math.abs(r-e)?s:r,i[0])),this._infoByScale[e]}scaleToLevel(e){const i=this.scales;if(this._infoByScale[e])return this._infoByScale[e].level;for(let r=i.length-1;r>=0;r--)if(e<i[r])return r===i.length-1?this._infoByScale[i[i.length-1]].level:this._infoByScale[i[r]].level+(i[r]-e)/(i[r]-i[r+1]);return this._infoByScale[i[0]].level}scaleToZoom(e){return this.tileInfo.scaleToZoom(e)}zoomToScale(e){return this.tileInfo.zoomToScale(e)}_getTileIdAtLOD(e,i,r){const s=this._infoByLevel[r.level];return e.set(r),i.resolution<s.resolution?null:(i.resolution===s.resolution||(e.level=i.level,e.col=Math.floor(r.col*s.resolution/i.resolution+.01),e.row=Math.floor(r.row*s.resolution/i.resolution+.01)),e)}},VCe=class{constructor(e,i){this.item=e,this.controller=i,this.promise=null}},FCe=class{constructor(e){this._schedule=null,this._task=null,this._deferreds=new Wm,this._controllers=new Wm,this._processingItems=new Wm,this._pausedSignal=Yy(!1),this.concurrency=1,e.concurrency&&(this.concurrency=e.concurrency),this._queue=new X1(e.peeker),this.process=e.process;const i=e.scheduler;e.priority&&i&&(this._task=i.registerTask(e.priority,this))}destroy(){this.clear(),this._schedule=Dt(this._schedule),this._task=Dt(this._task)}get updating(){var e;return!!((e=this._task)!=null&&e.updating)||this.readyToRun}get length(){return this._processingItems.size+this._queue.length}abort(e){const i=this._controllers.get(e);i&&i.abort()}clear(){this._queue.clear();const e=[];this._controllers.forEach(i=>e.push(i)),this._controllers.clear(),e.forEach(i=>i.abort()),this._processingItems.clear(),this._cancelNext()}forEach(e){this._deferreds.forEach((i,r)=>e(r))}get(e){const i=this._deferreds.get(e);return i?i.promise:void 0}isOngoing(e){return this._processingItems.has(e)}has(e){return this._deferreds.has(e)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(e,i){const r=this.get(e);if(r)return r;const s=new AbortController;let n=null;i&&(n=ao(i,()=>s.abort()));const o=()=>{const m=this._processingItems.get(e);m&&m.controller.abort(),l(),d.reject($t())},l=()=>{c.remove(),n!=null&&n.remove(),this._removeItem(e),this._queue.remove(e),this._scheduleNext()},c=YC(s.signal,o),d=bn();return this._deferreds.set(e,d),this._controllers.set(e,s),d.promise.then(l,l),this._queue.push(e),this._scheduleNext(),d.promise}last(){return this._queue.last()}lastPromise(){const e=this.last();return e?this.get(e):null}peek(){return this._queue.peek()}popLast(){var i;const e=this._queue.popLast();return e&&((i=this._deferreds.get(e))==null||i.reject($t()),this._removeItem(e)),e}reset(){const e=Array.from(this._processingItems.values());this._processingItems.clear();for(const i of e)this._queue.push(i.item),i.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const e=[];for(;this._queue.length;)e.push(this._queue.pop());return this.clear(),e}get readyToRun(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(e){for(;!e.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),e.madeProgress()}_removeItem(e){this._deferreds.delete(e),this._controllers.delete(e),this._processingItems.delete(e)}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=ug(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(e,i){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).resolve(i))}_processError(e,i){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).reject(i))}_canProcessFulfillment(e){return!!this._deferreds.get(e.item)&&this._processingItems.get(e.item)===e}_process(e){if(e==null)return;let i;const r=new AbortController,s=new VCe(e,r);this._processingItems.set(e,s);try{i=this.process(e,r.signal)}catch(n){this._processError(s,n)}Xr(i)?(s.promise=i,i.then(n=>this._processResult(s,n),n=>this._processError(s,n))):this._processResult(s,i)}get test(){}};const DF=[0,0];let Al=class extends $e{constructor(e){super(e),this._keyToItem=new Map,this._tilesByScale=new Map,this.concurrency=6}initialize(){const{concurrency:e,process:i,scheduler:r,priority:s}=this;this._queue=new FCe({concurrency:e,scheduler:r,priority:s,process:(n,o)=>{const l=this._keyToItem.get(n);return i(l,{signal:o})},peeker:n=>this._peek(n)})}destroy(){this.clear(),this._queue=ti(this._queue)}get length(){return this._queue?this._queue.length:0}abort(e){const i=typeof e=="string"?e:e.id;this._queue.abort(i)}clear(){this._queue.clear(),this._keyToItem.clear(),this._tilesByScale.clear()}has(e){return typeof e=="string"?this._keyToItem.has(e):this._keyToItem.has(e.id)}pause(){this._queue.pause()}push(e){const i=e.key.id;if(this._queue.has(i))return this._queue.get(i);const r=this._queue.push(i),s=this.tileInfoView.getTileScale(e.key),n=cg(this._tilesByScale,s,()=>new Set),o=()=>{n.delete(e.key),n.size===0&&this._tilesByScale.delete(s),this._keyToItem.delete(i)};return n.add(e.key),this._keyToItem.set(i,e),r.then(o,o),r}reset(){this._queue.reset()}resume(){this._queue.resume()}_peek(e){if(!this.state)return e.values().next().value;const i=new Set;for(const o of e)i.add(this._keyToItem.get(o).key);const r=this.state.scale;let s,n=Number.POSITIVE_INFINITY;for(const[o,l]of this._tilesByScale)if(ZB(l,c=>i.has(c))){const c=Math.abs(o-r);c<n&&(s=l,n=c)}return this._getClosestTileKey(s,e).id}_getClosestTileKey(e,i){const r=this.tileInfoView,s=this.state.center;let n,o=Number.POSITIVE_INFINITY;for(const l of e)if(i.has(l.id)){r.getTileCoords(DF,l);const c=ET(DF,s);c<o&&(o=c,n=l)}return n}};h([f({constructOnly:!0})],Al.prototype,"concurrency",void 0),h([f({constructOnly:!0})],Al.prototype,"priority",void 0),h([f({constructOnly:!0})],Al.prototype,"process",void 0),h([f({constructOnly:!0})],Al.prototype,"scheduler",void 0),h([f()],Al.prototype,"state",void 0),h([f({constructOnly:!0})],Al.prototype,"tileInfoView",void 0),Al=h([I("esri.views.2d.tiling.TileQueue")],Al);const VUe=Al;let zCe=class{constructor(e,i,r){this.maxSize=e,this._tileInfoView=i,this._removedFunc=r,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(e){return this._tilePerId.has(e)}get(e){return this._tilePerId.get(e)}pop(e){const i=this._tilePerId.get(e);if(!i)return;const r=i.key.level,s=this._tileKeysPerLevel[r];LF(this._tilePerId,e);for(let n=0;n<s.length;n++)if(s[n].id===e){s.splice(n,1);break}return i.visible=!0,i}add(e){e.visible=!1;const i=e.key,r=i.id;if(this._tilePerId.has(r))return;this._tilePerId.set(r,e);const s=i.level;this._tileKeysPerLevel[s]||(this._tileKeysPerLevel[s]=[]),this._tileKeysPerLevel[s].push(i)}prune(e,i,r){let s=this._tilePerId.size;if(s<=this.maxSize)return;let n=this._tileKeysPerLevel.length-1;for(;s>this.maxSize&&n>=0;)n!==e&&(s=this._pruneAroundCenterTile(s,i,r,n)),n--;s>this.maxSize&&(s=this._pruneAroundCenterTile(s,i,r,e))}_pruneAroundCenterTile(e,i,r,s){const n=this._tileKeysPerLevel[s];if(!n||n.length===0)return e;const{size:o,origin:l}=this._tileInfoView.tileInfo,c=r*o[0],d=r*o[1],m=[0,0],v=[0,0];for(n.sort((w,_)=>(m[0]=l.x+c*(w.col+.5),m[1]=l.y-d*(w.row+.5),v[0]=l.x+c*(_.col+.5),v[1]=l.y-d*(_.row+.5),Z1(m,i)-Z1(v,i)));n.length>0;){const w=n.pop();if(this._removeTile(w.id),--e===this.maxSize)break}return e}_removeTile(e){const i=this._tilePerId.get(e);this._removedFunc&&i&&this._removedFunc(i),LF(this._tilePerId,e)}};function LF(t,e){t.delete(e)}const zh=new Og(0,0,0,0),pl=new Map,Z0=[],sE=[];let zUe=class{constructor(e){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=e.acquireTile,this.releaseTile=e.releaseTile,this.tileInfoView=e.tileInfoView,e.resampling!=null&&(this.resampling=e.resampling),e.cachePolicy&&(this.cachePolicy=e.cachePolicy),e.coveragePolicy&&(this.coveragePolicy=e.coveragePolicy),e.buffer!=null&&(this.buffer=e.buffer),e.cacheSize&&(this._tileCache=new zCe(e.cacheSize,this.tileInfoView,i=>{this.releaseTile(i)}))}destroy(){this.tileIndex.clear()}update(e){var O,C;const{resampling:i,tileIndex:r}=this,{scale:s,center:n,resolution:o}=e.state,{minScale:l,maxScale:c}=this.tileInfoView,d=!e.stationary&&s>this._previousScale;if(this._previousScale=s,!i&&(s>l||s<c))return this.tiles.length=0,void this.clear();const m=this.tileInfoView.getTileCoverage(e.state,this.buffer,this.resampling,this.coveragePolicy);if(!m)return this.tiles.length=0,void this.clear();const{spans:v,lodInfo:w}=m,{level:_}=w;this.tiles.length=0,r.forEach(R=>R.visible=!0);let x=0,T=0;if(v.length>0)for(const{row:R,colFrom:N,colTo:j}of v)for(let F=N;F<=j;F++){x++;const ee=zh.set(_,R,w.normalizeCol(F),w.getWorldForColumn(F)).id;let X=r.get(ee);if(X)X.isReady?(pl.set(ee,X),T++):d||this._addParentTile(ee,pl);else{if((O=this._tileCache)!=null&&O.has(ee)){if(X=this._tileCache.pop(ee),this.tileIndex.set(ee,X),X.isReady){pl.set(ee,X),T++;continue}}else X=this.acquireTile(zh),this.tileIndex.set(ee,X);d||this._addParentTile(ee,pl)}}const M=T===x;for(const[R,N]of r){if(pl.has(R))continue;zh.set(R);const j=this.tileInfoView.intersects(m,zh),F=this.cachePolicy==="purge"?zh.level!==_:zh.level>_;!j||!d&&M?!F&&j||Z0.push(N):N.isReady?F&&this.cachePolicy==="purge"&&this._hasReadyAncestor(zh,_)?Z0.push(N):sE.push(N):F&&Z0.push(N)}for(const R of sE)R.isReady&&pl.set(R.key.id,R);for(const R of Z0)this._tileCache?this._tileCache.add(R):this.releaseTile(R),r.delete(R.key.id);for(const R of pl.values())this.tiles.push(R);for(const R of r.values())pl.has(R.key.id)||(R.visible=!1);(C=this._tileCache)==null||C.prune(_,n,o),oI.pool.release(m),sE.length=0,Z0.length=0,pl.clear()}clear(){const{tileIndex:e}=this;for(const i of e.values())this.releaseTile(i);e.clear()}refresh(e){var i;for(const r of this.tileIndex.values())e(r);(i=this._tileCache)==null||i.clear()}updateCacheSize(e){this._tileCache&&(this._tileCache.maxSize=e)}_addParentTile(e,i){var n;let r=e,s=null;for(;r=this.tileInfoView.getTileParentId(r),r;)if(this.tileIndex.has(r)){if(s=this.tileIndex.get(r),s==null?void 0:s.isReady){i.has(s.key.id)||i.set(s.key.id,s);break}}else if((n=this._tileCache)!=null&&n.has(r)&&(s=this._tileCache.pop(r),this.tileIndex.set(r,s),s==null?void 0:s.isReady)){i.has(s.key.id)||i.set(s.key.id,s);break}}_hasReadyAncestor(e,i){const r=Us();this.tileInfoView.getTileBounds(r,e,!0);for(const s of this.tileIndex.values())if(s.isReady&&s.key.level>=i&&s.key.level<e.level){const n=Us();if(this.tileInfoView.getTileBounds(n,s.key,!0),jve(n,r))return!0}return!1}};const UCe={"area-measurement":null,dimension:null,"direct-line-measurement":null,"elevation-profile":()=>te(()=>import("./ElevationProfileAnalysisView2D-MDNO12Qx.js"),__vite__mapDeps([302,127,195,296,303,245,304,305,306,307,308,309,107,310,311,312,313,314,115,116,315,316,317,193,318,319,139,69,121,122,135,197,67,320,108,148,153,134])),"line-of-sight":null,slice:null,viewshed:null,"volume-measurement":null};function qCe(t){const e=UCe[t.type];if(!e)throw new B("analysis-view-module-import-utils:analysis-not-supported",`Analysis "${t.type}" is not supported`);return e()}let BCe=class{constructor(e,i={}){this.events=new npe,this._hasMajorPerformanceCaveat=!1,this._lastRenderFrameCounter=0,e!=null?(this._canvas=document.createElement("canvas"),this._canvas.setAttribute("style","width: 100%; height:100%; display:block; willChange:transform"),e.contains(this._canvas)||e.appendChild(this._canvas)):i.canvas!=null&&(this._canvas=i.canvas);const r={failIfMajorPerformanceCaveat:!0,alpha:!0,antialias:!1,depth:!0,stencil:!0,powerPreference:"high-performance"};let s=this._canvas.getContext("webgl2",r);s||(s=this._canvas.getContext("webgl2",{...r,failIfMajorPerformanceCaveat:!1}),this._hasMajorPerformanceCaveat=!0),this._gl=s,this._handles=xp([lg(this._canvas,"webglcontextlost",n=>this.events.emit("webgl-context-lost",n))])}destroy(){this._canvas.remove(),this._canvas=null,this._handles.remove(),this._gl=null}get gl(){return this._gl}get canvas(){return this._canvas}render(e,i){if(this._hasMajorPerformanceCaveat||q("esri-force-performance-mode")){if(++this._lastRenderFrameCounter>=q("esri-performance-mode-frames-between-render")&&(i(),this._lastRenderViewState=e.state.clone(),this._lastRenderFrameCounter=0),this._lastRenderViewState){const[r,s,n,o,l,c]=this._computeViewTransform(this._lastRenderViewState,e.state);this._canvas.style.transform=`matrix(${r}, ${s}, ${n}, ${o}, ${l}, ${c})`}}else i()}resize(e){const i=this._canvas,r=i.style,{state:{size:s},pixelRatio:n}=e,o=s[0],l=s[1],c=Math.round(o*n),d=Math.round(l*n);i.width===c&&i.height===d||(i.width=c,i.height=d),r.width=o+"px",r.height=l+"px"}_computeViewTransform(e,i){const[r,s]=e.center,[n,o]=i.center,[l,c]=e.toScreen([0,0],n,o),[d,m]=e.toScreen([0,0],r,s),v=d-l,w=m-c,_=e.scale/i.scale,x=i.rotation-e.rotation,T=La();return vQ(T),KT(T,T,[_,_]),Ww(T,T,kw(x)),Jy(T,T,[v,w]),T}};function GCe(t,e,i,r,s){cee(t,e,i||0,r||t.length-1,s||HCe)}function cee(t,e,i,r,s){for(;r>i;){if(r-i>600){var n=r-i+1,o=e-i+1,l=Math.log(n),c=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*c*(n-c)/n)*(o-n/2<0?-1:1);cee(t,e,Math.max(i,Math.floor(e-o*c/n+d)),Math.min(r,Math.floor(e+(n-o)*c/n+d)),s)}var m=t[e],v=i,w=r;for(Y0(t,i,e),s(t[r],m)>0&&Y0(t,i,r);v<w;){for(Y0(t,v,w),v++,w--;s(t[v],m)<0;)v++;for(;s(t[w],m)>0;)w--}s(t[i],m)===0?Y0(t,i,w):Y0(t,++w,r),w<=e&&(i=w+1),e<=w&&(r=w-1)}}function Y0(t,e,i){var r=t[e];t[e]=t[i],t[i]=r}function HCe(t,e){return t<e?-1:t>e?1:0}function Vx(t,e){if(!(this instanceof Vx))return new Vx(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&(typeof e=="function"?this.toBBox=e:this._initFormat(e)),this.clear()}function WCe(t,e,i){if(!i)return e.indexOf(t);for(var r=0;r<e.length;r++)if(i(t,e[r]))return r;return-1}function Pf(t,e){Fv(t,0,t.children.length,e,t)}function Fv(t,e,i,r,s){s||(s=am(null)),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(var n,o=e;o<i;o++)n=t.children[o],zv(s,t.leaf?r(n):n);return s}function zv(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function VF(t,e){return t.minX-e.minX}function FF(t,e){return t.minY-e.minY}function nE(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function e2(t){return t.maxX-t.minX+(t.maxY-t.minY)}function ZCe(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function YCe(t,e){var i=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),s=Math.min(t.maxX,e.maxX),n=Math.min(t.maxY,e.maxY);return Math.max(0,s-i)*Math.max(0,n-r)}function oE(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function t2(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function am(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function zF(t,e,i,r,s){for(var n,o=[e,i];o.length;)(i=o.pop())-(e=o.pop())<=r||(n=e+Math.ceil((i-e)/r/2)*r,GCe(t,n,e,i,s),o.push(e,n,n,i))}Vx.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,i=[],r=this.toBBox;if(!t2(t,e))return i;for(var s,n,o,l,c=[];e;){for(s=0,n=e.children.length;s<n;s++)o=e.children[s],t2(t,l=e.leaf?r(o):o)&&(e.leaf?i.push(o):oE(t,l)?this._all(o,i):c.push(o));e=c.pop()}return i},collides:function(t){var e=this.data,i=this.toBBox;if(!t2(t,e))return!1;for(var r,s,n,o,l=[];e;){for(r=0,s=e.children.length;r<s;r++)if(n=e.children[r],t2(t,o=e.leaf?i(n):n)){if(e.leaf||oE(t,o))return!0;l.push(n)}e=l.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,i=t.length;e<i;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var s=this.data;this.data=r,r=s}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t!=null&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=am([]),this},remove:function(t,e){if(t==null)return this;for(var i,r,s,n,o=this.data,l=this.toBBox(t),c=[],d=[];o||c.length;){if(o||(o=c.pop(),r=c[c.length-1],i=d.pop(),n=!0),o.leaf&&(s=WCe(t,o.children,e))!==-1)return o.children.splice(s,1),c.push(o),this._condense(c),this;n||o.leaf||!oE(o,l)?r?(i++,o=r.children[i],n=!1):o=null:(c.push(o),d.push(i),i=0,r=o,o=o.children[0])}return this},toBBox:function(t){return t},compareMinX:VF,compareMinY:FF,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},_build:function(t,e,i,r){var s,n=i-e+1,o=this._maxEntries;if(n<=o)return Pf(s=am(t.slice(e,i+1)),this.toBBox),s;r||(r=Math.ceil(Math.log(n)/Math.log(o)),o=Math.ceil(n/Math.pow(o,r-1))),(s=am([])).leaf=!1,s.height=r;var l,c,d,m,v=Math.ceil(n/o),w=v*Math.ceil(Math.sqrt(o));for(zF(t,e,i,w,this.compareMinX),l=e;l<=i;l+=w)for(zF(t,l,d=Math.min(l+w-1,i),v,this.compareMinY),c=l;c<=d;c+=v)m=Math.min(c+v-1,d),s.children.push(this._build(t,c,m,r-1));return Pf(s,this.toBBox),s},_chooseSubtree:function(t,e,i,r){for(var s,n,o,l,c,d,m,v;r.push(e),!e.leaf&&r.length-1!==i;){for(m=v=1/0,s=0,n=e.children.length;s<n;s++)c=nE(o=e.children[s]),(d=ZCe(t,o)-c)<v?(v=d,m=c<m?c:m,l=o):d===v&&c<m&&(m=c,l=o);e=l||e.children[0]}return e},_insert:function(t,e,i){var r=this.toBBox,s=i?t:r(t),n=[],o=this._chooseSubtree(s,this.data,e,n);for(o.children.push(t),zv(o,s);e>=0&&n[e].children.length>this._maxEntries;)this._split(n,e),e--;this._adjustParentBBoxes(s,n,e)},_split:function(t,e){var i=t[e],r=i.children.length,s=this._minEntries;this._chooseSplitAxis(i,s,r);var n=this._chooseSplitIndex(i,s,r),o=am(i.children.splice(n,i.children.length-n));o.height=i.height,o.leaf=i.leaf,Pf(i,this.toBBox),Pf(o,this.toBBox),e?t[e-1].children.push(o):this._splitRoot(i,o)},_splitRoot:function(t,e){this.data=am([t,e]),this.data.height=t.height+1,this.data.leaf=!1,Pf(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var r,s,n,o,l,c,d,m;for(c=d=1/0,r=e;r<=i-e;r++)o=YCe(s=Fv(t,0,r,this.toBBox),n=Fv(t,r,i,this.toBBox)),l=nE(s)+nE(n),o<c?(c=o,m=r,d=l<d?l:d):o===c&&l<d&&(d=l,m=r);return m},_chooseSplitAxis:function(t,e,i){var r=t.leaf?this.compareMinX:VF,s=t.leaf?this.compareMinY:FF;this._allDistMargin(t,e,i,r)<this._allDistMargin(t,e,i,s)&&t.children.sort(r)},_allDistMargin:function(t,e,i,r){t.children.sort(r);var s,n,o=this.toBBox,l=Fv(t,0,e,o),c=Fv(t,i-e,i,o),d=e2(l)+e2(c);for(s=e;s<i-e;s++)n=t.children[s],zv(l,t.leaf?o(n):n),d+=e2(l);for(s=i-e-1;s>=e;s--)n=t.children[s],zv(c,t.leaf?o(n):n),d+=e2(c);return d},_adjustParentBBoxes:function(t,e,i){for(var r=i;r>=0;r--)zv(e[r],t)},_condense:function(t){for(var e,i=t.length-1;i>=0;i--)t[i].children.length===0?i>0?(e=t[i-1].children).splice(e.indexOf(t[i]),1):this.clear():Pf(t[i],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};function JCe(t,{timeZone:e,timeExtent:i}){return{$view:{scale:t,timeZone:e,timeProperties:{currentStart:i==null?void 0:i.start,currentEnd:i==null?void 0:i.end}}}}let UF=class hee{constructor(e,i){this.key=new Og(0,0,0,0),this.bounds=Us(),this.objectIds=new Set,this.key.set(i);const r=e.getLODInfoAt(this.key);this.tileInfoView=e,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=r.resolution,this.level=r.level,this.scale=r.scale,this.minScale=e.zoomToScale(r.level-1),this.maxScale=e.zoomToScale(r.level+1)}get lod(){return this.tileInfoView.getLODInfoAt(this.key)}get id(){return this.key.id}get extent(){return Rve(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createArcadeEvaluationOptions(e){return JCe(this.scale,e)}createChildTiles(){const e=this.key.getChildKeys(),i=hs.acquire();for(let r=0;r<e.length;r++)i[r]=new hee(this.tileInfoView,e[r]);return i}getQuantizationParameters(){return dc.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}};const Uh={added:[],removed:[]},aE=new Set,KCe=new Og(0,0,0,0);function XCe(t,e){const i=vs(e);if(!i)return null;const[r,s]=i.valid;return t[2]>s?[Us([t[0],t[1],s,t[3]]),Us([r,t[1],r+t[2]-s,t[3]])]:t[0]<r?[Us([r,t[1],t[2],t[3]]),Us([s-(r-t[0]),t[1],s,t[3]])]:null}let QCe=class extends fG{constructor(e){super(),this._tiles=new Map,this._index=Vx(9,q("esri-csp-restrictions")?i=>({minX:i.bounds[0],minY:i.bounds[1],maxX:i.bounds[2],maxY:i.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=e}destroy(){super.destroy(),this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(e){return this._tiles.has(e)}get(e){return this._tiles.get(e)}getIntersectingTiles(e){if(!e||YR(e)===0||JR(e)===0)return[];const i=XCe(e,this.tileScheme.spatialReference);return i!=null?[...new Set([...this.boundsIntersections(i[0]),...this.boundsIntersections(i[1])])]:this.boundsIntersections(e)}boundsIntersections(e){return this._index.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]})}updateTiles(e){const i={added:[],removed:[]};for(const r of e.added)if(!this.has(r)){const s=new UF(this.tileScheme,r);this._tiles.set(r,s),this._index.insert(s),i.added.push(s)}for(const r of e.removed)if(this.has(r)){const s=this.get(r);this._tiles.delete(r),this._index.remove(s),i.removed.push(s)}this.tiles.length=0,this._tiles.forEach(r=>this.tiles.push(r)),(i.added.length||i.removed.length)&&this.emit("update",i)}setViewState(e){const i=this.tileScheme.getTileCoverage(e,0);if(!i)return;const{spans:r,lodInfo:s}=i,{level:n}=s;if(r.length>0)for(const{row:o,colFrom:l,colTo:c}of r)for(let d=l;d<=c;d++){const m=KCe.set(n,o,s.normalizeCol(d),s.getWorldForColumn(d)).id;if(aE.add(m),!this.has(m)){const v=new UF(this.tileScheme,m);this._tiles.set(m,v),this._index.insert(v),this.tiles.push(v),Uh.added.push(v)}}for(let o=this.tiles.length-1;o>=0;o--){const l=this.tiles[o];aE.has(l.id)||(this._tiles.delete(l.id),this.tiles.splice(o,1),this._index.remove(l),Uh.removed.push(l))}(Uh.added.length||Uh.removed.length)&&this.emit("update",Uh),oI.pool.release(i),aE.clear(),Uh.added.length=0,Uh.removed.length=0}};const GUe=1e-30,qF=512,i2=16777216,HUe=8,WUe=29,ZUe=24,YUe=4,JUe=0,KUe=0,XUe=0,QUe=1,eqe=2,tqe=3,iqe=4,rqe=5,sqe=6,nqe=12,oqe=13,aqe=5,eRe=6,lqe=5,uqe=6,dee=6,tRe=1<<dee,cqe=tRe<<1,hqe=1.05,dqe=3,pqe=1,fqe=3,mqe=3,yqe=5,gqe=6,vqe=1.15,iRe=4,wqe=128,rRe=256,bqe=rRe-2*iRe,_qe=2,Sqe=128,xqe=1,Tqe=10,$qe=1024,Mqe=128,Eqe=4,Aqe=1,Oqe=1<<20,kqe=.75,Cqe=10,Rqe=.75,Iqe=256,Pqe=32,jqe=512,Nqe=0,Dqe=1,sRe=1,Lqe=[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],Vqe=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],J0=256,nRe=()=>se.getLogger("esri.views.webgl.checkWebGLError");function pee(t){switch(t.getError()){case t.NO_ERROR:return null;case t.INVALID_ENUM:return"Invalid Enum. An unacceptable value has been specified for an enumerated argument.";case t.INVALID_VALUE:return"Invalid Value. A numeric argument is out of range.";case t.INVALID_OPERATION:return"Invalid Operation. The specified command is not allowed for the current state.";case t.INVALID_FRAMEBUFFER_OPERATION:return"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.";case t.OUT_OF_MEMORY:return"Out of memory. Not enough memory is left to execute the command.";case t.CONTEXT_LOST_WEBGL:return"WebGL context has been lost";default:return"Unknown error"}}const fee=!!q("enable-feature:webgl-debug");function mee(){return fee}function Fqe(){return fee}function qh(t,e=mee()){if(e){const i=pee(t);if(i){const r=new Error().stack;nRe().error(new B("webgl-error","WebGL error occurred",{message:i,stack:r}))}}}const zqe={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Bh={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,HALF_FLOAT:5131},Oe={RGBA4:32854,R16F:33325,RG16F:33327,RGB32F:34837,RGBA16F:34842,R32F:33326,RG32F:33328,RGBA32F:34836,R11F_G11F_B10F:35898,RGB8:32849,RGBA8:32856,RGB5_A1:32855,R8:33321,RG8:33323,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,RGB16F:34843,RGB9_E5:35901,SRGB8:35905,SRGB8_ALPHA8:35907,RGB565:36194,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,RGB10_A2:32857,RGB10_A2UI:36975},oRe=Object.values(Oe),Fx={DEPTH24_STENCIL8:35056,DEPTH32F_STENCIL8:36013},T1={DEPTH_COMPONENT16:33189,DEPTH_COMPONENT24:33190,DEPTH_COMPONENT32F:36012},Yk={FLOAT:Bh.FLOAT,UNSIGNED_BYTE:Bh.UNSIGNED_BYTE,UNSIGNED_INT_24_8:34042,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,BYTE:Bh.BYTE,UNSIGNED_SHORT:Bh.UNSIGNED_SHORT,SHORT:Bh.SHORT,UNSIGNED_INT:Bh.UNSIGNED_INT,INT:Bh.INT,HALF_FLOAT:5131,UNSIGNED_INT_2_10_10_10_REV:33640,UNSIGNED_INT_10F_11F_11F_REV:35899,UNSIGNED_INT_5_9_9_9_REV:35902,FLOAT_32_UNSIGNED_INT_24_8_REV:36269},Uqe=33984,BF={Texture:0,TileTexture:1,BufferObject:2,VertexArrayObject:3,Shader:4,Program:5,FramebufferObject:6,Renderbuffer:7,TransformFeedback:8,Sync:9,UNCOUNTED:10,LinesOfCode:10,Uniform:11,COUNT:12},qqe=1029,Bqe=0,Gqe=36064,Hqe=36065,Wqe=36066,Zqe=36067,Yqe=33306,Jqe=36096,Kqe=36128,Fr={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_SRGB8_ETC2:37493,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37494,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37495,COMPRESSED_RGBA8_ETC2_EAC:37496,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37497};function Xqe(t,e,i,r=0){const s=t.gl;t.bindBuffer(i);for(const n of i.layout){const o=e.get(n.name);if(o==null){console.warn(`There is no location for vertex attribute '${n.name}' defined.`);continue}const l=r*n.stride;if(n.count<=4)s.vertexAttribPointer(o,n.count,n.type,n.normalized,n.stride,n.offset+l),s.enableVertexAttribArray(o),n.divisor>0&&s.vertexAttribDivisor(o,n.divisor);else if(n.count===9)for(let c=0;c<3;c++)s.vertexAttribPointer(o+c,3,n.type,n.normalized,n.stride,n.offset+12*c+l),s.enableVertexAttribArray(o+c),n.divisor>0&&s.vertexAttribDivisor(o+c,n.divisor);else if(n.count===16)for(let c=0;c<4;c++)s.vertexAttribPointer(o+c,4,n.type,n.normalized,n.stride,n.offset+16*c+l),s.enableVertexAttribArray(o+c),n.divisor>0&&s.vertexAttribDivisor(o+c,n.divisor);else console.error("Unsupported vertex attribute element count: "+n.count);if(mee()){const c=pee(t.gl);c&&console.error(`Unable to bind vertex attribute "${n.name}" with baseInstanceOffset ${l}:`,c,n)}}}function Qqe(t){switch(t){case 6406:case 6409:case 6403:case 36244:case 6402:case 34041:return 1;case 6410:case 33319:case 33320:return 2;case 6407:case 36248:return 3;case 6408:case 36249:return 4}return 0}function aRe(t){switch(t){case 6406:case 6409:case 6403:case 36244:case Oe.R8:case Oe.R8I:case Oe.R8UI:case Oe.R8_SNORM:case 36168:return 1;case 6410:case 33319:case 33320:case Oe.RGBA4:case Oe.R16F:case Oe.R16I:case Oe.R16UI:case Oe.RG8:case Oe.RG8I:case Oe.RG8UI:case Oe.RG8_SNORM:case Oe.RGB565:case Oe.RGB5_A1:case T1.DEPTH_COMPONENT16:return 2;case 6407:case 36248:case Oe.RGB8:case Oe.RGB8I:case Oe.RGB8UI:case Oe.RGB8_SNORM:case Oe.SRGB8:case T1.DEPTH_COMPONENT24:return 3;case 6408:case 36249:case Oe.RGBA8:case Oe.R32F:case Oe.R11F_G11F_B10F:case Oe.RG16F:case Oe.R32I:case Oe.R32UI:case Oe.RG16I:case Oe.RG16UI:case Oe.RGBA8I:case Oe.RGBA8UI:case Oe.RGBA8_SNORM:case Oe.SRGB8_ALPHA8:case Oe.RGB9_E5:case Oe.RGB10_A2UI:case Oe.RGB10_A2:case T1.DEPTH_COMPONENT32F:case Fx.DEPTH24_STENCIL8:return 4;case Fx.DEPTH32F_STENCIL8:return 5;case Oe.RGB16F:case Oe.RGB16I:case Oe.RGB16UI:return 6;case Oe.RG32F:case Oe.RG32I:case Oe.RG32UI:case Oe.RGBA16F:case Oe.RGBA16I:case Oe.RGBA16UI:return 8;case Oe.RGB32F:case Oe.RGB32I:case Oe.RGB32UI:return 12;case Oe.RGBA32F:case Oe.RGBA32I:case Oe.RGBA32UI:return 16;case Fr.COMPRESSED_RGB_S3TC_DXT1_EXT:case Fr.COMPRESSED_RGBA_S3TC_DXT1_EXT:return .5;case Fr.COMPRESSED_RGBA_S3TC_DXT3_EXT:case Fr.COMPRESSED_RGBA_S3TC_DXT5_EXT:return 1;case Fr.COMPRESSED_R11_EAC:case Fr.COMPRESSED_SIGNED_R11_EAC:case Fr.COMPRESSED_RGB8_ETC2:case Fr.COMPRESSED_SRGB8_ETC2:case Fr.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:case Fr.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:return .5;case Fr.COMPRESSED_RG11_EAC:case Fr.COMPRESSED_SIGNED_RG11_EAC:case Fr.COMPRESSED_RGBA8_ETC2_EAC:case Fr.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:return 1}return 0}let yee=class{constructor(e=0,i=e){this.width=e,this.height=i,this.type=0,this.target=3553,this.pixelFormat=6408,this.dataType=Yk.UNSIGNED_BYTE,this.samplingMode=9729,this.wrapMode=10497,this.maxAnisotropy=1,this.flipped=!1,this.hasMipmap=!1,this.isOpaque=!1,this.unpackAlignment=4,this.preMultiplyAlpha=!1,this.compareEnabled=!1,this.linearFilterDepth=!1,this.depth=1,this.isImmutable=!1}};function lRe(t){return t.width<=0||t.height<=0||t.depth<=0?0:Math.round(t.width*t.height*t.depth*(t.hasMipmap?4/3:1)*(t.internalFormat==null?4:aRe(t.internalFormat))*(t.target===34067?6:1))}const K0=()=>se.getLogger("esri/views/webgl/textureUtils");function X0(t){const{width:e,height:i,depth:r}=t;(e!=null&&e<0||i!=null&&i<0||r!=null&&r<0)&&K0().error("Negative dimension parameters are not allowed!");const{internalFormat:s}=t;if(s&&(gee(s)||vee(s))){const{linearFilterDepth:n,compareEnabled:o,samplingMode:l,hasMipmap:c}=t;c&&K0().error("Depth textures cannot have mipmaps"),n?l!==9729&&l!==9728&&K0().error("Depth textures cannot sample mipmaps"):(l!==9728&&K0().error("Depth textures without filtering must use NEAREST filtering"),o&&K0().error("Depth textures without filtering cannot use compare function"))}}function uRe(t){return oRe.includes(t)}function gee(t){return eT(T1,t)}function vee(t){return eT(Fx,t)}function cRe(t){return t!=null&&eT(Fr,t)}function lm(t){return t!=null&&"type"in t&&t.type==="compressed"}function hRe(t){return t!=null&&"byteLength"in t}function GF(t){return t!=null&&!lm(t)&&!hRe(t)}function jf(t){return t===32879||t===35866}function HF(t,e,i,r=1){let s=Math.max(e,i);return t===32879&&(s=Math.max(s,r)),Math.floor(Math.log2(s))+1}function r2(t){if(t.internalFormat!=null)return t.internalFormat;switch(t.dataType){case Yk.FLOAT:switch(t.pixelFormat){case 6408:return Oe.RGBA32F;case 6407:return Oe.RGB32F;default:throw new B("texture:unknown-format","Unable to derive format")}case Yk.UNSIGNED_BYTE:switch(t.pixelFormat){case 6408:return Oe.RGBA8;case 6407:return Oe.RGB8}}const{pixelFormat:e}=t;return t.internalFormat=e===34041?Fx.DEPTH24_STENCIL8:e===6402?T1.DEPTH_COMPONENT24:e,t.internalFormat}function dRe(t){let e="width"in t?t.width:t.codedWidth,i="height"in t?t.height:t.codedHeight;return t instanceof HTMLVideoElement&&(e=t.videoWidth,i=t.videoHeight),{width:e,height:i,depth:1}}let pRe=class wee extends yee{constructor(e,i){switch(super(),this.context=e,Object.assign(this,i),this.internalFormat){case Oe.R16F:case Oe.R32F:case Oe.R8_SNORM:case Oe.R8:this.pixelFormat=6403;break;case Oe.R8I:case Oe.R8UI:case Oe.R16I:case Oe.R16UI:case Oe.R32I:case Oe.R32UI:this.pixelFormat=36244}}static validate(e,i){return new wee(e,i)}};const fRe=!!q("esri-tests-disable-gpu-memory-measurements"),fl=()=>se.getLogger("esri/views/webgl/Texture");var Ui;let mRe=(Ui=class{constructor(e,i=null,r=null){if(this.type=1,this._glName=null,this._samplingModeDirty=!1,this._wrapModeDirty=!1,this._shadowFilterDirty=!1,this._wasImmutablyAllocated=!1,"context"in e)this._descriptor=e,r=i;else{const s=pRe.validate(e,i);if(!s)throw new B("texture:invalid-descriptor","Texture descriptor invalid");this._descriptor=s}this._descriptor.target===34067?this._setDataCubeMap(r):this.setData(r)}get glName(){return this._glName}get descriptor(){return this._descriptor}get usedMemory(){return fRe?0:lRe(this._descriptor)}get isDirty(){return this._samplingModeDirty||this._wrapModeDirty||this._shadowFilterDirty}get hasWebGLTextureObject(){return!!this._glName}dispose(){var e;this.abortCompression(),this.hasWebGLTextureObject&&((e=this._descriptor.context)!=null&&e.gl)&&(this._descriptor.context.instanceCounter.decrement(BF.Texture,this),this._descriptor.context.unbindTexture(this),this._descriptor.context.gl.deleteTexture(this._glName),this._glName=null,this._descriptor=null)}release(){this.dispose()}[Symbol.dispose](){this.dispose()}resize(e,i){const r=this._descriptor;if(r.width!==e||r.height!==i){if(this._wasImmutablyAllocated)throw new B("texture:immutable-resize","Immutable textures can't be resized!");r.width=e,r.height=i,this._descriptor.target===34067?this._setDataCubeMap(null):this.setData(null)}}enableCompression(e){this._descriptor.compress=e}disableCompression(){this._descriptor.compress=void 0}setData(e){this.abortCompression(),!lm(e)&&this._descriptor.internalFormat&&eT(Fr,this._descriptor.internalFormat)&&(this._descriptor.internalFormat=void 0),this._setData(e),!lm(e)&&this._descriptor.compress&&this._compressOnWorker(e)}updateData(e,i,r,s,n,o,l=0){o||fl().error("An attempt to use uninitialized data!"),this.hasWebGLTextureObject||fl().error("An attempt to update uninitialized texture!");const c=this._descriptor;c.internalFormat=r2(c);const{context:d,pixelFormat:m,dataType:v,target:w,isImmutable:_}=c;if(_&&!this._wasImmutablyAllocated)throw new B("texture:uninitialized","Cannot update immutable texture before allocation!");const x=d.bindTexture(this,Ui.TEXTURE_UNIT_FOR_UPDATES,!0);(i<0||r<0||i+s>c.width||r+n>c.height)&&fl().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:T}=d;l&&(s&&n||fl().warn("Must pass width and height if `UNPACK_SKIP_ROWS` is used"),T.pixelStorei(T.UNPACK_SKIP_ROWS,l)),GF(o)?T.texSubImage2D(w,e,i,r,s,n,m,v,o):lm(o)?T.compressedTexSubImage2D(w,e,i,r,s,n,c.internalFormat,o.levels[e]):T.texSubImage2D(w,e,i,r,s,n,m,v,o),l&&T.pixelStorei(T.UNPACK_SKIP_ROWS,0),d.bindTexture(x,Ui.TEXTURE_UNIT_FOR_UPDATES)}updateData3D(e,i,r,s,n,o,l,c){c||fl().error("An attempt to use uninitialized data!"),this.hasWebGLTextureObject||fl().error("An attempt to update an uninitialized texture!");const d=this._descriptor;d.internalFormat=r2(d);const{context:m,pixelFormat:v,dataType:w,isImmutable:_,target:x}=d;if(_&&!this._wasImmutablyAllocated)throw new B("texture:uninitialized","Cannot update immutable texture before allocation!");jf(x)||fl().warn("Attempting to set 3D texture data on a non-3D texture");const T=m.bindTexture(this,Ui.TEXTURE_UNIT_FOR_UPDATES);m.setActiveTexture(Ui.TEXTURE_UNIT_FOR_UPDATES),(i<0||r<0||s<0||i+n>d.width||r+o>d.height||s+l>d.depth)&&fl().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:M}=m;if(lm(c))c=c.levels[e],M.compressedTexSubImage3D(x,e,i,r,s,n,o,l,d.internalFormat,c);else{const O=c;M.texSubImage3D(x,e,i,r,s,n,o,l,v,w,O)}m.bindTexture(T,Ui.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){const e=this._descriptor;if(e.width===0||e.height===0)return;if(!e.hasMipmap){if(this._wasImmutablyAllocated)throw new B("texture:immutable-change","Cannot add mipmaps to immutable texture after allocation");e.hasMipmap=!0,this._samplingModeDirty=!0,X0(e)}e.samplingMode===9729?(this._samplingModeDirty=!0,e.samplingMode=9985):e.samplingMode===9728&&(this._samplingModeDirty=!0,e.samplingMode=9984);const i=this._descriptor.context.bindTexture(this,Ui.TEXTURE_UNIT_FOR_UPDATES);this._descriptor.context.setActiveTexture(Ui.TEXTURE_UNIT_FOR_UPDATES),this._descriptor.context.gl.generateMipmap(e.target),this._descriptor.context.bindTexture(i,Ui.TEXTURE_UNIT_FOR_UPDATES)}clearMipmap(){const e=this._descriptor;if(e.hasMipmap){if(this._wasImmutablyAllocated)throw new B("texture:immutable-change","Cannot delete mipmaps to immutable texture after allocation");e.hasMipmap=!1,this._samplingModeDirty=!0,X0(e)}e.samplingMode===9985?(this._samplingModeDirty=!0,e.samplingMode=9729):e.samplingMode===9984&&(this._samplingModeDirty=!0,e.samplingMode=9728)}setSamplingMode(e){e!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=e,this._samplingModeDirty=!0)}setWrapMode(e){e!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=e,X0(this._descriptor),this._wrapModeDirty=!0)}setShadowFiltering(e){e!==this._descriptor.linearFilterDepth&&(this._descriptor.linearFilterDepth=this._descriptor.compareEnabled=e,this.setSamplingMode(e?9729:9728),X0(this._descriptor),this._shadowFilterDirty=!0)}applyChanges(){this._samplingModeDirty&&(this._applySamplingMode(),this._samplingModeDirty=!1),this._wrapModeDirty&&(this._applyWrapMode(),this._wrapModeDirty=!1),this._shadowFilterDirty&&(this._applyShadowMode(),this._shadowFilterDirty=!1)}abortCompression(){this._compressionAbortController=np(this._compressionAbortController)}_setData(e,i){var c;const r=this._descriptor,s=(c=r.context)==null?void 0:c.gl;if(!s)return;qh(s),this.hasWebGLTextureObject||(this._glName=s.createTexture(),r.context.instanceCounter.increment(BF.Texture,this)),X0(r);const n=r.context.bindTexture(this,Ui.TEXTURE_UNIT_FOR_UPDATES);r.context.setActiveTexture(Ui.TEXTURE_UNIT_FOR_UPDATES),this._configurePixelStorage(),qh(s);const o=i??r.target,l=jf(o);if(GF(e))this._setDataFromTexImageSource(e,o);else{const{width:d,height:m,depth:v}=r;if(d==null||m==null)throw new B("texture:missing-size","Width and height must be specified!");if(l&&v==null)throw new B("texture:missing-depth","Depth must be specified!");if(r.internalFormat=r2(r),r.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(o,r.internalFormat,r.hasMipmap,d,m,v),lm(e)){if(!cRe(r.internalFormat))throw new B("texture:format-mismatch","Attempting to use compressed data with an uncompressed format!");this._setDataFromCompressedSource(e,r.internalFormat,o)}else this._texImage(o,0,r.internalFormat,d,m,v,e),qh(s),r.hasMipmap&&this.generateMipmap()}this._applySamplingMode(),this._applyWrapMode(),this._applyAnisotropicFilteringParameters(),this._applyShadowMode(),qh(s),r.context.bindTexture(n,Ui.TEXTURE_UNIT_FOR_UPDATES)}_setDataCubeMap(e=null){for(let i=34069;i<=34074;i++)this._setData(e,i)}_configurePixelStorage(){const e=this._descriptor.context.gl,{unpackAlignment:i,flipped:r,preMultiplyAlpha:s}=this._descriptor;e.pixelStorei(e.UNPACK_ALIGNMENT,i),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,r?1:0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s?1:0)}_setDataFromTexImageSource(e,i){const{gl:r}=this._descriptor.context,s=this._descriptor;s.internalFormat=r2(s);const n=jf(i),{width:o,height:l,depth:c}=dRe(e);s.width&&s.height,s.width||(s.width=o),s.height||(s.height=l),n&&s.depth,n&&(s.depth=c),s.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(i,s.internalFormat,s.hasMipmap,o,l,c),this._texImage(i,0,s.internalFormat,o,l,c,e),qh(r),s.hasMipmap&&(this.generateMipmap(),qh(r))}_setDataFromCompressedSource(e,i,r){const s=this._descriptor,{width:n,height:o,depth:l}=s,c=e.levels,d=HF(r,n,o,l),m=Math.min(d,c.length)-1;this._descriptor.context.gl.texParameteri(s.target,33085,m),this._forEachMipmapLevel((v,w,_,x)=>{const T=c[Math.min(v,c.length-1)];this._compressedTexImage(r,v,i,w,_,x,T)},m)}_texStorage(e,i,r,s,n,o){const{gl:l}=this._descriptor.context;if(!uRe(i)&&!gee(i)&&!vee(i))throw new B("texture:missing-format","Immutable textures must have a sized internal format");if(!this._descriptor.isImmutable)return;const c=r?HF(e,s,n,o):1;if(jf(e)){if(o==null)throw new B("texture:missing-depth","Missing depth dimension for 3D texture upload");l.texStorage3D(e,c,i,s,n,o)}else l.texStorage2D(e,c,i,s,n);this._wasImmutablyAllocated=!0}_texImage(e,i,r,s,n,o,l){const c=this._descriptor.context.gl,d=jf(e),{isImmutable:m,pixelFormat:v,dataType:w}=this._descriptor;if(m){if(l!=null){const _=l;if(d){if(o==null)throw new B("texture:missing-depth","Missing depth dimension for 3D texture upload");c.texSubImage3D(e,i,0,0,0,s,n,o,v,w,_)}else c.texSubImage2D(e,i,0,0,s,n,v,w,_)}}else{const _=l;if(d){if(o==null)throw new B("texture:missing-depth","Missing depth dimension for 3D texture upload");c.texImage3D(e,i,r,s,n,o,0,v,w,_)}else c.texImage2D(e,i,r,s,n,0,v,w,_)}}_compressedTexImage(e,i,r,s,n,o,l){const c=this._descriptor.context.gl,d=jf(e);if(this._descriptor.isImmutable){if(l!=null)if(d){if(o==null)throw new B("texture:missing-depth","Missing depth dimension for 3D texture upload");c.compressedTexSubImage3D(e,i,0,0,0,s,n,o,r,l)}else c.compressedTexSubImage2D(e,i,0,0,s,n,r,l)}else if(d){if(o==null)throw new B("texture:missing-depth","Missing depth dimension for 3D texture upload");c.compressedTexImage3D(e,i,r,s,n,o,0,l)}else c.compressedTexImage2D(e,i,r,s,n,0,l)}async _compressOnWorker(e){var x,T,M,O;const{width:i,height:r,context:s,flipped:n,preMultiplyAlpha:o,hasMipmap:l}=this._descriptor,c=(x=this._descriptor.compress)==null?void 0:x.compressionTracker,d=(T=this._descriptor.compress)==null?void 0:T.compressionCallback,{compressedTextureETC:m,compressedTextureS3TC:v}=s.capabilities;if(!((M=Ui.compressionWorkerHandle)!=null&&M.isCompressible(e,this._descriptor))||!m&&!v)return;this.abortCompression();const w=new AbortController;let _;this._compressionAbortController=w,c==null||c.increment();try{e instanceof Uint8Array?_=e.buffer:(_=await createImageBitmap(e,{imageOrientation:n?"flipY":"none"}),Gt(w));const C={data:_,width:i,height:r,needsFlip:e instanceof Uint8Array&&this.descriptor.flipped,components:this._descriptor.pixelFormat===6408?4:3,preMultiplyAlpha:o,hasMipmap:l,hasETC:!!m,hasS3TC:!!v},R=await Ui.compressionWorkerHandle.invoke(C,w.signal,"low");if(Gt(w),R.compressedTexture&&this.hasWebGLTextureObject){const N=this.usedMemory;this._descriptor.internalFormat=R.internalFormat,this._setData(R.compressedTexture),d==null||d(N-this.usedMemory)}}catch(C){Cr(C)||fl().error("Texture compression failed!")}finally{c==null||c.decrement(),(O=this._compressionAbortController)!=null&&O.signal.aborted&&(this._compressionAbortController=null),_ instanceof ImageBitmap&&_.close()}}_forEachMipmapLevel(e,i=1/0){let{width:r,height:s,depth:n,hasMipmap:o,target:l}=this._descriptor;const c=l===32879;if(r==null||s==null||c&&n==null)throw new B("texture:missing-size","Missing texture dimensions for mipmap calculation");for(let d=0;e(d,r,s,n),o&&(r!==1||s!==1||c&&n!==1)&&!(d>=i);++d)r=Math.max(1,r>>1),s=Math.max(1,s>>1),c&&(n=Math.max(1,n>>1))}_applySamplingMode(){var n;const e=this._descriptor,i=(n=e.context)==null?void 0:n.gl;let r=e.samplingMode,s=e.samplingMode;r===9985||r===9987?(r=9729,e.hasMipmap||(s=9729)):r!==9984&&r!==9986||(r=9728,e.hasMipmap||(s=9728)),i.texParameteri(e.target,i.TEXTURE_MAG_FILTER,r),i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,s)}_applyWrapMode(){var r;const e=this._descriptor,i=(r=e.context)==null?void 0:r.gl;typeof e.wrapMode=="number"?(i.texParameteri(e.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(e.target,i.TEXTURE_WRAP_T,e.wrapMode)):(i.texParameteri(e.target,i.TEXTURE_WRAP_S,e.wrapMode.s),i.texParameteri(e.target,i.TEXTURE_WRAP_T,e.wrapMode.t))}_applyShadowMode(){var s;const e=this._descriptor,i=(s=e.context)==null?void 0:s.gl,r=e.compareEnabled?i.COMPARE_REF_TO_TEXTURE:i.NONE;i.texParameteri(e.target,i.TEXTURE_COMPARE_MODE,r),e.compareEnabled&&i.texParameteri(e.target,i.TEXTURE_COMPARE_FUNC,i.GREATER),qh(i)}_applyAnisotropicFilteringParameters(){const e=this._descriptor,i=e.context.capabilities.textureFilterAnisotropic;i&&e.context.gl.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY,e.maxAnisotropy??1)}},Ui.TEXTURE_UNIT_FOR_UPDATES=0,Ui.compressionWorkerHandle=null,Ui);const lE=()=>se.getLogger("esri.views.2d.engine.webgl.painter.highlight.HighlightGradient");function yRe(t,e){e.fillColor[0]=t.color.r/255,e.fillColor[1]=t.color.g/255,e.fillColor[2]=t.color.b/255,e.fillColor[3]=t.color.a,t.haloColor?(e.outlineColor[0]=t.haloColor.r/255,e.outlineColor[1]=t.haloColor.g/255,e.outlineColor[2]=t.haloColor.b/255,e.outlineColor[3]=t.haloColor.a):(e.outlineColor[0]=e.fillColor[0],e.outlineColor[1]=e.fillColor[1],e.outlineColor[2]=e.fillColor[2],e.outlineColor[3]=e.fillColor[3]),e.fillColor[3]*=t.fillOpacity,e.outlineColor[3]*=t.haloOpacity,e.fillColor[0]*=e.fillColor[3],e.fillColor[1]*=e.fillColor[3],e.fillColor[2]*=e.fillColor[3],e.outlineColor[0]*=e.outlineColor[3],e.outlineColor[1]*=e.outlineColor[3],e.outlineColor[2]*=e.outlineColor[3],e.outlineWidth=(1-t.haloBlur)*t.haloWidth,e.outerHaloWidth=t.haloBlur*t.haloWidth/2,e.innerHaloWidth=t.haloBlur*t.haloWidth/2,e.outlinePosition=0}const gRe=[0,0,0,0];let bee=class{constructor(){this.type="single",this._highlightOptions=new jc,this._convertedHighlightOptions={fillColor:[0,0,0,0],outlineColor:[0,0,0,0],outlinePosition:0,outlineWidth:0,innerHaloWidth:0,outerHaloWidth:0},this._optionsShadeTexKey="",this._texelData=new Uint8Array(4*J0),this._minMaxDistance=[0,0]}setHighlightOptions(e){this._highlightOptions=e}applyHighlightOptions(e,i){this._updateGradientTexture(e),e.bindTexture(this._shadeTex,eRe),i.setUniform2fv("u_minMaxDistance",this._minMaxDistance)}destroy(){var e;(e=this._shadeTex)==null||e.dispose(),this._shadeTex=null}getReasonsWithGradients(){return[{activeReasons:(1<<dee)-1,activeGradient:this}]}_updateGradientTexture(e){const i=vRe(this._highlightOptions);if(i===this._optionsShadeTexKey)return;this._optionsShadeTexKey=i,yRe(this._highlightOptions,this._convertedHighlightOptions);const r=this._convertedHighlightOptions,s=r.outlinePosition-r.outlineWidth/2-r.outerHaloWidth,n=r.outlinePosition-r.outlineWidth/2,o=r.outlinePosition+r.outlineWidth/2,l=r.outlinePosition+r.outlineWidth/2+r.innerHaloWidth,c=Math.sqrt(Math.PI/2)*sRe,d=Math.abs(s)>c?Math.round(10*(Math.abs(s)-c))/10:0,m=Math.abs(l)>c?Math.round(10*(Math.abs(l)-c))/10:0;let v;d&&!m?lE().error("The outer rim of the highlight is "+d+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards positive values (inwards)."):!d&&m?lE().error("The inner rim of the highlight is "+m+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards negative values (outwards)."):d&&m&&lE().error("The highlight is "+Math.max(d,m)+"px away from the edge of the feature; consider reducing some width values.");const w=[void 0,void 0,void 0,void 0];function _(T,M,O){w[0]=(1-O)*T[0]+O*M[0],w[1]=(1-O)*T[1]+O*M[1],w[2]=(1-O)*T[2]+O*M[2],w[3]=(1-O)*T[3]+O*M[3]}const{_texelData:x}=this;for(let T=0;T<J0;++T)v=s+T/(J0-1)*(l-s),v<s?(w[0]=0,w[1]=0,w[2]=0,w[3]=0):v<n?_(gRe,r.outlineColor,(v-s)/(n-s)):v<o?[w[0],w[1],w[2],w[3]]=r.outlineColor:v<l?_(r.outlineColor,r.fillColor,(v-o)/(l-o)):[w[0],w[1],w[2],w[3]]=r.fillColor,x[4*T]=255*w[0],x[4*T+1]=255*w[1],x[4*T+2]=255*w[2],x[4*T+3]=255*w[3];if(this._minMaxDistance[0]=s,this._minMaxDistance[1]=l,!this._shadeTex){const T=new yee(J0,1);T.wrapMode=33071,this._shadeTex=new mRe(e,T)}this._shadeTex.updateData(0,0,0,J0,1,this._texelData)}};function vRe(t){return`${t.color};${t.haloColor};${t.haloOpacity};${t.fillOpacity};${t.haloWidth};${t.haloBlur}`}let wRe=class{constructor(){this.type="multi",this.gradients=[]}setHighlightOptions(e){for(let i=0;i<e.length;i++)this.gradients[i]||(this.gradients[i]=new bee),this.gradients[i].setHighlightOptions(e[i]);for(let i=e.length+1;i<this.gradients.length;i++)this.gradients[i].destroy();this.gradients.length=e.length}destroy(){for(const e of this.gradients)e.destroy()}getReasonsWithGradients(){let e=1;const i=[];for(let r=0;r<this.gradients.length;r++){const s=this.gradients[r];i.push({activeReasons:e,activeGradient:s}),e<<=1}return i}};const _ee={color:{write:[!0,!0,!0,!0],blendMode:"composite"},depth:!1,stencil:{write:!1,test:{compare:514,mask:255,op:{fail:7680,zFail:7680,zPass:7681}}}},bRe={color:{write:[!0,!0,!0,!0],blendMode:"additive"},depth:!1,stencil:!1},_Re={..._ee,color:{write:[!0,!0,!0,!0],blendMode:"delete"}};function SRe({pixelRatio:t,state:e,displayLevel:i,requiredLevel:r},s){const n=1/2**(i-s.key.level),o=1/2**(r-s.key.level);return{displayMat3:e.displayMat3,displayViewMat3:e.displayViewMat3,displayViewScreenMat3:s.transforms.displayViewScreenMat3,viewMat3:e.viewMat3,tileMat3:s.transforms.tileMat3,displayZoomFactor:n,requiredZoomFactor:o,tileOffset:[s.x,s.y],currentScale:e.scale,currentZoom:i,metersPerSRUnit:ho(e.spatialReference),rotation:e.rotation,pixelRatio:t}}function See(t){var e;return((e=t.passOptions)==null?void 0:e.type)==="highlight"}function xee(t){var e;return((e=t.passOptions)==null?void 0:e.type)==="hittest"}function xRe(t){if(!xee(t))return null;const{position:e,distance:i,smallSymbolDistance:r,smallSymbolSizeThreshold:s}=t.passOptions;return{position:e,distance:i,smallSymbolDistance:r,smallSymbolSizeThreshold:s}}function TRe(t){if(!See(t))return null;const{activeReasons:e,highlightAll:i}=t.passOptions;return{activeReasons:e,highlightAll:i?1:0}}function rBe(t,e,i){const r={};for(const s in i)typeof i[s]!="function"?r[s]=i[s]:r[s]=i[s](t,e);return r}function sBe(t,e){const{attributeView:i,context:r}=t;return{storage:i.getUniforms(r),view:SRe(t,e),hittestRequest:xRe(t),highlight:TRe(t)}}function nBe(t){return{inside:t.selection===2,outside:t.selection===3}}function $Re(t){return xee(t)?bRe:See(t)&&t.passOptions.stepType==="clear"?_Re:_ee}function oBe(t){const{row:e,col:i}=t.key,r=i*qF,s=e*qF;return{tileOffsetFromLocalOrigin:[r%i2,s%i2],maxIntsToLocalOrigin:[Math.floor(r/i2),Math.floor(s/i2)]}}const MRe=new ct({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch",mesh:"mesh"});function aBe(t){return MRe.toJSON(t)}function lBe(t){const{bandCount:e,attributeTable:i,colormap:r,pixelType:s}=t.raster.rasterInfo;return e===1&&(i!=null||r!=null||s==="u8"||s==="s8")}function ERe(t,e){return e==null?(t==null||t.destroy(),null):((t==null?void 0:t.type)==="single"&&Array.isArray(e)&&(t.destroy(),t=null),(t==null?void 0:t.type)!=="multi"||Array.isArray(e)||(t.destroy(),t=null),t||(t=Array.isArray(e)?new wRe:new bee),Array.isArray(e)?t.type==="multi"&&t.setHighlightOptions(e):t.type==="single"&&t.setHighlightOptions(e),t)}function uBe(t,e,i,r){const{painter:s,highlightGradient:n}=t,{highlight:o}=s.effects;if(!n)return;const l=t.passOptions,c=n.getReasonsWithGradients();for(let d=0;d<c.length;d++){const m={...t,passOptions:{type:"highlight",activeGradient:c[d].activeGradient,activeReasons:c[d].activeReasons,stepType:"burn",highlightAll:e}};if(o.bind(m),i(m),d<c.length-1){let w=0;for(let _=d+1;_<c.length;_++)w|=c[_].activeReasons;i({...t,passOptions:{type:"highlight",activeGradient:c[d].activeGradient,activeReasons:w,stepType:"clear",highlightAll:e}})}const v={...t,passOptions:{type:"highlight",activeGradient:c[d].activeGradient,activeReasons:c[d].activeReasons,stepType:"draw",highlightAll:e}};s.setPipelineState($Re(t)),s.updatePipelineState(t.context),o.draw(v),o.unbind()}t.passOptions=l}const s2=t=>parseFloat(t)/100;function ARe(t,e,i){const r=typeof t.left=="string"?s2(t.left)*e:t.left,s=typeof t.right=="string"?s2(t.right)*e:t.right,n=typeof t.top=="string"?s2(t.top)*i:t.top,o=typeof t.bottom=="string"?s2(t.bottom)*i:t.bottom,l=n;return{xmin:r,xmax:Math.max(e-s,r),ymin:l,ymax:Math.max(i-o,n)}}function Tee(t,e,i,r){switch(e.type){case"rect":{const{width:s,height:n}=t,{xmin:o,xmax:l,ymin:c,ymax:d}=ARe(e,s,n),{x:m,y:v}=i;return m>o&&m<l&&v>c&&v<d}case"path":return e.path.length===0||!Array.isArray(e.path[0][0])||ZR(e.path,[i.x,i.y]);case"geometry":return e.geometry==null||(e.geometry.type==="polygon"?WR(e.geometry,r):Iw(e.geometry,r))}}function ORe(t){if(!t.highlights)return null;const e=t.highlights.findIndex(i=>i.name==="default");return e===-1?null:t.highlights.items[e]}function kRe(t,e){if(!t.highlights){if(!e)return;t.highlights=new ge([new jc])}const i=t.highlights.findIndex(r=>r.name==="default");e?t.highlights.items[i].assignFrom(e):(t.highlights.removeAt(i),t.highlights.length===0&&(t.highlights=null))}async function CRe(t,e,i){const r=nQ(e)?sQ(t,e):e;if(!t.ready||isNaN(r.x)||isNaN(r.y))return{screenPoint:r,results:[]};let s=new Set;const n=new Set;let o=!1,l=null,c=null;i!=null&&i.include?ZF(i.include,WF(t,w=>{s.add(w),uE(w,_=>n.add(_))},(w,_)=>{n.add(w),s.add(_)},w=>{l||(l=new Set),l.add(w)},w=>s.add(w),()=>o=!0)):(o=!0,s=new Set(t.allLayerViews),s.forEach(w=>{uE(w,_=>n.add(_))})),i!=null&&i.exclude&&ZF(i.exclude,WF(t,w=>{s.delete(w),uE(w,_=>n.delete(_))},w=>n.delete(w),w=>{c||(c=new Set),c.add(w)}));const d=t.toMap(r),m=t.allLayerViews.filter(w=>!w.suspended&&s.has(w)&&w.clips.every(_=>Tee(t,_,r,d))).reverse();let v=[...o?t.graphicsView.hitTest(d).map(w=>({type:"graphic",graphic:w,layer:null,mapPoint:d})):[],...await Promise.all(m.map(w=>w.hitTest(d,r)).toArray())].filter(qc).flat().filter(qc);return v=v.filter(w=>{var _;return w.type!=="graphic"||((_=w.layer)==null?void 0:_.type)!=="subtype-group"||n.has(w.graphic.layer)}),l&&(v=v.filter(w=>!("graphic"in w)||!w.graphic||(l==null?void 0:l.has(Jk(w.graphic))))),c&&(v=v.filter(w=>!("graphic"in w)||!w.graphic||!(c!=null&&c.has(Jk(w.graphic))))),{screenPoint:r,results:v}}function WF(t,e,i,r,s,n){return o=>{if(o instanceof er){if(o.layer===t)n==null||n();else{const l=t.allLayerViews.find(c=>c.layer===o.layer);l&&(s==null||s(l))}r(Jk(o))}else if(!("layer"in o&&"element"in o))if(o.type==="subtype-sublayer"){const l=t.allLayerViews.find(c=>c.layer===o.parent);l&&i(o,l)}else{const l=t.allLayerViews.find(c=>c.layer===o);l&&e(l)}}}function ZF(t,e){if(t)if(LS(t))for(const i of t)if(LS(i))for(const r of i)e(r);else e(i);else e(t)}function Jk(t){var i,r;const e=t.getObjectId();return e?`${((i=t.layer)==null?void 0:i.uid)??((r=t.sourceLayer)==null?void 0:r.uid)??"MapView"}/${e}`:`"MapView/${t.uid}`}function uE(t,e){const i=t.layer;(i==null?void 0:i.type)==="subtype-group"&&i.sublayers.forEach(r=>{e(r)})}let Q0=null,zx=!0;function RRe(t,e,i){if(!t||!e)throw new Error("Cannot construct image data without dimensions");if(zx)try{return new ImageData(t,e)}catch{zx=!1}return $ee(t,e,i)}function cBe(t,e,i,r){if(!e||!i)throw new Error("Cannot construct image data without dimensions");if(zx)try{return new ImageData(t,e,i)}catch{zx=!1}const s=$ee(e,i,r);return s.data.set(t,0),s}function IRe(){return Q0||(Q0=document.createElement("canvas"),Q0.width=1,Q0.height=1),Q0}function $ee(t,e,i){return i||(i=IRe()),i.getContext("2d").createImageData(t,e)}async function PRe(t,e){const i=window.URL.createObjectURL(t);try{const{data:r}=await Bt(i,{...e,responseType:"image"});return r}catch(r){throw Cr(r)?r:new B("invalid-image",`Could not fetch requested image at ${i}`)}finally{window.URL.revokeObjectURL(i)}}async function hBe(t,e){const{arrayBuffer:i,mediaType:r}=await jRe(t,e),s=r==="image/png";if(r==="image/gif"){const{isAnimatedGIF:n,parseGif:o}=await te(()=>import("./gif-DQybIYTH.js"),[]);if(n(i))return o(i,e)}if(s){const{isAnimatedPNG:n,parseApng:o}=await te(()=>import("./apng-C_02Pvbv.js"),__vite__mapDeps([321,40]));if(n(i))return o(i,e)}return PRe(new Blob([i],{type:r}),e)}async function jRe(t,e){var s;const i=Ly(t);if(i!=null&&i.isBase64)return{arrayBuffer:VW(i.data),mediaType:i.mediaType};const r=await Bt(t,{responseType:"array-buffer",...e});return{arrayBuffer:r.data,mediaType:((s=r.getHeader)==null?void 0:s.call(r,"Content-Type"))??""}}function Mee(t,e,i){const{ctx:r,canvas:s}=Aee(t,i),n=r.getImageData(0,0,t.width,t.height),o=kee(s,e);return Oee(s),{dataUrl:o,data:n}}function Eee(t,e){const{ctx:i,canvas:r}=Aee(t,e),s=i.getImageData(0,0,t.width,t.height);return Oee(r),s}function Aee(t,e){const i=NRe();e.premultipliedAlpha&&FRe(t),i.width=t.width,i.height=t.height;const r=i.getContext("2d",{willReadFrequently:!0});return r.putImageData(t,0,0),e.flipY&&VRe(r),{ctx:r,canvas:i}}function Oee(t){t.width=0,t.height=0}function NRe(){return cE==null&&(cE=document.createElement("canvas")),cE}let cE=null;function kee(t,e){const i=zRe[e.format],r=e.quality/100;return t.toDataURL(i,r)}function Cee(t,e){const i=LRe(t),r=qRe[i];return{format:i,quality:_n(e??r,0,100)}}function Ree(t,e){return e/Math.max(t[0],t[1])}function DRe(t,e,i,r=0,s=0,n=t.width-r,o=t.height-s,l=!1){const{data:c}=t,{width:d,height:m,data:v}=e,w=n/d,_=o/m,x=Math.ceil(w/2),T=Math.ceil(_/2),M=t.width;for(let O=0;O<m;O++)for(let C=0;C<d;C++){const R=4*(C+(l?m-O-1:O)*d);let N=0,j=0,F=0,ee=0,X=0,J=0;const re=(O+.5)*_;for(let fe=Math.floor(O*_);fe<(O+1)*_;fe++){const ye=Math.abs(re-(fe+.5))/T,Xe=(C+.5)*w,Ce=ye*ye;for(let pt=Math.floor(C*w);pt<(C+1)*w;pt++){const pe=Math.abs(Xe-(pt+.5))/x,ve=Math.sqrt(Ce+pe*pe);if(ve>=1)continue;let de=2*ve*ve*ve-3*ve*ve+1;const We=4*(r+pt+(s+fe)*M);J+=de*c[We+3],j+=de,!i&&c[We+3]<255&&(de=de*c[We+3]/255),F+=de*c[We],ee+=de*c[We+1],X+=de*c[We+2],N+=de}}v[R]=F/N,v[R+1]=ee/N,v[R+2]=X/N,v[R+3]=J/j}return e}function LRe(t){switch(t){case"png":case"jpg":case"jpeg":return t;default:return URe}}function VRe(t){t.save(),t.globalCompositeOperation="copy",t.scale(1,-1),t.translate(0,-t.canvas.height),t.drawImage(t.canvas,0,0),t.restore()}function FRe(t){const e=t.data,i=e.length;for(let r=0;r<i;r+=4){const s=e[r+3];if(s!==255&&s>0){const n=255/s;e[r]=e[r]*n,e[r+1]=e[r+1]*n,e[r+2]=e[r+2]*n}}}const zRe={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},YF=98,URe="png",qRe={png:100,jpg:YF,jpeg:YF},dBe=Object.freeze(Object.defineProperty({__proto__:null,createEmptyImageData:RRe,encode:Mee,encodeData:Eee,getFormatAndQuality:Cee,getMaximumResolutionScale:Ree,resampleHermite:DRe,toDataUrl:kee},Symbol.toStringTag,{value:"Module"})),Iee={flipY:!0,premultipliedAlpha:!0};async function BRe(t,e){const i=await Pee(t,e),{format:r,quality:s}=Cee(e==null?void 0:e.format,e==null?void 0:e.quality);return Mee(i,{format:r,quality:s},Iee)}async function GRe(t,e){const i=await Pee(t,e);return Eee(i,Iee)}function Pee(t,e){const i=ZRe(e||{},WRe(t.stage,t.size),t.size,t.padding),r=HRe(e,t.allLayerViews);return t.stage.takeScreenshot(i,r,t.backgroundColor,e==null?void 0:e.rotation)}function HRe(t={},e){if(!t.layers)return;const i=[];return t.layers.forEach(r=>{const s=e.find(n=>n.layer.id===r.id);s!=null&&s.container&&i.push(s.container)}),i}function WRe(t,e){return Math.min(4,Ree(e,Math.min(4096,t.context.parameters.maxTextureSize)))}function ZRe(t,e,i,r){t.ignorePadding&&(r={left:0,right:0,top:0,bottom:0});let s=null;t.width!=null&&t.height!=null?s=[t.width,t.height]:t.width==null&&t.height!=null?s=[t.height,t.height]:t.width!=null&&t.height==null?s=[t.width,t.width]:t.width==null&&t.height==null&&(s=null);const n=i[0]-(r.left+r.right),o=i[1]-(r.top+r.bottom);let l,c,d=t.area||{x:0,y:0,width:n,height:o};if(s){const m=n/o,v=s[0]/s[1];if(v>m){const w=d.width/v;d={x:d.x,y:Math.round(d.y+(d.height-w)/2),width:d.width,height:Math.round(w)}}else{const w=d.height*v;d={x:Math.round(d.x+(d.width-w)/2),y:d.y,width:Math.round(w),height:d.height}}}else s=[d.width,d.height];return s[0]>d.width?(l=Math.min(s[0]/d.width,e),c=s[0]/d.width/l):(l=1,c=s[0]/d.width),{cropArea:{x:Math.round((d.x+r.left)*l),y:Math.round((d.y+r.top)*l),width:Math.round(d.width*l),height:Math.round(d.height*l)},outputScale:c,resolutionScale:l}}const YRe=t=>t.includes("Brush");let jee=class{constructor(){this._names=new Map}begin(e){this._names.has(e)||(this._names.set(e,!1),YRe(e)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${e}.Start`))}end(e){this._names.has(e)&&!this._names.get(e)&&(this._names.set(e,!0),performance.mark(`Esri.${e}.End`))}record(e){this._names.has(e)||(this._names.set(e,!0),performance.mark(`Esri.${e}`))}};const JF=Symbol("analyses-owner-handles");let ac=class extends $e{constructor(e){super(e),this._allAnalysisViews=new ge,this._creatingViewCount=0,this._attachedToViewResolver=KF(),this._items=new Map,this._moduleMap=new Map,this._scheduledUpdateHandle=null,this._emitOnView=(i,r)=>this.view.emit(i,r)}destroy(){this._disconnectOwners(),this._attachedToViewResolver.reject($t("AnalysisViewManager was destroyed")),this._set("view",null)}attach(){this._connectOwners(),this._attachedToViewResolver.resolve()}detach(){this._disconnectOwners(),this._attachedToViewResolver.reject($t()),this._attachedToViewResolver=KF()}get updating(){return!this.view.ready||this._creatingViewCount!==0||this._allAnalysisViews.some(e=>e.updating)}get testInfo(){}async whenAnalysisView(e){await this._attachedToViewResolver.promise;const i=this._items.get(e);if(i==null||i.state.list===1)throw new B("AnalysisViewManager:no-analysis-view-for-analysis","The analysis does not exist in view.analyses",{analysis:e});return i.createAnalysisViewTask.promise}_connectOwners(){this.addHandles(this._connectAnalysesCollection(this.view.analyses),JF)}_disconnectOwners(){this.removeHandles(JF),this._update(),this._creatingViewCount=0}_connectAnalysesCollection(e){for(const s of e)this._addAnalysis(s);const i=e.on("after-add",s=>this._addAnalysis(s.item)),r=e.on("after-remove",s=>this._removeAnalysis(s.item));return at(()=>{i.remove(),r.remove();for(const s of e)this._removeAnalysis(s)})}_addAnalysis(e){const i=this._items.get(e);if(i==null){const r={state:{view:0,list:0},analysis:e,view:null,createAnalysisViewTask:null};this._items.set(e,r),r.createAnalysisViewTask=LT(s=>this._createAnalysisViewPromise(r,s).then(n=>(this._emitOnView("analysis-view-create",{analysis:e,analysisView:n}),n),n=>{throw this._emitOnView("analysis-view-create-error",{analysis:e,error:n}),n}))}else i.state.list=0}_removeAnalysis(e){const i=this._items.get(e);i!=null?(i.state.list=1,this._scheduleUpdate()):se.getLogger(this).error("Trying to remove analysis which was not added")}_scheduleUpdate(){this._scheduledUpdateHandle==null&&(this._scheduledUpdateHandle=ug(()=>this._update()))}_update(){this._scheduledUpdateHandle=Dt(this._scheduledUpdateHandle),this._items.forEach(e=>{if(e.state.list!==1)return;const{analysis:i,view:r}=e;switch(this._items.delete(i),e.state.view){case 0:e.createAnalysisViewTask=np(e.createAnalysisViewTask);break;case 1:r!=null&&(this._allAnalysisViews.remove(r),e.view=ti(r),e.createAnalysisViewTask=null,this._emitOnView("analysis-view-destroy",{analysis:i,analysisView:r}))}})}async _createAnalysisViewPromise(e,i){const{analysis:r}=e;if(this._creatingViewCount+=1,!this._moduleMap.has(r.type))try{this._moduleMap.set(r.type,await this.importAnalysisViewModule(r))}catch{throw this._creatingViewCount-=1,new B("AnalysisViewManager:no-analysis-view-for-analysis",`Analysis of type "${r.type}" is not supported`)}if(Kr(i))throw this._creatingViewCount-=1,$t("AnalysisView creation aborted");const s=new(this._moduleMap.get(r.type)).default({analysis:r,view:this.view});let n=!0;ao(i,()=>{n&&this._destroyAnalysisView(r,s)});try{await s.when()}catch(o){throw n=!1,this._destroyAnalysisView(r,s),o}if(Kr(i))throw $t();return n=!1,e.view=s,e.state.view=1,this._allAnalysisViews.add(s),this._creatingViewCount-=1,s}_destroyAnalysisView(e,i){i.destroyed||(this._creatingViewCount-=1,i.destroy(),this._emitOnView("analysis-view-destroy",{analysis:e,analysisView:i}))}};h([f()],ac.prototype,"updating",null),h([f({constructOnly:!0})],ac.prototype,"importAnalysisViewModule",void 0),h([f({constructOnly:!0})],ac.prototype,"view",void 0),h([f()],ac.prototype,"_allAnalysisViews",void 0),h([f()],ac.prototype,"_creatingViewCount",void 0),ac=h([I("esri.views.support.AnalysisViewManager")],ac);const JRe=ac;function KF(){const t=bn();return t.promise.catch(()=>{}),t}let KRe=class{constructor(e){this.getUnmaskedRenderer=e}};function XRe(t){const e=t.getExtension("WEBGL_debug_renderer_info");return e?new KRe(()=>t.getParameter(e.UNMASKED_RENDERER_WEBGL)):null}let XF;function QRe(){return XF??(XF=i6e()),XF}let e6e=class{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1,this.unmaskedRenderer="unloaded"}};function t6e(t){var s;if(typeof WebGL2RenderingContext>"u")return null;const e=document.createElement("canvas");if(!e)return null;let i=e.getContext("webgl2",{failIfMajorPerformanceCaveat:!0});if(i==null&&(i=e.getContext("webgl2"),i!=null&&(t.majorPerformanceCaveat=!0,t.unmaskedRenderer=((s=XRe(i))==null?void 0:s.getUnmaskedRenderer())??"unknown")),i==null)return i;t.available=!0,t.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),t.supportsVertexShaderSamplers=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const r=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT);return r&&(t.supportsHighPrecisionFragment=r.precision>0),i}function i6e(){const t=new e6e,e=t6e(t);return e==null||(t.supportsColorBufferFloat=e.getExtension("EXT_color_buffer_float")!==null,t.supportsColorBufferFloatBlend=e.getExtension("EXT_float_blend")!==null,t.supportsColorBufferHalfFloat=t.supportsColorBufferFloat||e.getExtension("EXT_color_buffer_half_float")!==null),t}function r6e(t){const e=QRe();return e.available?t==="3d"&&e.majorPerformanceCaveat?new B("webgl:major-performance-caveat-detected",`Your WebGL implementation (${e.unmaskedRenderer}) doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.`):e.supportsHighPrecisionFragment?e.supportsVertexShaderSamplers?null:new B("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new B("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new B("webgl:required","WebGL2 is required but not supported.",new Error().stack)}function s6e(t){return t&&"nodeType"in t}function n6e(t){return t&&typeof t.render=="function"}const QF={component:"esri-component"};let fd=class extends $e{constructor(){super(...arguments),this.widget=null}destroy(){var e;this.node=null,(e=this.widget)==null||e.destroy()}get id(){var e,i;return this._get("id")??((e=this.widget)==null?void 0:e.id)??((i=this.node)==null?void 0:i.id)}set id(e){this._set("id",e)}set node(e){const i=this._get("node");e!==i&&(e&&e.classList.add(QF.component),i&&i.classList.remove(QF.component),this._set("node",e))}castNode(e){var i;return(i=this.widget)==null||i.destroy(),e?typeof e=="string"||s6e(e)?(this._set("widget",null),U6(e)):(n6e(e)&&!e.domNode&&(e.domNode=document.createElement("div")),this._set("widget",e),e.domNode):(this._set("widget",null),null)}};h([f()],fd.prototype,"id",null),h([f()],fd.prototype,"node",null),h([Ot("node")],fd.prototype,"castNode",null),h([f({readOnly:!0})],fd.prototype,"widget",void 0),fd=h([I("esri.views.ui.Component")],fd);const _S=fd,o6e=(t,e)=>{let i=t;for(;i;){if(i===e)return!0;if(!i.parentNode)return!1;i.parentNode instanceof ShadowRoot?i=i.parentNode.host:i=i.parentNode}return!1},vBe=(t,e,i)=>{const r=a6e(e).subscribe;return r(s=>{s.some(o=>o6e(t,o.target))&&i()})},hE={},a6e=t=>{const e=t.join(","),i=hE[e];if(i!==void 0)return i;const r=new Set,s=new MutationObserver(o=>r.forEach(l=>l(o)));globalThis.document&&s.observe(document.documentElement,{attributes:!0,attributeFilter:t,subtree:!0});const n={subscribe:o=>(r.add(o),()=>{r.delete(o),r.size===0&&(s.disconnect(),hE[e]=void 0)})};return hE[e]=n,n},Nee=(t,e)=>{var r,s;let i=t;for(;i;){const n=(r=i.closest)==null?void 0:r.call(i,e);if(n)return n;const o=(s=i.getRootNode)==null?void 0:s.call(i);if(o===globalThis.document)return;i=o.host}};function l6e(t){const e=Nee(t,".calcite-mode-dark, .calcite-mode-light, .calcite-mode-auto");return e!=null&&e.classList.contains("calcite-mode-dark")||e!=null&&e.classList.contains("calcite-mode-auto")&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}const wBe=(t,e,i)=>{const r=Nee(t,`[${e}]`);return(r==null?void 0:r.getAttribute(e))??i},u6e="--esri-calcite-mode-name";function c6e(){const t=getComputedStyle(document.body).getPropertyValue(u6e).replaceAll(/\W/g,"").toLowerCase();return t==="dark"||t==="light"?t:void 0}const Dee="calcite-mode-";function Lee(t){return c6e()??l6e(t??document.body)}function bBe(t){return Lee(t)==="dark"}function h6e(t){return`${Dee}${Lee(t)}`}function d6e(t){const e=h6e(t);p6e(t),t.classList.add(e)}function p6e(t){Array.from(t.classList).forEach(e=>{e.startsWith(Dee)&&t.classList.remove(e)})}const t3=new Map;function Vee(){t3.clear()}function f6e(t){return t3.get(t)}function m6e(t,e){t3.set(t,e)}function dE(t){t3.delete(t)}function y6e(...t){const e=hs.acquire();for(let r=0;r<t.length;r++){const s=t[r],n=typeof s;if(n==="string")e.push(s);else if(Array.isArray(s))e.push.apply(e,s);else if(n==="object")for(const o in s)s[o]&&e.push(o)}const i=e.join(" ");return hs.release(e),i}(()=>{const t=new Map,e=new ResizeObserver(r=>{var s;Vee();for(const n of r)(s=t.get(n.target))==null||s(n)}),i=(r,s,n)=>(t.set(r,s),e.observe(r,n),at(()=>{e.unobserve(r),t.delete(r)}));return(r,s,n)=>{let o=null;return xp([Le(()=>typeof r=="function"?r():r,l=>{o==null||o.remove(),l&&(o=i(l,s,n))},qr),at(()=>o==null?void 0:o.remove())])}})();function g6e(t){const e=t==null?void 0:t.closest("[dir]");return e!==null&&e instanceof HTMLElement&&e.dir==="rtl"||document.dir==="rtl"}function _Be(t){const e="data-node-ref";this[t.getAttribute(e)]=null}function SBe(t){const e="data-node-ref";this[t.getAttribute(e)]=t}function v6e(t){return t==="Enter"||t===" "}async function w6e(t,e){await sde(Sw(e));const i=typeof t=="function"?t():t;i&&("setFocus"in i&&typeof i.setFocus=="function"?await i.setFocus():i instanceof HTMLElement&&i.focus())}const b6e={left:0,top:0,bottom:0,right:0},Fee={bottom:30,top:15,right:15,left:15},ml="esri-ui",Ms={ui:ml,corner:`${ml}-corner`,innerContainer:`${ml}-inner-container`,manualContainer:`${ml}-manual-container`,cornerContainer:`${ml}-corner-container`,topLeft:`${ml}-top-left`,topRight:`${ml}-top-right`,bottomLeft:`${ml}-bottom-left`,bottomRight:`${ml}-bottom-right`};function _6e(t){return t&&!t._started&&typeof t.postMixInProperties=="function"&&typeof t.buildRendering=="function"&&typeof t.postCreate=="function"&&typeof t.startup=="function"}function n2(t){return t===0?"0":`${t}px`}function pE(t){const e=typeof t=="object"&&t!==null&&Object.getPrototypeOf(t);return(e===null||e===Object.prototype)&&("component"in t||"index"in t||"position"in t)?t:null}function fE(t,{top:e,bottom:i,left:r,right:s}){t.style.top=e,t.style.bottom=i,t.style.left=r,t.style.right=s}let Sa=class extends dg{constructor(e){super(e),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentMap=new Map,this._removeWidgetHandleKey=Symbol("componentOnRemoveSymbol"),this._locale=Bs(),this.view=null,this._applyViewPadding=()=>{const i=this.container;i&&fE(i,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const i=this._innerContainer;i&&fE(i,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([Le(()=>{var e;return[(e=this.view)==null?void 0:e.padding,this.container]},this._applyViewPadding,Qr),Le(()=>this.padding,this._applyUIPadding,Qr),Le(()=>[this.container,this._locale],([e,i])=>{e&&e.setAttribute("lang",i)},Qr),YH(e=>{this._locale=e})])}destroy(){this.removeAllHandles(),this.container=null;for(const e of this._components)e.destroy();this._components.length=0,this._componentMap.clear(),this.view=null,this._set("view",null)}set container(e){const i=this._get("container");e!==i&&(e&&(e.classList.add(Ms.ui),d6e(e),this._attachContainers(e)),i&&(i.classList.remove(Ms.ui),fE(i,{top:"",bottom:"",left:"",right:""}),i.textContent=""),this._set("container",e))}get height(){var n;const e=((n=this.view)==null?void 0:n.height)??0;if(e===0)return e;const i=this._getViewPadding(),{top:r,bottom:s}=i;return Math.max(e-r-s,0)}get padding(){return this._get("padding")}set padding(e){this._overrideIfSome("padding",e)}castPadding(e){return typeof e=="number"?{bottom:e,top:e,right:e,left:e}:{...Fee,...e}}get width(){var n;const e=((n=this.view)==null?void 0:n.width)??0;if(e===0)return e;const i=this._getViewPadding(),{left:r,right:s}=i;return Math.max(e-r-s,0)}add(e,i){let r,s,n;if(Array.isArray(e))return void e.forEach(l=>this.add(l,i));const o=pE(e);o&&({index:r,position:i,component:e,key:s}=o),i&&typeof i=="object"&&({index:r,key:s,position:i,internal:n}=i),!e||i&&!this._isValidPosition(i)||this._add(e,i,r??this._getNumComponentsAtPosition(i),s,n)}remove(e,i){var s;if(!e)return;if(Array.isArray(e))return e.map(n=>this.remove(n,i));const r=this._find(e);if(r){const n=this._componentMap.get(r);if(!n||n.key!==i)return;const o=this._components.indexOf(r),l=r.node.parentNode;return l==null||l.removeChild(r.node),this._componentMap.delete(r),(s=r.widget)==null||s.removeHandlesReference(this._removeWidgetHandleKey),this._components.forEach(c=>{const d=this._componentMap.get(c);d&&d.position===n.position&&d.index>n.index&&d.index--}),this._components.splice(o,1)[0]}}empty(e,i={removeInternal:!1}){if(Array.isArray(e)){for(const n of e)this.empty(n,i);return}const r=this._positionNameToContainerLookup[e??"manual"],s=Array.prototype.slice.call(r.children).map(n=>this._findByNode(n)).filter(n=>{var o;return n==null?!1:!(((o=this._componentMap.get(n))==null?void 0:o.internal)??!1)||i.removeInternal});for(const n of s)this.remove(n)}move(e,i){if(Array.isArray(e)&&e.forEach(o=>this.move(o,i)),!e)return;let r;const s=pE(e)||pE(i);if(s&&(r=s.index,i=s.position,e=s.component||e),i&&!this._isValidPosition(i))return;const n=this.remove(e);n&&this.add(n,{position:i,index:r})}find(e){if(!e)return null;const i=this._findById(e);return i&&(i.widget||i.node)}getComponents(e,i={includeInternal:!1}){return e?Array.isArray(e)?e.flatMap(r=>this._getComponentsAtPosition(r,i)):this._getComponentsAtPosition(e,i):this._components.filter(r=>{var s;return i.includeInternal||!((s=this._componentMap.get(r))!=null&&s.internal)}).map(({widget:r,node:s})=>r??s)}getPosition(e){for(const i in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[i].contains(e))return i;return null}_add(e,i,r,s,n){e instanceof _S||(e=new _S({node:e}));const{widget:o}=e;o!=null&&o instanceof $e&&o.addHandles(at(()=>{queueMicrotask(()=>this.remove(e))}),this._removeWidgetHandleKey),this._components.some(l=>{var c,d;return((c=this._componentMap.get(l))==null?void 0:c.position)===i&&((d=this._componentMap.get(l))==null?void 0:d.index)===r})&&this._components.forEach(l=>{const c=this._componentMap.get(l);c&&c.position===i&&c.index>=r&&c.index++}),this._place({component:e,position:i,index:r}),this._components.push(e),this._componentMap.set(e,{key:s,position:i,internal:n,index:r})}_find(e){return e?e instanceof _S?this._findByComponent(e):typeof e=="string"?this._findById(e):"domNode"in e?this._findByNode(e.domNode):this._findByNode(e):null}_getViewPadding(){var e;return((e=this.view)==null?void 0:e.padding)??b6e}_attachContainers(e){e.appendChild(this._innerContainer),e.appendChild(this._manualContainer)}_initContainers(){const e=document.createElement("div");e.classList.add(Ms.innerContainer,Ms.cornerContainer);const i=document.createElement("div");i.classList.add(Ms.innerContainer,Ms.manualContainer);const r=document.createElement("div");r.classList.add(Ms.topLeft,Ms.corner),e.appendChild(r);const s=document.createElement("div");s.classList.add(Ms.topRight,Ms.corner),e.appendChild(s);const n=document.createElement("div");n.classList.add(Ms.bottomLeft,Ms.corner),e.appendChild(n);const o=document.createElement("div");o.classList.add(Ms.bottomRight,Ms.corner),e.appendChild(o),this._innerContainer=e,this._manualContainer=i;const l=g6e();this._cornerNameToContainerLookup={"top-left":r,"top-right":s,"bottom-left":n,"bottom-right":o,"top-leading":l?s:r,"top-trailing":l?r:s,"bottom-leading":l?o:n,"bottom-trailing":l?n:o},this._positionNameToContainerLookup={manual:i,...this._cornerNameToContainerLookup}}_isValidPosition(e){return!!this._positionNameToContainerLookup[e]}_place(e){var c,d;const i=e.position??"manual",{component:r,index:s}=e,n=this._positionNameToContainerLookup[i],o=s!=null&&s>-1;if(_6e(r.widget)&&r.widget.startup(),!o)return void n.appendChild(r.node);const l=Array.from(n.children);if(l.length!==0){for(const m of l){const v=this._findByNode(m);if(v&&s<(((c=this._componentMap.get(v))==null?void 0:c.index)??0))return void((d=m.parentNode)==null?void 0:d.insertBefore(r.node,m))}n.appendChild(r.node)}else n.appendChild(r.node)}_toPixelPosition(e){return{top:n2(e.top),left:n2(e.left),right:n2(e.right),bottom:n2(e.bottom)}}_findByComponent(e){return this._components.find(i=>i===e)??null}_findById(e){return this._components.find(({id:i})=>i===e)??null}_findByNode(e){return e?this._components.find(({node:i})=>i===e):null}_getComponentsAtPosition(e,i){const r=this._positionNameToContainerLookup[e];return Array.prototype.slice.call(r.children).map(s=>this._findByNode(s)).filter(qc).filter(s=>{var n;return i.includeInternal||!((n=this._componentMap.get(s))!=null&&n.internal)}).map(({widget:s,node:n})=>s??n)}_getNumComponentsAtPosition(e){const i=this._positionNameToContainerLookup[e];return(i==null?void 0:i.children.length)??0}};h([f()],Sa.prototype,"_locale",void 0),h([f()],Sa.prototype,"container",null),h([f()],Sa.prototype,"height",null),h([f({value:Fee})],Sa.prototype,"padding",null),h([Ot("padding")],Sa.prototype,"castPadding",null),h([f()],Sa.prototype,"view",void 0),h([f()],Sa.prototype,"width",null),Sa=h([I("esri.views.ui.UI")],Sa);const S6e=Sa,x6e={handleInterceptedEvent:(t,e,i,r)=>(t.scheduleRender(),e.properties[`on${r.type}`].apply(e.properties.bind||i,[r]))},T6e={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(t,e,i)=>{e.startsWith("-")?t.style.setProperty(e,i):t.style[e]=i}},$6e=t=>({...T6e,...t}),M6e=(t,e)=>{const i=[];for(;t&&t!==e;)i.push(t),t=t.parentNode;return i},E6e=(t,e)=>t.find(e),ez=(t,e,i=!1)=>{let r=t;return e.forEach((s,n)=>{const o=r!=null&&r.children?E6e(r.children,l=>l.domNode===s):void 0;i&&!o&&n!==e.length-1||(r=o)}),r},A6e=t=>{let e;const i={...x6e,...t},r=$6e(i),s=r.performanceLogger;let n,o=!0,l=!1;const c=[],d=[],m=(w,_,x)=>{var O;let T;r.eventHandlerInterceptor=(C,R,N,j)=>function(F){let ee;s("domEvent",F);const X=M6e(F.currentTarget,T.domNode),J=X.some(fe=>{var ye;return customElements.get((ye=fe==null?void 0:fe.tagName)==null?void 0:ye.toLowerCase())});if(F.eventPhase===Event.CAPTURING_PHASE||!J)X.reverse(),ee=ez(T.getLastRender(),X);else{const fe=F.composedPath(),ye=fe.slice(fe.indexOf(F.currentTarget),fe.indexOf(T.domNode)).reverse();ee=ez(T.getLastRender(),ye,!0)}let re;return ee&&(re=i.handleInterceptedEvent(e,ee,this,F)),s("domEventProcessed",F),re},(O=i.postProcessProjectionOptions)==null||O.call(i,r);const M=x();T=w(_,M,r),r.eventHandlerInterceptor=void 0,c.push(T),d.push(x),i.afterFirstVNodeRendered&&i.afterFirstVNodeRendered(T,M)};let v=()=>{if(n=void 0,o){o=!1,s("renderStart",void 0);for(let w=0;w<c.length;w++){const _=d[w]();s("rendered",void 0);try{c[w].update(_)}catch(x){console.error(x)}s("patched",void 0)}s("renderDone",void 0),o=!0}};return i.modifyDoRenderImplementation&&(v=i.modifyDoRenderImplementation(v,c,d)),e={renderNow:v,scheduleRender:()=>{n||l||(n=requestAnimationFrame(v))},stop:()=>{n&&(cancelAnimationFrame(n),n=void 0),l=!0},resume:()=>{l=!1,o=!0,e.scheduleRender()},append:(w,_)=>{m(kc.append,w,_)},insertBefore:(w,_)=>{m(kc.insertBefore,w,_)},merge:(w,_)=>{m(kc.merge,w,_)},replace:(w,_)=>{m(kc.replace,w,_)},detach:w=>{for(let _=0;_<d.length;_++)if(d[_]===w)return d.splice(_,1),c.splice(_,1)[0];throw new Error("renderFunction was not found")}},e},oi=(t,e,...i)=>{try{return t==null?void 0:t.call(e,...i)}catch(r){console.error(r,t)}},Kk=async(t,e,...i)=>{try{return await(t==null?void 0:t.call(e,...i))}catch(r){console.error(r,t)}},aI=Symbol.for("controller"),O6e=t=>typeof t=="object"&&t!==null&&(aI in t||"hostConnected"in t||"hostDisconnected"in t||"hostUpdate"in t||"hostUpdated"in t),TBe=t=>typeof(t==null?void 0:t.then)=="function";let Uv;const qv=t=>{Uv!==t&&(Uv=t,queueMicrotask(()=>Uv===t?Uv=void 0:0))},i3=t=>Uv;let md=[];const k6e=t=>{if(t===void 0){md=[];return}const e=md.indexOf(t);md=e===-1?[...md,t]:md.slice(0,e+1),queueMicrotask(()=>md=[])},C6e=()=>md;let Am;const $Be=t=>{Am!==t&&(Am=t,queueMicrotask(()=>Am===t?Am=void 0:0))},R6e=()=>{const t=Am;return Am=void 0,t},I6e=async(t,e)=>{const i=lI(t);if(i===void 0)return t;if(await i.ready,typeof e=="function"){const r=i.watchExports(s=>e(s,r))}return i.exports},P6e=async t=>{const e=lI(t);return await e.ready,e},lI=t=>{const i=i3().manager.X(t);if(i!==void 0)return i;if(O6e(t))return t;const r=R6e();if(r!==void 0)return r};let Xk=!1;const MBe=t=>{Xk=!0;try{return t()}finally{Xk=!1}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const SS=globalThis,uI=SS.ShadowRoot&&(SS.ShadyCSS===void 0||SS.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,cI=Symbol(),tz=new WeakMap;let zee=class{constructor(e,i,r){if(this._$cssResult$=!0,r!==cI)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=i}get styleSheet(){let e=this.o;const i=this.t;if(uI&&e===void 0){const r=i!==void 0&&i.length===1;r&&(e=tz.get(i)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&tz.set(i,e))}return e}toString(){return this.cssText}};const j6e=t=>new zee(typeof t=="string"?t:t+"",void 0,cI),ABe=(t,...e)=>{const i=t.length===1?t[0]:e.reduce((r,s,n)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[n+1],t[0]);return new zee(i,t,cI)},N6e=(t,e)=>{if(uI)t.adoptedStyleSheets=e.map(i=>i instanceof CSSStyleSheet?i:i.styleSheet);else for(const i of e){const r=document.createElement("style"),s=SS.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=i.cssText,t.appendChild(r)}},iz=uI?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let i="";for(const r of e.cssRules)i+=r.cssText;return j6e(i)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:D6e,defineProperty:L6e,getOwnPropertyDescriptor:V6e,getOwnPropertyNames:F6e,getOwnPropertySymbols:z6e,getPrototypeOf:U6e}=Object,Nc=globalThis,rz=Nc.trustedTypes,q6e=rz?rz.emptyScript:"",mE=Nc.reactiveElementPolyfillSupport,$1=(t,e)=>t,Qk={toAttribute(t,e){switch(e){case Boolean:t=t?q6e:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let i=t;switch(e){case Boolean:i=t!==null;break;case Number:i=t===null?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch{i=null}}return i}},hI=(t,e)=>!D6e(t,e),sz={attribute:!0,type:String,converter:Qk,reflect:!1,useDefault:!1,hasChanged:hI};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Nc.litPropertyMetadata??(Nc.litPropertyMetadata=new WeakMap);let um=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,i=sz){if(i.state&&(i.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((i=Object.create(i)).wrapped=!0),this.elementProperties.set(e,i),!i.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(e,r,i);s!==void 0&&L6e(this.prototype,e,s)}}static getPropertyDescriptor(e,i,r){const{get:s,set:n}=V6e(this.prototype,e)??{get(){return this[i]},set(o){this[i]=o}};return{get:s,set(o){const l=s==null?void 0:s.call(this);n==null||n.call(this,o),this.requestUpdate(e,l,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??sz}static _$Ei(){if(this.hasOwnProperty($1("elementProperties")))return;const e=U6e(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty($1("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty($1("properties"))){const i=this.properties,r=[...F6e(i),...z6e(i)];for(const s of r)this.createProperty(s,i[s])}const e=this[Symbol.metadata];if(e!==null){const i=litPropertyMetadata.get(e);if(i!==void 0)for(const[r,s]of i)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[i,r]of this.elementProperties){const s=this._$Eu(i,r);s!==void 0&&this._$Eh.set(s,i)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const i=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const s of r)i.unshift(iz(s))}else e!==void 0&&i.push(iz(e));return i}static _$Eu(e,i){const r=i.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(i=>this.enableUpdating=i),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(i=>i(this))}addController(e){var i;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((i=e.hostConnected)==null||i.call(e))}removeController(e){var i;(i=this._$EO)==null||i.delete(e)}_$E_(){const e=new Map,i=this.constructor.elementProperties;for(const r of i.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return N6e(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(i=>{var r;return(r=i.hostConnected)==null?void 0:r.call(i)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(i=>{var r;return(r=i.hostDisconnected)==null?void 0:r.call(i)})}attributeChangedCallback(e,i,r){this._$AK(e,r)}_$ET(e,i){var n;const r=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,r);if(s!==void 0&&r.reflect===!0){const o=(((n=r.converter)==null?void 0:n.toAttribute)!==void 0?r.converter:Qk).toAttribute(i,r.type);this._$Em=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(e,i){var n,o;const r=this.constructor,s=r._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const l=r.getPropertyOptions(s),c=typeof l.converter=="function"?{fromAttribute:l.converter}:((n=l.converter)==null?void 0:n.fromAttribute)!==void 0?l.converter:Qk;this._$Em=s;const d=c.fromAttribute(i,l.type);this[s]=d??((o=this._$Ej)==null?void 0:o.get(s))??d,this._$Em=null}}requestUpdate(e,i,r){var s;if(e!==void 0){const n=this.constructor,o=this[e];if(r??(r=n.getPropertyOptions(e)),!((r.hasChanged??hI)(o,i)||r.useDefault&&r.reflect&&o===((s=this._$Ej)==null?void 0:s.get(e))&&!this.hasAttribute(n._$Eu(e,r))))return;this.C(e,i,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,i,{useDefault:r,reflect:s,wrapped:n},o){r&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??i??this[e]),n!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(i=void 0),this._$AL.set(e,i)),s===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(i){Promise.reject(i)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[n,o]of this._$Ep)this[n]=o;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[n,o]of s){const{wrapped:l}=o,c=this[n];l!==!0||this._$AL.has(n)||c===void 0||this.C(n,void 0,o,c)}}let e=!1;const i=this._$AL;try{e=this.shouldUpdate(i),e?(this.willUpdate(i),(r=this._$EO)==null||r.forEach(s=>{var n;return(n=s.hostUpdate)==null?void 0:n.call(s)}),this.update(i)):this._$EM()}catch(s){throw e=!1,this._$EM(),s}e&&this._$AE(i)}willUpdate(e){}_$AE(e){var i;(i=this._$EO)==null||i.forEach(r=>{var s;return(s=r.hostUpdated)==null?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(i=>this._$ET(i,this[i]))),this._$EM()}updated(e){}firstUpdated(e){}};um.elementStyles=[],um.shadowRootOptions={mode:"open"},um[$1("elementProperties")]=new Map,um[$1("finalized")]=new Map,mE==null||mE({ReactiveElement:um}),(Nc.reactiveElementVersions??(Nc.reactiveElementVersions=[])).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const M1=globalThis,Ux=M1.trustedTypes,nz=Ux?Ux.createPolicy("lit-html",{createHTML:t=>t}):void 0,Uee="$lit$",bc=`lit$${Math.random().toFixed(9).slice(2)}$`,qee="?"+bc,B6e=`<${qee}>`,vp=document,ow=()=>vp.createComment(""),aw=t=>t===null||typeof t!="object"&&typeof t!="function",dI=Array.isArray,G6e=t=>dI(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",yE=`[ 	
\f\r]`,ev=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,oz=/-->/g,az=/>/g,Gh=RegExp(`>|${yE}(?:([^\\s"'>=/]+)(${yE}*=${yE}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),lz=/'/g,uz=/"/g,Bee=/^(?:script|style|textarea|title)$/i,Gee=t=>(e,...i)=>({_$litType$:t,strings:e,values:i}),kBe=Gee(1),CBe=Gee(2),Qc=Symbol.for("lit-noChange"),$i=Symbol.for("lit-nothing"),cz=new WeakMap,Pd=vp.createTreeWalker(vp,129);function Hee(t,e){if(!dI(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return nz!==void 0?nz.createHTML(e):e}const H6e=(t,e)=>{const i=t.length-1,r=[];let s,n=e===2?"<svg>":e===3?"<math>":"",o=ev;for(let l=0;l<i;l++){const c=t[l];let d,m,v=-1,w=0;for(;w<c.length&&(o.lastIndex=w,m=o.exec(c),m!==null);)w=o.lastIndex,o===ev?m[1]==="!--"?o=oz:m[1]!==void 0?o=az:m[2]!==void 0?(Bee.test(m[2])&&(s=RegExp("</"+m[2],"g")),o=Gh):m[3]!==void 0&&(o=Gh):o===Gh?m[0]===">"?(o=s??ev,v=-1):m[1]===void 0?v=-2:(v=o.lastIndex-m[2].length,d=m[1],o=m[3]===void 0?Gh:m[3]==='"'?uz:lz):o===uz||o===lz?o=Gh:o===oz||o===az?o=ev:(o=Gh,s=void 0);const _=o===Gh&&t[l+1].startsWith("/>")?" ":"";n+=o===ev?c+B6e:v>=0?(r.push(d),c.slice(0,v)+Uee+c.slice(v)+bc+_):c+bc+(v===-2?l:_)}return[Hee(t,n+(t[i]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class lw{constructor({strings:e,_$litType$:i},r){let s;this.parts=[];let n=0,o=0;const l=e.length-1,c=this.parts,[d,m]=H6e(e,i);if(this.el=lw.createElement(d,r),Pd.currentNode=this.el.content,i===2||i===3){const v=this.el.content.firstChild;v.replaceWith(...v.childNodes)}for(;(s=Pd.nextNode())!==null&&c.length<l;){if(s.nodeType===1){if(s.hasAttributes())for(const v of s.getAttributeNames())if(v.endsWith(Uee)){const w=m[o++],_=s.getAttribute(v).split(bc),x=/([.?@])?(.*)/.exec(w);c.push({type:1,index:n,name:x[2],strings:_,ctor:x[1]==="."?Z6e:x[1]==="?"?Y6e:x[1]==="@"?J6e:r3}),s.removeAttribute(v)}else v.startsWith(bc)&&(c.push({type:6,index:n}),s.removeAttribute(v));if(Bee.test(s.tagName)){const v=s.textContent.split(bc),w=v.length-1;if(w>0){s.textContent=Ux?Ux.emptyScript:"";for(let _=0;_<w;_++)s.append(v[_],ow()),Pd.nextNode(),c.push({type:2,index:++n});s.append(v[w],ow())}}}else if(s.nodeType===8)if(s.data===qee)c.push({type:2,index:n});else{let v=-1;for(;(v=s.data.indexOf(bc,v+1))!==-1;)c.push({type:7,index:n}),v+=bc.length-1}n++}}static createElement(e,i){const r=vp.createElement("template");return r.innerHTML=e,r}}function Xy(t,e,i=t,r){var o,l;if(e===Qc)return e;let s=r!==void 0?(o=i._$Co)==null?void 0:o[r]:i._$Cl;const n=aw(e)?void 0:e._$litDirective$;return(s==null?void 0:s.constructor)!==n&&((l=s==null?void 0:s._$AO)==null||l.call(s,!1),n===void 0?s=void 0:(s=new n(t),s._$AT(t,i,r)),r!==void 0?(i._$Co??(i._$Co=[]))[r]=s:i._$Cl=s),s!==void 0&&(e=Xy(t,s._$AS(t,e.values),s,r)),e}class W6e{constructor(e,i){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:i},parts:r}=this._$AD,s=((e==null?void 0:e.creationScope)??vp).importNode(i,!0);Pd.currentNode=s;let n=Pd.nextNode(),o=0,l=0,c=r[0];for(;c!==void 0;){if(o===c.index){let d;c.type===2?d=new Zw(n,n.nextSibling,this,e):c.type===1?d=new c.ctor(n,c.name,c.strings,this,e):c.type===6&&(d=new K6e(n,this,e)),this._$AV.push(d),c=r[++l]}o!==(c==null?void 0:c.index)&&(n=Pd.nextNode(),o++)}return Pd.currentNode=vp,s}p(e){let i=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,i),i+=r.strings.length-2):r._$AI(e[i])),i++}}class Zw{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,i,r,s){this.type=2,this._$AH=$i,this._$AN=void 0,this._$AA=e,this._$AB=i,this._$AM=r,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const i=this._$AM;return i!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=i.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,i=this){e=Xy(this,e,i),aw(e)?e===$i||e==null||e===""?(this._$AH!==$i&&this._$AR(),this._$AH=$i):e!==this._$AH&&e!==Qc&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):G6e(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==$i&&aw(this._$AH)?this._$AA.nextSibling.data=e:this.T(vp.createTextNode(e)),this._$AH=e}$(e){var n;const{values:i,_$litType$:r}=e,s=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=lw.createElement(Hee(r.h,r.h[0]),this.options)),r);if(((n=this._$AH)==null?void 0:n._$AD)===s)this._$AH.p(i);else{const o=new W6e(s,this),l=o.u(this.options);o.p(i),this.T(l),this._$AH=o}}_$AC(e){let i=cz.get(e.strings);return i===void 0&&cz.set(e.strings,i=new lw(e)),i}k(e){dI(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let r,s=0;for(const n of e)s===i.length?i.push(r=new Zw(this.O(ow()),this.O(ow()),this,this.options)):r=i[s],r._$AI(n),s++;s<i.length&&(this._$AR(r&&r._$AB.nextSibling,s),i.length=s)}_$AR(e=this._$AA.nextSibling,i){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,i);e!==this._$AB;){const s=e.nextSibling;e.remove(),e=s}}setConnected(e){var i;this._$AM===void 0&&(this._$Cv=e,(i=this._$AP)==null||i.call(this,e))}}class r3{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,i,r,s,n){this.type=1,this._$AH=$i,this._$AN=void 0,this.element=e,this.name=i,this._$AM=s,this.options=n,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=$i}_$AI(e,i=this,r,s){const n=this.strings;let o=!1;if(n===void 0)e=Xy(this,e,i,0),o=!aw(e)||e!==this._$AH&&e!==Qc,o&&(this._$AH=e);else{const l=e;let c,d;for(e=n[0],c=0;c<n.length-1;c++)d=Xy(this,l[r+c],i,c),d===Qc&&(d=this._$AH[c]),o||(o=!aw(d)||d!==this._$AH[c]),d===$i?e=$i:e!==$i&&(e+=(d??"")+n[c+1]),this._$AH[c]=d}o&&!s&&this.j(e)}j(e){e===$i?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class Z6e extends r3{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===$i?void 0:e}}class Y6e extends r3{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==$i)}}class J6e extends r3{constructor(e,i,r,s,n){super(e,i,r,s,n),this.type=5}_$AI(e,i=this){if((e=Xy(this,e,i,0)??$i)===Qc)return;const r=this._$AH,s=e===$i&&r!==$i||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,n=e!==$i&&(r===$i||s);s&&this.element.removeEventListener(this.name,this,r),n&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var i;typeof this._$AH=="function"?this._$AH.call(((i=this.options)==null?void 0:i.host)??this.element,e):this._$AH.handleEvent(e)}}let K6e=class{constructor(e,i,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=i,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Xy(this,e)}};const gE=M1.litHtmlPolyfillSupport;gE==null||gE(lw,Zw),(M1.litHtmlVersions??(M1.litHtmlVersions=[])).push("3.3.1");const X6e=(t,e,i)=>{const r=(i==null?void 0:i.renderBefore)??e;let s=r._$litPart$;if(s===void 0){const n=(i==null?void 0:i.renderBefore)??null;r._$litPart$=s=new Zw(e.insertBefore(ow(),n),n,void 0,i??{})}return s._$AI(t),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Xd=globalThis;let Zm=class extends um{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var i;const e=super.createRenderRoot();return(i=this.renderOptions).renderBefore??(i.renderBefore=e.firstChild),e}update(e){const i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=X6e(i,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return Qc}};var Dz;Zm._$litElement$=!0,Zm.finalized=!0,(Dz=Xd.litElementHydrateSupport)==null||Dz.call(Xd,{LitElement:Zm});const vE=Xd.litElementPolyfillSupport;vE==null||vE({LitElement:Zm});(Xd.litElementVersions??(Xd.litElementVersions=[])).push("4.2.1");class uw{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}const Q6e=(t,e)=>{const i=e/eIe;let r=0;const s=setInterval(()=>{r+=i,r>=e&&(clearInterval(s),t())},i);return s},eIe=4,tIe=(t,e,i)=>{const r=Object.keys(t),s=r.length;Cc===void 0&&queueMicrotask(s3),Cc??(Cc=new Map);let n=Cc.get(t);return n===void 0&&(n={callbacks:[],keyCount:s},Cc.set(t,n)),n.keyCount!==s&&(n.callbacks.forEach(o=>o(r)),n.callbacks=[],n.keyCount=s),n.callbacks.push(o=>{const l=d=>oi(e,null,d),c=o[s];c===void 0?l(void 0):t[c]===i?l(c):l(void 0)}),i};let Cc;const s3=()=>{Cc==null||Cc.forEach(({callbacks:t},e)=>{const i=Object.keys(e);t.forEach(r=>r(i))}),Cc=void 0},iIe=(t,e,i)=>{const r=t.manager;return r.V!==$i&&r.V!==i&&r.S(void 0,void 0),r.T.length===0&&queueMicrotask(()=>r.S(void 0,void 0)),r.V=i,r.T.push((s,n)=>oi(e,void 0,i===n?s:void 0)),i},rIe=(t=[i3(),...C6e()],e,i)=>{const r=Array.isArray(t)?t:[t];let s=r.length+1;const n=o=>{s-=1,o!==void 0&&(s=Math.min(s,0)),s===0&&e(o)};r.forEach(o=>tIe(o,l=>n(l===void 0?void 0:{key:l,host:o,isReactive:!1}),i));for(const o of r)if("manager"in o&&o.manager.component===o){iIe(o,l=>n(l===void 0?void 0:{key:l,host:o,isReactive:!0}),i);break}return i},sIe=(t="",e={},i=i3())=>{const r={emit:s=>{t===""&&s3();const n=new CustomEvent(t,{detail:s,cancelable:!0,bubbles:!0,composed:!0,...e});return i.el.dispatchEvent(n),n}};return t===""&&rIe(void 0,s=>t=s.key,r),r},PBe=sIe.bind(null,"");var Wee;Wee=aI;var by,_y,jd,Sy,xy,Ty,$y,My,_c,Nd,Ps,Ma,Zl,Ey,xS;class nIe{constructor(e){Rt(this,Ey);Rt(this,by);Rt(this,_y);Rt(this,jd);Rt(this,Sy);Rt(this,xy);Rt(this,Ty);Rt(this,$y);Rt(this,My);Rt(this,_c);Rt(this,Nd);Rt(this,Ps);Rt(this,Ma);Rt(this,Zl);xt(this,by,[]),xt(this,_y,[]),xt(this,jd,[]),xt(this,Sy,[]),xt(this,xy,[]),xt(this,Ty,[]),xt(this,$y,[]),xt(this,My,[]),xt(this,_c,[]),xt(this,Nd,!1),this.P=new uw,this.connectedCalled=!1,this.loadedCalled=!1,this[Wee]=!0,xt(this,Zl,[]);const i=this,r=e??i3();xt(i,Ps,r),i.ready=i.P.promise,xt(i,Ma,dz(i)),i.component=r,me(i,Ps).addController(i),me(i,Ps).manager===void 0||(k6e(i),queueMicrotask(()=>i.catchUpLifecycle()))}catchUpLifecycle(){const{manager:e}=me(this,Ps);e.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),me(e,Nd)&&this.triggerLoad().then(()=>e.loadedCalled&&this.triggerLoaded()).catch(console.error)}get exports(){return me(this,Ma)}set exports(e){const i=me(this,Ma);i!==e&&(xt(this,Ma,e),me(this,Zl).forEach(oi),this.connectedCalled&&this.O!==!1&&me(this,Ps).requestUpdate(this.O,i)),this.P.resolve(e)}setProvisionalExports(e,i=!0){xt(this,Ma,i?dz(e):e),me(this,Zl).forEach(oi)}watchExports(e){const i=()=>e(me(this,Ma));return me(this,Zl).push(i),()=>void me(this,Zl).splice(me(this,Zl).indexOf(i),1)}get use(){return qv(me(this,Ps)),I6e}get useRef(){return qv(me(this,Ps)),P6e}get useRefSync(){return qv(me(this,Ps)),lI}controllerRemoved(){me(this,Ps).el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(e){me(this,by).push(e)}onDisconnected(e){me(this,_y).push(e)}onLoad(e){me(this,jd).push(e)}onLoaded(e){me(this,Sy).push(e)}onUpdate(e){me(this,xy).push(e)}onUpdated(e){me(this,Ty).push(e)}onDestroy(e){me(this,$y).push(e)}onLifecycle(e){me(this,My).push(e),this.connectedCalled&&me(this,Ps).el.isConnected&&Vu(this,Ey,xS).call(this,e)}triggerConnected(){const e=this;e.hostConnected&&oi(e.hostConnected,e),me(e,by).forEach(oi),e.triggerLifecycle(),e.connectedCalled=!0}triggerDisconnected(){const e=this;e.hostDisconnected&&oi(e.hostDisconnected,e),me(e,_y).forEach(oi),me(e,_c).forEach(oi),xt(e,_c,[])}async triggerLoad(){if(me(this,Nd))return;xt(this,Nd,!0);const e=this;e.hostLoad&&await Kk(e.hostLoad,e),me(this,jd).length>0&&await Promise.allSettled(me(this,jd).map(Kk)),this.P.resolve(me(this,Ma))}triggerLoaded(){this.loadedCalled||(this.hostLoaded&&oi(this.hostLoaded,this),me(this,Sy).forEach(oi),this.loadedCalled=!0)}triggerUpdate(e){this.hostUpdate&&oi(this.hostUpdate,this,e),me(this,xy).forEach(hz,e)}triggerUpdated(e){this.hostUpdated&&oi(this.hostUpdated,this,e),me(this,Ty).forEach(hz,e)}triggerDestroy(){this.hostDestroy&&oi(this.hostDestroy,this),me(this,$y).forEach(oi)}triggerLifecycle(){this.hostLifecycle&&Vu(this,Ey,xS).call(this,()=>this.hostLifecycle()),me(this,My).forEach(Vu(this,Ey,xS),this)}}by=new WeakMap,_y=new WeakMap,jd=new WeakMap,Sy=new WeakMap,xy=new WeakMap,Ty=new WeakMap,$y=new WeakMap,My=new WeakMap,_c=new WeakMap,Nd=new WeakMap,Ps=new WeakMap,Ma=new WeakMap,Zl=new WeakMap,Ey=new WeakSet,xS=function(e){qv(me(this,Ps));const i=oi(e);(Array.isArray(i)?i:[i]).forEach(s=>{typeof s=="function"?me(this,_c).push(s):typeof s=="object"&&typeof s.remove=="function"&&me(this,_c).push(s.remove)})};function hz(t){oi(t,void 0,this)}const oIe=nIe,dz=t=>{if(typeof t!="object"&&typeof t!="function"||t===null)return t;const e={get(r,s,n){if(!((s==="exports"||s==="_exports")&&s in r&&r[s]===i)&&(s in r||s in Promise.prototype||typeof s=="symbol"))return typeof r=="function"?r[s]:Reflect.get(r,s,n)}},i=new Proxy(t,e);return i},aIe=t=>t.replace(lIe,(e,i)=>`${i===0?"":"-"}${e.toLowerCase()}`),lIe=/[A-Z]+(?![a-z])|[A-Z]/gu,uIe=1,cIe=2,hIe=4,dIe=8,pIe=16,fIe=32,mIe=64,Zee=t=>{var i,r;let e=t;for(;e=e.parentNode??e.host;)if((i=e==null?void 0:e.constructor)!=null&&i.lumina){const s=e;return(r=s.manager)!=null&&r.loadedCalled||(s.J??s._offspring).push(t),(s.I??s._postLoad).promise}return!1},pz={};function Yee(){}const TS=Object.defineProperty,yIe=globalThis.HTMLElement??Yee;var js,Yl,Ay,cw,eC;const pI=class pI extends yIe{constructor(){var s,n;super();Rt(this,cw);Rt(this,js);Rt(this,Yl);Rt(this,Ay);xt(this,Yl,{}),xt(this,Ay,[]),this.I=new uw,this.H=new uw,this.J=[];const i=this,r=i.constructor;i._offspring=i.J,i._postLoad=i.I,(s=r.C)==null||s.forEach(o=>{Object.hasOwn(i,o)&&(me(i,Yl)[o]=i[o],delete i[o])}),r.A?Vu(n=i,cw,eC).call(n,{a:r.A}):r.B.then(async o=>{var l,c;await r.K.p,Vu(c=i,cw,eC).call(c,await(((l=o.default)==null?void 0:l.then(d=>typeof d=="function"?{a:d}:d))??o))}).catch(o=>{i.H.reject(o),setTimeout(()=>{throw o})})}static F(){for(const i of this.C??[])TS(this.prototype,i,{configurable:!0,enumerable:!0,get(){return me(this,Yl)[i]},set(r){me(this,Yl)[i]=r}});for(const i of this.E??[])TS(this.prototype,i,{async value(...r){return me(this,js)||await this.H.promise,await me(this,js)[i](...r)},configurable:!0});for(const i of this.D??[])TS(this.prototype,i,{value(...r){return me(this,js)[i](...r)},configurable:!0})}get manager(){var i;return(i=me(this,js))==null?void 0:i.manager}attributeChangedCallback(i,r,s){var n;(n=me(this,js))==null||n.attributeChangedCallback(i,r,s),me(this,js)||me(this,Ay).push(i)}connectedCallback(){var i,r;me(this,js)?(r=(i=me(this,js)).connectedCallback)==null||r.call(i):queueMicrotask(()=>this.G=Zee(this))}disconnectedCallback(){var i,r;(r=(i=me(this,js))==null?void 0:i.disconnectedCallback)==null||r.call(i)}async componentOnReady(){return await this.H.promise,this}addController(){}requestUpdate(){var i;(i=me(this,js))==null||i.requestUpdate()}};js=new WeakMap,Yl=new WeakMap,Ay=new WeakMap,cw=new WeakSet,eC=function(i){var w;const r=this.constructor,s=r.L,n=me(this,Yl),o=Object.values(i).find(_=>_.L===s),l=`${s}--lazy`;let c=o;for(;c&&!Object.hasOwn(c,"lumina");)c=Object.getPrototypeOf(c);vIe(c),!r.A&&(r.A=o,customElements.define(l,o)),o.N=this;const m=document.createElement(l);o.N=void 0,xt(this,js,m),xt(this,Yl,m),me(this,Ay).forEach(_=>m.attributeChangedCallback(_,null,this.getAttribute(_))),Object.entries(n).forEach(gIe,m);const v=this.isConnected;(v||this.G)&&((w=m.connectedCallback)==null||w.call(m),v||m.disconnectedCallback())},pI.lumina=!0;let fz=pI;function gIe([t,e]){this[t]=e}const vIe=t=>{const e=t.prototype,i=Element.prototype;Object.hasOwn(e,"isConnected")||(e.setAttribute=function(s,n){i.setAttribute.call(this.el,s,n)},e.removeAttribute=function(s){i.removeAttribute.call(this.el,s)},TS(e,"isConnected",{get(){return Reflect.get(i,"isConnected",this.el)}}))};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Jee={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4},Kee=t=>(...e)=>({_$litDirective$:t,values:e});let Xee=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,i,r){this._$Ct=e,this._$AM=i,this._$Ci=r}_$AS(e,i){return this.update(e,i)}update(e,i){return this.render(...i)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const wIe=Kee(class extends Xee{constructor(t){var e;if(super(t),t.type!==Jee.ATTRIBUTE||t.name!=="class"||((e=t.strings)==null?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){var r,s;if(this.st===void 0){this.st=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(n=>n!=="")));for(const n in e)e[n]&&!((r=this.nt)!=null&&r.has(n))&&this.st.add(n);return this.render(e)}const i=t.element.classList;for(const n of this.st)n in e||(i.remove(n),this.st.delete(n));for(const n in e){const o=!!e[n];o===this.st.has(n)||(s=this.nt)!=null&&s.has(n)||(o?(i.add(n),this.st.add(n)):(i.remove(n),this.st.delete(n)))}return Qc}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Qee="important",bIe=" !"+Qee,_Ie=Kee(class extends Xee{constructor(t){var e;if(super(t),t.type!==Jee.ATTRIBUTE||t.name!=="style"||((e=t.strings)==null?void 0:e.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce((e,i)=>{const r=t[i];return r==null?e:e+`${i=i.includes("-")?i:i.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(t,[e]){const{style:i}=t.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(e)),this.render(e);for(const r of this.ft)e[r]==null&&(this.ft.delete(r),r.includes("-")?i.removeProperty(r):i[r]=null);for(const r in e){const s=e[r];if(s!=null){this.ft.add(r);const n=typeof s=="string"&&s.endsWith(bIe);r.includes("-")||n?i.setProperty(r,n?s.slice(0,-11):s,n?Qee:""):i[r]=s}}return Qc}});var Jl,Do,Oy;class SIe extends oIe{constructor(i){super(i);Rt(this,Jl);Rt(this,Do);Rt(this,Oy);this.destroyed=!1,this.R=!1,this.V=$i,this.T=[],xt(this,Oy,new WeakMap),xt(this,Do,i),this.exports=void 0,this.hasDestroy=tC in i&&typeof i.destroy=="function",Zm.prototype.addController.call(i,{hostConnected:()=>{if(this.destroyed){const r=i.el.localName;throw i.el.remove(),new Error(`The ${r} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${tC} prop.`)}me(this,Jl)!==void 0&&clearTimeout(me(this,Jl)),s3();for(const r of i.M)"triggerConnected"in r?r.triggerConnected():oi(r.hostConnected,r)},hostDisconnected:()=>{for(const r of i.M)"triggerDisconnected"in r?r.triggerDisconnected():oi(r.hostDisconnected,r);this.hasDestroy&&!this.destroyed&&this.U()},hostUpdate:()=>{for(const r of i.M)"triggerUpdate"in r?r.triggerUpdate(this.Q):oi(r.hostUpdate,r,this.Q)},hostUpdated:()=>{for(const r of i.M)"triggerUpdated"in r?r.triggerUpdated(this.Q):oi(r.hostUpdated,r,this.Q);this.Q=void 0}}),queueMicrotask(()=>this.R=!0),qv(i)}async destroy(){if(!this.destroyed){me(this,Do).el.isConnected&&(this.hasDestroy=!1,me(this,Do).el.remove()),xt(this,Jl,void 0),this.destroyed=!0;for(const i of me(this,Do).M)"triggerDestroy"in i?i.triggerDestroy():oi(i.hostDestroy,i);me(this,Do).M.splice(0)}}U(){me(this,Jl)!==void 0&&clearTimeout(me(this,Jl)),!me(this,Do).el.isConnected&&!me(this,Do).autoDestroyDisabled&&xt(this,Jl,Q6e(()=>void me(this,Do).destroy(),xIe))}S(i,r){const s=this.T;this.V=$i,this.T=[],s.forEach(n=>n(i,r))}W(i,r){(typeof r=="object"&&r!==null||typeof r=="function")&&me(this,Oy).set(r,i)}X(i){if(typeof i=="object"&&i!==null||typeof i=="function")return me(this,Oy).get(i)}}Jl=new WeakMap,Do=new WeakMap,Oy=new WeakMap;let xIe=1e3;const tC="autoDestroyDisabled";var Dd,hw,dw,Ld,Ea,Qy,ete,tte;const E1=class E1 extends Zm{constructor(){super();Rt(this,Qy);Rt(this,Dd);Rt(this,hw);Rt(this,dw);Rt(this,Ld);Rt(this,Ea);this.M=[],this.manager=new SIe(this);const i=this,r=i.constructor,s=r.N,n=r.K.o,o=E1.prototype.shouldUpdate;xt(i,Ld,(s==null?void 0:s.H)??new uw),i.I=(s==null?void 0:s.I)??new uw,i.J=(s==null?void 0:s.J)??[],i._offspring=i.J,i._postLoad=i.I,i.el=s??i,xt(i,dw,i.enableUpdating),i.enableUpdating=Yee,i.shouldUpdate!==o&&(xt(i,hw,i.shouldUpdate),i.shouldUpdate=o),n&&(xt(i,Dd,new Map),r.elementProperties.forEach((l,c)=>me(i,Dd).set(c,n())))}static finalizeStyles(i){var n;const r=super.finalizeStyles(i),s=this.shadowRootOptions===pz;return((n=this.K)==null?void 0:n.commonStyles)===void 0||s?r:[this.K.commonStyles,...r]}static createProperty(i,r){const s=typeof r=="number"?r:Array.isArray(r)?r[0]:0,n=Array.isArray(r)?r[1]:void 0,o=(n==null?void 0:n.hasChanged)??hI,l={attribute:s&uIe&&typeof i=="string"?aIe(i):!1,reflect:!!(s&cIe),type:s&hIe?Boolean:s&dIe?Number:void 0,state:!!(s&pIe),readOnly:!!(s&fIe),noAccessor:!!(s&mIe),c:!1,...n,hasChanged(c,d){const m=o(c,d);return l.c=m,m}};super.createProperty(i,l)}static getPropertyDescriptor(i,r,s){const n=this.K,o=super.getPropertyDescriptor(i,r,s);return s.d=o,{...o,get(){var l,c;return(l=n.t)==null||l.call(n,me(this,Dd).get(i)),(c=o.get)==null?void 0:c.call(this)},set(l){var d,m;const c=this.manager;if(s.readOnly&&!Xk&&(c.R||c.connectedCalled))throw Error(`Cannot assign to read-only property "${i}" of ${this.el.localName}. Trying to assign "${l}"`);o.set.call(this,l??void 0),s.c&&((m=(d=me(this,Dd))==null?void 0:d.get(i))==null||m.notify()),c.T.length>0&&(s3(),c==null||c.S(i,l))}}}connectedCallback(){var s,n;if(this.el.hasAttribute("defer-hydration"))return;const i=(n=(s=this.constructor.K).c)==null?void 0:n.call(s,()=>this.requestUpdate());xt(this,Ea,i);const r=!this.manager.connectedCalled;super.connectedCallback(),r?queueMicrotask(()=>Vu(this,Qy,tte).call(this).catch(o=>{me(this,Ld).reject(o),setTimeout(()=>{throw o})})):i&&this.requestUpdate()}disconnectedCallback(){var i;super.disconnectedCallback(),(i=me(this,Ea))==null||i.destroy(),xt(this,Ea,void 0)}createRenderRoot(){const i=this.el.shadowRoot,r=this.constructor,s=r.shadowRootOptions,o=i??(s===pz?this.el:this.el.attachShadow(s));if(this.isConnected){const l=o.getRootNode();l.adoptedStyleSheets=[...l.adoptedStyleSheets,...r.elementStyles.map(c=>"styleSheet"in c?c.styleSheet:c)]}return o}shouldUpdate(i){var r;return this.manager.Q=i,((r=me(this,hw))==null?void 0:r.call(this,i))??!0}update(i){me(this,Ea)?Vu(this,Qy,ete).call(this,i):super.update(i)}listen(i,r,s){const n=(r==null?void 0:r.bind(this))??r;this.manager.onLifecycle(()=>(this.el.addEventListener(i,n,s),()=>this.el.removeEventListener(i,n,s)))}listenOn(i,r,s,n){const o=(s==null?void 0:s.bind(this))??s;this.manager.onLifecycle(()=>(i.addEventListener(r,o,n),()=>i.removeEventListener(r,o,n)))}async componentOnReady(){return await me(this,Ld).promise,this}addController(i){var r;this.M.push(i),!(aI in i)&&this.renderRoot&&this.el.isConnected&&((r=i.hostConnected)==null||r.call(i))}removeController(i){var r;this.M.splice(this.M.indexOf(i),1),(r=i.controllerRemoved)==null||r.call(i)}};Dd=new WeakMap,hw=new WeakMap,dw=new WeakMap,Ld=new WeakMap,Ea=new WeakMap,Qy=new WeakSet,ete=function(i){try{me(this,Ea).clear(),this.constructor.K.r(me(this,Ea),()=>NN(E1.prototype,this,"update").call(this,i))}catch(r){throw me(this,Ea).clear(),r}},tte=async function(){var n,o;const i=this.el.G??Zee(this.el);i&&await i;const r=[];for(const l of this.M)"triggerLoad"in l?r.push(l.triggerLoad()):r.push(Kk(l.hostLoad,l));await Promise.all(r),await((n=this.load)==null?void 0:n.call(this)),this.manager.hasDestroy&&this.manager.onUpdate(l=>l.has(tC)&&this.manager.U()),me(this,dw).call(this,!0),this.performUpdate(),this.I.resolve(),await Promise.resolve();const s=this.J.filter(l=>{var c;return!((c=l.manager)!=null&&c.loadedCalled)});s.length&&await Promise.allSettled(s.map(async l=>await l.componentOnReady())),this.J.length=0,this.el.setAttribute(this.constructor.K.hydratedAttribute,"");for(const l of this.M)"triggerLoaded"in l?l.triggerLoaded():oi(l.hostLoaded,l);(o=this.loaded)==null||o.call(this),me(this,Ld).resolve()},E1.lumina=!0;let mz=E1;const TIe=t=>{let e;const i=s=>{var n;e=new URL(s,((n=globalThis.location)==null?void 0:n.href)||void 0).href},r={...t,getAssetPath(s){var o;const n=new URL(s,e);return n.origin!==((o=globalThis.location)==null?void 0:o.origin)?n.href:n.pathname},setAssetPath:i,customElement(s,n){n.K=r,n.L=s,customElements.get(s)||customElements.define(s,n)}};return i(t.defaultAssetPath),r},NBe=t=>typeof t=="object"&&t!=null?wIe(t):t,DBe=t=>typeof t=="object"&&t!=null?_Ie(t):t,LBe=$i;function VBe(t,e,i){i==null?t.removeAttribute(e):t.setAttribute(e,i)}const FBe={toAttribute:t=>t===!0?"":t===!1?null:t},$Ie="calcite-mode-auto",MIe="calcite-mode-dark",zBe={rtl:"calcite--rtl"},UBe={filter:250,nextTick:0,resize:150,reposition:100},qBe=25;function yz(){const{classList:t}=document.body,e=window.matchMedia("(prefers-color-scheme: dark)").matches,i=()=>t.contains(MIe)||t.contains($Ie)&&e?"dark":"light",r=o=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:o}})),s=o=>{n!==o&&r(o),n=o};let n=i();r(n),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",o=>s(o.matches?"dark":"light")),new MutationObserver(()=>s(i())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}const au=globalThis.calciteConfig,BBe=(au==null?void 0:au.focusTrapStack)||[],GBe=(au==null?void 0:au.logLevel)||"info",gz="3.3.3",EIe="2025-10-08",AIe="7391af08e";function OIe(){if(au&&au.version)return;console.info(`Using Calcite Components ${gz} [Date: ${EIe}, Revision: ${AIe}]`);const t=au||globalThis.calciteConfig||{};Object.defineProperty(t,"version",{value:gz,writable:!1}),globalThis.calciteConfig=t}document.readyState==="interactive"?yz():document.addEventListener("DOMContentLoaded",yz,{once:!0});queueMicrotask(OIe);const kIe=TIe({defaultAssetPath:"https://js.arcgis.com/calcite-components/3.3.3/",hydratedAttribute:"calcite-hydrated"}),{customElement:HBe,getAssetPath:WBe,setAssetPath:CIe}=kIe;/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */let ite=!1;const RIe=t=>{ite=!0,CIe(t)};let rte;function IIe(){ite||RIe(eo(bi(rte)))}function Yw(t){var i;const e=[];for(const r of Object.keys(t))customElements.get(`calcite-${r}`)||e.push((i=t[r])==null?void 0:i.call(t));return e.length>0?Promise.all(e):null}rte="components/assets";const ste=Symbol("widget"),nte=Symbol("widget-test-data"),PIe=[],jIe={},qx=new WeakMap;function ote(t,e){let i=e.children;if(i!=null&&i.length)for(let s=0;s<i.length;++s)i[s]=ote(t,i[s]);else i=PIe;const r=e.vnodeSelector;if(Bx(r)){const s=e.properties||jIe,n=s.key||r,o={key:n,afterCreate:NIe,afterUpdate:DIe,afterRemoved:ate,parentWidget:t,widgetConstructor:r,widgetProperties:{...s,key:n,children:i}};return{vnodeSelector:r.vnodeSelector,properties:o,children:void 0,text:void 0,domNode:null}}return e}function NIe(t,e,i,{parentWidget:r,widgetConstructor:s,widgetProperties:n}){var l;const o=new s(n);o.container=t,qx.set(t,o),(l=o.afterCreate)==null||l.call(o,o,t),r.addHandles(at(()=>ate(t))),queueMicrotask(()=>{var c;(c=o[nte].projector)==null||c.renderNow()})}function DIe(t,e,i,{widgetProperties:r}){var n;const s=qx.get(t);s&&(s.set(r),(n=s.afterUpdate)==null||n.call(s,s,t))}function ate(t){var i;const e=qx.get(t);e&&((i=e.afterRemoved)==null||i.call(e,e,t),e.destroy(),qx.delete(t))}function Bx(t){return typeof t=="function"&&t[ste]}const vz=new Set;function LIe(t){vz.add(t),t.finally(()=>vz.delete(t))}function VIe(t){return at()}var wz;let FIe=0;function lte(t,e){const i=Object.prototype.hasOwnProperty;for(const r in e)i.call(e,r)&&i.call(t,r)&&(t[r]!=null&&e[r]!=null&&typeof t[r]=="object"&&typeof e[r]=="object"?lte(t[r],e[r]):t[r]=e[r]);return t}const zIe=A6e({postProcessProjectionOptions(t){const e=t.eventHandlerInterceptor,i=/capture$/i;t.eventHandlerInterceptor=(r,s,n,o)=>{const l=e==null?void 0:e(r,s,n,o),c=i.test(r);if(!((r=r.replace(i,"")).toLowerCase()in n)||c){const d=r[2].toLowerCase()+r.slice(3),m=_=>l==null?void 0:l.call(n,_);n.addEventListener(d,m,c);const v=()=>n.removeEventListener(d,m,c),w=o.afterRemoved;o.afterRemoved=_=>{w==null||w(_),v()}}return l}},handleInterceptedEvent(t,e,i,r){const{eventPhase:s,type:n}=r,o=s===Event.CAPTURING_PHASE;let l=`on${n}${o?"capture":""}`;const c=e.properties;(c&&l in c||(l=`on${n[0].toUpperCase()}${n.slice(1)}${o?"Capture":""}`,c&&l in c))&&(Vee(),t.scheduleRender(),c[l].call(c.bind||i,r))}});let wE=!1;var sp;let fr=(sp=class extends xY(dg){constructor(e,i){super(e,i),this._attached=!1,this._projector=zIe,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=KC(async()=>{var c;if((c=this._messageBundleProps)!=null&&c.length){const d=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:m,propertyName:v})=>{if(this.destroyed)return;let w=await IY(m);this.destroyed||(this.uiStrings&&Object.keys(this.uiStrings)&&(w=lte(G(w),this.uiStrings)),this[v]=w)}));if(this.destroyed)return;for(const m of d)m.status==="rejected"&&se.getLogger(this).error("widget-intl:locale-error",this.declaredClass,m.reason)}await this.loadLocale()}),this.addHandles(VIe()),IIe();const r="esri-widget-uid-"+Tg(),s=this.render.bind(this);this._trackingTarget=new rT(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const n=()=>({vnodeSelector:"div",properties:{key:`${r}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),o=()=>{var v,w;if(!this._readyForTrueRender||this.destroyed)return null;const c=s()??n(),d=c.properties??(c.properties={});if(d.key??(d.key=r),Bx(c.vnodeSelector)){if(!this.visible)return n()}else this.visible?d.styles||(d.styles={}):(d.class="",d.styles={display:"none"}),(v=d.styles).display??(v.display="");let m=0;return(w=c.children)==null||w.forEach(_=>{var x;Bx(_.vnodeSelector)||(_.properties??(_.properties={}),(x=_.properties).key??(x.key=`${this.id}--${m++}`))}),ote(this,c)};this.render=()=>{if(wE)return o();let c=f6e(this)??null;if(c)return c;this._trackingTarget.clear(),wE=!0;try{c=hu(this._trackingTarget,o)}catch(d){throw se.getLogger(this).error(d),d}finally{wE=!1}return c&&m6e(this,c),c};const l=this.beforeFirstRender();l?this._resourcesFetch=l.then(()=>{this.destroyed||(this._readyForTrueRender=!0,this._postInitialize())}):(this._resourcesFetch=Promise.resolve().then(()=>{this.destroyed||this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),LIe(this._resourcesFetch)}normalizeCtorArgs(e,i){const r={...e};return i&&(r.container=i),r}postInitialize(){}beforeFirstRender(){var i;const e=this.loadDependencies();return(i=this._messageBundleProps)!=null&&i.length||e?Promise.all([e,this._loadLocale()]).then(()=>{}).catch(k8):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(ti(this._trackingTarget),ti(this.viewModel),this._detach(this.container),this._set("container",null),this.render=()=>null,this._projector=null,dE(this))}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return U6(e)}get destroyed(){return super.destroyed}get domNode(){return this.container}set domNode(e){this.container=e}get icon(){return null}set icon(e){this._overrideIfSome("icon",e)}get id(){var e;return this._get("id")||((e=this.container)==null?void 0:e.id)||Date.now().toString(16)+"-widget-"+FIe++}set id(e){e&&this._set("id",e)}get label(){return this.declaredClass.split(".").pop()}set label(e){this._overrideIfSome("label",e)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(e){this._set("visible",e)}get[(wz=ste,nte)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(dE(this),this._projector.scheduleRender())}classes(...e){return y6e.apply(this,e)}renderNow(){dE(this),this._projector.renderNow()}_postInitialize(){var i;if(this.destroyed)return;this.scheduleRender(),(i=this._delegatedEventNames)!=null&&i.length&&this.addHandles(Le(()=>this.viewModel,(r,s)=>{s&&this.removeHandles("delegated-events"),r&&iT(r)&&this.addHandles(this._delegatedEventNames.map(n=>lg(r,n,o=>{this.emit(n,o)})),"delegated-events")},qr)),this.postInitialize();const e=async()=>{await this._loadLocale().catch(k8),this.scheduleRender()};this.addHandles([YH(e),Le(()=>this.uiStrings,e)]),this.addHandles(Sn(()=>this.container,r=>{this.destroyed||this._attach(r)},{initial:!0,once:!0}))}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){var i;this._attached&&(this._projector.detach(this.render),this._attached=!1),(i=e==null?void 0:e.parentNode)==null||i.removeChild(e)}},sp[wz]=!0,sp.vnodeSelector="div",sp);h([f()],fr.prototype,"_readyForTrueRender",void 0),h([f({value:null})],fr.prototype,"container",null),h([Ot("container")],fr.prototype,"castContainer",null),h([f()],fr.prototype,"icon",null),h([f()],fr.prototype,"id",null),h([f()],fr.prototype,"label",null),h([f()],fr.prototype,"renderable",null),h([f()],fr.prototype,"uiStrings",void 0),h([f()],fr.prototype,"viewModel",void 0),h([f({value:!0})],fr.prototype,"visible",null),h([f()],fr.prototype,"key",void 0),h([f()],fr.prototype,"children",void 0),h([f()],fr.prototype,"afterCreate",void 0),h([f()],fr.prototype,"afterUpdate",void 0),h([f()],fr.prototype,"afterRemoved",void 0),fr=h([I("esri.widgets.Widget")],fr);const kg=fr,UIe=new Map;function qIe(t){return UIe.get(t)}function bz(t,e){return t&&"copyright"in t&&(!e||typeof t.originOf=="function"&&t.originOf("copyright")==="user")}function BIe(t,e){return t.length!==e.length||t.some((i,r)=>i.text!==e[r].text)}function o2(t,e,i){!i||!e||t.find(r=>r.layerView===e&&r.text===i)||t.push({text:i,layerView:e})}function GIe(t){return t.type==="bing-maps"}const da=[];let cm=class extends $e{constructor(t){super(t),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new ge,this.view=null,this._allLayerViewsChange=e=>{var r;this.removeHandles("suspension"),this.removeHandles("visible-geometry-changed");const i=(r=this.view)==null?void 0:r.allLayerViews;i&&(this.addHandles(i.map(s=>Le(()=>{var n;return[s.suspended,(n=s.layer)==null?void 0:n.attributionVisible]},()=>this._updateAttributionItems())).toArray(),"suspension"),i.forEach(s=>{s.declaredClass==="esri.views.3d.layers.IntegratedMesh3DTilesLayerView3D"&&this.addHandles(s.on("visible-geometry-changed",()=>this._updateAttributionItems()),"visible-geometry-changed")})),e!=null&&e.removed&&e.removed.forEach(s=>{this._pendingAttributions.delete(s),this._fetchedAttributionData.delete(s)}),this._updateAttributionItems()},this.addHandles([yp(()=>{var e;return(e=this.view)==null?void 0:e.allLayerViews},"change",e=>this._allLayerViewsChange(e),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),Sn(()=>{var e;return((e=this.view)==null?void 0:e.stationary)===!0},()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){var t;return(t=this.view)!=null&&t.ready?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const t=this.view,e=t==null?void 0:t.allLayerViews;da.length=0;let i=!1,r=null;if(!t||!e)return void this._clear();e.forEach(n=>{var c,d;if(n.suspended||!((c=n.layer)!=null&&c.attributionVisible))return;const o=n.layer;if(bz(o,"user"))return void o2(da,n,o.copyright);if(o.type==="integrated-mesh-3dtiles"&&o.hasGoogleUrl&&(i=!0,r=n),o.hasAttributionData){if(this._fetchedAttributionData.has(n)){const m=this._fetchedAttributionData.get(n);return void(m?o2(da,n,this._getDynamicAttribution(m,t,o)):bz(o)&&o2(da,n,o.copyright))}return void this._fetchAttributionData(n)}const l="portalItem"in o?(d=o.portalItem)==null?void 0:d.accessInformation:void 0;o2(da,n,l||o.copyright)});const s=e.find(n=>{var o;return((o=n.layer)==null?void 0:o.type)==="integrated-mesh-3dtiles"});if(this.view&&s){const n=qIe(this.view);if(n){const o=n.getAttributionText();for(let l=o.length-1;l>-1;--l)da.unshift({text:o[l],layerView:s})}}i&&r&&da.unshift({text:"Google Maps",layerView:r}),BIe(this.items,da)&&(this.items.removeAll(),this.items.addMany(da)),da.length=0,this.notifyChange("state")}async _fetchAttributionData(t){if(this._pendingAttributions.has(t))return;this._pendingAttributions.add(t);const e=await x6(t.layer.fetchAttributionData());if(this._pendingAttributions.has(t)){const i=e.ok?this._createContributionIndex(e.value,GIe(t.layer)):null;this._pendingAttributions.delete(t),this._fetchedAttributionData.set(t,i)}this._updateAttributionItems()}_createContributionIndex(t,e){const i=t.contributors,r={};if(!i)return r;for(let s=0;s<i.length;s++){const n=i[s],o=n.coverageAreas;if(!o)return;for(const l of o){const c=l.bbox,d=l.zoomMin-(e&&l.zoomMin?1:0),m=l.zoomMax-(e&&l.zoomMax?1:0),v=new Ye({xmin:c[1],ymin:c[0],xmax:c[3],ymax:c[2],spatialReference:Se.WGS84}),w={extent:Gd(v),attribution:n.attribution||"",score:l.score!=null?l.score:100,id:s};for(let _=d;_<=m;_++)r[_]??(r[_]=[]),r[_].push(w)}}return r.maxKey=Math.max.apply(null,Object.keys(r)),r}_getDynamicAttribution(t,e,i){var d;const{extent:r,scale:s}=e;let n=((d=i.tileInfo)==null?void 0:d.scaleToZoom(s))??0;if(n=Math.min(t.maxKey??0,Math.round(n)),!r||n==null||n<=-1)return"";const o=t[n],l=TT(r.center.clone().normalize(),Se.WebMercator),c=new Set;return o?o.filter(m=>{const v=m.id,w=!c.has(v)&&l&&m.extent&&Iw(m.extent,l);return w&&c.add(v),w}).sort((m,v)=>v.score-m.score||m.objectId-v.objectId).map(m=>m.attribution).join(", "):""}};h([f({readOnly:!0,type:ge})],cm.prototype,"items",void 0),h([f({readOnly:!0})],cm.prototype,"state",null),h([f()],cm.prototype,"view",void 0),cm=h([I("esri.widgets.Attribution.AttributionViewModel")],cm);const ute=cm,Zs={button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",empty:"esri-widget__content--empty",heading:"esri-widget__heading",interactive:"esri-interactive",panel:"esri-widget--panel",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button"};function HIe(){return function(t,e){if(!t[e])throw new TypeError(`Cannot auto bind undefined function '${String(e)}'`);return{value:ZIe(t[e])}}}function WIe(t){const e=t==null?void 0:t.type;return t instanceof KeyboardEvent||e==="keyup"||e==="keydown"||e==="keypress"}function ZIe(t){return function(e,...i){WIe(e)?v6e(e.key)&&(e.preventDefault(),e.stopPropagation(),e.target.click()):t.call(this,e,...i)}}function wp(t){return(e,i)=>{e.hasOwnProperty("_messageBundleProps")||(e._messageBundleProps=e._messageBundleProps?e._messageBundleProps.slice():[]),e._messageBundleProps.push({bundlePath:t,propertyName:i})}}var YIe=function(t){return{vnodeSelector:"",properties:void 0,children:void 0,text:t.toString(),domNode:null}},cte=function(t,e){for(var i=0,r=t.length;i<r;i++){var s=t[i];Array.isArray(s)?cte(s,e):s!=null&&s!==!1&&(s.hasOwnProperty("vnodeSelector")||(s=YIe(s)),e.push(s))}},JIe=function(t,e){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(i.length===1&&typeof i[0]=="string")return{vnodeSelector:t,properties:e||void 0,children:void 0,text:i[0],domNode:null};var s=[];return cte(i,s),{vnodeSelector:t,properties:e||void 0,children:s,text:void 0,domNode:null}};function sr(t,e,...i){return typeof t!="function"||Bx(t)?JIe(t,e??null,...i):t(e,...i)}function ZBe(...t){return t}const Nf="esri-attribution",Df={base:Nf,poweredBy:`${Nf}__powered-by`,sources:`${Nf}__sources`,open:`${Nf}--open`,sourcesOpen:`${Nf}__sources--open`,link:`${Nf}__link`};let os=class extends kg{constructor(e,i){super(e,i),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(r=>r.forEach(({target:s})=>this._checkSourceTextOverflow(s))),this.itemDelimiter=" | ",this.messages=null,this.viewModel=new ute}initialize(){this.addHandles(yp(()=>{var e;return(e=this.viewModel)==null?void 0:e.items},"change",()=>this.scheduleRender()))}destroy(){var e;(e=this._resizeObserver)==null||e.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((e,i)=>(e.includes(i.text)||e.push(i.text),e),[]).join(this.itemDelimiter)}get icon(){return"description"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const e={[Df.open]:this._isOpen};return sr("div",{bind:this,class:this.classes(Df.base,Zs.widget,e),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return sr("div",{class:Df.poweredBy},"Powered by"," ",sr("a",{class:Df.link,href:"https://www.esri.com/",rel:"noreferrer",target:"_blank"},"Esri"))}_renderSourcesNode(){const e=this._isOpen,i=this._isInteractive,r=i?0:void 0,{attributionText:s}=this,n={[Df.sourcesOpen]:e,[Zs.interactive]:i};return sr("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(Df.sources,n),innerHTML:s,tabIndex:r})}_afterSourcesNodeCreate(e){this._prevSourceNodeHeight=e.clientWidth,this._resizeObserver.observe(e)}_checkSourceTextOverflow(e){let i=!1;const{clientHeight:r,clientWidth:s,scrollWidth:n}=e,o=n>s,l=this._attributionTextOverflowed!==o;if(this._attributionTextOverflowed=o,l&&(i=!0),this._isOpen){const c=r<this._prevSourceNodeHeight;this._prevSourceNodeHeight=r,c&&(this._isOpen=!1,i=!0)}i&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};h([f()],os.prototype,"_isOpen",void 0),h([f()],os.prototype,"_isInteractive",null),h([f()],os.prototype,"_attributionTextOverflowed",void 0),h([f()],os.prototype,"_prevSourceNodeHeight",void 0),h([f({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],os.prototype,"attributionText",null),h([f()],os.prototype,"icon",null),h([f()],os.prototype,"itemDelimiter",void 0),h([f()],os.prototype,"label",null),h([f(),wp("esri/widgets/Attribution/t9n/Attribution")],os.prototype,"messages",void 0),h([f()],os.prototype,"view",null),h([f({type:ute})],os.prototype,"viewModel",void 0),h([HIe()],os.prototype,"_toggleState",null),os=h([I("esri.widgets.Attribution")],os);const KIe=os;function XIe(){const t=q("mapview-essential-goto-duration");return t==null?t:t}function QIe(t){var e,i;return((e=t==null?void 0:t.spatialReference)==null?void 0:e.isWebMercator)||((i=t==null?void 0:t.spatialReference)==null?void 0:i.isGeographic)||!1}function ePe(t,e,i){return t.goTo(e,i)}const hte=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.goToOverride=null,this.view=null}callGoTo(r){const{view:s}=this;return TB(s),this.goToOverride?this.goToOverride(s,r):ePe(s,r.target,r.options)}};return h([f()],i.prototype,"goToOverride",void 0),h([f()],i.prototype,"view",void 0),i=h([I("esri.widgets.support.GoTo")],i),i};let yd=class extends hte($e){constructor(e){super(e),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._watchForView(Qr)}destroy(){this.view=null}get canShowNorth(){return QIe(this.view)}get state(){var e;return!((e=this.view)!=null&&e.ready)||this.view.type==="2d"&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){var e,i;(e=this.view)!=null&&e.ready&&(((i=this.view)==null?void 0:i.type)==="2d"?this.callGoTo({target:{rotation:0},options:{animationMode:"always",duration:XIe()}}):this.callGoTo({target:{heading:0}}))}_updateForRotation(e){e!=null&&this._set("orientation",{z:e})}_updateForCamera(e){if(!e)return;const i=-e.heading;this._set("orientation",{x:0,y:0,z:i})}_updateRotationWatcher(e){this.removeAllHandles(),this._watchForView(),e&&this.addHandles(e.type==="2d"?Le(()=>e==null?void 0:e.rotation,this._updateForRotation,Qr):Le(()=>e==null?void 0:e.camera,this._updateForCamera,Qr))}_watchForView(e){this.addHandles(Le(()=>this.view,this._updateRotationWatcher,e))}};h([f({readOnly:!0})],yd.prototype,"canShowNorth",null),h([f({readOnly:!0})],yd.prototype,"orientation",void 0),h([f({readOnly:!0})],yd.prototype,"state",null),h([f()],yd.prototype,"view",void 0),yd=h([I("esri.widgets.Compass.CompassViewModel")],yd);const dte=yd,_z="esri-compass",Sz={base:_z,iconContainer:`${_z}__icon-container`};let Ol=class extends kg{constructor(e,i){super(e,i),this.messages=null,this.viewModel=new dte,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=r=>({transform:`rotateZ(${r.z}deg)`})}loadDependencies(){return Yw({button:()=>te(()=>import("./index-D8LWW49C.js"),__vite__mapDeps([322,323,324,325,326,327,328,329,330,331,332,333,334,335])),icon:()=>te(()=>import("./index-CHzmsJS-.js").then(e=>e.i),__vite__mapDeps([327,328,329]))})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get icon(){return this.viewModel.state==="rotation"?"arrow-up":"compass-needle"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}reset(){return this.viewModel.reset()}render(){const{orientation:e,state:i}=this.viewModel,{messages:r}=this;return sr("div",{class:this.classes(Sz.base,Zs.widget)},sr("calcite-button",{class:Zs.widgetButton,disabled:i==="disabled",kind:"neutral",label:r.reset,onclick:this._reset,round:!0,scale:"s",title:r.reset},sr("div",{"aria-hidden":"true",class:Sz.iconContainer,title:r.reset},sr("calcite-icon",{icon:this.icon,styles:this._toRotationTransform(e)}))))}};h([f()],Ol.prototype,"goToOverride",null),h([f()],Ol.prototype,"icon",null),h([f()],Ol.prototype,"label",null),h([f(),wp("esri/widgets/Compass/t9n/Compass")],Ol.prototype,"messages",void 0),h([f()],Ol.prototype,"view",null),h([f({type:dte})],Ol.prototype,"viewModel",void 0),Ol=h([I("esri.widgets.Compass")],Ol);const tPe=Ol,xz="esri-navigation-toggle",Tz={base:xz,isLayoutHorizontal:`${xz}--horizontal`};let hm=class extends $e{constructor(t){super(t),this._navigationMode="pan",this.view=null,t!=null&&t.isDefaultViewModel||Hce(se.getLogger(this),"Navigation Toggle","arcgis-navigation-toggle",{version:"4.33"})}normalizeCtorArgs(t={}){const{isDefaultViewModel:e,...i}=t;return i}initialize(){this.addHandles(Sn(()=>{var t,e;return(e=(t=this.view)==null?void 0:t.navigation)==null?void 0:e.actionMap},()=>this._updateNavigationActionMap()))}destroy(){this.view=null}get state(){var t,e;return(t=this.view)!=null&&t.ready&&((e=this.view)==null?void 0:e.type)==="3d"?"ready":"disabled"}get navigationMode(){return this._navigationMode}set navigationMode(t){this._navigationMode=t,this._updateNavigationActionMap()}toggle(){this.state!=="disabled"&&(this.navigationMode=this.navigationMode!=="pan"?"pan":"rotate")}_updateNavigationActionMap(){var i,r;const t=(r=(i=this.view)==null?void 0:i.navigation)==null?void 0:r.actionMap;if(!t)return;const e=this._navigationMode==="pan";t.dragPrimary=e?"pan":"rotate",t.dragSecondary=e?"rotate":"pan"}};h([f({readOnly:!0})],hm.prototype,"state",null),h([f()],hm.prototype,"_navigationMode",void 0),h([f()],hm.prototype,"view",void 0),hm=h([I("esri.widgets.NavigationToggle.NavigationToggleViewModel")],hm);const pte=hm;let kl=class extends kg{constructor(e,i){super(e,i),this.messages=null,this.viewModel=new pte({isDefaultViewModel:!0}),this.toggle=()=>this.viewModel.toggle(),this._panButton=null,this._rotateButton=null,this._toggle=()=>{var s;const r=((s=this.viewModel)==null?void 0:s.navigationMode)==="pan"?this._rotateButton:this._panButton;w6e(r),this.toggle()},e!=null&&e.isDefaultUI||zC(se.getLogger(this),"Navigation Toggle","arcgis-navigation-toggle",{version:"4.32"})}normalizeCtorArgs(e={}){const{isDefaultUI:i,...r}=e;return r}loadDependencies(){return Yw({button:()=>te(()=>import("./index-D8LWW49C.js"),__vite__mapDeps([322,323,324,325,326,327,328,329,330,331,332,333,334,335]))})}get icon(){return"move"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}set layout(e){e!=="horizontal"&&(e="vertical"),this._set("layout",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){var s,n;const e=((s=this.viewModel)==null?void 0:s.state)==="disabled",i=((n=this.viewModel)==null?void 0:n.navigationMode)==="pan",r=this.messages.toggle;return sr("div",{class:this.classes(Tz.base,Zs.widget,{[Tz.isLayoutHorizontal]:this.layout==="horizontal"})},sr("calcite-button",{afterCreate:o=>{this._panButton=o},appearance:i?"outline-fill":"solid",class:Zs.widgetButton,disabled:e,iconStart:"move",kind:"neutral",label:r,onclick:this._toggle,tabIndex:i?void 0:-1,title:r}),sr("calcite-button",{afterCreate:o=>{this._rotateButton=o},appearance:i?"solid":"outline-fill",class:Zs.widgetButton,disabled:e,iconStart:"rotate",kind:"neutral",label:r,onclick:this._toggle,tabIndex:i?-1:void 0,title:r}))}};h([f()],kl.prototype,"icon",null),h([f()],kl.prototype,"label",null),h([f({value:"vertical"})],kl.prototype,"layout",null),h([f(),wp("esri/widgets/NavigationToggle/t9n/NavigationToggle")],kl.prototype,"messages",void 0),h([f()],kl.prototype,"view",null),h([f({type:pte})],kl.prototype,"viewModel",void 0),kl=h([I("esri.widgets.NavigationToggle")],kl);const iPe=kl;let gd=class extends $e{get canZoomIn(){var r,s,n;if(!((r=this.view)==null?void 0:r.ready))return!1;const i=(n=(s=this.view)==null?void 0:s.constraints)==null?void 0:n.effectiveMaxScale;return i===0||this._scale>i}get canZoomOut(){var s;const{view:e}=this;if(!(e==null?void 0:e.ready))return!1;const r=(s=e.constraints)==null?void 0:s.effectiveMinScale;return r===0||this._scale<r}get _scale(){var i,r,s;const e=(r=(i=this.view)==null?void 0:i.animation)==null?void 0:r.target;return(e&&"then"in e||e==null?void 0:e.scale)??((s=this.view)==null?void 0:s.scale)??0}};h([f({readOnly:!0})],gd.prototype,"canZoomIn",null),h([f({readOnly:!0})],gd.prototype,"canZoomOut",null),h([f()],gd.prototype,"view",void 0),h([f()],gd.prototype,"_scale",null),gd=h([I("esri.widgets.Zoom.ZoomConditions2D")],gd);const rPe=gd;let dm=class extends $e{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};h([f({readOnly:!0})],dm.prototype,"canZoomIn",null),h([f({readOnly:!0})],dm.prototype,"canZoomOut",null),h([f()],dm.prototype,"view",void 0),dm=h([I("esri.widgets.Zoom.ZoomConditions3D")],dm);const sPe=dm;let lc=class extends $e{constructor(e){super(e)}destroy(){this.view=null}get canZoomIn(){return this._zoomConditions!=null&&this._zoomConditions.canZoomIn}get canZoomOut(){var e;return this._zoomConditions!=null&&((e=this._zoomConditions)==null?void 0:e.canZoomOut)}get state(){var e;return(e=this.view)!=null&&e.ready?"ready":"disabled"}set view(e){e?e.type==="2d"?this._zoomConditions=new rPe({view:e}):e.type==="3d"&&(this._zoomConditions=new sPe({view:e})):this._zoomConditions=null,this._set("view",e)}zoomIn(){const e=this.view;this.canZoomIn&&e&&(e.type==="2d"?e.mapViewNavigation.zoomIn():j1(e.goTo({zoomFactor:2})))}zoomOut(){const e=this.view;this.canZoomOut&&e&&(e.type==="2d"?e.mapViewNavigation.zoomOut():j1(e.goTo({zoomFactor:.5})))}};h([f()],lc.prototype,"_zoomConditions",void 0),h([f()],lc.prototype,"canZoomIn",null),h([f()],lc.prototype,"canZoomOut",null),h([f({readOnly:!0})],lc.prototype,"state",null),h([f()],lc.prototype,"view",null),lc=h([I("esri.widgets.Zoom.ZoomViewModel")],lc);const fte=lc,$z={base:"esri-zoom",horizontalLayout:"esri-zoom--horizontal"};let Cl=class extends kg{constructor(e,i){super(e,i),this.messages=null,this.viewModel=new fte,this.zoomIn=()=>this.viewModel.zoomIn(),this.zoomOut=()=>this.viewModel.zoomOut()}loadDependencies(){return Yw({button:()=>te(()=>import("./index-D8LWW49C.js"),__vite__mapDeps([322,323,324,325,326,327,328,329,330,331,332,333,334,335]))})}get icon(){return"magnifying-glass-plus"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}set layout(e){e!=="horizontal"&&(e="vertical"),this._set("layout",e)}set view(e){this.viewModel.view=e}get view(){return this.viewModel.view}render(){const e={[$z.horizontalLayout]:this.layout==="horizontal"},{canZoomIn:i,canZoomOut:r}=this.viewModel,{zoomIn:s,zoomOut:n}=this.messages;return sr("div",{class:this.classes($z.base,Zs.widget,e)},sr("calcite-button",{class:Zs.widgetButton,disabled:!i,iconStart:"plus",kind:"neutral",label:s,onclick:this.zoomIn,title:s}),sr("calcite-button",{class:Zs.widgetButton,disabled:!r,iconStart:"minus",kind:"neutral",label:n,onclick:this.zoomOut,title:n}))}};h([f()],Cl.prototype,"icon",null),h([f()],Cl.prototype,"label",null),h([f({value:"vertical"})],Cl.prototype,"layout",null),h([f(),wp("esri/widgets/Zoom/t9n/Zoom")],Cl.prototype,"messages",void 0),h([f()],Cl.prototype,"view",null),h([f({type:fte})],Cl.prototype,"viewModel",void 0),Cl=h([I("esri.widgets.Zoom")],Cl);const nPe=Cl;function oPe(t){return(t==null?void 0:t.view)!==void 0}let $S=class extends S6e{constructor(t){super(t),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=e=>{this.components.forEach(i=>{const r=this._find(i),s=r==null?void 0:r.widget;oPe(s)&&(s.view=e)})},this._componentsWatcher=(e,i)=>{this._removeComponents(i),this._addComponents(e),this._adjustPadding(e)}}initialize(){this.addHandles([Le(()=>this.components,this._componentsWatcher,Qr),Le(()=>this.view,this._updateViewAwareWidgets,Qr)])}_add(t,e,i,r,s){let n=t;if(typeof t=="string"&&this._defaultPositionLookup[t]){if(this._find(t))return;n=this._createComponent(t)}super._add(n,e,i,r,s)}_removeComponents(t){t.forEach(e=>{const i=this._find(e);i&&(this.remove(i),i.destroy())})}_adjustPadding(t){if(!t.includes("attribution")&&!this._isOverridden("padding")){const{top:e}=this.padding;this.padding=e}}_addComponents(t){this.constructed&&t.forEach(e=>this.add(this._createComponent(e),this._defaultPositionLookup[e]))}_createComponent(t){const e=this._createWidget(t);return new _S({id:t,node:e})}_createWidget(t){const e=this.view;switch(t){case"attribution":return new KIe({view:e});case"compass":return new tPe({view:e});case"navigation-toggle":return new iPe({view:e,isDefaultUI:!0});case"zoom":return new nPe({view:e})}}};h([f()],$S.prototype,"components",void 0),$S=h([I("esri.views.ui.DefaultUI")],$S);const mte=$S;let MS=class extends mte{constructor(e){super(e),this.components=["attribution","zoom"]}};h([f()],MS.prototype,"components",void 0),MS=h([I("esri.views.ui.2d.DefaultUI2D")],MS);const yte=MS;let aPe=class{constructor(e={},i={},r=8,s=1/0){this.disabledExtensions=e,this.debugWebGLExtensions=i,this.maxAnisotropy=r,this.maxPreferredTexturePixels=s}};class lPe extends _K{constructor(e,i){super(e,i,"webmap")}}function bE(t){return t!=null&&typeof t=="object"&&"declaredClass"in t&&t.declaredClass==="esri.WebMap"}new lPe(2,35);var iC;let ES=iC=class extends ae{constructor(t){super(t),this.color=new Ne([0,0,0,1])}clone(){return new iC(G({color:this.color}))}};h([f({type:Ne,json:{write:!0}})],ES.prototype,"color",void 0),ES=iC=h([I("esri.webmap.background.ColorBackground")],ES);const uPe=ES;let gte,vte,wte,bte,_te,Ste,xte;async function cPe(){const[,{GraphicsView2D:t,GraphicContainer:e,LabelManager:i,MapViewNavigation:r,MagnifierView2D:s,GridView2D:n,Stage:o}]=await Promise.all([te(()=>import("./webglDeps-CNhsypSh.js"),__vite__mapDeps([221,165,222,223,224,12,59])),te(()=>import("./mapViewDeps-CYPr_Hwl.js"),__vite__mapDeps([225,127,96,97,92,11,12,98,95,99,89,226,227,165,222,223,156,90,228,93,224,59,164,58,229,88,117,230,145,148,10,13,16,22,231,100,101,182,183,33,221,232,112,233,234,144,235,154,155,236,76,87,91,47,46,237,102,238,94,184,185,107,239,103,109,85,240,241,242,243,161,244,245]))]);vte=t,wte=e,bte=i,_te=r,Ste=s,xte=n,gte=o}var ky;let it=(ky=class extends eCe(COe(O5e(eAe(LEe(t4e))))){get timeZone(){return super.timeZone}set timeZone(e){super.timeZone=e}constructor(e){super(e),this._magnifierView=null,this._gridView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new Go({getCollections:()=>{var i,r;return[(i=this.basemapView)==null?void 0:i.baseLayerViews,this.layerViews,(r=this.basemapView)==null?void 0:r.referenceLayerViews]},getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.graphicsView=null,this.labelManager=null,this.navigation=new JT({actionMap:new Z6({dragTertiary:"none"})}),this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.analyses=new Zy,this.analysisViewManager=new JRe({importAnalysisViewModule:i=>qCe(i),view:this}),this.floors=new ge,this.grid=null,this.map=null,this.timeline=new jee,this.type="2d",this.view2dType=null,this.ui=new yte,this.animationsEnabled=!0,this.test={takeScreenshot:async i=>GRe(this._getScreenshotView(i),i)},this.padding={top:0,right:0,bottom:0,left:0},mbe()}destroy(){this.layerViewManager.clear(),this._set("preconditionsReady",!1),this.frameTask=ti(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new QCe(this.featuresTilingScheme)}get constraintsInfo(){var r,s;const e=(r=this.defaultsFromMap)==null?void 0:r.tileInfo,i=this.spatialReference;return{lods:(s=e==null?void 0:e.spatialReference)!=null&&s.equals(i)?e.lods:null,spatialReference:i}}get initialExtentRequired(){var l;if(!this.stateManager)return!1;const{scale:e,constraints:i,center:r,viewpoint:s,extent:n}=this;let o=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&((l=this.map.initialViewProperties)!=null&&l.viewpoint))&&!n&&(i!=null&&i.effectiveLODs||(o=-1),(!r||e===0&&o===-1)&&((s==null?void 0:s.targetGeometry)==null||s.targetGeometry.type!=="extent"&&!s.scale))}get defaultsFromMapSettings(){return{required:{extent:!1,heightModelInfo:!1,tileInfo:!0},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get scheduler(){return this.frameTask.scheduler}get typeSpecificPreconditionsReady(){const e=this._getDefaultViewpoint();if(!e)return!1;const i=e.targetGeometry,r=this.spatialReference;return rX(i.spatialReference,r)}get background(){return bE(this.map)?this.map.initialViewProperties.background:null}set background(e){this._override("background",e)}get center(){var e;return((e=this.stateManager)==null?void 0:e.center)??null}set center(e){this.stateManager.center=e}get constraints(){return super.constraints}set constraints(e){super.constraints=e}get highlightOptions(){return ORe(this)}set highlightOptions(e){kRe(this,e)}get padding(){var e;return(e=this.stateManager)==null?void 0:e.padding}set padding(e){this.stateManager&&(this.stateManager.padding=e)}get rendering(){var e;return((e=this.stage)==null?void 0:e.renderRequested)??!1}get resizeAlign(){return super.resizeAlign}set resizeAlign(e){super.resizeAlign=e}get resolution(){return this.stateManager.resolution??0}get rotation(){return super.rotation}set rotation(e){super.rotation=e}get scale(){var e;return((e=this.stateManager)==null?void 0:e.scale)??0}set scale(e){this.stateManager&&(this.stateManager.scale=e)}get spatialReference(){return super.spatialReference}set spatialReference(e){super.spatialReference=e}get spatialReferenceLocked(){return this._get("spatialReferenceLocked")}set spatialReferenceLocked(e){this.stage&&se.getLogger(this).warn("spatialReferenceLocked cannot be changed after the view has become ready"),this._set("spatialReferenceLocked",e)}get tileInfo(){var e;return(e=this.featuresTilingScheme)==null?void 0:e.tileInfo}get updating(){var r,s,n,o;const e=!(!this.magnifier.visible||this.magnifier.position===null||!((r=this._magnifierView)!=null&&r.updatingHandles.updating)),i=!this.destroyed&&(!this.analysisViewManager||!this.layerViewManager||!this.labelManager||!this.graphicsView||this.analysisViewManager.updating===!0||this.layerViewManager.updating===!0||this.labelManager.updating===!0||this.graphicsView.updating===!0||this.allLayerViews.some(l=>!l.destroyed&&!("layerViews"in l)&&l.updating===!0)||e);if(q("esri-2d-log-updating")){const l=this.allLayerViews.reduce((c,d)=>({...c,[`${d.layer.id}(${d.layer.type})`]:!d.destroyed&&!("layerViews"in d)&&d.updating}),{});console.log(`Updating MapView: ${i}
-> Null LayerViewManager: ${!this.layerViewManager}
-> Null LabelManager: ${!this.labelManager}
-> Null GraphicsView: ${!this.graphicsView}
-> layerViewManager.updating: ${(s=this.layerViewManager)==null?void 0:s.updating}
-> labelManager.updating: ${(n=this.labelManager)==null?void 0:n.updating}
-> graphicsView.updating: ${(o=this.graphicsView)==null?void 0:o.updating}
-> allLayerViews: ${JSON.stringify(l)}
-> updatingMagnifier: ${e}
`)}return i}get viewpoint(){return super.viewpoint}set viewpoint(e){super.viewpoint=e}get visibleArea(){const e=this.stateManager.visibleArea;return e&&new Qt({rings:[e.map(i=>[i[0],i[1]])],spatialReference:this.spatialReference})}get zoom(){return this.stateManager.zoom??-1}set zoom(e){this.stateManager.zoom=e}get navigating(){var e;return((e=this.mapViewNavigation)==null?void 0:e.interacting)??!1}async hitTest(e,i){return CRe(this,e,i)}async takeScreenshot(e){return BRe(this._getScreenshotView(e),e)}toScreen(e,i){return this.stateManager.toScreen(e,i)}async whenAnalysisView(e){if(e.parent==null)throw new B("view:no-analysisview-for-analysis","The analysis does not exist in view.analyses",{analysis:e});return this.analysisViewManager.whenAnalysisView(e)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){this.graphicsView&&this.graphicsView.graphicUpdateHandler(e)}whenReady(){return new Promise(e=>{this.ready?e(this):this._resolveWhenReady.push(e)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){var e;return this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties.spatialReference||((e=this.defaultsFromMap)==null?void 0:e.spatialReference)||null}getDefaultTimeZone(){return bE(this.map)?this.map.initialViewProperties.timeZone:null}getDefaultTimeExtent(){return bE(this.map)?this.map.initialViewProperties.timeExtent:null}getSurface(){return this.surface}hasLayerViewModule(e){return NF.hasLayerViewModule(e)}importLayerView(e){return NF.importLayerView(e)}pixelSizeAt(){return this.ready?this.resolution:(se.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}async popupHitTest(e){var d;const i=this.toMap(e),r=await this.hitTest(e),s=this.allLayerViews.toArray().filter(m=>m.clips.every(v=>Tee(this,v,e,i))).reverse(),n=new globalThis.Map(s.map(m=>[m.layer.uid,m])),o=[];let l=0,c=0;for(;l<r.results.length||c<s.length;){const m=r.results.at(l);if(m&&m.type!=="graphic"){++l;continue}const v=n.get((d=(m==null?void 0:m.layer)??(m==null?void 0:m.graphic.layer))==null?void 0:d.uid);if((!m||v)&&c<s.length&&s.at(c)!==v){const w=s.at(c);"fetchPopupFeaturesAtLocation"in w&&o.push({mapPoint:i,layerView:w}),++c}else m&&(o.push({graphic:m.graphic,layerView:v}),++l)}return{hits:o,location:i}}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}async validate(){let e=r6e(this.type);if(q("safari")&&q("safari")<9&&(e=new B("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:q("safari")})),e!=null)throw se.getLogger(this).warn("#validate()",e.message),e}loadAsyncDependencies(){return cPe()}_getDefaultViewpoint(){var M;const{constraints:e,initialExtent:i,map:r,padding:s,size:n}=this;if(!e)return null;const o=r&&"initialViewProperties"in r?r.initialViewProperties:void 0,l=this.stateManager.getUserStartupOptions(this.size),c=o==null?void 0:o.viewpoint,d=((M=c==null?void 0:c.targetGeometry)==null?void 0:M.extent)??i,m=d==null?void 0:d.center,v=(c==null?void 0:c.rotation)??0,w=(c==null?void 0:c.scale)||d&&XT(d,[n[0]-s.left-s.right,n[1]-s.top-s.bottom]),_=l.center??m,x=l.rotation??v,T=l.scale??w;return _&&T?new Ws({targetGeometry:_,scale:T,rotation:x}):null}_startup(){var c;this.timeline.begin("MapView Startup");const e=this._getDefaultViewpoint();this.stateManager.startup(e,this.size,this.spatialReference,(c=this.defaultsFromMap.extent)==null?void 0:c.center),this.graphics.owner=this;const i=new BCe(this.surface),r=new gte(this.surface,{canvas:this.renderCanvas,contextOptions:new aPe(this.deactivatedWebGLExtensions,this.debugWebGLExtensions),renderingOptions:this.renderingOptions,timeline:this.timeline},i);this.stage=r,this._magnifierView=new Ste,this._magnifierView.magnifier=this.magnifier,this._gridView=new xte;const s=new bte({view:this});this._set("labelManager",s);const n=new RCe({view:this});this._set("animationManager",n);const o=new _te({view:this,animationManager:n});this._set("mapViewNavigation",o),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",()=>this._updateStageChildren()),r.on("webgl-error",d=>this.fatalError=d.error),Le(()=>this.stationary,d=>r.stationary=d,qr),Le(()=>this.background,d=>{r.backgroundColor=d==null?void 0:d.color,this._magnifierView.backgroundColor=d==null?void 0:d.color},qr),Le(()=>this.magnifier,d=>this._magnifierView.magnifier=d,qr),Le(()=>this.grid,d=>this._gridView.grid=d,qr),Le(()=>this.renderingOptions,d=>r.renderingOptions=d,qr),Le(()=>this.highlights.items.map(d=>({name:d.name,options:{fillColor:d.color,haloColor:d.haloColor,fillOpacity:d.fillOpacity,haloOpacity:d.haloOpacity,haloWidth:d.haloWidth,haloBlur:d.haloBlur}})),()=>{r.highlightGradient=ERe(r.highlightGradient,this.highlights.items)},qr),Le(()=>this.state.id,()=>r.state=this.state,qr),Le(()=>this.animationsEnabled,d=>{this.stage.animationsEnabled=d},qr)],"map-view"),this._updateStageChildren();const l=this._resolveWhenReady;this._resolveWhenReady=[],l.forEach(d=>d(this)),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animation=null,this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._gridView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._gridView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown()}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach(i=>{this.stage.addChild(i.container)});const e=this.graphicsView;this.stage.addChild(e.container),this.stage.addChild(this._magnifierView),this.stage.addChild(this._gridView)}_setupSpatialReferenceDependentProperties(){const e=new LCe(ns.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",e);const i=new vte({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new wte(e)});this._set("graphicsView",i)}_destroySpatialReferenceDependentProperties(){const e=this.graphicsView;this._set("graphicsView",null),e.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(e){var o;const{allLayerViews:i,padding:r,size:s,stage:n}=this;return{allLayerViews:i,backgroundColor:e!=null&&e.ignoreBackground?null:(o=this.background)==null?void 0:o.color,padding:r,size:s,stage:n}}_spatialReferenceChanged(e){if(this.ready){this.frameTask.stop();for(const i of this.allLayerViews)i.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(e),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const i of this.allLayerViews)i.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}},ky.type="2d",ky);h([f({constructOnly:!0})],it.prototype,"deactivatedWebGLExtensions",void 0),h([f({constructOnly:!0})],it.prototype,"debugWebGLExtensions",void 0),h([f({readOnly:!0})],it.prototype,"featuresTilingScheme",void 0),h([f({readOnly:!0})],it.prototype,"graphicsTileStore",null),h([f()],it.prototype,"graphicsView",void 0),h([f()],it.prototype,"constraintsInfo",null),h([f()],it.prototype,"initialExtentRequired",null),h([f()],it.prototype,"labelManager",void 0),h([f({type:JT,nonNullable:!0})],it.prototype,"navigation",void 0),h([f({constructOnly:!0})],it.prototype,"renderCanvas",void 0),h([f()],it.prototype,"renderingOptions",void 0),h([f({constructOnly:!0})],it.prototype,"supersampleScreenshotsEnabled",void 0),h([f()],it.prototype,"defaultsFromMapSettings",null),h([f({readOnly:!0})],it.prototype,"typeSpecificPreconditionsReady",null),h([f(Sk(Zy,"analyses"))],it.prototype,"analyses",void 0),h([f()],it.prototype,"analysisViewManager",void 0),h([f({type:uPe})],it.prototype,"background",null),h([f()],it.prototype,"center",null),h([f({type:ge})],it.prototype,"floors",void 0),h([f()],it.prototype,"grid",void 0),h([f({type:jc})],it.prototype,"highlightOptions",null),h([f()],it.prototype,"map",void 0),h([f()],it.prototype,"padding",null),h([f({readOnly:!0})],it.prototype,"rendering",null),h([f({readOnly:!0})],it.prototype,"resolution",null),h([f()],it.prototype,"scale",null),h([f({type:Boolean,value:!1})],it.prototype,"spatialReferenceLocked",null),h([f({readOnly:!0})],it.prototype,"tileInfo",null),h([f({type:jee,readOnly:!0})],it.prototype,"timeline",void 0),h([f({readOnly:!0})],it.prototype,"type",void 0),h([f({readOnly:!0})],it.prototype,"updating",null),h([f({readOnly:!0})],it.prototype,"view2dType",void 0),h([f({readOnly:!0})],it.prototype,"visibleArea",null),h([f()],it.prototype,"zoom",null),h([f({readOnly:!0})],it.prototype,"navigating",null),h([f(),Ot(t=>t instanceof mte?t:Tw(yte,t))],it.prototype,"ui",void 0),h([f()],it.prototype,"animationsEnabled",void 0),it=h([I("esri.views.View2D")],it);const hPe=it;let AS=class extends hPe{constructor(e){super(e),this.view2dType="map"}};h([f({readOnly:!0})],AS.prototype,"view2dType",void 0),AS=h([I("esri.views.MapView")],AS);const dPe=AS;let Rl=class extends $e{constructor(t){super(t),this._vendorInfo=null,this._fullscreenStyle="width: 100%; height: 100%;",this.view=null,this._errorHandler=this._errorHandler.bind(this),this._stateHandler=this._stateHandler.bind(this),t!=null&&t.isDefaultViewModel||Wce(se.getLogger("esri.widgets.Fullscreen.FullscreenViewModel"),"esri.widgets.Fullscreen.FullscreenViewModel",{replacement:"Fullscreen API",version:"4.33",see:"https://developer.mozilla.org/en-US/docs/Web/API/Fullscreen_API",warnOnce:!0})}normalizeCtorArgs(t={}){const{isDefaultViewModel:e,...i}=t;return i}destroy(){this._removeFullscreenListeners(),this.view=null}get element(){var t;return((t=this.view)==null?void 0:t.container)??null}set element(t){this._override("element",t)}get state(){return this.element?this._isSupported()?this._isActive()?"active":"ready":"feature-unsupported":"disabled"}enter(){this._enterFullscreen()}exit(){this._exitFullscreen()}toggle(){this._isActive()?this._exitFullscreen():this._enterFullscreen()}_isSupported(){this._removeFullscreenListeners();const t=this._getVendorInfo(this.element);return this._addFullscreenListeners(t),this._vendorInfo=t,!!t}_isActive(){return!!this._vendorInfo&&!!document[this._vendorInfo.propertyName]}_stateHandler(){this.notifyChange("state"),this.state==="active"?this._addStyle():this._removeStyle()}_errorHandler(t){se.getLogger(this).error("fullscreen request failed",t)}_getVendorInfo(t){if(t)return t.requestFullscreen?{enterName:"requestFullscreen",exitName:"exitFullscreen",errorEventName:"fullscreenerror",changeEventName:"fullscreenchange",propertyName:"fullscreen"}:t.webkitRequestFullScreen?{enterName:"webkitRequestFullscreen",exitName:"webkitCancelFullScreen",errorEventName:"webkitfullscreenerror",changeEventName:"webkitfullscreenchange",propertyName:"webkitIsFullScreen"}:t.mozRequestFullScreen?{enterName:"mozRequestFullScreen",exitName:"mozCancelFullScreen",errorEventName:"mozfullscreenerror",changeEventName:"mozfullscreenchange",propertyName:"mozFullScreen"}:void 0}_enterFullscreen(){if(this.state==="feature-unsupported")return void se.getLogger(this).warn("The fullscreen API is not supported in this browser.");const{element:t}=this;t&&(this._vendorInfo&&t[this._vendorInfo.enterName].call(t),this.notifyChange("state"))}_addStyle(){const{element:t}=this;t&&t.setAttribute("style",this._fullscreenStyle)}_removeStyle(){const{element:t}=this;t&&t.removeAttribute("style")}_exitFullscreen(){if(this.state==="feature-unsupported")return;const{element:t}=this;t&&(this._vendorInfo&&document[this._vendorInfo.exitName].call(document),this.notifyChange("state"))}_addFullscreenListeners(t){t&&(document.addEventListener(t.changeEventName,this._stateHandler),document.addEventListener(t.errorEventName,this._errorHandler))}_removeFullscreenListeners(){const{_vendorInfo:t}=this;t&&(document.removeEventListener(t.changeEventName,this._stateHandler),document.removeEventListener(t.errorEventName,this._errorHandler))}};h([f()],Rl.prototype,"element",null),h([f({readOnly:!0})],Rl.prototype,"state",null),h([f()],Rl.prototype,"view",void 0),h([f()],Rl.prototype,"enter",null),h([f()],Rl.prototype,"exit",null),h([f()],Rl.prototype,"toggle",null),Rl=h([I("esri.widgets.Fullscreen.FullscreenViewModel")],Rl);const Tte=Rl,pPe={base:"esri-fullscreen"};let xa=class extends kg{constructor(e,i){super(e,i),this.messages=null,this.viewModel=new Tte({isDefaultViewModel:!0}),this._toggle=()=>{this.viewModel.toggle()},zC(se.getLogger(this),"Fullscreen","arcgis-fullscreen",{version:"4.32"})}loadDependencies(){return Yw({button:()=>te(()=>import("./index-D8LWW49C.js"),__vite__mapDeps([322,323,324,325,326,327,328,329,330,331,332,333,334,335]))})}get element(){return this.viewModel.element}set element(e){this.viewModel.element=e}get fullscreenTitle(){var i;const e=(i=this.viewModel)==null?void 0:i.state;return e==="active"?this.messages.exit:e==="ready"?this.messages.enter:""}get icon(){var i;const e=(i=this.viewModel)==null?void 0:i.state;return e==="ready"||e==="disabled"||e==="feature-unsupported"?"zoom-out-fixed":"zoom-in-fixed"}set icon(e){this._overrideIfSome("icon",e)}get label(){var e;return((e=this.messages)==null?void 0:e.widgetLabel)??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){var n;const{fullscreenTitle:e,icon:i}=this,r=(n=this.viewModel)==null?void 0:n.state,s=r==="feature-unsupported";return sr("div",{class:this.classes(pPe.base,Zs.widget)},!s&&sr("calcite-button",{class:Zs.widgetButton,disabled:r==="disabled",iconStart:i,kind:"neutral",label:e,onclick:this._toggle,title:e}))}};h([f()],xa.prototype,"element",null),h([f({readOnly:!0})],xa.prototype,"fullscreenTitle",null),h([f()],xa.prototype,"icon",null),h([f()],xa.prototype,"label",null),h([f(),wp("esri/widgets/Fullscreen/t9n/Fullscreen")],xa.prototype,"messages",void 0),h([f()],xa.prototype,"view",null),h([f({type:Tte})],xa.prototype,"viewModel",void 0),xa=h([I("esri.widgets.Fullscreen")],xa);const fPe=xa;let Il=class extends hte(dg){constructor(t){super(t),this._initialViewpoint=null,this._goingHomeController=null,this.go=this.go.bind(this)}destroy(){this._cancelGo(),this.view=null}get state(){var t;return(t=this.view)!=null&&t.ready?this._goingHomeController?"going-home":"ready":"disabled"}set view(t){this._initialViewpoint=null,this._set("view",t),t&&t.when().then(()=>{this.view===t&&(this._initialViewpoint=t.viewpoint.clone(),this.notifyChange("viewpoint"))})}get viewpoint(){return this._get("viewpoint")||this._initialViewpoint}set viewpoint(t){this._set("viewpoint",t)}async go(){var e,i;if(!((e=this.view)!=null&&e.ready))throw new B("home:disabled-state","Cannot go when disabled.");this._cancelGo(),this.emit("go");const t=new AbortController;this._goingHomeController=t;try{await((i=this.view)==null?void 0:i.when()),await this.callGoTo({target:this.viewpoint,options:{signal:t.signal}})}catch{}this._goingHomeController=null}cancelGo(){this._cancelGo()}_cancelGo(){const{_goingHomeController:t}=this;t&&t.abort(),this._goingHomeController=null}};h([f()],Il.prototype,"_goingHomeController",void 0),h([f({readOnly:!0})],Il.prototype,"state",null),h([f()],Il.prototype,"view",null),h([f({type:Ws})],Il.prototype,"viewpoint",null),h([f()],Il.prototype,"go",null),h([f()],Il.prototype,"cancelGo",null),Il=h([I("esri.widgets.Home.HomeViewModel")],Il);const $te=Il;function mPe(t){return e=>{e.hasOwnProperty("_delegatedEventNames")||(e._delegatedEventNames=e._delegatedEventNames?e._delegatedEventNames.slice():[]);const i=e._delegatedEventNames;t=Array.isArray(t)?t:yPe(t),i.push(...t)}}function yPe(t){return t.split(",").map(e=>e.trim())}const gPe={base:"esri-home"};let Hn=class extends kg{constructor(t,e){super(t,e),this.messages=null,this.messagesCommon=null,this.uiStrings=void 0,this.viewModel=new $te,this._go=()=>{const{viewModel:i}=this;i.state==="going-home"?i.cancelGo():i.go()},zC(se.getLogger(this),"Home","arcgis-home",{version:"4.32"})}loadDependencies(){return Yw({button:()=>te(()=>import("./index-D8LWW49C.js"),__vite__mapDeps([322,323,324,325,326,327,328,329,330,331,332,333,334,335])),loader:()=>te(()=>import("./index-CnzO4xjI.js"),__vite__mapDeps([323,324,325,326]))})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get icon(){return"home"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}get viewpoint(){return this.viewModel.viewpoint}set viewpoint(t){this.viewModel.viewpoint=t}cancelGo(){this.viewModel.cancelGo()}go(){return this.viewModel.go()}render(){var n;const{messagesCommon:t,messages:e,icon:i}=this,r=(n=this.viewModel)==null?void 0:n.state,s=r==="going-home";return sr("div",{class:this.classes(gPe.base,Zs.widget)},sr("calcite-button",{class:Zs.widgetButton,disabled:r==="disabled",iconStart:s?void 0:i,kind:"neutral",label:e.widgetLabel,onclick:this._go,scale:s?"s":"m",title:r==="going-home"?t.cancel:e.title},s?sr("calcite-loader",{inline:!0,label:""}):null))}};h([f()],Hn.prototype,"goToOverride",null),h([f()],Hn.prototype,"icon",null),h([f()],Hn.prototype,"label",null),h([f(),wp("esri/widgets/Home/t9n/Home")],Hn.prototype,"messages",void 0),h([f(),wp("esri/t9n/common")],Hn.prototype,"messagesCommon",void 0),h([f()],Hn.prototype,"uiStrings",void 0),h([f()],Hn.prototype,"view",null),h([f({type:$te}),mPe("go")],Hn.prototype,"viewModel",void 0),h([f({type:Ws})],Hn.prototype,"viewpoint",null),Hn=h([I("esri.widgets.Home")],Hn);const vPe=Hn,wPe={type:"unique-value",field:"taxon_class",uniqueValueInfos:[{value:"Plantae",symbol:{type:"simple-marker",color:[34,139,34],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Plantae (Plants)"},{value:"Animalia",symbol:{type:"simple-marker",color:[255,99,71],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Animalia (Animals)"},{value:"Mollusca",symbol:{type:"simple-marker",color:[238,130,238],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Mollusca (Mollusks)"},{value:"Arthropoda",symbol:{type:"simple-marker",color:[255,215,0],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Arthropoda (Arthropods)"},{value:"Chordata",symbol:{type:"simple-marker",color:[70,130,180],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Chordata (Chordates)"},{value:"Fungi",symbol:{type:"simple-marker",color:[128,0,128],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Fungi (Fungi)"},{value:"Cnidaria",symbol:{type:"simple-marker",color:[255,182,193],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Cnidaria (Cnidarians)"},{value:"Annelida",symbol:{type:"simple-marker",color:[255,69,0],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Annelida (Annelids)"},{value:"Echinodermata",symbol:{type:"simple-marker",color:[0,191,255],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Echinodermata (Echinoderms)"},{value:"Platyhelminthes",symbol:{type:"simple-marker",color:[255,105,180],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Platyhelminthes (Flatworms)"},{value:"Nematoda",symbol:{type:"simple-marker",color:[0,255,0],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Nematoda (Nematodes)"},{value:"Aves",symbol:{type:"simple-marker",color:[135,206,235],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Aves (Birds)"},{value:"Mammalia",symbol:{type:"simple-marker",color:[139,69,19],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Mammalia (Mammals)"},{value:"Reptilia",symbol:{type:"simple-marker",color:[34,139,34],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Reptilia (Reptiles)"},{value:"Amphibia",symbol:{type:"simple-marker",color:[0,255,0],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Amphibia (Amphibians)"},{value:"Chondrichthyes",symbol:{type:"simple-marker",color:[70,130,180],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Chondrichthyes (Cartilaginous Fish)"},{value:"Actinopterygii",symbol:{type:"simple-marker",color:[0,191,255],size:"10px",outline:{color:[255,255,255],width:"1px"}},label:"Actinopterygii (Ray-Finned Fish)"}]},bPe={labelExpressionInfo:{expression:"$feature.common_name"},symbol:{type:"text",color:"black",haloColor:"white",haloSize:"1px",font:{size:8,family:"Arial",weight:"bold"}},labelPlacement:"above-center"},_Pe={title:"{common_name} - {taxon_class}",overwriteActions:!0,content:`
        <div style="text-align: center;">
            <img src="{image_url}" alt="{scientific_name}" style="display:block; margin-left: auto; margin-right: auto; width:400px; height:auto" />
        </div>
    `},SPe={type:"simple",symbol:{type:"simple-line",color:"black",width:1,style:"solid"},effect:"bloom(1.5, 0.5px, 0)"},xPe=async(t,e,i,r,s)=>{window.scrollTo(0,0);const o=await(await fetch(t)).json();i(o);const l=await new ck({url:t,renderer:wPe,labelsVisible:!0,labelingInfo:bPe,popupTemplate:_Pe}).load(),c=await new ck({url:e,renderer:SPe}).load(),d=c.createQuery();d.where="1=1",r((await c.queryFeatures(d)).features[0].attributes);const m=await c.queryExtent(),v=new TX({basemap:"topo-vector",layers:[c,l]}),w=new dPe({map:v,container:s.current,extent:m.extent.expand(1.7),popupEnabled:!0,popup:{dockEnabled:!0,dockOptions:{buttonEnabled:!1,breakpoint:!1}}}),_=new fPe({view:w});let x=new vPe({view:w});w.ui.add([_,x],"top-right")};function TPe(t){return Js({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M1.22 5.222a.75.75 0 0 1 1.06 0L7 9.942l3.768-3.769a.75.75 0 0 1 1.113.058 20.908 20.908 0 0 1 3.813 7.254l1.574-2.727a.75.75 0 0 1 1.3.75l-2.475 4.286a.75.75 0 0 1-1.025.275l-4.287-2.475a.75.75 0 0 1 .75-1.3l2.71 1.565a19.422 19.422 0 0 0-3.013-6.024L7.53 11.533a.75.75 0 0 1-1.06 0l-5.25-5.25a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"},child:[]}]})(t)}function Mte(t){return Js({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.577 4.878a.75.75 0 0 1 .919-.53l4.78 1.281a.75.75 0 0 1 .531.919l-1.281 4.78a.75.75 0 0 1-1.449-.387l.81-3.022a19.407 19.407 0 0 0-5.594 5.203.75.75 0 0 1-1.139.093L7 10.06l-4.72 4.72a.75.75 0 0 1-1.06-1.061l5.25-5.25a.75.75 0 0 1 1.06 0l3.074 3.073a20.923 20.923 0 0 1 5.545-4.931l-3.042-.815a.75.75 0 0 1-.53-.919Z",clipRule:"evenodd"},child:[]}]})(t)}function $Pe(t){return Js({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M5.25 12a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H6a.75.75 0 0 1-.75-.75V12ZM6 13.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V14a.75.75 0 0 0-.75-.75H6ZM7.25 12a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H8a.75.75 0 0 1-.75-.75V12ZM8 13.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V14a.75.75 0 0 0-.75-.75H8ZM9.25 10a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H10a.75.75 0 0 1-.75-.75V10ZM10 11.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V12a.75.75 0 0 0-.75-.75H10ZM9.25 14a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H10a.75.75 0 0 1-.75-.75V14ZM12 9.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V10a.75.75 0 0 0-.75-.75H12ZM11.25 12a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H12a.75.75 0 0 1-.75-.75V12ZM12 13.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V14a.75.75 0 0 0-.75-.75H12ZM13.25 10a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H14a.75.75 0 0 1-.75-.75V10ZM14 11.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V12a.75.75 0 0 0-.75-.75H14Z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M5.75 2a.75.75 0 0 1 .75.75V4h7V2.75a.75.75 0 0 1 1.5 0V4h.25A2.75 2.75 0 0 1 18 6.75v8.5A2.75 2.75 0 0 1 15.25 18H4.75A2.75 2.75 0 0 1 2 15.25v-8.5A2.75 2.75 0 0 1 4.75 4H5V2.75A.75.75 0 0 1 5.75 2Zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75Z",clipRule:"evenodd"},child:[]}]})(t)}function MPe(t){return Js({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10.75 10.818v2.614A3.13 3.13 0 0 0 11.888 13c.482-.315.612-.648.612-.875 0-.227-.13-.56-.612-.875a3.13 3.13 0 0 0-1.138-.432ZM8.33 8.62c.053.055.115.11.184.164.208.16.46.284.736.363V6.603a2.45 2.45 0 0 0-.35.13c-.14.065-.27.143-.386.233-.377.292-.514.627-.514.909 0 .184.058.39.202.592.037.051.08.102.128.152Z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-8-6a.75.75 0 0 1 .75.75v.316a3.78 3.78 0 0 1 1.653.713c.426.33.744.74.925 1.2a.75.75 0 0 1-1.395.55 1.35 1.35 0 0 0-.447-.563 2.187 2.187 0 0 0-.736-.363V9.3c.698.093 1.383.32 1.959.696.787.514 1.29 1.27 1.29 2.13 0 .86-.504 1.616-1.29 2.13-.576.377-1.261.603-1.96.696v.299a.75.75 0 1 1-1.5 0v-.3c-.697-.092-1.382-.318-1.958-.695-.482-.315-.857-.717-1.078-1.188a.75.75 0 1 1 1.359-.636c.08.173.245.376.54.569.313.205.706.353 1.138.432v-2.748a3.782 3.782 0 0 1-1.653-.713C6.9 9.433 6.5 8.681 6.5 7.875c0-.805.4-1.558 1.097-2.096a3.78 3.78 0 0 1 1.653-.713V4.75A.75.75 0 0 1 10 4Z",clipRule:"evenodd"},child:[]}]})(t)}function EPe(t){return Js({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"m9.69 18.933.003.001C9.89 19.02 10 19 10 19s.11.02.308-.066l.002-.001.006-.003.018-.008a5.741 5.741 0 0 0 .281-.14c.186-.096.446-.24.757-.433.62-.384 1.445-.966 2.274-1.765C15.302 14.988 17 12.493 17 9A7 7 0 1 0 3 9c0 3.492 1.698 5.988 3.355 7.584a13.731 13.731 0 0 0 2.273 1.765 11.842 11.842 0 0 0 .976.544l.062.029.018.008.006.003ZM10 11.25a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5Z",clipRule:"evenodd"},child:[]}]})(t)}function APe(t){return Js({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 2a.75.75 0 0 1 .75.75v.258a33.186 33.186 0 0 1 6.668.83.75.75 0 0 1-.336 1.461 31.28 31.28 0 0 0-1.103-.232l1.702 7.545a.75.75 0 0 1-.387.832A4.981 4.981 0 0 1 15 14c-.825 0-1.606-.2-2.294-.556a.75.75 0 0 1-.387-.832l1.77-7.849a31.743 31.743 0 0 0-3.339-.254v11.505a20.01 20.01 0 0 1 3.78.501.75.75 0 1 1-.339 1.462A18.558 18.558 0 0 0 10 17.5c-1.442 0-2.845.165-4.191.477a.75.75 0 0 1-.338-1.462 20.01 20.01 0 0 1 3.779-.501V4.509c-1.129.026-2.243.112-3.34.254l1.771 7.85a.75.75 0 0 1-.387.83A4.98 4.98 0 0 1 5 14a4.98 4.98 0 0 1-2.294-.556.75.75 0 0 1-.387-.832L4.02 5.067c-.37.07-.738.148-1.103.232a.75.75 0 0 1-.336-1.462 32.845 32.845 0 0 1 6.668-.829V2.75A.75.75 0 0 1 10 2ZM5 7.543 3.92 12.33a3.499 3.499 0 0 0 2.16 0L5 7.543Zm10 0-1.08 4.787a3.498 3.498 0 0 0 2.16 0L15 7.543Z",clipRule:"evenodd"},child:[]}]})(t)}function OPe(t){return Js({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401Z",clipRule:"evenodd"},child:[]}]})(t)}function kPe(t){return Js({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32c12.5 0 24.1 6.4 30.8 17L503.4 394.4c5.6 8.9 8.6 19.2 8.6 29.7c0 30.9-25 55.9-55.9 55.9L55.9 480C25 480 0 455 0 424.1c0-10.5 3-20.8 8.6-29.7L225.2 49c6.6-10.6 18.3-17 30.8-17zm65 192L256 120.4 176.9 246.5l18.3 24.4c6.4 8.5 19.2 8.5 25.6 0l25.6-34.1c6-8.1 15.5-12.8 25.6-12.8l49 0z"},child:[]}]})(t)}const CPe=({blogTexts:t,hikeData:e,togglePhotos:i})=>$.jsxs("div",{className:"w-full",children:[$.jsxs("div",{className:"border-b-2 border-orange-300 mb-4 pb-4",children:[$.jsx("p",{className:"select-none cursor-pointer self-center text-4xl pb-2 mt-6 md:mt-6 mb-3 hover:bg-orange-200 hover:p-1",children:t.title}),$.jsx(Ete,{togglePhotos:i})]}),$.jsxs("div",{className:"flex flex-col flex-wrap justify-end pb-8 text-gray-700 space-y-1 w-full",children:[$.jsxs("div",{className:"flex flex-row items-center gap-3",children:[$.jsx(EPe,{className:"text-gray-600 text-xl"}),$.jsx("p",{children:t.address})]}),$.jsxs("div",{className:"flex flex-row items-center gap-3",children:[$.jsx(MPe,{className:"text-gray-600 text-xl"}),$.jsx("p",{children:t.cost})]}),$.jsxs("div",{className:"flex flex-row items-center gap-3",children:[$.jsx(Mte,{className:"text-gray-600 text-xl"}),$.jsxs("p",{children:[e==null?void 0:e.distance.toFixed(2)," km"]})]}),$.jsxs("div",{className:"flex flex-row items-center gap-3",children:[$.jsx(kPe,{className:"text-gray-600 text-xl"}),$.jsxs("p",{children:[e==null?void 0:e.totalElevationGain.toFixed(2)," m"]})]}),$.jsxs("div",{className:"flex flex-row items-center gap-3",children:[$.jsx($Pe,{className:"text-gray-600 text-xl"}),$.jsx("p",{children:t.date})]})]})]}),Ete=({togglePhotos:t})=>$.jsx("div",{className:"",children:$.jsx("button",{onClick:t,className:"select-none bg-orange-200 cursor-pointer transition hover:bg-orange-300 font-semibold rounded-lg p-3 hover:shadow-lg",children:"INaturalist Photos"})}),RPe=({mapRef:t})=>$.jsx("div",{className:"flex flex-row flex-wrap justify-center h-max",children:$.jsx("div",{style:{margin:0,padding:0},className:"md:h-[60vh] md:w-[100VW] w-[100VW] h-[50VH]",ref:t})}),IPe=({blogTexts:t,hikeData:e})=>$.jsxs("div",{className:"flex flex-col gap-3 flex-wrap pt-4 w-full md:flex-row justify-between text-gray-700",children:[$.jsxs("div",{className:"flex flex-row items-center gap-3",children:[$.jsx(Mte,{className:"text-gray-600 text-xl"}),$.jsxs("p",{children:["Max Elevation: ",e==null?void 0:e.maxElevation.toFixed(2)," m"]})]}),$.jsxs("div",{className:"flex flex-row items-center gap-3",children:[$.jsx(TPe,{className:"text-gray-600 text-xl"}),$.jsxs("p",{children:["Minimum Elevation: ",e==null?void 0:e.minElevation.toFixed(2)," m"]})]}),$.jsxs("div",{className:"flex flex-row items-center gap-3",children:[$.jsx(APe,{className:"text-gray-600 text-xl"}),$.jsxs("p",{children:["Difficulty: ",t.difficulty]})]}),$.jsxs("div",{className:"flex flex-row items-center gap-3",children:[$.jsx(OPe,{className:"text-gray-600 text-xl"}),$.jsxs("p",{children:["Rating: ",t.rating]})]})]});function PPe({features:t,togglePhotos:e,open:i}){return i?$.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",onClick:e,children:$.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-5xl w-full mx-4 overflow-hidden relative",onClick:r=>r.stopPropagation(),children:[$.jsxs("div",{className:"flex justify-between items-center p-4 border-b bg-gradient-to-r from-orange-500 to-amber-500 text-white",children:[$.jsx("h2",{className:"text-lg font-semibold",children:"iNaturalist Photos"}),$.jsx("button",{onClick:e,className:"text-white hover:text-amber-200 transition p-2",children:""})]}),$.jsx("div",{className:"p-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 overflow-y-auto max-h-[80vh]",children:t.map((r,s)=>$.jsxs("div",{className:"flex flex-col text-center",children:[$.jsx("img",{src:r.properties.image_url,alt:`Image ${s+1}`,className:"rounded-xl shadow-md object-cover w-full h-48 hover:scale-105 transition-transform"},s),$.jsx("p",{className:"mt-2 text-center font-medium ",children:r.properties.common_name||"Unknown"}),"            "]}))})]})}):null}const jPe=()=>{const{slug:t}=Jz(),[e,i]=H.useState(null),r=H.useRef(null),[s,n]=H.useState(null),[o,l]=H.useState(void 0),[c,d]=H.useState();if(H.useEffect(()=>{const w=Object.assign({"./blogs/ampersand-mountain/index.tsx":()=>te(()=>Promise.resolve().then(()=>vce),void 0),"./blogs/bell-canyon/index.tsx":()=>te(()=>Promise.resolve().then(()=>wce),void 0),"./blogs/blue-mountain/index.tsx":()=>te(()=>Promise.resolve().then(()=>bce),void 0),"./blogs/bruce-peninsula/index.tsx":()=>te(()=>Promise.resolve().then(()=>_ce),void 0),"./blogs/buggy-ride/index.tsx":()=>te(()=>Promise.resolve().then(()=>Sce),void 0),"./blogs/coney-mountain/index.tsx":()=>te(()=>Promise.resolve().then(()=>xce),void 0),"./blogs/findlay-drainage/index.tsx":()=>te(()=>Promise.resolve().then(()=>Tce),void 0),"./blogs/hidden-falls/index.tsx":()=>te(()=>Promise.resolve().then(()=>$ce),void 0),"./blogs/hitchcock/index.tsx":()=>te(()=>Promise.resolve().then(()=>Mce),void 0),"./blogs/holiday-beach/index.tsx":()=>te(()=>Promise.resolve().then(()=>Ece),void 0),"./blogs/idaho-foothills/index.tsx":()=>te(()=>Promise.resolve().then(()=>Ace),void 0),"./blogs/jacks-peak/index.tsx":()=>te(()=>Promise.resolve().then(()=>Oce),void 0),"./blogs/king-mountain/index.tsx":()=>te(()=>Promise.resolve().then(()=>kce),void 0),"./blogs/mer-bleu/index.tsx":()=>te(()=>Promise.resolve().then(()=>Cce),void 0),"./blogs/pine-grove/index.tsx":()=>te(()=>Promise.resolve().then(()=>Rce),void 0),"./blogs/point-pelee/index.tsx":()=>te(()=>Promise.resolve().then(()=>Ice),void 0),"./blogs/salish-trail/index.tsx":()=>te(()=>Promise.resolve().then(()=>Pce),void 0),"./blogs/salt-lake/index.tsx":()=>te(()=>Promise.resolve().then(()=>jce),void 0),"./blogs/slc-foothills/index.tsx":()=>te(()=>Promise.resolve().then(()=>Nce),void 0),"./blogs/table-rock/index.tsx":()=>te(()=>Promise.resolve().then(()=>Dce),void 0),"./blogs/terra-nova/index.tsx":()=>te(()=>Promise.resolve().then(()=>Lce),void 0),"./blogs/top-trail/index.tsx":()=>te(()=>Promise.resolve().then(()=>Vce),void 0),"./blogs/wolf-trail/index.tsx":()=>te(()=>Promise.resolve().then(()=>Fce),void 0)}),_=`./blogs/${t}/index.tsx`;w[_]&&w[_]().then(x=>i(x.default))},[t]),H.useEffect(()=>{e&&xPe(e.iNatTrailPath,e.geojsonTrailPath,n,d,r)},[e]),console.log(e),console.log(s),!e||s===null)return $.jsx("p",{className:"p-10 text-center",children:"Loading..."});const m={title:e.title,address:e.address,cost:e.cost,date:e.date,difficulty:e.difficulty,rating:e.rating},v=()=>l(o?void 0:!0);return $.jsxs("div",{className:"flex flex-col font-mono min-h-screen overflow-x-hidden",children:[$.jsxs("div",{className:"flex flex-col p-2 bg-gray-50 flex-grow px-7 md:px-32",children:[$.jsx(CPe,{blogTexts:m,hikeData:c,togglePhotos:v}),$.jsx("div",{className:"pb-4",children:e.content()}),$.jsx("div",{className:"pb-2",children:$.jsx(Ete,{togglePhotos:v})}),$.jsx(RPe,{mapRef:r}),$.jsx(IPe,{blogTexts:m,hikeData:c})]}),$.jsx(PPe,{features:s.features,togglePhotos:v,open:o})]})},Ate={slug:"arcgis-js-sdk-starter",title:"Arcgis React Template (React, Zustand, Vite, TypScript, ArcGIS JavaScript SDK & Calcite Design System)",tags:["ArcGIS","Web"],description:"Quickly bootstrap an ArcGIS React Application by using this Github template repo! Fun fun, I used it for this site!",date:"August 02 2025",content:()=>$.jsxs("div",{className:"flex flex-col p-2 bg-gray-50 flex-grow px-7 md:px-32",children:[$.jsx("div",{className:"border-b-2 border-orange-300 mb-10",children:$.jsx("p",{className:"select-none cursor-pointer self-center text-4xl pb-2 mt-6 md:mt-6 mb-3 hover:bg-orange-200 hover:p-1",children:"Getting Started Building an ArcGIS React App using arcgis-react-template"})}),$.jsx("div",{children:$.jsxs("div",{className:"flex flex-row flex-wrap justify-center h-max p-2 gap-5",children:[$.jsxs("p",{children:["I have started many new React projects using ArcGIS technologies like the Core ArcGIS JavaScript SDK. Every time it is a pain to bootstrap the project. You have to download X amount of packages, delete boilerplate, check the documentation on how to configure everything just right and what needs to be imported to make everything work well together. These days are long gone for me, and they can be for you too.",$.jsx("br",{}),$.jsx("br",{}),"Welcome to"," ",$.jsx("a",{href:"https://github.com/Samir-Sell/arcgis-react-template",className:"text-blue-500 hover:underline",children:"arcgis-react-template"}),'. It is a simple template repository I created to save time when starting a new project or prototyping. This template on GitHub will allow you to quickly bootstrap a project with many of the tools you would probably need / download anyways. You can either clone the repository or you can directly use this template as your own by clicking on "Use this template".']}),$.jsx("p",{children:"From here, you can name your repository and then pull it down and use npm install to install all the dependencies. You have everything you need to get started! The template uses Vite as a build tool and includes:"}),$.jsxs("ul",{className:"list-inside list-disc w-full pl-2",children:[$.jsx("li",{children:"ArcGIS JavaScript SDK"}),$.jsx("li",{children:"TypeScript"}),$.jsx("li",{children:"Calcite Design System"}),$.jsx("li",{children:"Zustand"}),$.jsx("li",{children:"TailwindCSS"})]}),$.jsxs("p",{children:[" ",'All of the actual "GIS" is handled by the ArcGIS JavaScript SDK. It does the heavy lifting when interacting with Esri systems. The Calcite Design System is a web component library developed and maintained by Esri. It can be used as much or as little as you desire. Some of my applications heavily rely on it and use what is called a "Calcite Shell" which wraps your application UI completely and uses slots. These slots can be filled with other Calcite components to populate your UI. This is explained very well in the Calcite Design System documentation online (Check out the template repo for the link).',$.jsx("br",{}),$.jsx("br",{}),"TypeScript is included since it is almost fully supported by the ArcGIS JavaScript SDK. In my opinion, it is too frustrating to use the SDK without TypeScript since it adds extremely useful type hints and helpful type declarations which come in handy when throwing around all of the complicated (and sometimes confusing) objects the SDK contains. The Calcite Design System is also written in TypeScript, which means it integrates easily into the tech stack.",$.jsx("br",{}),$.jsx("br",{}),"Zustand is my state manager of choice as it is simple and quick to set up while also being efficient. It is included in the template as a basic state manager and to avoid extensive prop drilling in React. I love using it, and it fully supports TypeScript, which makes it an easy choice for the ArcGIS JS SDK + TypeScript development kit.",$.jsx("br",{}),$.jsx("br",{}),"The final tool in this template is TailwindCSS. It is a collection of utility CSS classes that makes it extremely easy to manage your CSS all via class names in the HTML. It also happens to be fully compatible with the ArcGIS Calcite Design System, and TailwindCSS can be used to customize the look and feel of Calcite components.",$.jsx("br",{}),$.jsx("br",{}),"All in all, this tech stack can help you build modern-looking and feeling web GIS applications. It can be opinionated when using the Calcite Design System to its max or it can be very unopinionated when picking and choosing small pieces of the component library. The very website you're reading this on has been developed with this exact technology stack!",$.jsx("br",{}),$.jsx("br",{}),"TLDR: A collection of tools that work well together to develop an ArcGIS web app and have been configured to already work out of the box by using a GitHub Template repository.",$.jsx("br",{}),$.jsx("br",{}),"Checkout the template here:"," ",$.jsx("a",{href:"https://github.com/Samir-Sell/arcgis-react-template",className:"text-blue-500 hover:underline",children:"arcgis-react-template"})]})]})})]})},NPe=Object.freeze(Object.defineProperty({__proto__:null,default:Ate},Symbol.toStringTag,{value:"Module"}));function DPe(){const[t,e]=H.useState([]),[i,r]=H.useState(""),[s,n]=H.useState(null);window.scrollTo(0,0),H.useEffect(()=>{const m=Object.values(Object.assign({"../components/blogs/techBlogs/blogs/arcgis-js-sdk-starter/index.tsx":Ate})).sort((v,w)=>{const _=x=>x.date?new Date(x.date).getTime():0;return _(w)-_(v)});e(m)},[]);const o=H.useMemo(()=>{const c=new Set;return t.forEach(d=>{var m;return(m=d.tags)==null?void 0:m.forEach(v=>c.add(v))}),Array.from(c)},[t]),l=H.useMemo(()=>t.filter(c=>{var v;const d=c.title.toLowerCase().includes(i.toLowerCase())||c.description.toLowerCase().includes(i.toLowerCase()),m=!s||((v=c.tags)==null?void 0:v.includes(s));return d&&m}),[t,i,s]);return console.log(t),$.jsxs("section",{className:"max-w-6xl mx-auto px-4 py-15 text-center",children:[$.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-3 mb-8",children:[$.jsx("input",{type:"text",placeholder:"Search posts...",value:i,onChange:c=>r(c.target.value),className:"w-full sm:w-1/2 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400"}),$.jsxs("select",{value:s??"",onChange:c=>n(c.target.value||null),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400",children:[$.jsx("option",{value:"",children:"All Tags"}),o.map(c=>$.jsx("option",{value:c,children:c.charAt(0).toUpperCase()+c.slice(1)},c))]})]}),l.length===0?$.jsx("p",{className:"text-gray-400 italic",children:"No posts found"}):$.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:l.map(c=>{var d;return $.jsx("a",{href:`/#/tech-blog/${c.slug}`,className:"block bg-white rounded-2xl shadow-md hover:shadow-xl overflow-hidden transition-all cursor-pointer border border-gray-300",children:$.jsxs("div",{className:"p-5 text-left",children:[$.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:c.title}),$.jsx("p",{className:"text-gray-600 text-sm mb-1",children:c.description}),$.jsx("p",{className:"text-gray-500 text-xs",children:c.date}),$.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:(d=c.tags)==null?void 0:d.map(m=>$.jsx("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-0.5 rounded-full",children:m},m))})]})},c.slug)})})]})}const LPe=()=>{const{slug:t}=Jz(),[e,i]=H.useState();return H.useEffect(()=>{const r=Object.assign({"./blogs/arcgis-js-sdk-starter/index.tsx":()=>te(()=>Promise.resolve().then(()=>NPe),void 0)}),s=`./blogs/${t}/index.tsx`;console.log(r),r[s]&&r[s]().then(n=>i(n.default))},[t]),e!=null?$.jsx("div",{className:"flex flex-col font-mono min-h-screen overflow-x-hidden",children:$.jsxs("div",{className:"flex flex-col p-2 bg-gray-50 flex-grow px-7 md:px-32",children:[$.jsx("div",{className:"pb-4",children:e.content()}),$.jsx("div",{className:"pb-2"})]})}):$.jsx("p",{className:"p-10 text-center",children:"Loading..."})};function VPe(){return $.jsx(dne,{children:$.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-900",children:[$.jsx(Sne,{}),$.jsxs(Use,{children:[$.jsx(Hh,{path:"/",element:$.jsx(yce,{})}),$.jsx(Hh,{path:"/about",element:$.jsx(gce,{})}),$.jsx(Hh,{path:"/adventure-blog",element:$.jsx(zce,{})}),$.jsx(Hh,{path:"/adventure-blog/:slug",element:$.jsx(jPe,{})}),$.jsx(Hh,{path:"/tech-blog",element:$.jsx(DPe,{})}),$.jsx(Hh,{path:"/tech-blog/:slug",element:$.jsx(LPe,{})})]})]})})}Bre.createRoot(document.getElementById("root")).render($.jsx(VPe,{}));export{bn as $,f as A,ke as B,Fa as C,Se as D,$i as E,Jc as F,axe as G,Nw as H,Rr as I,Co as J,cxe as K,mz as L,le as M,kSe as N,ge as O,D4e as P,m9e as Q,hxe as R,Ii as S,vr as T,I as U,nr as V,y9e as W,WBe as X,qe as Y,Oa as Z,te as _,NBe as a,hBe as a$,Bt as a0,ze as a1,x6 as a2,Gt as a3,lo as a4,F6 as a5,Lo as a6,ah as a7,Hi as a8,Re as a9,qY as aA,wqe as aB,iRe as aC,GY as aD,Lm as aE,HY as aF,BY as aG,TB as aH,_Le as aI,G7 as aJ,l7e as aK,Cve as aL,Wm as aM,Yy as aN,X1 as aO,Dt as aP,ao as aQ,YC as aR,$t as aS,ug as aT,Xr as aU,_i as aV,vFe as aW,yFe as aX,gFe as aY,Tw as aZ,Qt as a_,BF as aa,qh as ab,Bh as ac,dB as ad,fB as ae,mB as af,q as ag,tje as ah,YPe as ai,wje as aj,Xqe as ak,she as al,uBe as am,QVe as an,iFe as ao,tFe as ap,YVe as aq,_x as ar,xVe as as,AVe as at,kVe as au,BT as av,Ne as aw,Eg as ax,nje as ay,hB as az,B as b,qNe as b$,Ky as b0,DQ as b1,xB as b2,$0e as b3,PDe as b4,hZ as b5,vs as b6,L1 as b7,J_ as b8,I8e as b9,Ql as bA,QTe as bB,Bs as bC,mje as bD,Vje as bE,cg as bF,h1 as bG,Kf as bH,$w as bI,je as bJ,VNe as bK,FNe as bL,f9e as bM,$ye as bN,hLe as bO,cLe as bP,HNe as bQ,CNe as bR,VH as bS,jy as bT,RVe as bU,PVe as bV,IVe as bW,u3e as bX,l3e as bY,zNe as bZ,BNe as b_,xQ as ba,Us as bb,Id as bc,awe as bd,og as be,Fje as bf,dee as bg,Sp as bh,Qx as bi,dLe as bj,bR as bk,Ie as bl,ns as bm,ODe as bn,C8 as bo,Cr as bp,ybe as bq,at as br,UC as bs,Cw as bt,YW as bu,VTe as bv,YTe as bw,Qi as bx,be as by,e3e as bz,HBe as c,p5 as c$,UNe as c0,LH as c1,mye as c2,yye as c3,Hc as c4,pr as c5,$4e as c6,xe as c7,$5e as c8,tve as c9,Og as cA,MR as cB,xY as cC,dg as cD,Jd as cE,ti as cF,yp as cG,oQ as cH,TNe as cI,dT as cJ,qme as cK,Sn as cL,Kce as cM,aDe as cN,Ye as cO,kw as cP,ho as cQ,zf as cR,li as cS,yZ as cT,cS as cU,I2 as cV,E0e as cW,Oe as cX,yee as cY,Yk as cZ,mRe as c_,rve as ca,ive as cb,sve as cc,qDe as cd,BDe as ce,_n as cf,V_e as cg,_e as ch,ic as ci,$e as cj,LT as ck,YFe as cl,qc as cm,Mye as cn,HL as co,XA as cp,n7 as cq,Y$e as cr,BSe as cs,CDe as ct,kDe as cu,_1 as cv,LCe as cw,VUe as cx,Ke as cy,zUe as cz,fX as d,LOe as d$,dt as d0,Lw as d1,T4 as d2,j8e as d3,BLe as d4,c7e as d5,pFe as d6,gg as d7,Da as d8,WY as d9,JOe as dA,Wbe as dB,BPe as dC,GPe as dD,D3e as dE,b3e as dF,ws as dG,iee as dH,C3e as dI,Sg as dJ,vke as dK,qk as dL,BK as dM,E3e as dN,GK as dO,qK as dP,L3e as dQ,R3e as dR,v3e as dS,_3e as dT,Op as dU,MT as dV,ta as dW,Bw as dX,sw as dY,NOe as dZ,tee as d_,lNe as da,j7e as db,Le as dc,Qr as dd,Go as de,qr as df,wr as dg,zB as dh,GE as di,GCe as dj,uB as dk,dSe as dl,SMe as dm,Kt as dn,_l as dp,Sk as dq,oR as dr,Tje as ds,Kr as dt,j1 as du,xje as dv,YDe as dw,YQ as dx,rh as dy,ZQ as dz,G as e,Dje as e$,XQ as e0,eee as e1,z0e as e2,BR as e3,GR as e4,F0e as e5,ST as e6,xT as e7,L0e as e8,cFe as e9,TT as eA,XOe as eB,cNe as eC,Yce as eD,EDe as eE,HPe as eF,Vge as eG,ap as eH,NR as eI,o6 as eJ,W3e as eK,$J as eL,f6 as eM,nh as eN,ike as eO,i2e as eP,DOe as eQ,QQ as eR,dke as eS,rDe as eT,Kx as eU,Xx as eV,qB as eW,Vze as eX,M4e as eY,i5e as eZ,Tg as e_,S7 as ea,uFe as eb,Dbe as ec,npe as ed,a7e as ee,p8e as ef,XNe as eg,yB as eh,cke as ei,bW as ej,xZ as ek,F_e as el,sye as em,ENe as en,wLe as eo,vLe as ep,gLe as eq,CT as er,yR as es,gye as et,kNe as eu,fn as ev,ONe as ew,DH as ex,nDe as ey,eo as ez,er as f,pu as f$,JC as f0,Jx as f1,Ybe as f2,h2e as f3,$2e as f4,Xbe as f5,Qbe as f6,e_e as f7,_W as f8,c2e as f9,$Me as fA,KC as fB,I7e as fC,bZ as fD,$Z as fE,gX as fF,JH as fG,ot as fH,kr as fI,B1 as fJ,Ot as fK,LDe as fL,DDe as fM,Kee as fN,Xee as fO,CBe as fP,PBe as fQ,fNe as fR,dNe as fS,yVe as fT,Mw as fU,tr as fV,pNe as fW,bVe as fX,bm as fY,Kc as fZ,mNe as f_,lke as fa,$$e as fb,yMe as fc,NW as fd,pSe as fe,HSe as ff,qOe as fg,BOe as fh,pke as fi,Ns as fj,_Me as fk,WSe as fl,GSe as fm,Pi as fn,Mi as fo,ir as fp,ls as fq,pn as fr,Ep as fs,za as ft,l9e as fu,o5e as fv,zS as fw,Kl as fx,lp as fy,Gs as fz,uxe as g,_J as g$,Gd as g0,KLe as g1,d7e as g2,Uc as g3,TFe as g4,xFe as g5,fMe as g6,pMe as g7,g8,p9e as g9,MDe as gA,VBe as gB,Hhe as gC,Whe as gD,HE as gE,KVe as gF,D7e as gG,j2 as gH,uk as gI,wm as gJ,$T as gK,N8e as gL,Ap as gM,j4e as gN,V8e as gO,D8e as gP,P8e as gQ,J1e as gR,H8e as gS,owe as gT,e4 as gU,bi as gV,hqe as gW,n7e as gX,WLe as gY,s8e as gZ,ds as g_,dMe as ga,ou as gb,mhe as gc,W1 as gd,ci as ge,GZ as gf,Hr as gg,uo as gh,L8e as gi,qy as gj,a8e as gk,S5 as gl,T8e as gm,OT as gn,e6 as go,t6 as gp,x8e as gq,R8e as gr,WT as gs,e1e as gt,u4e as gu,rX as gv,K6 as gw,P7e as gx,ake as gy,gDe as gz,r0e as h,_s as h$,M7e as h0,mn as h1,o9e as h2,Kbe as h3,x5 as h4,F7e as h5,Rve as h6,xp as h7,VL as h8,RSe as h9,hi as hA,sDe as hB,Y_e as hC,TJ as hD,r_e as hE,ZOe as hF,MJ as hG,GDe as hH,N0e as hI,P$e as hJ,e2e as hK,I$e as hL,IT as hM,ZPe as hN,y2 as hO,aje as hP,ske as hQ,WOe as hR,P3e as hS,rJ as hT,GLe as hU,mR as hV,k4e as hW,T5e as hX,S5e as hY,b5e as hZ,L5 as h_,sg as ha,lg as hb,rr as hc,Od as hd,W7e as he,WDe as hf,ove as hg,H0e as hh,RZ as hi,Bge as hj,nTe as hk,P9e as hl,O9e as hm,o1 as hn,Bl as ho,sTe as hp,j9e as hq,N9e as hr,A1e as hs,oDe as ht,g1e as hu,rke as hv,e8e as hw,r7 as hx,_Z as hy,SZ as hz,ABe as i,ide as i$,E5e as i0,Wce as i1,ADe as i2,oZ as i3,Z3e as i4,oMe as i5,xDe as i6,_g as i7,nVe as i8,BB as i9,rIe as iA,MBe as iB,wBe as iC,vBe as iD,nIe as iE,qv as iF,TBe as iG,aRe as iH,Gqe as iI,mee as iJ,Kqe as iK,Fx as iL,Yqe as iM,T1 as iN,Jqe as iO,vS as iP,zqe as iQ,zze as iR,KZ as iS,Y1 as iT,n4 as iU,b1e as iV,eY as iW,ZO as iX,eDe as iY,xqe as iZ,bje as i_,bs as ia,th as ib,cX as ic,dwe as id,Pm as ie,Gge as ig,Va as ih,Jo as ii,_Ve as ij,UBe as ik,LLe as il,DLe as im,s_e as io,bY as ip,Qve as iq,u9 as ir,rxe as is,Z1 as it,zy as iu,Ut as iv,Jee as iw,k6e as ix,C6e as iy,$Be as iz,se as j,ELe as j$,lS as j0,A as j1,PV as j2,wg as j3,K1 as j4,Awe as j5,fs as j6,iNe as j7,aPe as j8,np as j9,M1e as jA,eX as jB,D0e as jC,UOe as jD,JQ as jE,FLe as jF,VLe as jG,Fr as jH,JR as jI,t4 as jJ,YR as jK,Et as jL,r8e as jM,f8e as jN,h7 as jO,dhe as jP,sX as jQ,fDe as jR,Wi as jS,RDe as jT,UX as jU,wpe as jV,qBe as jW,dc as jX,L1e as jY,T9e as jZ,RLe as j_,CR as ja,Xge as jb,i8e as jc,rMe as jd,gr as je,XZ as jf,w1e as jg,Nm as jh,UPe as ji,CQ as jj,XR as jk,nve as jl,B0e as jm,La as jn,S4e as jo,Y6 as jp,uwe as jq,q8e as jr,qS as js,GT as jt,z1e as ju,Jbe as jv,Zbe as jw,zOe as jx,gke as jy,wke as jz,bg as k,mK as k$,ba as k0,uje as k1,cje as k2,lje as k3,Nge as k4,Mp as k5,FJ as k6,V2e as k7,F2e as k8,fG as k9,up as kA,wT as kB,Ta as kC,oT as kD,h6 as kE,yje as kF,m6 as kG,HLe as kH,qLe as kI,Z8e as kJ,xSe as kK,x$e as kL,PSe as kM,O$e as kN,EMe as kO,TL as kP,IMe as kQ,OH as kR,AMe as kS,kMe as kT,qt as kU,DT as kV,NT as kW,n$e as kX,qw as kY,qSe as kZ,Sx as k_,sqe as ka,rqe as kb,iqe as kc,tqe as kd,oqe as ke,nqe as kf,eqe as kg,QUe as kh,_1e as ki,k8 as kj,XUe as kk,ZR as kl,$ve as km,ige as kn,BC as ko,hje as kp,GC as kq,dje as kr,Hw as ks,jm as kt,o4e as ku,o0e as kv,Qqe as kw,Dw as kx,a6 as ky,Mbe as kz,hp as l,uTe as l$,n9e as l0,s9e as l1,vTe as l2,i9e as l3,Yhe as l4,zje as l5,lOe as l6,uOe as l7,_K as l8,KQ as l9,c8e as lA,o8e as lB,Sd as lC,Tde as lD,gx as lE,YSe as lF,U9e as lG,mTe as lH,X9e as lI,LW as lJ,GW as lK,ut as lL,hg as lM,Oi as lN,Nt as lO,yn as lP,Q9e as lQ,cTe as lR,uK as lS,M6 as lT,vx as lU,USe as lV,aVe as lW,F9e as lX,z9e as lY,B9e as lZ,G9e as l_,KNe as la,a4e as lb,Fqe as lc,Sve as ld,Ove as le,Iw as lf,t8e as lg,JDe as lh,KDe as li,ji as lj,V9e as lk,O9 as ll,lVe as lm,yTe as ln,eVe as lo,tVe as lp,iVe as lq,_De as lr,Yge as ls,QSe as lt,QC as lu,Zje as lv,Wje as lw,vSe as lx,lde as ly,ade as lz,OSe as m,F1 as m$,H9e as m0,W9e as m1,Z9e as m2,Y9e as m3,J9e as m4,K9e as m5,$r as m6,NDe as m7,kg as m8,Yw as m9,Y8e as mA,gze as mB,Hd as mC,cBe as mD,QPe as mE,jve as mF,qF as mG,pwe as mH,hwe as mI,Vx as mJ,LZ as mK,fqe as mL,dqe as mM,pqe as mN,tRe as mO,M9e as mP,E9e as mQ,$9e as mR,ea as mS,Gc as mT,h6e as mU,w6e as mV,nhe as mW,vDe as mX,DW as mY,vT as mZ,$De as m_,sr as ma,wp as mb,ZBe as mc,Zs as md,Hje as me,Zf as mf,c9e as mg,rY as mh,iY as mi,H1e as mj,L2 as mk,wY as ml,y8e as mm,i6 as mn,qf as mo,J8e as mp,K8e as mq,X8e as mr,O8e as ms,E8e as mt,S8e as mu,f1e as mv,M8e as mw,B1e as mx,bLe as my,U8e as mz,rt as n,fTe as n$,OAe as n0,yY as n1,G8e as n2,gbe as n3,Q5 as n4,Sw as n5,IDe as n6,BE as n7,hSe as n8,wx as n9,Wye as nA,mT as nB,M2 as nC,Jye as nD,SR as nE,iye as nF,q9e as nG,rVe as nH,d6 as nI,ZSe as nJ,BBe as nK,lv as nL,ps as nM,Nl as nN,vc as nO,qi as nP,$_e as nQ,fOe as nR,fje as nS,r2e as nT,t_e as nU,Z_e as nV,J_e as nW,YUe as nX,eu as nY,g1 as nZ,gNe as n_,ET as na,BFe as nb,qFe as nc,BZ as nd,UZ as ne,Wve as nf,Yve as ng,hNe as nh,$a as ni,jc as nj,ERe as nk,ORe as nl,kRe as nm,aB as nn,SFe as no,tR as np,Gf as nq,Ki as nr,CFe as ns,M$e as nt,vVe as nu,D9e as nv,nOe as nw,cqe as nx,jwe as ny,mG as nz,Ly as o,Iqe as o$,oX as o0,c1 as o1,Ic as o2,ew as o3,TMe as o4,pB as o5,yDe as o6,WW as o7,TZ as o8,qL as o9,l2e as oA,l_e as oB,O6 as oC,_xe as oD,vR as oE,jDe as oF,N6 as oG,Af as oH,ehe as oI,l4 as oJ,qqe as oK,XRe as oL,Bqe as oM,Uqe as oN,pee as oO,oI as oP,Qxe as oQ,k9e as oR,hs as oS,S1e as oT,H0 as oU,YNe as oV,JCe as oW,xG as oX,yNe as oY,xTe as oZ,OVe as o_,tZ as oa,QRe as ob,dVe as oc,$p as od,Ca as oe,qTe as of,lDe as og,QZ as oh,tDe as oi,ER as oj,QW as ok,wDe as ol,fk as om,dge as on,qPe as oo,YX as op,r4 as oq,_ze as or,bze as os,l4e as ot,ULe as ou,zLe as ov,PR as ow,d2e as ox,u2e as oy,YOe as oz,Rw as p,yr as p$,SVe as p0,Tqe as p1,z9 as p2,t9e as p3,UMe as p4,JY as p5,r9e as p6,vbe as p7,zl as p8,Gy as p9,QR as pA,VZ as pB,Pw as pC,vQ as pD,Ww as pE,Mg as pF,Yt as pG,gxe as pH,yxe as pI,yt as pJ,mc as pK,Nxe as pL,oK as pM,Uo as pN,Vl as pO,qo as pP,vze as pQ,bE as pR,sLe as pS,px as pT,vn as pU,hke as pV,i1e as pW,hx as pX,HDe as pY,Fve as pZ,rLe as p_,cSe as pa,TSe as pb,$Se as pc,ISe as pd,h$e as pe,A$e as pf,E7e as pg,A7e as ph,O7e as pi,Ho as pj,kd as pk,Mc as pl,_R as pm,Lje as pn,sje as po,kQ as pp,XVe as pq,jqe as pr,Pqe as ps,WUe as pt,ZUe as pu,Qje as pv,bQ as pw,jQ as px,Jy as py,ka as pz,bDe as q,qs as q$,mr as q0,Y3e as q1,p7e as q2,y7e as q3,h7e as q4,J3e as q5,rde as q6,$je as q7,sh as q8,PZ as q9,FCe as qA,cwe as qB,ije as qC,XPe as qD,bB as qE,UDe as qF,zDe as qG,NFe as qH,MB as qI,MAe as qJ,h4e as qK,wQ as qL,xee as qM,pje as qN,Oqe as qO,kqe as qP,Cqe as qQ,Rqe as qR,yqe as qS,vqe as qT,gqe as qU,ARe as qV,Bc as qW,L_e as qX,CW as qY,uge as qZ,Ss as q_,n4e as qa,r1e as qb,s1e as qc,D2 as qd,B8e as qe,KB as qf,Bve as qg,Gve as qh,XIe as qi,Ws as qj,QT as qk,ROe as ql,Uje as qm,OQ as qn,RQ as qo,U4e as qp,qze as qq,K4e as qr,Bze as qs,y5e as qt,u9e as qu,ZDe as qv,Xl as qw,cs as qx,d9e as qy,_je as qz,N7e as r,EVe as r$,R8 as r0,k0e as r1,pLe as r2,wze as r3,FDe as r4,VDe as r5,eve as r6,y6e as r7,sde as r8,g6e as r9,W8e as rA,g7e as rB,sOe as rC,jVe as rD,eFe as rE,NVe as rF,JVe as rG,to as rH,nFe as rI,l8e as rJ,mqe as rK,GVe as rL,BVe as rM,WVe as rN,ZVe as rO,q9 as rP,B9 as rQ,G9 as rR,qVe as rS,UVe as rT,Yn as rU,$qe as rV,XDe as rW,Ade as rX,rFe as rY,sFe as rZ,DVe as r_,d6e as ra,MLe as rb,jT as rc,lFe as rd,HUe as re,ld as rf,V7e as rg,Mpe as rh,uNe as ri,sVe as rj,Ewe as rk,MNe as rl,wNe as rm,SNe as rn,bNe as ro,xNe as rp,_Ne as rq,$Ne as rr,aBe as rs,oVe as rt,b8 as ru,vNe as rv,swe as rw,zVe as rx,F8e as ry,mwe as rz,FBe as s,AR as s$,HVe as s0,VVe as s1,d3e as s2,LVe as s3,YO as s4,Sqe as s5,h3e as s6,f3e as s7,_qe as s8,CVe as s9,ZB as sA,x1 as sB,Kje as sC,g2e as sD,aLe as sE,r3e as sF,h8e as sG,Zwe as sH,UF as sI,Xce as sJ,KPe as sK,JPe as sL,U1e as sM,Aye as sN,_Be as sO,SBe as sP,Ec as sQ,oge as sR,bBe as sS,z1 as sT,q1 as sU,Dy as sV,kye as sW,gje as sX,exe as sY,fge as sZ,mge as s_,pRe as sa,bqe as sb,JUe as sc,KUe as sd,Mqe as se,Eqe as sf,Nqe as sg,Dqe as sh,aqe as si,Lqe as sj,Vqe as sk,eRe as sl,sRe as sm,jee as sn,Iy as so,Aqe as sp,BCe as sq,SDe as sr,x1e as ss,D$e as st,l1e as su,d8e as sv,$ze as sw,v2e as sx,qZ as sy,QY as sz,ae as t,Vw as t$,hte as t0,mPe as t1,Wqe as t2,Zqe as t3,QNe as t4,Hqe as t5,lBe as t6,nBe as t7,oBe as t8,sBe as t9,f2e as tA,M2e as tB,UK as tC,ALe as tD,r4e as tE,n2e as tF,Uze as tG,DBe as tH,Fze as tI,GBe as tJ,Qc as tK,zBe as tL,LBe as tM,fVe as tN,y1e as tO,g8e as tP,b8e as tQ,k8e as tR,v8e as tS,_8e as tT,C8e as tU,G1e as tV,mVe as tW,gVe as tX,H3e as tY,aMe as tZ,z8e as t_,rBe as ta,$Re as tb,See as tc,uqe as td,lqe as te,SRe as tf,GUe as tg,$8e as th,Ul as ti,s4 as tj,m8e as tk,gs as tl,rhe as tm,yke as tn,eje as to,r7e as tp,s7e as tq,E1e as tr,A2e as ts,E2e as tt,XY as tu,WK as tv,Ope as tw,Q_e as tx,K_e as ty,X_e as tz,Fye as u,Fw as u0,zw as u1,H7e as u2,BAe as u3,Rze as u4,jxe as u5,Tf as u6,Yxe as u7,u7e as u8,JLe as u9,JNe as uA,ILe as uB,YLe as uC,iDe as uD,Kve as uE,n_e as uF,YH as uG,IY as uH,CLe as uI,t7e as uJ,kLe as uK,OLe as uL,u8e as uM,L6 as uN,Sje as uO,i7e as uP,t2e as uQ,i_e as uR,p2e as uS,S9e as uT,L9e as uU,wFe as uV,_Fe as uW,IFe as uX,dBe as uY,e7e as ua,XLe as ub,vje as uc,S7e as ud,_7e as ue,oje as uf,ZLe as ug,n8e as uh,o7e as ui,KEe as uj,mOe as uk,UQ as ul,Xje as um,j_ as un,hV as uo,Q8e as up,Vo as uq,A9e as ur,Or as us,HO as ut,Ize as uu,QLe as uv,G_e as uw,MVe as ux,xm as uy,o_e as uz,ANe as v,h9e as w,kBe as x,ct as y,h as z};
